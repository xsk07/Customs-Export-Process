var _$$Class$extend,_$$Class$extend;function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! jQuery Timepicker Addon - v1.4 - 2013-08-11
                                                                                                                                                                                                                                                                                                                                                                               * http://trentrichardson.com/examples/timepicker
                                                                                                                                                                                                                                                                                                                                                                               * Copyright (c) 2013 Trent Richardson; Licensed MIT */if(bizagi.workportal=void 0!==bizagi.workportal?bizagi.workportal:{},bizagi.workportal.services=void 0!==bizagi.workportal.services?bizagi.workportal.services:{},bizagi.workportal.services.endPoints=[],bizagi.workportal.services.getEndPoints=function(e){return"workportal"==e.context?(bizagi="undefined"!=typeof bizagi?bizagi:{},bizagi.localization=void 0!==bizagi.localization?bizagi.localization:{},bizagi.localization.language=void 0!==bizagi.localization.language?bizagi.localization.language:bizagi.language,{"user-handler":e.proxyPrefix+"RestServices/UserHandler.ashx","process-handler":e.proxyPrefix+"RestServices/ProcessHandler.ashx","query-handler":e.proxyPrefix+"Rest/Handlers/Query","case-handler":e.proxyPrefix+"RestServices/CaseHandler.ashx","query-form":e.proxyPrefix+"App/ListaDetalle/QueryForm.aspx","query-form-edit":e.proxyPrefix+"App/ListaDetalle/SaveQuery.aspx","query-form-delete":e.proxyPrefix+"App/ListaDetalle/QueryForm.aspx","query-form-delete-cube":e.proxyPrefix+"Rest/Queries/Cubes/{idCube}","favorites-handler":e.proxyPrefix+"RestServices/FavoritesHandler.ashx","file-handler":e.proxyPrefix+"RestServices/EntityHandler.ashx","login-handler":e.proxyPrefix+"Rest/Users/UserAuthentication","login-handlerv10":e.proxyPrefix+"RestServices/UserHandler.ashx?action=authenticateUser&userName={0}&password={1}&domain={2}","logoff-handler":e.proxyPrefix+"RestServices/UserHandler.ashx?action=logOff","logoff-handlerv1":e.proxyPrefix+"Rest/Users/LogOff",overrides:e.proxyPrefix+"Rest/Util/Overrides","authorization-handler-getMenuAuthorization":e.proxyPrefix+"Rest/Authorization/MenuAuthorization","authorization-handler-isCaseCreationAuthorized":e.proxyPrefix+"Rest/Authorization/Processes/{0}/IsCaseCreationAuthorized","case-handler-getCaseSummary":e.proxyPrefix+"Rest/Cases/{idCase}/SummaryGuid","case-handler-getCaseSummaryByGuid":e.proxyPrefix+"Rest/Cases/{guid}/SummaryByGuid","show-upcoming-maintenance-window":e.proxyPrefix+"Rest/MaintenanceWindow/ShowUpcoming","case-handler-releaseActivity":e.proxyPrefix+"Rest/Cases/{idCase}/ReleaseActivity","case-handler-takeOwnershipActivity":e.proxyPrefix+"Rest/Cases/TakeOwnership","case-handler-taskOptions":e.proxyPrefix+"Rest/Cases/{idCase}/WorkItems/{idWorkitem}/TaskOptions","case-handler-getCasesList":e.proxyPrefix+"Rest/Processes/GetCases","offline-getProcessTree":e.proxyPrefix+"Rest/Processes/OfflineProcessTree","offline-getForms":e.proxyPrefix+"Rest/RenderForm/offlineForms","offline-sendForm":e.proxyPrefix+"Rest/Cases/SaveAsynchWorkItemOffLine","case-handler-getCaseTasks":e.proxyPrefix+"Rest/Cases/{idCase}/Tasks","case-handler-getCaseEvents":e.proxyPrefix+"Rest/Cases/{idCase}/Events","case-handler-getCaseSubprocesses":e.proxyPrefix+"Rest/Cases/{idCase}/Subprocesses","case-handler-getTaskAssignees":e.proxyPrefix+"Rest/Cases/{idCase}/Tasks/{idTask}/AssigneesGuid","case-handler-getCaseAssignees":e.proxyPrefix+"Rest/Cases/{idCase}/AssigneesGuid","case-handler-getCaseAssigneesPreview":e.proxyPrefix+"Rest/Cases/{idCase}/AssigneesPreview","case-handler-getWorkItems":e.proxyPrefix+"Rest/Cases/{idCase}/WorkItems","case-handler-getWorkItemsByGuid":e.proxyPrefix+"Rest/Cases/{guid}/WorkItemsByGuid","case-handler-getAsynchExecutionState":e.proxyPrefix+"Rest/Cases/{idCase}/AsynchExecutionState","case-handler-addNewCase":e.proxyPrefix+"Rest/Cases","case-handler-startProcess":e.proxyPrefix+"Rest/Processes/StartProcess/{idProcess}","case-handler-supportedLogTypes":e.proxyPrefix+"Rest/Cases/SupportedLogsTypes","case-handler-getActivityLog":e.proxyPrefix+"Rest/Cases/{idCase}/ActivityLog","case-handler-getActivityDetailLog":e.proxyPrefix+"Rest/Cases/{idCase}/Workitem/{idWorkItemFrom}/ActivityDetailLog","case-handler-getEntityLog":e.proxyPrefix+"Rest/Cases/{idCase}/EntityLog","case-handler-getEntityDetailLog":e.proxyPrefix+"Rest/Cases/{idCase}/EntityDetailLog","case-handler-getUserLog":e.proxyPrefix+"Rest/Cases/{idCase}/UserLog","case-handler-getUserDetailLog":e.proxyPrefix+"Rest/Cases/{idCase}/{idUser}/UserDetailLog","case-handler-getAdminLog":e.proxyPrefix+"Rest/Cases/{idCase}/AdminLog","case-handler-getCaseFormsRenderVersion":e.proxyPrefix+"Rest/Cases/{idCase}/FormsRenderVersion","case-handler-getCaseFormsRenderVersionByGuid":e.proxyPrefix+"Rest/Cases/{guid}/FormsRenderVersionByGuid","case-handler-cancelCase":e.proxyPrefix+"Rest/Cases/AbortFromActivity","favorites-handler-saveFavorite":e.proxyPrefix+"Rest/Favorites","favorites-handler-deleteFavorite":e.proxyPrefix+"Rest/Favorites/{guidFavorite}","bamAnalytics-handler-getAnalisysQueries":e.proxyPrefix+"Rest/BAMAnalytics/AnalisysQueries","bamAnalytics-handler-updateQuery":e.proxyPrefix+"Rest/BAMAnalytics/Reports/Ids/{idQuery}","inbox-handler-getInboxSummary":e.proxyPrefix+"Rest/Inbox/Summary","inbox-handler-getFullInboxSummary":e.proxyPrefix+"Rest/Inbox/FullSummary","MessageHandler-NewComment":e.proxyPrefix+"Rest/Cases/Comments","MessageHandler-GetComments":e.proxyPrefix+"Rest/Cases/Comments","MessageHandler-SetCategoryToComment":e.proxyPrefix+"Rest/Cases/Comments/{idComment}","MessageHandler-RemoveComment":e.proxyPrefix+"Rest/Cases/Comments/{idComment}","MessageHandler-ReplyComment":e.proxyPrefix+"Rest/Cases/Comments/{idComment}/Replies","MessageHandler-RemoveReply":e.proxyPrefix+"Rest/Cases/Comments/{idComment}/Replies/{idReply}","MessageHandler-GetCategoryColors":e.proxyPrefix+"Rest/Cases/Comments/CategoryColors","MessageHandler-RenameCategoryColor":e.proxyPrefix+"Rest/Cases/Comments/CategoryColors/{idColorCategory}","MessageHandler-CountNewComments":e.proxyPrefix+"Rest/Cases/Comments/{idComment}/NewComments/Count","process-handler-getAllProcesses":e.proxyPrefix+"Rest/Processes","process-handler-getFavourites":e.proxyPrefix+"Rest/Home/MyFavorites/Count","process-handler-getMyStuff":e.proxyPrefix+"Rest/Home/MyStuff","process-handler-getFavouriteCases":e.proxyPrefix+"Rest/Home/MyFavorites","process-handler-getActions":e.proxyPrefix+"Rest/Home/Actions","process-handler-getCustomizedColumnsData":e.proxyPrefix+"Rest/Processes/CustomizedColumnsData","process-handler-getCategory":e.proxyPrefix+"Rest/Processes/Categories","process-handler-getRecentProcesses":e.proxyPrefix+"Rest/Processes/RecentProcesses","process-handler-getCustomizedColumnsDataInfo":e.proxyPrefix+"Rest/Processes/CustomizedColumnsDataInfo","process-handler-getOrganizations":e.proxyPrefix+"Rest/Profile/Organizations","process-handler-getOrganizations-ForAdminUsers":e.proxyPrefix+"Rest/Profile/OrganizationsForAdminUsers","process-handler-getOrganizationsForReassignCases":e.proxyPrefix+"Rest/Profile/OrganizationsForReassignCases","process-handler-getOrganizationsByUser":e.proxyPrefix+"Rest/Profile/OrganizationsByUser","process-handler-getActivitiesData":e.proxyPrefix+"Api/Processes/CasesData/MyActivities","process-handler-getPendingsData":e.proxyPrefix+"Api/Processes/CasesData/MyPendings","process-handler-getUsersCases":e.proxyPrefix+"Api/Cases/{caseId}/UsersGuid","process-handler-getActionsEvents":e.proxyPrefix+"Api/Cases/{caseId}/CurrentEvents","query-handler-getqueries":e.proxyPrefix+"Rest/Queries","query-handler-getqueries-definitions":e.proxyPrefix+"Rest/Queries/Definitions","query-handler-getQueryFormResponse":e.proxyPrefix+"Rest/Queries/Search","query-handler-getQueryFormExportExcel":e.proxyPrefix+"Rest/Queries/ExportToExcel","query-handler-getQueryForm":e.proxyPrefix+"Rest/Handlers/Render","query-handler-storedQueryForm":e.proxyPrefix+"Rest/StoredQueryForms","query-handler-storedQueryForm-id":e.proxyPrefix+"Rest/StoredQueryForms/{idStoredQueryForm}",ping:e.proxyPrefix+"Api/Ping","preferences-handler-getPreferencesForm":e.proxyPrefix+"Rest/Handlers/Render","user-handler-getCurrentUser":e.proxyPrefix+"Rest/Users/CurrentUserGuid","old-render":e.proxyPrefix+"App/ListaDetalle/Detalle.aspx",Reports:e.proxyPrefix+"RestServices/BAMAnalyticsHandler.ashx","reports-handler-deleteQueries":e.proxyPrefix+"Rest/BAMAnalytics/Reports/{QueryId}","folders-handler-getUserQueries":e.proxyPrefix+"Rest/SmartFolders","folders-associate-deleteSmartFolder":e.proxyPrefix+"Rest/SmartFolders/{idSmartFolder}","folders-handler":e.proxyPrefix+"RestServices/SmartFoldersHandler.ashx","folders-associate":e.proxyPrefix+"App/Ajax/AJAXGateway.aspx","smartfolders-integration":e.proxyPrefix+"App/WorkPortal/ConfigureFilteredFolder.aspx",AlarmAdmin:e.proxyPrefix+"App/Admin/AlarmsAdmin.aspx",AnalyticsProcess:e.proxyPrefix+"App/Cockpit/AnalyticsProcess.aspx",AnalyticsSensor:e.proxyPrefix+"App/Cockpit/AnalyticsSensor.aspx",AnalyticsTask:e.proxyPrefix+"App/Cockpit/AnalyticsTask.aspx",AsynchronousWorkitemRetries:e.proxyPrefix+"App/Admin/AsynchDisabledWorkitems.aspx",AuthenticationLogQuery:e.proxyPrefix+"App/Admin/AuthLogQuery.aspx",BAMProcess:e.proxyPrefix+"App/Cockpit/BAMProcess.aspx",BAMTask:e.proxyPrefix+"App/Cockpit/BAMTask.aspx",BusinessPolicies:e.proxyPrefix+"App/Admin/BusinessPolicies/BusinessPoliciesSelector.aspx",CaseAdmin:e.proxyPrefix+"App/Admin/CaseSearch.aspx",adminReassignCases:"CaseAdmin",asyncECMUpload:"asyncECMUpload",CasesMonitor:e.proxyPrefix+"App/Admin/CasesMonitor.aspx",Closed:e.proxyPrefix+"App/ListaDetalle/listaitems.aspx?h_Location=Cerrados&I_ProcessState=Completed",CurrentUser:e.proxyPrefix+"App/Admin/CurrentUser.aspx",EncryptionAdmin:e.proxyPrefix+"App/Admin/Encrypt.aspx",MobileUpdatesAdmin:e.proxyPrefix+"App/MobileUpdates/default.aspx",EntityAdmin:e.proxyPrefix+"App/Admin/Entity.aspx",LocationResources:e.proxyPrefix+"App/Admin/AdminLocResources.aspx",NewCase:e.proxyPrefix+"App/Radicar/application.aspx",Pending:e.proxyPrefix+"App/ListaDetalle/listaitems.aspx?h_Location=Pendientes&I_processState=Running",Profiles:e.proxyPrefix+"App/Admin/ProfilesAdminSearch.aspx",Search:e.proxyPrefix+"App/ListaDetalle/Search.aspx",UserAdmin:e.proxyPrefix+"App/Admin/ListUsers.aspx",UserDefaultAssignation:e.proxyPrefix+"App/Admin/DefaultAssignationUser.aspx?h_AdminDefaultAssign=1",UserPendingRequests:e.proxyPrefix+"App/Admin/UserPendingRequests.aspx",ListPreferences:""!=bizagi.UserPreferencesUrl?e.proxyPrefix+bizagi.UserPreferencesUrl:e.proxyPrefix+"App/Admin/CurrentUser.aspx",GRDimensionAdmin:e.proxyPrefix+"App/Cockpit/DimensionEdit.aspx",Licenses:e.proxyPrefix+"App/Admin/Licenses.aspx",AnalysisQueries:e.proxyPrefix+"App/Inicio/WPAnalysisQuery.aspx",DocumentTemplates:e.proxyPrefix+"App/Admin/AdminDocumentTemplates.aspx",ProcessAdmin:e.proxyPrefix+"App/Admin/AdminProcess.aspx",ResourceBAM:e.proxyPrefix+"App/Cockpit/BAMResourceMonitor.aspx",WorkPortalVersion:e.proxyPrefix+"Rest/Util/Version",PreferencesWorkportalCurrentUser:e.proxyPrefix+"Api/Users/Data/WindowPreferences",PreferenceFormOld:e.proxyPrefix+"App/Admin/CurrentUserByForm.aspx","entities-administration":"RestServices/EntityHandler.ashx",logout:e.proxyPrefix+"Rest/Authentication/logout",logoutDotNet:e.proxyPrefix+"App/Inicio/LogOff.aspx",authenticationConfig:e.proxyPrefix+"Api/Authentication/BizagiConfig","logout-oauth2":e.proxyPrefix+"Api/Authentication/OAuth2/IdentityProvider/Server/Logout",FederateLogoffUrl:e.proxyPrefix+"Api/Authentication/FederateLogoffUrl",oauth2AuthenticationConfig:e.proxyPrefix+"Api/Authentication/OAuth2/OAuth2AuthenticationConfig",multipleAuthenticatorConfig:e.proxyPrefix+"Api/Authentication/User/MultipleAuthenticator/Config","massive-activity-assignments-getOrganizationInfo":e.proxyPrefix+"Rest/Users/OrganizationInfo","massive-activity-assignments-getCasesByOrganization":e.proxyPrefix+"Rest/Queries/GetCasesByOrganization","massive-activity-assignments-reassignCases":e.proxyPrefix+"Rest/Cases/ReassignCases","massive-activity-assignments-searchUsers":e.proxyPrefix+"Rest/Users","massive-activity-assignments-searchUsers-sharedquery":e.proxyPrefix+"Rest/Users/searchsharequery","massive-activity-assignments-searchUsersForSharingQuery":e.proxyPrefix+"Rest/Users/SearchUsersForQueryFormsById/{queryFormId}","massive-activity-assignments-searchUsersById":e.proxyPrefix+"Rest/Users/ByIds","async-ecm-upload-baseService":e.proxyPrefix+"Rest/Handlers/Metadata",domains:e.proxyPrefix+"Rest/Authentication/Domains",ThemeBuilder:e.proxyPrefix+"ThemeBuilder/index.html?language="+bizagi.localization.language,getCurrentTheme:e.proxyPrefix+"Api/Theme/Current","admin-getAuthenticationLog":e.proxyPrefix+"Rest/Users/AuthLog","admin-getAuthenticationDomains":e.proxyPrefix+"Rest/Users/Domains","admin-getAuthenticationEventsTypes":e.proxyPrefix+"Rest/Users/EventTypes","admin-getAuthenticationEventSubTypes":e.proxyPrefix+"Rest/Users/EventSubTypes","admin-EncryptString":e.proxyPrefix+"Rest/Util/EncryptString","admin-UserPendingRequests":e.proxyPrefix+"Rest/Users/UserPendingRequests","admin-UserAuthenticationInfo":e.proxyPrefix+"Rest/Users/UserAuthenticationInfo","admin-updateUserAuthenticationInfo":e.proxyPrefix+"Rest/Users/UpdateUserAuthenticationInfo","admin-generateRandomPassword":e.proxyPrefix+"Rest/Util/GenerateRandomPassword","admin-GenerateDataToSendByEmail":e.proxyPrefix+"Rest/Users/GenerateDataToSendByEmail","admin-sendEmail":e.proxyPrefix+"Rest/Util/SendEmail/","admin-sendUserEmail":e.proxyPrefix+"Rest/Users/SendUserEmail","admin-getApplicationList":e.proxyPrefix+"Rest/Application","admin-getCaseSecurityApplicationList":e.proxyPrefix+"Api/CaseSecurity/Applications?idUser={userId}","admin-getApplicationProcesses":e.proxyPrefix+"Rest/Application/{idApp}/Process","admin-getProcessVersion":e.proxyPrefix+"Rest/Processes/Version","admin-getProcessTasks":e.proxyPrefix+"Rest/Processes/Version/{version}/Tasks","admin-userGetPositions":e.proxyPrefix+"Rest/Users/GetPositions","admin-getUserOauth":e.proxyPrefix+"Rest/Users/searchUsersForOauth","admin-usersform":e.proxyPrefix+"Rest/Handlers/Render","admin-getTaskAlarms":e.proxyPrefix+"Rest/Alarm/TaskAlarms","admin-getLapseMode":e.proxyPrefix+"Rest/Alarm/LapseMode","admin-getRecurrMode":e.proxyPrefix+"Rest/Alarm/RecurrMode","admin-getScheduleType":e.proxyPrefix+"Rest/Alarm/ScheduleType","admin-getBossList":e.proxyPrefix+"Rest/Alarm/Boss","admin-addAlarm":e.proxyPrefix+"Rest/Alarm","admin-editAlarm":e.proxyPrefix+"Rest/Alarm/{idAlarm}","admin-deleteAlarm":e.proxyPrefix+"Rest/Alarm","admin-alarmRecipients":e.proxyPrefix+"Rest/Alarm/{idAlarm}/Recipient","admin-deleteAlarmRecipients":e.proxyPrefix+"Rest/Alarm/Recipient","admin-recipientToAlarm":e.proxyPrefix+"Rest/Alarm/{idAlarm}/Recipient/{idRecipient}","admin-enableAlarm":e.proxyPrefix+"Rest/Alarm/Task/{idTask}/ToggleAlarm","admin-getUsersForAssignation":e.proxyPrefix+"Rest/Users/UsersForAssignation","admin-searchUsersForPermissionsManager":e.proxyPrefix+"Rest/Users/SearchUsersForPermissionsManager","admin-getUsersForReassignCases":e.proxyPrefix+"Rest/Users/UsersForReassignCases","admin-getUsersList":e.proxyPrefix+"Rest/Users/SearchUsers","admin-getUsersForDefaultAssignation":e.proxyPrefix+"Rest/Users/SearchUsersForDefaultAssignation","admin-getUsersListForPlans":e.proxyPrefix+"Rest/Users/SearchUsersForPlansGuid","admin-getUsersForUsersAdministration":e.proxyPrefix+"Rest/Users/SearchUsersForAdmin","admin-getUsersForQueriesPermissionManager":e.proxyPrefix+"Rest/Users/SearchUsersForQueriesPermissionManager","admin-getCategoriesList":e.proxyPrefix+"Rest/Application/Category","admin-getCaseSecurityCategoriesList":e.proxyPrefix+"Api/CaseSecurity/Applications/{idApp}/Categories?idUser={userId}","admin-getCasesList":e.proxyPrefix+"Rest/Queries/SearchCases","admin-invalidateCases":e.proxyPrefix+"Rest/Cases/Invalidate","admin-getProcessRunningInvalidateCases":e.proxyPrefix+"Rest/Util/operationStatus?opType=InvalidateCases","admin-abortItems":e.proxyPrefix+"Rest/Cases/Abort","admin-reassignItems":e.proxyPrefix+"Rest/Cases/Reassign","admin-reassignCurrent":e.proxyPrefix+"Rest/Cases/ReassignCurrent","admin-getDefaultAssignationUserToAllProcess":e.proxyPrefix+"Rest/Users/{serviceAction}/","admin-getDefaultAssignationUserToProcess":e.proxyPrefix+"Rest/Users/Process/{process}/AssignationUser","admin-setDefaultAssignationUserToProcess":e.proxyPrefix+"Rest/Users/Process/{process}/AssignationUser","admin-transferAllCaseSecuritypermissions":e.proxyPrefix+"Api/CaseSecurity/Processes/Permissions/Transfer","admin-transferCaseSecuritypermissions":e.proxyPrefix+"Api/CaseSecurity/Processes/{idProcess}/Permissions/Transfer","admin-revokeAllCaseSecuritypermissions":e.proxyPrefix+"Api/CaseSecurity/Processes/Permissions/Revoke","admin-revokeCaseSecuritypermissions":e.proxyPrefix+"Api/CaseSecurity/Processes/{idProcess}/Permissions/Revoke","admin-statusTransferCaseSecuritypermissions":e.proxyPrefix+"Rest/Cases/StatusTransferCaseSecuritypermissions","admin-getProfilesTypes":e.proxyPrefix+"Rest/Profile/Types","admin-searchProfiles":e.proxyPrefix+"Rest/Profile","admin-getUsersByProfile":e.proxyPrefix+"Rest/Users/Profile/{type}/{id}","admin-getUsersByProfile-report":e.proxyPrefix+"Rest/Users/Profile/{filterType}/{guidValueFilter}/Report","admin-removeUserFromProfile":e.proxyPrefix+"Rest/Profile/{type}/{id}/User/{idUser}/","admin-addUserToProfile":e.proxyPrefix+"Rest/Profile/{type}/{id}/User/{idUser}/","admin-async-activities-get-activities":e.proxyPrefix+"Rest/Cases/Asynchronous/Activities","admin-async-activities-get-retry-now":e.proxyPrefix+"Rest/Cases/{idCase}/Workitem/{idworkItem}/{idAsynchWorkitem}/RetryNow","admin-async-activities-get-activities-by-task":e.proxyPrefix+"Rest/Cases/Asynchronous/Activities/Task","admin-async-activities-enable-execution":e.proxyPrefix+"Rest/Cases/Asynchronous/Enable","admin-async-activities-enable-multiple":e.proxyPrefix+"Rest/Cases/Asynchronous/EnableMultiple","admin-async-activities-async-execution":e.proxyPrefix+"Rest/Cases/{idCase}/Workitem/{idWorkitem}/AsynchExecution","admin-async-activities-async-execution-log":e.proxyPrefix+"Rest/Cases/{idCase}/Workitem/{idworkItem}/{idAsynchWorkitem}/AsynchExecutionLog","admin-async-activities-get-rpajobs":e.proxyPrefix+"Rest/Cases/Asynchronous/Rpa/Jobs","admin-async-activities-rpajob-execution-log":e.proxyPrefix+"Rest/Cases/Asynchronous/Rpa/Job/{idJob}/Logs","admin-async-activities-rpajob-enable-execution":e.proxyPrefix+"Rest/Cases/Asynchronous/Rpa/Job/Enable","admin-async-activities-rpajob-enable-multiple":e.proxyPrefix+"Rest/Cases/Asynchronous/Rpa/Job/EnableMultiple","admin-async-activities-rpajob-activities-by-task":e.proxyPrefix+"Rest/Cases/Asynchronous/Rpa/Job/Task","admin-async-activities-rpajob-retry-now":e.proxyPrefix+"Rest/Cases/Asynchronous/Rpa/Job/{idJob}/RetryRPAJob","admin-Licenses":e.proxyPrefix+"Rest/Licenses","admin-audit-license":e.proxyPrefix+"Rest/Licenses/auditLicense","admin-GetDimensions":e.proxyPrefix+"Rest/Dimensions","admin-EditDimension":e.proxyPrefix+"Rest/Dimensions/{id}","admin-CreateAdministrableDimension":e.proxyPrefix+"Rest/Dimensions/Administrable","admin-DeleteDimension":e.proxyPrefix+"Rest/Dimensions/{id}?isAdministrable={administrable}","admin-EntityPathChildNodesAction":e.proxyPrefix+"Rest/Dimensions/EntityChildNodes","admin-GetActiveWFClasses":e.proxyPrefix+"Rest/Dimensions/ActiveProcess","admin-document-templates-storeDocumentTemplates":e.proxyPrefix+"Rest/DocumentTemplates/StoreDocumentTemplates","admin-document-templates-restoreDocumentTemplates":e.proxyPrefix+"Rest/DocumentTemplates/RestoreDocumentTemplate","admin-document-templates-uploadDocumentTemplate":e.proxyPrefix+"Rest/DocumentTemplates/UploadDocumentTemplate","admin-processes-workflowClasses":e.proxyPrefix+"Rest/Processes/WorkflowClasses","admin-processes-tasksByWorkflow":e.proxyPrefix+"Rest/Processes/TasksByWorkflow","admin-processes-modifyProcessDuration":e.proxyPrefix+"Rest/Processes/{idWorkflow}/Duration/","admin-processes-modifyTaskDuration":e.proxyPrefix+"Rest/Processes/Task/{idTask}/Duration/","admin-entities-list":e.proxyPrefix+"Api/Entities/Parametrics","admin-stakeholders-list":e.proxyPrefix+"Api/Entities/Stakeholders","admin-entities-row-data":e.proxyPrefix+"Api/Entities/{guidEntity}/Data","admin-user-stakeholders":e.proxyPrefix+"Api/Users/{idUser}/Stakeholders","admin-entities-migrated-entity":e.proxyPrefix+"Rest/Entities/migratedEntity","admin-entities-get-form":e.proxyPrefix+"Rest/Handlers/Render","admin-entities-get-excel":e.proxyPrefix+"Api/Entities/Excel/{EntityGuid}/","admin-entities-upload-excel":e.proxyPrefix+"Api/Entities/Excel/{EntityGuid}","admin-user-permissions-excel-enabled":e.proxyPrefix+"Api/Users/Excel/Active","admin-user-permissions-excel-disabled":e.proxyPrefix+"Api/Users/Excel/Inactive","render-multiaction":e.proxyPrefix+"Rest/Handlers/MultiAction","admin-entity-simpleData":e.proxyPrefix+"Rest/Entities/{idEntity}/Instances/{idAttribute}/Brief?displayAttribFilter={displayAttribFilter}","admin-language-bizagi-objects":e.proxyPrefix+"Rest/Multilanguage/BizagiObjects","admin-entities-exists-last-report":e.proxyPrefix+"Api/Entities/Excel/{EntityGuid}/LogExists","admin-entities-upload-file-state":e.proxyPrefix+"Api/Entities/Excel/{EntityGuid}/State","admin-entities-download-last-report":e.proxyPrefix+"Api/Entities/Excel/{EntityGuid}/Log","admin-language-entities":e.proxyPrefix+"Rest/Multilanguage/Entities?xsrf="+bizagi.getXSRFToken(),"admin-language-resource":e.proxyPrefix+"Rest/Multilanguage/Resource?xsrf="+bizagi.getXSRFToken(),"admin-language-resource-download":e.proxyPrefix+"Rest/Multilanguage/LanguageExcel","admin-language-entities-download":e.proxyPrefix+"Rest/Multilanguage/EntitiesExcel","admin-language-languages":e.proxyPrefix+"Rest/Multilanguage/Languages","admin-language-reset":e.proxyPrefix+"Rest/Multilanguage/ResetPersonalization","admin-holidays-schemas":e.proxyPrefix+"Api/WorkingTimeSchema/Holidays","admin-holidays-schema":e.proxyPrefix+"Api/WorkingTimeSchema/Holidays/{schema}","admin-projectname":e.proxyPrefix+"Api/Project/Name","bam-resourcemonitor-myteam":e.proxyPrefix+"Rest/Reports/BAM/Resources/MyTeam","reports-analysisquery":e.proxyPrefix+"Rest/Reports/AnalysisQueries","reports-analysisquery-update":e.proxyPrefix+"Rest/Reports/AnalysisQueries","reports-analysisquery-delete":e.proxyPrefix+"Rest/Reports/AnalysisQueries","processviewer-processdefinition":e.proxyPrefix+"Rest/Reports/Components/ProcessDefinition","processviewer-processgraphicinfo":e.proxyPrefix+"Rest/Reports/Components/ProcessGraphicInfo","processviewer-paths":e.proxyPrefix+"Rest/Reports/Analytics/Process/FrequentPaths","mobile-getLastUpdate":e.proxyPrefix+"Rest/Util/mobileUpdates","admin-userslog":e.proxyPrefix+"Rest/Users/UserAdminLog","admin-userslicenses":e.proxyPrefix+"Rest/Licenses/CanAddNewUser","admin-createuserform":e.proxyPrefix+"Rest/Users/CreateUserAdminForm","graphicquery-trailusers":e.proxyPrefix+"Rest/Cases/TrailUsersGuid","admin-userpreferenceform-isnew":e.proxyPrefix+"Rest/Authorization/UserPreferenceForm","time-schemas-effectiveduration":e.proxyPrefix+"Api/WorkingTimeSchema/EffectiveDurationGuid?idUser={idUser}&fromDate={fromDate}&toDate={toDate}","time-schemas-effectiveduration-ForAdminUsers":e.proxyPrefix+"Api/WorkingTimeSchema/EffectiveDurationGuidForAdminUsers?idUser={idUser}&fromDate={fromDate}&toDate={toDate}","time-schemas-end-hour-working-by-date":e.proxyPrefix+"Api/WorkingTimeSchema/EndHourWorkingByDateGuid?idUser={idUser}&date={date}","project-resource-action":e.proxyPrefix+"Api/CaseResource/{typeResource}","project-resource-get":e.proxyPrefix+"Api/CaseResource/{typeResource}?globalParent={globalParent}","project-resource-delete":e.proxyPrefix+"Api/CaseResource/{typeResource}/{idResource}","project-users-get":e.proxyPrefix+"Rest/Users/UserPicturesGuid","project-comments-get":e.proxyPrefix+"Api/CaseResource/{idParent}/CommentGuid?dateTime={dateTime}&count={count}","project-comments-count-by-parent":e.proxyPrefix+"Api/CaseResource/{idParent}/Comment/Count","project-util-current-time":e.proxyPrefix+"Api/CaseResource/Util/CurrentTime","project-comments-uploadfiles":e.proxyPrefix+"Api/CaseResource/Attachment","project-attachment-download":e.proxyPrefix+"Api/CaseResource/Attachment/{Attachment}?xsrf="+bizagi.getXSRFToken(),"project-files-upload":e.proxyPrefix+"Api/CaseResource/FileGuid","project-files-list":e.proxyPrefix+"Api/CaseResource/FileGuid?globalParent={globalParent}","project-files-thumbnails":e.proxyPrefix+"Api/CaseResource/File/Thumbnails","project-plan-createactivity":e.proxyPrefix+"Api/Plans/{idPlan}/ActivitiesGuid","project-plan-get":e.proxyPrefix+"Api/Plans/Guid/{idPlan}","project-plan-get-case":e.proxyPrefix+"Api/Plans/{idPlan}/IdCase","project-plan-get-by-parent":e.proxyPrefix+"Api/Plans/Guid?parentWorkItem={parentWorkItem}","project-plan-execute":e.proxyPrefix+"Api/Plans/Execute","project-plan-close":e.proxyPrefix+"Api/Plans/Close","project-plan-delete":e.proxyPrefix+"Api/Plans/{idPlan}","project-plan-activities":e.proxyPrefix+"Api/Plans/{idPlan}/ActivitiesGuid","project-plan-workitems":e.proxyPrefix+"Api/Plans/{idPlan}/WorkItemsGuid","project-plan-parent":e.proxyPrefix+"Api/Plans/{idPlan}/ParentCase","project-plan-first-parent-plan":e.proxyPrefix+"Api/Plans/{idPlan}/FirstParentPlanGuid","project-plan-first-parent":e.proxyPrefix+"Api/Plans/{idPlan}/FirstParentCase","project-activity-update-progress":e.proxyPrefix+"Api/Plans/Activity/{idActivity}/Progress","project-plan-update":e.proxyPrefix+"Api/Plans/Guid/{idPlan}","project-plan-activity-tasks-get":e.proxyPrefix+"Api/Plans/{idPlan}/Activities/{idActivity}/Items","project-plan-activity-get":e.proxyPrefix+"Api/Plans/{idPlan}/ActivitiesGuid/{idActivity}","project-plan-activity-delete":e.proxyPrefix+"Api/Plans/{idPlan}/Activities/{id}","project-plan-activity-edit":e.proxyPrefix+"Api/Plans/{idPlan}/ActivitiesGuid/{id}","project-plan-transitions-get":e.proxyPrefix+"Api/Plans/{idPlan}/Activities/Transitions","project-plan-transitions-put":e.proxyPrefix+"Api/Plans/{idPlan}/Activities/Transitions","project-plan-template-create-by-plan":e.proxyPrefix+"Api/Plans/Templates","project-plan-template-get":e.proxyPrefix+"Api/Templates","project-timeline-events-get":e.proxyPrefix+"Api/CaseResource/TimeLineGuid?{idCaseParamValue}","project-workitem-assignees":e.proxyPrefix+"Api/CaseResource/{idWorkitem}/Assignees","project-workitem-assignees-items":e.proxyPrefix+"Api/CaseResource/{idWorkitem}/ItemAssigneeWorkItem","project-activity-share":e.proxyPrefix+"Rest/Cases/Workitems/ShareActivity","project-plan-create":e.proxyPrefix+"Api/Plans/Guid","project-plan-create-by-template":e.proxyPrefix+"Api/Templates/{idTemplate}/PlansGuid","project-plan-get-all":e.proxyPrefix+"Api/Plans/Templates/get",plans:e.proxyPrefix+"Api/Plans/Guid","stuff-handler-getUserStuff":e.proxyPrefix+"Api/CurrentUser/Collections","get-current-theme":e.proxyPrefix+"Api/CurrentUser/GetCurrentTheme","process-handler-getIdCasesOfProcessEntities":e.proxyPrefix+"Api/Entities/Cases","handler-get-myShortcuts":e.proxyPrefix+"Api/CurrentUser/Shortcuts","handler-execute-action-start":e.proxyPrefix+"Api/Cases/{processId}/Start","handler-validate-action-has-start-form":e.proxyPrefix+"Api/Processes/{processId}/StartContext","process-getIcon":e.proxyPrefix+"Api/Processes/{processId}/Icon","collections-getIcon":e.proxyPrefix+"Api/CurrentUser/Collections/{collectionId}/Icon","data-navigation-handler-collection":e.proxyPrefix+"Api/CurrentUser/Collections/{reference}/Data/{surrogateKey}","data-navigation-handler-entity":e.proxyPrefix+"Api/CurrentUser/Entities/{reference}/Data/{surrogateKey}/{xpath}","data-navigation-handler-entity-filters":e.proxyPrefix+"Api/CurrentUser/Entities/{reference}/Filters/{surrogateKey}/{xpath}","action-handler-getProcessAddAction":e.proxyPrefix+"Api/CurrentUser/Collections/{reference}/{surrogateKey}/Actions","entities-handler-getMapping":e.proxyPrefix+"Rest/Entities/Mapping","entities-handler-getActions":e.proxyPrefix+"Api/Entities/{guidEntity}/{surrogateKey}/actions","actions-handler-getDataForm":e.proxyPrefix+"Rest/Handlers/Render","actions-handler-hasStartForm":e.proxyPrefix+"Rest/Processes/HasStartForm","actions-handler-executeRule-simple":e.proxyPrefix+"Api/Rules/{ruleId}/Execute","actions-handler-executeRule-multiple":e.proxyPrefix+"Api/Rules/{ruleId}/ExecuteMultiple","sort-bar-getMultipleInstancesActions":e.proxyPrefix+"Rest/Entities/multipleInstancesActions","sort-bar-getMapping":e.proxyPrefix+"Rest/Entities/Mapping","sort-bar-execute":e.proxyPrefix+"Api/Action/Execute","activity-map":e.proxyPrefix+"Rest/Processes/ActivityMap/","activity-map-getActivitySummary":e.proxyPrefix+"Rest/Processes/ActivitySummary","subprocess-map":e.proxyPrefix+"Rest/Processes/SubProcessMap","shorcuts-getStakeHolderShorcuts":e.proxyPrefix+"/Api/Stakeholder/Shortcuts","my-search-getSearchLists":e.proxyPrefix+"Api/CurrentUser/Searches","my-search-getFilters":e.proxyPrefix+"Api/CurrentUser/Searches/{guidSearch}/Filters","my-search-getFiltersData":e.proxyPrefix+"Api/CurrentUser/Searches/{guidSearch}/FilterData","my-search-getData":e.proxyPrefix+"Api/CurrentUser/Searches/{guidSearch}/Data","admin-getAdhocProcessesList":e.proxyPrefix+"Api/AdhocProcesses/Search","admin-createAdhocProcess":e.proxyPrefix+"Api/AdhocProcesses/Create","admin-updateAdhocProcess":e.proxyPrefix+"Api/AdhocProcesses/Update","admin-updateAdhocTask":e.proxyPrefix+"Api/AdhocProcesses/{processId}/Activity","admin-deleteAdhocTask":e.proxyPrefix+"Api/AdhocProcesses/{processId}/Activity/{taskId}","admin-deleteAdhocProcess":e.proxyPrefix+"Api/AdhocProcesses/{processId}","admin-publishAdhocProcess":e.proxyPrefix+"Api/AdhocProcesses/Publish","admin-cloneAdhocProcess":e.proxyPrefix+"Api/AdhocProcesses/Clone","admin-getAdhocTask":e.proxyPrefix+"Api/AdhocProcesses/{processId}/Task/{taskId}","admin-getAllEntities":e.proxyPrefix+"Api/AdhocProcesses/Entities","admin-getAllCategories":e.proxyPrefix+"Api/AdhocProcesses/Categories","admin-createNewAdhocProcess":e.proxyPrefix+"Api/LiveProcesses","admin-getAdhocDataSchema":e.proxyPrefix+"Api/LiveProcesses/{processId}/DataSchema","admin-getAdhocProcessDiagram":e.proxyPrefix+"Api/LiveProcesses/{processId}/Diagram","admin-saveAdhocProcessDiagram":e.proxyPrefix+"Api/LiveProcesses/{processId}/Diagram","admin-adhoc-entities-list":e.proxyPrefix+"Api/AdhocProcesses/AdhocEntity/All","admin-saveAdhocEntity":e.proxyPrefix+"Api/AdhocProcesses/AdhocEntity/Save","admin-saveAdhocEntityInstance":e.proxyPrefix+"Api/AdhocProcesses/AdhocEntity/{entityId}/Instance/{isNew}","admin-adhoc-entity-instances":e.proxyPrefix+"Api/AdhocProcesses/AdhocEntity/{entityId}/Instances","admin-entity-values":e.proxyPrefix+"Api/AdhocProcesses/{context}/{entityId}/Values","admin-adhoc-user-group-list":e.proxyPrefix+"Api/LiveProcesses/UserGroups","admin-adhoc-user-group-save":e.proxyPrefix+"Api/LiveProcesses/UserGroups","admin-adhoc-user-group-delete":e.proxyPrefix+"Api/LiveProcesses/UserGroups/{groupId}","admin-adhoc-user-group-data-get":e.proxyPrefix+"Api/LiveProcesses/UserGroups/{groupId}/Users","admin-adhoc-user-group-data-add":e.proxyPrefix+"Api/LiveProcesses/UserGroups/{groupId}/Users/{userId}","admin-adhoc-user-group-data-remove":e.proxyPrefix+"Api/LiveProcesses/UserGroups/{groupId}/Users/{userId}","admin-adhoc-authorization-data-get":e.proxyPrefix+"Api/AdhocProcesses/Authorization","admin-adhoc-authorization-data-save":e.proxyPrefix+"Api/AdhocProcesses/{processId}/{isAdhocTask}/Authorization/Save","oauth2-getApplications":e.proxyPrefix+"oauth2/server/application","oauth2-getApplication":e.proxyPrefix+"oauth2/server/application/id/{applicationId}","oauth2-createApplication":e.proxyPrefix+"oauth2/server/application","oauth2-deleteApplication":e.proxyPrefix+"oauth2/server/application/{applicationId}","oauth2-updateApplication":e.proxyPrefix+"oauth2/server/application/{applicationId}","oauth2-updateClientSecretKeysApplication":e.proxyPrefix+"oauth2/server/application/{applicationId}/updateClientSecretKeys","admin-error-logs-getErrorLogs":e.proxyPrefix+"api/ErrorLogs/Items","admin-error-logs-getErrorLogsContents":e.proxyPrefix+"api/ErrorLogs/Content","admin-error-logs-getErrorLogsArchive":e.proxyPrefix+"api/ErrorLogs/Export","login-qr-image64":e.proxyPrefix+"Api/Authentication/AccessQRCode","user-gdpr-downloadReportUser":e.proxyPrefix+"rest/users/{idUser}/Report?xsrf="+bizagi.getXSRFToken(),"user-gdpr-anonymizeUser":e.proxyPrefix+"rest/users/{idUser}/Report",userDelegation:e.proxyPrefix+"rest/UserDelegate",userFilterOptions:e.proxyPrefix+"rest/UserFilters",catalogQL:e.proxyPrefix+"rest/CatalogQL/Query",currentUser:e.proxyPrefix+"rest/Users/CurrentUserGuid",getUsersForDelegation:e.proxyPrefix+"rest/UserFilters",downloadBPUsReport:e.proxyPrefix+"rest/Reports/BPU","queries-manager-queriesByUser":e.proxyPrefix+"Rest/StoredQueryForms/QueriesByUser","queries-manager-TransferQueries":e.proxyPrefix+"Rest/StoredQueryForms/TransferQueries","execute-quickaction":e.proxyPrefix+"Rest/Handlers/QuickAction","smartinbox-getAllInbox":e.proxyPrefix+"api/SmartInbox/All","smartinbox-specific-inbox":e.proxyPrefix+"api/SmartInbox/{smartInboxId}","smartinbox-specific-inbox-data":e.proxyPrefix+"Rest/Processes/CustomizedColumnsData","smartinbox-createinbox":e.proxyPrefix+"/api/SmartInbox","smartinbox-createinbox-by-owner":e.proxyPrefix+"/api/SmartInbox/{settingName}/{owner}","smartinbox-processes":e.proxyPrefix+"api/SmartInbox/Detail/Processes","smartinbox-customized-columns":e.proxyPrefix+"api/SmartInbox/Detail/CustomizedColumns","smartinbox-share":e.proxyPrefix+"api/SmartInbox/Share/{smartInboxId}","smartinbox-entity-values":e.proxyPrefix+"api/SmartInbox/Detail/EntityValues/{entityGuid}","smartinbox-admin":e.proxyPrefix+"api/SmartInbox/Admin","smartinbox-profiles":e.proxyPrefix+"api/SmartInbox/Detail/Profiles","smartinbox-user-tasks":e.proxyPrefix+"api/SmartInbox/Detail/UserTasks","smartinbox-user-tasks-smartinboxid":e.proxyPrefix+"api/SmartInbox/Detail/UserTasks/{smartInboxId}","smartinbox-user-tasks-process":e.proxyPrefix+"api/SmartInbox/Detail/UserTasks/ByProcess/{workflowId}"}):"sharepoint"==e.context||"portal"==e.context?(void 0===e.sharepointProxyPrefix&&alert("sharepointProxyPrefix param is requiered to build endpoints when context is 'sharepoint'"),{"user-handler":e.sharepointProxyPrefix+"RestServices/UserHandler.ashx","process-handler":e.sharepointProxyPrefix+"RestServices/ProcessHandler.ashx","query-handler":e.sharepointProxyPrefix+"Rest/Handlers/Query","case-handler":e.sharepointProxyPrefix+"RestServices/CaseHandler.ashx","query-form":e.sharepointProxyPrefix+"App/ListaDetalle/QueryForm.aspx","query-form-edit":e.sharepointProxyPrefix+"App/ListaDetalle/SaveQuery.aspx","query-form-delete":e.sharepointProxyPrefix+"App/ListaDetalle/QueryForm.aspx","query-form-delete-cube":e.sharepointProxyPrefix+"Rest/Queries/Cubes/{idCube}","favorites-handler":e.sharepointProxyPrefix+"RestServices/FavoritesHandler.ashx","file-handler":e.sharepointProxyPrefix+"RestServices/EntityHandler.ashx","login-handler":e.sharepointProxyPrefix+"RestServices/UserHandler.ashx?action=authenticateUser&userName={0}&password={1}&domain={2}","logoff-handler":e.sharepointProxyPrefix+"RestServices/UserHandler.ashx?action=logOff",overrides:e.sharepointProxyPrefix+"Rest/Util/Overrides","authorization-handler-getMenuAuthorization":e.sharepointProxyPrefix+"Rest/Authorization/MenuAuthorization","authorization-handler-isCaseCreationAuthorized":e.sharepointProxyPrefix+"Rest/Authorization/Processes/{0}/IsCaseCreationAuthorized","case-handler-getCaseSummary":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Summary","case-handler-getCaseSummaryByGuid":e.sharepointProxyPrefix+"Rest/Cases/{guid}/SummaryByGuid","case-handler-releaseActivity":e.proxyPrefix+"Rest/Cases/{idCase}/ReleaseActivity","case-handler-getCaseTasks":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Tasks","case-handler-getCaseEvents":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Events","case-handler-getCaseSubprocesses":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Subprocesses","case-handler-getTaskAssignees":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Tasks/{idTask}/AssigneesGuid","case-handler-getCaseAssignees":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Assignees","case-handler-getWorkItems":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/WorkItems","case-handler-getWorkItemsByGuid":e.sharepointProxyPrefix+"Rest/Cases/{guid}/WorkItemsByGuid","case-handler-getAsynchExecutionState":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/AsynchExecutionState","case-handler-addNewCase":e.sharepointProxyPrefix+"Rest/Cases","case-handler-startProcess":e.sharepointProxyPrefix+"Rest/Processes/StartProcess/{idProcess}","case-handler-getActivityLog":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/ActivityLog","case-handler-getActivityDetailLog":e.sharepointProxyPrefix+"Rest/Cases/{idWorkItemFrom}/ActivityDetailLog","case-handler-getEntityLog":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/EntityLog","case-handler-getEntityDetailLog":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/EntityDetailLog","case-handler-getUserLog":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/UserLog","case-handler-getUserDetailLog":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/UserDetailLog","case-handler-getCaseFormsRenderVersion":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/FormsRenderVersion","case-handler-getCaseFormsRenderVersionByGuid":e.sharepointProxyPrefix+"Rest/Cases/{guid}/FormsRenderVersionByGuid","offline-getProcessTree":e.proxyPrefix+"Rest/Processes/OfflineProcessTree","offline-getForms":e.proxyPrefix+"Rest/RenderForm/offlineForms","offline-sendForm":e.proxyPrefix+"Rest/Cases/SaveAsynchWorkItemOffLine","case-handler-getCasesList":e.proxyPrefix+"Rest/Processes/GetCases","favorites-handler-saveFavorite":e.sharepointProxyPrefix+"Rest/Favorites","favorites-handler-deleteFavorite":e.sharepointProxyPrefix+"Rest/Favorites/{guidFavorite}","bamAnalytics-handler-getAnalisysQueries":e.sharepointProxyPrefix+"Rest/BAMAnalytics/AnalisysQueries","bamAnalytics-handler-updateQuery":e.sharepointProxyPrefix+"Rest/BAMAnalytics/Reports/Ids/{idQuery}","inbox-handler-getInboxSummary":e.sharepointProxyPrefix+"Rest/Inbox/Summary","inbox-handler-getFullInboxSummary":e.sharepointProxyPrefix+"Rest/Inbox/FullSummary","MessageHandler-NewComment":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Comments","MessageHandler-GetComments":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Comments","MessageHandler-SetCategoryToComment":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Comments/{idComment}","MessageHandler-RemoveComment":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Comments/{idComment}","MessageHandler-ReplyComment":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Comments/{idComment}/Replies","MessageHandler-RemoveReply":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Comments/{idComment}/Replies/{idReply}","MessageHandler-GetCategoryColors":e.sharepointProxyPrefix+"Rest/Cases/Comments/CategoryColors","MessageHandler-RenameCategoryColor":e.sharepointProxyPrefix+"Rest/Cases/Comments/CategoryColors/{idColorCategory}","MessageHandler-CountNewComments":e.sharepointProxyPrefix+"Rest/Cases/{idCase}/Comments/{idLastComment}","process-handler-getAllProcesses":e.sharepointProxyPrefix+"Rest/Processes","process-handler-getCustomizedColumnsData":e.sharepointProxyPrefix+"Rest/Processes/CustomizedColumnsData","process-handler-getCategory":e.sharepointProxyPrefix+"Rest/Processes/Categories","process-handler-getRecentProcesses":e.sharepointProxyPrefix+"Rest/Processes/RecentProcesses","process-handler-getCustomizedColumnsDataInfo":e.sharepointProxyPrefix+"Rest/Processes/CustomizedColumnsDataInfo","process-handler-getActivitiesData":e.sharepointProxyPrefix+"Rest/Processes/CasesData/MyActivities","process-handler-getPendingsData":e.proxyPrefix+"Rest/Processes/CasesData/MyPendings","query-handler-getqueries":e.sharepointProxyPrefix+"Rest/Queries","user-handler-getCurrentUser":e.sharepointProxyPrefix+"Rest/Users/CurrentUser","old-render":e.sharepointProxyPrefix+"App/ListaDetalle/Detalle.aspx",Reports:e.sharepointProxyPrefix+"RestServices/BAMAnalyticsHandler.ashx","reports-handler-deleteQueries":e.sharepointProxyPrefix+"Rest/BAMAnalytics/Reports/{QueryId}","folders-handler-getUserQueries":e.sharepointProxyPrefix+"Rest/SmartFolders","folders-associate-deleteSmartFolder":e.sharepointProxyPrefix+"Rest/SmartFolders/{idSmartFolder}","folders-handler":e.sharepointProxyPrefix+"RestServices/SmartFoldersHandler.ashx","folders-associate":e.sharepointProxyPrefix+"App/Ajax/AJAXGateway.aspx","smartfolders-integration":e.sharepointProxyPrefix+"App/WorkPortal/ConfigureFilteredFolder.aspx",AlarmAdmin:e.sharepointProxyPrefix+"App/Admin/AlarmsAdmin.aspx",AnalyticsProcess:e.sharepointProxyPrefix+"App/Cockpit/AnalyticsProcess.aspx",AnalyticsSensor:e.sharepointProxyPrefix+"App/Cockpit/AnalyticsSensor.aspx",AnalyticsTask:e.sharepointProxyPrefix+"App/Cockpit/AnalyticsTask.aspx",AsynchronousWorkitemRetries:e.sharepointProxyPrefix+"App/Admin/AsynchDisabledWorkitems.aspx",AuthenticationLogQuery:e.sharepointProxyPrefix+"App/Admin/AuthLogQuery.aspx",BAMProcess:e.sharepointProxyPrefix+"App/Cockpit/BAMProcess.aspx",BAMTask:e.sharepointProxyPrefix+"App/Cockpit/BAMTask.aspx",BusinessPolicies:e.sharepointProxyPrefix+"App/Admin/BusinessPolicies/BusinessPoliciesSelector.aspx",CaseAdmin:e.sharepointProxyPrefix+"App/Admin/CaseSearch.aspx",CasesMonitor:e.sharepointProxyPrefix+"App/Admin/CasesMonitor.aspx",Closed:e.sharepointProxyPrefix+"App/ListaDetalle/listaitems.aspx?h_Location=Cerrados&I_ProcessState=Completed",CurrentUser:e.sharepointProxyPrefix+"App/Admin/CurrentUser.aspx",EncryptionAdmin:e.sharepointProxyPrefix+"App/Admin/Encrypt.aspx",MobileUpdatesAdmin:e.sharepointProxyPrefix+"App/MobileUpdates/default.aspx",EntityAdmin:e.sharepointProxyPrefix+"App/Admin/Entity.aspx",LocationResources:e.sharepointProxyPrefix+"App/Admin/AdminLocResources.aspx",NewCase:e.sharepointProxyPrefix+"App/Radicar/application.aspx",Pending:e.sharepointProxyPrefix+"App/ListaDetalle/listaitems.aspx?h_Location=Pendientes&I_processState=Running",Profiles:e.sharepointProxyPrefix+"App/Admin/ProfilesAdminSearch.aspx",Search:e.sharepointProxyPrefix+"App/ListaDetalle/Search.aspx",UserAdmin:e.sharepointProxyPrefix+"App/Admin/ListUsers.aspx",UserDefaultAssignation:e.sharepointProxyPrefix+"App/Admin/DefaultAssignationUser.aspx?h_AdminDefaultAssign=1",UserPendingRequests:e.sharepointProxyPrefix+"App/Admin/UserPendingRequests.aspx",ListPreferences:e.sharepointProxyPrefix+"App/Admin/CurrentUser.aspx",GRDimensionAdmin:e.sharepointProxyPrefix+"App/Cockpit/DimensionEdit.aspx",Licenses:e.sharepointProxyPrefix+"App/Admin/Licenses.aspx",AnalysisQueries:e.sharepointProxyPrefix+"App/Inicio/WPAnalysisQuery.aspx",ProcessAdmin:e.sharepointProxyPrefix+"App/Admin/AdminProcess.aspx",ResourceBAM:e.sharepointProxyPrefix+"App/Cockpit/BAMResourceMonitor.aspx",WorkPortalVersion:e.sharepointProxyPrefix+"Rest/Util/Version","entities-administration":"RestServices/EntityHandler.ashx",getCurrentTheme:e.sharepointProxyPrefix+"Api/Theme/Current","process-handler-getFavourites":e.proxyPrefix+"Rest/Home/MyFavorites/Count","process-handler-getFavouriteCases":e.proxyPrefix+"Rest/Home/MyFavorites","stuff-handler-getUserStuff":e.sharepointProxyPrefix+"Rest/Stakeholder/Collections","stuff-handler-getUserStuff-v2":e.sharepointProxyPrefix+"Rest/Stakeholder/Collections/v2","templates-handler-getCollectionData":e.proxyPrefix+"Api/Collection/{idFact}/Data","templates-handler-getVirtualCollectionData":e.proxyPrefix+"Api/Collection/{guidVirtualCollection}/VirtualData","entities-handler-getMapping":e.sharepointProxyPrefix+"Rest/Entities/Mapping","entities-handler-getActions":e.sharepointProxyPrefix+"Rest/Entities/Actions","actions-handler-getDataForm":e.sharepointProxyPrefix+"Rest/Handlers/Render","actions-handler-hasStartForm":e.sharepointProxyPrefix+"Rest/Processes/HasStartForm","actions-handler-executeRule":e.sharepointProxyPrefix+"Rest/Action/Rule","process-handler-getUsersAndEvents":e.sharepointProxyPrefix+"Rest/Processes/CasesData/UsersAndEvents"}):{}},$.Class.extend("bizagi.workportal.services.context",{},{init:function(e){this.context=e.context,this.endPoints=bizagi.workportal.services.getEndPoints(e),this.proxyPrefix=bizagi.util.isEmpty(e.proxyPrefix)?"":e.proxyPrefix},getUrl:function(e){return null==this.endPoints[e]&&bizagi.log("Url not found","No endpoint defined for: "+e),this.endPoints[e]}}),$.Class.extend("bizagi.workportal.services.service",{BA_CONTEXT_PARAMETER_PREFIX:"h_",ENTITIES_QUERY_PAGE_SIZE:10},(_$$Class$extend={init:function(e){(e="object"==_typeof(e)?e:{}).context=bizagi.util.isEmpty(e.context)?"workportal":e.context,e.proxyPrefix=bizagi.util.isEmpty(e.proxyPrefix)?"":e.proxyPrefix,e.proxyPrefix=this.normalizeUrl(e.proxyPrefix),bizagi.RPproxyPrefix=e.proxyPrefix,e.sharepointProxyPrefix=bizagi.util.isEmpty(e.sharepointProxyPrefix)?"":e.sharepointProxyPrefix,e.sharepointProxyPrefix=this.normalizeUrl(e.sharepointProxyPrefix),this.serviceLocator=new bizagi.workportal.services.context(e),this.multiactionService=new bizagi.workportal.services.multiactionservice(this),this.pageSize=10,"undefined"!=typeof BIZAGI_INBOX_ROWS_PER_PAGE&&(this.pageSize=$.isNumeric(BIZAGI_INBOX_ROWS_PER_PAGE)?BIZAGI_INBOX_ROWS_PER_PAGE:this.pageSize),bizagi.injector.registerInstance("dataService",this),this.deviceType=e.deviceType||(bizagi.util.isSmartphoneDevice()?bizagi.deviceEnum.smartphone:bizagi.util.isTabletDevice()?bizagi.deviceEnum.tablet:bizagi.deviceEnum.desktop),this.deviceCode=bizagi.util.getDeviceCode()},getUsersData:function(e){var t=new $.Deferred;e.userIds=e.usersGuids?e.usersGuids:e.userIds;var i=e.userIds.toString().split(","),r=i.filter((function(e){return e!=bizagi.util.anonymizedUserInformation.id})),a=i.length!=r.length;return 0===r.length&&a?t.resolve([bizagi.util.anonymizedUserInformation]):(e.userIds=r.join(","),e.usersGuids=e.userIds,$.post(this.serviceLocator.getUrl("project-users-get"),e||{}).done((function(e){a&&e.push(bizagi.util.anonymizedUserInformation),t.resolve(e)})).fail((function(e){t.reject(e)}))),t},multiaction:function(){return this.multiactionService},getUrl:function(e){return this.serviceLocator.getUrl(e.endPoint)},normalizeUrl:function(e){return""!=e&&("/"!=e[e.length-1]&&(e=e.concat("/")),-1==e.indexOf("http://")&&-1==e.indexOf("https://")&&(e="http://"+e)),e},getCurrentTheme:function(){var e=this.serviceLocator.getUrl("getCurrentTheme");return $.read(e)},getOverrides:function(){return $.ajax({url:this.serviceLocator.getUrl("overrides")}).pipe((function(e){return e=e||{},$.each(e,(function(t,i){var r=i.toUpperCase();"TRUE"!=r&&"FALSE"!=r||(e[t]=bizagi.util.parseBoolean(i))})),e}))},authenticatedUser:function(e){var t=this,i=t.serviceLocator.getUrl("login-handler");return $.read({url:i,data:{userName:BIZAGI_USER,password:BIZAGI_PASSWORD,domain:BIZAGI_DOMAIN}}).pipe((function(e){return e}),(function(e){return i=(i=(i=(i=t.serviceLocator.getUrl("login-handlerv10")).replace("{0}",BIZAGI_USER||"")).replace("{1}",BIZAGI_PASSWORD||"")).replace("{2}",BIZAGI_DOMAIN||""),$.ajax({url:i,type:"GET",dataType:"json"})}))},logoutUser:function(e){var t=this.serviceLocator.getUrl("logoff-handlerv1");return $.read({url:t})},logOffUser:function(e){var t=this.serviceLocator.getUrl("logoff-handler");return $.read({url:t})},ping:function(){var e={url:this.serviceLocator.getUrl("ping"),beforeSend:function(e,t){e.sessionTimeoutService=!0}};return $.read(e)},getCurrentUser:function(e){return $.read(this.serviceLocator.getUrl("user-handler-getCurrentUser"))},getInboxSummary:function(e){return $.read(this.serviceLocator.getUrl("inbox-handler-getInboxSummary")).pipe((function(e){return e.inboxSummary}))},getFullInboxSummary:function(e){var t=this,i=t.buildProcessesRequestData(e);return $.read(t.serviceLocator.getUrl("inbox-handler-getFullInboxSummary"),i).then((function(i){return i.processes=t.transformProcessesResponse(e,i.processes),i}))},getAllProcesses:function(e){var t=this,i=t.serviceLocator.getUrl("process-handler-getAllProcesses"),r=t.buildProcessesRequestData(e);return $.read(i,r).then((function(i){return t.transformProcessesResponse(e,i)}))},buildProcessesRequestData:function(e){var t={};return null!=(e=e||{}).taskState&&(t.taskState=e.taskState),null!=e.onlyFavorites&&""!=e.onlyFavorites&&(t.onlyFavorites=e.onlyFavorites),null!=e.myActivities&&""!=e.myActivities&&(t.myActivities=e.myActivities),null!=e.myPendings&&""!=e.myPendings&&(t.myPendings=e.myPendings),e.smartfoldersParameters&&(url=url+"?"+e.smartfoldersParameters),bizagi.isMobile()&&(t.mobileDevice=!0),t},transformProcessesResponse:function(e,t){if(e.skipAggrupate)return t;var i={},r={},a=bizagi.localization.getResource("workportal-widget-inbox-all-processes"),s={name:bizagi.localization.getResource("workportal-widget-inbox-all-cases"),path:"",category:a,isFavorite:e.onlyFavorites||!1,guidFavorite:"",idworkflow:"",guidWFClass:"",count:0};return e.followingOrMyPending&&(r[a]=[],r[a].workflows=[],r[a].workflows.push(s)),t.workflows&&$.each(t.workflows.workflow,(function(e,t){r[t.category]||(r[t.category]=[],r[t.category].name=t.category,r[t.category].guidCategory=t.guidCategory,r[t.category].workflows=[]),r[t.category].workflows.push(t),s.count+=Number(t.count)})),i.categories=bizagi.util.objectValues(r),i.allCases=s,i.workflows=t.workflows.workflow,i},getAllSmartInbox:function(){return $.read({url:this.serviceLocator.getUrl("smartinbox-getAllInbox"),data:{}}).then((function(e){return e}))},getSpecificSmartInbox:function(e){var t={},i=this.serviceLocator.getUrl("smartinbox-specific-inbox").replace("{smartInboxId}",e.smartInboxId);return e.owner&&(t.owner=e.owner),$.read({url:i,data:t})},getAllProcessesSmartInbox:function(e){return $.read({url:this.serviceLocator.getUrl("smartinbox-processes"),data:{}})},getAllCustomizedColumnsSmartInbox:function(e){var t=JSON.stringify(e);return $.ajax({url:this.serviceLocator.getUrl("smartinbox-customized-columns"),data:t,type:"POST",dataType:"json",contentType:"application/json"})},getEntityValuesForInboxFilter:function(e){var t=this.serviceLocator.getUrl("smartinbox-entity-values");t=t.replace("{entityGuid}",e.entityGuid);var i=e.wildcard&&e.wildcard.length>0?"wildcard="+e.wildcard:"";return $.read({url:t,data:i})},getUserTasksForInboxFilter:function(e){var t="",i=e.id?e.id:-1;return t=e.isSmartInbox?(t=this.serviceLocator.getUrl("smartinbox-user-tasks-smartinboxid")).replace("{smartInboxId}",i):(t=this.serviceLocator.getUrl("smartinbox-user-tasks-process")).replace("{workflowId}",i),$.read({url:t,data:{}})},getUserTasksByWFClass:function(e){var t=JSON.stringify(e);return $.ajax({url:this.serviceLocator.getUrl("smartinbox-user-tasks"),data:t,type:"POST",dataType:"json",contentType:"application/json"})},createSmartInbox:function(e){var t=JSON.stringify(e);return $.ajax({url:this.serviceLocator.getUrl("smartinbox-createinbox"),data:t,type:"POST",dataType:"json",contentType:"application/json"})},updateSmartInbox:function(e,t){var i=JSON.stringify(t),r=this.serviceLocator.getUrl("smartinbox-specific-inbox").replace("{settingName}",e.settingName);return r=(r=r.replace("{owner}",e.owner)).replace("{smartInboxId}",e.smartInboxId),$.ajax({url:r,data:i,type:"PUT",dataType:"json",contentType:"application/json"})},deleteSmartInbox:function(e){var t=this.serviceLocator.getUrl("smartinbox-specific-inbox").replace("{settingName}",e.settingName);return t=(t=t.replace("{owner}",e.owner)).replace("{smartInboxId}",e.smartInboxId),$.ajax({url:t,type:"DELETE",dataType:"json",contentType:"application/json"})},getAdminSmartInbox:function(){var e=this.serviceLocator.getUrl("smartinbox-admin");return $.read({url:e})},getProfilesSmartInbox:function(e){var t=this.serviceLocator.getUrl("smartinbox-profiles"),i="wildcard="+e;return $.read({url:t,data:i})},createAdminSmartInbox:function(e){var t=this.serviceLocator.getUrl("smartinbox-admin"),i=JSON.stringify(e);return $.create({url:t,data:i,dataType:"json",contentType:"application/json"})},shareSmartInbox:function(e,t){var i=JSON.stringify(t),r=this.serviceLocator.getUrl("smartinbox-share").replace("{smartInboxId}",e.smartInboxId);return $.ajax({url:r,data:i,type:"POST",dataType:"json",contentType:"application/json"})},getProcessIcon:function(e){var t={processId:e.processId};return $.read({url:this.serviceLocator.getUrl("process-getIcon"),data:t,batchRequest:!0})},getCollectionIcon:function(e){var t={collectionId:e.collectionId};return $.read({url:this.serviceLocator.getUrl("collections-getIcon"),data:t,batchRequest:!0})},getFavourites:function(){var e=this.serviceLocator.getUrl("process-handler-getFavourites");return $.read(e,{}).pipe((function(e){return e}))},getMyStuff:function(){var e=this.serviceLocator.getUrl("process-handler-getMyStuff");return $.read(e,{}).pipe((function(e){return e}))},getFavouriteCases:function(e){var t={},i=this.serviceLocator.getUrl("process-handler-getFavouriteCases");return e=e||{},t.pageSize=e.pageSize||this.pageSize,t.page=e.page||1,bizagi.isMobile()&&(t.mobileDevice=!0),$.read(i,t).pipe((function(e){return e}))},getActions:function(e){e=e||{};var t={},i=this.serviceLocator.getUrl("process-handler-getActions");return bizagi.isMobile()&&(t.mobileDevice=!0),$.read(i,t).pipe((function(e){return e}))},getCasesList:function(e){e=e||{};var t={},i=this.serviceLocator.getUrl("case-handler-getCasesList");return t.pageSize=e.pageSize||10,t.page=e.page||1,t.numberOfFields=e.numberOfFields||"-1",t.idWfClass=e.idWfClass||"-1",$.read(i,t).pipe((function(e){for(var t={overdue:[],today:[],tomorrow:[],upcoming:[],page:e.page,totalPages:e.totalPages},i=new Date,r=i.getMonth(),a=i.getDate(),s=i.getYear(),o=0;e.elements.length>o;o++){var n=e.elements[o],l=new Date(n[3]),c=l.getDate(),d=l.getMonth(),u=l.getYear();a>c||r>d&&s>=u?(n[3]=bizagi.util.dateFormatter.formatDate(new Date(n[3]),"dd MMM"),t.overdue.push(n)):a==c?(n[3]=bizagi.util.dateFormatter.formatDate(new Date(n[3]),"hh:mm"),t.today.push(n)):a+1==c?(n[3]=bizagi.util.dateFormatter.formatDate(new Date(n[3]),"hh:mm"),t.tomorrow.push(n)):(n[3]=bizagi.util.dateFormatter.formatDate(new Date(n[3]),"dd MMM"),t.upcoming.push(n))}return t}))},getAllAdministrableEntities:function(e){e=e||{};var t={action:"entitiesList",kind:"administrable"};return $.ajax({url:this.serviceLocator.getUrl("entities-administration"),data:t,type:"POST",dataType:"json"}).pipe((function(e){var t={entities:[]};return $.each(e,(function(e,i){t.entities.push(i)})),t}))},getEntitiesList:function(e){return(e=e||{}).action="entitiesList",e.kind="entitiesData",$.ajax({url:this.serviceLocator.getUrl("entities-administration"),data:e,type:"POST",dataType:"json"})},getCasesByWorkflow:function(e){e=e||{};var t={},i=this.serviceLocator.getUrl("process-handler-getCustomizedColumnsDataInfo");if(""!=e.liveFilters&&(t.smartInboxFilter=e.liveFilters),"smartinbox"==e.type&&(t.smartInboxGuid=e.smartInboxGuid,t.orderFieldName=e.orderFieldName||"",t.orderType=e.orderType||"0",t.order=e.order||""),bizagi.util.isEmpty(e.taskState)||(t.taskState=e.taskState),bizagi.util.isEmpty(e.idWorkflow)||(t.idWorkflow=e.idWorkflow),1==e.onlyFavorites&&(t.onlyFavorites=!0,t.taskState="all"),t.pageSize=e.pageSize||this.pageSize,t.page=e.page||1,bizagi.isMobile()&&(t.mobileDevice=!0),e.smartfoldersParameters){var r=e.smartfoldersParameters.split("&");$.each(r,(function(e,i){var r=i.split("=");t[r[0]]=r[1]}))}return $.read(i,t).pipe((function(e){return $.each(e.cases.rows,(function(t,i){var r=[];e.cases.rows[t].radnumber=i.id,$.each(i.fields,(function(i,a){if(null!=a)try{null!=a.isRadNumber&&"true"==a.isRadNumber?e.cases.rows[t].radnumber=a.Value:null!=a.workitems?e.cases.rows[t].workitems=a.workitems:r.push(a)}catch(e){}})),e.cases.rows[t].fields=r})),e.cases}))},_makeRequestOrganizations:function(e){var t=this.serviceLocator.getUrl(e),i={type:12,name:""};return $.read(t,i)},getOrganizationsList:function(e){var t=e?"process-handler-getOrganizations-ForAdminUsers":"process-handler-getOrganizations";return this._makeRequestOrganizations(t)},getOrganizationsByUserList:function(){return this._makeRequestOrganizations("process-handler-getOrganizationsByUser")},getOrganizationsForReassignCases:function(){return this._makeRequestOrganizations("process-handler-getOrganizationsForReassignCases")},getCustomizedColumnsData:function(e){e=e||{};var t={},i=this.serviceLocator.getUrl("process-handler-getCustomizedColumnsData");""!=e.liveFilters&&(t.smartInboxFilter=e.liveFilters),e.taskState=e.taskState||"all";var r=e.taskState.toString().toLowerCase();if(""==r&&(e.taskState="all"),"red"==r&&(e.taskState="Red"),"yellow"==r&&(e.taskState="Yellow"),"green"==r&&(e.taskState="Green"),"smartinbox"==e.type)t.smartInboxGuid=e.smartInboxGuid,t.pageSize=e.pageSize,t.page=e.page||1,t.orderFieldName=e.orderFieldName||"",t.orderType=e.orderType||"0",t.order=e.order||"",t.taskState=e.taskState;else{if(t.pageSize=e.pageSize||this.pageSize,t.pageSize=t.pageSize<1?10:t.pageSize,t.page=e.page||1,t.orderFieldName=e.orderFieldName||"",t.orderType=e.orderType||"0",t.order=e.order||"",bizagi.isMobile()&&(t.mobileDevice=!0),t.taskState=e.taskState,bizagi.util.isEmpty(e.idWorkflow)||(t.idWorkflow=e.idWorkflow),bizagi.util.isEmpty(e.idTask)||(t.idTask=e.idTask),bizagi.util.isEmpty(e.radNumber)||(t.radNumber=e.radNumber),1==e.onlyFavorites&&(t.onlyFavorites=!0,t.taskState="all"),e.smartfoldersParameters){var a=e.smartfoldersParameters.split("&");$.each(a,(function(e,i){var r=i.split("=");t[r[0]]=r[1]}))}e.group&&(t.group=e.group)}return $.read(i,t)},getCategories:function(e){var t={};return(e=e||{}).idCategory&&(t.idCategory=e.idCategory),e.idApp&&(t.idApp=e.idApp),bizagi.isMobile()&&(t.mobileDevice=!0),t.groupByApp=e.groupByApp||!1,$.read(this.serviceLocator.getUrl("process-handler-getCategory"),t)},getRecentProcesses:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("process-handler-getRecentProcesses"),e)},getCaseSummary:function(e){return void 0!==(e=e||{}).idCase?$.read({url:this.serviceLocator.getUrl("case-handler-getCaseSummary"),data:{idCase:e.idCase,eventAsTasks:e.eventAsTasks||"false",onlyUserWorkItems:e.onlyUserWorkItems||"true",mobileDevice:bizagi.isMobile()||"false"},serviceType:"GETSUMMARY"}).pipe((function(e){return e.isAborted&&(e.isAborted=bizagi.util.parseBoolean(e.isAborted)),e})):void 0!==e.guid?$.read({url:this.serviceLocator.getUrl("case-handler-getCaseSummaryByGuid"),data:{guid:e.guid,eventAsTasks:e.eventAsTasks||"false",onlyUserWorkItems:e.onlyUserWorkItems||"true",mobileDevice:bizagi.isMobile()||"false"},serviceType:"GETSUMMARY"}).pipe((function(e){return e})):void 0},getCaseAssignees:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getCaseAssignees"),{idCase:e.idCase}).pipe((function(e){return e}))},getCaseTasks:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getCaseTasks"),{idCase:e.idCase})},getCaseEvents:function(e){return e=e||{},$.read({url:this.serviceLocator.getUrl("case-handler-getCaseEvents"),data:{idCase:e.idCase},serviceType:"GETEVENTS"}).pipe((function(e){return e}))},getCaseSubprocesses:function(e){return e=e||{},$.read({url:this.serviceLocator.getUrl("case-handler-getCaseSubprocesses"),data:{idCase:e.idCase},serviceType:"GETSUBPROCESSES"}).pipe((function(e){return e}))},getCaseFormsRenderVersion:function(e){return void 0!==(e=e||{}).guid?$.read(this.serviceLocator.getUrl("case-handler-getCaseFormsRenderVersionByGuid"),{guid:e.guid}):$.read(this.serviceLocator.getUrl("case-handler-getCaseFormsRenderVersion"),{idCase:e.idCase})},getCaseFormsRenderVersionDataContent:function(e){var t=new $.Deferred;return $.when(this.getCaseFormsRenderVersion(e)).done((function(e){t.resolve(e)})),t.promise()},getTaskAssignees:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getTaskAssignees"),{idCase:e.idCase,idTask:e.idTask})},getWorkitems:function(e){var t={};void 0!==(e=e||{}).guid&&(t.guid=e.guid),t.idCase=e.idCase,"0"!=e.fromTask&&(t.fromTask=e.fromTask),""!=e.fromWorkItemId&&(t.fromWorkItemId=e.fromWorkItemId),t.mobileDevice=bizagi.isMobile(),e.eventAsTasks&&(t.eventAsTasks=e.eventAsTasks),void 0!==e.onlyUserWorkItems&&(t.onlyUserWorkItems=e.onlyUserWorkItems);var i=this.serviceLocator.getUrl("case-handler-getWorkItems");return void 0!==e.guid&&void 0===e.idCase&&(i=this.serviceLocator.getUrl("case-handler-getWorkItemsByGuid").replace("{guid}",e.guid)),void 0===t.guid||""!==t.fromTask&&void 0!==t.fromTask||(t.fromTask=-1),$.read({url:i,data:t,serviceType:"GETWORKITEMS"})},getQueriesDefinitions:function(e){var t=this;if(t.hashQueriesDef&&e.idNode){if(bizagi.override.enableQueriesClassicMenu)return t.hashQueriesDef[e.idNode];if(-1==e.idNode||1!=t.hashQueriesDef[e.idNode].length||"00000000-0000-0000-0000-000000000000"!=t.hashQueriesDef[e.idNode][0].guidForm||t.hashQueriesDef[e.idNode][0].notMigratedUrl){if(-1!=e.idNode&&t.hashQueriesDef[e.idNode].length>1){var i=[];return $.each(t.hashQueriesDef[e.idNode],(function(e,r){if(r.nodes.length>0){var a=t.getQueriesDefinitions({idNode:r.idNode});$.merge(i,a)}else i.push(r)})),i}return t.hashQueriesDef[e.idNode]}return t.getQueriesDefinitions({idNode:t.hashQueriesDef[e.idNode][0].idNode})}var r=new $.Deferred;return $.read(t.serviceLocator.getUrl("query-handler-getqueries-definitions")).done((function(e){t.hashQueriesDef={},t.hashQueriesDef[0]={},t.processQueriesDefinitions("-1",e.query),r.resolve(t.hashQueriesDef[-1])})),r.promise()},processQueriesDefinitions:function(e,t){var i=this;$.each(t,(function(t,r){i.hashQueriesDef[e]||(i.hashQueriesDef[e]=[]),i.hashQueriesDef[e].push(r),r.nodes?i.processQueriesDefinitions(r.idNode,r.nodes):r.nodes={}}))},getQueries:function(e){var t=this;if(t.hashQueries&&e.idElement)return t.hashQueries[e.idElement];var i=new $.Deferred;return $.read(t.serviceLocator.getUrl("query-handler-getqueries")).done((function(e){t.hashQueries={},t.hashQueries[0]={},t.processQueries(e.query),i.resolve(t.hashQueries[-1])})),i.promise()},processQueries:function(e){var t=this;$.each(e,(function(e,i){t.hashQueries[i.idParent]||(t.hashQueries[i.idParent]=[]),t.hashQueries[i.idParent].push(i),i.nodes?t.processQueries(i.nodes):i.nodes={}}))},getManagementQueries:function(e){return $.create(this.serviceLocator.getUrl("queries-manager-queriesByUser"),{guidUser:e.guidUser})},transferQueries:function(e){return $.create(this.serviceLocator.getUrl("queries-manager-TransferQueries"),{guidUserSource:e.guidUserSource,guidUserTarget:e.guidUserTarget})},createNewCase:function(e){var t={};return(e=e||{}).caseData&&(t.caseData=JSON.stringify(e.caseData)),e.idWfClass&&(t.idWfClass=e.idWfClass),e.idOrganization&&(t.idOrganization=e.idOrganization),$.create({url:this.serviceLocator.getUrl("case-handler-addNewCase"),data:t,serviceType:"NEWCASE"})},startProcess:function(e){var t;e=e||{},t=this.serviceLocator.getUrl("case-handler-startProcess");var i={};return e.idProcess&&(i.idProcess=e.idProcess),e.entityMapping&&(i.entityMapping=e.entityMapping),e.isAdhocProcess&&(i.isAdhocProcess=e.isAdhocProcess),e.idOrganization&&(i.idOrganization=e.idOrganization),$.create({url:t,data:i,serviceType:"STARTPROCESS"})},searchCases:function(e){e=e||{};var t={h_action:"SEARCHCASES",onlyUserCases:!1,active:!1};return t.page=e.page||1,e.radNumber&&(t.radNumber=$.trim(e.radNumber)),t.pageSize=e.pageSize||this.pageSize,$.ajax({url:this.serviceLocator.getUrl("query-handler"),data:t,type:"POST",dataType:"json"})},queryCases:function(e){e=e||{};var t={h_action:"QUERYCASES"};return t.onlyUserCases=e.onlyUserCases||!1,t.active=e.active&&!0,t.page=e.page||1,e.radNumber&&(t.radNumber=$.trim(e.radNumber)),t.pageSize=e.pageSize||this.pageSize,t.filter=e.filter,t.outputxpath=e.outputxpath,t.orderFieldName=e.orderFieldName||"",t.orderType="asc"==e.orderType||1==e.orderType?1:0,t.order=e.order||"",$.ajax({url:this.serviceLocator.getUrl("query-handler"),data:t,type:"POST",dataType:"json"})},queryEntities:function(e){e=e||{};var t={h_action:"QUERYENTITIES"};return t.page=e.page||1,t.pageSize=this.Class.ENTITIES_QUERY_PAGE_SIZE,t[this.Class.BA_CONTEXT_PARAMETER_PREFIX+"idEnt"]=e.idEntity,t.filter=e.filter,t.outputxpath=e.outputxpath,t.orderFieldName=e.orderFieldName||"",t.orderType=e.orderType||"",t.order=e.order||"",$.ajax({url:this.serviceLocator.getUrl("query-handler"),data:t,type:"POST",dataType:"json"})},getMenuAuthorization:function(){return $.read(this.serviceLocator.getUrl("authorization-handler-getMenuAuthorization"))},getMaintenanceWindowShowUpcoming:function(){return $.read({url:this.serviceLocator.getUrl("show-upcoming-maintenance-window")})},isCaseCreationAuthorized:function(e){var t=this.serviceLocator.getUrl("authorization-handler-isCaseCreationAuthorized");return t=t.replace("{0}",e.idWfClass||""),$.read({url:t})},getAsynchExecutionState:function(e){return(e=e||{}).idCase,$.read({url:this.serviceLocator.getUrl("case-handler-getAsynchExecutionState"),data:{idCase:e.idCase,idAsynchWorkitem:e.idAsynchWorkitem},serviceType:"ASYNCHEXECUTION"})},supportedLogTypes:function(){return $.read(this.serviceLocator.getUrl("case-handler-supportedLogTypes"))},getActivityLog:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getActivityLog"),{idCase:e.idCase,orden:e.sort||0,idActualPage:e.idActualPage||1,pageSize:e.pageSize||10}).pipe((function(e){var t=0;e.rows&&e.rows.length&&(t=e.rows.length);for(var i,r=0;r<t;r++)i=new Date(e.rows[r][4]),e.rows[r][4]="Invalid Date"==i?e.rows[r][4]:bizagi.util.dateFormatter.formatDate(i,bizagi.localization.getResource("dateFormat")+" "+bizagi.localization.getResource("timeFormat"));return e}))},getActivityDetailLog:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getActivityDetailLog"),{idCase:e.idCase,idWorkItemFrom:e.idWorkItemFrom,idActualPage:e.idActualPage||1,pageSize:e.pageSize||10}).pipe((function(e){return e}))},getEntityLog:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getEntityLog"),{idCase:e.idCase,orden:e.sort||0,idActualPage:e.idActualPage||1,pageSize:e.pageSize||10}).pipe((function(e){return e}))},getEntityDetailLog:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getEntityDetailLog"),{idCase:e.idCase,idEntity:e.idEntity||-1,userFullName:e.userFullName||"",attribDisplayName:e.attribDisplayName||"",idActualPage:e.idActualPage||1,pageSize:e.pageSize||10}).pipe((function(e){return e}))},getUserLog:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getUserLog"),{idCase:e.idCase,orden:e.sort||0,idActualPage:e.idActualPage||1,pageSize:e.pageSize||10}).pipe((function(e){return e}))},getUserDetailLog:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getUserDetailLog"),{idCase:e.idCase,idUser:e.idUser,entDisplayName:e.entDisplayName||"",attribDisplayName:e.attribDisplayName||"",idActualPage:e.idActualPage||1,pageSize:e.pageSize||10}).pipe((function(e){return e}))},getAdminLog:function(e){return e=e||{},$.read(this.serviceLocator.getUrl("case-handler-getAdminLog"),{idCase:e.idCase,orden:e.sort||0,idActualPage:e.idActualPage||1,pageSize:e.pageSize||10}).pipe((function(e){var t=0;e.rows&&e.rows.length&&(t=e.rows.length);for(var i,r=0;r<t;r++)i=new Date(e.rows[r][4]),e.rows[r][4]="Invalid Date"==i?e.rows[r][4]:bizagi.util.dateFormatter.formatDate(i,bizagi.localization.getResource("dateFormat")+" "+bizagi.localization.getResource("timeFormat"));return e}))},addFavorite:function(e){return e=e||{},$.create(this.serviceLocator.getUrl("favorites-handler-saveFavorite"),{idObject:e.idObject,favoriteType:e.favoriteType}).pipe((function(e){return e}))},delFavorite:function(e){return e=e||{},$.destroy(this.serviceLocator.getUrl("favorites-handler-deleteFavorite"),{guidFavorite:e.idObject}).pipe((function(e){return e}))},summaryAssigness:function(e){var t=new $.Deferred,i={idCase:e.idCase||""},r=e.preview?this.getCaseAssigneesPreview(i):this.getCaseAssignees(i);return $.when(r).done((function(e){for(var i=e.assignees||[],r=i.length,a={showAssignees:!!(bizagi.override.showAssignees&&i.length>0),assignees:{},events:"",activities:""},s="",o="",n=[],l=[],c=0;c<r;c++)bizagi.util.parseBoolean(i[c].isEvent)?-1==n.indexOf(i[c].idUser)&&(n.push(i[c].idUser),s+=i[c].Name+", "):-1==l.indexOf(i[c].idUser)&&(l.push(i[c].idUser),o+=i[c].Name+", ");a.events=s.substring(0,s.length-2),a.activities=o.substring(0,o.length-2),t.resolve(a)})),t.promise()},summarySubProcess:function(e){var t=$.Deferred(),i=e.idCase||"";return $.when(this.getCaseSubprocesses({idCase:i})).done((function(e){if(e.showSubProcess=e.subProcesses.length>=1,e.showSubProcesColumns=void 0!==e.CustFields[0]&&e.CustFields[0][0].length>=1,e.showSubProcesColumns){var i;e.subProcPersonalized={};for(var r=0;r<e.CustFields.length;r++){i=0;for(var a=0;a<e.subProcesses.length;a++)e.subProcesses[a].idCustData==r&&(e.subProcPersonalized[r]=e.subProcPersonalized[r]||{},e.subProcPersonalized[r].subProcesses=e.subProcPersonalized[r].subProcesses||{},e.subProcPersonalized[r].subProcesses[i++]=e.subProcesses[a]);-1!=e.subProcesses[r].idCustData&&null!=e.subProcPersonalized[r]&&(e.subProcPersonalized[r].CustFields={0:e.CustFields[r][r]},e.subProcPersonalized[r].idCase=e.idCase)}}t.resolve(e)})),t.promise()},summaryCaseEvents:function(e){var t=$.Deferred(),i=e.idCase||"";return $.when(this.getCaseEvents({idCase:i})).done((function(e){e.showEvents=e.events.length>=1,t.resolve(e)})),t.promise()},summaryCaseDetails:function(e){var t=new $.Deferred,r=e.idWorkitem||0;return $.when(this.getCaseSummaryDataContent(e)).done((function(e){e.currentState=e.currentState||[];var a=e.currentState.length;for(e.showEvents=e.countEvents>=1,e.showParentProcess=e.idParentCase>=1,e.parentProcess={displayName:e.parentDisplayName,idCase:e.idParentCase},e.isClosedForAllUsers=bizagi.util.parseBoolean(e.isClosed),e.isClosed=!bizagi.util.parseBoolean(e.isOpen),e.showAssignees=!!(bizagi.override.showAssignees&&e.countAssigness>0),e.showSubProcess=e.countSubProcesses>0,e.showForm=!!bizagi.util.parseBoolean(e.hasGlobalForm),e.allowsReassign="false",i=0;i<a;i++)e.currentState[i].idWorkItem==r&&(e.allowsReassign=e.currentState[i].allowsReassign);var s=[],o=0;for(i=0;i<a;i++)!bizagi.util.parseBoolean(e.currentState[i].isEvent)&&bizagi.util.parseBoolean(e.currentState[i].assignToCurrentUser)&&e.currentState[i].idWorkItem!=r&&(s[o++]=e.currentState[i]);e.currentStateTypes=s,e.showActivities=s.length>0,t.resolve(e)})).fail((function(e){t.reject(e)})),t.promise()},releaseActivity:function(e){var t=this.serviceLocator.getUrl("case-handler-releaseActivity");t=t.replace("{idCase}",e.idCase);var i={};return e&&(i.idCase=e.idCase,i.idWorkItem=e.idWorkItem),$.ajax({url:t,data:i,type:"POST",dataType:"json"})},takeOwnershipActivity:function(e){var t=this.serviceLocator.getUrl("case-handler-takeOwnershipActivity"),i={};return e&&(i.idCase=e.idCase,i.idWorkItem=e.idWorkItem),$.ajax({url:t,data:i,type:"POST",dataType:"json"})},getTaskOptions:function(e){return $.read(this.serviceLocator.getUrl("case-handler-taskOptions"),e)},summaryActivities:function(e){var t={},i=e.data||{},r=r||e.idWorkitem||0;try{t.showActivities=i.currentStateTypes.length>=1,t.currentState=i.currentStateTypes,t.globalIdWorkitem=r,t.creationDate=i.creationDate}catch(e){}return t},getCaseSummaryDataContent:function(e){var t=this,i=new $.Deferred;return $.when(t.getCaseSummary(e)).done((function(e){e.taskState=t.icoTaskState,e.createdBy&&(e.createdByName=e.createdBy.Name,e.createdByUserName=e.createdBy.userName,e.caseDescription=""==e.caseDescription?"":e.caseDescription,e.processPath=e.processPath.replace(/\//g," > ")+e.process,e.showWorkOnIt=!0),i.resolve(e)})).fail((function(e){i.reject(e)})),i.promise()},getSmartFolders:function(e){var t=this,i={};return i.idFolder=e||"",$.read(t.serviceLocator.getUrl("folders-handler-getUserQueries"),i).pipe((function(i){return-1==e||""==e?i:t.searchFolders(e,i)||[]}))},deleteSmartFolder:function(e){var t={action:"6"};return e=e||{},t.idSmartFolder=e.idSmartFolder||"",t.idUser=e.idUser||"",$.destroy(this.serviceLocator.getUrl("folders-associate-deleteSmartFolder"),t)},getFolders:function(e){var t=this,i={action:"getUserFolder"};return i.idFolder=e||"",$.ajax({url:t.serviceLocator.getUrl("folders-handler"),type:"POST",data:i,dataType:"json"}).pipe((function(i){return""==e?{folders:[{name:bizagi.localization.getResource("workportal-widget-folders"),id:"-1",idParent:0,childs:i}]}:-1==e?i:t.searchFolders(e,i)||[]}))},searchFolders:function(e,t){for(var i=0;i<t.folders.length;i++){if(t.folders[i].id==e)return t.folders[i].childs}},getCasesByFolder:function(e){return e=e||"",$.ajax({cache:!0,url:"RestServices/"+e,type:"GET",dataType:"json"})},makeFolder:function(e){var t={action:"CreateUpdateFolder"};return t.folderName=e.folderName||"No Name",null!=e.idParentFolder&&e.idParentFolder>1&&(t.idParentFolder=e.idParentFolder),$.ajax({url:this.serviceLocator.getUrl("folders-handler"),data:t,type:"POST",dataType:"json"})},updateFolder:function(e){var t={};return e=e||{},t.action="CreateUpdateFolder",t.idFolder=e.idFolder||"",e.folderName&&(t.folderName=e.folderName),e.idParentFolder&&(t.idParentFolder=e.idParentFolder),$.ajax({url:this.serviceLocator.getUrl("folders-handler"),data:t,type:"POST",dataType:"json"})},associateCaseToFolder:function(e){var t={action:"4"};return e=e||{},t.idCase=e.idCase||"",t.idCustomFolder=e.idCustomFolder,$.ajax({url:this.serviceLocator.getUrl("folders-associate"),data:t,type:"POST",dataType:"json"})},dissasociateCaseFromFolder:function(e){var t={action:"DeleteCaseFromFolder"};return e=e||{},t.idFolder=e.idFolder,t.idCase=e.idCase,$.ajax({url:this.serviceLocator.getUrl("folders-handler"),data:t,type:"POST",dataType:"json"})},deleteFolder:function(e){var t={action:"5"};return e=e||{},t.idCustomFolder=e.idCustomFolder||"",$.ajax({url:this.serviceLocator.getUrl("folders-associate"),data:t,type:"POST",dataType:"json"})},getFile:function(e){var t={},i=this.serviceLocator.getUrl("file-handler");return e=e||{},t.action="getFileContent",t.uploadId=e.uploadId||"",t.entityId=e.entityId||"",t.entityKey=e.entityKey||"",bizagi.services.ajax.pathToBase+i+"?"+jQuery.param(t)},getComments:function(e){var t=this;return e=e||{},$.read(encodeURI(t.serviceLocator.getUrl("MessageHandler-GetComments")),{idCase:e.idCase||"",idColorCategory:"number"==typeof e.idColorCategory?e.idColorCategory:"",pag:e.pag||1,pagSize:e.pagSize||10}).pipe((function(e){var i=new $.Deferred,r="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";return e.comments?$.each(e.comments,(function(t,i){e.comments[t].hasOwnProperty("CategoryColor")||(e.comments[t].CategoryColor="")})):e.comments=[],e.users?$.each(e.users,(function(t,i){e.users[t].Picture=""===e.users[t].Picture?r:e.users[t].Picture})):$.when(t.getCurrentUser()).done((function(t){e.users=[],e.users.push({Id:t.idUser,Name:t.user,DisplayName:t.userName,Picture:r})})),i.resolve(e),i.promise()}))},makeNewComment:function(e){return $.create(this.serviceLocator.getUrl("MessageHandler-NewComment"),{idCase:e.idCase||"",comment:e.comment.replace(/\n/g,"<br>")||""}).pipe((function(e){if(e.comments){var t=[e.comments];$.each(t,(function(e,i){t[e].CategoryColor=""})),e.comments=t}if(e.users){var i=[e.users];$.each(i,(function(e,t){i[e].Picture=""==i[e].Picture?"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":i[e].Picture})),e.users=i}return e}))},makeNewReply:function(e){return e=e||{},$.create(this.serviceLocator.getUrl("MessageHandler-ReplyComment"),{idCase:e.idCase||"",idComment:e.idComment||"",comment:e.comment.replace(/\n/g,"<br>")||""}).pipe((function(e){if(e.comments&&(e.Replies=[e.comments]),e.users){var t=[e.users];$.each(t,(function(e,i){t[e].Picture=""==t[e].Picture?"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":t[e].Picture})),e.users=t}return e}))},removeComment:function(e){return e=e||{},$.destroy(this.serviceLocator.getUrl("MessageHandler-RemoveComment"),{idCase:e.idCase||"",idComment:e.idComment||""})},removeReply:function(e){return e=e||{},$.destroy(this.serviceLocator.getUrl("MessageHandler-RemoveReply"),{idCase:e.idCase||"",idComment:e.idComment||"",idReply:e.idReply||""})},renameCommentCategory:function(e){return e=e||{},$.update(this.serviceLocator.getUrl("MessageHandler-RenameCategoryColor"),{idColorCategory:e.idColorCategory>=0?e.idColorCategory:"",colorName:e.colorName||""})},setCommentCategory:function(e){return e=e||{},$.update(this.serviceLocator.getUrl("MessageHandler-SetCategoryToComment"),{idCase:e.idCase||"",idComment:e.idComment||"",idColorCategory:"number"==typeof e.idColorCategory?e.idColorCategory:""})},getCommentsCategories:function(){return $.read(this.serviceLocator.getUrl("MessageHandler-GetCategoryColors")).pipe((function(e){return e.length>1&&e[0].categories?e[0]:e}))},getNewComments:function(e){var t={idCase:(e=e||{}).idCase||0,idComment:e.idComment||0};return $.read(this.serviceLocator.getUrl("MessageHandler-CountNewComments"),t)},getAnalisysQueries:function(){return $.read(this.serviceLocator.getUrl("bamAnalytics-handler-getAnalisysQueries"))},updateQueries:function(e){return $.update(this.serviceLocator.getUrl("bamAnalytics-handler-updateQuery"),{idQuery:e.idQuery>=0?e.idQuery:"",queryName:e.queryName||"",queryDescription:e.queryDescription||""})},deleteQueries:function(e){var t={action:"1612"};return t.QueryId=e||"",$.destroy(this.serviceLocator.getUrl("reports-handler-deleteQueries"),t)},getConfiguration:function(e){var t=this.serviceLocator.getUrl("authenticationConfig")+(e?"?domain="+e:"");return $.read(t)},logout:function(e){var t=this,i={sourceLogout:"user"};sessionStorage.removeItem("bizagiAuthentication");try{$.when($.read(bizagi.proxyPrefix+"Rest/Users/CurrentUserGuid")).done((function(r){var a={domain:r.domain};$.when(t.getConfiguration(a.domain)).done((function(r){if(r.redirectErrorPage)window.location.href=r.redirectErrorPage;else{var s=r.authenticationType,o=r.authenticationSubType;switch(s){case"Federate":t.federateAuthenticatorLogOff(r,o,i,e);break;case"SAML":loader.nativeAjax(loader.getPathUrl(t.serviceLocator.getUrl("logout"),i),(function(e){var t=JSON.parse(e.responseText);if(!0===t.logout)if(void 0!==t.samlUrlRedirect){var i=decodeURI(t.samlUrlRedirect),r=document.createElement("iframe");document.getElementsByTagName("body")[0].appendChild(r),$(r).on("load",(function(){(bizagi.util.isIE8()?$(this.contentWindow.document.body):$(this.contentWindow.eval("document.body"))).text();location.reload()})),r.src=i}else location.reload();else bizagi.log("Error logging out")}));break;case"OAuth2":t.oauth2AuthenticatorLogOff(i,e);break;case"Multiple":$.when($.read(t.serviceLocator.getUrl("multipleAuthenticatorConfig"),a)).done((function(r){switch(r.multipleAuthenticationType.toLowerCase()){case"federated":t.federateAuthenticatorLogOff(r,r.multipleAuthenticationSubType,i,e);break;case"oauth2":t.oauth2AuthenticatorLogOff(i,e,a);break;default:t.authenticatorLogOff(i,e)}})).fail((function(r){console.log(r),t.authenticatorLogOff(i,e)}));break;default:t.authenticatorLogOff(i,e)}}})).fail((function(e){console.log(e)}))})).fail((function(e){console.log(e)}))}catch(e){console.log(e)}},federateAuthenticatorLogOff:function(e,t,i,r){var a=this,s=e.logOffURL,o=e.federationLogoutBindingProtocol;if(t&&(t=t.toLowerCase()),"wsfederated"===t)$.when($.create(a.serviceLocator.getUrl("logout"),i)).done((function(){r&&""!=r&&(s=s.replace(/wreply=[^&]*/,"wreply="+r)),location.href=s})).fail((function(){bizagi.log("Error logging out")})).always((function(){location.href=e.logOffURL}));else if("saml"===t){var n={};sessionStorage.getItem("userIdentity")&&(n={userIdentity:sessionStorage.getItem("userIdentity")}),$.when($.read(a.serviceLocator.getUrl("FederateLogoffUrl"),n)).done((function(e){e.federateLogoffUrl&&(s=e.federateLogoffUrl),$.when($.create(a.serviceLocator.getUrl("logout"),i)).done((function(){"POST"===o?(window.document.open("text/html"),window.document.write(s),window.document.close()):window.location.href=s})).fail((function(){bizagi.log("Error logging out")})).always((function(){}))})).fail((function(){bizagi.log("Error logging out")})).always((function(){}))}},oauth2AuthenticatorLogOff:function(e,t,i){var r=this;$.when($.create(r.serviceLocator.getUrl("logout"),e)).done((function(e){$.when($.read(r.serviceLocator.getUrl("oauth2AuthenticationConfig"),i)).done((function(i){if(i.logoutUrl&&""!=i.logoutUrl){var r=i.logoutUrl;t&&(t.endsWith("/")||(t+="/"),r=r.replace(/post_logout_redirect_uri=[^&]*/,"post_logout_redirect_uri="+t)),e.invalidateAccessToken&&(r=r.replace(/invalidateAccessToken=[^&]*/,"invalidateAccessToken="+e.invalidateAccessToken)),e.idTokenHint&&r.indexOf("id_token_hint")>=0&&(r+=e.idTokenHint),location.href=r}else location.reload()})).fail((function(){bizagi.log("Error logging out")}))})).fail((function(){bizagi.log("Error logging out")}))},authenticatorLogOff:function(e,t){$.when($.create(this.serviceLocator.getUrl("logout"),e)).done((function(){t?location.href=t:window.location=bizagi.services.ajax.loginPage})).fail((function(){bizagi.log("Error logging out")}))},logoutMobile:function(){sessionStorage.removeItem("bizagiAuthentication");var e=this.serviceLocator.getUrl("logout");return $.read(e)},logoutBeforeUnload:function(){sessionStorage.removeItem("bizagiAuthentication"),$.ajax({type:"POST",async:!1,data:{sourceLogout:"browser"},url:this.serviceLocator.getUrl("logout")})},getOrganizationInfo:function(e){var t={};return t.objectType=e,$.ajax({url:this.serviceLocator.getUrl("massive-activity-assignments-getOrganizationInfo"),data:t,type:"GET",dataType:"json"})},getCasesByOrganization:function(e){var t={};return t.roles=e.roles?"["+e.roles.toString()+"]":"[]",t.skills=e.skills?"["+e.skills.toString()+"]":"[]",t.locations=e.locations?"["+e.locations.toString()+"]":"[]",$.ajax({url:this.serviceLocator.getUrl("massive-activity-assignments-getCasesByOrganization"),data:t,type:"GET",dataType:"json"})},reassignCases:function(e){var t={};return t.users=e.user?"["+e.user.toString()+"]":"[]",t.roles=e.roles?"["+e.roles.toString()+"]":"[]",t.skills=e.skills?"["+e.skills.toString()+"]":"[]",t.locations=e.locations?"["+e.locations.toString()+"]":"[]",$.ajax({url:this.serviceLocator.getUrl("massive-activity-assignments-reassignCases"),data:t,type:"POST",dataType:"json"})},searchUsers:function(e){return this.searchUsersWithSpecificEndpoint(e,"massive-activity-assignments-searchUsers")},searchUsersSharedQuery:function(e){return this.searchUsersWithSpecificEndpoint(e,"massive-activity-assignments-searchUsersForSharingQuery")},searchUsersOauth:function(e){return this.searchUsersWithSpecificEndpoint(e,"admin-getUserOauth")},searchUsersWithSpecificEndpoint:function(e,t){var i={};return i.userName=e.userName||"",i.fullName=e.fullName||"",i.domain=e.domain||"",i.queryFormId=e.queryFormId||"",$.read(this.serviceLocator.getUrl(t),i)},searchUsersByID:function(e){var t={ids:"["+e.toString()+"]"};return $.ajax({url:this.serviceLocator.getUrl("massive-activity-assignments-searchUsersById"),data:t,type:"POST",dataType:"json"})},getUsersList:function(e){return $.read(this.serviceLocator.getUrl("admin-getUsersList"),e)},getUsersForDefaultAssignation:function(e){return $.read(this.serviceLocator.getUrl("admin-getUsersForDefaultAssignation"),e)},getUsersForAssignation:function(e){return $.read(this.serviceLocator.getUrl("admin-getUsersForAssignation"),e)},searchUsersForPermissionsManager:function(e){return $.read(this.serviceLocator.getUrl("admin-searchUsersForPermissionsManager"),e)},getUsersForReassignCases:function(e){return $.read(this.serviceLocator.getUrl("admin-getUsersForReassignCases"),e)},getUsersForUsersAdministration:function(e){return $.read(this.serviceLocator.getUrl("admin-getUsersForUsersAdministration"),e)},getUsersForQueriesPermissionManager:function(e){return $.read(this.serviceLocator.getUrl("admin-getUsersForQueriesPermissionManager"),e)},getOAuth2Applications:function(e){return $.read(this.serviceLocator.getUrl("admin-getUsersForAssignation"),e)},getAdhocProcessesList:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-getAdhocProcessesList"),data:e,type:"POST",dataType:"json"})},createAdhocProcess:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-createAdhocProcess"),data:e,type:"POST",dataType:"json"})},createNewAdhocProcess:function(e){return $.create({url:this.serviceLocator.getUrl("admin-createNewAdhocProcess"),data:JSON.stringify(e),dataType:"json",contentType:"application/json"})},updateAdhocProcess:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-updateAdhocProcess"),data:e,type:"POST",dataType:"json"})},publishAdhocProcess:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-publishAdhocProcess"),data:e,type:"POST",dataType:"json"})},deleteAdhocProcess:function(e){var t=this.serviceLocator.getUrl("admin-deleteAdhocProcess");return $.ajax({url:t.replace("{processId}",e),type:"DELETE",dataType:"json"})},cloneAdhocProcess:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-cloneAdhocProcess"),data:e,type:"POST",dataType:"json"})},deleteAdhocTask:function(e){var t=this.serviceLocator.getUrl("admin-deleteAdhocTask");return $.ajax({url:t.replace("{processId}",e.idProcess).replace("{taskId}",e.idTask),type:"DELETE",dataType:"json"})},updateAdhocTask:function(e){var t=this.serviceLocator.getUrl("admin-updateAdhocTask");return $.ajax({url:t.replace("{processId}",e.idProcess),data:e.task,type:"POST",dataType:"json"})},getAdhocDataSchema:function(e){var t=this.serviceLocator.getUrl("admin-getAdhocDataSchema");return $.ajax({url:t.replace("{processId}",e),type:"GET",dataType:"json"})},getAdhocProcessDiagram:function(e){var t=this.serviceLocator.getUrl("admin-getAdhocProcessDiagram");return $.ajax({url:t.replace("{processId}",e),type:"GET",dataType:"json"})},getAdhocTask:function(e,t){var i=this.serviceLocator.getUrl("admin-getAdhocTask");return $.ajax({url:i.replace("{processId}",e).replace("{taskId}",t),type:"GET",dataType:"json"})},saveAdhocProcessDiagram:function(e,t){var i=this.serviceLocator.getUrl("admin-saveAdhocProcessDiagram");return $.ajax({url:i.replace("{processId}",e),data:t,type:"POST",dataType:"json"})},getAdhocEntitiesList:function(){var e=this.serviceLocator.getUrl("admin-adhoc-entities-list");return $.read(e,{})},getAdhocUserGroupList:function(){var e=this.serviceLocator.getUrl("admin-adhoc-user-group-list");return $.read(e,{})},loadUsersByGroup:function(e){var t=this.serviceLocator.getUrl("admin-adhoc-user-group-data-get");return $.ajax({url:t.replace("{groupId}",e),type:"GET",dataType:"json"})},loadAuthItemInfoByInstance:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-adhoc-authorization-data-get"),data:e,type:"POST",dataType:"json"})},saveAdhocAuthorizationInfo:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-adhoc-authorization-data-save").replace("{processId}",e.processId).replace("{isAdhocTask}",e.isAdhocTask),data:e.auth,type:"POST",dataType:"json"})},deleteAdhocGroup:function(e){var t=this.serviceLocator.getUrl("admin-adhoc-user-group-delete");return $.ajax({url:t.replace("{groupId}",e),type:"DELETE",dataType:"json"})},saveAdhocGroup:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-adhoc-user-group-save"),data:e,type:"POST",dataType:"json"})},addUserToGroup:function(e){var t=this.serviceLocator.getUrl("admin-adhoc-user-group-data-add");return $.ajax({url:t.replace("{groupId}",e.groupId).replace("{userId}",e.userId),type:"POST",dataType:"json"})},removeUserFromGroup:function(e,t){var i=this.serviceLocator.getUrl("admin-adhoc-user-group-data-remove");return $.ajax({url:i.replace("{groupId}",e).replace("{userId}",t),type:"DELETE",dataType:"json"})},getAdhocEntityInstances:function(e){var t=this.serviceLocator.getUrl("admin-adhoc-entity-instances");return $.ajax({url:t.replace("{entityId}",e),type:"GET",dataType:"json"})},getEntityValues:function(e,t){var i=this.serviceLocator.getUrl("admin-entity-values");return $.ajax({url:i.replace("{context}",e).replace("{entityId}",t),type:"GET",dataType:"json"})},saveAdhocEntity:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-saveAdhocEntity"),data:e,type:"POST",dataType:"json"})},saveAdhocEntityInstance:function(e){return $.ajax({url:this.serviceLocator.getUrl("admin-saveAdhocEntityInstance").replace("{entityId}",e.entityId).replace("{isNew}",e.isNew),data:e.instance,type:"POST",dataType:"json"})},getAllEntities:function(){return $.ajax({url:this.serviceLocator.getUrl("admin-getAllEntities"),type:"GET",dataType:"json"})},getAllCategories:function(){return $.ajax({url:this.serviceLocator.getUrl("admin-getAllCategories"),type:"GET",dataType:"json"})},getDomainList:function(){var e=this.serviceLocator.getUrl("domains");return $.read(e)},getEcmAllScheduledJobs:function(){var e={action:"getEcmAllScheduledJobs"};return $.read(this.serviceLocator.getUrl("async-ecm-upload-baseService"),e)},retryECMPendingScheduledJob:function(e){var t={action:"retryECMPendingScheduledJob"};return t.idJob=e,$.read(this.serviceLocator.getUrl("async-ecm-upload-baseService"),t)},getWorkPortalVersion:function(){return $.ajax({url:this.serviceLocator.getUrl("WorkPortalVersion"),type:"GET",dataType:"json"}).always((function(e){return""==(e=e||{}).version&&(e.version=bizagi.loader.productBuild||""),e}))},getAuthenticationLogData:function(e){var t="";return t="domains"==e.dataType?"admin-getAuthenticationDomains":"events"==e.dataType?"admin-getAuthenticationEventsTypes":"admin-getAuthenticationEventSubTypes",$.ajax({url:this.serviceLocator.getUrl(t),data:{},type:"GET",dataType:"json"})},getAuthenticationLogResult:function(e){var t={};return t.action=e.action,t.domain=e.domain,t.userName=e.userName,t.dtFrom=e.dtFrom,t.dtTo=e.dtTo,t.eventSubType=e.eventSubType,t.eventType=e.eventType,t.pag=e.pag,t.pagSize=e.pagSize,$.ajax({url:this.serviceLocator.getUrl("admin-getAuthenticationLog"),data:t,type:"GET",dataType:"json"}).pipe((function(e){for(var t=e.rows.length,i=0;i<t;i++){var r=e.rows[i][0],a=new Date(r),s=bizagi.util.dateFormatter.formatDate(a,bizagi.localization.getResource("dateFormat")+" "+bizagi.localization.getResource("timeFormat"));e.rows[i][0]="Invalid Date"==a?r:s}return e}))},encryptString:function(e){var t={};return e=e||{},t.entry=e.entry,$.ajax({url:this.serviceLocator.getUrl("admin-EncryptString"),data:t,type:"POST",dataType:"json"})},userPendingRequests:function(e){var t={pag:e.pag,pagSize:e.pagSize};return $.read(this.serviceLocator.getUrl("admin-UserPendingRequests"),t)},userAuthenticationInfo:function(e){return $.read(this.serviceLocator.getUrl("admin-UserAuthenticationInfo"),{idUser:e.idUser})},updateUserAuthenticationInfo:function(e){return $.create(this.serviceLocator.getUrl("admin-updateUserAuthenticationInfo"),{idUser:e.idUser,password:e.password,enabled:e.enabled,expired:e.expired,locked:e.locked})},generateRandomPassword:function(e){return(e=e||{}).action="generateRandomPassword",$.ajax({url:this.serviceLocator.getUrl("admin-generateRandomPassword"),data:e,type:"POST",dataType:"json"})},generateDataToSendByEmail:function(e){e=e||{};var t={action:"GenerateDataToSendByEmail"};return t.idUser=e.idUser,t.password=e.password,$.ajax({url:this.serviceLocator.getUrl("admin-GenerateDataToSendByEmail"),data:e,type:"POST",dataType:"json"})},sendEmail:function(e){e=e||{};var t={action:"sendEmail"};return t.emailTo=e.emailTo,t.subject=e.subject,t.body=e.body,$.ajax({url:this.serviceLocator.getUrl("admin-sendEmail"),data:e,type:"POST",dataType:"json"})},sendUserEmail:function(e){e=e||{};var t={action:"SendUserEmail"};return t.emailTo=e.emailTo,t.subject=e.subject,t.body=e.body,$.ajax({url:this.serviceLocator.getUrl("admin-sendUserEmail"),data:e,type:"POST",dataType:"json"})},getApplicationCategoriesList:function(e){var t={},i="";if(e.userId&&(t.userId=e.userId),"Applications"==e.action&&e.userId){i=this.serviceLocator.getUrl("admin-getCaseSecurityApplicationList");return $.read(i,t)}if("Applications"==e.action&&!e.userId)return i="admin-getApplicationList",$.ajax({url:this.serviceLocator.getUrl(i),data:t,type:"GET",dataType:"json"});if("getCategories"==e.action&&e.userId){i=this.serviceLocator.getUrl("admin-getCaseSecurityCategoriesList");return t.idApp=e.idApp,t.idCategory=e.idCategory,e.authorizationContext&&(t.authorizationContext=e.authorizationContext),""==t.idCategory&&(t.idCategory=-1),void 0!==e.filterStartEvent&&(t.filterStartEvent=e.filterStartEvent),$.read(i,t)}return"getCategories"!=e.action||e.userId?void 0:(i="admin-getCategoriesList",t.idApp=e.idApp,t.idCategory=e.idCategory,e.authorizationContext&&(t.authorizationContext=e.authorizationContext),""==t.idCategory&&(t.idCategory=-1),void 0!==e.filterStartEvent&&(t.filterStartEvent=e.filterStartEvent),$.ajax({url:this.serviceLocator.getUrl(i),data:t,type:"GET",dataType:"json"}))},getAdminCasesList:function(e){var t=e||{};return $.ajax({cache:!0,url:this.serviceLocator.getUrl("admin-getCasesList"),data:t,type:"GET",dataType:"json"})},cancelCase:function(e){var t=e||{};return $.ajax({cache:!0,url:this.serviceLocator.getUrl("case-handler-cancelCase"),data:t,type:"POST",dataType:"json"})},postAdminInvalidateCase:function(e){var t=e||{};return $.ajax({cache:!0,url:this.serviceLocator.getUrl("admin-invalidateCases"),data:t,type:"POST",dataType:"json"})},getResponseProcessRunningInvalidateCases:function(e){var t=e||{};return $.ajax({cache:!0,url:this.serviceLocator.getUrl("admin-getProcessRunningInvalidateCases"),data:t,type:"GET",dataType:"json"})},getApplicationProcesses:function(e){var t=this.serviceLocator.getUrl("admin-getApplicationProcesses"),i={};return i.idApp=e.idApp?e.idApp:-1,$.read(t,i)},getProcessVersion:function(e){var t=this.serviceLocator.getUrl("admin-getProcessVersion"),i={};return i.idWfClass=e.idWFClass,$.read(t,i)},getProcessTasks:function(e){var t=this.serviceLocator.getUrl("admin-getProcessTasks"),i={};return i.idWfClass=e.idWFClass,i.version=e.version?e.version:void 0,$.read(t,i)},getTaskAlarms:function(e){var t=this.serviceLocator.getUrl("admin-getTaskAlarms"),i={};return i.idTask=e.idTask,$.read(t,i)},getLapseMode:function(){var e=this.serviceLocator.getUrl("admin-getLapseMode");return $.read(e)},getRecurrMode:function(){var e=this.serviceLocator.getUrl("admin-getRecurrMode");return $.read(e)},getScheduleType:function(){var e=this.serviceLocator.getUrl("admin-getScheduleType");return $.read(e)},getBossList:function(e){var t=this.serviceLocator.getUrl("admin-getBossList");return $.read(t)},addAlarm:function(e){var t=this.serviceLocator.getUrl("admin-addAlarm"),i={};return i.idTask=e.idTask,i.idRecurrMode=e.idRecurrMode,i.idLapseMode=e.idLapseMode,i.scheduleType=e.scheduleType,i.alarmTime=e.alarmTime,i.alarmRecurrTime=e.alarmRecurrTime,i.sendToCurrentAssignee=e.sendToCurrentAssignee,$.update(t,i)},editAlarm:function(e){var t=this.serviceLocator.getUrl("admin-editAlarm"),i={};return i.idTask=e.idTask,i.idAlarm=e.idAlarm,i.idRecurrMode=e.idRecurrMode,i.idLapseMode=e.idLapseMode,i.scheduleType=e.scheduleType,i.alarmTime=e.alarmTime,i.alarmRecurrTime=e.alarmRecurrTime,i.sendToCurrentAssignee=e.sendToCurrentAssignee,$.update(t,i)},deleteAlarm:function(e){var t=this.serviceLocator.getUrl("admin-deleteAlarm");return e.idAlarm,$.destroy(t,e)},getAlarmRecipients:function(e){var t=this.serviceLocator.getUrl("admin-alarmRecipients"),i={};return i.idAlarm=e.idAlarm,$.read(t,i)},addRecipientToAlarm:function(e){var t=this.serviceLocator.getUrl("admin-recipientToAlarm"),i={};return i.idAlarm=e.idAlarm,i.idRecipient=e.idRecipient,$.update(t,i)},deleteRecipientsFromAlarm:function(e){var t=this.serviceLocator.getUrl("admin-deleteAlarmRecipients"),i={};return i.idRecipients=e.idRecipients,$.destroy(t,i)},enableAlarm:function(e){var t=this.serviceLocator.getUrl("admin-enableAlarm"),i={};return i.idTask=e.idTask,$.create(t,i)},abortReassignItems:function(e){var t=e||{},i="abort"==e.action?"admin-abortItems":"admin-reassignItems";return $.ajax({url:this.serviceLocator.getUrl(i),data:t,type:"POST",dataType:"json"})},reassignCurrent:function(e){var t=e||{};return $.ajax({url:this.serviceLocator.getUrl("admin-reassignCurrent"),data:t,type:"POST",dataType:"json"})},asyncActivitiesServices:function(e){var t=e,i="",r="GET";return"getActivities"==e.action?i=this.serviceLocator.getUrl("admin-async-activities-get-activities"):"retryNow"==e.action?(r="POST",i=(i=(i=(i=this.serviceLocator.getUrl("admin-async-activities-get-retry-now")).replace("{idCase}",e.idCase)).replace("{idworkItem}",e.idWorkitem)).replace("{idAsynchWorkitem}",e.idAsynchWorkitem)):"getActivitiesByTask"==e.action?i=this.serviceLocator.getUrl("admin-async-activities-get-activities-by-task"):"enableExecution"==e.action?(r="POST",i=this.serviceLocator.getUrl("admin-async-activities-enable-execution")):"enableMultiple"==e.action?(i=this.serviceLocator.getUrl("admin-async-activities-enable-multiple"),r="POST"):"asyncExecution"==e.action?i=this.serviceLocator.getUrl("admin-async-activities-async-execution"):"asyncExecutionLog"==e.action?i=(i=(i=(i=this.serviceLocator.getUrl("admin-async-activities-async-execution-log")).replace("{idCase}",e.idCase)).replace("{idworkItem}",e.idWorkItem)).replace("{idAsynchWorkitem}",e.idAsynchWorkitem):"getAsyncExecution"==e.action&&(i=this.serviceLocator.getUrl("admin-async-activities-async-get-current-execution-log")),$.ajax({url:i,data:t,type:r,dataType:"json"})},getAsynchronousRpaJobs:function(e){var t,i=e;return t=this.serviceLocator.getUrl("admin-async-activities-get-rpajobs"),$.ajax({url:t,data:i,type:"GET",dataType:"json"})},getRPAActivityLog:function(e){var t=e,i="";return i=(i=this.serviceLocator.getUrl("admin-async-activities-rpajob-execution-log")).replace("{idJob}",e.idJob),$.ajax({url:i,data:t,type:"GET",dataType:"json"})},enableMultipleRPAJobs:function(e){var t,i=e;return t=this.serviceLocator.getUrl("admin-async-activities-rpajob-enable-multiple"),$.ajax({url:t,data:i,type:"POST",dataType:"json"})},getAsynchronousRpaJobsByTask:function(e){var t,i=e;return t=this.serviceLocator.getUrl("admin-async-activities-rpajob-activities-by-task"),$.ajax({url:t,data:i,type:"GET",dataType:"json"})},enableRPAJobsByTaskAndProcess:function(e){var t,i=e;return t=this.serviceLocator.getUrl("admin-async-activities-rpajob-enable-execution"),$.ajax({url:t,data:i,type:"POST",dataType:"json"})},retryRPAJob:function(e){var t=e,i="";return i=(i=this.serviceLocator.getUrl("admin-async-activities-rpajob-retry-now")).replace("{idJob}",e.idJob),$.ajax({url:i,data:t,type:"POST",dataType:"json"})},getDefaultAssignationUserToAllProcess:function(e){return $.read(this.serviceLocator.getUrl("admin-getDefaultAssignationUserToAllProcess"),{serviceAction:"getDefaultAssignationUserToAllProcess"})},getDefaultAssignationUserToProcess:function(e){var t;return t=""==e.idWFClass?-1:e.idWfClass,$.read(this.serviceLocator.getUrl("admin-getDefaultAssignationUserToProcess"),{serviceAction:"getDefaultAssignationUserToProcess",process:t})},setDefaultAssignationUserToProcess:function(e){return""==e.idWFClass?process=-1:process=e.idWfClass,$.create(this.serviceLocator.getUrl("admin-setDefaultAssignationUserToProcess"),{serviceAction:"setDefaultAssignationUserToProcess",process:process,idUser:e.idUser})},transferCaseSecuritypermissions:function(e){return e.allProcess?$.create(this.serviceLocator.getUrl("admin-transferAllCaseSecuritypermissions"),{serviceAction:"transferAllCaseSecuritypermissions",idUserSource:e.idUserSource,idUserTarget:e.idUserTarget}):$.create(this.serviceLocator.getUrl("admin-transferCaseSecuritypermissions"),{serviceAction:"transferCaseSecuritypermissions",idUserSource:e.idUserSource,idUserTarget:e.idUserTarget,idProcess:e.idProcess})},revokeCaseSecuritypermissions:function(e){return e.allProcess?$.create(this.serviceLocator.getUrl("admin-revokeAllCaseSecuritypermissions"),{serviceAction:"revokeAllCaseSecuritypermissions",idUserSource:e.idUserSource}):$.create(this.serviceLocator.getUrl("admin-revokeCaseSecuritypermissions"),{serviceAction:"revokeCaseSecuritypermissions",idUserSource:e.idUserSource,idProcess:e.idProcess})},statusTransferCaseSecuritypermissions:function(e){return $.create(this.serviceLocator.getUrl("admin-statusTransferCaseSecuritypermissions"),{serviceAction:"statusTransferCaseSecuritypermissions"})},getProfilesTypes:function(e){return $.read(this.serviceLocator.getUrl("admin-getProfilesTypes"))},searchProfiles:function(e){var t=this.serviceLocator.getUrl("admin-searchProfiles"),i={};return i.type=e.profileType,i.name=e.profileName,i.orgId=e.orgId?e.orgId:null,$.read(t,i)},getUsersByProfile:function(e){var t=this.serviceLocator.getUrl("admin-getUsersByProfile"),i={};return i.type=e.profileType,i.id=e.idProfile,$.read(t,i)},removeUserFromProfile:function(e){var t=this.serviceLocator.getUrl("admin-removeUserFromProfile"),i={};return i.type=e.profileType,i.id=e.idProfile,i.idUser=e.idUser,$.destroy(t,i)},addUserToProfile:function(e){var t=this.serviceLocator.getUrl("admin-addUserToProfile"),i={};return i.type=e.profileType,i.id=e.idProfile,i.idUser=e.idUser,$.update(t,i)},licenses:function(){var e=this.serviceLocator.getUrl("admin-Licenses");return $.read(e)},getDimensions:function(){var e=this.serviceLocator.getUrl("admin-GetDimensions");return $.read(e)},editDimension:function(e){e=e||{};var t={};t.id=e.id,t.displayName=e.displayName,t.name=e.name,t.idWfClass=e.idWfClass,t.entityPath=e.entityPath,t.description=e.description;var i=this.serviceLocator.getUrl("admin-EditDimension");return $.create(i,t)},createAdministrableDimension:function(e){e=e||{};var t={};return t.displayName=e.displayName,t.name=e.name,t.idWfClass=e.idWfClass,t.entityPath=e.entityPath,t.Description=e.description,$.ajax({url:this.serviceLocator.getUrl("admin-CreateAdministrableDimension"),data:e,type:"PUT",dataType:"json"})},deleteDimension:function(e){var t=this.serviceLocator.getUrl("admin-DeleteDimension");e=e||{};var i={};return i.id=e.id,i.idDimension=e.id,i.administrable=e.administrable,$.destroy(t,i)},entityPathChildNodesAction:function(e){e=e||{};var t={};return t.pathNodeType=e.nodeType,t.idNode=e.idNode,t.nodeDisplayPath=e.nodeDisplayPath,t.nodePath=e.nodePath,t.idWfClass=e.idWfClass,$.ajax({url:this.serviceLocator.getUrl("admin-EntityPathChildNodesAction"),data:e,type:"GET",dataType:"json"})},getActiveWFClasses:function(e){var t=e||{};return $.ajax({cache:!0,url:this.serviceLocator.getUrl("admin-GetActiveWFClasses"),data:t,type:"GET",dataType:"json"})},storeDocumentTemplates:function(){var e=this.serviceLocator.getUrl("admin-document-templates-storeDocumentTemplates");return $.read(e)},restoreDocumentTemplates:function(e){var t=this.serviceLocator.getUrl("admin-document-templates-restoreDocumentTemplates");return t+="?Guid="+e.Guid,$.read(t)},getWorkFlowClasses:function(){var e=this.serviceLocator.getUrl("admin-processes-workflowClasses");return $.read(e)},getTaskByWorkFlow:function(e){var t=this.serviceLocator.getUrl("admin-processes-tasksByWorkflow"),i={};return i.idWorkflow=e.idWorkflow,$.read(t,i)},modifyProcessDuration:function(e){var t=this.serviceLocator.getUrl("admin-processes-modifyProcessDuration"),i={};return i.idWorkflow=e.idWorkflow,i.duration=e.duration,$.create(t,i)},modifyTaskDuration:function(e){var t=this.serviceLocator.getUrl("admin-processes-modifyTaskDuration"),i={};return i.idTask=e.idTask,i.duration=e.duration,$.create(t,i)},processesHierarchy:function(){var e={removeOnlineItems:"true"};return $.ajax({url:this.serviceLocator.getUrl("offline-getProcessTree"),data:e,dataType:"json",type:"GET"})},syncOfflineCases:function(e){return $.ajax({url:this.serviceLocator.getUrl("offline-sendForm"),data:{idCase:e.idCase,idWFClass:e.idWfClass,awCaseCreationContext:JSON.stringify(e.objToSend),idWorkflow:e.idWfClass},type:"POST",dataType:"json",serviceType:"LOAD"})},processesHierarchyTofetchForms:function(e){var t={};return t.idChangeSet=e.changeSet,$.ajax({url:this.serviceLocator.getUrl("offline-getForms"),data:t,dataType:"json"})},getDataForMyTeam:function(){return $.ajax({url:this.serviceLocator.getUrl("bam-resourcemonitor-myteam"),type:"GET",dataType:"json"})},getReporstAnalysisQuery:function(){return $.read(this.serviceLocator.getUrl("reports-analysisquery"))},updateReportData:function(e){return $.update(this.serviceLocator.getUrl("reports-analysisquery-update"),e)},deleteReportData:function(e){return $.destroy(this.serviceLocator.getUrl("reports-analysisquery-delete")+"?"+e)},getAdminEntitiesList:function(){var e=this.serviceLocator.getUrl("admin-entities-list");return $.read(e,{})},getAdminStakeholdersList:function(){var e=this.serviceLocator.getUrl("admin-stakeholders-list");return $.read(e,{})},getAdminEntitiesRowData:function(e){var t=this.serviceLocator.getUrl("admin-entities-row-data"),i={guidEntity:e.guidEntity,pag:e.pag||1,pagSize:e.pagSize||10};return void 0!==e.orderField&&(i.orderField=e.orderField),void 0!==e.orderType&&(i.orderType=e.orderType),void 0!==e.filters&&$.isArray(e.filters)&&e.filters.length>0&&(i.filters=JSON.stringify(e.filters)),$.read(t,i)},getUserStakeholders:function(e){var t=this.serviceLocator.getUrl("admin-user-stakeholders"),i={idUser:e.idUser};return $.read(t,i)},getAdminEntityData:function(e){var t=e.displayAttribFilter?e.displayAttribFilter:"",i=this.serviceLocator.getUrl("admin-entity-simpleData"),r={};return r.displayAttribFilter=t,r.idEntity=e.idEntity,r.idAttribute=e.idAttribute,$.read(i,r)},getAdminEntityMigrated:function(e){var t=this.serviceLocator.getUrl("admin-entities-migrated-entity"),i={};return i.guidEntity=e,$.read(t,i)},getAdminEntitiesForm:function(e){var t=this.serviceLocator.getUrl("admin-entities-get-form"),i={h_action:"LOADENTITYFORM",h_contexttype:"entity"};return i[this.Class.BA_CONTEXT_PARAMETER_PREFIX+"devicetype"]=this.deviceType,i[this.Class.BA_CONTEXT_PARAMETER_PREFIX+"devicecode"]=this.deviceCode,void 0!==e.guid&&(i.h_guidEntity=e.guid),void 0!==e.guidForm&&(i.h_guidForm=e.guidForm),void 0!==e.idRow&&(i.h_surrogateKey=e.idRow),void 0!==e.idPageCache&&(i.h_pageCacheId=e.idPageCache,i.h_isRefresh=!0),void 0!==e.isStakeholder&&e.isStakeholder&&(i.h_showAssociateUser=!0),e.prepare?i:$.ajax({url:t,data:i,type:"POST",dataType:"json"})},getEntityExcel:function(e){var t=this.serviceLocator.getUrl("admin-entities-get-excel").replace("{EntityGuid}",e).concat("?xsrf="+bizagi.getXSRFToken());bizagi.util.downloadFile(t)},getBizagiObjects:function(){var e=this.serviceLocator.getUrl("admin-language-bizagi-objects");return $.read(e,{})},getAdminEntitiesExistsLastReport:function(e){var t=this.serviceLocator.getUrl("admin-entities-exists-last-report").replace("{EntityGuid}",e);return $.read(t,{})},getAdminEntitiesDownloadLastReport:function(e){var t=this.serviceLocator.getUrl("admin-entities-download-last-report").replace("{EntityGuid}",e).concat("?xsrf="+bizagi.getXSRFToken());bizagi.util.downloadFile(t)}},_defineProperty(_$$Class$extend,"getEntitiesList",(function(){var e=this.serviceLocator.getUrl("admin-language-entities");return $.read(e,{})})),_defineProperty(_$$Class$extend,"getAdminEntityState",(function(e){var t=this.serviceLocator.getUrl("admin-entities-upload-file-state").replace("{EntityGuid}",e);return $.read(t,{})})),_defineProperty(_$$Class$extend,"getStoreLanguageTemplates",(function(){var e=this.serviceLocator.getUrl("admin-language-languages");return $.read(e,{})})),_defineProperty(_$$Class$extend,"setLanguages",(function(e){var t=this.serviceLocator.getUrl("admin-language-languages"),i=e;return $.ajax({url:t,data:{languages:i},type:"POST",dataType:"json"})})),_defineProperty(_$$Class$extend,"resetPersonalization",(function(){return $.ajax({url:this.serviceLocator.getUrl("admin-language-reset"),data:{},type:"DELETE",dataType:"json"})})),_defineProperty(_$$Class$extend,"getLanguageTemplate",(function(e){var t,i="";e.elements?(t="admin-language-resource-download",i="&elements="+e.elements):e.entities?(t="admin-language-entities-download",i="&entities="+e.entities):t="admin-language-resource-download";var r="tablet_android"===this.device?"_system":"_self",a=encodeURI(this.serviceLocator.getUrl(t)+"?cultureName="+e.cultureName+i+"&xsrf="+bizagi.getXSRFToken());window.open(a,r,"location=yes")})),_defineProperty(_$$Class$extend,"getHolidaysSchemas",(function(e){return $.read(this.serviceLocator.getUrl("admin-holidays-schemas"),e)})),_defineProperty(_$$Class$extend,"getHolidaysBySchema",(function(e){return $.read(this.serviceLocator.getUrl("admin-holidays-schema"),e).pipe((function(e){e=e||{};return $.each(e,(function(t,i){e[t].date=(i.date||"").split("T")[0]+"T00:00:00"})),e}))})),_defineProperty(_$$Class$extend,"saveHolidaysBySchema",(function(e){var t=this.serviceLocator.getUrl("admin-holidays-schema").replace("{schema}",e.schema);$.ajax({method:"POST",url:t,data:e.data,contentType:"application/json"})})),_defineProperty(_$$Class$extend,"getProjectName",(function(){var e=this.serviceLocator.getUrl("admin-projectname");return $.read(e)})),_defineProperty(_$$Class$extend,"setProjectName",(function(e){var t=this.serviceLocator.getUrl("admin-projectname"),i={projectName:e};return $.create(t,i)})),_defineProperty(_$$Class$extend,"downloadReportUser",(function(e){var t=this,i=t.serviceLocator.getUrl("user-gdpr-downloadReportUser");bizagi.showErrorAlertDialog=!1,$.when(t.getDownloadReport(e,i)).done((function(t){0===$("#iframe-download").length?$("<iframe/>").attr({src:i.replace("{idUser}",e),style:"visibility:hidden;display:none",id:"iframe-download"}).appendTo("body"):$("#iframe-download").attr("src",i.replace("{idUser}",e))})).fail((function(e,i,r){var a=JSON.parse(e.responseText);t.notifier=bizagi.injector.get("notifier"),t.notifier.showErrorMessage(a.message)}))})),_defineProperty(_$$Class$extend,"getDownloadReport",(function(e,t){var i={idUser:e};return $.read(t,i)})),_defineProperty(_$$Class$extend,"anonymizeUser",(function(e){var t=this.serviceLocator.getUrl("user-gdpr-anonymizeUser"),i={idUser:e};return $.destroy(t,i)})),_defineProperty(_$$Class$extend,"getAuditLicense",(function(e){var t=$.Deferred(),i=this.serviceLocator.getUrl("admin-audit-license")+"?xsrf="+bizagi.getXSRFToken();return t.resolve("OK"),document.location=i,t.promise()})),_defineProperty(_$$Class$extend,"processDefinition",(function(e){return $.read(this.serviceLocator.getUrl("processviewer-processdefinition"),e)})),_defineProperty(_$$Class$extend,"graphicInfo",(function(e){return $.read(this.serviceLocator.getUrl("processviewer-processgraphicinfo"),e)})),_defineProperty(_$$Class$extend,"getQueryFormResponse",(function(e){return $.create(this.serviceLocator.getUrl("query-handler-getQueryFormResponse"),e)})),_defineProperty(_$$Class$extend,"exportToExcelProfiles",(function(e){var t=encodeURI(this.serviceLocator.getUrl("admin-getUsersByProfile-report").replace("{filterType}",e.filterType).replace("{guidValueFilter}",e.guidValueFilter)+"?orgId="+e.orgId+"&xsrf="+bizagi.getXSRFToken());window.location.assign(t)})),_defineProperty(_$$Class$extend,"getQueryFormExportExcel",(function(e){var t=$.Deferred(),i="",r="_self";bizagi.util.isIE()&&(r="iframeExcel");var a=$("<form>",{action:this.serviceLocator.getUrl("query-handler-getQueryFormExportExcel")+"?xsrf="+bizagi.getXSRFToken(),target:r,id:"formExportExcel",method:"POST",style:"display:none"});$(a).attr("enctype","application/x-www-form-urlencoded"),$(a).attr("accept-charset","UTF-8");var s=$("<iframe>",{name:"iframeExcel",id:"iframeExcel",style:"display:none"});return $.each(e,(function(e,t){i=$("<input>",{name:e,value:t,type:"hidden"}),$(a).append(i)})),$("body").append(a),$("body").append(s),a.submit().remove(),s.submit().remove(),t.resolve("OK"),t.promise()})),_defineProperty(_$$Class$extend,"getUserPermissionsExcel",(function(e){var t=!0===e?"admin-user-permissions-excel-enabled":"admin-user-permissions-excel-disabled",i=this.serviceLocator.getUrl(t).concat("?xsrf="+bizagi.getXSRFToken());bizagi.util.downloadFile(i)})),_defineProperty(_$$Class$extend,"getQueryForm",(function(e){return e=e||{},$.ajax({url:this.serviceLocator.getUrl("query-handler-getQueryForm"),data:e,type:"POST",dataType:e.dataType||"json"})})),_defineProperty(_$$Class$extend,"getPreferencesForm",(function(e){return e[this.Class.BA_CONTEXT_PARAMETER_PREFIX+"devicetype"]=this.deviceType,e[this.Class.BA_CONTEXT_PARAMETER_PREFIX+"devicecode"]=this.deviceCode,$.ajax({url:this.serviceLocator.getUrl("preferences-handler-getPreferencesForm"),data:e,type:"POST",dataType:"json"})})),_defineProperty(_$$Class$extend,"saveStoredQueryForm",(function(e){return $.ajax({url:this.serviceLocator.getUrl("query-handler-storedQueryForm"),data:e,type:"POST",dataType:"json"})})),_defineProperty(_$$Class$extend,"updateStoredQueryForm",(function(e){return $.ajax({url:this.serviceLocator.getUrl("query-handler-storedQueryForm"),data:e,type:"PUT",dataType:"json"})})),_defineProperty(_$$Class$extend,"deleteStoredQueryForm",(function(e){var t=this.serviceLocator.getUrl("query-handler-storedQueryForm-id");return $.destroy(t,e)})),_defineProperty(_$$Class$extend,"getStoredQueryFormList",(function(e){return $.ajax({url:this.serviceLocator.getUrl("query-handler-storedQueryForm"),data:e,type:"GET",dataType:"json"})})),_defineProperty(_$$Class$extend,"getStoredQueryFormResponse",(function(e){var t=this.serviceLocator.getUrl("query-handler-storedQueryForm-id"),i={};return i.idStoredQueryForm=e,$.read(t,i)})),_defineProperty(_$$Class$extend,"getGraphicQueryInfo",(function(e){return $.read("Rest/Cases/WorkitemsGuid",e)})),_defineProperty(_$$Class$extend,"getCasePath",(function(e){return $.read("Rest/Cases/TransitionLog",e)})),_defineProperty(_$$Class$extend,"getUsersForm",(function(e){return $.create(this.serviceLocator.getUrl("admin-usersform"),e)})),_defineProperty(_$$Class$extend,"getLastUpdateByMobile",(function(){return $.read({url:this.serviceLocator.getUrl("mobile-getLastUpdate")})})),_defineProperty(_$$Class$extend,"getUsersAdministrationLog",(function(e){return $.read({url:this.serviceLocator.getUrl("admin-userslog"),data:e})})),_defineProperty(_$$Class$extend,"queryUsersLicenses",(function(){return $.read({url:this.serviceLocator.getUrl("admin-userslicenses")})})),_defineProperty(_$$Class$extend,"createUserAdministrationForm",(function(){return $.get(this.serviceLocator.getUrl("admin-createuserform"))})),_defineProperty(_$$Class$extend,"getPreferenceFormParams",(function(){return $.read(this.serviceLocator.getUrl("admin-userpreferenceform-isnew"))})),_defineProperty(_$$Class$extend,"getUserPositions",(function(){return $.read(this.serviceLocator.getUrl("admin-userGetPositions"))})),_defineProperty(_$$Class$extend,"getAssignationQueues",(function(){return $.read(this.serviceLocator.getUrl("admin-assignation-queues"))})),_defineProperty(_$$Class$extend,"getSegmentationQueues",(function(){return $.read(this.serviceLocator.getUrl("admin-assignation-queues-segmentation"))})),_defineProperty(_$$Class$extend,"getQueueSuscribers",(function(e){return $.read(this.serviceLocator.getUrl("admin-assignation-queues-suscribers"))})),_defineProperty(_$$Class$extend,"unsuscribeQueueUser",(function(e){return $.destroy(this.serviceLocator.getUrl("admin-assignation-queues-unsuscribe"),{userId:e,segmentation:"x"})})),_defineProperty(_$$Class$extend,"getUserInfoByTask",(function(e,t){var i={idCase:e,guidTask:t};return $.read(this.serviceLocator.getUrl("graphicquery-trailusers"),i)})),_defineProperty(_$$Class$extend,"getSearchLists",(function(){return $.read(this.serviceLocator.getUrl("my-search-getSearchLists"),{})})),_defineProperty(_$$Class$extend,"defineFilterObject",(function(e,t,i){var r=this,a=e.properties,s=a.xpath.split("@")[0],o=t.find((function(e){return e.xpath==s}));if(o){if("from"==a.rangeQuery)o.value=o.value||{},o.searchType="range",o.value.min=e.value;else if("to"==a.rangeQuery)o.value=o.value||{},o.searchType="range",o.value.max=e.value;else{e.properties.typeSearch=o.searchType;var n=c(e);$.extend(o,n)}a.orderType&&(o.orderType=a.orderType),i&&i(bizagi.clone(o))}else{var l=a.defaultFilter||!1;o=c(e),a.orderType&&(o.orderType=a.orderType),"range"===o.searchType&&void 0===o.value&&(o.searchType="none"),(void 0!==o.value&&null!=o.value||o.orderType||l)&&(t.push(o),i&&i(bizagi.clone(o)))}function c(e){var t=e.properties,i=t.typeSearch,a=e.value;if("boolean"==t.type&&(void 0===a||"null"==typeof a?(a=null,i="Nullable"):(a=bizagi.util.parseBoolean(a),i="exact")),"number"!=t.type&&"money"!=t.type&&"date"!=t.type||(i="exact"),"object"==_typeof(e.value)&&null!=e.value){if(a=[],Array.isArray(e.value))for(var o=0,n=e.value.length;o<n;o++){var l=e.value[o].id;a.push(l)}else{l=e.value.id;a.push(l)}i="exact",a=a.length>0?a:void 0}a=r.setValueIfRangeQuery(t,e)||a,i=r.setSearchTypeIfRangeQuery(t)||i;var c={xpath:s,searchType:i=i||"approx"};return"hidden"===t.type&&(c.isHidden=!0),r._hasCorrectValue(a)&&(c.value=a),c}})),_defineProperty(_$$Class$extend,"_hasCorrectValue",(function(e){var t=function(e){return-1!==[null,""].indexOf(e)};return bizagi.util.tryCatch((function(){return void 0!==e&&!(t(e.max)&&t(e.min))}),!0)})),_defineProperty(_$$Class$extend,"setValueIfRangeQuery",(function(e,t){var i;return this.isRangeQuery(e)&&("from"===e.rangeQuery?i={min:t.value,max:""}:"to"===e.rangeQuery&&(i={min:"",max:t.value})),i})),_defineProperty(_$$Class$extend,"setSearchTypeIfRangeQuery",(function(e){if(this.isRangeQuery(e))return"range"})),_defineProperty(_$$Class$extend,"isRangeQuery",(function(e){if(e.rangeQuery&&"none"!==e.rangeQuery)return!0})),_defineProperty(_$$Class$extend,"serializeEntityData",(function(e){var t=e;function i(e,t){var i={data:{},guid:t.guidEntity,timestamp:e.timestamp},r=e.columns,a=t.row;for(name in t)t.hasOwnProperty(name)&&"row"!==name.toString()&&"id"!==name.toString()&&(i[name]=t[name]);for(var s=0,o=r.length;s<o;s+=1)i.data[r[s]]=a[s];return i}t.entities=[];for(var r,a=-1;r=e.rows[++a];)for(var s,o=-1;s=e.cells[++o];)if(s.id===r.id){var n=i(s,r);t.entities.push(n);break}return t})),_defineProperty(_$$Class$extend,"getOAuth2Applications",(function(){return $.ajax({url:this.serviceLocator.getUrl("oauth2-getApplications"),type:"GET",dataType:"json"})})),_defineProperty(_$$Class$extend,"getOAuth2Application",(function(e){var t=this.serviceLocator.getUrl("oauth2-getApplication");return $.ajax({url:t.replace("{applicationId}",e),type:"GET",dataType:"json"})})),_defineProperty(_$$Class$extend,"createOAuth2Application",(function(e){return $.ajax({url:this.serviceLocator.getUrl("oauth2-createApplication"),type:"POST",dataType:"json",data:e})})),_defineProperty(_$$Class$extend,"deleteOAuth2Application",(function(e){var t=this.serviceLocator.getUrl("oauth2-deleteApplication");return $.ajax({url:t.replace("{applicationId}",e),type:"DELETE",dataType:"json"})})),_defineProperty(_$$Class$extend,"updateOAuth2Application",(function(e,t){var i=this.serviceLocator.getUrl("oauth2-updateApplication");return $.ajax({url:i.replace("{applicationId}",t),data:e,type:"PUT",dataType:"json"})})),_defineProperty(_$$Class$extend,"updateClientSecretKeysOAuth2Application",(function(e,t){var i=this.serviceLocator.getUrl("oauth2-updateClientSecretKeysApplication");return $.ajax({url:i.replace("{applicationId}",t),data:e,type:"PUT",dataType:"json"})})),_defineProperty(_$$Class$extend,"queryDelegations",(function(e){var t=this.serviceLocator.getUrl("userDelegation")+"/"+e.idUser+"/delegates";return $.ajax({url:t,data:e,type:"GET",dataType:"json"})})),_defineProperty(_$$Class$extend,"saveDelegation",(function(e){var t=this.serviceLocator.getUrl("userDelegation")+"/MultipleProcess";return $.ajax({url:t,data:e,type:"POST",dataType:"json",global:!1})})),_defineProperty(_$$Class$extend,"updateDelegation",(function(e){var t=this.serviceLocator.getUrl("userDelegation")+"/"+e.idDelegation;return $.ajax({url:t,data:e,type:"PUT",dataType:"json",global:!1})})),_defineProperty(_$$Class$extend,"deleteDelegation",(function(e){var t=this.serviceLocator.getUrl("userDelegation")+"/"+e.idDelegation;return $.ajax({url:t,data:e,type:"DELETE",dataType:"json"})})),_defineProperty(_$$Class$extend,"getUserFilterOptions",(function(e){var t=this.serviceLocator.getUrl("userFilterOptions");return $.ajax({url:t,data:e,type:"GET",dataType:"json"})})),_defineProperty(_$$Class$extend,"getValuesFromCQL",(function(e){var t=this.serviceLocator.getUrl("catalogQL");return $.ajax({url:t,data:JSON.stringify(e),processData:!1,type:"POST",contentType:"application/json"})})),_defineProperty(_$$Class$extend,"getPreferencesCurrentUser",(function(){var e=this.serviceLocator.getUrl("currentUser");return $.ajax({url:e,type:"GET"})})),_defineProperty(_$$Class$extend,"getPreferencesWorkportalCurrentUser",(function(){return $.read(this.serviceLocator.getUrl("PreferencesWorkportalCurrentUser"))})),_defineProperty(_$$Class$extend,"setPreferencesWorkportalCurrentUser",(function(e){return $.ajax({url:this.serviceLocator.getUrl("PreferencesWorkportalCurrentUser"),type:"PUT",data:JSON.stringify(e),dataType:"json",contentType:"application/json"})})),_defineProperty(_$$Class$extend,"getUsersForDelegation",(function(e){var t=this.serviceLocator.getUrl("userFilterOptions")+"/SearchUser";return $.ajax({url:t,data:e,type:"GET",dataType:"json"})})),_defineProperty(_$$Class$extend,"getProcessToDelegate",(function(e){var t=this.serviceLocator.getUrl("userFilterOptions")+"/"+e.idUser+"/process";return $.ajax({url:t,data:e,type:"GET",dataType:"json"})})),_defineProperty(_$$Class$extend,"executeQuickAction",(function(e){var t=new $.Deferred,i={h_action:"LOADFORM",h_devicetype:0,h_devicecod:"1366x768",h_idCase:e.caseId,h_idWorkitem:e.workItemId,h_idTask:e.taskId,h_secondaction:"multiaction",h_secondactions:JSON.stringify(e.actions)};return $.ajax({url:this.serviceLocator.getUrl("execute-quickaction"),data:i,type:"POST",dataType:"json",serviceType:"MULTIACTION"}).done((function(e){"{}"===JSON.stringify(e)?t.resolve([]):t.resolve(e)})).fail((function(e){var i,r=e.responseText||e;try{i=JSON.parse(r)}catch(e){}t.reject(e,"servererror",i)})),t.promise()})),_defineProperty(_$$Class$extend,"getErrorLogs",(function(e){var t=this.serviceLocator.getUrl("admin-error-logs-getErrorLogs");return $.read(t,e)})),_defineProperty(_$$Class$extend,"getErrorLogsContents",(function(e){var t=this.serviceLocator.getUrl("admin-error-logs-getErrorLogsContents"),i=new $.Deferred;return $.ajax({contentType:"application/json",data:JSON.stringify(e),type:"POST",url:t}).done((function(e){i.resolve(e)})),i.promise()})),_defineProperty(_$$Class$extend,"getErrorLogsArchive",(function(e){var t=this.serviceLocator.getUrl("admin-error-logs-getErrorLogsArchive"),i=new $.Deferred;return $.ajax({contentType:"application/json",data:JSON.stringify(e),type:"POST",url:t}).done((function(e){i.resolve(e)})),i.promise()})),_$$Class$extend)),$.Class.extend("bizagi.workportal.services.multiactionservice",{BA_CONTEXT_PARAMETER_PREFIX:"h_"},{init:function(e){this.service=e,this.batch={},this.batchTimer=50,this.replicateServiceMethods()},getService:function(){return this.service},replicateServiceMethods:function replicateServiceMethods(){var self=this;self.getAdminEntitiesForm=eval("var tmp = function(){ return this.proxyMethod(this.getService().getAdminEntitiesForm, arguments);};tmp")},proxyMethod:function(e,t){var i=this.service;if(!t||1!=t.length)return e.apply(i,t);if("object"!=_typeof(t[0]))return e.apply(i,t);var r=t[0];if(1==r.prepare)return e.apply(i,t);r.prepare=!0;var a=e.apply(i,t);return this.add(a)},add:function(e){var t=this,i=new $.Deferred;e.h_action;clearTimeout(t.batchTimeout);var r=e.tag=Math.guid(),a={action:e,deferred:i};return t.batch[r]=a,t.batchTimeout=setTimeout((function(){t.fire()}),t.batchTimer),i.promise()},fire:function(){var e={},t=[];$.each(this.batch,(function(i,r){t.push(r.action),e[i]=r})),this.batch={},$.when(this.execute({actions:t,rejectDeferreds:!1})).done((function(t){$.each(t,(function(t,i){var r=i.tag;i.error?e[r].deferred.reject(i.error,i,i.error.message):e[r].deferred.resolve(i.result),delete e[r]})),$.each(e,(function(e,t){t.deferred.reject({type:"not-processed",message:"Operation didn't executed"},"","Operation didn't executed")}))})).fail((function(t,i,r){var a=void 0!==r?r.message:r||"Operation didn't executed";$.each(e,(function(e,t){t.deferred.reject({type:"not-processed",message:a},"","Operation didn't executed")}))}))},execute:function(e){var t=this,r={},a=void 0===e.rejectDeferreds||e.rejectDeferreds;r[t.Class.BA_CONTEXT_PARAMETER_PREFIX+"action"]="multiaction",$.each(e.actions,(function(e,i){i[t.Class.BA_CONTEXT_PARAMETER_PREFIX+"tag"]=i.tag||e,delete i.tag})),(e=e||{}).actions&&(r[t.Class.BA_CONTEXT_PARAMETER_PREFIX+"actions"]=JSON.encode(e.actions));var s=new $.Deferred;return $.ajax({url:t.getService().serviceLocator.getUrl("render-multiaction"),data:r,type:"POST",dataType:"json",serviceType:"MULTIACTION"}).done((function(e){for(i in e)if("function"!=typeof e[i]){var t=e[i];if(t.error&&a)return void s.reject(this,"servererror",t)}s.resolve(e)})).fail((function(e){var t,i=e.responseText||e;try{t=JSON.parse(i)}catch(e){}s.reject(e,"servererror",t)})),s.promise()}}),$.Class.extend("bizagi.workportal.services.routing",{},{init:function(e){e=e||{},this.params=e.params||{},this.dataService=e.dataService||{},this.modules={projectDashboard:bizagi.util.isMobileDevice()?"activityform":"projectDashboard",oldRender:"oldrenderintegration",async:"async",activitySelector:"routing"},this.renderVersion=2,this.resetRouteInformation()},resetRouteInformation:function(){this.route={module:"",moduleParams:{}}},setRenderParams:function(e){this.params=this.getRenderParams(e)},getRenderParams:function(e){var t,i=(t={idCase:parseInt(e.idCase||0),guid:e.guid,idWorkflow:parseInt(e.idWorkflow||0),idWorkitem:1==e.isOfflineForm?0:parseInt(e.idWorkItem||0),idTask:parseInt(e.idTask||0),eventAsTasks:e.eventAsTasks||!1,onlyUserWorkItems:e.onlyUserWorkItems||"true",formsRenderVersion:e.formsRenderVersion||0,referrer:e.referrer||"",isComplex:void 0!==e.isComplex},_defineProperty(t,"formsRenderVersion",2),_defineProperty(t,"onClose",e.onClose||""),_defineProperty(t,"isOfflineForm",e.isOfflineForm||!1),_defineProperty(t,"caseLink",e.caseLink),t);void 0!==i.guid&&0==i.idCase&&delete i.idCase;var r=!0;try{r=BIZAGI_SETTINGS.skipSubprocessGlobalForm||!0}catch(e){}return this.skipSubprocessGlobalForm="true"==r,i},getRoute:function(e){var t=this,i=new $.Deferred;if(t.params=e||t.params,e.data&&e.data.hasStartForm)i.resolve({module:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_START_FORM,moduleParams:{widgetName:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_START_FORM,data:e.data}});else{var r=e.fromTask||e.idTask||"",a=e.fromWorkItemId||e.idWorkItem||"";$.when(t.getRenderVersion(t.params)).done((function(e){t.renderVersion=e,t.route.moduleParams=t.getRenderParams(t.params);var s={};s=void 0!==t.params.guid?{guid:t.params.guid,onlyUserWorkItems:t.params.onlyUserWorkItems,isOfflineForm:t.params.isOfflineForm,fromTask:r,fromWorkItemId:a}:{idCase:t.params.idCase,onlyUserWorkItems:t.params.onlyUserWorkItems,isOfflineForm:t.params.isOfflineForm,fromTask:r,fromWorkItemId:a},$.when(t.dataService.getWorkitems(s)).done((function(r){if(t.route.moduleParams.workItemsRestResponse=r.workItems,t.route.moduleParams.hasWorkItems=!!r.workItems.length,t.route.moduleParams.hasGlobalForm=bizagi.util.parseBoolean(r.hasGlobalForm),t.route.moduleParams.idWorkitem>0)t.setRenderModuleName(t.getRenderModuleName(e)),0==t.route.moduleParams.idTask&&(t.route.moduleParams.idTask=t.searchIdTask(t.route.moduleParams.idWorkitem)),t.route.moduleParams.radNumber=r.radNumber||"",t.route.moduleParams.idWorkflow=r.idWorkFlow||"",i.resolve(t.route),t.resetRouteInformation();else{var a=t.checkAsyncWorkItems(r);if(0==r.workItems.length)t.route.moduleParams.idWorkflow=r.idWorkFlow||"",t.route.moduleParams.radNumber=r.radNumber||"",""!==$.trim(r.msgTask)?i.resolve(t.routeToMessageForm(r.msgTask)):bizagi.util.parseBoolean(r.hasGlobalForm)?i.resolve(t.routeToGlobalForm(r)):i.resolve(t.routeToGlobalFormWithoutData());else if(1==r.workItems.length||a.length>0){var s=0;if(a.length>0)for(var o=0;o<r.workItems.length;o++)if("true"==r.workItems[o].isAsynch){s=o;break}_typeof("undefined"!=t.route.moduleParams.guid)&&void 0!==r.workItems[s].guid?t.route.moduleParams.guid=r.workItems[s].guid:_typeof("undefined"!=t.route.moduleParams.idCase)&&(t.route.moduleParams.idCase=r.workItems[s].idCase),t.route.moduleParams.idTask=r.workItems[s].idTask,t.route.moduleParams.fromTask=r.workItems[s].idTask,t.route.moduleParams.idWorkitem=r.workItems[s].idWorkItem,t.route.moduleParams.idWorkflow=r.workItems[s].idWorkFlow,t.route.moduleParams.displayName=r.workItems[s].displayName?r.workItems[s].displayName:"",t.route.moduleParams.radNumber=r.radNumber||"",a.length>0?t.setRenderModuleName(t.modules.async):t.setRenderModuleName(t.getRenderModuleName(e)),i.resolve(t.route),t.resetRouteInformation()}else r.checkProcess=!!(r.subProcesses.length>0&&t.skipSubprocessGlobalForm),r.checkWorkItems=r.workItems.length>1,r.fromSearchWidget="search"==t.params.referrer,t.setRenderModuleName(t.modules.activitySelector),t.route.moduleParams.data=r,i.resolve(t.route),t.resetRouteInformation()}})).fail(t._onFailGetWorkItems.bind(t,i))}))}return i.promise()},goToInbox:function(){(new bizagi.workportal.controllers.menu).goToInbox()},goBack:function(){bizagi.injector.get("bizagi.workportal.widgets.navigator",{}).goToBack()},_onFailGetWorkItems:function(e,t){var i,r,a,s=this,o=403===t.status;o&&(i=bizagi.localization.getResource("workportal-general-error-page-title"),r=bizagi.localization.getResource("workportal-general-case-permission-denied"),bizagi.showMessageBox(r,i,"",!1).always((function(){void 0!==bizagi.referrerParams?s.goBack():s.goToInbox()}))),o?e.reject(t):e.resolve((a=bizagi.localization.getResource("workportal-menu-search-found-no-cases"),s.routeToMessageForm(a)))},setRenderModuleName:function(e){this.route.module=e,this.route.moduleParams.widgetName=e},getRenderModuleName:function(e){return 1==e?this.modules.oldRender:this.modules.projectDashboard},searchIdTask:function(e,t){var i=0;e=e||[];for(var r=0;r<e.length;r++)if(parseInt(e[r].idWorkItem)==parseInt(t)){i=parseInt(e[r].idTask);break}return i},checkAsyncWorkItems:function(e){var t=[];return $.each(e.workItems,(function(i){"true"==e.workItems[i].isAsynch&&t.push({idCase:e.idCase,idWorkitem:e.workItems[i].idWorkItem,idTask:e.workItems[i].idTask})})),t},routeToGlobalForm:function(e){if(this.route.moduleParams.idCaseForGraphicQuery=this.route.moduleParams.idCase,this.route.moduleParams.idCase=$.isNumeric(e.idCaseForGlobalForm)&&e.idCaseForGlobalForm>0?e.idCaseForGlobalForm:this.route.moduleParams.idCase,this.route.moduleParams.idWorkflow=parseInt(e.idWorkFlow||0),1==this.renderVersion){var t=this.dataService.serviceLocator.getUrl("old-render")+"?PostBack=1&idCase=%s&idWorkitem=%s&idTask=%s",i=this.route.moduleParams.idCase||"",r=this.route.moduleParams.idWorkitem||"",a=this.route.moduleParams.idTask||"",s=printf(t,i,r,a);this.route.moduleParams.onlyUserWorkItems=this.route.moduleParams.idCase||"",this.setRenderModuleName(this.modules.oldRender),this.route.moduleParams.url=s}else this.setRenderModuleName(this.modules.projectDashboard);return this.route},routeToGlobalFormWithoutData:function(){return this.setRenderModuleName(this.modules.projectDashboard),this.route.moduleParams.withOutGlobalForm=!0,this.route},routeToMessageForm:function(e){return e=e||"",this.setRenderModuleName(this.modules.projectDashboard),this.route.moduleParams.withOutGlobalForm=!0,this.route.moduleParams.messageForm=e,this.route},getRenderVersion:function(e){var t=new $.Deferred,i=e.formsRenderVersion||0;return 0!=i?t.resolve(i):$.when(this.dataService.getCaseFormsRenderVersion({idCase:e.idCase,guid:e.guid})).done((function(e){i=parseInt(e.formsRenderVersion),t.resolve(i)})),t.promise()}}),bizagi.workportal.services.service.extend("bizagi.workportal.services.service",{},{getActivityMap:function(e){var t=this.serviceLocator.getUrl("activity-map"),i={};return e.radNumber&&(i.radNumber=e.radNumber),$.read({url:t,data:i})},getActivitySummary:function(e){var t={};return t.guidWorkitem=e.guidWorkitem,$.ajax({url:this.serviceLocator.getUrl("activity-map-getActivitySummary"),data:t,type:"GET",dataType:"json"})},getSubProcessMap:function(e){var t=this.serviceLocator.getUrl("subprocess-map"),i={};return(e=e||{}).radNumber&&(i.radNumber=e.radNumber),$.read({url:t,data:i})}}),$.Class.extend("bizagi.workportal.controllers.controller",{},{init:function(e,t){this.workportalFacade=e,this.dataService=t,this.resources=bizagi.localization,this.componentContainers={},this.subscribers=[],this.disposed=!1,this.tmpl={},this.templatesDeferred=null},getWorkportal:function(){return this.workportalFacade.workportal},publish:function(e,t){return this.disposed?null:$(document).triggerHandler(e,t)},subscribe:function(e,t){if(this.disposed)return null;$(document).bind(e,t),this.subscribers.push({event:e})},subscribeOneTime:function(e,t){if(this.disposed)return null;$(document).one(e,t),this.subscribers.push({event:e})},unsubscribe:function(e,t){if(this.disposed)return null;t?$(document).unbind(e,t):$(document).unbind(e)},render:function(){var e=this,t=new $.Deferred;return e.renderingDeferred=new $.Deferred,$.when(e.areTemplatedLoaded()).pipe((function(){return e.renderContent()})).done((function(){e.postRender(),t.resolve(e.getContent()),e.renderingDeferred.resolve()})),t.promise()},getContent:function(){return this.content},getResource:function(e,t){return this.resources.getResource(e,t)},renderContent:function(){return""},postRender:function(){},getComponentSelector:function(e){return"[data-bizagi-component="+e+"]"},getComponentContainer:function(e){var t=this.getContent();return t&&0!=t.length?$(this.getComponentSelector(e),t):null},resizeLayout:function(){this.publish("resizeLayout")},performResizeLayout:function(){},dispose:function(){var e=this;null!=e.subscribers&&$.each(e.subscribers,(function(t,i){e.unsubscribe(i.event)})),setTimeout((function(){bizagi.util.dispose(e),e.disposed=!0}),bizagi.override.disposeTime||50)},loadTemplates:function(e){var t=this.templatesDeferred=new $.Deferred,i=[],r=null==e.useNewEngine||e.useNewEngine;for(var a in e)"useNewEngine"!=a&&i.push(this.loadTemplate({name:a,path:e[a],useNewEngine:r}));return $.when.apply($,i).done((function(){t.resolve()})),t.promise()},loadTemplate:function(e){var t=this;return t.tmpl[e.name]?t.tmpl[e.name]:e.useNewEngine?bizagi.templateService.getTemplateWidget(e.path).done((function(i){t.tmpl[e.name]=i})):bizagi.templateService.getTemplate(e.path).done((function(i){t.tmpl[e.name]=i}))},getTemplate:function(e){return this.tmpl.hasOwnProperty(e)?this.tmpl[e]:null},isRendered:function(){return!!this.renderingDeferred&&this.renderingDeferred.promise()},areTemplatedLoaded:function(){return this.templatesDeferred}}),bizagi.workportal.controllers.controller.extend("bizagi.workportal.controllers.main",{},{init:function(e,t){var i=this;i.componentRegex=/{{component (\w+)}}/g,this._super(e,t),this.subscribe("changeWidget",(function(e,t){bizagi.currentWidget=t.widgetName;var r=new $.Deferred;return i.subscribeOneTime("onWidgetIncludedInDOM",(function(e,t){r.resolve()})),$.when(bizagi.util.liveSave(t.widgetName),bizagi.util.autoSave()).done((function(){$(document).data("auto-save",""),bizagi.util.liveProcessesEvents.saveEvent.saveLivePromise=null,t.widgetName!=bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID&&t.widgetName!=bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX||bizagi.util.defaultWidget(t.widgetName),bizagi.util.setContext({widget:t.widgetName}),i.publish("cleanAllWidgets"),i.setWidget(t)})),r.promise()})),this.subscribe("addDialogToDialogStack",(function(e,t){i.addDialogToDialogStack(t)})),this.subscribe("showDialogWidget",(function(e,t){return i.showDialogWidget(t)})),this.subscribe("closeCurrentDialog",(function(e,t){return i.closeCurrentDialog(t)})),this.subscribe("closeAllDialogs",(function(e,t){i.closeAllDialogs()})),this.subscribe("popupWidget",(function(e,t){i.popupWidget(t)})),this.subscribe("popWidget",(function(e,t){i.popWidget(t)})),this.subscribe("pushWidget",(function(e,t){i.pushWidget(t)})),this.subscribe("executeAction",(function(e,t){i.executeAction(t)})),this.subscribe("resizeLayout",(function(){i.performResizeLayout()})),this.subscribe("disposeWidget",(function(){i.disposeWidget()})),this.subscribe("appendWidgetTo",(function(e,t){return i.appendWidgetTo(t)})),this.subscribe("notification",(function(e,t){NotificationDispatcher.dispatch(t.notification,t.type)})),this.subscribe("refreshQueryFormShortCut",(function(e,t){return i.refreshQueryFormShortCut(t)}))},renderContent:function(){var e=this,t=e.workportalFacade.getTemplate("workportal"),i=e.content=$.tmpl(t,{});e.workarea=e.workportalFacade.getWorkareaController();var r=e.menu=e.workportalFacade.getMenuController();return $.when(r.render()).done((function(){r.getContent().appendTo(e.getComponentContainer("menu"))})),$(window).resize((function(){e.resizeLayout()})),i},setWidget:function(e){this.currentWidget=e.widgetName,this.currentWidgetParams=$.extend({},e,{menu:this.getMenu()}),bizagi.assert(!bizagi.util.isEmpty(e.widgetName),"No widget name defined for changeWidget call"),this.renderWorkarea()},executeAction:function(e){var t=this;e.action==bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING?bizagi.loader.start("activity").then((function(){t.workportalFacade.getAction(e.action).execute(e)})):e.action==bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_SEARCH&&bizagi.loader.start("inbox").then((function(){t.workportalFacade.getAction(e.action).execute(e)}))},renderWorkarea:function(){var e=this,t=e.workarea;if(t){var i=e.getComponentContainer("workarea");e.cleanWidgets(),i.empty(),bizagi.util.isEmpty(e.currentWidget)||"none"==e.currentWidget||(e.currentWidgetParams=$.extend({},e.currentWidgetParams,{menu:e.getMenu()}),e.currentWidget===bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID||e.currentWidget===bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX?bizagi.loader.start("inbox").then((function(){e.loadWidgetFromFacade(t,i)})):e.loadWidgetFromFacade(t,i))}},loadWidgetFromFacade:function(e,t){var i=this;$.when(i.workportalFacade.getWidget(i.currentWidget,i.currentWidgetParams)).pipe((function(t){return e.setWidget(t),e.render()})).done((function(){var r=e.getContent();r&&(r.appendTo(t),i.resizeLayout(),i.publish("onWidgetIncludedInDOM"))}))},showDialogWidget:function(e){},closeCurrentDialog:function(e){},popupWidget:function(e){},addDialogToDialogStack:function(e){},closeAllDialogs:function(){},pushWidget:function(e){this.currentWidget=e.widgetName,this.currentWidgetParams=$.extend({},e,{menu:this.getMenu()}),bizagi.assert(!bizagi.util.isEmpty(e.widgetName),"No widget name defined for pushWidget call")},popWidget:function(e){this.currentWidget=e.widgetName,this.currentWidgetParams=$.extend({},e,{menu:this.getMenu()}),bizagi.assert(!bizagi.util.isEmpty(e.widgetName),"No widget name defined for popupWidget call")},disposeWidget:function(e){this.currentWidget=e.widgetName,this.currentWidgetParams=$.extend({},e,{menu:this.getMenu()}),bizagi.assert(!bizagi.util.isEmpty(e.widgetName),"No widget name defined for disposeWidget call")},appendWidgetTo:function(e){},performResizeLayout:function(){var e=this.getContent();this.resizeContainer(e,$(window).height()),this.menu&&this.menu.performResizeLayout(),this.workarea&&this.workarea.performResizeLayout()},resizeContainer:function(e,t){var i=this,r=e.children(".ui-bizagi-component-adjustable"),a=t;if(r.length>0){var s=0;$.each(e.children(),(function(e,t){$(t).hasClass("ui-bizagi-component-adjustable")||"none"===$(t).css("display")||(s+=$(t).height())})),a=t-s;var o="";$.each(r,(function(e,t){"visible"==(o=""!=$(t).css("overflow-y")?$(t).css("overflow-y"):"hidden")&&(o="hidden"),$(t).addClass("ui-bizagi-adjustable");var i="auto"===$(t).css("margin-top")?0:Number($(t).css("margin-top").replace("px","")),r=a-i;$(t).css({height:r,"overflow-y":o})}))}$.each(e.children(),(function(e,t){$(t).find(".ui-bizagi-component-adjustable").length>0&&($(t).addClass("ui-bizagi-component-adjustable"),i.resizeContainer($(t),a))}))},getMenu:function(){return this.menu},refreshQueryFormShortCut:function(e){}}),$.Class.extend("bizagi.workportal.webpart.helper",{},(_$$Class$extend={init:function(e){this.dataService=e.dataService,this.resources=e.resources,this.workportalFacade=e.workportalFacade,this.templates={}},hideCasesColumn:function(e,t){for(i=0;i<e.columns.length;i++)if(e.columns[i].name==t){e.columns[i].visible=!1;break}return e}},_defineProperty(_$$Class$extend,"hideCasesColumn",(function(e,t){for(i=0;i<e.columns.length;i++)if(e.columns[i].name==t){e.columns[i].visible=!1;break}return e})),_defineProperty(_$$Class$extend,"transformCasesInfo",(function(e){var t=e.data,i=e.imageColumn,r={transformed:!0};if(t.transformed)return t;var a;r.columns=[{name:"id",displayName:"id",visible:!1}];for(var s=0;s<t.cases.columnTitle.length;s++){var o=t.cases.columnTitle[s];r.columns.push({name:o.fieldName,displayName:o.displayName,dataType:(a=o,a.fieldName==i?"upload":"I_idTask"==a.fieldName?"workitems":a.type)}),1==bizagi.util.parseBoolean(o.isOrdered)&&(r.orderBy=o.fieldName,r.orderType=0==o.orderType?"asc":"desc")}for(r.columns.push({name:"workitems",displayName:"workitems",visible:!1,dataType:"workitems"}),r.columns.push({name:"permissions",displayName:"permissions",visible:!1,dataType:"permissions"}),r.rows=[],s=0;s<t.cases.rows.length;s++){var n=t.cases.rows[s],l=[];l.push(n.id);for(var c=0;c<n.fields.length;c++)l.push(n.fields[c]);r.rows.push(l)}return r.totalPages=t.cases.totalPages,r.page=t.cases.page,r})),_defineProperty(_$$Class$extend,"drawGridView",(function(e){var t=e.template,i=e.data;for(a=0;a<i.columns.length;a++)i.columns[a].visible=void 0===i.columns[a].visible||bizagi.util.parseBoolean(i.columns[a].visible),"upload"==i.columns[a].dataType&&(i.columns[a].visible=!1),"workitems"==i.columns[a].dataType&&(i.columns[a].visible=!1),"permissions"==i.columns[a].dataType&&(i.columns[a].visible=!1);0==i.orderType&&(i.orderType="asc"),1==i.orderType&&(i.orderType="desc"),i.orderBy=bizagi.util.isEmpty(i.orderBy)?"":i.orderBy,i.orderType=bizagi.util.isEmpty(i.orderType)?"asc":i.orderType,i.totalPages=bizagi.util.isEmpty(i.totalPages)?0:i.totalPages;for(var r=[],a=1;a<=i.totalPages;a++)r.push({number:a,active:a==i.page});return $.tmpl(t,$.extend(i,{pages:r,actions:e.actions,filters:e.filters,title:e.title,getCaseId:function(e){return e[0]},getEntityId:function(e){return e[0]},splitHeaderName:function(e){var t=e,i=e.split("_");return i.length>1&&(t=i[1]),t},getWorkItems:function(e){var t="[",i=e[e.length-2].workitems;if(i&&i.length>0)for(var r in i){r>0&&(t+=",");var a='{"idWorkItem":';a+=i[r].idWorkItem,a+=',"idTask":',a+=i[r].idTask,t+=a+="}"}return t+="]"}}))})),_defineProperty(_$$Class$extend,"drawThumbnailsView",(function(e){var t=this,i=e.template,r=e.data;for(s=0;s<r.columns.length;s++)r.columns[s].visible=void 0===r.columns[s].visible||bizagi.util.parseBoolean(r.columns[s].visible),r.columns[s].name==e.imageLabelColumn&&(r.columns[s].dataType="imageLabel"),"workitems"==r.columns[s].dataType&&(r.columns[s].visible=!1);r.orderBy=bizagi.util.isEmpty(r.orderBy)?"":r.orderBy,r.orderType=bizagi.util.isEmpty(r.orderType)?"asc":r.orderType,r.totalPages=bizagi.util.isEmpty(r.totalPages)?0:r.totalPages;for(var a=[],s=1;s<=r.totalPages;s++)a.push({number:s,active:s==r.page});return $.tmpl(i,$.extend(r,{pages:a,getImage:function(e){return t.getFileImage(e)},actions:e.actions,getCaseId:function(e){return e[0]},getEntityId:function(e){return e[0]},getWorkItems:function(e){var t="[",i=e[e.length-1].workitems;if(i&&i.length>0)for(var r in i){r>0&&(t+=",");var a='{"idWorkItem":';a+=i[r].idWorkItem,a+=',"idTask":',a+=i[r].idTask,t+=a+="}"}return t+="]"}}))})),_defineProperty(_$$Class$extend,"getEmptyFile",(function(){return"/_layouts/Proxy/jquery/overrides/css/desktop/images/EmptyAsset.png"})),_defineProperty(_$$Class$extend,"getFileImage",(function(e){return e&&0!=e.length?e:this.getEmptyFile()})),_defineProperty(_$$Class$extend,"getFile",(function(e){return e&&0!=e.length?this.dataService.getFile(e[0]):this.getEmptyFile()})),_defineProperty(_$$Class$extend,"removeWaitContainer",(function(e){$(e)&&$(e).addClass("ui-bizagi-sharepoint-loading-container-hidden")})),_defineProperty(_$$Class$extend,"addWaitContainer",(function(e){$(e)&&$(e).removeClass("ui-bizagi-sharepoint-loading-container-hidden")})),_defineProperty(_$$Class$extend,"loadTemplate",(function(e,t){var i=this;return bizagi.templateService.getTemplate(t).done((function(t){i.templates[e]=t}))})),_defineProperty(_$$Class$extend,"getFailServerErrorDeferred",(function(e,t){var i,r=this,a=e.message,s="";-1!=e.sharepointProxyPrefix.indexOf("URL")?(s=e.sharepointProxyPrefix.substr(e.sharepointProxyPrefix.indexOf("URL")+4,e.sharepointProxyPrefix.length),i="bizagi.workportal.desktop.error-message-sharepoint"):i="bizagi.workportal.desktop.error-message-portal",a=s+": "+a,r.loadTemplate("error-message",bizagi.getTemplate(i)).done((function(i){var s=r.content=$.tmpl(i,{message:a,address:e.helpAddress});t.resolve(s)})).fail((function(e){t.resolve("<div>Unhandled error</div>")}))})),_defineProperty(_$$Class$extend,"getPaginationTemplate",(function(){return self.loadTemplate("pagination-template",bizagi.getTemplate("inbox-common-pagination-inbox"))})),_defineProperty(_$$Class$extend,"publishShowRenderEvent",(function(e,t,i){e||alert("Event param cannot be undefined");var r=t.publish("ui-bizagi-can-change-activityform");r?r.done((function(){t.publish(e,i)})):console.log("autosave verification send error")})),_defineProperty(_$$Class$extend,"isWebpartInIFrame",(function(){try{return window.self!==window.top}catch(e){return!0}})),_defineProperty(_$$Class$extend,"displayWebPartPopUpExternalIframe",(function(e,t,i,r){t.message={};var a=$.extend({},t,{workportal:null,canvas:null,whenInitialized:null,event:"postmessage-bizagi-openParentPopUp",message:{webPartToDraw:e,iframeidentifier:r.iframeidentifier}});r.send(a)})),_defineProperty(_$$Class$extend,"displayWebPartPopUpinIFrame",(function(e,t,i){var r=document.createElement("div");r.className="containerPopUp",r.style.height="100%";var a=t;function s(e,t){2===e.eventPhase&&p(e,t)}r.addEventListener?r.addEventListener("click",s,!1):r.attachEvent("onclick",s);var o=document.createElement("div");o.className="activitiFormContainer";var n=document.createElement("div");n.className="closeCanvas",n.addEventListener?n.addEventListener("click",(function(e,t){p(e,t)}),!1):n.attachEvent("onclick",(function(e,t){p(e,t)})),o.appendChild(n),r.appendChild(o);var l=document.createElement("div");l.className="webpartCanvasDiv",l.id="webpartCanvasPopUp",o.appendChild(l);var c="";c=t.pathiFrame?t.pathiFrame:window.location.href.substring(0,window.location.href.indexOf("jquery"));var d=window.location.toString().split("?")[1];c=(c+="jquery/webparts/desktop/portal/pages/webpart.htm")+"?type="+e,t.idCase&&(c=c+"&idCase="+t.idCase),t.idWorkitem&&(c=c+"&idWorkitem="+t.idWorkitem),t.idWfClass&&(c=c+"&idWfClass="+t.idWfClass),d&&(c=c+"&"+d),c=c+"&remoteServer="+window.location.toString();var u=document.createElement("iframe");function p(e,t){var s=new bizagi.postmessage({remoteServer:c,destination:u.contentWindow,origin:window});s.receive=function(e){"postmessage-bizagi-closeIFramePopUp"==e.data.event&&r.parentNode&&(u.src=void 0,r.parentNode.removeChild(r),i&&i(this,a))};var o={event:"postmessage-bizagi-canCloseIFramePopUp"};s.send(o)}u.className="csswebpartIframePopUp",u.id="iframePopUp",u.src=c,u.resizeInPopUp=function(e){var t=$(".activitiFormContainer").height()||0;$(u).height(t)},l.appendChild(u),document.body.appendChild(r),u.resizeInPopUp(t),$(window).resize((function(){u.resizeInPopUp(t)}))})),_defineProperty(_$$Class$extend,"displayWebPartPopUp",(function(e,t,i){var r,a=document.createElement("div");a.className="containerPopUp",a.style.height="100%";var s=t;function o(e,t){2===e.eventPhase&&n(e,t)}function n(e,t){r.canHide?$.when(r.canHide()).done((function(){var e={message:{}};(e.event="ui-bizagi-reload-cases",r.postmessageSocket)?r.postmessageSocket.send(e):new bizagi.postmessage({remoteServer:bizagi.readQueryString().remoteServer,destination:window.parent,origin:window}).send(e);a.parentNode.removeChild(a),i&&i(this,s),r.destroy()})).fail((function(){a.parentNode.removeChild(a),i&&i(this,s),r.destroy()})):(a.parentNode.removeChild(a),i&&i(this,s),r.destroy())}a.addEventListener?a.addEventListener("click",o,!1):a.attachEvent("onclick",o);var l=document.createElement("div");l.className="activitiFormContainer";var c=document.createElement("div");c.className="closeCanvas",c.addEventListener?c.addEventListener("click",(function(e,t){n()}),!1):c.attachEvent("onclick",(function(e,t){n()})),l.appendChild(c),a.appendChild(l);var d=document.createElement("div");d.className="webpartCanvasDiv",d.id="webpartCanvasPopUp",l.appendChild(d);var u=$.extend({},t,{webpart:e,canvas:$(d),namespace:"PopUp",data:null,adjustButtonsToContent:!0});document.body.appendChild(a),bizagi.startWaiting(d),t.workportal.executeWebpart(u).done((function(e){r=e.webpart,c.onclick=function(e,t){}}))})),_defineProperty(_$$Class$extend,"displayWebPartDialog",(function(e,t,i){var r,a=t.dialogParams,s=document.createElement("div");s.className="activitiFormContainer";var o=document.createElement("div");o.className="webpartCanvasDiv",o.id="webpartCanvasPopUp",s.appendChild(o);var n=$.extend({},t,{webpart:e,canvas:$(o),namespace:"PopUp",data:null,adjustButtonsToContent:!0});t.workportal.executeWebpart(n).done((function(e){r=e.webpart,a.showCloseButton&&a.buttons.push({text:bizagi.localization.getResource("workportal-widget-dialog-box-close"),click:function(e,t){r.content.dialog("close")}}),r.content.dialog(a)}))})),_$$Class$extend)),bizagi="undefined"!=typeof bizagi?bizagi:{},bizagi.webparts=void 0!==bizagi.webparts?bizagi.webparts:{},bizagi.webparts.addConfigurationMessage=function(e,t){var i=this.ownerDocument,r=$("body",i),a=e.canvas||$("<div/>").appendTo(r),s=bizagi.getTemplate("bizagi.sharepoint.configurationerror");$.when(bizagi.templateService.getTemplate(s)).then((function(e){$.tmpl(e,{message:bizagi.localization.getResource(t)}).appendTo(a)}))},bizagi="undefined"!=typeof bizagi?bizagi:{},bizagi.webpart=void 0!==bizagi.webpart?bizagi.webpart:{},bizagi.webpart.subscribe=function(e,t){$(document).bind(e,t)},bizagi.webpart.publish=function(e,t){return $(document).triggerHandler(e,t)},bizagi.webpart.whenCreated=function(e,t){bizagi.webpart.subscribe("bizagi-webpart-created",(function(i){i.webpart.Class.fullname=="bizagi.workportal.webparts."+e&&t&&t(i)}))},bizagi.webpart.whenExecuted=function(e,t){bizagi.webpart.subscribe("bizagi-webpart-executed",(function(i){i.webpart.Class.fullname=="bizagi.workportal.webparts."+e&&t&&t(i)}))},bizagi.workportal.controllers.controller.extend("bizagi.workportal.webparts.webpart",{},{init:function(e,t,i){var r=this;this._super(e,t,i),this.helper=new bizagi.workportal.webpart.helper(this),this.canvas=i.canvas,this.project=i.project,this.sharepointProxyPrefix=i.sharepointProxyPrefix,this.namespace=i.namespace,this.isVisible=!0,this.isWebpartInIFrame=void 0!==i.isWebpartInIFrame?i.isWebpartInIFrame:r.helper.isWebpartInIFrame(),this.adjustButtonsToContent=i.adjustButtonsToContent,this.remoteServer=i.remoteServer,this.remoteServer&&(r.postmessageSocket=new bizagi.postmessage({remoteServer:this.remoteServer,destination:window.parent,origin:window}),r.postmessageSocket.iframeidentifier=BIZAGI_IFRAME_IDENTIFIER,r.postmessageSocket.receive=function(e){var t=e.data;if((!t.message||t.message.iframeidentifier!=BIZAGI_IFRAME_IDENTIFIER)&&t.event)switch(t.event){case"postmessage-bizagi-canCloseIFramePopUp":r.canHide&&r.Class.shortName==t.message.webPartDestine&&$.when(r.canHide()).done((function(){var e={event:"postmessage-bizagi-closeIFramePopUp",message:{}};e.message.iframeidentifier=BIZAGI_IFRAME_IDENTIFIER,r.postmessageSocket.send(e);var t={message:{},event:"ui-bizagi-reload-cases"};r.postmessageSocket.send(t)}));break;case"postmessage-bizagi-openParentPopUp":break;default:r.publish(t.event,t.message,!0)}},r.postmessageSocket.startReceiving(),r.sendDimensionsiFrame())},sendDimensionsiFrame:function(e){var t=this;if(t.remoteServer&&!t.adjustButtonsToContent&&(!t.namespace||e)&&t.isWebpartInIFrame&&t.canvas[0]){var i=t.canvas[0];i.attachEvent?i.onresize=function(){t.sendDimensionsiFramePostMessage()}:bizagi.addResizeListener(i,(function(e){t.sendDimensionsiFramePostMessage()}))}},sendDimensionsiFramePostMessage:function(){var e={message:{}};e.message.iframeName=BIZAGI_IFRAME_IDENTIFIER,e.message.iframeHeight=$("body").height(),"newcaselist"==this.Class.shortName||(e.message.iframeWidth=void 0),this.postmessageSocket.send(e)},publish:function(e,t,i){if(e=this.namespace?this.namespace+"."+e:e,!i&&-1==e.indexOf("bizagi-webpart-created")&&-1==e.indexOf("bizagi-webpart-executed")&&this.postmessageSocket){var r={};r.event=e,t&&(t.canvas=null,t.workportal=null),r.message={},r.message=$.extend(t,{project:this.project,iframeidentifier:BIZAGI_IFRAME_IDENTIFIER}),r.message.whenInitialized=null,this.postmessageSocket.send(r)}return this._super(e,$.extend(t,{project:this.project}))},subscribe:function(e,t){var i=this;e=this.namespace?this.namespace+"."+e:e,this._super(e,(function(e,r){if(i.project==r.project&&i.isVisible)return t(e,r)}))},unsubscribe:function(e,t){e=this.namespace?this.namespace+"."+e:e,this._super(e,t)},refresh:function(e){var t=this.getContent();t.empty(),this.prepareForRefresh(),$.when(this.render(e)).done((function(e){$.contains(window.document,t[0])?bizagi.util.replaceSelector($("body",window.document),t,e):($("#"+t.attr("id"),window.document).empty(),bizagi.util.replaceSelector($("body",window.document),"#"+t.attr("id"),e))}))},render:function(e){var t=this;return t.params=e,e.creating?(t.content=t.empty(),t.publish("bizagi-webpart-created",{webpart:t}),t.content):$.when(t.renderContent(e)).pipe((function(i){return"string"==typeof i&&(i=$(i)),t.content=i,t.postRender(e),t.publish("bizagi-webpart-executed",{webpart:t}),t.sendDimensionsiFrame(),t.getContent()}))},renderContent:function(e){},postRender:function(e){},getContent:function(){return this.content},empty:function(){return $("<div/>")},getTemplate:function(e){return this.workportalFacade.getTemplate(e)},createWebpart:function(e){return this.workportalFacade.workportal.createWebpart(e)},executeWebpart:function(e){return this.workportalFacade.workportal.executeWebpart(e)},manageError:function(e,t,i){var r=this,a="";if(-1==(a=e.responseText?e.responseText:e).indexOf("AUTHENTICATION_ERROR"))r.helper.getFailServerErrorDeferred({message:a,sharepointProxyPrefix:r.sharepointProxyPrefix},t),r.endWaiting(),i&&t.done((function(e){i.append(e),r.endWaiting()})),bizagi.iframeCommunicator&&bizagi.iframeCommunicator.trigger("authorization-internal-error");else{var s=r.content="<div class='ui-bizagi-webpart-error-message'>The current user does not exist as a registered user in the bizagi project</div>";i&&i.append(s),r.endWaiting(),t.resolve(s)}},onWaiting:function(){bizagi.startWaiting(document.getElementById(this.canvas[0].id))},endWaiting:function(){this.canvas.children(".ui-bizagi-sharepoint-loading-container").remove()},hide:function(e){this.canvas.hide(),e&&this.canvas.parent().hide(),this.isVisible=!1},show:function(){this.canvas.show(),this.canvas.parent().show(),this.isVisible=!0},isVisible:function(){return this.isVisible},destroy:function(){},prepareForRefresh:function(){}}),$.Class.extend("bizagi.workportal.desktop.facade",{LOGOS_OLD_BIZAGI:["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAsCAYAAACue3wzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlGM0RBQjU0Q0MyMDExRTU4QTI4QjJFNDQ4MDA3OTdCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlGM0RBQjU1Q0MyMDExRTU4QTI4QjJFNDQ4MDA3OTdCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUYzREFCNTJDQzIwMTFFNThBMjhCMkU0NDgwMDc5N0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUYzREFCNTNDQzIwMTFFNThBMjhCMkU0NDgwMDc5N0IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz48uWmlAAAIsklEQVR42uxbe5COVRh/11p3IaFQKOUSNUWSjEtKLkU1ZWpMUTuxckkuCY0/0sZayuiCksiMwhLLuG4uhci1KJpccg8rdt2ysV+/33zPN17vnPPevm+/WeZ9Zn7zfnve8z7nnOc55znP85yzCSlDUs8YhlHOuEp/As9NShu+0wjouqciFuWS7gb6B6K5cRSsolsC0dzYCg4oUHBAgYIDChQcUKDggAIFB6Sjom4qpQxJvQmPxsBdwM3AJeAUsBvYNilt+GW3DQqvPkAxKboILAaPHZZ6NfBI8DieEHAUSAS/f70KwzRO5gL4Ox/IMcLJn83geT5WgkdbXFz3Ag2AKkAJgPwPiUwPeOT3EB4dTUXkNSMBL0KK+guAZ4H2wGtAZ5vJkAvMBz5Bpza56EgrPFZZijlhGuD7PVKnHR5LPMrsLLBdeJcBfgK/DJeC5lh7Aa1trBon8XLgM5mQIZ+KrYNHP+AFoJJN1T+oIGAy2sp2wXc8Hm9ainfoBlMSGAq8DbR1WOmc6a8AP6ORWUAlH+MuDjQz/V3CB4//gCtARaA6wL60dxDK/ew3wInQxmHLogw6AIuAtfi2nkfFlgYm4OdvwBsOyiVxIrwP7MF3fYAEHzJpqBtQMVEczUW2mD431IWzBp15OM7+AJW7H/gF+BV4RvhNkBWqEng3UW4jH+1xMm4Bjy4ulVuLJh7oy+3DY1tMJX8MZIJP2VgJlQq9ACSJ8PI98OR+sgqdeTQKhe3xqNxdwErgB7E6kf29NmexQuA0x9NM9fxQSbESrzool334Eagb5bb9FJAlfkLUCqaD8j2wBpgIDALeEgwERnMfknq6wWeKo+SZ5CSrq5jOBRpkiJLGAqOkP6PFETRTNYvAO8k+6uSsnRQ4Wa8p4NnGxmlbbO2DgriYjgB5DvWaAF97Mde6vTUPQl6H5zqH2VkZj5FAD8VrettfAY/5VPJMPGa6NIFNZG9U7WvHTPX4/ksbVjTxqcAytJ8r35QVP+Qd8bBVi4RCrxf5xkTjxCNXUY68/8bkXJIXveGeQDfNAqTDS6sxtcDjYHTsBNBTPFAVtRaPuMAI/Dng1RrlHhClRWi4oT8poyVohPHMMSsKv88Cc2X1pGq+rQoMsPSrPh7JmvpbGCKB78iIcqWtfGAjwMjlceC05vtU8C9R4Ao2dWwSHuM1r/sWoHIZT8+TLUFF/Sk0qVtKQj4VfYh6g4ErNmMMAe/iZ5qmSm+0kWT6u58mjqe/0Aa8jjjIdJXsuyqzfauEdnHNZI2Q5IeVnnA72zwolvH7GPEuVWOgonpASPNNZdwqVF4okzVDPDQ/jJGCopyWoWWkf+LJq/b2ruhXjsuFsx6PMZrXneOqYJoyPOYqXiVJtiZWymXM/C0wWFPlHGc++vOFpVwXuqV7ycSJRUjXvG4hz5oSTViJe/s2j0MeLxPWSk3jvYIje4uKqsVIuXTcsiTeNjQOVQsIcani3R2ab5b76IouyxYJhWrEqi2M5ZTE0FaqHo2CE3zqIDfG/MzKrSlefXNNld85q21WSDlN+VEfQmfy56LGTJPKaz497HP4BxVliW4SH0U0y7+Kz47cpim/FKVymW3aYJMsoEPSDII/6GPy+U125NksGF1bxX22dUFTnuhGwfsU5Y0g1HI+OtJKU74vCuV2lAyVbtIxId/OheOiU/59BeDgH4hjW44K3qhJgPT2qIh7jGuPqyL0jxE+bvOjXCZQMoFSmipMsnSDcvNcsNusKe9aAHLdr4lhn8eYisZbwfM074aiMw1dKqKYZIhUJuO7SCzqY+VO1vgJ9HqTwXeEh2M7Omeq89wUtFU3lkKV8WYqXtWS+DiuCl4I7FW845nqUgz+QQdFcKPPsHF+PvXZt3Ga8rMSBk31KHSGT1M0e/ACjKNKjGU7UVOehrY6xE3BEgPqAn2m4NajQ+lyKmJWbAUgWYL+pzXfT/MR90VOYOpoPF6GQct8jneUxnRye+F5dusYrmJufbM1299CtDU01gkgQ9MYOzMXjU03wglulefH06RBqHMCz+NG+Kz4doc4mlbB77/AqLxxpviY966PfrxohNN15W14MDqYhbHNNgn9uOzrczRx8kq8p7fOCfQXcEYTEbh1GunHNFPErJTbBwAP8mnKmS/Plq3Hmvk6EYWnf81pUg8RbFub+pUFTnTMpWero0OK+PE9I3yF6EnxRt04K50gwPXox2GTkjNQxpOh0ZpvmmqyRDwaXQts8rCKs8UcM4yrqLGQKYrykExofrc7ivDq6goUT5RnpTOjtArsUHPzKYkP88bVs9U02LEidJ6wNHSp3MgErq3gnybW4LLHxVBUPPpED2PhFtbSJkzTJYZKy7OU4f5GjX0mC525BDBsSBaT4YVoEpn8bwwedibMbWd5gYy3NXjxgFksnqvyMD8pRnvk53g8YoSv+Lih8+J4ljU8pnjRFu9h8f7XdJefUEbnJPYv43IihhwVbOrQVJn5TOg7/Z/wSfGUeb7Zz8XV0p02mR5zH2gOO4iCc2TP9WOqztu0wdiYUcJLRvhaTchhMaw2wrccM31MqDNAd/x8QBSd67CCacUWSax/zkU2bY2OkRuvtqoIooZpBdGj5czc5TXOBb8GItTS5tUvpllVn/30k1nLV9yysOsXDzN46nSnEc4rR67uMFGzQUKtSN0pCvO/AnVSPeQOKNN6psl7QRy4zWZZoO5S8T2u8QlQp6SFZ1uxShG9nk4wAirUBKUxUjiiyOZthYIdb4QG/7pS+GmYoU7VrvbsZAVU6FYvr+UM1Lye4TUODqjwKJYLj3fZ0jWLcAnM8/ZAwYVTeXQWK2gcXt4M5T8MvC7Oly4qcH2RMVBwfJXLA5QBUbCgV98dq3evl4xJQPHzhk9HwYKhaC9J0BjBCi58VD6Kb/8GXoZys7x+GHjRhZt4se8jI5wlzPLDIFjB8SNm1JhatDv6Y0aPhxI8Q18BzJFrs77pfwEGAE4T2uOgrZMVAAAAAElFTkSuQmCC","data:image/png;base64,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","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMTUgNDIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDExNSA0MjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8ZyBpZD0iSG9tZV93b3JrUG9ydGFsIj4KCTxnIGlkPSJfMi1WYW5ndWFyZC1EYXJrcyI+CgkJPGcgaWQ9ImJpemFnaV9ob21lX3dvcmtwb3J0YWwiPgoJCQk8ZyBpZD0ibWVudV90b3AiPgoJCQkJPGcgaWQ9ImxvZ28iPgoJCQkJCTxwYXRoIGlkPSJTaGFwZSIgY2xhc3M9InN0MCIgZD0iTTExMS40LDEwLjNjLTAuMy0wLjMtMC43LTAuNS0xLjItMC41aC0yLjhjLTAuMywwLTAuNiwwLjMtMC42LDAuNnYxOS4zYzAsMC40LDAuMiwwLjgsMC41LDEuMQoJCQkJCQljMC4zLDAuMywwLjcsMC41LDEuMiwwLjVoMi44YzAuMywwLDAuNS0wLjMsMC41LTAuNmMwLDAsMCwwLDAsMFYxMS40QzExMS45LDExLDExMS43LDEwLjYsMTExLjQsMTAuM0wxMTEuNCwxMC4zTDExMS40LDEwLjN6IgoJCQkJCQkvPgoJCQkJCTxwYXRoIGlkPSJTaGFwZS0yIiBjbGFzcz0ic3QwIiBkPSJNMzIuNiw5LjhoLTIuOGMtMC4zLDAtMC41LDAuMy0wLjUsMC42YzAsMCwwLDAsMCwwdjE5LjNjMCwwLjQsMC4yLDAuOCwwLjUsMS4xCgkJCQkJCWMwLjMsMC4zLDAuNywwLjUsMS4xLDAuNWgyLjhjMC4zLDAsMC42LTAuMywwLjYtMC42VjExLjRjMC0wLjQtMC4yLTAuOC0wLjUtMS4xQzMzLjUsMTAsMzMsOS44LDMyLjYsOS44TDMyLjYsOS44TDMyLjYsOS44eiIKCQkJCQkJLz4KCQkJCQk8cGF0aCBpZD0iU2hhcGUtMyIgY2xhc3M9InN0MCIgZD0iTTIyLjgsMTIuOWMtMi4yLTItNS4xLTMuMi04LjEtMy4xYy0xLjgsMC0zLjUsMC40LTUuMSwxLjJjLTAuNSwwLjMtMS4xLDAuNy0xLjIsMC43CgkJCQkJCXMwLDAuMSwwLDBjMS0wLjUsMi4xLTAuOSwzLjItMWwwLDBjLTEuMSwwLjMtMi4yLDAuNy0zLjIsMS4zYzAsMCwwLDAuMSwwLDBjMS0wLjUsMi4xLTAuOCwzLjItMC45bDAsMAoJCQkJCQljLTEuMSwwLjMtMi4yLDAuNy0zLjEsMS4zYzAsMCwwLDAuMSwwLDBjMS0wLjQsMi4xLTAuNywzLjItMC43bDAsMGMtMS4xLDAuMi0yLjIsMC41LTMuMiwxYzAsMCwwLDAuMSwwLDAKCQkJCQkJYzEtMC4zLDIuMS0wLjUsMy4yLTAuNWwwLDBjLTEuMSwwLjEtMi4yLDAuNC0zLjIsMC44YzAsMCwwLDAuMSwwLDBjMS4xLTAuMiwyLjItMC4zLDMuMy0wLjJsMCwwYy0xLjEsMC4xLTIuMiwwLjMtMy4zLDAuN2wwLDAKCQkJCQkJYzEuMS0wLjIsMi4yLTAuMiwzLjMtMC4ybDAsMGMtMS4xLDAuMS0yLjIsMC4zLTMuMywwLjVsMCwwYzEsMCwxLjQsMCwzLjEsMGgzLjFjMS43LDAsMy40LDAuNyw0LjUsMmMyLjQsMi4zLDIuNSw2LjIsMC4xLDguNgoJCQkJCQljMCwwLTAuMSwwLjEtMC4xLDAuMWMtMS4yLDEuMi0yLjksMS45LTQuNiwxLjhjLTEuNywwLTMuMy0wLjYtNC41LTEuOGMtMS4yLTEuMS0xLjktMi43LTEuOC00LjRWMi45YzAtMC40LTAuMi0wLjktMC41LTEuMgoJCQkJCQlDNy41LDEuNCw3LDEuMiw2LjYsMS4ySDMuOGMtMC4zLDAtMC41LDAuMi0wLjYsMC41djE4LjhjMCwyLjksMS4yLDUuNywzLjQsNy42YzIuMiwyLjEsNS4xLDMuMiw4LjEsMy4xYzMsMC4xLDUuOS0xLjEsOC4xLTMuMQoJCQkJCQljMi4yLTEuOSwzLjQtNC43LDMuNC03LjZDMjYuMiwxNy42LDI1LDE0LjgsMjIuOCwxMi45TDIyLjgsMTIuOUwyMi44LDEyLjl6Ii8+CgkJCQkJPHBhdGggaWQ9IlNoYXBlLTQiIGNsYXNzPSJzdDAiIGQ9Ik03NS41LDEzQzcxLDguOCw2My45LDguOCw1OS40LDEzYy0yLjIsMS45LTMuNCw0LjctMy40LDcuNWMwLDIuOSwxLjIsNS43LDMuNCw3LjYKCQkJCQkJYzIuMiwyLjEsNSwzLjIsOCwzLjFjMS4zLDAsMi42LTAuMiwzLjgtMC42YzAuOC0wLjMsMS42LTAuNywyLjMtMS4yYzAsMCwwLTAuMSwwLDBjLTEsMC41LTIsMC45LTMuMSwxbDAsMAoJCQkJCQljMS4xLTAuMywyLjItMC44LDMuMi0xLjRjMCwwLDAtMC4xLDAsMGMtMSwwLjUtMi4xLDAuOC0zLjIsMC45bDAsMGMxLjEtMC4zLDIuMi0wLjcsMy4yLTEuMmMwLDAsMC0wLjEsMCwwCgkJCQkJCWMtMSwwLjQtMi4xLDAuNy0zLjIsMC43bDAsMGMxLjEtMC4yLDIuMi0wLjYsMy4yLTEuMWwwLDBjLTEsMC40LTIuMSwwLjYtMy4yLDAuNmwwLDBjMS4xLTAuMiwyLjItMC41LDMuMi0wLjljMCwwLDAtMC4xLDAsMAoJCQkJCQljLTEuMSwwLjMtMi4yLDAuNC0zLjIsMC40bDAsMGMxLjEtMC4yLDIuMi0wLjQsMy4yLTAuN2wwLDBjLTEuMSwwLjItMi4yLDAuMy0zLjIsMC4zbDAsMGMwLjQsMCwyLjMtMC4zLDMuMi0wLjZsMCwwCgkJCQkJCWMtMS40LDAuMS0yLjcsMC4xLTQuMSwwaC0yLjFjLTMuNSwwLTYuMy0yLjctNi40LTYuMmMtMC4xLTEuOCwwLjYtMy42LDEuOS00LjhjMi41LTIuNSw2LjYtMi41LDkuMSwwYzEuMiwxLjEsMS45LDIuNywxLjksNC40CgkJCQkJCVYzMWMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjFoMy45YzAuMywwLDAuNS0wLjMsMC41LTAuNlYyMC44Qzc5LDE3LjgsNzcuNywxNSw3NS41LDEzTDc1LjUsMTN6Ii8+CgkJCQkJPHBhdGggaWQ9IlNoYXBlLTUiIGNsYXNzPSJzdDAiIGQ9Ik0zOSwxNC40aDUuNGMwLjYsMCwwLjQsMCwyLTAuMWMxLjQtMC4xLDIuMy0wLjUsMy40LTAuNmwwLDBjLTEsMC0yLDAtMywwLjFsMCwwCgkJCQkJCWMxLjEtMC4zLDIuMy0wLjQsMy40LTAuNWwwLDBjLTEsMC0yLDAtMywwLjFsMCwwYzEuMS0wLjMsMi4zLTAuNSwzLjQtMC41bDAsMGMtMSwwLTIsMC0zLDAuMWwwLDBjMS4xLTAuMywyLjItMC42LDMuMy0wLjdsMCwwCgkJCQkJCWMtMS0wLjEtMi0wLjEtMywwbDAsMGMxLjEtMC4zLDIuMi0wLjQsMy4zLTAuNGwwLDBjLTEtMC4xLTItMC4xLTMsMGwwLDBjMS4xLTAuMywyLjEtMC40LDMuMi0wLjNsMCwwYy0xLTAuMi0yLTAuMi0zLDBsMCwwCgkJCQkJCWMxLTAuMiwyLTAuMywzLjEtMC4zbDAsMGMtMS0wLjItMi0wLjItMy0wLjFsMCwwYzAuOS0wLjIsMS45LTAuMywyLjgtMC4zbDAsMGMtMS0wLjMtMi0wLjMtMy0wLjFsMCwwYzAuOS0wLjIsMS43LTAuMywyLjYtMC4yCgkJCQkJCWwwLDBjLTAuNC0wLjEtMC45LTAuMi0xLjMtMC4ySDM3LjljLTAuMywwLTAuNiwwLjMtMC42LDAuNnYyLjFDMzcuNSwxMy45LDM4LjIsMTQuNCwzOSwxNC40TDM5LDE0LjR6Ii8+CgkJCQkJPHBhdGggaWQ9IlNoYXBlLTYiIGNsYXNzPSJzdDAiIGQ9Ik01Mi41LDI2LjdoLTUuNGMtMC42LDAtMC40LDAtMiwwLjFjLTEuNCwwLjEtMi4zLDAuNS0zLjQsMC42bDAsMGMxLDAsMiwwLDMtMC4xbDAsMAoJCQkJCQljLTEuMSwwLjMtMi4zLDAuNC0zLjQsMC41bDAsMGMxLDAsMiwwLDMtMC4xbDAsMGMtMS4xLDAuMy0yLjMsMC41LTMuNCwwLjVsMCwwYzEsMC4xLDIsMCwzLTAuMWwwLDBjLTEuMSwwLjMtMi4yLDAuNC0zLjQsMC41CgkJCQkJCWwwLDBjMSwwLjEsMiwwLjEsMywwbDAsMGMtMS4xLDAuMy0yLjIsMC40LTMuMywwLjRsMCwwYzEsMC4xLDIsMC4xLDMsMGwwLDBjLTEuMSwwLjMtMi4xLDAuNC0zLjIsMC4zbDAsMGMxLDAuMiwyLDAuMiwzLDBsMCwwCgkJCQkJCWMtMSwwLjItMiwwLjMtMy4xLDAuM2wwLDBjMSwwLjQsMi4xLDAuNiwzLjEsMC42bDAsMGMtMC45LDAuMi0xLjksMC4zLTIuOSwwLjNsMCwwYzEsMC4zLDIsMC4zLDMsMC4xbDAsMAoJCQkJCQljLTAuOSwwLjItMS43LDAuMy0yLjYsMC4ybDAsMGMwLjQsMC4xLDAuOSwwLjIsMS4zLDAuMmgxMS43YzAuMywwLDAuNi0wLjIsMC42LTAuNWMwLDAsMCwwLDAsMHYtMmMwLTAuNC0wLjItMC45LTAuNS0xLjIKCQkJCQkJYy0wLjMtMC4zLTAuNy0wLjUtMS4xLTAuNWwwLDBWMjYuN3oiLz4KCQkJCQk8cGF0aCBpZD0iU2hhcGUtNyIgY2xhc3M9InN0MCIgZD0iTTQyLjIsMjYuN2wxMC43LTkuM2MxLjctMS44LDEuNy00LjYtMC4xLTYuNGMtMC40LTAuNC0wLjktMC43LTEuNC0wLjlsMCwwCgkJCQkJCWMxLDEtMC4zLDIuNy0xLjMsMy43bC0xMS4zLDkuOWMtMC44LDAuOC0xLjIsMi0xLjMsMy4xYzAsMS44LDEsMy40LDIuNiw0LjFsMCwwQzM5LDI5LjQsNDIuMiwyNi43LDQyLjIsMjYuN0w0Mi4yLDI2LjcKCQkJCQkJTDQyLjIsMjYuN3oiLz4KCQkJCQk8cGF0aCBpZD0iU2hhcGUtOCIgY2xhc3M9InN0MCIgZD0iTTEwMC40LDEzYy0yLjItMi4xLTUuMS0zLjItOC4xLTMuMWMtMy0wLjEtNS45LDEuMS04LjEsMy4xYy00LjIsMy44LTQuNSwxMC4zLTAuNywxNC41CgkJCQkJCWMwLjIsMC4yLDAuNCwwLjUsMC43LDAuN2MyLjIsMi4xLDUuMSwzLjIsOC4xLDMuMUg5M2MxLjEtMC4xLDIuMS0wLjMsMy4xLTAuNmMwLjgtMC4zLDEuNi0wLjcsMi4zLTEuMmMwLDAsMC0wLjEsMCwwCgkJCQkJCWMtMSwwLjUtMiwwLjktMy4xLDFsMCwwYzEuMS0wLjMsMi4xLTAuOCwzLjEtMS41YzAsMCwwLTAuMSwwLDBjLTEsMC41LTIuMSwwLjgtMy4yLDAuOWwwLDBjMS4xLTAuMywyLjItMC43LDMuMi0xLjIKCQkJCQkJYzAsMCwwLTAuMSwwLDBjLTEsMC40LTIuMSwwLjctMy4yLDAuN2wwLDBjMS4xLTAuMiwyLjItMC42LDMuMi0xLjFsMCwwYy0xLDAuNC0yLjEsMC42LTMuMiwwLjZsMCwwYzEuMS0wLjIsMi4yLTAuNSwzLjItMC45CgkJCQkJCWMwLDAsMC0wLjEsMCwwYy0xLjEsMC4zLTIuMiwwLjQtMy4yLDAuNGwwLDBjMS4xLTAuMiwyLjItMC40LDMuMi0wLjdsMCwwYy0xLjEsMC4yLTIuMiwwLjMtMy4yLDAuM2wwLDBjMC40LDAsMi4zLTAuMywzLjItMC42CgkJCQkJCWwwLDBjLTEuNCwwLjEtMi43LDAuMS00LjEsMGgtMi4xYy0xLjcsMC0zLjMtMC42LTQuNS0xLjhjLTIuNC0yLjMtMi41LTYuMS0wLjItOC42YzAuMS0wLjEsMC4xLTAuMSwwLjItMC4yCgkJCQkJCWMxLjItMS4yLDIuOC0xLjksNC42LTEuOWMxLjcsMCwzLjMsMC42LDQuNSwxLjljMS4yLDEuMSwxLjksMi43LDEuOCw0LjRjMCwwLDAuMSw5LjgsMCw5LjljLTAuMSwxLjUtMC44LDIuOC0xLjksMy44CgkJCQkJCWMtMS4yLDEuMS0yLjgsMS44LTQuNSwxLjhoLTUuMWMtMC40LDAtMC45LDAuMi0xLjIsMC41Yy0wLjMsMC4zLTAuNSwwLjctMC41LDEuMnYyLjNjMCwwLjMsMC4yLDAuNiwwLjUsMC42YzAsMCwwLDAsMCwwaDYuMgoJCQkJCQljMywwLDUuOS0xLjEsOC4xLTMuMWMyLjMtMiwzLjUtNSwzLjQtOHYtOS4xQzEwMy44LDE3LjksMTAyLjYsMTUsMTAwLjQsMTNMMTAwLjQsMTN6Ii8+CgkJCQk8L2c+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+CjwvZz4KPC9zdmc+Cg=="],BIZAGI_GO_THEME_ID:"9b9a9539-e09e-4da4-8d77-f6a02cc8d84e",getWidgetImplementation:function(e){return void 0===bizagi.workportal.widgets||void 0===bizagi.workportal.widgets.widget?"":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INTEGRATION?"bizagi.workportal.widgets.integration":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX?"bizagi.workportal.widgets.inbox":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOME?"bizagi.workportal.widgets.home":e.toUpperCase()==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL.toUpperCase()?"bizagi.workportal.widgets.homeportal":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ACTIVITY_DESCRIPTION_CONTENT?"bizagi.workportal.widgets.task.description.content":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ACTIVITY?"bizagi.workportal.widgets.project.activity":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROJECT_DASHBOARD?"bizagi.workportal.widgets.homeportal":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADVANCE_SEARCH?"bizagi.workportal.widgets.advanceSearch":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID?"bizagi.workportal.widgets.inboxGrid":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ROUTING?"bizagi.workportal.widgets.routing":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_RENDER?bizagi.override.enableProjectDashboard?"bizagi.workportal.widgets.project.activity":"bizagi.workportal.widgets.render":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_START_FORM?"bizagi.workportal.widgets.startForm":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_NEWCASE?"bizagi.workportal.widgets.newCase":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SUBMENU?"bizagi.workportal.widgets.subMenu":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ASYNC?"bizagi.workportal.widgets.async":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_QUERIES?"bizagi.workportal.widgets.queries":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_QUERIES_DEFINITION?"bizagi.workportal.widgets.queries.definition":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_QUERIES_SHORTCUT?"bizagi.workportal.widgets.queries.shortcut":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_QUERYFORM?"bizagi.workportal.widgets.queryform":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME?"bizagi.workportal.widgets.genericiframe":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SEARCH?"bizagi.workportal.widgets.search":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_FOLDERS?"bizagi.workportal.widgets.folders":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PRINT?"bizagi.workportal.widgets.print":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_FONTSIZE?"bizagi.workportal.widgets.fontsize":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_OLDRENDERINTEGRATION?"bizagi.workportal.widgets.oldrenderintegration":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PAGE?"bizagi.workportal.widgets.page":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ENTITIES?"bizagi.workportal.widgets.entities":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_RENDERFORM?"bizagi.workportal.widgets.renderform":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS?"bizagi.workportal.widgets.reports":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS_MENU?"bizagi.workportal.widgets.reportsMenu":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS_CHART?"bizagi.workportal.widgets.reportsChart":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTFOLDERS?"bizagi.workportal.widgets.smartfolders":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_CASES?"bizagi.workportal.widgets.admin.cases":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ASYNCECM_UPLOAD?"bizagi.workportal.widgets.asyncecm.upload":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ACTIVITY_LOG?"bizagi.workportal.widgets.activity.log":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_AUTHENTICATION_LOG?"bizagi.workportal.widgets.authentication.log":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ENCRYPT_PASSWORDS?"bizagi.workportal.widgets.admin.encrypt.passwords":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_REQUESTS?"bizagi.workportal.widgets.admin.users.requests":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_CASE_SEARCH?"bizagi.workportal.widgets.admin.caseSearch":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_HOLIDAYS?"bizagi.workportal.widgets.admin.holidays":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_PROJECTNAME?"bizagi.workportal.widgets.admin.projectName":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_OAUTH2APPLICATIONS?"bizagi.workportal.widgets.admin.oauth2Applications":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_SMARTFOLDERS?"bizagi.workportal.widgets.admin.smartfolders":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROCESS_TREE?"bizagi.workportal.widgets.processtree":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ENTITIES_TREE?"bizagi.workportal.widgets.entitiestree":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_USERS_TABLE?"bizagi.workportal.widgets.userstable":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_DEFAULTS_ASSIGNATION_USER?"bizagi.workportal.widgets.admin.defaults.assignation.user":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_USERS_MODAL?"bizagi.workportal.widgets.users.modal":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_QUERIES_MANAGEMENT?"bizagi.workportal.widgets.queries.management":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_PROFILES?"bizagi.workportal.widgets.admin.user.profiles":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ASYNC_ACTIVITIES?"bizagi.workportal.widgets.admin.async.activities":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ALARMS?"bizagi.workportal.widgets.admin.alarms":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_LICENSES?"bizagi.workportal.widgets.admin.user.licenses":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_DIMENSIONS?"bizagi.workportal.widgets.admin.dimensions":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_DOCUMENT_TEMPLATES?"bizagi.workportal.widgets.admin.document.templates":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_PROCESSES?"bizagi.workportal.widgets.admin.processes":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES?"bizagi.workportal.widgets.admin.business.policies":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_DECISION_TABLE?"bizagi.workportal.widgets.admin.business.policies.decision.table":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_RULES?"bizagi.workportal.widgets.admin.business.policies.rules":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_TABS?"bizagi.workportal.widgets.admin.business.policies.tabs":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_POLITICS?"bizagi.workportal.widgets.admin.business.policies.politics":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_VOCABULARIES?"bizagi.workportal.widgets.admin.business.policies.vocabularies":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_TREE?"bizagi.workportal.widgets.tree":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_LANGUAGE?"bizagi.workportal.widgets.admin.language":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ENTITIES?"bizagi.workportal.widgets.admin.entities":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GRAPHIC_QUERY?"bizagi.workportal.widgets.graphicquery":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE?"bizagi.workportal.widgets.reassigncase":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_ADMINISTRATION?"bizagi.workportal.widgets.admin.usersAdministration":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_PERMISSION_REPORT?"bizagi.workportal.desktop.widgets.admin.userPermissionReport":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_DELEGATION?"bizagi.workportal.widgets.admin.usersDelegation":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_DELEGATION_SEARCH_USER?"bizagi.workportal.widgets.admin.usersDelegation.searchUser":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_STAKEHOLDERS?"bizagi.workportal.widgets.admin.stakeholders":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_PREFERENCES?"bizagi.workportal.widgets.admin.preferences":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_START_PROCESS?"bizagi.workportal.widgets.createcase":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROJECT_PROCESS_MAP?"bizagi.workportal.widgets.project.processMap":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROJECT_PROCESS_DIAGRAM_HELPER?"bizagi.workportal.widgets.project.processDiagram.helper":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROJECT_ACTIVITY_MAP_TOOLTIP?"bizagi.workportal.widgets.project.activityMap.tooltip":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROJECT_USERSUMMARY?"bizagi.workportal.widgets.usersummary":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_MYSEARCHLIST?"bizagi.workportal.widgets.mySearchList":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_LOADFORM?"bizagi.workportal.widgets.loadForm":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_TEMPLATE_ENGINE?"bizagi.workportal.widgets.templates":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_DIALOGNAV?"bizagi.workportal.widgets.dialognav":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROCESS_MODELER_VIEW?"bizagi.workportal.widgets.processmodeler":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_TIMELINE?"bizagi.workportal.widgets.project.timeline":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_QUICKACTIONS_EXECUTE?"bizagi.workportal.widgets.quickActionsExecute":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_PROCESSES?"bizagi.workportal.widgets.admin.adhoc.processes":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_ENTITIES?"bizagi.workportal.widgets.admin.adhoc.entities":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_USER_GROUPS?"bizagi.workportal.widgets.admin.adhoc.usergroup":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_BOOLEAN_EXP?"bizagi.workportal.widgets.admin.adhoc.booleanexp":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADHOC_CREATE_PROCESS?"bizagi.workportal.widgets.adhoc.create.process":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROFLY?"bizagi.workportal.widgets.profly":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SESSION_TIMEOUT?"bizagi.workportal.widgets.sessionTimeout":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SESSION_TIMEOUT_EXPIRED?"bizagi.workportal.widgets.sessionTimeoutExpired":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_USER_PRIVACY?"bizagi.workportal.widgets.user.privacy":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_CANCEL_CASE?"bizagi.workportal.desktop.widgets.project.cancelCase":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ACCESS_DENIED?"bizagi.workportal.widgets.accessDenied":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICES?"bizagi.workportal.widgets.admin.business.polices":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_TRANSFER_CASE_SECURITY_PERMISSIONS?"bizagi.workportal.widgets.admin.transfer.case.security.permissions":e==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ADMIN_ERROR_LOGS?"bizagi.workportal.widgets.admin.error.logs":void 0!==bizagi.workportal.widgets[e]?"bizagi.workportal.widgets."+e:null}},{init:function(e,t){this.templates={},this.workportal=e,this.dataService=t,this.getWorkPortalVersion(),bizagi.injector.registerInstance("workportalFacade",this)},getWorkportal:function(){return this.workportal},initAsyncStuff:function(e){var t=this;if(bizagi.enableCustomizations){return $.when(bizagi.templateService.loadCustomTemplates().pipe((function(i){return e?t.loadTemplates():i})),this.loadPersonalizedTheme(),bizagi.util.loadFile({src:bizagi.getJavaScript("bizagi.workportal.desktop.overrides"),type:"js"})).done((function(e,t,i){bizagi.util.loadFile({src:bizagi.getStyleSheet("bizagi.overrides.desktop.custom.styles"),type:"css"})}))}return e?$.when(t.loadTemplates()):null},loadTemplates:function(){var e=new $.Deferred;return $.when(this.loadTemplate("workportal",bizagi.getTemplate("bizagi.workportal.desktop")),this.loadTemplate("workportal.notCompatibleIE",bizagi.getTemplate("bizagi.workportal.desktop.notCompatibleIE")),this.loadTemplate("menu",bizagi.getTemplate("bizagi.workportal.desktop.menu")+"#ui-bizagi-workportal-widget-menu"),this.loadTemplate("menu.custom-button",bizagi.getTemplate("bizagi.workportal.desktop.menu")+"#ui-bizagi-workportal-widget-menu-custom-button"),this.loadTemplate("menu.security",bizagi.getTemplate("bizagi.workportal.desktop.menu")+"#ui-bizagi-workportal-widget-menu-permissions"),this.loadTemplate("menu.submenu",bizagi.getTemplate("bizagi.workportal.desktop.menu")+"#ui-bizagi-workportal-widget-menu-submenu"),this.loadTemplate("menu.submenu.container",bizagi.getTemplate("bizagi.workportal.desktop.menu")+"#ui-bizagi-workportal-widget-menu-submenu"),this.loadTemplate("menu.submenu.list",bizagi.getTemplate("bizagi.workportal.desktop.menu")+"#ui-bizagi-workportal-widget-menu-submenu-list"),this.loadTemplate("menu.submenu.cathegories.list",bizagi.getTemplate("bizagi.workportal.desktop.menu")+"#ui-bizagi-workportal-widget-menu-submenu-cathegories-list"),this.loadTemplate("popup",bizagi.getTemplate("bizagi.workportal.desktop.popup")),this.loadTemplate("menu.modal.widgets",bizagi.getTemplate("bizagi.workportal.desktop.menu.modal.widgets")),this.loadTemplate("menu.modal.user",bizagi.getTemplate("bizagi.workportal.desktop.menu.modal.user")),this.loadTemplate("menu.modal.about",bizagi.getTemplate("bizagi.workportal.desktop.menu.modal.about")),this.loadTemplate("menu.modal.qr",bizagi.getTemplate("bizagi.workportal.desktop.menu.modal.qr")),this.loadTemplate("inbox-common-pagination-grid",bizagi.getTemplate("bizagi.workportal.desktop.widget.inbox.common")+"#ui-bizagi-workportal-widget-inbox-common-pagination-grid"),this.loadTemplate("inbox-common-pagination-inbox",bizagi.getTemplate("bizagi.workportal.desktop.widget.inbox.common")+"#ui-bizagi-workportal-widget-inbox-common-pagination-inbox"),this.loadTemplate("inbox-common-header",bizagi.getTemplate("bizagi.workportal.desktop.widget.inbox.common")+"#ui-bizagi-workportal-widget-inbox-common-header"),this.loadTemplate("inbox-common-header-folders",bizagi.getTemplate("bizagi.workportal.desktop.widget.inbox.common")+"#ui-bizagi-workportal-widget-inbox-folders"),this.loadTemplate("inbox-common-case-summary-oldrender",bizagi.getTemplate("bizagi.workportal.desktop.widget.inbox.common")+"#ui-bizagi-workportal-widget-inbox-common-oldrender"),this.loadTemplate("loadForm",bizagi.getTemplate("bizagi.workportal.desktop.widget.loadForm")+"#ui-bizagi-workportal-widget-loadForm"),this.loadTemplate("print-frame",bizagi.getTemplate("bizagi.workportal.desktop.widget.print")+"#bz-wp-widget-print-frame"),this.loadTemplate("print-frame-header",bizagi.getTemplate("bizagi.workportal.desktop.widget.print")+"#bz-wp-widget-print-frame-header"),this.loadTemplate("render",bizagi.getTemplate("bizagi.workportal.desktop.widget.render")+"#ui-bizagi-workportal-widget-render"),this.loadTemplate("search",bizagi.getTemplate("bizagi.workportal.desktop.widget.search")+"#ui-bizagi-workportal-widget-search"),this.loadTemplate("info-message",bizagi.getTemplate("common.bizagi.desktop.info-message")),this.loadTemplate("bizagi.workportal.desktop.upload.dialog",bizagi.getTemplate("bizagi.workportal.desktop.upload.dialog")),this.loadTemplate("bizagi.workportal.desktop.fileupload.form",bizagi.getTemplate("bizagi.workportal.desktop.fileupload.form"))).done((function(){e.resolve()})),e.promise()},loadTemplate:function(e,t){var i=this;return bizagi.templateService.getTemplate(t).done((function(t){i.templates[e]=t}))},loadTemplateWebpart:function(e,t){var i=this;return bizagi.templateService.getTemplateWebpart(t).done((function(t){i.templates[e]=t}))},getTemplate:function(e){return this.templates[e]},getMainController:function(){return new bizagi.workportal.controllers.main(this,this.dataService)},getMenuController:function(){return new bizagi.workportal.controllers.menu(this,this.dataService)},getWorkareaController:function(){return new bizagi.workportal.controllers.workarea(this,this.dataService)},getWidget:function getWidget(widget,params){var self=this,widgetImplementation=this.Class.getWidgetImplementation(widget);if(widgetImplementation)try{var dynamicFunction="var baDynamicFn = function(facade, dataService, params){ \r\n";return dynamicFunction+="return new "+widgetImplementation+"(facade, dataService, params);\r\n",dynamicFunction+="}\r\n",dynamicFunction+="baDynamicFn",dynamicFunction=eval(dynamicFunction),dynamicFunction(this,this.dataService,params)}catch(e){}else{var defer=new $.Deferred,webpart=bizagi.getWebpart(widget);if(webpart){var loadTheme=function(){return void 0!==bizagi.theme?self.loadPersonalizedTheme():""};return $.when(loadTheme(),bizagi.util.initWebpart(webpart)).done((function(){defer.resolve(new bizagi.workportal.widgets.webpart(self,self.dataService,$.extend(params,{webpart:widget})))})),defer.promise()}}return bizagi.log(widget+" widget not supported",params,"error"),null},getAction:function(e,t){return e==bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING?new bizagi.workportal.actions.routing(this,this.dataService,t):e==bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_SEARCH?new bizagi.workportal.actions.search(this,this.dataService,t):(bizagi.log(e+" action not supported",t,"error"),null)},loadWebpart:function(e){var t=this,i=new $.Deferred,r=e.webpart,a=bizagi.getWebpart(r);return a||bizagi.webparts.addConfigurationMessage(e,"bizagi-sharepoint-loading-webpart-error"),$.when(bizagi.util.initWebpart(a)).done((function(){$.when.apply(this,$.map(a.tmpl,(function(e){return t.loadTemplateWebpart(e.originalAlias,bizagi.getTemplate(e.alias,!0))}))).done((function(){i.resolve()}))})),i.promise()},getWebpart:function getWebpart(webpartName,params){var webpart=bizagi.getWebpart(webpartName),webpartImplementation=webpart.class;if(webpartImplementation)try{var dynamicFunction="var baDynamicFn = function(facade, dataService, params){ \r\n";return dynamicFunction+="return new "+webpartImplementation+"(facade, dataService, params);\r\n",dynamicFunction+="}\r\n",dynamicFunction+="baDynamicFn",dynamicFunction=eval(dynamicFunction),dynamicFunction(this,this.dataService,params)}catch(e){bizagi.log(e)}return bizagi.log(webpartName+" webpart not supported",params,"error"),null},getLogo:function(e){var t="";try{t=JSON.parse(e).inbox}catch(i){t=e}return t},_calcLogoToShow:function(e){var t=this.Class.LOGOS_OLD_BIZAGI,i=this.getLogo(e.logo),r=i||this._loadDefaultLogo(e);return-1!==t.indexOf(i)?this._loadDefaultLogo(e):r},loadPersonalizedTheme:function(){var e=this,t=$.Deferred();return $.when(e.dataService.getCurrentTheme()).done((function(i){if(i=i||[],bizagi.themeLogo=e._calcLogoToShow(i),$("#ui-bizagi-wp-app-menu-logo-client img").attr("src",bizagi.themeLogo),i.id){if(bizagi.theme=i,bizagi.theme.value)try{bizagi.theme.value=JSON.parse(bizagi.theme.value)}catch(e){}for(var r,a=$('head link [rel="stylesheet"]'),s=0;s<a.length;s++){if(-1!=$(a[s]).attr("href").indexOf("bizagi.custom.styles.css")){r=$(a[s]);break}}r?$('<style id="bizagi-theme">'+i.css+"</style>").insertBefore(r):$("head").append('<style id="bizagi-theme">'+i.css+"</style>")}else e._loadDefaultTheme();t.resolve()})),t.promise()},_loadDefaultTheme:function(){$("head").append('<link id="bizagi-default-theme" rel="stylesheet" href="ThemeBuilder/libs/css/bizagi-default-theme.css"/>')},_loadDefaultLogo:function(e){var t=this._isLightTheme(e),i=e.id===this.Class.BIZAGI_GO_THEME_ID;return t||i?"img/img/barra/logo-bizagi-white.svg":"img/img/barra/logo-bizagi.svg"},_isLightTheme:function(e){return!e.name||0==e.name.search("Light")},getWorkPortalVersion:function(){bizagi.setWorkPortalVersion(bizagi.loader.version),sessionStorage.setItem("bizVersion",bizagi.loader.version),sessionStorage.setItem("bizBasePath",bizagi.loader.basePath)}}),bizagi.workportal.desktop.facade.extend("bizagi.workportal.desktop.facade",{},{init:function(e,t){this._super(e,t)}}),bizagi="undefined"!=typeof bizagi?bizagi:{},bizagi.override=void 0!==bizagi.override?bizagi.override:{},bizagi.override.customWorkportalHandlers={},bizagi.override.customizeWorkportalHandler=function(e,t){bizagi.override.customWorkportalHandlers[e]=t},bizagi.workportal.services.context&&(bizagi.workportal.services.context.original=$.extend(!0,{},bizagi.workportal.services.context.prototype),$.extend(bizagi.workportal.services.context.prototype,{getUrl:function(e){return"workportal"==this.context&&bizagi.override.customWorkportalHandlers[e]?bizagi.override.customWorkportalHandlers[e]:bizagi.workportal.services.context.original.getUrl.apply(this,arguments)}})),bizagi.override.customizeWorkportalWidget=function(widget,extensionMethod){var widgetImplementation=bizagi.workportal.desktop.facade.getWidgetImplementation(widget);widgetImplementation&&eval(widgetImplementation).extend(widgetImplementation,{},{postRender:function(){this._super();var e=this.getContent();extensionMethod&&extensionMethod(this,e)}})},bizagi.override.customButtons=[],bizagi.override.addCustomMenuButton=function(e){bizagi.override.customButtons.push(e)},bizagi.workportal.controllers.menu&&(bizagi.workportal.controllers.menu.original=$.extend(!0,{},bizagi.workportal.controllers.menu.prototype),$.extend(bizagi.workportal.controllers.menu.prototype,{postRender:function(){var e=this,t=e.workportalFacade.getTemplate("menu.custom-button");return $.when(bizagi.workportal.controllers.menu.original.postRender.apply(this,arguments)).pipe((function(i){var r=$("[data-bizagi-component=menuItems]",i);return $.each(bizagi.override.customButtons,(function(i,a){if("function"!=typeof a.isAvailable||a.isAvailable()){var s=$.tmpl(t,a);null==a.submenu?s.click((function(){a.click&&a.click(e)})):s.click((function(){e.renderSubMenu(s,a.submenu,a.click)})),r.append(s)}})),i}))}})),bizagi.override.addDataService=function(e,t){if(bizagi.workportal.services.service){bizagi.workportal.services.service.original=$.extend(!0,{},bizagi.workportal.services.service.prototype);var i={};i[e]=t,$.extend(bizagi.workportal.services.service.prototype,i)}},$.Class.extend("bizagi.workportal.device.factory",{},{init:function(e){this.device=bizagi.util.detectDevice(),this.workportal=e,this.cachedFacade=null},getWorkportalFacade:function(e,t){var i=this,r=new $.Deferred;return t=void 0===t||t,null!=i.cachedFacade?r.resolve(i.cachedFacade):"desktop"==this.device?$.when(i.getDesktopWorkportalFacade(e,t)).done((function(e){i.cachedFacade=e,r.resolve(e)})):bizagi.util.isTabletDevice(this.device)?$.when(i.getTabletWorkportalFacade(e,t)).done((function(e){i.cachedFacade=e,r.resolve(e)})):bizagi.util.isMobileDevice(this.device)?$.when(i.getSmartphoneWorkportalFacade(e,t)).done((function(e){i.cachedFacade=e,r.resolve(e)})):(alert("Not supported device: "+this.device),r.resolve("")),r.promise()},getDesktopWorkportalFacade:function(e,t){var i=$.Deferred(),r=new bizagi.workportal.desktop.facade(this.workportal,e);return $.when(r.initAsyncStuff(t)).done((function(){i.resolve(r)})),i.promise()},getTabletWorkportalFacade:function(e){var t=new $.Deferred,i=new bizagi.workportal.tablet.facade(this.workportal,e);return i.initAsyncStuff().done((function(){t.resolve(i)})),t.promise()},getSmartphoneWorkportalFacade:function(e){var t=new $.Deferred,i=new bizagi.workportal.smartphone.facade(e);return i.initAsyncStuff().done((function(){t.resolve(i)})),t.promise()},getDataService:function(){return this.dataService}}),bizagi.workportal=bizagi.workportal||{},bizagi.workportal.currentInboxView||(bizagi.workportal.currentInboxView="inbox"),bizagi.workportal.state=bizagi.workportal.state||{},$.Class.extend("bizagi.workportal.facade",{},{init:function(e){this.deviceFactory=new bizagi.workportal.device.factory(this),this.dataService=new bizagi.workportal.services.service(e),this.dataService.routing=new bizagi.workportal.services.routing({dataService:this.dataService}),this.defaultParams=e||{},this.timeoutID},loadDefaultWidget:function(){var e=bizagi.cookie("bizagiDefaultWidget");if(!this.defaultWidget&&!bizagi.util.isEmpty(window.location.hash)){var t=bizagi.util.getHashParams();"/"!=t[0]&&(this.defaultWidget=t[0])}if(!this.defaultWidget&&!bizagi.util.isEmpty(window.location.search)){var i=bizagi.util.getQueryString();"activityform"!==i.widget&&"activityform"!==this.defaultParams.widget||bizagi.util.isMobileDevice()?"smartinbox"===i.widget?this.defaultWidget="smartinbox"===e?bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID:e:this.defaultWidget=i.widget:(this.defaultWidget="projectDashboard",this.defaultParams.caseLink=!0)}this.defaultWidget||bizagi.util.isEmpty(this.defaultParams.widget)||(this.defaultWidget=this.defaultParams.widget),this.defaultWidget||"undefined"==typeof BIZAGI_DEFAULT_WIDGET||bizagi.util.isEmpty(BIZAGI_DEFAULT_WIDGET)||(this.defaultWidget=BIZAGI_DEFAULT_WIDGET),!this.defaultWidget&&e&&(this.defaultWidget="smartinbox"===e?bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID:e),this.defaultWidget||(this.defaultWidget="smartphone_ios"==bizagi.util.detectDevice()||"smartphone_android"==bizagi.util.detectDevice()?bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID),"projectDashboard"!==this.defaultWidget&&"homeportal"!==this.defaultWidget&&bizagi.util.defaultWidget(this.defaultWidget),"homeportal"===this.defaultWidget&&bizagi.util.defaultWidget(bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID),this.dataService&&!this.dataService.online&&bizagi.util.isTabletDevice()&&bizagi.util.defaultWidget(bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX)},execute:function(e){var t=this,i=this.ownerDocument,r=$("body",i),a=new $.Deferred;return e=e||$("<div/>").appendTo(r),t.executionDeferred=new $.Deferred,$.when(t.dataService.getCurrentUser(),t.loadPreferences()).done((function(i,s){bizagi.currentUser=i[0],bizagi.services.preferences(s),bizagi.util.changeData(i[0]),bizagi.localization.overrideSpecificResource("dateFormat",i[0].shortDateFormat),bizagi.localization.overrideSpecificResource("timeFormat",i[0].timeFormat),t.loadDefaultWidget(),t.process().done((function(i){a.resolve(i),bizagi.util.replaceSelector(r,e,i),t.executionDeferred.resolve()}))})).fail((function(){t.dataService.logout()})),a},loadPreferences:function(){var e=new $.Deferred;return $.when(this.dataService.getPreferencesWorkportalCurrentUser()).done((function(t){e.resolve(t)})).fail((function(){e.resolve()})),e.promise()},createWebpart:function(e){return this.executeWebpart($.extend(e,{creating:!0}))},testWebpartConfiguration:function(e){var t=e.webpartConfiguration,i=this.ownerDocument,r=$("body",i);e.canvas||$("<div/>").appendTo(r);return!(!t.url||""==t.url)||(bizagi.webparts.addConfigurationMessage(e,"bizagi-sharepoint-configuration-error"),!1)},executeWebpart:function(e){var t=this.ownerDocument,i=$("body",t),r=e.canvas||$("<div/>").appendTo(i),a=!0;if(e.webpartConfiguration&&(a=this.testWebpartConfiguration(e)),a)return this.processWebpart(e).done((function(e){r.append(e.content)}))},ready:function(){return this.executionDeferred.promise()},process:function(){var e=this,t=new $.Deferred,i=this.deviceFactory.getWorkportalFacade(e.dataService);return e.processOfflineData(),$.when(i).pipe((function(t){return e.processWorkportal(t)})).done((function(e){t.resolve(e)})),t.promise()},processOfflineData:function(){var e=this;void 0!==e.dataService.fetchOfflineData&&1==e.dataService.online&&$.when(e.dataService.pushOfflineData()).always((function(){e.dataService.fetchOfflineData()}))},processWebpart:function(e){var t,i,r=new $.Deferred;bizagi.detectRealDevice();return t=this.deviceFactory.getWorkportalFacade(this.dataService,!1),$.extend(e,this.defaultParams),$.when(t).pipe((function(t){var i=new $.Deferred;return $.when(t.loadWebpart(e)).done((function(){i.resolve(t)})),i.promise()})).pipe((function(t){return(i=t.getWebpart(e.webpart,e)).render(e)})).done((function(e){r.resolve({webpart:i,content:e})})),r.promise()},processWorkportal:function(e){var t=this,i=this.mainController=e.getMainController();new $.Deferred;return i.render().then((function(e){return $.when(i.menu.isRendered()).then((function(){var e=t.getWidgetByDataUser(t.defaultParams);if("projectDashboard"===e&&t.defaultParams.caseLink){var r={action:bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,idCase:bizagi.util.getQueryString().idCase,guid:bizagi.util.getQueryString().guid,caseLink:!0};void 0!==bizagi.util.getQueryString().idWorkitem&&(r.idWorkItem=bizagi.util.getQueryString().idWorkitem),i.publish("executeAction",r)}else e===bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX&&void 0!==bizagi.util.getQueryString().action?i.setWidget($.extend(t.defaultParams,{widgetName:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID},bizagi.util.getQueryString())):i.setWidget($.extend(t.defaultParams,{widgetName:e},bizagi.util.getQueryString()));i.menu&&(i.menu.performResizeLayout(),e!==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX&&e!==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID||t.mainController.publish("showMainMenu"))})),e}))},getWidgetByDataUser:function(){var e=bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID,t="projectDashboard"!==this.defaultWidget?bizagi.util.defaultWidget():"projectDashboard",i="",r=JSON.parse(bizagi.cookie("bizagiUserDisplayOptions"));if(r&&r.startPage)i={key:"userstartpage",value:r.startPage};else if(bizagi.currentUser.sUserProperties)for(var a=0,s=bizagi.currentUser.sUserProperties.length;a<s;a++)if("userstartpage"===bizagi.currentUser.sUserProperties[a].key){i=bizagi.currentUser.sUserProperties[a];break}return t!=bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX&&t!=bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID&&t!=bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL?e=t:void 0===i||""===i||""===i.value||"1"===i.value?e=this.getWidgetByCookieAndStakeholders():"2"===i.value&&this.currentUserHaveStakeholderAssociated()?e=bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL:"2"!==i.value||this.currentUserHaveStakeholderAssociated()?"3"===i.value&&(e=this.getWidgetByCookie(!0)):e=this.getWidgetByCookie(!0),e},getWidgetByCookieAndStakeholders:function(){return this.getWidgetByCookie(!1)},currentUserHaveStakeholderAssociated:function(){return bizagi.currentUser.associatedStakeholders&&bizagi.currentUser.associatedStakeholders.length>0},getWidgetByCookie:function(e){var t=bizagi.util.defaultWidget();return e?t===bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX||t===bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID?t:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID:this.currentUserHaveStakeholderAssociated()?bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL:t&&t===bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX||t===bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID?t:bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID},getMainController:function(){return this.mainController}}),$.Class.extend("bizagi.workportal.observable",{},{init:function(){this.observableElement=$({})},sub:function(e){var t=$._data(this.observableElement[0],"events");t&&t[e]||this.observableElement.on.apply(this.observableElement,arguments)},unsub:function(){this.observableElement.off.unbind?this.observableElement.off.unbind.apply(this.observableElement,arguments):this.observableElement.off.apply(this.observableElement,arguments)},pub:function(){return this.observableElement.triggerHandler.apply(this.observableElement,arguments)}}),bizagi.workportal.observable.extend("bizagi.workportal.widgets.manager",{createCase:"bizagi.workportal.widgets.createcase",updateForm:"bizagi.workportal.widgets.updateform"},{init:function(e,t,i,r){this._super(),this._facade=e||null,this._dataService=t||null,this._notify=i,this._widgets={},this._innerWidgets={},this._mainWidgets={},this._context="none",this._layouts=[],this._supportNav=r&&r.supportNav,this._facade.workportal.mainController.subscribe("cleanAllWidgets",$.proxy(this.clean,this))},_notifyChange:function(e,t){if("navigate"!=t.type)return this.pub("notifyChange",t);this.updateView(t.args)},_showDialogWidget:function(e,t){var i=new $.Deferred,r=this.Class[t.widgetName],a=new bizagi.workportal.desktop.widgets.dialog(this._dataService,this._facade);return t.widgetInstance=this._createWidgetInstance(r,t),t.widgetInstance.sub("closeDialog",(function(e,t){a.close(),i.resolve(t)})),a.renderWidget(t),i.promise()},_showNotification:function(e,t){var i=t.type;"message"==i?this._notify.showSucessMessage(t.message,t.title,t.options):"error"==i&&this._notify.showErrorMessage(t.message,t.title,t.options)},_render:function(e,t,i){var r=this,a=r._widgets[e],s=a.widget[t],o=a.canvas,n=new $.Deferred;if(i||!s.isRendered()||!s.getContent().is(":visible"))return o.empty(),$(o).startLoading(),s.clean(),$.when(s.render()).pipe((function(e){return r._renderInnerWidgets(s,e)})).done((function(e){$(o).endLoading(),o.append(e),n.resolve()})),n.promise()},_renderInnerWidgets:function(e,t){var i=new $.Deferred,r=[];for(var a in e.innerWidgets){var s=e.innerWidgets[a];s.clean(),r.push($.when(s.render(),s.canvas).done((function(e,i){var r=t.find('.ui-bizagi-layout[layout="'+i+'"]');0==r.length&&(r=t.closest('.ui-bizagi-layout[layout="'+i+'"]')),r.empty(),r.append(e)})))}return $.when.apply($,r).done((function(){i.resolve(t)})),i.promise()},_createWidgetInstance:function(e,t,i){var r=i?bizagi.injector.getNewInstance(e,t):bizagi.injector.get(e,t);return r.sub("notify",$.proxy(this._notifyChange,this)),r.sub("showDialogWidget",$.proxy(this._showDialogWidget,this)),r.sub("showNotification",$.proxy(this._showNotification,this)),r},_changeWidget:function(e){var t=e.layout,i=e.widgetName,r=e.refresh,a=e.args,s=this._widgets[t],o=e.newInstance||!1;if(s.widget[i])this._innerWidgets[t]&&(n=s.widget[i],this._createInnerWidgets(t,n,a));else{var n=this._createWidgetInstance(i,a,o);this._createInnerWidgets(t,n,a),s.widget[i]=n}return s.active=i,this._render(t,i,r)},_createInnerWidgets:function(e,t,i){for(var r=this._innerWidgets[e]||[],a=t.innerWidgets||{},s=0,o=r.length;s<o;s++){var n=r[s],l=a[n.canvas];l?(l.clean(),(l=this._createWidgetInstance(n.widgetName,i,!0)).canvas=n.canvas,a[n.canvas]=l):((l=this._createWidgetInstance(n.widgetName,i)).canvas=n.canvas,a[n.canvas]=l)}t.innerWidgets=a},_supportNavigation:function(){return this._supportNav},_setContext:function(e){this._context=e},_isSameContext:function(e){return this._context==e},necesaryClean:function(){var e=this._widgets.content;if(null!=e){var t=e.widget["bizagi.workportal.widgets.project.content.dashboard"];if(null!=t){var i=t.innerWidgets.contentprincipal;null!=i&&i.clean()}}},emit:function(e){var t=this._widgets,i=[],r=e.context;for(var a in t){var s=t[a];if(!$.isEmptyObject(s.widget)){var o=s.widget[s.active],n=o.pub(r,e);for(var l in void 0!==n&&i.push(n),o.innerWidgets)void 0!==(n=o.innerWidgets[l].pub(r,e))&&i.push(n)}}return i},emitNavigate:function(e){var t=this._widgets.navigator,i=e.args||{};if(t){var r=t.widget[t.active];r&&!i.isRefresh&&$.when(r.isRendered()).done((function(){r.pub("NAVIGATE",e)}))}},_searchWidgets:function(e){for(var t in delete this._innerWidgets,this._innerWidgets={},delete this._mainWidgets,this._mainWidgets={},e){var i=e[t];if(-1==this._layouts.indexOf(i.layout)){var r=e[i.layout];this._innerWidgets[r.layout]=this._innerWidgets[r.layout]||[],this._innerWidgets[r.layout].push({widgetName:i.name,canvas:i.canvas,refresh:null==i.refresh||i.refresh})}else this._mainWidgets[i.layout]={widgetName:i.name,refresh:null==i.refresh||i.refresh,newInstance:null!=i.newInstance&&i.newInstance}}},updateView:function(e){var t=this,i=new $.Deferred;return $.when(bizagi.util.autoSave()).done((function(){$(document).data("auto-save",""),t.validateNavigation(e,i)})),i.promise()},validateNavigation:function(e,t){var i,r=e.data,a=e.args||{},s=r.widgets;return this._isSameContext(e.context)&&!a.refreshAllWidgets?this.navigateInSameContext(e):i=this.navigateInOtherContext(s,e,t),a.refreshAllWidgets=!1,i},navigateInSameContext:function(e){this.emit(e),!e.args.stopNavigation&&this._supportNavigation()&&this.emitNavigate(e)},navigateInOtherContext:function(e,t,i){var r=this,a=t.context,s=t.args||{};return r._searchWidgets(e),$.when.apply($,$.map(r._mainWidgets,(function(e,t){return r._changeWidget({layout:t,widgetName:e.widgetName,refresh:e.refresh,newInstance:e.newInstance,args:s})}))).done((function(){r.emit(t),r._supportNavigation()&&r.emitNavigate(t),i.resolve()})),r._setContext(a),i.promise()},setLayout:function(e){this._context="none",this._widgets={};for(var t=this.getLayouts(e)||[],i=0,r=t.length;i<r;i++){var a=t[i];this._widgets[a.name]={widget:{},canvas:a.layout,layout:a.name},this._layouts.push(a.name)}},getLayouts:function(e){return $.map($(".ui-bizagi-layout[layout]",e),(function(e){return{name:$(e).attr("layout"),layout:$(e)}}))},dispose:function(){},clean:function(){for(var e in this._widgets){var t=this._widgets[e].widget;for(var i in t){var r=t[i];for(var a in r.innerWidgets)r.innerWidgets[a].clean();r.clean()}}}}),bizagi.injector.register("widgetManager",["workportalFacade","dataService","notifier",bizagi.workportal.widgets.manager]),function(e){e.fn.bizagiPagination=function(t){t=t||{};var i={limInf:0,totalPages:1,actualPage:1,listElement:e("ul"),first:"&lt;&lt;",firstClass:"first",prev:"&lt;",prevClass:"prev",next:"&gt;",nextClass:"next",last:"&gt;&gt;",lastClass:"last",liClass:"bz-page",arrowClass:"bz-pageArrow",selectedFocus:!0,clickCallBack:function(){}};t.actualPage>t.totalPages&&(t.actualPage=t.totalPages),e.extend(i,i,t);var r={previousPage:Math.max(1,parseInt(i.actualPage)-1),nextPage:parseInt(i.actualPage)+1};function a(t,r){var a;if(t=t||1,(r=r||0)>0)a=t;else{if(!(r<0))return;a=t-2}e.each(e("li."+i.liClass,i.listElement),(function(t,r){a++,e(this).data("page",a),e(this).find("span").html(a),e(this).attr("data-page",a),i.actualPage!=a||e(this).hasClass("active")?e(this).removeClass("active"):e(this).addClass("active")})),1==e(i.listElement).find(".active").length?e(i.listElement).parent().find("#tooltipPagination").css("visibility","hidden"):e(i.listElement).parent().find("#tooltipPagination").css("visibility","visible")}!function(){var t,s;if(i.totalElements=e("li."+i.liClass,i.listElement[0]).length,i.totalPages>i.totalElements&&i.totalElements>1&&(t=r.previousPage==i.actualPage,s=i.actualPage==i.totalPages,i.listElement.prepend("<li/>").find("li:first").addClass(i.prevClass).addClass(t?"pagination-disabled":"").data("page",r.previousPage).html(i.prev),i.listElement.prepend("<li/>").find("li:first").addClass(i.arrowClass+" "+i.firstClass).addClass(t?"pagination-disabled":"").data("page","1").html(i.first),i.listElement.append("<li/>").find("li:last").addClass(i.nextClass).addClass(s?"pagination-disabled":"").data("page",r.nextPage).html(i.next),i.listElement.append("<li/>").find("li:last").addClass(i.arrowClass+" "+i.lastClass).addClass(s?"pagination-disabled":"").data("page",i.totalPages).html(i.last)),function(){var t={};e("li:not(.pagination-disabled)",i.listElement).click((function(){t.page=e(this).hasClass(i.lastClass)?i.totalPages:e.trim(e(this).data("page")+" "),t.parent=e(this).parent(),t.self=e(this),i.clickCallBack(t)}))}(),i.selectedFocus&&i.actualPage>=i.totalElements&&i.totalPages>i.totalElements){var o,n=i.actualPage-Math.round(i.totalElements/2);o=n<1?1:n+i.totalElements>i.totalPages?(o=i.totalPages-i.totalElements)<1?1:o:n,0==i.listElement.find("li.active").length&&a(o,1)}}()}}(jQuery),function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.4"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function _newInst($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}for(i in overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)},onChangeMonthYear:function(e,t,i){tp_inst._updateDateTime(i),$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){!0===tp_inst.timeDefined&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}},overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,(function(e){return e.toUpperCase()})),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,(function(e){return e.toUpperCase()})),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&void 0===$.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!==_typeof(timezoneList[0]))for(;tzi<tzl;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField).css({cursor:"pointer"}).focus((function(){$input.trigger("focus")}))),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",(function(){tp_inst._onFocus()})),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var r=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!r.timeObj)return!1;$.extend(this,r.timeObj)}catch(t){return $.timepicker.log("Error parsing the date/time string: "+t+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var a=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return!!a&&($.extend(this,a),!0)},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,r="",a="",s=null,o={},n={},l=null,c=0,d=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var u=' style="display:none;"',p='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(t.showTime?"":u)+">"+t.timeText+'</dt><dd class="ui_tpicker_time"'+(t.showTime?"":u)+"></dd>";for(c=0,d=this.units.length;c<d;c++){if(s=null!==t["show"+(a=(r=this.units[c]).substr(0,1).toUpperCase()+r.substr(1))]?t["show"+a]:this.support[r],o[r]=parseInt(t[r+"Max"]-(t[r+"Max"]-t[r+"Min"])%t["step"+a],10),n[r]=0,p+='<dt class="ui_tpicker_'+r+'_label"'+(s?"":u)+">"+t[r+"Text"]+'</dt><dd class="ui_tpicker_'+r+'"><div class="ui_tpicker_'+r+'_slider"'+(s?"":u)+"></div>",s&&t[r+"Grid"]>0){if(p+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===r)for(var m=t[r+"Min"];m<=o[r];m+=parseInt(t[r+"Grid"],10)){n[r]++;var h=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:m},t);p+='<td data-for="'+r+'">'+h+"</td>"}else for(var g=t[r+"Min"];g<=o[r];g+=parseInt(t[r+"Grid"],10))n[r]++,p+='<td data-for="'+r+'">'+(g<10?"0":"")+g+"</td>";p+="</tr></table></div>"}p+="</dd>"}var f=null!==t.showTimezone?t.showTimezone:this.support.timezone;p+='<dt class="ui_tpicker_timezone_label"'+(f?"":u)+">"+t.timezoneText+"</dt>",p+='<dd class="ui_tpicker_timezone" '+(f?"":u)+"></dd>";var v=$(p+="</dl></div>");for(!0===t.timeOnly&&(v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),c=0,d=i.units.length;c<d;c++)s=null!==t["show"+(a=(r=i.units[c]).substr(0,1).toUpperCase()+r.substr(1))]?t["show"+a]:this.support[r],i[r+"_slider"]=i.control.create(i,v.find(".ui_tpicker_"+r+"_slider"),r,i[r],t[r+"Min"],o[r],t["step"+a]),s&&t[r+"Grid"]>0&&(l=100*n[r]*t[r+"Grid"]/(o[r]-t[r+"Min"]),v.find(".ui_tpicker_"+r+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*n[r])+"%",marginRight:t.isRTL?l/(-2*n[r])+"%":"0",borderCollapse:"collapse"}).find("td").click((function(e){var t=$(this),a=t.html(),s=parseInt(a.replace(/[^0-9]/g),10),o=a.replace(/[^apm]/gi),n=t.data("for");"hour"===n&&(-1!==o.indexOf("p")&&s<12?s+=12:-1!==o.indexOf("a")&&12===s&&(s=0)),i.control.value(i,i[n+"_slider"],r,s),i._onTimeChange(),i._onSelectHandler()})).css({cursor:"pointer",width:100/n[r]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,(function(e,t){return $("<option />").val("object"===_typeof(e)?e.value:e).text("object"===_typeof(e)?e.label:e)}))),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone)-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone);else void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i);this.timezone_select.change((function(){i._onTimeChange(),i._onSelectHandler()}));var y=e.find(".ui-datepicker-buttonpane");if(y.length?y.before(v):e.append(v),this.$timeObj=v.find(".ui_tpicker_time"),null!==this.inst){var x=this.timeDefined;this._onTimeChange(),this.timeDefined=x}if(this._defaults.addSliderAccess){var b=this._defaults.sliderAccessArgs,w=this._defaults.isRTL;b.isRTL=w,setTimeout((function(){if(0===v.find(".ui-slider-access").length){v.find(".ui-slider:visible").sliderAccess(b);var e=v.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&v.find("table:visible").each((function(){var t=$(this),i=t.outerWidth(),r=t.css(w?"marginRight":"marginLeft").toString().replace("%",""),a=i-e,s=r*a/i+"%",o={width:a,marginRight:0,marginLeft:0};o[w?"marginRight":"marginLeft"]=s,t.css(o)}))}}),10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&r){var a=$.datepicker._get(e,"minDateTime"),s=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||s.getTime()===r.getTime()?(this._defaults.hourMin=a.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=a.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=a.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=a.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=a.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&r){var o=$.datepicker._get(e,"maxDateTime"),n=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||n.getTime()===r.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=o.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(void 0!==t&&!0===t){var l=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),d=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),u=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),p=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:l}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:d}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:u}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:p}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),t=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),i=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),r=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),a=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),s=!!this.timezone_select&&this.timezone_select.val(),o=this._defaults,n=o.pickerTimeFormat||o.timeFormat,l=o.pickerTimeSuffix||o.timeSuffix;"object"===_typeof(e)&&(e=!1),"object"===_typeof(t)&&(t=!1),"object"===_typeof(i)&&(i=!1),"object"===_typeof(r)&&(r=!1),"object"===_typeof(a)&&(a=!1),"object"===_typeof(s)&&(s=!1),!1!==e&&(e=parseInt(e,10)),!1!==t&&(t=parseInt(t,10)),!1!==i&&(i=parseInt(i,10)),!1!==r&&(r=parseInt(r,10)),!1!==a&&(a=parseInt(a,10));var c=o[e<12?"amNames":"pmNames"][0],d=e!==this.hour||t!==this.minute||i!==this.second||r!==this.millisec||a!==this.microsec||this.ampm.length>0&&e<12!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&s!==this.timezone;d&&(!1!==e&&(this.hour=e),!1!==t&&(this.minute=t),!1!==i&&(this.second=i),!1!==r&&(this.millisec=r),!1!==a&&(this.microsec=a),!1!==s&&(this.timezone=s),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=c),this.formattedTime=$.datepicker.formatTime(o.timeFormat,this,o),this.$timeObj&&(n===o.timeFormat?this.$timeObj.text(this.formattedTime+l):this.$timeObj.text($.datepicker.formatTime(n,this,o)+l)),this.timeDefined=!0,d&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t=(e=this.inst||e).currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),r=$.datepicker._get(e,"dateFormat"),a=$.datepicker._getFormatConfig(e),s=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(r,null===i?new Date:i,a);var o=this.formattedDate;if(""===e.lastVa&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly?o=this.formattedTime:!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||s)&&(o+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=o,this._defaults.showTimepicker)if(this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(o);var n="",l=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,c=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(n=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,a):this.formattedDate)&&(n+=l),this._defaults.altTimeFormat?n+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+c:n+=this.formattedTime+c,this.$altInput.val(n)}else this.$input.val(o);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(e){$.timepicker.log(e)}}},_controls:{slider:{create:function(e,t,i,r,a,s,o){var n=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:n?-1*r:r,min:n?-1*s:a,max:n?-1*a:s,step:o,slide:function(t,r){e.control.value(e,$(this),i,n?-1*r.value:r.value),e._onTimeChange()},stop:function(t,i){e._onSelectHandler()}})},options:function(e,t,i,r,a){if(e._defaults.isRTL){if("string"==typeof r)return"min"===r||"max"===r?void 0!==a?t.slider(r,-1*a):Math.abs(t.slider(r)):t.slider(r);var s=r.min,o=r.max;return r.min=r.max=null,void 0!==s&&(r.max=-1*s),void 0!==o&&(r.min=-1*o),t.slider(r)}return"string"==typeof r&&void 0!==a?t.slider(r,a):t.slider(r)},value:function(e,t,i,r){return e._defaults.isRTL?void 0!==r?t.slider("value",-1*r):Math.abs(t.slider("value")):void 0!==r?t.slider("value",r):t.slider("value")}},select:{create:function(e,t,i,r,a,s,o){for(var n='<select class="ui-timepicker-select" data-unit="'+i+'" data-min="'+a+'" data-max="'+s+'" data-step="'+o+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,c=a;c<=s;c+=o)n+='<option value="'+c+'"'+(c===r?" selected":"")+">",n+="hour"===i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:c},e._defaults):"millisec"===i||"microsec"===i||c>=10?c:"0"+c.toString(),n+="</option>";return n+="</select>",t.children("select").remove(),$(n).appendTo(t).change((function(t){e._onTimeChange(),e._onSelectHandler()})),t},options:function(e,t,i,r,a){var s={},o=t.children("select");if("string"==typeof r){if(void 0===a)return o.data(r);s[r]=a}else s=r;return e.control.create(e,t,o.data("unit"),o.val(),s.min||o.data("min"),s.max||o.data("max"),s.step||o.data("step"))},value:function(e,t,i,r){var a=t.children("select");return void 0!==r?a.val(r):a.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"===_typeof(e)&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each((function(){$.fn.datetimepicker.apply($(this),t)}))},datetimepicker:function(e){var t=arguments;return"string"==typeof(e=e||{})?"getDate"===e?$.fn.datepicker.apply($(this[0]),t):this.each((function(){var e=$(this);e.datepicker.apply(e,t)})):this.each((function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)}))}}),$.datepicker.parseDateTime=function(e,t,i,r,a){var s=parseDateTimeInternal(e,t,i,r,a);if(s.timeObj){var o=s.timeObj;s.date.setHours(o.hour,o.minute,o.second,o.millisec),s.date.setMicroseconds(o.microsec)}return s.date},$.datepicker.parseTime=function(e,t,i){var r=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),a=(e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,i){var r,a="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){var t,r,a,s=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===s?"(\\d?\\d)":"(\\d{"+s+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return t=i.amNames,r=i.pmNames,a=[],t&&$.merge(a,t),r&&$.merge(a,r),"("+(a=$.map(a,(function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}))).join("|")+")?";default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,(function(e){return"\\"+e}))+")?"}})).replace(/\s/g,"\\s?")+i.timeSuffix+"$",s=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var r=0;r<t.length;r++)-1===i[t[r].toString().charAt(0)]&&(i[t[r].toString().charAt(0)]=r+1);return i}(e),o="",n={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(r=t.match(new RegExp(a,"i")))&&(-1!==s.t&&(void 0===r[s.t]||0===r[s.t].length?(o="",n.ampm=""):(o=-1!==$.inArray(r[s.t].toUpperCase(),i.amNames)?"AM":"PM",n.ampm=i["AM"===o?"amNames":"pmNames"][0])),-1!==s.h&&("AM"===o&&"12"===r[s.h]?n.hour=0:"PM"===o&&"12"!==r[s.h]?n.hour=parseInt(r[s.h],10)+12:n.hour=Number(r[s.h])),-1!==s.m&&(n.minute=Number(r[s.m])),-1!==s.s&&(n.second=Number(r[s.s])),-1!==s.l&&(n.millisec=Number(r[s.l])),-1!==s.c&&(n.microsec=Number(r[s.c])),-1!==s.z&&void 0!==r[s.z]&&(n.timezone=$.timepicker.timezoneOffsetNumber(r[s.z])),n)});return"function"==typeof r.parse?r.parse(e,t,r):"loose"===r.parse?function(e,t,i){try{var r=new Date("2012-01-01 "+t);if(isNaN(r.getTime())&&(r=new Date("2012-01-01T"+t),isNaN(r.getTime())&&(r=new Date("01/01/2012 "+t),isNaN(r.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:r.getHours(),minute:r.getMinutes(),second:r.getSeconds(),millisec:r.getMilliseconds(),microsec:r.getMicroseconds(),timezone:-1*r.getTimezoneOffset()}}catch(r){try{return a(e,t,i)}catch(i){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1}(e,t,r):a(e,t,r)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var r=e,a=i.amNames[0],s=parseInt(t.hour,10);return s>11&&(a=i.pmNames[0]),r=r.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){switch(e){case"HH":return("0"+s).slice(-2);case"H":return s;case"hh":return("0"+convert24to12(s)).slice(-2);case"h":return convert24to12(s);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return a.charAt(0).toUpperCase();case"TT":return a.toUpperCase();case"t":return a.charAt(0).toLowerCase();case"tt":return a.toLowerCase();default:return e.replace(/'/g,"")}}))},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i=this._getInst($(e)[0]),r=this._get(i,"timepicker");r?(r._limitMinMaxDateTime(i,!0),i.inline=i.stay_open=!0,this._base_selectDate(e,t),i.inline=i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&!1!==e.stay_open)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var r=i.support.ampm,a=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,s=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),o=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,r?"APM":"").replace(/Tt/g,r?"AaPpMm":"").replace(/tT/g,r?"AaPpMm":"").replace(/T/g,r?"AP":"").replace(/tt/g,r?"apm":"").replace(/t/g,r?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(a?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+s,n=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||n<" "||!s||o.indexOf(n)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){t._defaults.altFormat||t._defaults.dateFormat;var r=this._getDate(e),a=$.datepicker._getFormatConfig(e),s="",o=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,n=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;s+=$.datepicker.formatTime(l,t,t._defaults)+n,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===r||(s=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,r,a)+o+s:t.formattedDate+o+s),$(i).val(s)}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(e){$.timepicker.log(e)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),i=t.dpDiv;this._base_gotoToday(e);var r=this._get(t,"timepicker");selectLocalTimezone(r);var a=new Date;this._setTime(t,a),$(".ui-datepicker-today",i).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var r=i._defaults;i.hour=t?t.getHours():r.hour,i.minute=t?t.getMinutes():r.minute,i.second=t?t.getSeconds():r.second,i.millisec=t?t.getMilliseconds():r.millisec,i.microsec=t?t.getMicroseconds():r.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var r=this._getInst(e);if(r){var a,s=this._get(r,"timepicker");if(s)this._setDateFromField(r),t&&("string"==typeof t?(s._parseTime(t,i),(a=new Date).setHours(s.hour,s.minute,s.second,s.millisec),a.setMicroseconds(s.microsec)):(a=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===a.toString()&&(a=void 0),this._setTime(r,a))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e);if(i){"string"==typeof t&&((t=new Date(t)).getTime()||$.timepicker.log("Error creating Date object from string."));var r,a=this._get(i,"timepicker");t instanceof Date?(r=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()):r=t,a&&(a.support.timezone||null!==a._defaults.timezone||(a.timezone=-1*r.getTimezoneOffset()),t=$.timepicker.timezoneAdjust(t,a.timezone),r=$.timepicker.timezoneAdjust(r,a.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,r,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var r=this._get(i,"timepicker");if(r){void 0===i.lastVal&&this._setDateFromField(i,t);var a=this._getDate(i);return a&&r._parseTime($(e).val(),r.timeOnly)&&(a.setHours(r.hour,r.minute,r.second,r.millisec),a.setMicroseconds(r.microsec),null!=r.timezone&&(r.support.timezone||null!==r._defaults.timezone||(r.timezone=-1*a.getTimezoneOffset()),a=$.timepicker.timezoneAdjust(a,r.timezone))),a}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var r;try{r=this._base_parseDate(e,t,i)}catch(a){if(!(a.indexOf(":")>=0))throw a;r=this._base_parseDate(e,t.substring(0,t.length-(a.length-a.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+a+"\ndate string = "+t+"\ndate format = "+e)}return r},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,r){var a=this._get(e,"timepicker");return a?(a._updateDateTime(e),a.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var r,a=this._getInst(e);if(!a)return null;var s=this._get(a,"timepicker");if(s){var o,n=null,l=null,c=null,d=s._defaults.evnts,u={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)n=i;else if("maxDate"===t||"maxDateTime"===t)l=i;else if("onSelect"===t)c=i;else if(d.hasOwnProperty(t)){if(void 0===i)return d[t];u[t]=i,r={}}}else if("object"===_typeof(t))for(o in t.minDate?n=t.minDate:t.minDateTime?n=t.minDateTime:t.maxDate?l=t.maxDate:t.maxDateTime&&(l=t.maxDateTime),d)d.hasOwnProperty(o)&&t[o]&&(u[o]=t[o]);for(o in u)u.hasOwnProperty(o)&&(d[o]=u[o],r||(r=$.extend({},t)),delete r[o]);if(r&&isEmptyObject(r))return;n?(n=0===n?new Date:new Date(n),s._defaults.minDate=n,s._defaults.minDateTime=n):l?(l=0===l?new Date:new Date(l),s._defaults.maxDate=l,s._defaults.maxDateTime=l):c&&(s._defaults.onSelect=c)}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,r||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){for(var i in $.extend(e,t),t)null!==t[i]&&void 0!==t[i]||(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return 0===(e%=12)&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),r=computeEffectiveSetting(t,"timeFormat").split(i).length,a=e.split(i),s=a.length;return s>1?{dateString:a.splice(0,s-r).join(i),timeString:a.splice(0,r).join(i)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,i,r,a){var s,o,n;if(o=splitDateTime(i,a),s=$.datepicker._base_parseDate(e,o.dateString,r),""===o.timeString)return{date:s};if(!(n=$.datepicker.parseTime(t,o.timeString,a)))throw"Wrong time format";return{date:s,timeObj:n}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720)return e;var i=e%60,r=(e-i)/60,a=t?":":"",s=(e>=0?"+":"-")+("0"+Math.abs(r)).slice(-2)+a+("0"+Math.abs(i)).slice(-2);return"+00:00"===s?"Z":s},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):e},$.timepicker.timezoneAdjust=function(e,t){var i=$.timepicker.timezoneOffsetNumber(t);return isNaN(i)||e.setMinutes(e.getMinutes()+-e.getTimezoneOffset()-i),e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,r){function a(a,s){var o=t[e]("getDate"),n=i[e]("getDate"),l=a[e]("getDate");if(null!==o){var c=new Date(o.getTime()),d=new Date(o.getTime());c.setMilliseconds(c.getMilliseconds()+r.minInterval),d.setMilliseconds(d.getMilliseconds()+r.maxInterval),r.minInterval>0&&c>n?i[e]("setDate",c):r.maxInterval>0&&d<n?i[e]("setDate",d):o>n&&s[e]("setDate",l)}}function s(t,i,a){if(t.val()){var s=t[e].call(t,"getDate");null!==s&&r.minInterval>0&&("minDate"===a&&s.setMilliseconds(s.getMilliseconds()+r.minInterval),"maxDate"===a&&s.setMilliseconds(s.getMilliseconds()-r.minInterval)),s.getTime&&i[e].call(i,"option",a,s)}}return r=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},r),$.fn[e].call(t,$.extend({onClose:function(e,t){a($(this),i)},onSelect:function(e){s($(this),i,"minDate")}},r,r.start)),$.fn[e].call(i,$.extend({onClose:function(e,i){a($(this),t)},onSelect:function(e){s($(this),t,"maxDate")}},r,r.end)),a(t,i),s(t,i,"minDate"),s(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(e){window.console&&window.console.log(e)},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="1.4"}}(jQuery),bizagi.workportal.comments={renderComments:function(e){var t=this,i={},r="",a=new $.Deferred,s={},o=-1,n=bizagi.currentUser.idUser,l=e.canvas,c=e.readOnly||!1;t.setStorage("bufferLocalNewComments_"+e.caseNumber,0),t.setStorage("idCase",e.caseNumber),t.comments=t.workportalFacade.getTemplate("comments"),t.commentsList=t.workportalFacade.getTemplate("comments-list"),t.commentsReplies=t.workportalFacade.getTemplate("comments-replies"),t.commentsDropdown=t.workportalFacade.getTemplate("comments-dropdown"),t.commentsConfirm=t.workportalFacade.getTemplate("comments-confirm"),e.showComments=!0;var d=function(i){s=i.comments,t.setStorage("maxIdComment_"+e.caseNumber,i.maxIdComment),t.setStorage("bufferLocalNewComments_"+e.caseNumber,0)};return $.when(t.getComments({idCase:e.caseNumber},d)).done((function(u){var p=u.users||[],m=function(e){var t="";switch(e){case 0:t="orange";break;case 1:t="red";break;case 2:t="yellow";break;case 3:t="blue";break;case 4:t="purple";break;case 5:t="green";break;default:t="disable"}return t},h=function(e){$(e).children("li:not(:last)").slideUp("fast"),$("span.reply-toggler > span",e.parent()).removeClass("expanded")},g=function(e){var t=$(".reply-list li",e)||[],i=$(".reply-toggler",e);t.length>1?i.removeClass("hidden"):i.addClass("hidden")},f=function(e){return $.timeago(new Date(e))},v=function(e){var t="";return $.each(p,(function(i,r){p[i].Id==e&&(t=r.Picture)})),t},y=function(e){var t="";return $.each(p,(function(i,r){p[i].Id==e&&(t=r.DisplayName)})),t},x=function(){$(".comments-text-box").removeClass("comments-reply-box"),$(".comments-text-box li:first-child").data("reply-mode",""),$(".comments-text-box li:first-child").data("id","")},b=function(e,i){return s.totalRecords=u.totalRecords,p=i,w({totalPages:e.totalPages,actualPage:e.actualPage}),$.tmpl(t.commentsList,{comments:e.comments,User:p,CurrentUser:n,RelatedElementId:null,getCategoryColor:m,replaceTextToSmiles:t.replaceTextToSmiles,timeAgo:f,getUserPicture:v,getUserName:y,readOnly:c})},w=function(i,r){var a=i.totalPages||1,s=a>1,n=i.actualPage||1,l=$(".comments-pagination")||r,c={};c.pagination=s,c.totalPages=a,c.pages=[],c.page=n,l.empty(),s?l.show():l.hide();for(var d=5>a?a:5,u=1;u<=d;u++)c.pages.push({pageNumber:u});var p=$.tmpl(t.paginationTemplate,c).html();$(l).append(p),$("ul").bizagiPagination({totalPages:c.totalPages,actualPage:c.page,listElement:$("ul",l),clickCallBack:function(i){$.when(t.getComments({idCase:e.caseNumber,idColorCategory:o,pag:i.page})).done((function(e){T(e,e.users,!0)}))}})},T=function(e,t){return s.totalRecords=e.totalRecords,$("#comment-list").empty(),(r=b(e,t)).appendTo($("#comment-list")),i.subprocess=$("#comment-list"),P(),r};c||bizagi.util.setInterval({name:"comments",params:{idCase:bizagi.context.idCase},singleton:!0,timeout:3e4,killWhenExitContext:!1,context:'(bizagi.context.widget=="'+t.getWidgetName()+'" && bizagi.context.idCase == "'+e.caseNumber+'" && bizagi.context.commentsFocus)',call:function(e){e=e||{};var i=t.getStorage("maxIdComment_"+e.idCase);$.when(t.dataService.getNewComments({idCase:e.idCase,idLastComment:i})).done((function(i){if(i.newComments>0||i.newReplies>0){var r=i.newComments+i.newReplies,a=t.getStorage("bufferLocalNewComments_"+e.idCase)||r,s=$(".comments-update").data("message").replace(/{totalNewComments}/,r-a);r>a&&($(".comments-update").text(s),$(".comments-update").show().click((function(e){e.isPropagationStopped()||(e.stopPropagation(),$("#filterClear").click())})))}}))}}),r=function(i,r){return s.totalRecords=i.totalRecords,p=r,$.tmpl(t.comments,{comments:i.comments,readOnly:c,User:p,idCase:e.caseNumber,CurrentUser:n,RelatedElementId:null,getCategoryColor:m,replaceTextToSmiles:t.replaceTextToSmiles,timeAgo:f,getUserPicture:v,getUserName:y,getCategoryName:function(e){return t.resources.getResource("workportal-widget-comments-"+e)}})}(u,p),$(".comment-frame .button-category",r).tooltip(),$(r).find("*").off("click"),$(".button-refresh",r).click((function(){$(".comments-update").hide(),$.when(t.getComments({idCase:e.caseNumber,idColorCategory:o},d)).done((function(e){var t=e.users||[];$("#comment-list").empty(),(r=T(e,t)).appendTo($("#comment-list")),i.subprocess=$("#comment-list"),P()}))})),$(".make-new-comments",r).click((function(){x(),$(".comments-text-box li:first-child").slideDown("fast"),$(".comment-box",r).focus().fadeIn(),$(this).hide(),$(".action-buttons").show().slideDown("fast"),$(".text-to-reply").hide()})),$(".comment-box",r).blur((function(){0==$(".comments-text-box textarea").val().length&&($(".comments-text-box textarea").val(""),$(".comments-text-box li:first-child").slideUp("fast"),$(".make-new-comments").fadeIn(),$(".action-buttons").hide(),x())})),$(".send-new-comments",r).click((function(){var i=$(".comments-text-box textarea").val();if(0!=i.length){if("true"==$(".comments-text-box li:first-child").data("reply-mode")){var r=$(".comments-text-box li:first-child").data("id"),a=$("li[data-id='"+r+"']");$.when(t.dataService.makeNewReply({idCase:e.caseNumber,idComment:r,comment:i})).done((function(i){t.incrementStorage("bufferLocalNewComments_"+e.caseNumber,1);var r=function(e,i){return s.totalRecords=u.totalRecords,p=i,$.tmpl(t.commentsReplies,{Replies:e.Replies,User:p,CurrentUser:n,RelatedElementId:null,getCategoryColor:m,replaceTextToSmiles:t.replaceTextToSmiles,timeAgo:f,getUserPicture:v,getUserName:y,readOnly:c})}(i,i.users);$(".reply-list",a).append(r),$(".reply-list li:last",a).show("highlight","slow"),h($(".reply-list",a)),g($(a))}))}else $.when(t.dataService.makeNewComment({idCase:e.caseNumber,comment:i})).done((function(i){t.incrementStorage("bufferLocalNewComments_"+e.caseNumber,1);var r=b(i,i.users);$(".reply-toggler",r).addClass("hidden"),$("#comment-list").prepend(r),$("#comment-list li:first").show("highlight","fast")}));$(".comments-text-box li:first-child").slideUp("fast"),$(".make-new-comments").show(),$(".action-buttons").hide(),$(".comments-text-box textarea").val(""),$(".time-ago").timeago(),x()}}));function C(){$(".categories-dropdownmenu").empty(),$(".categories-dropdownmenu").data("visible",!1)}$(r).delegate(".editBox","keypress",(function(e){13==e.keyCode&&$(this).parent().find(".btnSave").click()})),$(r).delegate(".btnSave","click",(function(){var e=$(this).parent(),i=e.attr("data-old-icon"),a=e.attr("data-old-text"),s=$(this).siblings(".editBox").val(),o=e.html(a).find("a span.filter-icon"),n=$("#filterText").attr("class");$("#filterText").hasClass("disable")||i!==n||($("#filterText",r).text(s),$(".filter-dropdown").removeClass("is-visible").addClass("is-hidden")),e.removeAttr("data-old-text").html(a).find("a").empty().append(o,s).removeClass("no-pad"),t.dataService.renameCommentCategory({idColorCategory:e.data("category-id"),colorName:s})})),$(r).delegate(".btnDiscard","click",(function(){for(var e,t,i=$(this).parent(),r=i.length,a=0;a<r;a++)e=i[a],t=$(e).attr("data-old-text"),$(e).removeAttr("data-old-text").html(t).removeClass("no-pad")}));var A=function e(i){var r=$(".categories-dropdownmenu"),a=i.referer||$(),s=i.css||"",o=i.idComment||"",n=i.position||{my:"right top",at:"right top",collision:"fit",of:a.selector||a};r.data("name")!=i.name?(C(),r.data("name",i.name||""),e(i)):r.data("visible")?C():$.when(t.dataService.getCommentsCategories()).done((function(e){r.empty(),r.position(n),function(e){return $.tmpl(t.commentsDropdown,{categories:e.categories,css:e.css,idComment:e.idComment,getCategoryColor:m,readOnly:c})}({categories:e.categories,css:s,idComment:o,referer:a}).appendTo(r),r.data("visible",!0),r.data("name",i.name||"")}))};$("#buttonFilter",r).bind("click",(function(){var e={referer:$("#buttonFilter",r),name:"editCategories",css:"editCategories"};c&&(e.position={my:"left bottom",at:"left bottom",collision:"fit",of:this}),A(e)}));var _=function(){return $(".comment-controls").data("idcase")};$(r).delegate(".close","click",C),$(r).delegate(".btnEdit","click",(function(){var e=$(this),t=e.parent(),i=t.text().replace(/^\s+|\s+$/g,""),r=e.siblings("a").children("span").attr("class").split(" ")[1],a=t.html(),s='<input type="text" class="editBox" value="'+i+'" /> <span class="filter-icon-ctrl btnSave"></span> <span class="filter-icon-ctrl btnDiscard"></span>';t.attr("data-old-icon",r),t.html(s).attr("data-old-text",a).addClass("no-pad"),$(".editBox").select()})),$(r).delegate(".filter-category","click",(function(e){if(!e.isPropagationStopped()){var i=$(this).parent().data("category-id"),r=$(".categories-dropdownmenu").data("name"),a=bizagi.util.trim($(this).text());if("setCategories"==r){var s=$(this).data("idcomment");$.when(t.dataService.setCommentCategory({idCase:_,idColorCategory:i,idComment:s})).done((function(){$("#"+s).removeClass(),$("#"+s).addClass("button-category"),$("#"+s).addClass(m(i)),C()}))}else $.when(t.dataService.getComments({idCase:_,idColorCategory:i})).done((function(e){var t=$(".comment-filter > #buttonFilter");i>=0?(o=i,$(".button-refresh").data("category-id",i),$("#filterName").removeClass("is-hidden"),$("#filterText").text(a)):($("#filterName").addClass("is-hidden"),$("#filterText").text(""),o=-1),$("#comment-list").empty(),$("#comment-list").append(b(e,e.users)),t.removeClass(),t.addClass("button-category "+m(i)),C(),$(".button-refresh").data("category-id",i),P(),$(".button-refresh").click()}));e.stopPropagation()}})),$(r).delegate("#filterClear","click",(function(){$("#filterClear").bind("click",(function(e){e.isPropagationStopped()||(e.stopPropagation(),o=-1,$(".comment-filter > #buttonFilter").removeClass(),$(".comment-filter > #buttonFilter").addClass("button-category "+m()),$(".button-refresh").data("category-id",""),$("#filterName").addClass("is-hidden"),$("#filterText").text(""),$(".button-refresh").click())}))})),c||($(r).on("click",".button-category[data-own='true']",(function(e){if(!c&&!e.isPropagationStopped()){e.stopPropagation();A({referer:this,name:"setCategories",css:"setCategories",idComment:$(this).data("id"),position:{my:"right top",at:"left bottom",collision:"fit",of:this}})}})),$(r).on("click",".button-reply",(function(e){if(!e.isPropagationStopped()){var t=$(this).data("id"),i=$("li[data-id='"+t+"'] .comment-text").first().text();$(".comments-text-box li:first-child").data("reply-mode","true"),$(".comments-text-box li:first-child").data("id",t),$(".text-to-reply").text(i),$(".text-to-reply").show(),$(".comments-text-box textarea").focus(),$(".comments-text-box").addClass("comments-reply-box"),$(".comments-text-box li:first-child").show().slideDown("fast"),$(".make-new-comments").hide(),$(".action-buttons").show().slideDown("fast"),e.stopPropagation()}})),$(r).on("click",".button-delete",(function(e){var i=$(this).parents("li:first"),r=$(this).data("id"),a=i.parent();$.tmpl(t.commentsConfirm).dialog({resizable:!0,modal:!0,title:t.getResource("workportal-widget-comments-title"),buttons:[{text:t.getResource("workportal-widget-comments-delete"),click:function(){if(a.hasClass("reply-list")){var e=i.parents("li:first").data("id");$.when(t.dataService.removeReply({idCase:_,idComment:e,idReply:r}).done((function(e){s(e)})))}else $.when(t.dataService.removeComment({idCase:_,idComment:r}).done((function(e){s(e)})));var s=function(e){e.action?$.when(i.hide("highlight","fast")).done((function(){i.remove(),a.hasClass("reply-list")&&(a.find("li").hide(),a.find("li:last").show(),g(a.parents("li:first")))})):alert(e.message)};$(this).dialog("close"),bizagi.workportal.desktop.popup.closePopupInstance()}},{text:t.getResource("workportal-widget-comments-cancel"),click:function(){$(this).dialog("close")}}]})})));var P=function(){$.each($(".reply-list",r),(function(){var e=$(".reply-toggler",$(this).parents("li:first"));$("li",this).length>1?($(this).children("li:not(:last)").hide(),e.removeClass("hidden")):e.addClass("hidden")}))};$(r).on("click",".reply-toggler",(function(e){var t;e.isPropagationStopped()||(e.stopPropagation(),"hide"!=$(this).data("toggle-action")?(t=$(this).parent().find("ul"),$(t).children("li:not(:last)").slideDown("fast"),$("span",this).addClass("expanded"),$(this).data("toggle-action","hide")):(h($(this).parent().find("ul")),$("span",this).removeClass("expanded"),$(this).data("toggle-action","show")))})),P(),r.appendTo(l),w({totalPages:u.totalPages,actualPage:u.actualPage},$(".comments-pagination")),a.resolve(l)})),a.promise()},getComments:function(e,t){var i=new $.Deferred;return e=e||{},t=t||function(){},$.when(this.dataService.getComments(e)).done((function(e){t(e),i.resolve(e)})),i.promise()},replaceTextToSmiles:function(e){for(var t=e,i="",r={"<br>":"\n","[<]":"&lt;","[>]":"&gt;"};i!=t;)$.each(r,(function(e,r){var a=new RegExp(e,"gm");i=t,t=t.replace(a,r,"gm")}));return $.each({":)":"smiley",":!":"sarcastic",":$":"embarrassed",":(":"sad",":'(":"cry",";)":"wink",":|":"disappointed",":D":"happy",":o":"surprise",":p":"tongue",":s":"confused"," Y ":"yes"," N ":"no"},(function(e,i){var r=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),a=new RegExp(r),s="<div class='smiles "+i+"'></div>";t=t.replace(a,s,"g")})),t},setStorage:function(e,t){var i="";return e=e||"",sessionStorage&&(i=sessionStorage.setItem(e,t)),i},incrementStorage:function(e,t){var i=!0;if(sessionStorage){var r=parseInt(this.getStorage(e))+parseInt(t);this.setStorage(e,r)}else i=!1;return i},getStorage:function(e){var t=void 0;return e=e||"",sessionStorage&&(t=sessionStorage.getItem(e)),t}},bizagi="undefined"!=typeof bizagi?bizagi:{},bizagi.resize=[],bizagi.resize.attachEvent=document.attachEvent,!bizagi.resize.attachEvent){var requestFrame=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),cancelFrame=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}();window.resetTriggers=function(e){var t=e.__resizeTriggers__,i=t.firstElementChild,r=t.lastElementChild,a=i.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,a.style.width=i.offsetWidth+1+"px",a.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight},window.checkTriggers=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},window.scrollListener=function(e){var t=this;resetTriggers(this),this.__resizeRAF__&&cancelFrame(this.__resizeRAF__),this.__resizeRAF__=requestFrame((function(){checkTriggers(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(i){i.call(t,e)})))}))}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! */function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.bizagi.addResizeListener=function(e,t){bizagi.resize.attachEvent?e.attachEvent("resize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),resetTriggers(e),e.addEventListener("scroll",scrollListener,!0)),e.__resizeListeners__.push(t))},window.bizagi.removeResizeListener=function(e,t){bizagi.resize.attachEvent?e.detachEvent("resize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",scrollListener),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))},$.bizagi||($.bizagi={processviewer:{}}),$.bizagi.processviewer={configuration:{constants:{ELEMENT_TYPE:{PROCESS:"Process",LANE:"Lane",MILESTONES:"Milestone",TEXTANNOTATION:"TextAnnotation",ASSOCIATION:"Association",SEQUENCEFLOW:"SequenceFlow"},CONDITION_TYPE:{SUBPROCESSEXP:"SubprocessException",CANCELLATION:"Cancellation",NORMAL:"Normal",RELATION:"Relation",COMPENSATION:"Compensation"},PROPERTIES:{WAYPOINTS:"waypoints",BOUNDS:"bounds"},LANESETS:"laneSets",LANES:"lanes",BPMNLABELSTYLES:"bpmnLabelStyles"},validTypeDefinitions:["artifacts","flowElements","laneSets","milestones"]},design:{markers:{normal:{type:"path",properties:{d:"M0.616,9.401  l2.05-4.4l-2.05-4.399l8.8,4.433L0.616,9.401",class:"normal"}},highlighted:{type:"path",properties:{d:"M0.616,9.401  l2.05-4.4l-2.05-4.399l8.8,4.433L0.616,9.401",class:"highlighted"}},selected:{type:"path",properties:{d:"M0.616,9.401  l2.05-4.4l-2.05-4.399l8.8,4.433L0.616,9.401",class:"highlighted"}},association:{type:"path",properties:{d:"M0.595,0.598  l8.8,4.132l-8.8,4.667",class:"association"}}}}},
/*! */
function(e){e.widget("ui.processviewer",{constants:e.bizagi.processviewer.configuration.constants,options:{image:null,zoomRange:50,hotspots:[],dragMessage:"Drag Image (Image Pane)",processMessage:"Process Image....",previewWidth:120,previewHeight:120,hotspotsCSS:"",draggable:!0,controls:!0,zoomImageOptions:!1,moveIncrement:20,isIE8:!1,device:"desktop",minZoom:.5,minZoomIE8:.5,maxZoomIE8:1.5,maxZoom:1.5,template:!1,unavailableImage:"img/unavailable_image.png",tmpl:"bizagi.processviewer.template",hotSpotsSVG:!1,formatStyles:{},milestonesHeight:25,width:"100%",height:150,dimentions:{width:100,height:150},animation:{path:[],interval:0,instance:0,time:200,counter:0},configuration:{localTemplate:"",processviewerStageId:"",processviewerStage:"",$processviewerStage:"",processviewerStageSet:"",processviewerImageStage:"",processviewerHotSpotsContainer:"",processviewerStagePathsSet:"",errorImageCSS:"processviewer-error-image",sliderOptions:{}},getTemplate:function(e){return bizagi.getTemplate(e)}},_create:function(){var t=this;e.support.touch="ontouchend"in document,t._isInWorkportal()?"undefined"!=typeof bizagi&&void 0!==bizagi.util&&(t.options.isIE8=bizagi.util.isIE8(),t.options.device=bizagi.util.detectDevice()):bizagi={workportal:!1},t.$el=e('<div class="wdg-processviewer"></div>'),t.$el.attr("role","widget.bizagi.processviewer"),t.element.append(t.$el),t.options.jsonBizagi?"string"==typeof t.options.jsonBizagi.processDefinition&&"string"==typeof t.options.jsonBizagi.processDefinition?e.when(e.get(t.options.jsonBizagi.processDefinition),e.get(t.options.jsonBizagi.processGraphicsInfo)).done((function(e,i){t._processDataForPlugin({definition:e[0],graphics:i[0]})})).fail((function(e){t.$el.text(e.message)})):t._processDataForPlugin({definition:t.options.jsonBizagi.processDefinition,graphics:t.options.jsonBizagi.processGraphicsInfo}):t._loadTemplate()},_processDataForPlugin:function(t){var i=this;t.definition.status||t.graphics.status?i._triggers.error({message:t.definition.message,json:t}):e.when(e(t).processviewerQueries()).done((function(t){e.extend(i.options,t),i._loadTemplate()}))},_triggerError:function(e){},_loadTemplate:function(){var t=this,i=t.options.template;bizagi.workportal?(t.loader=new bizagi.ui.controls.tmplloader,i?i.indexOf(".html")&&e.when(t.loader.loadTemplates({processviewer:i})).done((function(){t.options.configuration.localTemplate=t.loader.getTemplate("processviewer"),t._buildprocessviewer()})):(i=t.options.getTemplate(t.options.tmpl),e.when(t.loader.loadTemplates({processviewer:i})).done((function(){t.options.configuration.localTemplate=t.loader.getTemplate("processviewer"),t._buildprocessviewer()})))):i?i.indexOf(".html")&&e.when(e.get(t.options.template)).done((function(e){t.options.configuration.localTemplate=e,t._buildprocessviewer()})):(i=t.options.getTemplate(t.options.tmpl),e.when(e.get(i)).done((function(e){t.options.configuration.localTemplate=e,t._buildprocessviewer()})))},_buildprocessviewer:function(){var t,i;this.$el.empty(),t=this.options.configuration.processviewerStageId=this._generateID(),i=e.tmpl(this.options.configuration.localTemplate,{id:t,isIE8:this.options.isIE8}),this.$el.append(i),this._createStage()},resize:function(e,t){t=t||this.options.width,h=e||this.options.height,this.$el.outerWidth(t),this.$el.outerHeight(e)},calculatePosition:function(e,t,i,r){return{top:r/2-(t+45)+"px",left:i/2-(e+67.5)+"px"}},setPosition:function(t,i){var r=document.getElementById(i),a=this._getStageContainer(),s=e("#bz-gq-processviewer-canvas"),o=e(a),n=parseInt(isNaN(t.css("left").replace("px",""))?0:t.css("left").replace("px","")),l=parseInt(isNaN(t.css("top").replace("px",""))?0:t.css("top").replace("px","")),c=this.calculatePosition(n,l,s.width(),s.height());o.animate({left:c.left,top:c.top},1500,(function(){var e=!0,t=0,i=setInterval((function(){e?r.classList.remove("processviewer-shape-selected"):r.classList.add("processviewer-shape-selected"),e=!e,5==t&&clearInterval(i),t++}),400)}))},_createStage:function(){var t,i,r,a,s,o,n=this;t=n.options.width?n.options.width:"100%",i=n.options.height?n.options.height:150,n.$el.outerWidth(t),n.$el.outerHeight(i);var l=100*n.options.dimentions.width/150+n.options.dimentions.width,c=100*n.options.dimentions.height/150+n.options.dimentions.height,d=n._getStageContainer();n._ScrollZoomProcessViewer(d),n._setResetZoom(e("button#resetZoom"),d),n.options.configuration.processviewerStage=s=new Raphael(d,l,c),n.options.configuration.processviewerPathsStageGroup=s.group(),s.canvas.setAttribute("id",n._generateID()),s.canvas.setAttribute("id",n._generateID()),s.canvas.setAttribute("class","processviewer-zvg-container"),s.canvas.setAttribute("class","processviewer-zvg-nested"),n.options.configuration.processviewerStageSet=s.set(),n.options.configuration.processviewerstageHotSpotSet=s.set(),t.indexOf("%")&&(o=!0),o||n.options.dimentions.width<t?e("[data-processviewercontainer]",n.element).width("100%"):e("[data-processviewercontainer]",n.element).width(n.options.dimentions.width),n.options.dimentions.width<t&&e("[data-processviewercontainer]",n.element).width(t),n.options.image?e.when(n._verifyingImage(n.options.image)).done((function(e){r=e.width?e.width:"150",a=e.height?e.height:"150",n.options.configuration.processviewerImageStage=n.options.configuration.processviewerStage.image(e.src,0,0,r,a),n.options.configuration.processviewerStageSet.push(n.options.configuration.processviewerImageStage),n.options.configuration.processviewerRectStage.attr("fill","rgba(255,255,255,0)"),n.options.configuration.processviewerRectStage.attr("stroke","none"),n._createUIControls()})).fail((function(e){n._createUIFailView(e)})):(r=n.element.width()?n.element.width():"150",a=n.element.height()?n.element.height():"150",n.options.configuration.processviewerRectStage=n.options.configuration.processviewerStage.rect(0,0,2*t,2*i),n.options.configuration.processviewerRectStage.attr("fill","rgba(255,255,255,0)"),n.options.configuration.processviewerRectStage.attr("stroke","none"),n.options.configuration.processviewerRectStage[0].setAttribute("id","BaseStage"+n._generateID()),n._createUIControls())},_createUIControls:function(){var t=this;t.options.configuration.processviewerStage,t.options.configuration.processviewerImageStage;t.options.draggable&&t._setDraggable(),e.when(t._createSVGProcessPool(),t._createSVGLanes(),t._createSVGMilestones(),t._createSVGSequenceFlows()).done((function(){t._createStyleFormats(),t.options.isIE8||t._createMarkers(),t._addHandlers(),t._createSlider(),t.options.hotSpotsSVG?t._createSVGHotSpots():e.when(t._createHTMLHotSpots()).done((function(){t._adjustLabelsPosition();var e={type:"pvComplete",message:"processviewer complete",time:new Date,ui:t.$el};t.element.trigger(e)}))}))},_zoomProcessViewer:function(t,i){this._updateOutputSlider(i);var r=e(i).val();this.options.configuration.processviewerPathsStageGroup.scale(r),this.options.configuration.processviewerHotSpotsContainer.css("font-size",r+"em");var a=e(this.options.configuration.processviewerStage.defs);e(this.options.configuration.processviewerStage.canvas).append(a),this._updateHotSpotsScale(r),t.preventDefault(),t.stopPropagation()},calcProcessViewerTo:function(e,t,i,r){var a=e*(t-r),s=e>0?a-i+r:i-r-a;return e>0?(s<0?"":"-")+Math.abs(s):s},_ScrollZoomProcessViewer:function(t){var i=this,r=e(t).closest(".processviewer-wrapper"),a=e("input[type='range']",i.element),s=e(t),o=null;t.addEventListener("wheel",(function(e){null==o&&(o=s.find("[data-processviewerhotspots] > [data-processviewerhotspot]:first"));var t=parseInt(isNaN(s.css("left").replace("px",""))?0:s.css("left").replace("px","")),n=parseInt(isNaN(s.css("top").replace("px",""))?0:s.css("top").replace("px","")),l=Number(a.val()),c=(e.wheelDelta?e.wheelDelta:-1*e.deltaY)>=0;if(a.val(l+.1*(c?1:-1)),l!=a.val()){var d=r.offset(),u=parseInt(o.css("left").replace("px",""))+parseInt(o.css("width").replace("px",""))/2,p=parseInt(o.css("top").replace("px",""))+parseInt(o.css("height").replace("px",""))/2;i._zoomProcessViewer(e,a);var m=parseInt(o.css("left").replace("px",""))+parseInt(o.css("width").replace("px",""))/2,h=parseInt(o.css("top").replace("px",""))+parseInt(o.css("height").replace("px",""))/2,g=i.calcProcessViewerTo(m/u,e.clientX-t,e.clientX,d.left+10),f=i.calcProcessViewerTo(h/p,e.clientY-n,e.clientY,d.top+10);s.css({left:g+"px",top:f+"px"})}}))},_setResetZoom:function(t,i){var r=this;t.click((function(t){var a=e("input[type='range']",r.element);a.val(1),e(i).css({left:"0px",top:"0px"}),r._zoomProcessViewer(t,a)}))},_createSlider:function(){var t=this,i=t.validateHTML5Features.checkInput("range");if(e.support.touch||i){e(".ui-for-desktop",t.element).remove();var r=e("input[type='range']",t.element);r.attr("min",t.options.minZoom),r.attr("max",t.options.maxZoom),r.attr("step",.1),r.attr("value",1),e.support.touch&&"desktop"!==t.options.device?(r.change((function(){t._updateOutputSlider(this)})),r.bind("touchstart",(function(){e(this).prev("output").addClass("is-visible-output"),t._updateOutputSlider(this)})),r.bind("touchend",(function(){var i=e(this).val();e(this).prev("output").removeClass("is-visible-output"),t.options.configuration.processviewerPathsStageGroup.scale(i),t.options.configuration.processviewerHotSpotsContainer.css("font-size",i+"em"),t._updateHotSpotsScale(i),t._updateOutputSlider(this)}))):(r.mouseenter((function(){e(this).prev("output").addClass("is-visible-output"),t._updateOutputSlider(this)})).mouseleave((function(){e(this).prev("output").removeClass("is-visible-output")})),r.change((function(e){t._zoomProcessViewer(e,this)})))}else{e(".ui-for-touch",t.element).remove();var a=e(".processviewer-zvg-nested",t.element);a.data("real-width",a.width()),a.data("real-height",a.height());var s=function(t,i){var r=i.value||1,a='<div class="tooltip"><div class="tooltip-inner">'+(Math.round(100*r)+"%")+"</div></div>";e(".sliderTooltip").html(a)};t.options.configuration.sliderOptions={min:t.options.minZoomIE8,max:t.options.maxZoomIE8,step:.1,value:1,create:s,slide:s,stop:function(e,i){i.value>1&&(a[0].setAttribute("width",a.data("real-width")*i.value),a[0].setAttribute("height",a.data("real-height")*i.value)),t.options.configuration.processviewerPathsStageGroup.scale(i.value),t.options.configuration.processviewerHotSpotsContainer.css("font-size",i.value+"em"),t._updateHotSpotsScale(i.value),t._setDraggable()}},e("[data-processviewerslider]",t.element).slider(t.options.configuration.sliderOptions)}},_updateOutputSlider:function(t){var i=e(t);i.prev("output").text(Math.round(100*i.val())+"%")},_updateHotSpotsScale:function(t){var i=this.options.configuration.hotspotsList,r=e("[data-processviewerhotspots]",this.element),a=r;if(r.length>1){a=r[0];for(var s=1;s<r.length;s++)e(r[s]).offset().left>e(a).offset().left&&(a=r[s]);i=e(a).find(".processviewer-hotspot")}e(a).hide(),e(".processviewer-hotspot-icon svg g",this.element).each((function(){this.setAttribute("transform","scale("+t/10+")")}));for(var o=0;o<i.length;o++){var n=e(i[o]),l=n.data("real-width")*t,c=n.data("real-height")*t,d=n.data("real-left")*t,u=n.data("real-top")*t;n.outerWidth(l),n.outerHeight(c),n.css("left",d),n.css("top",u)}e(a).show()},_scaleSVG:function(){},_addHandlers:function(){var t=this;e(window).on("resize.processviewer",(function(){t._setDraggable()}))},_setDraggable:function(){if(e.support.touch&&"desktop"!==this.options.device){var t=this.options.configuration.processviewerPathsStageGroup.getScale(),i=this.options.configuration.processviewerStage.canvas.getAttribute("width")*t,r=this.options.configuration.processviewerStage.canvas.getAttribute("height")*t;e(".processviewer-wrapper",this.element).addClass("ui-scroll-touch"),e("[data-processviewercontainer]",this.element).width(i),e("[data-processviewercontainer]",this.element).height(r)}else{this.options.configuration.$processviewerStage=e(this.options.configuration.processviewerStage.canvas).parent();var a=e("[data-processviewercontainer]",this.element).position();if(a){t=this.options.configuration.processviewerPathsStageGroup.getScale();var s=this.element.width(),o=this.element.height();i=this.options.configuration.processviewerStage.width*t,r=this.options.configuration.processviewerStage.height*t;maxleft=a.left,maxTop=a.top;var n=e("[data-processviewer-wrapper-container]",this.element).is(":ui-draggable");s<i||o<r?n||(this.$el.addClass(" processviewer-drag"),this._dragLimits(),this.options.configuration.$processviewerStage.draggable({refreshPositions:!0,drag:function(e,t){}})):n&&(this.options.configuration.$processviewerStage.draggable("destroy"),this.element.removeClass("processviewer-drag"),this.options.configuration.$processviewerStage.css({left:0,top:0}),this.options.configuration.processviewerHotSpotsContainer.css({left:0,top:0}))}}},_dragLimits:function(){var e=this.options.configuration.processviewerPathsStageGroup.getScale(),t=this.element.width(),i=this.element.height(),r=this.options.configuration.processviewerStage.width*e,a=this.options.configuration.processviewerStage.height*e,s=0,o=0;return t<r&&(s=t-r),i<a&&(o=i-a),{x:s,y:o}},_movePaths:function(e,t){this.options.configuration.processviewerStage.move(e,t)},_createMarkers:function(){var t=e.bizagi.processviewer.design.markers;if(t)for(var i in t){var r=t[i].properties,a={id:i,css:i,markerHeight:10,markerWidth:10,refX:10,refY:5,orient:"auto"},s=this.options.configuration.processviewerStage.marker();e(s.node).attrSVG(a),e(s.node.lastElementChild).attrSVG(r),this.options.configuration.processviewerMarkerEndArrow||(this.options.configuration.processviewerMarkerEndArrow=[]),this.options.configuration.processviewerMarkerEndArrow.push(s)}},_createStyleFormats:function(){var t=this.options.formatStyles,i=e("<div></div>"),r="<style>";for(var a in t){var s="."+a.toLowerCase()+"{";i.css(t[a].css),r+=s+=i.attr("style")+"}"}r+="</style>",e("head").append(e(r))},_asignLabelFormat:function(t,i){if(i.bpmnLabel&&i.bpmnLabel.labelStyle){var r=i.bpmnLabel.labelStyle,a=this.options.formatStyles[r];e(t).closest("svg").length>0&&e(t).css(a.css);var s=a.cssClass;s.push(r);for(var o=0;o<s.length;o++)e(t).addClass(s[o].toLowerCase())}},_createSVGProcessPool:function(){for(var e=[],t=this.options.configuration.processviewerPathsStageGroup,i=this.options.hotspots.length-1;i>=0;i--)this.options.hotspots[i].elementType===this.constants.ELEMENT_TYPE.PROCESS&&(e.push(this.options.hotspots[i]),this.options.hotspots.splice(i,1));this._createSVGRect(t,e,"processPool")},_createSVGLanes:function(){for(var e=[],t=this.options.configuration.processviewerPathsStageGroup,i=this.options.hotspots.length-1;i>=0;i--)this.options.hotspots[i].elementType===this.constants.ELEMENT_TYPE.LANE&&(e.push(this.options.hotspots[i]),this.options.hotspots.splice(i,1));this._createSVGRect(t,e,"lanes")},_createSVGMilestones:function(){for(var e=[],t=this.options.configuration.processviewerPathsStageGroup,i=this.options.hotspots.length-1;i>=0;i--)this.options.hotspots[i].elementType===this.constants.ELEMENT_TYPE.MILESTONES&&(e.push(this.options.hotspots[i]),this.options.hotspots.splice(i,1));this._createSVGRect(t,e,"milestones")},_createSVGSequenceFlows:function(){for(var e=[],t=this.options.configuration.processviewerPathsStageGroup,i=this.options.hotspots.length-1;i>=0;i--)this.options.hotspots[i].elementType!==this.constants.ELEMENT_TYPE.SEQUENCEFLOW&&this.options.hotspots[i].elementType!==this.constants.ELEMENT_TYPE.ASSOCIATION||!this.options.hotspots[i].hasOwnProperty(this.constants.PROPERTIES.WAYPOINTS)||(e.push(this.options.hotspots[i]),this.options.hotspots[i].conditionType===this.constants.CONDITION_TYPE.NORMAL&&this.options.hotspots.splice(i,1));this._createSVGPaths(t,e)},_createSVGRect:function(t,i,r){for(var a,s=0;s<i.length;s++){var o=i[s];if(void 0===o[this.constants.PROPERTIES.BOUNDS])console.log(o);else{var n=o[this.constants.PROPERTIES.BOUNDS],l=t.rect(n.x,n.y,n.width,n.height);if(o.bpmnElementRef?l[0].setAttribute("id",o.bpmnElementRef):o.bpmnElement&&o.bpmnElement.baref&&o.bpmnElement.baref.ref&&l[0].setAttribute("id",o.bpmnElement.baref.ref),""===o.displayName&&(o.displayName="Lane"),null===o.displayName&&(o.displayName=" "),o.displayName&&(a=t.text(n.height/2*-1,10,o.displayName)),o.elementType===this.constants.ELEMENT_TYPE.PROCESS&&(a.attr({"font-weight":"600",y:o.bounds.y+n.height/2,x:10}).data("rotation",-90),a.transform("r-90")),o.elementType===this.constants.ELEMENT_TYPE.MILESTONES){a.attr({"font-weight":"600",y:o.bounds.y+16,x:o.bounds.x+n.width/2}),l.attr("height",this.options.milestonesHeight);var c=o.bounds.x+o.bounds.width,d=o.bounds.y+this.options.milestonesHeight,u=o.bounds.height,p=this._getPathString([{x:c,y:d},{x:c,y:u}]);t.path(p).attr({stroke:"#CCC","stroke-dasharray":"--"});var m=c-1,h=this._getPathString([{x:m,y:o.bounds.y},{x:m+this.options.milestonesHeight,y:this.options.milestonesHeight/2},{x:m,y:this.options.milestonesHeight}]);t.path(h).attr({stroke:"#CCC",fill:"#FFF"})}if(o.elementType===this.constants.ELEMENT_TYPE.LANE){e(a.node).width(),o.bounds.height,e(a.node).height();a.attr({y:o.bounds.y+o.bounds.height/2,x:o.bounds.x+10,"font-weight":"600"}).data("rotation",-90),a.transform("r-90");var g=o.bounds.x+30,f=o.bounds.height,v=this._getPathString([{x:g,y:o.bounds.y+25},{x:g,y:f}]);t.path(v).attr({stroke:"#E6E6E6",fill:"none"})}e(l[0]).attr("id")&&o.displayName&&e(a[0]).data("id",o.id),l.attr({stroke:"#E6E6E6",fill:"none"}),this._asignLabelFormat(a[0],o)}}},_createSVGPaths:function(t,i){for(var r=0;r<i.length;r++){var a=i[r];if(void 0===a[this.constants.PROPERTIES.WAYPOINTS])console.log(a);else{var s=!1;a.elementType!==this.constants.ELEMENT_TYPE.TEXTANNOTATION&&a.conditionType!==this.constants.CONDITION_TYPE.RELATION&&a.conditionType!==this.constants.CONDITION_TYPE.COMPENSATION&&(s=!0);var o=this._getPathString(a[this.constants.PROPERTIES.WAYPOINTS]);o+=this.options.isIE8&&s?this._getArrowPathString(a[this.constants.PROPERTIES.WAYPOINTS]):"";var n=t.path(o);a.bpmnElementRef?n[0].setAttribute("id",a.bpmnElementRef):a.bpmnElement&&a.bpmnElement.baref&&a.bpmnElement.baref.ref&&n[0].setAttribute("id",a.bpmnElement.baref.ref),s&&e(n.node).setMarkerSVG("normal");var l=n.getTotalLength()/2,c=n.getPointAtLength(l);a.displayName&&(nText=t.text(c.x,c.y,a.displayName)),e(n[0]).attr("id")&&a.displayName&&e(nText[0]).data("id",a.id),a.conditionType!==this.constants.CONDITION_TYPE.RELATION&&a.conditionType!==this.constants.CONDITION_TYPE.COMPENSATION||n.attr({"stroke-dasharray":".","stroke-width":"2"}),this._asignLabelFormat(n[0],a)}}},_createHTMLHotSpots:function(){for(var t=this,i=[],r=t.options.hotspots,a=t.options.configuration.processviewerHotSpotsContainer=e('<div class="processviewer-hotspots-container" data-processviewerhotspots style="position:absolute;"></div>'),s=0;s<r.length;s++){var o=r[s];if(o.bounds||o.x){o.number=s;var n=t._createHotSpotDiv(o);i.push(n),a.append(n)}}e("[data-processviewer-wrapper-container]",t.element).prepend(a),a.on("click",".processviewer-hotspot",(function(i){var r=e(this).data("number"),a=e(this);t.options.hotspots[r].onClick&&t.options.hotspots[r].onClick(i,a),t._triggers.click.apply(a,[t.element])})),a.on("mouseenter",".processviewer-hotspot",(function(i){var r=e(this).data("number"),a=e(this);t.options.hotspots[r].onMouseOver&&t.options.hotspots[r].onMouseOver(i,a),t._triggers.onMouseOver.apply(a,[t.element])})),a.on("mouseout",".processviewer-hotspot",(function(i){var r=e(this).data("number"),a=e(this);t.options.hotspots[r].onMouseOut&&t.options.hotspots[r].onMouseOut(i,a),t._triggers.onMouseOut.apply(a,[t.element])})),t.options.configuration.hotspotsList=e(".processviewer-hotspot",t.element)},_createHotSpotDiv:function(t){var i=e('<div class="processviewer-hotspot processviewer-hotspot-div" data-processviewerhotspot></div>'),r=e('<div class="processviewer-hotspot-label" data-processviewerlabel></div>'),a=this._getHotSpotData(t);return i.outerWidth(a.w),i.outerHeight(a.h),i.css("left",a.x+"px"),i.css("top",a.y+"px"),i.data("number",t.number),i.attr("number",t.number),t.bounds&&(i.data("real-width",t.bounds.width),i.data("real-height",t.bounds.height),i.data("real-left",t.bounds.x),i.data("real-top",t.bounds.y)),t.displayName&&t.elementType!==this.constants.ELEMENT_TYPE.SEQUENCEFLOW&&(r.text(t.displayName),i.append(r)),t.elementType&&this._createIconsForHotSpots(i,t),t.text&&t.text.content&&(r.text(t.text.content),i.append(r)),t.dataState&&t.dataState.displayName&&(r.text(t.dataState.displayName),i.append(r)),t.radius&&i.css("border-radius",t.radius),t.css&&i.addClass(t.css),t.loopCharacteristics&&(t.loopCharacteristics.isSequential?i.addClass("issequential"):t.loopCharacteristics.isSequential||i.addClass("isparallel")),this._asignLabelFormat(r[0],t),t.elementType&&i.addClass(t.elementType.toLowerCase()),t.conditionType&&i.addClass(t.conditionType.toLowerCase()),t.eventType&&i.addClass(t.eventType.toLowerCase()),t.subProcessType&&i.addClass(t.subProcessType.toLowerCase()),t.isForCompensation&&i.addClass("isforcompensation"),t.bpmnElementRef?i.attr("id",t.bpmnElementRef):t.bpmnElement&&t.bpmnElement.baref&&t.bpmnElement.baref.ref&&i.attr("id",t.bpmnElement.baref.ref),t.content&&i.append(t.content),i},_createIconsForHotSpots:function(t,i){var r=i.elementType.toLowerCase(),a=e('<div class="processviewer-hotspot-icon" data-processviewericon></div>');if(t.append(a),e.bizagi.processviewer.design.icons){var s=e.bizagi.processviewer.design.icons.scale,o=e.bizagi.processviewer.design.icons.bounds.width*s,n=e.bizagi.processviewer.design.icons.bounds.height*s,l=new Raphael(a[0],o,n).group();i.isForCompensation&&(r="isforcompensation");var c=e.bizagi.processviewer.design.icons.iconset[r];if(c){svgTmp=c.svg;for(var d=0;d<svgTmp.length;d++){var u=svgTmp[d],p=l[u.type]();for(var m in s<1&&l.node.setAttribute("transform","scale("+s+")"),u.properties)p[0].setAttribute(m,u.properties[m])}}}},_getPathString:function(e){for(var t="",i=0;i<e.length;i++)0===i&&(t+="M"),i>0&&(t+="L"),t+=e[i].x+",",t+=e[i].y+",";return t},_getArrowPathString:function(e){var t=e[e.length-1],i=e[e.length-2],r=i.x,a=t.x,s=i.y,o=t.y,n=Raphael.angle(a,o,r,s),l=Raphael.rad(n-135),c=Raphael.rad(n+135);return"M"+a+","+o+",L"+(a+10*Math.cos(l))+","+(o+10*Math.sin(l))+",M"+a+","+o+",L"+(a+10*Math.cos(c))+","+(o+10*Math.sin(c))},_getHotSpotData:function(e){var t={x:0,y:0,w:0,h:0};return e.x?t.x=e.x:e.bounds.x&&(t.x=e.bounds.x),e.y?t.y=e.y:e.bounds.y&&(t.y=e.bounds.y),e.w?t.w=e.w:e.bounds.width&&(t.w=e.bounds.width),e.h?t.h=e.h:e.bounds.height&&(t.h=e.bounds.height),t},_createSVGHotSpots:function(){for(var e=this.options.hotspots,t=0;t<e.length;t++){var i=e[t],r=this.options.configuration.processviewerStage.rect(i.x,i.y,50,50);r.id=i.id,"function"==typeof i.onClick?r.click(i.onClick):r.click(this._triggers.click);var a=this._triggers.onMouseOver,s=this._triggers.onMouseOut;"function"==typeof i.onMouseOver&&(a=i.onMouseOver),"function"==typeof i.onMouseOut&&(s=i.onMouseOut),r.hover(a,s),r.node.id=i.id,r.node.class=i.css,this.options.configuration.processviewerstageHotSpotSet.push(r)}this.options.configuration.processviewerStageSet.push(this.options.configuration.processviewerstageHotSpotSet)},_triggers:{click:function(t){var i={type:"pvClick",message:"hotspot clicked",time:new Date,ui:{control:this,id:e(this).attr("id")}};t.trigger(i)},onMouseOver:function(t){var i={type:"pvMouseIn",message:"hotspot mouse in",time:new Date,ui:{control:this,id:e(this).attr("id")}};t.trigger(i)},onMouseOut:function(t){var i={type:"pvMouseOut",message:"hotspot mouse out",time:new Date,ui:{control:this,id:e(this).attr("id")}};t.trigger(i)},error:function(t){var i={type:"pvError",time:new Date};e.extend(t,i),e.event.trigger(t)}},_createUIFailView:function(t){var i=e('<div class="'+this.options.configuration.errorImageCSS+' svg-error-content"><div class="processviewer-absolute-center"><img src="'+this.options.unavailableImage+'" class="processviewer-absolute-center"/></div><span class="processviewer-message">'+t+"</span></div>");e("[data-processviewercontainer]",this.element).append(i)},_verifyingImage:function(t){var i=e.Deferred(),r=document.createElement("img");return r.onload=function(){i.resolve(r)},r.onerror=function(){i.reject(t)},r.src=t,i.promise()},_getStageContainer:function(t){return e("[data-processviewer-wrapper-container]",this.element)[0]},_generateID:function(){var t=(new Date).getTime(),i="processviewer-xxxxxxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:7&i|8).toString(16)}));return e("#"+i).length>0?this._generateID():i},_adjustLabelsPosition:function(){for(var t=e(".processviewer-hotspot-label",this.element),i=(t.closest(".processviewer-hotspot"),0);i<t.length;i++){var r=e(t[i]),a=r.closest(".processviewer-hotspot"),s=a.outerHeight();if(a.hasClass("subprocess")||a.hasClass("callactivity")||a.hasClass("dataobject")){var o=e._ptToem(s+10);r.css({paddingTop:o})}else this.options.isIE8&&r.css({paddingTop:"1.8em"})}},_setOption:function(e,t){this.options[e]=t,this._update()},_update:function(){var e=this.options.value+"%";this.element.text(e),100===this.options.value&&this._trigger("complete",null,{value:100})},_destroy:function(){this.element.empty().removeAttr("style","").removeAttr("role",""),clearInterval(this.options.animation.interval)},_getSelectedClassCSSByWorkitemState:function(e,t){var i;t&&t.filter&&(i=t.filter((function(t){return t.guidTask===e})));var r="processviewer-shape-selected";return i&&i.length>0&&14==i[0].wiState&&(r="processviewer-shape-selected-standby"),r},selectShape:function(t,i){for(var r=e.isArray(t)?t:[t],a=0,s=r.length;a<s;a++){var o=e("#"+r[a],this.$el);if(o.length){var n=this._getSelectedClassCSSByWorkitemState(r[a],i);"div"!==o.prop("tagName").toLowerCase()?(o.addClassSVG(n),o.setMarkerSVG("selected")):o.addClass(n)}}},unSelectShape:function(t,i){for(var r=e.isArray(t)?t:[t],a=0,s=r.length;a<s;a++){var o=e("#"+r[a],this.$el),n=o.prop("tagName").toLowerCase(),l=this._getSelectedClassCSSByWorkitemState(r[a],i);"div"!==n?(o.removeClassSVG(l),o.reverseMarkerSVG()):o.removeClass(l)}},unSelectAllShapes:function(){for(var t=e(".processviewer-shape-selected",this.$el),i=0;i<t.length;i++){var r=e(t[i]);"div"!==r.prop("tagName").toLowerCase()?(r.removeClassSVG("processviewer-shape-selected"),r.reverseMarkerSVG()):r.removeClass("processviewer-shape-selected")}},drawRoute:function(t){for(var i=[],r=0;r<t.length;r++){var a=e("#"+t[r],this.$el);if(a.length>0)"div"!==a.prop("tagName").toLowerCase()?(a.addClassSVG("processviewer-highlighted"),a.setMarkerSVG("highlighted")):a.addClass("processviewer-highlighted");else i.push(t[r])}this._triggers.error({message:"Doesn't find element",ui:i})},animateRoute:function(t){this.option.counter;e.isArray(t)&&(this.options.animation.counter=0,this.options.animation.path=t,this.options.animation.status=0),0===this.options.animation.status?this._startRouteAnimation():this._stopRouteAnimation()},_startRouteAnimation:function(){var t=this,i=t.options.animation.path;t.options.animation.status=1,0===t.options.animation.counter&&t.clearRoute(),t.options.animation.interval=setInterval((function(){if(t.options.animation.counter<i.length){var r=e("[id="+i[t.options.animation.counter]+"]",t.$el).last();if(r.length>0)"div"!==r.prop("tagName").toLowerCase()?(r.addClassSVG("processviewer-highlighted"),r.setMarkerSVG("highlighted"),r[0].strokecolor="#FF7F00"):r.addClass("processviewer-highlighted");t.options.animation.counter++}else t.element.trigger({type:"animationComplete",message:"animation end!",time:new Date,ui:t.$el}),t.options.animation.counter=0,t._stopRouteAnimation()}),t.options.animation.time)},_stopRouteAnimation:function(){this.options.animation.status=0,clearInterval(this.options.animation.interval)},_isInWorkportal:function(){var e=!1;return"undefined"!=typeof bizagi&&void 0!==bizagi.workportal&&(e=!0),e},clearRoute:function(){for(var t=e(".processviewer-highlighted",this.$el),i=0;i<t.length;i++){var r=e(t[i]);"div"!==r.prop("tagName").toLowerCase()?(r.removeClassSVG("processviewer-highlighted"),r[0].strokecolor="#000",r.reverseMarkerSVG()):r.removeClass("processviewer-highlighted")}},validateHTML5Features:{checkInput:function(e){var t=document.createElement("input");return t.setAttribute("type",e),t.type==e}}}),e.fn.addClassSVG=function(t){var i=arguments[0];return t=e.extend({},e.fn.addClassSVG.config,t),this.each((function(){var e=this.getAttribute("class"),t="";null===e&&(e=""),"string"==typeof i&&-1===e.indexOf(i)&&(t=e+" "+i,this.setAttribute("class",t))}))},e.fn.addClassSVG.config={},e.fn.setMarkerSVG=function(t){var i="url(#"+arguments[0]+")";return t=e.extend({},e.fn.addClassSVG.config,t),this.each((function(){var e=this.getAttribute("marker-end");e!=i&&(this.setAttribute("marker-end",i),this.setAttribute("toggle-marker-end",e))}))},e.fn.reverseMarkerSVG=function(){return this.each((function(){var e=this.getAttribute("marker-end"),t=this.getAttribute("toggle-marker-end");null!==t&&null!==e&&(this.setAttribute("marker-end",t),this.removeAttribute("toggle-marker-end"))}))},e.fn.removeClassSVG=function(t){var i=arguments[0];return t=e.extend({},e.fn.addClassSVG.config,t),this.each((function(){var e=this.getAttribute("class"),t="";null!==e&&"string"==typeof i&&-1!==e.indexOf(i)&&(t=e.replace(i,"").replace("  "," "),this.setAttribute("class",t))}))},e.fn.removeClassSVG.config={},e.fn.hasClassSVG=function(e){var t=arguments[0],i=this[0],r=i.getAttribute("class"),a=!1;return null!==r&&"string"==typeof t&&-1!==r.indexOf(t)&&(a=!0),a},e.fn.attrSVG=function(e){var t=this[0];for(var i in e)t.setAttribute(i,e[i]);return t},e._ptToem=function(e,t){return t||(t=12),e/t+"em"}}(jQuery),function(e){e.fn.processviewerQueries=function(){this.css("color","green");var t=this;return t.data=this[0],t.internalDataSource={elements:[]},t.datasource={hotspots:[],formatStyles:[]},t.deferred=e.Deferred(),t.padding=80,t.typeDefinitions=e.bizagi.processviewer.configuration.validTypeDefinitions,t.constants=e.bizagi.processviewer.configuration.constants,this.methods={init:function(){var t=this,i=e.Deferred();return t.typeDefinitions.unshift("owner"),t.data.definition.owner={processType:t.data.definition.processType,elementType:t.data.definition.elementType,displayName:t.data.definition.displayName,id:t.data.definition.id},e.when(t.methods.processElements.apply(t,[])).done((function(){i.resolve(t.datasource)})),i.promise()},processElements:function(){var t=[];for(var i in this.data.definition){var r=this.data.definition[i];if(this.methods.validateKindObject.apply(this,[i]))if(i===this.constants.LANESETS){if(r){var a=this.methods.getLanesFromLaneSet.apply(this,[r]);t=t.concat(a)}}else t=t.concat(r)}this.internalDataSource.elements=this.internalDataSource.elements.concat(t);for(var s=0;s<this.internalDataSource.elements.length;s++){var o=this.internalDataSource.elements[s].id,n=this.methods.getElementGraphicDataById.apply(this,[o]);if(n){var l=e.extend({},n,this.internalDataSource.elements[s]);this.datasource.hotspots.push(l)}}this.datasource.dimentions=this.methods._getMaxDimentions.apply(this,[]),this.datasource.formatStyles=this.methods.getStylesFormat.apply(this,[])},getStylesFormat:function(){var t,i={};if(this.data.graphics[this.constants.BPMNLABELSTYLES]){t=this.data.graphics[this.constants.BPMNLABELSTYLES];for(var r=0;r<t.length;r++){var a=t[r],s=a.font.size?e._ptToem(a.font.size):"1em";i[a.id]={css:{fontFamily:a.font.name||"Arial",fontSize:s,fontWeight:a.font.isBold?"bold":"normal",fontStyle:a.font.isItalic?"italic":"normal",color:a.font.color||"Black"},cssClass:["alignment-"+a.alignment]}}}return i},_getMaxDimentions:function(){var e,t=0,i=0,r=[];for(var a in this.data.definition){var s=this.data.definition[a];a===this.constants.LANESETS&&s&&(r=this.methods.getLanesFromLaneSet.apply(this,[s]))}for(var o=0;o<r.length;o++)r[o].id&&(e=this.methods.getElementGraphicDataById.apply(this,[r[o].id])),"object"===_typeof(e)&&(t<e.bounds.width&&(t=e.bounds.width+this.padding),i+=e.bounds.height+this.padding);return{width:t,height:i}},_ptToEM:function(e){return e/t.pixelFontSize},getElementGraphicDataById:function(e){for(var t,i=this.data.graphics.bpmnPlane.diagramElements,r=0;r<i.length;r++){var a=this.methods.hasReferenceId(i[r]);if(a&&(localID=a,localID===e)){t=i[r];break}}return t},getLanesFromLaneSet:function(e){for(var t=[],i=0;i<e.length;i++)t=t.concat(e[i].lanes);return t},validateKindObject:function(e){for(var t=!1,i=0;i<this.typeDefinitions.length;i++)if(this.typeDefinitions[i]===e){t=!0;break}return t},hasReferenceId:function(e){var t=!1;return e.bpmnElement?e.bpmnElement.baref&&e.bpmnElement.baref.ref&&(t=e.bpmnElement.baref.ref):e.bpmnElementRef&&(t=e.bpmnElementRef),t}},this.methods.init.apply(this,[])}}(jQuery),
/*!
             * jQuery UI Touch Punch 0.2.2
             *
             * Copyright 2011, Dave Furfero
             * Dual licensed under the MIT or GPL Version 2 licenses.
             *
             * Depends:
             *  jquery.ui.widget.js
             *  jquery.ui.mouse.js
             */
function(e){if(e.support.touch="ontouchend"in document,e.support.touch){var t,i=e.ui.mouse.prototype,r=i._mouseInit;i._touchStart=function(e){!t&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(t=!0,this._touchMoved=!1,a(e,"mouseover"),a(e,"mousemove"),a(e,"mousedown"))},i._touchMove=function(e){t&&(this._touchMoved=!0,a(e,"mousemove"))},i._touchEnd=function(e){t&&(a(e,"mouseup"),a(e,"mouseout"),this._touchMoved||a(e,"click"),t=!1)},i._mouseInit=function(){this.element.bind("touchstart",e.proxy(this,"_touchStart")).bind("touchmove",e.proxy(this,"_touchMove")).bind("touchend",e.proxy(this,"_touchEnd")),r.call(this)}}function a(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var i=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}}}(jQuery),function(e){var t,i,r="0.4.2",a="hasOwnProperty",s=/[\.\/]/,o=function(){},n=function(e,t){return e-t},l={n:{}},c=function e(r,a){r=String(r);var s,o=i,l=Array.prototype.slice.call(arguments,2),c=e.listeners(r),d=0,u=[],p={},m=[],h=t;t=r,i=0;for(var g=0,f=c.length;g<f;g++)"zIndex"in c[g]&&(u.push(c[g].zIndex),c[g].zIndex<0&&(p[c[g].zIndex]=c[g]));for(u.sort(n);u[d]<0;)if(s=p[u[d++]],m.push(s.apply(a,l)),i)return i=o,m;for(g=0;g<f;g++)if("zIndex"in(s=c[g]))if(s.zIndex==u[d]){if(m.push(s.apply(a,l)),i)break;do{if((s=p[u[++d]])&&m.push(s.apply(a,l)),i)break}while(s)}else p[s.zIndex]=s;else if(m.push(s.apply(a,l)),i)break;return i=o,t=h,m.length?m:null};c._events=l,c.listeners=function(e){var t,i,r,a,o,n,c,d,u=e.split(s),p=l,m=[p],h=[];for(a=0,o=u.length;a<o;a++){for(d=[],n=0,c=m.length;n<c;n++)for(i=[(p=m[n].n)[u[a]],p["*"]],r=2;r--;)(t=i[r])&&(d.push(t),h=h.concat(t.f||[]));m=d}return h},c.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var i=e.split(s),r=l,a=0,n=i.length;a<n;a++)r=(r=r.n).hasOwnProperty(i[a])&&r[i[a]]||(r[i[a]]={n:{}});for(r.f=r.f||[],a=0,n=r.f.length;a<n;a++)if(r.f[a]==t)return o;return r.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},c.f=function(e){var t=[].slice.call(arguments,1);return function(){c.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},c.stop=function(){i=1},c.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},c.nts=function(){return t.split(s)},c.off=c.unbind=function(e,t){if(e){var i,r,o,n,d,u,p,m=e.split(s),h=[l];for(n=0,d=m.length;n<d;n++)for(u=0;u<h.length;u+=o.length-2){if(o=[u,1],i=h[u].n,"*"!=m[n])i[m[n]]&&o.push(i[m[n]]);else for(r in i)i[a](r)&&o.push(i[r]);h.splice.apply(h,o)}for(n=0,d=h.length;n<d;n++)for(i=h[n];i.n;){if(t){if(i.f){for(u=0,p=i.f.length;u<p;u++)if(i.f[u]==t){i.f.splice(u,1);break}!i.f.length&&delete i.f}for(r in i.n)if(i.n[a](r)&&i.n[r].f){var g=i.n[r].f;for(u=0,p=g.length;u<p;u++)if(g[u]==t){g.splice(u,1);break}!g.length&&delete i.n[r].f}}else for(r in delete i.f,i.n)i.n[a](r)&&i.n[r].f&&delete i.n[r].f;i=i.n}}else c._events=l={n:{}}},c.once=function(e,t){return c.on(e,(function i(){return c.unbind(e,i),t.apply(this,arguments)}))},c.version=r,c.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=c:e.eve=c}(this),function(e,t){!function(e,t){function i(e){if(i.is(e,"function"))return x?e():t.on("raphael.DOMload",e);if(i.is(e,H))return i._engine.create[k](i,e.splice(0,3+i.is(e[0],G))).add(e);var r=Array.prototype.slice.call(arguments,0);if(i.is(r[r.length-1],"function")){var a=r.pop();return x?a.call(i._engine.create[k](i,r)):t.on("raphael.DOMload",(function(){a.call(i._engine.create[k](i,r))}))}return i._engine.create[k](i,arguments)}function r(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var i in e)e[A](i)&&(t[i]=r(e[i]));return t}function a(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return e.push(e.splice(i,1)[0])}function s(e,t,i){return function r(){var s=Array.prototype.slice.call(arguments,0),o=s.join("␀"),n=r.cache=r.cache||{},l=r.count=r.count||[];return n[A](o)?(a(l,o),i?i(n[o]):n[o]):(l.length>=1e3&&delete n[l.shift()],l.push(o),n[o]=e[k](t,s),i?i(n[o]):n[o])}}function o(){return this.hex}function n(e,t){for(var i=[],r=0,a=e.length;a-2*!t>r;r+=2){var s=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?a-4==r?s[3]={x:+e[0],y:+e[1]}:a-2==r&&(s[2]={x:+e[0],y:+e[1]},s[3]={x:+e[2],y:+e[3]}):s[0]={x:+e[a-2],y:+e[a-1]}:a-4==r?s[3]=s[2]:r||(s[0]={x:+e[r],y:+e[r+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function l(e,t,i,r,a){return e*(e*(-3*t+9*i-9*r+3*a)+6*t-12*i+6*r)-3*t+3*i}function c(e,t,i,r,a,s,o,n,c){null==c&&(c=1);for(var d=(c=c>1?1:c<0?0:c)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],m=0,h=0;h<12;h++){var g=d*u[h]+d,f=l(g,e,i,a,o),v=l(g,t,r,s,n),y=f*f+v*v;m+=p[h]*N.sqrt(y)}return d*m}function d(e,t,i,r,a,s,o,n){if(!(F(e,i)<$(a,o)||$(e,i)>F(a,o)||F(t,r)<$(s,n)||$(t,r)>F(s,n))){var l=(e-i)*(s-n)-(t-r)*(a-o);if(l){var c=((e*r-t*i)*(a-o)-(e-i)*(a*n-s*o))/l,d=((e*r-t*i)*(s-n)-(t-r)*(a*n-s*o))/l,u=+c.toFixed(2),p=+d.toFixed(2);if(!(u<+$(e,i).toFixed(2)||u>+F(e,i).toFixed(2)||u<+$(a,o).toFixed(2)||u>+F(a,o).toFixed(2)||p<+$(t,r).toFixed(2)||p>+F(t,r).toFixed(2)||p<+$(s,n).toFixed(2)||p>+F(s,n).toFixed(2)))return{x:c,y:d}}}}function u(e,t,r){var a=i.bezierBBox(e),s=i.bezierBBox(t);if(!i.isBBoxIntersect(a,s))return r?0:[];for(var o=c.apply(0,e),n=c.apply(0,t),l=F(~~(o/5),1),u=F(~~(n/5),1),p=[],m=[],h={},g=r?0:[],f=0;f<l+1;f++){var v=i.findDotsAtSegment.apply(i,e.concat(f/l));p.push({x:v.x,y:v.y,t:f/l})}for(f=0;f<u+1;f++)v=i.findDotsAtSegment.apply(i,t.concat(f/u)),m.push({x:v.x,y:v.y,t:f/u});for(f=0;f<l;f++)for(var y=0;y<u;y++){var x=p[f],b=p[f+1],w=m[y],T=m[y+1],C=j(b.x-x.x)<.001?"y":"x",A=j(T.x-w.x)<.001?"y":"x",_=d(x.x,x.y,b.x,b.y,w.x,w.y,T.x,T.y);if(_){if(h[_.x.toFixed(4)]==_.y.toFixed(4))continue;h[_.x.toFixed(4)]=_.y.toFixed(4);var P=x.t+j((_[C]-x[C])/(b[C]-x[C]))*(b.t-x.t),S=w.t+j((_[A]-w[A])/(T[A]-w[A]))*(T.t-w.t);P>=0&&P<=1.001&&S>=0&&S<=1.001&&(r?g++:g.push({x:_.x,y:_.y,t1:$(P,1),t2:$(S,1)}))}}return g}function p(e,t,r){e=i._path2curve(e),t=i._path2curve(t);for(var a,s,o,n,l,c,d,p,m,h,g=r?0:[],f=0,v=e.length;f<v;f++){var y=e[f];if("M"==y[0])a=l=y[1],s=c=y[2];else{"C"==y[0]?(m=[a,s].concat(y.slice(1)),a=m[6],s=m[7]):(m=[a,s,a,s,l,c,l,c],a=l,s=c);for(var x=0,b=t.length;x<b;x++){var w=t[x];if("M"==w[0])o=d=w[1],n=p=w[2];else{"C"==w[0]?(h=[o,n].concat(w.slice(1)),o=h[6],n=h[7]):(h=[o,n,o,n,d,p,d,p],o=d,n=p);var T=u(m,h,r);if(r)g+=T;else{for(var C=0,A=T.length;C<A;C++)T[C].segment1=f,T[C].segment2=x,T[C].bez1=m,T[C].bez2=h;g=g.concat(T)}}}}}return g}function m(e,t,i,r,a,s){null!=e?(this.a=+e,this.b=+t,this.c=+i,this.d=+r,this.e=+a,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function h(){return this.x+D+this.y+D+this.width+" × "+this.height}function g(e,t,i,r,a,s){function o(e){return((c*e+l)*e+n)*e}var n=3*t,l=3*(r-t)-n,c=1-n-l,d=3*i,u=3*(a-i)-d,p=1-d-u;return function(e,t){var i=function(e,t){var i,r,a,s,d,u;for(a=e,u=0;u<8;u++){if(s=o(a)-e,j(s)<t)return a;if(j(d=(3*c*a+2*l)*a+n)<1e-6)break;a-=s/d}if(r=1,(a=e)<(i=0))return i;if(a>r)return r;for(;i<r;){if(s=o(a),j(s-e)<t)return a;e>s?i=a:r=a,a=(r-i)/2+i}return a}(e,t);return((p*i+u)*i+d)*i}(e,1/(200*s))}function f(e,t){var i=[],r={};if(this.ms=t,this.times=1,e){for(var a in e)e[A](a)&&(r[K(a)]=e[a],i.push(K(a)));i.sort(de)}this.anim=r,this.top=i[i.length-1],this.percents=i}function v(e,r,a,s,o,n){a=K(a);var l,c,d,u,p,h,f=e.ms,v={},y={},x={};if(s)for(T=0,C=st.length;T<C;T++){var b=st[T];if(b.el.id==r.id&&b.anim==e){b.percent!=a?(st.splice(T,1),d=1):c=b,r.attr(b.totalOrigin);break}}else s=+y;for(var T=0,C=e.percents.length;T<C;T++){if(e.percents[T]==a||e.percents[T]>s*e.top){a=e.percents[T],p=e.percents[T-1]||0,f=f/e.top*(a-p),u=e.percents[T+1],l=e.anim[a];break}s&&r.attr(e.anim[e.percents[T]])}if(l){if(c)c.initstatus=s,c.start=new Date-c.ms*s;else{for(var _ in l)if(l[A](_)&&(ie[A](_)||r.paper.customAttributes[A](_)))switch(v[_]=r.attr(_),null==v[_]&&(v[_]=te[_]),y[_]=l[_],ie[_]){case G:x[_]=(y[_]-v[_])/f;break;case"colour":v[_]=i.getRGB(v[_]);var P=i.getRGB(y[_]);x[_]={r:(P.r-v[_].r)/f,g:(P.g-v[_].g)/f,b:(P.b-v[_].b)/f};break;case"path":var S=Re(v[_],y[_]),k=S[1];for(v[_]=S[0],x[_]=[],T=0,C=v[_].length;T<C;T++){x[_][T]=[0];for(var L=1,I=v[_][T].length;L<I;L++)x[_][T][L]=(k[T][L]-v[_][T][L])/f}break;case"transform":var D=r._,E=Fe(D[_],y[_]);if(E)for(v[_]=E.from,y[_]=E.to,x[_]=[],x[_].real=!0,T=0,C=v[_].length;T<C;T++)for(x[_][T]=[v[_][T][0]],L=1,I=v[_][T].length;L<I;L++)x[_][T][L]=(y[_][T][L]-v[_][T][L])/f;else{var U=r.matrix||new m,O={_:{transform:D.transform},getBBox:function(){return r.getBBox(1)}};v[_]=[U.a,U.b,U.c,U.d,U.e,U.f],Oe(O,y[_]),y[_]=O._.transform,x[_]=[(O.matrix.a-U.a)/f,(O.matrix.b-U.b)/f,(O.matrix.c-U.c)/f,(O.matrix.d-U.d)/f,(O.matrix.e-U.e)/f,(O.matrix.f-U.f)/f]}break;case"csv":var N=z(l[_])[R](w),F=z(v[_])[R](w);if("clip-rect"==_)for(v[_]=F,x[_]=[],T=F.length;T--;)x[_][T]=(N[T]-v[_][T])/f;y[_]=N;break;default:for(N=[][M](l[_]),F=[][M](v[_]),x[_]=[],T=r.paper.customAttributes[_].length;T--;)x[_][T]=((N[T]||0)-(F[T]||0))/f}var $=l.easing,j=i.easing_formulas[$];if(!j)if((j=z($).match(Z))&&5==j.length){var W=j;j=function(e){return g(e,+W[1],+W[2],+W[3],+W[4],f)}}else j=ue;if(b={anim:e,percent:a,timestamp:h=l.start||e.start||+new Date,start:h+(e.del||0),status:0,initstatus:s||0,stop:!1,ms:f,easing:j,from:v,diff:x,to:y,el:r,callback:l.callback,prev:p,next:u,repeat:n||e.times,origin:r.attr(),totalOrigin:o},st.push(b),s&&!c&&!d&&(b.stop=!0,b.start=new Date-f*s,1==st.length))return nt();d&&(b.start=new Date-b.ms*s),1==st.length&&ot(nt)}t("raphael.anim.start."+r.id,r,e)}}function y(e){for(var t=0;t<st.length;t++)st[t].el.paper==e&&st.splice(t--,1)}i.version="2.1.2",i.eve=t;var x,b,w=/[, ]+/,T={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,A="hasOwnProperty",_={doc:document,win:e},P={was:Object.prototype[A].call(_.win,"Raphael"),is:_.win.Raphael},S=function(){this.ca=this.customAttributes={}},k="apply",M="concat",L="ontouchstart"in _.win||_.win.DocumentTouch&&_.doc instanceof DocumentTouch,I="",D=" ",z=String,R="split",E="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[R](D),U={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O=z.prototype.toLowerCase,N=Math,F=N.max,$=N.min,j=N.abs,W=N.pow,B=N.PI,G="number",Q="string",H="array",V=Object.prototype.toString,Y=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),J={NaN:1,Infinity:1,"-Infinity":1},Z=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,q=N.round,K=parseFloat,X=parseInt,ee=z.prototype.toUpperCase,te=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ie=i._availableAnimAttrs={blur:G,"clip-rect":"csv",cx:G,cy:G,fill:"colour","fill-opacity":G,"font-size":G,height:G,opacity:G,path:"path",r:G,rx:G,ry:G,stroke:"colour","stroke-opacity":G,"stroke-width":G,transform:"transform",width:G,x:G,y:G},re=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ae={hs:1,rg:1},se=/,?([achlmqrstvxz]),?/gi,oe=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ne=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,le=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ce=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),de=function(e,t){return K(e)-K(t)},ue=function(e){return e},pe=i._rectPath=function(e,t,i,r,a){return a?[["M",e+a,t],["l",i-2*a,0],["a",a,a,0,0,1,a,a],["l",0,r-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-i,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-r],["a",a,a,0,0,1,a,-a],["z"]]:[["M",e,t],["l",i,0],["l",0,r],["l",-i,0],["z"]]},me=function(e,t,i,r){return null==r&&(r=i),[["M",e,t],["m",0,-r],["a",i,r,0,1,1,0,2*r],["a",i,r,0,1,1,0,-2*r],["z"]]},he=i._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return me(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return me(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return pe(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return pe(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return pe(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return pe(t.x,t.y,t.width,t.height)}},ge=i.mapPath=function(e,t){if(!t)return e;var i,r,a,s,o,n,l;for(a=0,o=(e=Re(e)).length;a<o;a++)for(s=1,n=(l=e[a]).length;s<n;s+=2)i=t.x(l[s],l[s+1]),r=t.y(l[s],l[s+1]),l[s]=i,l[s+1]=r;return e};if(i._g=_,i.type=_.win.SVGAngle||_.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var fe,ve=_.doc.createElement("div");if(ve.innerHTML='<v:shape adj="1"/>',(fe=ve.firstChild).style.behavior="url(#default#VML)",!fe||"object"!=_typeof(fe.adj))return i.type=I;ve=null}i.svg=!(i.vml="VML"==i.type),i._Paper=S,i.fn=b=S.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(e,t){return"finite"==(t=O.call(t))?!J[A](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==_typeof(e)&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||V.call(e).slice(8,-1).toLowerCase()==t},i.angle=function(e,t,r,a,s,o){if(null==s){var n=e-r,l=t-a;return n||l?(180+180*N.atan2(-l,-n)/B+360)%360:0}return i.angle(e,t,s,o)-i.angle(r,a,s,o)},i.rad=function(e){return e%360*B/180},i.deg=function(e){return 180*e/B%360},i.snapTo=function(e,t,r){if(r=i.is(r,"finite")?r:10,i.is(e,H)){for(var a=e.length;a--;)if(j(e[a]-t)<=r)return e[a]}else{var s=t%(e=+e);if(s<r)return t-s;if(s>e-r)return t-s+e}return t};i.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,(function(e){var t=16*N.random()|0;return("x"==e?t:3&t|8).toString(16)}));i.setWindow=function(e){t("raphael.setWindow",i,_.win,e),_.win=e,_.doc=_.win.document,i._engine.initWin&&i._engine.initWin(_.win)};var ye=function(e){if(i.vml){var t,r=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),t=a.body}catch(e){t=createPopup().document.body}var o=t.createTextRange();ye=s((function(e){try{t.style.color=z(e).replace(r,I);var i=o.queryCommandValue("ForeColor");return"#"+("000000"+(i=(255&i)<<16|65280&i|(16711680&i)>>>16).toString(16)).slice(-6)}catch(e){return"none"}}))}else{var n=_.doc.createElement("i");n.title="Raphaël Colour Picker",n.style.display="none",_.doc.body.appendChild(n),ye=s((function(e){return n.style.color=e,_.doc.defaultView.getComputedStyle(n,I).getPropertyValue("color")}))}return ye(e)},xe=function(){return"hsb("+[this.h,this.s,this.b]+")"},be=function(){return"hsl("+[this.h,this.s,this.l]+")"},we=function(){return this.hex},Te=function(e,t,r){if(null==t&&i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,t=e.g,e=e.r),null==t&&i.is(e,Q)){var a=i.getRGB(e);e=a.r,t=a.g,r=a.b}return(e>1||t>1||r>1)&&(e/=255,t/=255,r/=255),[e,t,r]},Ce=function(e,t,r,a){var s={r:e*=255,g:t*=255,b:r*=255,hex:i.rgb(e,t,r),toString:we};return i.is(a,"finite")&&(s.opacity=a),s};i.color=function(e){var t;return i.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=i.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):i.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=i.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(i.is(e,"string")&&(e=i.getRGB(e)),i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=i.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=i.rgb2hsb(e),e.v=t.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=we,e},i.hsb2rgb=function(e,t,i,r){var a,s,o,n,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,t=e.s,r=(e=e.h).o),n=(l=i*t)*(1-j((e=(e*=360)%360/60)%2-1)),a=s=o=i-l,Ce(a+=[l,n,0,0,n,l][e=~~e],s+=[n,l,l,n,0,0][e],o+=[0,0,n,l,l,n][e],r)},i.hsl2rgb=function(e,t,i,r){var a,s,o,n,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(i=e.l,t=e.s,e=e.h),(e>1||t>1||i>1)&&(e/=360,t/=100,i/=100),n=(l=2*t*(i<.5?i:1-i))*(1-j((e=(e*=360)%360/60)%2-1)),a=s=o=i-l/2,Ce(a+=[l,n,0,0,n,l][e=~~e],s+=[n,l,l,n,0,0][e],o+=[0,0,n,l,l,n][e],r)},i.rgb2hsb=function(e,t,i){var r,a;return e=(i=Te(e,t,i))[0],t=i[1],i=i[2],{h:((0==(a=(r=F(e,t,i))-$(e,t,i))?null:r==e?(t-i)/a:r==t?(i-e)/a+2:(e-t)/a+4)+360)%6*60/360,s:0==a?0:a/r,b:r,toString:xe}},i.rgb2hsl=function(e,t,i){var r,a,s,o;return e=(i=Te(e,t,i))[0],t=i[1],i=i[2],r=((a=F(e,t,i))+(s=$(e,t,i)))/2,{h:((0==(o=a-s)?null:a==e?(t-i)/o:a==t?(i-e)/o+2:(e-t)/o+4)+360)%6*60/360,s:0==o?0:r<.5?o/(2*r):o/(2-2*r),l:r,toString:be}},i._path2string=function(){return this.join(",").replace(se,"$1")};i._preload=function(e,t){var i=_.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){t.call(this),this.onload=null,_.doc.body.removeChild(this)},i.onerror=function(){_.doc.body.removeChild(this)},_.doc.body.appendChild(i),i.src=e};i.getRGB=s((function(e){if(!e||(e=z(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!ae[A](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=ye(e));var t,r,a,s,n,l,c=e.match(Y);return c?(c[2]&&(a=X(c[2].substring(5),16),r=X(c[2].substring(3,5),16),t=X(c[2].substring(1,3),16)),c[3]&&(a=X((n=c[3].charAt(3))+n,16),r=X((n=c[3].charAt(2))+n,16),t=X((n=c[3].charAt(1))+n,16)),c[4]&&(l=c[4][R](re),t=K(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=K(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(s=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),c[5]?(l=c[5][R](re),t=K(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=K(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(s=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsb2rgb(t,r,a,s)):c[6]?(l=c[6][R](re),t=K(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=K(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(s=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsl2rgb(t,r,a,s)):((c={r:t,g:r,b:a,toString:o}).hex="#"+(16777216|a|r<<8|t<<16).toString(16).slice(1),i.is(s,"finite")&&(c.opacity=s),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}}),i),i.hsb=s((function(e,t,r){return i.hsb2rgb(e,t,r).hex})),i.hsl=s((function(e,t,r){return i.hsl2rgb(e,t,r).hex})),i.rgb=s((function(e,t,i){return"#"+(16777216|i|t<<8|e<<16).toString(16).slice(1)})),i.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(e){if(!e)return null;var t=Ae(e);if(t.arr)return Pe(t.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},a=[];return i.is(e,H)&&i.is(e[0],H)&&(a=Pe(e)),a.length||z(e).replace(oe,(function(e,t,i){var s=[],o=t.toLowerCase();if(i.replace(le,(function(e,t){t&&s.push(+t)})),"m"==o&&s.length>2&&(a.push([t][M](s.splice(0,2))),o="l",t="m"==t?"l":"L"),"r"==o)a.push([t][M](s));else for(;s.length>=r[o]&&(a.push([t][M](s.splice(0,r[o]))),r[o]););})),a.toString=i._path2string,t.arr=Pe(a),a},i.parseTransformString=s((function(e){if(!e)return null;var t=[];return i.is(e,H)&&i.is(e[0],H)&&(t=Pe(e)),t.length||z(e).replace(ne,(function(e,i,r){var a=[];O.call(i);r.replace(le,(function(e,t){t&&a.push(+t)})),t.push([i][M](a))})),t.toString=i._path2string,t}));var Ae=function e(t){var i=e.ps=e.ps||{};return i[t]?i[t].sleep=100:i[t]={sleep:100},setTimeout((function(){for(var e in i)i[A](e)&&e!=t&&(i[e].sleep--,!i[e].sleep&&delete i[e])})),i[t]};i.findDotsAtSegment=function(e,t,i,r,a,s,o,n,l){var c=1-l,d=W(c,3),u=W(c,2),p=l*l,m=p*l,h=d*e+3*u*l*i+3*c*l*l*a+m*o,g=d*t+3*u*l*r+3*c*l*l*s+m*n,f=e+2*l*(i-e)+p*(a-2*i+e),v=t+2*l*(r-t)+p*(s-2*r+t),y=i+2*l*(a-i)+p*(o-2*a+i),x=r+2*l*(s-r)+p*(n-2*s+r),b=c*e+l*i,w=c*t+l*r,T=c*a+l*o,C=c*s+l*n,A=90-180*N.atan2(f-y,v-x)/B;return(f>y||v<x)&&(A+=180),{x:h,y:g,m:{x:f,y:v},n:{x:y,y:x},start:{x:b,y:w},end:{x:T,y:C},alpha:A}},i.bezierBBox=function(e,t,r,a,s,o,n,l){i.is(e,"array")||(e=[e,t,r,a,s,o,n,l]);var c=ze.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},i.isPointInsideBBox=function(e,t,i){return t>=e.x&&t<=e.x2&&i>=e.y&&i<=e.y2},i.isBBoxIntersect=function(e,t){var r=i.isPointInsideBBox;return r(t,e.x,e.y)||r(t,e.x2,e.y)||r(t,e.x,e.y2)||r(t,e.x2,e.y2)||r(e,t.x,t.y)||r(e,t.x2,t.y)||r(e,t.x,t.y2)||r(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},i.pathIntersection=function(e,t){return p(e,t)},i.pathIntersectionNumber=function(e,t){return p(e,t,1)},i.isPointInsidePath=function(e,t,r){var a=i.pathBBox(e);return i.isPointInsideBBox(a,t,r)&&p(e,[["M",t,r],["H",a.x2+10]],1)%2==1},i._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var _e=i.pathBBox=function(e){var t=Ae(e);if(t.bbox)return r(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,a=0,s=0,o=[],n=[],l=0,c=(e=Re(e)).length;l<c;l++)if("M"==(i=e[l])[0])a=i[1],s=i[2],o.push(a),n.push(s);else{var d=ze(a,s,i[1],i[2],i[3],i[4],i[5],i[6]);o=o[M](d.min.x,d.max.x),n=n[M](d.min.y,d.max.y),a=i[5],s=i[6]}var u=$[k](0,o),p=$[k](0,n),m=F[k](0,o),h=F[k](0,n),g=m-u,f=h-p,v={x:u,y:p,x2:m,y2:h,width:g,height:f,cx:u+g/2,cy:p+f/2};return t.bbox=r(v),v},Pe=function(e){var t=r(e);return t.toString=i._path2string,t},Se=i._pathToRelative=function(e){var t=Ae(e);if(t.rel)return Pe(t.rel);i.is(e,H)&&i.is(e&&e[0],H)||(e=i.parsePathString(e));var r=[],a=0,s=0,o=0,n=0,l=0;"M"==e[0][0]&&(o=a=e[0][1],n=s=e[0][2],l++,r.push(["M",a,s]));for(var c=l,d=e.length;c<d;c++){var u=r[c]=[],p=e[c];if(p[0]!=O.call(p[0]))switch(u[0]=O.call(p[0]),u[0]){case"a":u[1]=p[1],u[2]=p[2],u[3]=p[3],u[4]=p[4],u[5]=p[5],u[6]=+(p[6]-a).toFixed(3),u[7]=+(p[7]-s).toFixed(3);break;case"v":u[1]=+(p[1]-s).toFixed(3);break;case"m":o=p[1],n=p[2];default:for(var m=1,h=p.length;m<h;m++)u[m]=+(p[m]-(m%2?a:s)).toFixed(3)}else{u=r[c]=[],"m"==p[0]&&(o=p[1]+a,n=p[2]+s);for(var g=0,f=p.length;g<f;g++)r[c][g]=p[g]}var v=r[c].length;switch(r[c][0]){case"z":a=o,s=n;break;case"h":a+=+r[c][v-1];break;case"v":s+=+r[c][v-1];break;default:a+=+r[c][v-2],s+=+r[c][v-1]}}return r.toString=i._path2string,t.rel=Pe(r),r},ke=i._pathToAbsolute=function(e){var t=Ae(e);if(t.abs)return Pe(t.abs);if(i.is(e,H)&&i.is(e&&e[0],H)||(e=i.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],a=0,s=0,o=0,l=0,c=0;"M"==e[0][0]&&(o=a=+e[0][1],l=s=+e[0][2],c++,r[0]=["M",a,s]);for(var d,u,p=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),m=c,h=e.length;m<h;m++){if(r.push(d=[]),(u=e[m])[0]!=ee.call(u[0]))switch(d[0]=ee.call(u[0]),d[0]){case"A":d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=+(u[6]+a),d[7]=+(u[7]+s);break;case"V":d[1]=+u[1]+s;break;case"H":d[1]=+u[1]+a;break;case"R":for(var g=[a,s][M](u.slice(1)),f=2,v=g.length;f<v;f++)g[f]=+g[f]+a,g[++f]=+g[f]+s;r.pop(),r=r[M](n(g,p));break;case"M":o=+u[1]+a,l=+u[2]+s;default:for(f=1,v=u.length;f<v;f++)d[f]=+u[f]+(f%2?a:s)}else if("R"==u[0])g=[a,s][M](u.slice(1)),r.pop(),r=r[M](n(g,p)),d=["R"][M](u.slice(-2));else for(var y=0,x=u.length;y<x;y++)d[y]=u[y];switch(d[0]){case"Z":a=o,s=l;break;case"H":a=d[1];break;case"V":s=d[1];break;case"M":o=d[d.length-2],l=d[d.length-1];default:a=d[d.length-2],s=d[d.length-1]}}return r.toString=i._path2string,t.abs=Pe(r),r},Me=function(e,t,i,r){return[e,t,i,r,i,r]},Le=function(e,t,i,r,a,s){var o=1/3,n=2/3;return[o*e+n*i,o*t+n*r,o*a+n*i,o*s+n*r,a,s]},Ie=function e(t,i,r,a,o,n,l,c,d,u){var p,m=120*B/180,h=B/180*(+o||0),g=[],f=s((function(e,t,i){return{x:e*N.cos(i)-t*N.sin(i),y:e*N.sin(i)+t*N.cos(i)}}));if(u)_=u[0],P=u[1],C=u[2],A=u[3];else{t=(p=f(t,i,-h)).x,i=p.y,c=(p=f(c,d,-h)).x,d=p.y;N.cos(B/180*o),N.sin(B/180*o);var v=(t-c)/2,y=(i-d)/2,x=v*v/(r*r)+y*y/(a*a);x>1&&(r*=x=N.sqrt(x),a*=x);var b=r*r,w=a*a,T=(n==l?-1:1)*N.sqrt(j((b*w-b*y*y-w*v*v)/(b*y*y+w*v*v))),C=T*r*y/a+(t+c)/2,A=T*-a*v/r+(i+d)/2,_=N.asin(((i-A)/a).toFixed(9)),P=N.asin(((d-A)/a).toFixed(9));(_=t<C?B-_:_)<0&&(_=2*B+_),(P=c<C?B-P:P)<0&&(P=2*B+P),l&&_>P&&(_-=2*B),!l&&P>_&&(P-=2*B)}var S=P-_;if(j(S)>m){var k=P,L=c,I=d;P=_+m*(l&&P>_?1:-1),g=e(c=C+r*N.cos(P),d=A+a*N.sin(P),r,a,o,0,l,L,I,[P,k,C,A])}S=P-_;var D=N.cos(_),z=N.sin(_),E=N.cos(P),U=N.sin(P),O=N.tan(S/4),F=4/3*r*O,$=4/3*a*O,W=[t,i],G=[t+F*z,i-$*D],Q=[c+F*U,d-$*E],H=[c,d];if(G[0]=2*W[0]-G[0],G[1]=2*W[1]-G[1],u)return[G,Q,H][M](g);for(var V=[],Y=0,J=(g=[G,Q,H][M](g).join()[R](",")).length;Y<J;Y++)V[Y]=Y%2?f(g[Y-1],g[Y],h).y:f(g[Y],g[Y+1],h).x;return V},De=function(e,t,i,r,a,s,o,n,l){var c=1-l;return{x:W(c,3)*e+3*W(c,2)*l*i+3*c*l*l*a+W(l,3)*o,y:W(c,3)*t+3*W(c,2)*l*r+3*c*l*l*s+W(l,3)*n}},ze=s((function(e,t,i,r,a,s,o,n){var l,c=a-2*i+e-(o-2*a+i),d=2*(i-e)-2*(a-i),u=e-i,p=(-d+N.sqrt(d*d-4*c*u))/2/c,m=(-d-N.sqrt(d*d-4*c*u))/2/c,h=[t,n],g=[e,o];return j(p)>"1e12"&&(p=.5),j(m)>"1e12"&&(m=.5),p>0&&p<1&&(l=De(e,t,i,r,a,s,o,n,p),g.push(l.x),h.push(l.y)),m>0&&m<1&&(l=De(e,t,i,r,a,s,o,n,m),g.push(l.x),h.push(l.y)),c=s-2*r+t-(n-2*s+r),u=t-r,p=(-(d=2*(r-t)-2*(s-r))+N.sqrt(d*d-4*c*u))/2/c,m=(-d-N.sqrt(d*d-4*c*u))/2/c,j(p)>"1e12"&&(p=.5),j(m)>"1e12"&&(m=.5),p>0&&p<1&&(l=De(e,t,i,r,a,s,o,n,p),g.push(l.x),h.push(l.y)),m>0&&m<1&&(l=De(e,t,i,r,a,s,o,n,m),g.push(l.x),h.push(l.y)),{min:{x:$[k](0,g),y:$[k](0,h)},max:{x:F[k](0,g),y:F[k](0,h)}}})),Re=i._path2curve=s((function(e,t){var i=!t&&Ae(e);if(!t&&i.curve)return Pe(i.curve);for(var r=ke(e),a=t&&ke(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n=function(e,t,i){var r,a;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][M](Ie[k](0,[t.x,t.y][M](e.slice(1))));break;case"S":"C"==i||"S"==i?(r=2*t.x-t.bx,a=2*t.y-t.by):(r=t.x,a=t.y),e=["C",r,a][M](e.slice(1));break;case"T":"Q"==i||"T"==i?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][M](Le(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][M](Le(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][M](Me(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][M](Me(t.x,t.y,e[1],t.y));break;case"V":e=["C"][M](Me(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][M](Me(t.x,t.y,t.X,t.Y))}return e},l=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)e.splice(t++,0,["C"][M](i.splice(0,6)));e.splice(t,1),u=F(r.length,a&&a.length||0)}},c=function(e,t,i,s,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(t.splice(o,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=e[o][1],i.y=e[o][2],u=F(r.length,a&&a.length||0))},d=0,u=F(r.length,a&&a.length||0);d<u;d++){r[d]=n(r[d],s),l(r,d),a&&(a[d]=n(a[d],o)),a&&l(a,d),c(r,a,s,o,d),c(a,r,o,s,d);var p=r[d],m=a&&a[d],h=p.length,g=a&&m.length;s.x=p[h-2],s.y=p[h-1],s.bx=K(p[h-4])||s.x,s.by=K(p[h-3])||s.y,o.bx=a&&(K(m[g-4])||o.x),o.by=a&&(K(m[g-3])||o.y),o.x=a&&m[g-2],o.y=a&&m[g-1]}return a||(i.curve=Pe(r)),a?[r,a]:r}),null,Pe),Ee=(i._parseDots=s((function(e){for(var t=[],r=0,a=e.length;r<a;r++){var s={},o=e[r].match(/^([^:]*):?([\d\.]*)/);if(s.color=i.getRGB(o[1]),s.color.error)return null;s.color=s.color.hex,o[2]&&(s.offset=o[2]+"%"),t.push(s)}for(r=1,a=t.length-1;r<a;r++)if(!t[r].offset){for(var n=K(t[r-1].offset||0),l=0,c=r+1;c<a;c++)if(t[c].offset){l=t[c].offset;break}l||(l=100,c=a);for(var d=((l=K(l))-n)/(c-r+1);r<c;r++)n+=d,t[r].offset=n+"%"}return t})),i._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Ue=(i._tofront=function(e,t){t.top!==e&&(Ee(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},i._toback=function(e,t){t.bottom!==e&&(Ee(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},i._insertafter=function(e,t,i){Ee(e,i),t==i.top&&(i.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},i._insertbefore=function(e,t,i){Ee(e,i),t==i.bottom&&(i.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},i.toMatrix=function(e,t){var i=_e(e),r={_:{transform:I},getBBox:function(){return i}};return Oe(r,t),r.matrix}),Oe=(i.transformPath=function(e,t){return ge(e,Ue(e,t))},i._extractTransform=function(e,t){if(null==t)return e._.transform;t=z(t).replace(/\.{3}|\u2026/g,e._.transform||I);var r,a,s=i.parseTransformString(t),o=0,n=1,l=1,c=e._,d=new m;if(c.transform=s||[],s)for(var u=0,p=s.length;u<p;u++){var h,g,f,v,y,x=s[u],b=x.length,w=z(x[0]).toLowerCase(),T=x[0]!=w,C=T?d.invert():0;"t"==w&&3==b?T?(h=C.x(0,0),g=C.y(0,0),f=C.x(x[1],x[2]),v=C.y(x[1],x[2]),d.translate(f-h,v-g)):d.translate(x[1],x[2]):"r"==w?2==b?(y=y||e.getBBox(1),d.rotate(x[1],y.x+y.width/2,y.y+y.height/2),o+=x[1]):4==b&&(T?(f=C.x(x[2],x[3]),v=C.y(x[2],x[3]),d.rotate(x[1],f,v)):d.rotate(x[1],x[2],x[3]),o+=x[1]):"s"==w?2==b||3==b?(y=y||e.getBBox(1),d.scale(x[1],x[b-1],y.x+y.width/2,y.y+y.height/2),n*=x[1],l*=x[b-1]):5==b&&(T?(f=C.x(x[3],x[4]),v=C.y(x[3],x[4]),d.scale(x[1],x[2],f,v)):d.scale(x[1],x[2],x[3],x[4]),n*=x[1],l*=x[2]):"m"==w&&7==b&&d.add(x[1],x[2],x[3],x[4],x[5],x[6]),c.dirtyT=1,e.matrix=d}e.matrix=d,c.sx=n,c.sy=l,c.deg=o,c.dx=r=d.e,c.dy=a=d.f,1==n&&1==l&&!o&&c.bbox?(c.bbox.x+=+r,c.bbox.y+=+a):c.dirtyT=1}),Ne=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Fe=i._equaliseTransform=function(e,t){t=z(t).replace(/\.{3}|\u2026/g,e),e=i.parseTransformString(e)||[],t=i.parseTransformString(t)||[];for(var r,a,s,o,n=F(e.length,t.length),l=[],c=[],d=0;d<n;d++){if(s=e[d]||Ne(t[d]),o=t[d]||Ne(s),s[0]!=o[0]||"r"==s[0].toLowerCase()&&(s[2]!=o[2]||s[3]!=o[3])||"s"==s[0].toLowerCase()&&(s[3]!=o[3]||s[4]!=o[4]))return;for(l[d]=[],c[d]=[],r=0,a=F(s.length,o.length);r<a;r++)r in s&&(l[d][r]=s[r]),r in o&&(c[d][r]=o[r])}return{from:l,to:c}};i._getContainer=function(e,t,r,a){var s;if(null!=(s=null!=a||i.is(e,"object")?e:_.doc.getElementById(e)))return s.tagName?null==t?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:t,height:r}:{container:1,x:e,y:t,width:r,height:a}},i.pathToRelative=Se,i._engine={},i.path2curve=Re,i.matrix=function(e,t,i,r,a,s){return new m(e,t,i,r,a,s)},function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var i=N.sqrt(t(e));e[0]&&(e[0]/=i),e[1]&&(e[1]/=i)}e.add=function(e,t,i,r,a,s){var o,n,l,c,d=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[e,i,a],[t,r,s],[0,0,1]];for(e&&e instanceof m&&(p=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),o=0;o<3;o++)for(n=0;n<3;n++){for(c=0,l=0;l<3;l++)c+=u[o][l]*p[l][n];d[o][n]=c}this.a=d[0][0],this.b=d[1][0],this.c=d[0][1],this.d=d[1][1],this.e=d[0][2],this.f=d[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new m(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new m(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,i,r){null==t&&(t=e),(i||r)&&this.add(1,0,0,1,i,r),this.add(e,0,0,t,0,0),(i||r)&&this.add(1,0,0,1,-i,-r)},e.rotate=function(e,t,r){e=i.rad(e),t=t||0,r=r||0;var a=+N.cos(e).toFixed(9),s=+N.sin(e).toFixed(9);this.add(a,s,-s,a,t,r),this.add(1,0,0,1,-t,-r)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[z.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var a=[[this.a,this.c],[this.b,this.d]];e.scalex=N.sqrt(t(a[0])),r(a[0]),e.shear=a[0][0]*a[1][0]+a[0][1]*a[1][1],a[1]=[a[1][0]-a[0][0]*e.shear,a[1][1]-a[0][1]*e.shear],e.scaley=N.sqrt(t(a[1])),r(a[1]),e.shear/=e.scaley;var s=-a[0][1],o=a[1][1];return o<0?(e.rotate=i.deg(N.acos(o)),s<0&&(e.rotate=360-e.rotate)):e.rotate=i.deg(N.asin(s)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[R]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:I)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:I)+(t.rotate?"r"+[t.rotate,0,0]:I)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(m.prototype);var $e=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&($e&&$e[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&$e&&$e[1]<8?b.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout((function(){e.remove()}))}:b.safari=function(){};for(var je=function(){this.returnValue=!1},We=function(){return this.originalEvent.preventDefault()},Be=function(){this.cancelBubble=!0},Ge=function(){return this.originalEvent.stopPropagation()},Qe=function(e){var t=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,i=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;return{x:e.clientX+i,y:e.clientY+t}},He=_.doc.addEventListener?function(e,t,i,r){var a=function(e){var t=Qe(e);return i.call(r,e,t.x,t.y)};return e.addEventListener(t,a,!1),L&&U[t]&&e.addEventListener(U[t],(function(t){for(var a=Qe(t),s=t,o=0,n=t.targetTouches&&t.targetTouches.length;o<n;o++)if(t.targetTouches[o].target==e){(t=t.targetTouches[o]).originalEvent=s,t.preventDefault=We,t.stopPropagation=Ge;break}return i.call(r,t,a.x,a.y)}),!1),function(){return e.removeEventListener(t,a,!1),L&&U[t]&&e.removeEventListener(U[t],a,!1),!0}}:_.doc.attachEvent?function(e,t,i,r){var a=function(e){e=e||_.win.event;var t=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,a=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,s=e.clientX+a,o=e.clientY+t;return e.preventDefault=e.preventDefault||je,e.stopPropagation=e.stopPropagation||Be,i.call(r,e,s,o)};return e.attachEvent("on"+t,a),function(){return e.detachEvent("on"+t,a),!0}}:void 0,Ve=[],Ye=function(e){for(var i,r=e.clientX,a=e.clientY,s=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,o=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,n=Ve.length;n--;){if(i=Ve[n],L&&e.touches){for(var l,c=e.touches.length;c--;)if((l=e.touches[c]).identifier==i.el._drag.id){r=l.clientX,a=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var d,u=i.el.node,p=u.nextSibling,m=u.parentNode,h=u.style.display;_.win.opera&&m.removeChild(u),u.style.display="none",d=i.el.paper.getElementByPoint(r,a),u.style.display=h,_.win.opera&&(p?m.insertBefore(u,p):m.appendChild(u)),d&&t("raphael.drag.over."+i.el.id,i.el,d),r+=o,a+=s,t("raphael.drag.move."+i.el.id,i.move_scope||i.el,r-i.el._drag.x,a-i.el._drag.y,r,a,e)}},Je=function e(r){i.unmousemove(Ye).unmouseup(e);for(var a,s=Ve.length;s--;)(a=Ve[s]).el._drag={},t("raphael.drag.end."+a.el.id,a.end_scope||a.start_scope||a.move_scope||a.el,r);Ve=[]},Ze=i.el={},qe=E.length;qe--;)!function(e){i[e]=Ze[e]=function(t,r){return i.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:He(this.shape||this.node||_.doc,e,t,r||this)})),this},i["un"+e]=Ze["un"+e]=function(t){for(var r=this.events||[],a=r.length;a--;)r[a].name!=e||!i.is(t,"undefined")&&r[a].f!=t||(r[a].unbind(),r.splice(a,1),!r.length&&delete this.events);return this}}(E[qe]);Ze.data=function(e,r){var a=ce[this.id]=ce[this.id]||{};if(0==arguments.length)return a;if(1==arguments.length){if(i.is(e,"object")){for(var s in e)e[A](s)&&this.data(s,e[s]);return this}return t("raphael.data.get."+this.id,this,a[e],e),a[e]}return a[e]=r,t("raphael.data.set."+this.id,this,r,e),this},Ze.removeData=function(e){return null==e?ce[this.id]={}:ce[this.id]&&delete ce[this.id][e],this},Ze.getData=function(){return r(ce[this.id]||{})},Ze.hover=function(e,t,i,r){return this.mouseover(e,i).mouseout(t,r||i)},Ze.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var Ke=[];Ze.drag=function(e,r,a,s,o,n){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,d=l.clientY,u=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,p=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;if(this._drag.id=l.identifier,L&&l.touches)for(var m,h=l.touches.length;h--;)if(m=l.touches[h],this._drag.id=m.identifier,m.identifier==this._drag.id){c=m.clientX,d=m.clientY;break}this._drag.x=c+p,this._drag.y=d+u,!Ve.length&&i.mousemove(Ye).mouseup(Je),Ve.push({el:this,move_scope:s,start_scope:o,end_scope:n}),r&&t.on("raphael.drag.start."+this.id,r),e&&t.on("raphael.drag.move."+this.id,e),a&&t.on("raphael.drag.end."+this.id,a),t("raphael.drag.start."+this.id,o||s||this,l.clientX+p,l.clientY+u,l)}return this._drag={},Ke.push({el:this,start:l}),this.mousedown(l),this},Ze.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Ze.undrag=function(){for(var e=Ke.length;e--;)Ke[e].el==this&&(this.unmousedown(Ke[e].start),Ke.splice(e,1),t.unbind("raphael.drag.*."+this.id));!Ke.length&&i.unmousemove(Ye).unmouseup(Je),Ve=[]},b.circle=function(e,t,r){var a=i._engine.circle(this,e||0,t||0,r||0);return this.__set__&&this.__set__.push(a),a},b.rect=function(e,t,r,a,s){var o=i._engine.rect(this,e||0,t||0,r||0,a||0,s||0);return this.__set__&&this.__set__.push(o),o},b.ellipse=function(e,t,r,a){var s=i._engine.ellipse(this,e||0,t||0,r||0,a||0);return this.__set__&&this.__set__.push(s),s},b.path=function(e){e&&!i.is(e,Q)&&!i.is(e[0],H)&&(e+=I);var t=i._engine.path(i.format[k](i,arguments),this);return this.__set__&&this.__set__.push(t),t},b.image=function(e,t,r,a,s){var o=i._engine.image(this,e||"about:blank",t||0,r||0,a||0,s||0);return this.__set__&&this.__set__.push(o),o},b.text=function(e,t,r){var a=i._engine.text(this,e||0,t||0,z(r));return this.__set__&&this.__set__.push(a),a},b.set=function(e){!i.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new ct(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},b.setStart=function(e){this.__set__=e||this.set()},b.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},b.setSize=function(e,t){return i._engine.setSize.call(this,e,t)},b.setViewBox=function(e,t,r,a,s){return i._engine.setViewBox.call(this,e,t,r,a,s)},b.top=b.bottom=null,b.raphael=i;b.getElementByPoint=function(e,t){var i=this,r=i.canvas,a=_.doc.elementFromPoint(e,t);if(_.win.opera&&"svg"==a.tagName){var s=function(e){var t=e.getBoundingClientRect(),i=e.ownerDocument,r=i.body,a=i.documentElement,s=a.clientTop||r.clientTop||0,o=a.clientLeft||r.clientLeft||0;return{y:t.top+(_.win.pageYOffset||a.scrollTop||r.scrollTop)-s,x:t.left+(_.win.pageXOffset||a.scrollLeft||r.scrollLeft)-o}}(r),o=r.createSVGRect();o.x=e-s.x,o.y=t-s.y,o.width=o.height=1;var n=r.getIntersectionList(o,null);n.length&&(a=n[n.length-1])}if(!a)return null;for(;a.parentNode&&a!=r.parentNode&&!a.raphael;)a=a.parentNode;return a==i.canvas.parentNode&&(a=r),a=a&&a.raphael?i.getById(a.raphaelid):null},b.getElementsByBBox=function(e){var t=this.set();return this.forEach((function(r){i.isBBoxIntersect(r.getBBox(),e)&&t.push(r)})),t},b.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},b.forEach=function(e,t){for(var i=this.bottom;i;){if(!1===e.call(t,i))return this;i=i.next}return this},b.getElementsByPoint=function(e,t){var i=this.set();return this.forEach((function(r){r.isPointInside(e,t)&&i.push(r)})),i},Ze.isPointInside=function(e,t){var r=this.realPath=he[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=i.transformPath(r,this.attr("transform"))),i.isPointInsidePath(r,e,t)},Ze.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=he[this.type](this),t.bboxwt=_e(this.realPath),t.bboxwt.toString=h,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=he[this.type](this)),t.bbox=_e(ge(this.realPath,this.matrix)),t.bbox.toString=h,t.dirty=t.dirtyT=0),t.bbox)},Ze.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Ze.glow=function(e){if("text"==this.type)return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},i=t.width/2,r=this.paper,a=r.set(),s=this.realPath||he[this.type](this);s=this.matrix?ge(s,this.matrix):s;for(var o=1;o<i+1;o++)a.push(r.path(s).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/i*o).toFixed(3),opacity:+(t.opacity/i).toFixed(3)}));return a.insertBefore(this).translate(t.offsetx,t.offsety)};var Xe=function(e,t,r,a,s,o,n,l,d){return null==d?c(e,t,r,a,s,o,n,l):i.findDotsAtSegment(e,t,r,a,s,o,n,l,function(e,t,i,r,a,s,o,n,l){if(!(l<0||c(e,t,i,r,a,s,o,n)<l)){var d,u=.5,p=1-u;for(d=c(e,t,i,r,a,s,o,n,p);j(d-l)>.01;)d=c(e,t,i,r,a,s,o,n,p+=(d<l?1:-1)*(u/=2));return p}}(e,t,r,a,s,o,n,l,d))},et=function(e,t){return function(r,a,s){for(var o,n,l,c,d,u="",p={},m=0,h=0,g=(r=Re(r)).length;h<g;h++){if("M"==(l=r[h])[0])o=+l[1],n=+l[2];else{if(m+(c=Xe(o,n,l[1],l[2],l[3],l[4],l[5],l[6]))>a){if(t&&!p.start){if(u+=["C"+(d=Xe(o,n,l[1],l[2],l[3],l[4],l[5],l[6],a-m)).start.x,d.start.y,d.m.x,d.m.y,d.x,d.y],s)return u;p.start=u,u=["M"+d.x,d.y+"C"+d.n.x,d.n.y,d.end.x,d.end.y,l[5],l[6]].join(),m+=c,o=+l[5],n=+l[6];continue}if(!e&&!t)return{x:(d=Xe(o,n,l[1],l[2],l[3],l[4],l[5],l[6],a-m)).x,y:d.y,alpha:d.alpha}}m+=c,o=+l[5],n=+l[6]}u+=l.shift()+l}return p.end=u,(d=e?m:t?p:i.findDotsAtSegment(o,n,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(d={x:d.x,y:d.y,alpha:d.alpha}),d}},tt=et(1),it=et(),rt=et(0,1);i.getTotalLength=tt,i.getPointAtLength=it,i.getSubpath=function(e,t,i){if(this.getTotalLength(e)-i<1e-6)return rt(e,t).end;var r=rt(e,i,1);return t?rt(r,t).end:r},Ze.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():tt(e)},Ze.getPointAtLength=function(e){var t=this.getPath();if(t)return it(t,e)},Ze.getPath=function(){var e,t=i._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t&&(e=t(this)),e},Ze.getSubpath=function(e,t){var r=this.getPath();if(r)return i.getSubpath(r,e,t)};var at=i.easing_formulas={linear:function(e){return e},"<":function(e){return W(e,1.7)},">":function(e){return W(e,.48)},"<>":function(e){var t=.48-e/1.04,i=N.sqrt(.1734+t*t),r=i-t,a=-i-t,s=W(j(r),1/3)*(r<0?-1:1)+W(j(a),1/3)*(a<0?-1:1)+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:W(2,-10*e)*N.sin(2*(e-.075)*B/.3)+1},bounce:function(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}};at.easeIn=at["ease-in"]=at["<"],at.easeOut=at["ease-out"]=at[">"],at.easeInOut=at["ease-in-out"]=at["<>"],at["back-in"]=at.backIn,at["back-out"]=at.backOut;var st=[],ot=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},nt=function e(){for(var r=+new Date,a=0;a<st.length;a++){var s=st[a];if(!s.el.removed&&!s.paused){var o,n,l=r-s.start,c=s.ms,d=s.easing,u=s.from,p=s.diff,m=s.to,h=(s.t,s.el),g={},f={};if(s.initstatus?(l=(s.initstatus*s.anim.top-s.prev)/(s.percent-s.prev)*c,s.status=s.initstatus,delete s.initstatus,s.stop&&st.splice(a--,1)):s.status=(s.prev+(s.percent-s.prev)*(l/c))/s.anim.top,!(l<0))if(l<c){var y=d(l/c);for(var x in u)if(u[A](x)){switch(ie[x]){case G:o=+u[x]+y*c*p[x];break;case"colour":o="rgb("+[lt(q(u[x].r+y*c*p[x].r)),lt(q(u[x].g+y*c*p[x].g)),lt(q(u[x].b+y*c*p[x].b))].join(",")+")";break;case"path":o=[];for(var b=0,w=u[x].length;b<w;b++){o[b]=[u[x][b][0]];for(var T=1,C=u[x][b].length;T<C;T++)o[b][T]=+u[x][b][T]+y*c*p[x][b][T];o[b]=o[b].join(D)}o=o.join(D);break;case"transform":if(p[x].real)for(o=[],b=0,w=u[x].length;b<w;b++)for(o[b]=[u[x][b][0]],T=1,C=u[x][b].length;T<C;T++)o[b][T]=u[x][b][T]+y*c*p[x][b][T];else{var _=function(e){return+u[x][e]+y*c*p[x][e]};o=[["m",_(0),_(1),_(2),_(3),_(4),_(5)]]}break;case"csv":if("clip-rect"==x)for(o=[],b=4;b--;)o[b]=+u[x][b]+y*c*p[x][b];break;default:var P=[][M](u[x]);for(o=[],b=h.paper.customAttributes[x].length;b--;)o[b]=+P[b]+y*c*p[x][b]}g[x]=o}h.attr(g),function(e,i,r){setTimeout((function(){t("raphael.anim.frame."+e,i,r)}))}(h.id,h,s.anim)}else{if(function(e,r,a){setTimeout((function(){t("raphael.anim.frame."+r.id,r,a),t("raphael.anim.finish."+r.id,r,a),i.is(e,"function")&&e.call(r)}))}(s.callback,h,s.anim),h.attr(m),st.splice(a--,1),s.repeat>1&&!s.next){for(n in m)m[A](n)&&(f[n]=s.totalOrigin[n]);s.el.attr(f),v(s.anim,s.el,s.anim.percents[0],null,s.totalOrigin,s.repeat-1)}s.next&&!s.stop&&v(s.anim,s.el,s.next,null,s.totalOrigin,s.repeat)}}}i.svg&&h&&h.paper&&h.paper.safari(),st.length&&ot(e)},lt=function(e){return e>255?255:e<0?0:e};Ze.animateWith=function(e,t,r,a,s,o){var n=this;if(n.removed)return o&&o.call(n),n;var l=r instanceof f?r:i.animation(r,a,s,o);v(l,n,l.percents[0],null,n.attr());for(var c=0,d=st.length;c<d;c++)if(st[c].anim==t&&st[c].el==e){st[d-1].start=st[c].start;break}return n},Ze.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},f.prototype.delay=function(e){var t=new f(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},f.prototype.repeat=function(e){var t=new f(this.anim,this.ms);return t.del=this.del,t.times=N.floor(F(e,0))||1,t},i.animation=function(e,t,r,a){if(e instanceof f)return e;!i.is(r,"function")&&r||(a=a||r||null,r=null),e=Object(e),t=+t||0;var s,o,n={};for(o in e)e[A](o)&&K(o)!=o&&K(o)+"%"!=o&&(s=!0,n[o]=e[o]);return s?(r&&(n.easing=r),a&&(n.callback=a),new f({100:n},t)):new f(e,t)},Ze.animate=function(e,t,r,a){var s=this;if(s.removed)return a&&a.call(s),s;var o=e instanceof f?e:i.animation(e,t,r,a);return v(o,s,o.percents[0],null,s.attr()),s},Ze.setTime=function(e,t){return e&&null!=t&&this.status(e,$(t,e.ms)/e.ms),this},Ze.status=function(e,t){var i,r,a=[],s=0;if(null!=t)return v(e,this,-1,$(t,1)),this;for(i=st.length;s<i;s++)if((r=st[s]).el.id==this.id&&(!e||r.anim==e)){if(e)return r.status;a.push({anim:r.anim,status:r.status})}return e?0:a},Ze.pause=function(e){for(var i=0;i<st.length;i++)st[i].el.id!=this.id||e&&st[i].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,st[i].anim)&&(st[i].paused=!0);return this},Ze.resume=function(e){for(var i=0;i<st.length;i++)if(st[i].el.id==this.id&&(!e||st[i].anim==e)){var r=st[i];!1!==t("raphael.anim.resume."+this.id,this,r.anim)&&(delete r.paused,this.status(r.anim,r.status))}return this},Ze.stop=function(e){for(var i=0;i<st.length;i++)st[i].el.id!=this.id||e&&st[i].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,st[i].anim)&&st.splice(i--,1);return this},t.on("raphael.remove",y),t.on("raphael.clear",y),Ze.toString=function(){return"Raphaël’s object"};var ct=function e(t){if(this.items=[],this.length=0,this.type="set",t)for(var i=0,r=t.length;i<r;i++)!t[i]||t[i].constructor!=Ze.constructor&&t[i].constructor!=e||(this[this.items.length]=this.items[this.items.length]=t[i],this.length++)},dt=ct.prototype;for(var ut in dt.push=function(){for(var e,t,i=0,r=arguments.length;i<r;i++)!(e=arguments[i])||e.constructor!=Ze.constructor&&e.constructor!=ct||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},dt.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},dt.forEach=function(e,t){for(var i=0,r=this.items.length;i<r;i++)if(!1===e.call(t,this.items[i],i))return this;return this},Ze)Ze[A](ut)&&(dt[ut]=function(e){return function(){var t=arguments;return this.forEach((function(i){i[e][k](i,t)}))}}(ut));dt.attr=function(e,t){if(e&&i.is(e,H)&&i.is(e[0],"object"))for(var r=0,a=e.length;r<a;r++)this.items[r].attr(e[r]);else for(var s=0,o=this.items.length;s<o;s++)this.items[s].attr(e,t);return this},dt.clear=function(){for(;this.length;)this.pop()},dt.splice=function(e,t,i){e=e<0?F(this.length+e,0):e,t=F(0,$(this.length-e,t));var r,a=[],s=[],o=[];for(r=2;r<arguments.length;r++)o.push(arguments[r]);for(r=0;r<t;r++)s.push(this[e+r]);for(;r<this.length-e;r++)a.push(this[e+r]);var n=o.length;for(r=0;r<n+a.length;r++)this.items[e+r]=this[e+r]=r<n?o[r]:a[r-n];for(r=this.items.length=this.length-=t-n;this[r];)delete this[r++];return new ct(s)},dt.exclude=function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]==e)return this.splice(t,1),!0},dt.animate=function(e,t,r,a){(i.is(r,"function")||!r)&&(a=r||null);var s,o,n=this.items.length,l=n,c=this;if(!n)return this;a&&(o=function(){!--n&&a.call(c)}),r=i.is(r,Q)?r:o;var d=i.animation(e,t,r,o);for(s=this.items[--l].animate(d);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,d,d),this.items[l]&&!this.items[l].removed||n--;return this},dt.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},dt.getBBox=function(){for(var e=[],t=[],i=[],r=[],a=this.items.length;a--;)if(!this.items[a].removed){var s=this.items[a].getBBox();e.push(s.x),t.push(s.y),i.push(s.x+s.width),r.push(s.y+s.height)}return{x:e=$[k](0,e),y:t=$[k](0,t),x2:i=F[k](0,i),y2:r=F[k](0,r),width:i-e,height:r-t}},dt.clone=function(e){e=this.paper.set();for(var t=0,i=this.items.length;t<i;t++)e.push(this.items[t].clone());return e},dt.toString=function(){return"Raphaël‘s set"},dt.glow=function(e){var t=this.paper.set();return this.forEach((function(i,r){var a=i.glow(e);null!=a&&a.forEach((function(e,i){t.push(e)}))})),t},dt.isPointInside=function(e,t){var i=!1;return this.forEach((function(r){if(r.isPointInside(e,t))return i=!0,!1})),i},i.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var r in e.face)e.face[A](r)&&(t.face[r]=e.face[r]);if(this.fonts[i]?this.fonts[i].push(t):this.fonts[i]=[t],!e.svg)for(var a in t.face["units-per-em"]=X(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[A](a)){var s=e.glyphs[a];if(t.glyphs[a]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,(function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"}))+"z"},s.k)for(var o in s.k)s[A](o)&&(t.glyphs[a].k[o]=s.k[o])}return e},b.getFont=function(e,t,r,a){if(a=a||"normal",r=r||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,i.fonts){var s,o=i.fonts[e];if(!o){var n=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,I)+"(\\s|$)","i");for(var l in i.fonts)if(i.fonts[A](l)&&n.test(l)){o=i.fonts[l];break}}if(o)for(var c=0,d=o.length;c<d&&((s=o[c]).face["font-weight"]!=t||s.face["font-style"]!=r&&s.face["font-style"]||s.face["font-stretch"]!=a);c++);return s}},b.print=function(e,t,r,a,s,o,n,l){o=o||"middle",n=F($(n||0,1),-1),l=F($(l||1,3),1);var c,d=z(r)[R](I),u=0,p=0,m=I;if(i.is(a,"string")&&(a=this.getFont(a)),a){c=(s||16)/a.face["units-per-em"];for(var h=a.face.bbox[R](w),g=+h[0],f=h[3]-h[1],v=0,y=+h[1]+("baseline"==o?f+ +a.face.descent:f/2),x=0,b=d.length;x<b;x++){if("\n"==d[x])u=0,C=0,p=0,v+=f*l;else{var T=p&&a.glyphs[d[x-1]]||{},C=a.glyphs[d[x]];u+=p?(T.w||a.w)+(T.k&&T.k[d[x]]||0)+a.w*n:0,p=1}C&&C.d&&(m+=i.transformPath(C.d,["t",u*c,v*c,"s",c,c,g,y,"t",(e-g)/c,(t-y)/c]))}}return this.path(m).attr({fill:"#000",stroke:"none"})},b.add=function(e){if(i.is(e,"array"))for(var t,r=this.set(),a=0,s=e.length;a<s;a++)t=e[a]||{},T[A](t.type)&&r.push(this[t.type]().attr(t));return r},i.format=function(e,t){var r=i.is(t,H)?[0][M](t):arguments;return e&&i.is(e,Q)&&r.length-1&&(e=e.replace(C,(function(e,t){return null==r[++t]?I:r[t]}))),e||I},i.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(e,i,r){var a=r;return i.replace(t,(function(e,t,i,r,s){t=t||r,a&&(t in a&&(a=a[t]),"function"==typeof a&&s&&(a=a()))})),a=(null==a||a==r?e:a)+""};return function(t,r){return String(t).replace(e,(function(e,t){return i(e,t,r)}))}}(),i.ninja=function(){return P.was?_.win.Raphael=P.is:Raphael=void 0,i},i.st=dt,function(e,t,r){null==e.readyState&&e.addEventListener&&(e.addEventListener(t,r=function(){e.removeEventListener(t,r,!1),e.readyState="complete"},!1),e.readyState="loading"),function t(){/in/.test(e.readyState)?setTimeout(t,9):i.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),t.on("raphael.DOMload",(function(){x=!0})),function(){if(i.svg){var e="hasOwnProperty",t=String,r=parseFloat,a=parseInt,s=Math,o=s.max,n=s.abs,l=s.pow,c=/[, ]+/,d=i.eve,u="",p=" ",m="http://www.w3.org/1999/xlink",h={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};i.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var f=function r(a,s){if(s)for(var o in"string"==typeof a&&(a=r(a)),s)s[e](o)&&("xlink:"==o.substring(0,6)?a.setAttributeNS(m,o.substring(6),t(s[o])):a.setAttribute(o,t(s[o])));else(a=i._g.doc.createElementNS("http://www.w3.org/2000/svg",a)).style&&(a.style.webkitTapHighlightColor="rgba(0,0,0,0)");return a},v=function(e,a){var c="linear",d=e.id+a,p=.5,m=.5,h=e.node,g=e.paper,v=h.style,y=i._g.doc.getElementById(d);if(!y){if(a=(a=t(a).replace(i._radial_gradient,(function(e,t,i){if(c="radial",t&&i){p=r(t);var a=2*((m=r(i))>.5)-1;l(p-.5,2)+l(m-.5,2)>.25&&(m=s.sqrt(.25-l(p-.5,2))*a+.5)&&.5!=m&&(m=m.toFixed(5)-1e-5*a)}return u}))).split(/\s*\-\s*/),"linear"==c){var x=a.shift();if(x=-r(x),isNaN(x))return null;var b=[0,0,s.cos(i.rad(x)),s.sin(i.rad(x))],w=1/(o(n(b[2]),n(b[3]))||1);b[2]*=w,b[3]*=w,b[2]<0&&(b[0]=-b[2],b[2]=0),b[3]<0&&(b[1]=-b[3],b[3]=0)}var T=i._parseDots(a);if(!T)return null;if(d=d.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&d!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=f(c+"Gradient",{id:d}),e.gradient=y,f(y,"radial"==c?{fx:p,fy:m}:{x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var C=0,A=T.length;C<A;C++)y.appendChild(f("stop",{offset:T[C].offset?T[C].offset:C?"100%":"0%","stop-color":T[C].color||"#fff"}))}}return f(h,{fill:"url(#"+d+")",opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},y=function(e){var t=e.getBBox(1);f(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},x=function(r,a,s){if("path"==r.type){for(var o,n,l,c,d,p=t(a).toLowerCase().split("-"),m=r.paper,v=s?"end":"start",y=r.node,x=r.attrs,b=x["stroke-width"],w=p.length,T="classic",C=3,A=3,_=5;w--;)switch(p[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":T=p[w];break;case"wide":A=5;break;case"narrow":A=2;break;case"long":C=5;break;case"short":C=2}if("open"==T?(C+=2,A+=2,_+=2,l=1,c=s?4:1,d={fill:"none",stroke:x.stroke}):(c=l=C/2,d={fill:x.stroke,stroke:"none"}),r._.arrows?s?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=T){var P="raphael-marker-"+T,S="raphael-marker-"+v+T+C+A;i._g.doc.getElementById(P)?g[P]++:(m.defs.appendChild(f(f("path"),{"stroke-linecap":"round",d:h[T],id:P})),g[P]=1);var k,M=i._g.doc.getElementById(S);M?(g[S]++,k=M.getElementsByTagName("use")[0]):(M=f(f("marker"),{id:S,markerHeight:A,markerWidth:C,orient:"auto",refX:c,refY:A/2}),k=f(f("use"),{"xlink:href":"#"+P,transform:(s?"rotate(180 "+C/2+" "+A/2+") ":u)+"scale("+C/_+","+A/_+")","stroke-width":(1/((C/_+A/_)/2)).toFixed(4)}),M.appendChild(k),m.defs.appendChild(M),g[S]=1),f(k,d);var L=l*("diamond"!=T&&"oval"!=T);s?(o=r._.arrows.startdx*b||0,n=i.getTotalLength(x.path)-L*b):(o=L*b,n=i.getTotalLength(x.path)-(r._.arrows.enddx*b||0)),(d={})["marker-"+v]="url(#"+S+")",(n||o)&&(d.d=i.getSubpath(x.path,o,n)),f(y,d),r._.arrows[v+"Path"]=P,r._.arrows[v+"Marker"]=S,r._.arrows[v+"dx"]=L,r._.arrows[v+"Type"]=T,r._.arrows[v+"String"]=a}else s?(o=r._.arrows.startdx*b||0,n=i.getTotalLength(x.path)-o):(o=0,n=i.getTotalLength(x.path)-(r._.arrows.enddx*b||0)),r._.arrows[v+"Path"]&&f(y,{d:i.getSubpath(x.path,o,n)}),delete r._.arrows[v+"Path"],delete r._.arrows[v+"Marker"],delete r._.arrows[v+"dx"],delete r._.arrows[v+"Type"],delete r._.arrows[v+"String"];for(d in g)if(g[e](d)&&!g[d]){var I=i._g.doc.getElementById(d);I&&I.parentNode.removeChild(I)}}},b={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(e,i,r){if(i=b[t(i).toLowerCase()]){for(var a=e.attrs["stroke-width"]||"1",s={round:a,square:a,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],n=i.length;n--;)o[n]=i[n]*a+(n%2?1:-1)*s;f(e.node,{"stroke-dasharray":o.join(",")})}},T=function(r,s){var l=r.node,d=r.attrs,p=l.style.visibility;for(var h in l.style.visibility="hidden",s)if(s[e](h)){if(!i._availableAttrs[e](h))continue;var g=s[h];switch(d[h]=g,h){case"blur":r.blur(g);break;case"title":var b=l.getElementsByTagName("title");if(b.length&&(b=b[0]))b.firstChild.nodeValue=g;else{b=f("title");var T=i._g.doc.createTextNode(g);b.appendChild(T),l.appendChild(b)}break;case"href":case"target":var A=l.parentNode;if("a"!=A.tagName.toLowerCase()){var _=f("a");A.insertBefore(_,l),_.appendChild(l),A=_}"target"==h?A.setAttributeNS(m,"show","blank"==g?"new":g):A.setAttributeNS(m,h,g);break;case"cursor":l.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":x(r,g);break;case"arrow-end":x(r,g,1);break;case"clip-rect":var P=t(g).split(c);if(4==P.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var S=f("clipPath"),k=f("rect");S.id=i.createUUID(),f(k,{x:P[0],y:P[1],width:P[2],height:P[3]}),S.appendChild(k),r.paper.defs.appendChild(S),f(l,{"clip-path":"url(#"+S.id+")"}),r.clip=k}if(!g){var M=l.getAttribute("clip-path");if(M){var L=i._g.doc.getElementById(M.replace(/(^url\(#|\)$)/g,u));L&&L.parentNode.removeChild(L),f(l,{"clip-path":u}),delete r.clip}}break;case"path":"path"==r.type&&(f(l,{d:g?d.path=i._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1)));break;case"width":if(l.setAttribute(h,g),r._.dirty=1,!d.fx)break;h="x",g=d.x;case"x":d.fx&&(g=-d.x-(d.width||0));case"rx":if("rx"==h&&"rect"==r.type)break;case"cx":l.setAttribute(h,g),r.pattern&&y(r),r._.dirty=1;break;case"height":if(l.setAttribute(h,g),r._.dirty=1,!d.fy)break;h="y",g=d.y;case"y":d.fy&&(g=-d.y-(d.height||0));case"ry":if("ry"==h&&"rect"==r.type)break;case"cy":l.setAttribute(h,g),r.pattern&&y(r),r._.dirty=1;break;case"r":"rect"==r.type?f(l,{rx:g,ry:g}):l.setAttribute(h,g),r._.dirty=1;break;case"src":"image"==r.type&&l.setAttributeNS(m,"href",g);break;case"stroke-width":1==r._.sx&&1==r._.sy||(g/=o(n(r._.sx),n(r._.sy))||1),r.paper._vbSize&&(g*=r.paper._vbSize),l.setAttribute(h,g),d["stroke-dasharray"]&&w(r,d["stroke-dasharray"],s),r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"stroke-dasharray":w(r,g,s);break;case"fill":var I=t(g).match(i._ISURL);if(I){S=f("pattern");var D=f("image");S.id=i.createUUID(),f(S,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),f(D,{x:0,y:0,"xlink:href":I[1]}),S.appendChild(D),function(e){i._preload(I[1],(function(){var t=this.offsetWidth,i=this.offsetHeight;f(e,{width:t,height:i}),f(D,{width:t,height:i}),r.paper.safari()}))}(S),r.paper.defs.appendChild(S),f(l,{fill:"url(#"+S.id+")"}),r.pattern=S,r.pattern&&y(r);break}var z=i.getRGB(g);if(z.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=t(g).charAt())&&v(r,g)){if("opacity"in d||"fill-opacity"in d){var R=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(R){var E=R.getElementsByTagName("stop");f(E[E.length-1],{"stop-opacity":("opacity"in d?d.opacity:1)*("fill-opacity"in d?d["fill-opacity"]:1)})}}d.gradient=g,d.fill="none";break}}else delete s.gradient,delete d.gradient,!i.is(d.opacity,"undefined")&&i.is(s.opacity,"undefined")&&f(l,{opacity:d.opacity}),!i.is(d["fill-opacity"],"undefined")&&i.is(s["fill-opacity"],"undefined")&&f(l,{"fill-opacity":d["fill-opacity"]});z[e]("opacity")&&f(l,{"fill-opacity":z.opacity>1?z.opacity/100:z.opacity});case"stroke":z=i.getRGB(g),l.setAttribute(h,z.hex),"stroke"==h&&z[e]("opacity")&&f(l,{"stroke-opacity":z.opacity>1?z.opacity/100:z.opacity}),"stroke"==h&&r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=t(g).charAt())&&v(r,g);break;case"opacity":d.gradient&&!d[e]("stroke-opacity")&&f(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(d.gradient){(R=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)))&&(E=R.getElementsByTagName("stop"),f(E[E.length-1],{"stop-opacity":g}));break}default:"font-size"==h&&(g=a(g,10)+"px");var U=h.replace(/(\-.)/g,(function(e){return e.substring(1).toUpperCase()}));l.style[U]=g,r._.dirty=1,l.setAttribute(h,g)}}C(r,s),l.style.visibility=p},C=function(r,s){if("text"==r.type&&(s[e]("text")||s[e]("font")||s[e]("font-size")||s[e]("x")||s[e]("y"))){var o=r.attrs,n=r.node,l=n.firstChild?a(i._g.doc.defaultView.getComputedStyle(n.firstChild,u).getPropertyValue("font-size"),10):10;if(s[e]("text")){for(o.text=s.text;n.firstChild;)n.removeChild(n.firstChild);for(var c,d=t(s.text).split("\n"),p=[],m=0,h=d.length;m<h;m++)c=f("tspan"),m&&f(c,{dy:1.2*l,x:o.x}),c.appendChild(i._g.doc.createTextNode(d[m])),n.appendChild(c),p[m]=c}else for(m=0,h=(p=n.getElementsByTagName("tspan")).length;m<h;m++)m?f(p[m],{dy:1.2*l,x:o.x}):f(p[0],{dy:0});f(n,{x:o.x,y:o.y}),r._.dirty=1;var g=r._getBBox(),v=o.y-(g.y+g.height/2);v&&i.is(v,"finite")&&f(p[0],{dy:v})}},A=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},_=i.el;A.prototype=_,_.constructor=A,i._engine.path=function(e,t){var i=f("path");t.canvas&&t.canvas.appendChild(i);var r=new A(i,t);return r.type="path",T(r,{fill:"none",stroke:"#000",path:e}),r},_.rotate=function(e,i,a){if(this.removed)return this;if((e=t(e).split(c)).length-1&&(i=r(e[1]),a=r(e[2])),e=r(e[0]),null==a&&(i=a),null==i||null==a){var s=this.getBBox(1);i=s.x+s.width/2,a=s.y+s.height/2}return this.transform(this._.transform.concat([["r",e,i,a]])),this},_.scale=function(e,i,a,s){if(this.removed)return this;if((e=t(e).split(c)).length-1&&(i=r(e[1]),a=r(e[2]),s=r(e[3])),e=r(e[0]),null==i&&(i=e),null==s&&(a=s),null==a||null==s)var o=this.getBBox(1);return a=null==a?o.x+o.width/2:a,s=null==s?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",e,i,a,s]])),this},_.translate=function(e,i){return this.removed?this:((e=t(e).split(c)).length-1&&(i=r(e[1])),e=r(e[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",e,i]])),this)},_.transform=function(t){var r=this._;if(null==t)return r.transform;if(i._extractTransform(this,t),this.clip&&f(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&f(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var a=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":a})}return this},_.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},_.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},_.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;for(var t in e.__set__&&e.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),i._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;this.removed=!0}},_._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(e){}finally{t=t||{}}return e&&this.hide(),t},_.attr=function(t,r){if(this.removed)return this;if(null==t){var a={};for(var s in this.attrs)this.attrs[e](s)&&(a[s]=this.attrs[s]);return a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient,a.transform=this._.transform,a}if(null==r&&i.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var o=t.split(c),n={},l=0,u=o.length;l<u;l++)(t=o[l])in this.attrs?n[t]=this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?n[t]=this.paper.customAttributes[t].def:n[t]=i._availableAttrs[t];return u-1?n:n[o[0]]}if(null==r&&i.is(t,"array")){for(n={},l=0,u=t.length;l<u;l++)n[t[l]]=this.attr(t[l]);return n}if(null!=r){var p={};p[t]=r}else null!=t&&i.is(t,"object")&&(p=t);for(var m in p)d("raphael.attr."+m+"."+this.id,this,p[m]);for(m in this.paper.customAttributes)if(this.paper.customAttributes[e](m)&&p[e](m)&&i.is(this.paper.customAttributes[m],"function")){var h=this.paper.customAttributes[m].apply(this,[].concat(p[m]));for(var g in this.attrs[m]=p[m],h)h[e](g)&&(p[g]=h[g])}return T(this,p),this},_.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&i._tofront(this,e),this},_.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper);this.paper;return this},_.insertAfter=function(e){if(this.removed)return this;var t=e.node||e[e.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this},_.insertBefore=function(e){if(this.removed)return this;var t=e.node||e[0].node;return t.parentNode.insertBefore(this.node,t),i._insertbefore(this,e,this.paper),this},_.blur=function(e){var t=this;if(0!=+e){var r=f("filter"),a=f("feGaussianBlur");t.attrs.blur=e,r.id=i.createUUID(),f(a,{stdDeviation:+e||1.5}),r.appendChild(a),t.paper.defs.appendChild(r),t._blur=r,f(t.node,{filter:"url(#"+r.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},i._engine.circle=function(e,t,i,r){var a=f("circle");e.canvas&&e.canvas.appendChild(a);var s=new A(a,e);return s.attrs={cx:t,cy:i,r:r,fill:"none",stroke:"#000"},s.type="circle",f(a,s.attrs),s},i._engine.rect=function(e,t,i,r,a,s){var o=f("rect");e.canvas&&e.canvas.appendChild(o);var n=new A(o,e);return n.attrs={x:t,y:i,width:r,height:a,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},n.type="rect",f(o,n.attrs),n},i._engine.ellipse=function(e,t,i,r,a){var s=f("ellipse");e.canvas&&e.canvas.appendChild(s);var o=new A(s,e);return o.attrs={cx:t,cy:i,rx:r,ry:a,fill:"none",stroke:"#000"},o.type="ellipse",f(s,o.attrs),o},i._engine.image=function(e,t,i,r,a,s){var o=f("image");f(o,{x:i,y:r,width:a,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(m,"href",t),e.canvas&&e.canvas.appendChild(o);var n=new A(o,e);return n.attrs={x:i,y:r,width:a,height:s,src:t},n.type="image",n},i._engine.text=function(e,t,r,a){var s=f("text");e.canvas&&e.canvas.appendChild(s);var o=new A(s,e);return o.attrs={x:t,y:r,"text-anchor":"middle",text:a,font:i._availableAttrs.font,stroke:"none",fill:"#000"},o.type="text",T(o,o.attrs),o},i._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e&&e.container,r=e.x,a=e.y,s=e.width,o=e.height;if(!t)throw new Error("SVG container not found.");var n,l=f("svg"),c="overflow:hidden;";return r=r||0,a=a||0,f(l,{height:o=o||342,version:1.1,width:s=s||512,xmlns:"http://www.w3.org/2000/svg"}),1==t?(l.style.cssText=c+"position:absolute;left:"+r+"px;top:"+a+"px",i._g.doc.body.appendChild(l),n=1):(l.style.cssText=c+"position:relative",t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l)),(t=new i._Paper).width=s,t.height=o,t.canvas=l,t.clear(),t._left=t._top=0,n&&(t.renderfix=function(){}),t.renderfix(),t},i._engine.setViewBox=function(e,t,i,r,a){d("raphael.setViewBox",this,this._viewBox,[e,t,i,r,a]);var s,n,l=o(i/this.width,r/this.height),c=this.top,u=a?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(l=1),delete this._vbSize,s="0 0 "+this.width+p+this.height):(this._vbSize=l,s=e+p+t+p+i+p+r),f(this.canvas,{viewBox:s,preserveAspectRatio:u});l&&c;)n="stroke-width"in c.attrs?c.attrs["stroke-width"]:1,c.attr({"stroke-width":n}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[e,t,i,r,!!a],this},i.prototype.renderfix=function(){var e,t=this.canvas,i=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(i){e=t.createSVGMatrix()}var r=-e.e%1,a=-e.f%1;(r||a)&&(r&&(this._left=(this._left+r)%1,i.left=this._left+"px"),a&&(this._top=(this._top+a)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=f("desc")).appendChild(i._g.doc.createTextNode("Created with Raphaël "+i.version)),e.appendChild(this.desc),e.appendChild(this.defs=f("defs"))},i.prototype.remove=function(){for(var e in d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?i._removedFactory(e):null};var P=i.st;for(var S in _)_[e](S)&&!P[e](S)&&(P[S]=function(e){return function(){var t=arguments;return this.forEach((function(i){i[e].apply(i,t)}))}}(S))}}(),function(){if(i.vml){var e="hasOwnProperty",t=String,r=parseFloat,a=Math,s=a.round,o=a.max,n=a.min,l=a.abs,c="fill",d=/[, ]+/,u=i.eve,p=" ",m="",h={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,f=/ progid:\S+Blur\([^\)]+\)/g,v=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px",x=21600,b={path:1,rect:1,image:1},w={circle:1,ellipse:1},T=function(e){var r=/[ahqstv]/gi,a=i._pathToAbsolute;if(t(e).match(r)&&(a=i._path2curve),r=/[clmz]/g,a==i._pathToAbsolute&&!t(e).match(r)){var o=t(e).replace(g,(function(e,t,i){var r=[],a="m"==t.toLowerCase(),o=h[t];return i.replace(v,(function(e){a&&2==r.length&&(o+=r+h["m"==t?"l":"L"],r=[]),r.push(s(e*x))})),o+r}));return o}var n,l,c=a(e);o=[];for(var d=0,u=c.length;d<u;d++){n=c[d],"z"==(l=c[d][0].toLowerCase())&&(l="x");for(var f=1,y=n.length;f<y;f++)l+=s(n[f]*x)+(f!=y-1?",":m);o.push(l)}return o.join(p)},C=function(e,t,r){var a=i.matrix();return a.rotate(-e,.5,.5),{dx:a.x(t,r),dy:a.y(t,r)}},A=function(e,t,i,r,a,s){var o=e._,n=e.matrix,d=o.fillpos,u=e.node,m=u.style,h=1,g="",f=x/t,v=x/i;if(m.visibility="hidden",t&&i){if(u.coordsize=l(f)+p+l(v),m.rotation=s*(t*i<0?-1:1),s){var y=C(s,r,a);r=y.dx,a=y.dy}if(t<0&&(g+="x"),i<0&&(g+=" y")&&(h=-1),m.flip=g,u.coordorigin=r*-f+p+a*-v,d||o.fillsize){var b=u.getElementsByTagName(c);b=b&&b[0],u.removeChild(b),d&&(y=C(s,n.x(d[0],d[1]),n.y(d[0],d[1])),b.position=y.dx*h+p+y.dy*h),o.fillsize&&(b.size=o.fillsize[0]*l(t)+p+o.fillsize[1]*l(i)),u.appendChild(b)}m.visibility="visible"}};i.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var _,P=function(e,i,r){for(var a=t(i).toLowerCase().split("-"),s=r?"end":"start",o=a.length,n="classic",l="medium",c="medium";o--;)switch(a[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":n=a[o];break;case"wide":case"narrow":c=a[o];break;case"long":case"short":l=a[o]}var d=e.node.getElementsByTagName("stroke")[0];d[s+"arrow"]=n,d[s+"arrowlength"]=l,d[s+"arrowwidth"]=c},S=function(a,l){a.attrs=a.attrs||{};var u=a.node,h=a.attrs,g=u.style,f=b[a.type]&&(l.x!=h.x||l.y!=h.y||l.width!=h.width||l.height!=h.height||l.cx!=h.cx||l.cy!=h.cy||l.rx!=h.rx||l.ry!=h.ry||l.r!=h.r),v=w[a.type]&&(h.cx!=l.cx||h.cy!=l.cy||h.r!=l.r||h.rx!=l.rx||h.ry!=l.ry),y=a;for(var C in l)l[e](C)&&(h[C]=l[C]);if(f&&(h.path=i._getPath[a.type](a),a._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&a.blur(l.blur),(l.path&&"path"==a.type||f)&&(u.path=T(~t(h.path).toLowerCase().indexOf("r")?i._pathToAbsolute(h.path):h.path),"image"==a.type&&(a._.fillpos=[h.x,h.y],a._.fillsize=[h.width,h.height],A(a,1,1,0,0,0))),"transform"in l&&a.transform(l.transform),v){var S=+h.cx,M=+h.cy,L=+h.rx||+h.r||0,I=+h.ry||+h.r||0;u.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((S-L)*x),s((M-I)*x),s((S+L)*x),s((M+I)*x),s(S*x)),a._.dirty=1}if("clip-rect"in l){var D=t(l["clip-rect"]).split(d);if(4==D.length){D[2]=+D[2]+ +D[0],D[3]=+D[3]+ +D[1];var z=u.clipRect||i._g.doc.createElement("div"),R=z.style;R.clip=i.format("rect({1}px {2}px {3}px {0}px)",D),u.clipRect||(R.position="absolute",R.top=0,R.left=0,R.width=a.paper.width+"px",R.height=a.paper.height+"px",u.parentNode.insertBefore(z,u),z.appendChild(u),u.clipRect=z)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(a.textpath){var E=a.textpath.style;l.font&&(E.font=l.font),l["font-family"]&&(E.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,m)+'"'),l["font-size"]&&(E.fontSize=l["font-size"]),l["font-weight"]&&(E.fontWeight=l["font-weight"]),l["font-style"]&&(E.fontStyle=l["font-style"])}if("arrow-start"in l&&P(y,l["arrow-start"]),"arrow-end"in l&&P(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var U=u.getElementsByTagName(c);if(!(U=U&&U[0])&&(U=_(c)),"image"==a.type&&l.src&&(U.src=l.src),l.fill&&(U.on=!0),null!=U.on&&"none"!=l.fill&&null!==l.fill||(U.on=!1),U.on&&l.fill){var O=t(l.fill).match(i._ISURL);if(O){U.parentNode==u&&u.removeChild(U),U.rotate=!0,U.src=O[1],U.type="tile";var N=a.getBBox(1);U.position=N.x+p+N.y,a._.fillpos=[N.x,N.y],i._preload(O[1],(function(){a._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else U.color=i.getRGB(l.fill).hex,U.src=m,U.type="solid",i.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=t(l.fill).charAt())&&k(y,l.fill,U)&&(h.fill="none",h.gradient=l.fill,U.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var F=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);F=n(o(F,0),1),U.opacity=F,U.src&&(U.color="none")}u.appendChild(U);var $=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],j=!1;!$&&(j=$=_("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&($.on=!0),("none"==l.stroke||null===l.stroke||null==$.on||0==l.stroke||0==l["stroke-width"])&&($.on=!1);var W=i.getRGB(l.stroke);$.on&&l.stroke&&($.color=W.hex),F=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+W.o+1||2)-1);var B=.75*(r(l["stroke-width"])||1);if(F=n(o(F,0),1),null==l["stroke-width"]&&(B=h["stroke-width"]),l["stroke-width"]&&($.weight=B),B&&B<1&&(F*=B)&&($.weight=1),$.opacity=F,l["stroke-linejoin"]&&($.joinstyle=l["stroke-linejoin"]||"miter"),$.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&($.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var G={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};$.dashstyle=G[e](l["stroke-dasharray"])?G[l["stroke-dasharray"]]:m}j&&u.appendChild($)}if("text"==y.type){y.paper.canvas.style.display=m;var Q=y.paper.span,H=h.font&&h.font.match(/\d+(?:\.\d*)?(?=px)/);g=Q.style,h.font&&(g.font=h.font),h["font-family"]&&(g.fontFamily=h["font-family"]),h["font-weight"]&&(g.fontWeight=h["font-weight"]),h["font-style"]&&(g.fontStyle=h["font-style"]),H=r(h["font-size"]||H&&H[0])||10,g.fontSize=100*H+"px",y.textpath.string&&(Q.innerHTML=t(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var V=Q.getBoundingClientRect();y.W=h.w=(V.right-V.left)/100,y.H=h.h=(V.bottom-V.top)/100,y.X=h.x,y.Y=h.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=i.format("m{0},{1}l{2},{1}",s(h.x*x),s(h.y*x),s(h.x*x)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,Z=Y.length;J<Z;J++)if(Y[J]in l){y._.dirty=1;break}switch(h["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},k=function(e,s,o){e.attrs=e.attrs||{};e.attrs;var n=Math.pow,l="linear",c=".5 .5";if(e.attrs.gradient=s,s=(s=t(s).replace(i._radial_gradient,(function(e,t,i){return l="radial",t&&i&&(t=r(t),i=r(i),n(t-.5,2)+n(i-.5,2)>.25&&(i=a.sqrt(.25-n(t-.5,2))*(2*(i>.5)-1)+.5),c=t+p+i),m}))).split(/\s*\-\s*/),"linear"==l){var d=s.shift();if(d=-r(d),isNaN(d))return null}var u=i._parseDots(s);if(!u)return null;if(e=e.shape||e.node,u.length){e.removeChild(o),o.on=!0,o.method="none",o.color=u[0].color,o.color2=u[u.length-1].color;for(var h=[],g=0,f=u.length;g<f;g++)u[g].offset&&h.push(u[g].offset+p+u[g].color);o.colors=h.length?h.join():"0% "+o.color,"radial"==l?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=c,o.angle=0):(o.type="gradient",o.angle=(270-d)%360),e.appendChild(o)}return 1},M=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},L=i.el;M.prototype=L,L.constructor=M,L.transform=function(e){if(null==e)return this._.transform;var r,a=this.paper._viewBoxShift,s=a?"s"+[a.scale,a.scale]+"-1-1t"+[a.dx,a.dy]:m;a&&(r=e=t(e).replace(/\.{3}|\u2026/g,this._.transform||m)),i._extractTransform(this,s+e);var o,n=this.matrix.clone(),l=this.skew,c=this.node,d=~t(this.attrs.fill).indexOf("-"),u=!t(this.attrs.fill).indexOf("url(");if(n.translate(1,1),u||d||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",o=n.split(),d&&o.noRotation||!o.isSimple){c.style.filter=n.toFilter();var h=this.getBBox(),g=this.getBBox(1),f=h.x-g.x,v=h.y-g.y;c.coordorigin=f*-x+p+v*-x,A(this,1,1,f,v,0)}else c.style.filter=m,A(this,o.scalex,o.scaley,o.dx,o.dy,o.rotate);else c.style.filter=m,l.matrix=t(n),l.offset=n.offset();return r&&(this._.transform=r),this},L.rotate=function(e,i,a){if(this.removed)return this;if(null!=e){if((e=t(e).split(d)).length-1&&(i=r(e[1]),a=r(e[2])),e=r(e[0]),null==a&&(i=a),null==i||null==a){var s=this.getBBox(1);i=s.x+s.width/2,a=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,i,a]])),this}},L.translate=function(e,i){return this.removed?this:((e=t(e).split(d)).length-1&&(i=r(e[1])),e=r(e[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",e,i]])),this)},L.scale=function(e,i,a,s){if(this.removed)return this;if((e=t(e).split(d)).length-1&&(i=r(e[1]),a=r(e[2]),s=r(e[3]),isNaN(a)&&(a=null),isNaN(s)&&(s=null)),e=r(e[0]),null==i&&(i=e),null==s&&(a=s),null==a||null==s)var o=this.getBBox(1);return a=null==a?o.x+o.width/2:a,s=null==s?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",e,i,a,s]])),this._.dirtyT=1,this},L.hide=function(){return!this.removed&&(this.node.style.display="none"),this},L.show=function(){return!this.removed&&(this.node.style.display=m),this},L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},L.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;this.removed=!0}},L.attr=function(t,r){if(this.removed)return this;if(null==t){var a={};for(var s in this.attrs)this.attrs[e](s)&&(a[s]=this.attrs[s]);return a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient,a.transform=this._.transform,a}if(null==r&&i.is(t,"string")){if(t==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var o=t.split(d),n={},l=0,p=o.length;l<p;l++)(t=o[l])in this.attrs?n[t]=this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?n[t]=this.paper.customAttributes[t].def:n[t]=i._availableAttrs[t];return p-1?n:n[o[0]]}if(this.attrs&&null==r&&i.is(t,"array")){for(n={},l=0,p=t.length;l<p;l++)n[t[l]]=this.attr(t[l]);return n}var m;for(var h in null!=r&&((m={})[t]=r),null==r&&i.is(t,"object")&&(m=t),m)u("raphael.attr."+h+"."+this.id,this,m[h]);if(m){for(h in this.paper.customAttributes)if(this.paper.customAttributes[e](h)&&m[e](h)&&i.is(this.paper.customAttributes[h],"function")){var g=this.paper.customAttributes[h].apply(this,[].concat(m[h]));for(var f in this.attrs[h]=m[h],g)g[e](f)&&(m[f]=g[f])}m.text&&"text"==this.type&&(this.textpath.string=m.text),S(this,m)}return this},L.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},L.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},L.insertAfter=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this)},L.insertBefore=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),i._insertbefore(this,e,this.paper),this)},L.blur=function(e){var t=this.node.runtimeStyle,r=t.filter;return r=r.replace(f,m),0!=+e?(this.attrs.blur=e,t.filter=r+p+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",t.margin=i.format("-{0}px 0 0 -{0}px",s(+e||1.5))):(t.filter=r,t.margin=0,delete this.attrs.blur),this},i._engine.path=function(e,t){var i=_("shape");i.style.cssText=y,i.coordsize=x+p+x,i.coordorigin=t.coordorigin;var r=new M(i,t),a={fill:"none",stroke:"#000"};e&&(a.path=e),r.type="path",r.path=[],r.Path=m,S(r,a),t.canvas.appendChild(i);var s=_("skew");return s.on=!0,i.appendChild(s),r.skew=s,r.transform(m),r},i._engine.rect=function(e,t,r,a,s,o){var n=i._rectPath(t,r,a,s,o),l=e.path(n),c=l.attrs;return l.X=c.x=t,l.Y=c.y=r,l.W=c.width=a,l.H=c.height=s,c.r=o,c.path=n,l.type="rect",l},i._engine.ellipse=function(e,t,i,r,a){var s=e.path();s.attrs;return s.X=t-r,s.Y=i-a,s.W=2*r,s.H=2*a,s.type="ellipse",S(s,{cx:t,cy:i,rx:r,ry:a}),s},i._engine.circle=function(e,t,i,r){var a=e.path();a.attrs;return a.X=t-r,a.Y=i-r,a.W=a.H=2*r,a.type="circle",S(a,{cx:t,cy:i,r:r}),a},i._engine.image=function(e,t,r,a,s,o){var n=i._rectPath(r,a,s,o),l=e.path(n).attr({stroke:"none"}),d=l.attrs,u=l.node,p=u.getElementsByTagName(c)[0];return d.src=t,l.X=d.x=r,l.Y=d.y=a,l.W=d.width=s,l.H=d.height=o,d.path=n,l.type="image",p.parentNode==u&&u.removeChild(p),p.rotate=!0,p.src=t,p.type="tile",l._.fillpos=[r,a],l._.fillsize=[s,o],u.appendChild(p),A(l,1,1,0,0,0),l},i._engine.text=function(e,r,a,o){var n=_("shape"),l=_("path"),c=_("textpath");r=r||0,a=a||0,o=o||"",l.v=i.format("m{0},{1}l{2},{1}",s(r*x),s(a*x),s(r*x)+1),l.textpathok=!0,c.string=t(o),c.on=!0,n.style.cssText=y,n.coordsize=x+p+x,n.coordorigin="0 0";var d=new M(n,e),u={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:o};d.shape=n,d.path=l,d.textpath=c,d.type="text",d.attrs.text=t(o),d.attrs.x=r,d.attrs.y=a,d.attrs.w=1,d.attrs.h=1,S(d,u),n.appendChild(c),n.appendChild(l),e.canvas.appendChild(n);var h=_("skew");return h.on=!0,n.appendChild(h),d.skew=h,d.transform(m),d},i._engine.setSize=function(e,t){var r=this.canvas.style;return this.width=e,this.height=t,e==+e&&(e+="px"),t==+t&&(t+="px"),r.width=e,r.height=t,r.clip="rect(0 "+e+" "+t+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(e,t,r,a,s){i.eve("raphael.setViewBox",this,this._viewBox,[e,t,r,a,s]);var n,l,c=this.width,d=this.height,u=1/o(r/c,a/d);return s&&(r*(n=d/a)<c&&(e-=(c-r*n)/2/n),a*(l=c/r)<d&&(t-=(d-a*l)/2/l)),this._viewBox=[e,t,r,a,!!s],this._viewBoxShift={dx:-e,dy:-t,scale:u},this.forEach((function(e){e.transform("...")})),this},i._engine.initWin=function(e){var t=e.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),_=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(e){_=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e.container,r=e.height,a=e.width,s=e.x,o=e.y;if(!t)throw new Error("VML container not found.");var n=new i._Paper,l=n.canvas=i._g.doc.createElement("div"),c=l.style;return s=s||0,o=o||0,a=a||512,r=r||342,n.width=a,n.height=r,a==+a&&(a+="px"),r==+r&&(r+="px"),n.coordsize=216e5+p+216e5,n.coordorigin="0 0",n.span=i._g.doc.createElement("span"),n.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(n.span),c.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",a,r),1==t?(i._g.doc.body.appendChild(l),c.left=s+"px",c.top=o+"px",c.position="absolute"):t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l),n.renderfix=function(){},n},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=m,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){for(var e in i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;return!0};var I=i.st;for(var D in L)L[e](D)&&!I[e](D)&&(I[D]=function(e){return function(){var t=arguments;return this.forEach((function(i){i[e].apply(i,t)}))}}(D))}}(),P.was?_.win.Raphael=i:Raphael=i}(e,e.eve)}(this),
/*! */
function(e){Raphael.fn.nestedSVG=function(t,i,r){var a=this,s=(arguments[0]instanceof Array||arguments[0],arguments[0]instanceof Array?arguments[0]:arguments[1]);function o(s,o){a.set(o);var n,l=new Raphael(t,i,r);return l.canvas.setAttribute("x",0),l.canvas.setAttribute("y",0),a.canvas.appendChild(l.canvas),n={move:function(e,t){l.canvas.setAttribute("x",e),l.canvas.setAttribute("y",t)}},e.extend(l,n),l}return o(0,s)}}(jQuery),jQuery,Raphael.fn.marker=function(){var e=this,t=(arguments[0]instanceof Array||arguments[0],arguments[0]instanceof Array?arguments[0]:arguments[1]);function i(t,i){e.set(i);var r=e.raphael.vml?document.createElement("marker"):document.createElementNS("http://www.w3.org/2000/svg","marker"),a=e.path("M2,2 L2,10 L10,6 L2,2");return a.node.setAttribute("fill","black"),e.defs.appendChild(r),r.appendChild(a.node),{scale:function(e,t){var i=r.getAttribute("transform");return r.attr("transform",updateScale(i,e,t)),this},move:function(e,t){r.setAttribute("x",e),r.setAttribute("y",t)},attr:function(e,t){r.setAttribute(e,t)},attrs:function(e){for(var t in e)r.setAttribute(t,e[t])},type:"marker",node:r}}return i(0,t)},
/*! */
function(e){Raphael.fn.group=function(){var t=this,i=(arguments[0]instanceof Array||arguments[0],arguments[0]instanceof Array?arguments[0]:arguments[1]);function r(i,r){t.set(r);var a,s=t.raphael.vml?document.createElement("group"):document.createElementNS("http://www.w3.org/2000/svg","g");return t.canvas.appendChild(s),s.canvas=s,a={setScale:function(e){return t.raphael.vml?this.forEach((function(t){var i=t.data("rotation")||0;t.transform("S"+e+","+e+", 0, 0, r"+i)})):s.setAttribute("transform","scale("+e+")"),this},getScale:function(){var e=s.getAttribute("transform");return null===e&&(e="scale(1)"),e.replace("scale(","").replace(")","")}},e.extend(a,t),a.scale=a.setScale,a.canvas=s,a[0]=s,a.type="group",a.node=s,a}return r(0,i)}}(jQuery),$.Class.extend("bizagi.ui.controls.tmplloader",{},{init:function(){this.templates=[]},loadTemplates:function(e){var t=this,i=e||{},r=new $.Deferred,a=[];return $.each(i,(function(e,i){var r=t.loadTemplate(e,i);a.push(r)})),$.when.apply($,a).done((function(){r.resolve()})),r.promise()},loadTemplate:function(e,t){var i=this.templates,r=new $.Deferred;return i[e]?(r.resolve(),r.promise()):bizagi.templateService.getTemplate(t).done((function(t){i[e]=t}))},getTemplate:function(e){var t=this.templates;return t[e]?t[e]:null}}),$.bizagi||($.bizagi={ui:{}}),$.bizagi.ui={controls:{uitable:{namespace:"bizagi.ui.controls.uitable",availableComponents:["uicombo","uiradio","uicheckbox"],css:"biz-ui-controls-table",tmpl:"bizagi.ui.controls.table.template",tmpl2:"bizagi.ui.controls.table.tr.template",tmpl3:"bizagi.ui.controls.table.list.template"},uicombo:{namespace:"bizagi.ui.controls.uicombo",css:"biz-ui-controls-combo",tmpl:"bizagi.ui.controls.combo.template",tmpl2:"bizagi.ui.controls.combo.list.template"},uicheckbox:{namespace:"bizagi.ui.controls.uicheckbox",css:"biz-ui-controls-checkbox",tmpl:"bizagi.ui.controls.checkbox.template"},uiradio:{namespace:"bizagi.ui.controls.uiradio",css:"biz-ui-controls-radio",tmpl:"bizagi.ui.controls.radio.template"},uitreeview:{namespace:"bizagi.ui.controls.uitreeview",css:"biz-ui-controls-treeview",tmpl:"bizagi.ui.controls.treeview.template"},uimultiselect:{namespace:"bizagi.ui.controls.multiselect",css:"biz-ui-controls-multiselect",tmpl:"bizagi.ui.controls.multiselect.template"}}},bizagi.workportal.services.service.extend("bizagi.workportal.services.service",{},{getStartForm:function(e){return $.create({url:this.serviceLocator.getUrl("actions-handler-getDataForm"),data:e})}}),bizagi.workportal.services.service.extend("bizagi.workportal.services.service",{},{getSearchData:function(e){var t=this,i=t.serviceLocator.getUrl("my-search-getData");i=i.replace("{guidSearch}",e.guidSearch);var r=e.filters||[],a={filters:JSON.stringify(r),pag:e.page||1,calculateFilters:e.calculateFilters||!1,pagSize:e.pageSize||10,onlyLocalResults:e.onlyLocalResults||!1};return $.read(i,a).then((function(e){return t.serializeEntityData(e)}))},getCollectionEntityData:function(e){var t,i,r=this;void 0!==(e=e||{}).filters&&(i=e.filters.filter((function(e){return void 0===e.properties})));var a={templateType:"VIRTUAL"===e.referenceType||"FACT"===e.referenceType?"List":"Content",surrogateKey:e.surrogateKey,pag:e.page||1,pagSize:e.pageSize||10,defaultFilterApplied:void 0===e.defaultFilterApplied||e.defaultFilterApplied,filters:JSON.stringify(i)||[]};return"VIRTUAL"===e.referenceType?(t=r.serviceLocator.getUrl("data-navigation-handler-collection"),a.reference=e.reference):(t=r.serviceLocator.getUrl("data-navigation-handler-entity"),a.reference=e.guidEntityCurrent||e.entityId,a.xpath=e.xpath,a.collectionId=e.reference),$.read(t,a).then((function(t){return $.extend(r.serializeEntityData(t),{reference:e.reference})}))},getFiltersEntityData:function(e){var t;void 0!==(e=e||{}).filters&&(t=e.filters.filter((function(e){return void 0===e.properties})));var i={reference:e.guidEntityCurrent,collectionId:e.reference,surrogateKey:e.surrogateKey,xpath:e.xpath,templateType:"List",defaultFilterApplied:e.defaultFilterApplied,filters:JSON.stringify(t)};return $.read({url:this.serviceLocator.getUrl("data-navigation-handler-entity-filters"),data:i}).then((function(t){return $.extend(t,{reference:e.reference})}))},getMapping:function(e){var t={accumulatedContext:JSON.stringify(e.accumulatedContext)};return e.xpathContext&&(t.xpathContext=e.xpathContext),e.guidEntity&&(t.guidEntity=e.guidEntity),e.guidAction&&(t.guidAction=e.guidAction),e.collectionId&&(t.collectionId=e.collectionId),e.collectionType&&(t.collectionType=e.collectionType),$.ajax({url:this.serviceLocator.getUrl("entities-handler-getMapping"),data:t,type:"POST",dataType:"json"})},actionsHasStartForm:function(e){var t={processId:e.processId};return $.read({url:this.serviceLocator.getUrl("handler-validate-action-has-start-form"),data:t,batchRequest:!0})},actionCreateCase:function(e){var t={processId:e.idProcess};return e.entityMapping&&(t.entityMapping=e.entityMapping),e.parentCaseId?t.parentCaseId=e.parentCaseId:t.parentCaseId=0,$.create({url:this.serviceLocator.getUrl("handler-execute-action-start"),data:t})},getIdCasesOfProcessEntities:function(e){e=e||{};var t={ids:JSON.stringify(e)};return $.ajax({url:this.serviceLocator.getUrl("process-handler-getIdCasesOfProcessEntities"),data:t,type:"POST"})},createCase:function(e){var t={idProcess:e.idProcess,entityMapping:e.entityMapping};return e.idParentCase&&(t.idParentCase=e.idParentCase),$.create({url:this.serviceLocator.getUrl("case-handler-startProcess"),data:t})},executeRule:function(e){var t={surrogateKey:e.surrogateKey,entityId:e.entityId,ruleId:e.ruleId};return $.create({url:this.serviceLocator.getUrl("actions-handler-executeRule-simple"),data:t})},executeRuleMultiple:function(e){var t={surrogateKey:JSON.stringify(e.surrogateKey),entityId:e.entityId,ruleId:e.ruleId};return $.create({url:this.serviceLocator.getUrl("actions-handler-executeRule-multiple"),data:t})}}),bizagi.override.enableFolder=!1,bizagi.override.enableSmartFolders=!1,bizagi.override.enableListOfRecentProcesses=!1,bizagi.override.enableCustomizeReports=!1,bizagi.override.enableMultipleCasesReassigment=!1,bizagi.override.gridPagination=!0,bizagi.override.enableAsyncECMUploadJobs=!1,bizagi.override.enablePrintFromEditForm=!1,bizagi.enableDebug=!1,bizagi.override.enableFolder=!1,bizagi.override.enableSmartFolders=!1,bizagi.override.enableListOfRecentProcesses=!1,bizagi.override.enableCustomizeReports=!1,bizagi.override.enableMultipleCasesReassigment=!1,bizagi.override.enableAsyncECMUploadJobs=!1,bizagi.override.enablePrintFromEditForm=!1,bizagi.enableDebug=!1,bizagi.override.disableFrankensteinQueryForms=!0,bizagi.override.enableE2EInterface=!0,bizagi.override.disableOldInbox=!0,bizagi.override.disposeTime=50,bizagi.override.enableBatchRequest=!0,bizagi.override.forceBatchRequest=!1,bizagi.override.showAssignees=!0,bizagi.override.enableMySearch=!0,bizagi.override.enableSecurityCaseDashBoard=!1,bizagi.override.enableQueriesClassicMenu=!1,bizagi.override.disableAbortCases=!1,bizagi.override.enableAdhocProcess=!1,bizagi.override.enableCCBCCFeatureOnLiveProcesses=!0,bizagi.override.enableReviewModeFeatureOnLiveProcesses=!0,bizagi.override.enableFilterByProcessGroupOnLiveProcesses=!1,bizagi.override.enableLocalizationInModelerOnLiveProcesses=!0,bizagi.override.enablePredefinedPerformersOnLiveProcesses=!0,bizagi.override.enableFeatureShowTimelineButton=!0,bizagi.override.enableFeatureDisplayOptions=!1,bizagi.override.enableMaximizeModalsOption=!1,bizagi.override.enableStartPageDisplayOption=!1,bizagi.override.enablePing=!1,bizagi.override.enableECMMetadataMultiaction=!0,bizagi.override.validateGridsOnButtonClick=!1,bizagi.override.enableCustomFormats=!1,bizagi.override.enableShareActivity=!0,bizagi.override.enableFormatMoneyColumnQueryResult=!0,bizagi.override.enableSymbolMoneyColumnQueryResult=!0,bizagi.override.enableGridRefreshAfterCellRefresh=!1,bizagi.override.showQrMobileMenu=!0,bizagi.override.enableExecuteRefreshAction=!0,bizagi.override.restoreAppearanceAfterRefresh=!0,bizagi.override.maxButtonForQuickActions=6,bizagi.override.hideTimeWhenHourMinutesSecondsAreZero=!0,bizagi.override.enableActionIsChangedSupport=!0,bizagi.override.breakActionWithUnavailableRenders=!1,bizagi.override.hiddenControlsWithDataType=!0,function(e,t){e.mobiscroll=function(e){"use strict";function t(e,t,i){var r=e;return"object"===(void 0===t?"undefined":E(t))?e.each((function(){new t.component(this,t)})):("string"==typeof t&&e.each((function(){var e,a=D.instances[this.id];if(a&&a[t]&&void 0!==(e=a[t].apply(this,Array.prototype.slice.call(i,1))))return r=e,!1})),r)}function i(){}function r(e){var t,i=[];for(t in e)i.push(e[t]);return i}function a(e){return e-parseFloat(e)>=0}function s(e){return"string"==typeof e}function o(e,t,i){return Math.max(t,Math.min(e,i))}function n(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function l(){q++,setTimeout((function(){q--}),500)}function c(e,t,i){var r=e.originalEvent||e,a=(i?"page":"client")+t;return r.targetTouches&&r.targetTouches[0]?r.targetTouches[0][a]:r.changedTouches&&r.changedTouches[0]?r.changedTouches[0][a]:e[a]}function d(e,t,i,r,a,s){var o,n,d,u,p,m=(0,D.$)(t);a=a||9,e.settings.tap&&m.on("touchstart.mbsc",(function(e){d||(r&&e.preventDefault(),d=this,o=c(e,"X"),n=c(e,"Y"),u=!1,p=new Date)})).on("touchcancel.mbsc",(function(){d=!1})).on("touchmove.mbsc",(function(e){d&&!u&&(Math.abs(c(e,"X")-o)>a||Math.abs(c(e,"Y")-n)>a)&&(u=!0)})).on("touchend.mbsc",(function(e){d&&(s&&new Date-p<100||!u?function(e,t){if(!t.mbscClick){var i=(e.originalEvent||e).changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),r.isMbscTap=!0,r.isIonicTap=!0,K=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(r),K=!1,l(),setTimeout((function(){delete t.mbscClick}))}}(e,e.target):l(),d=!1)})),m.on("click.mbsc",(function(t){r&&t.preventDefault(),i.call(this,t,e)}))}function u(e){if(q&&!K&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function p(e){return e[0].innerWidth||e.innerWidth()}function m(e,t,i,r,a,s,o){var n=new Date(e,t,i,r||0,a||0,s||0,o||0);return 23==n.getHours()&&0===(r||0)&&n.setHours(n.getHours()+2),n}function h(e,t,i){if(!t)return null;var r,a,s=oe({},pe,i),o=function(t){for(var i=0;r+1<e.length&&e.charAt(r+1)==t;)i++,r++;return i},n=function(e,t,i){var r=""+t;if(o(e))for(;r.length<i;)r="0"+r;return r},l=function(e,t,i,r){return o(e)?r[t]:i[t]},c="",d=!1;for(r=0;r<e.length;r++)if(d)"'"!=e.charAt(r)||o("'")?c+=e.charAt(r):d=!1;else switch(e.charAt(r)){case"d":c+=n("d",s.getDay(t),2);break;case"D":c+=l("D",t.getDay(),s.dayNamesShort,s.dayNames);break;case"o":c+=n("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=n("m",s.getMonth(t)+1,2);break;case"M":c+=l("M",s.getMonth(t),s.monthNamesShort,s.monthNames);break;case"y":a=s.getYear(t),c+=o("y")?a:(a%100<10?"0":"")+a%100;break;case"h":var u=t.getHours();c+=n("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=n("H",t.getHours(),2);break;case"i":c+=n("i",t.getMinutes(),2);break;case"s":c+=n("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?s.pmText:s.amText;break;case"A":c+=t.getHours()>11?s.pmText.toUpperCase():s.amText.toUpperCase();break;case"'":o("'")?c+="'":d=!0;break;default:c+=e.charAt(r)}return c}function g(e,t,i){var r=oe({},pe,i),a=w(r.defaultValue||new Date);if(!e||!t)return a;if(t.getTime)return t;t="object"==(void 0===t?"undefined":E(t))?t.toString():t+"";var s,o=r.shortYearCutoff,n=r.getYear(a),l=r.getMonth(a)+1,c=r.getDay(a),d=-1,u=a.getHours(),p=a.getMinutes(),m=0,h=-1,g=!1,f=function(t){var i=s+1<e.length&&e.charAt(s+1)==t;return i&&s++,i},v=function(e){f(e);var i=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2)+"}"),r=t.substr(b).match(i);return r?(b+=r[0].length,parseInt(r[0],10)):0},y=function(e,i,r){var a,s=f(e)?r:i;for(a=0;a<s.length;a++)if(t.substr(b,s[a].length).toLowerCase()==s[a].toLowerCase())return b+=s[a].length,a+1;return 0},x=function(){b++},b=0;for(s=0;s<e.length;s++)if(g)"'"!=e.charAt(s)||f("'")?x():g=!1;else switch(e.charAt(s)){case"d":c=v("d");break;case"D":y("D",r.dayNamesShort,r.dayNames);break;case"o":d=v("o");break;case"m":l=v("m");break;case"M":l=y("M",r.monthNamesShort,r.monthNames);break;case"y":n=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":p=v("i");break;case"s":m=v("s");break;case"a":h=y("a",[r.amText,r.pmText],[r.amText,r.pmText])-1;break;case"A":h=y("A",[r.amText,r.pmText],[r.amText,r.pmText])-1;break;case"'":f("'")?x():g=!0;break;default:x()}if(n<100&&(n+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100)),d>-1){l=1,c=d;do{var T=32-new Date(n,l-1,32,12).getDate();c>T&&(l++,c-=T)}while(c>T)}u=-1==h?u:h&&u<12?u+12:h||12!=u?u:0;var C=r.getDate(n,l-1,c,u,p,m);return r.getYear(C)!=n||r.getMonth(C)+1!=l||r.getDay(C)!=c?a:C}function f(e,t){return Math.round((t-e)/864e5)}function v(e){return m(e.getFullYear(),e.getMonth(),e.getDate())}function y(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function x(e,t,i){var r,a,s={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(i)for(r in s)(a=e[s[r]-t])&&(i[r]="tz"==r?a:1)}function b(e,t,i){var r=window.moment||t.moment,a=t.returnFormat;if(e){if("moment"==a&&r)return r(e);if("locale"==a)return h(i,e,t);if("iso8601"==a)return function(e,t){var i="",r="";return e&&(t.h&&(r+=n(e.getHours())+":"+n(e.getMinutes()),t.s&&(r+=":"+n(e.getSeconds())),t.u&&(r+="."+n(e.getMilliseconds(),3)),t.tz&&(r+=t.tz)),t.y?(i+=e.getFullYear(),t.m&&(i+="-"+n(e.getMonth()+1),t.d&&(i+="-"+n(e.getDate())),t.h&&(i+="T"+r))):t.h&&(i=r)),i}(e,t.isoParts)}return e}function w(e,t,i,r){var a;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(a=ce.exec(e))?(x(a,2,r),new Date(1970,0,1,a[2]?+a[2]:0,a[3]?+a[3]:0,a[4]?+a[4]:0,a[5]?+a[5]:0)):(a||(a=le.exec(e)),a?(x(a,0,r),new Date(a[1]?+a[1]:1970,a[2]?a[2]-1:0,a[3]?+a[3]:1,a[4]?+a[4]:0,a[5]?+a[5]:0,a[6]?+a[6]:0,a[7]?+a[7]:0)):g(t,e,i))):null}function T(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function C(e){var t;for(t in e)if(void 0!==he[e[t]])return!0;return!1}function A(e,t){if("touchstart"==e.type)ee(t).attr("data-touch","1");else if(ee(t).attr("data-touch"))return ee(t).removeAttr("data-touch"),!1;return!0}function _(e,t){var i,r=getComputedStyle(e[0]);return ee.each(["t","webkitT","MozT","OT","msT"],(function(e,t){if(void 0!==r[t+"ransform"])return i=r[t+"ransform"],!1})),i=i.split(")")[0].split(", "),t?i[13]||i[5]:i[12]||i[4]}function P(e){if(e){if(xe[e])return xe[e];var t=ee('<div style="background-color:'+e+';"></div>').appendTo("body"),i=getComputedStyle(t[0]).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),r=.299*i[0]+.587*i[1]+.114*i[2]<130?"#fff":"#000";return t.remove(),xe[e]=r,r}}function S(e,t,r,a,s,o){function n(e){var t;h=ee(this),w=+h.attr("data-step"),f=+h.attr("data-index"),g=!0,s&&e.stopPropagation(),"touchstart"==e.type&&h.closest(".mbsc-no-touch").removeClass("mbsc-no-touch"),"mousedown"==e.type&&e.preventDefault(),"keydown"!=e.type?(x=c(e,"X"),b=c(e,"Y"),t=A(e,this)):t=32===e.keyCode,v||!t||h.hasClass("mbsc-disabled")||(p(f,w,e)&&(h.addClass("mbsc-active"),o&&o.addRipple(h.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&ee(document).on("mousemove",l).on("mouseup",d))}function l(e){(Math.abs(x-c(e,"X"))>7||Math.abs(b-c(e,"Y"))>7)&&(g=!0,u())}function d(e){"touchend"==e.type&&e.preventDefault(),u(),"mouseup"==e.type&&ee(document).off("mousemove",l).off("mouseup",d)}function u(){v=!1,clearInterval(T),h&&(h.removeClass("mbsc-active"),o&&setTimeout((function(){o.removeRipple()}),100))}function p(e,t,i){return v||C(e)||(f=e,w=t,y=i,v=!0,g=!1,setTimeout(m,100)),v}function m(){return h&&h.hasClass("mbsc-disabled")?void u():(!v&&g||(g=!0,t(f,w,y,m)),void(v&&r&&(clearInterval(T),T=setInterval((function(){t(f,w,y)}),r))))}var h,g,f,v,y,x,b,w,T,C=a||i;return e.on("touchstart mousedown keydown",n).on("touchmove",l).on("touchend touchcancel keyup",d),{start:p,stop:u,destroy:function(){e.off("touchstart mousedown keydown",n).off("touchmove",l).off("touchend touchcancel keyup",d)}}}function k(e,t,i){function r(){l.style.width="100000px",l.style.height="100000px",n.scrollLeft=1e5,n.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5}function a(){var e=new Date;c=0,p||(e-m>200&&!n.scrollTop&&!n.scrollLeft&&(m=e,r()),c||(c=J(a)))}function s(){d||(d=J(o))}function o(){d=0,r(),t()}var n=void 0,l=void 0,c=void 0,d=void 0,u=void 0,p=void 0,m=0,h=document.createElement("div");return h.innerHTML=Ae,h.dir="ltr",u=h.childNodes[1],n=h.childNodes[0],l=n.childNodes[0],e.appendChild(h),n.addEventListener("scroll",s),u.addEventListener("scroll",s),i?i.runOutsideAngular((function(){J(a)})):J(a),{detach:function(){e.removeChild(h),p=!0}}}function M(e){return(e+"").replace('"',"___")}function L(e){return e<-1e-7?Math.ceil(e-1e-7):Math.floor(e+1e-7)}function I(e,t,i){e=parseInt(e),t=parseInt(t),i=parseInt(i);var r,a,s,o,n=new Array(0,0,0);return r=e>1582||1582==e&&t>10||1582==e&&10==t&&i>14?L(1461*(e+4800+L((t-14)/12))/4)+L(367*(t-2-12*L((t-14)/12))/12)-L(3*L((e+4900+L((t-14)/12))/100)/4)+i-32075:367*e-L(7*(e+5001+L((t-9)/7))/4)+L(275*t/9)+i+1729777,o=L(((a=r-1948440+10632)-1)/10631),s=L((10985-(a=a-10631*o+354))/5316)*L(50*a/17719)+L(a/5670)*L(43*a/15238),a=a-L((30-s)/15)*L(17719*s/50)-L(s/16)*L(15238*s/43)+29,t=L(24*a/709),i=a-L(709*t/24),e=30*o+s-30,n[2]=i,n[1]=t,n[0]=e,n}e=e&&e.hasOwnProperty("default")?e.default:e;var D=D||{},z={},R={},E="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},U=e.extend,O={};D.$=e,e.mobiscroll=D,e.fn.mobiscroll=function(e){return U(this,O),t(this,e,arguments)};var N,F,$,j,W=[],B="undefined"!=typeof window,G=B?navigator.userAgent:"",Q=B?navigator.platform:"",H=B?navigator.maxTouchPoints:0,V=/Safari/.test(G),Y=G.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),J=B&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},Z=B&&window.cancelAnimationFrame||function(e){clearTimeout(e)};/Android/i.test(Y)?(N="android",(F=G.match(/Android\s+([\d\.]+)/i))&&(W=F[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Y)||/iPhone|iPad|iPod/i.test(Q)||"MacIntel"===Q&&H>1?(N="ios",(F=G.match(/OS\s+([\d\_]+)/i))&&(W=F[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Y)?N="wp":/Windows|MSIE/i.test(Y)&&(N="windows"),$=W[0],j=W[1];var q=0,K=void 0;B&&(["mouseover","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,u,!0)})),"android"==N&&$<5&&document.addEventListener("change",(function(e){q&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange}),!0)),D.uid="11fd4721";var X,ee=D.$,te=+new Date,ie={},re={},ae={},se={xsmall:0,small:576,medium:768,large:992,xlarge:1200},oe=ee.extend;oe(z,{getCoord:c,preventClick:l,vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)}}),X=oe(D,{$:ee,version:"4.8.5",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:N,majorVersion:$,minorVersion:j},i18n:{},instances:ie,classes:re,util:z,settings:{},setDefaults:function(e){oe(this.settings,e)},customTheme:function(e,t){var i,r=D.themes,a=["frame","scroller","listview","navigation","form","page","progress","card"];for(i=0;i<a.length;i++)r[a[i]][e]=oe({},r[a[i]][t],{baseTheme:t})}});var ne=function(e,t){function r(e){var t,i=ae;return l.responsive&&(t=e||p(a),ee.each(l.responsive,(function(e,r){t>=(r.breakpoint||se[e])&&(i=r)}))),i}var a,s,o,n,l,c,u,m,h,g=this;g.settings={},g.element=e,g._init=i,g._destroy=i,g._processSettings=i,g._checkResp=function(e){if(g&&g._responsive){var t=r(e);if(n!==t)return n=t,g.init({}),!0}},g._getRespCont=function(){return ee(l.context)[0]},g.init=function(i,d){var p,f;for(p in i&&g.getVal&&(f=g.getVal()),g.settings)delete g.settings[p];l=g.settings,oe(t,i),g._hasDef&&(h=X.settings),oe(l,g._defaults,h,t),g._hasTheme&&("auto"!=(u=l.theme)&&u||(u=X.autoTheme),"default"==u&&(u="mobiscroll"),t.theme=u,c=X.themes[g._class]?X.themes[g._class][u]:{}),g._hasLang&&(s=X.i18n[l.lang]),oe(l,c,s,h,t),a=g._getRespCont(),g._responsive&&(n||(n=r()),oe(l,n)),g._processSettings(n||{}),g._presets&&((o=g._presets[l.preset])&&(o=o.call(e,g,t),oe(l,o,t,n))),g._init(i),i&&g.setVal&&g.setVal(void 0===d?f:d,!0),m("onInit")},g.destroy=function(){g&&(g._destroy(),m("onDestroy"),delete ie[e.id],g=null)},g.tap=function(e,t,i,r,a){d(g,e,t,i,r,a)},g.trigger=function(i,r){var a,s,n,l=[h,c,o,t];for(s=0;s<4;s++)(n=l[s])&&n[i]&&(a=n[i].call(e,r||{},g));return a},g.option=function(e,i,r){var a={},s=["data","invalid","valid","readonly"];/calendar|eventcalendar|range/.test(l.preset)&&s.push("marked","labels","colors"),"object"===(void 0===e?"undefined":E(e))?a=e:a[e]=i,s.forEach((function(e){t[e]=l[e]})),g.init(a,r)},g.getInst=function(){return g},t=t||{},m=g.trigger,g.__ready||(ee(e).addClass("mbsc-comp"),e.id?ie[e.id]&&ie[e.id].destroy():e.id="mobiscroll"+ ++te,ie[e.id]=g,g.__ready=!0)},le=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,ce=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,de=/^\d{1,2}(\/\d{1,2})?$/,ue=/^w\d$/i,pe={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:m,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){(e=new Date(e)).setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};z.datetime={formatDate:h,parseDate:g};var me,he,ge,fe,ve,ye,xe={};B&&(he=document.createElement("modernizr").style,ge=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(C([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),ye=ge.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),me=void 0!==he.animation?"animationend":"webkitAnimationEnd",void 0!==he.transition,ve=(fe="ios"===N&&!V)&&window.webkit&&window.webkit.messageHandlers,void 0===he.touchAction||fe&&!ve);var be,we,Te="position:absolute;left:0;top:0;",Ce=Te+"right:0;bottom:0;overflow:hidden;z-index:-1;",Ae='<div style="'+Ce+'"><div style="'+Te+'"></div></div><div style="'+Ce+'"><div style="'+Te+'width:200%;height:200%;"></div></div>',_e=D.themes,Pe=/(iphone|ipod)/i.test(G)&&$>=7,Se="android"==N,ke="ios"==N,Me=ke&&8==$,Le=ke&&$>7,Ie=function(e){e.preventDefault()},De="input,select,textarea,button",ze=function(e,t,r){function a(e){I&&I.removeClass("mbsc-active"),(I=ee(this)).hasClass("mbsc-disabled")||I.hasClass("mbsc-fr-btn-nhl")||I.addClass("mbsc-active"),"mousedown"===e.type?ee(document).on("mouseup",n):"pointerdown"===e.type&&ee(document).on("pointerup",n)}function n(e){I&&(I.removeClass("mbsc-active"),I=null),"mouseup"===e.type?ee(document).off("mouseup",n):"pointerup"===e.type&&ee(document).off("pointerup",n)}function d(e){D.activeInstance==ie&&(13!=e.keyCode||ee(e.target).is('textarea,button,input[type="button"],input[type="submit"]')&&!e.shiftKey?27==e.keyCode&&ie.cancel():ie.select())}function u(e){e||Se||!ie._activeElm||(se=new Date,ie._activeElm.focus())}function p(e){var t=be,i=J.focusOnClose;ie._markupRemove(),C.remove(),U&&(z.mbscModals--,J.scrollLock&&z.mbscLock--,z.mbscLock||T.removeClass("mbsc-fr-lock"),B&&(z.mbscIOSLock--,z.mbscIOSLock||(T.removeClass("mbsc-fr-lock-ios"),b.css({top:"",left:""}),S.scrollLeft(z.mbscScrollLeft),S.scrollTop(z.mbscScrollTop))),z.mbscModals||T.removeClass("mbsc-fr-lock-ctx"),z.mbscModals&&!Y||e||(t||(t=re),setTimeout((function(){void 0===i||!0===i?(we=!0,t[0].focus()):i&&ee(i)[0].focus()}),200))),Y=void 0,O=!1,K("onHide")}function m(){clearTimeout(V),V=setTimeout((function(){ie.position(!0)&&(H.style.visibility="hidden",H.offsetHeight,H.style.visibility="")}),200)}function h(e){D.activeInstance==ie&&e.target.nodeType&&!Q.contains(e.target)&&new Date-se>100&&(se=new Date,ie._activeElm.focus())}function g(e,t){if(U)C.appendTo(b);else if(re.is("div")&&!ie._hasContent)re.empty().append(C);else if(re.hasClass("mbsc-control")){var i=re.closest(".mbsc-control-w");C.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else C.insertAfter(re);var r,o,d,p;(O=!0,ie._markupInserted(C),K("onMarkupInserted",{target:F}),U&&J.closeOnOverlayTap)&&A.on("touchstart mousedown",(function(e){o||e.target!=Q||(o=!0,r=!1,d=c(e,"X"),p=c(e,"Y"))})).on("touchmove mousemove",(function(e){o&&!r&&(Math.abs(c(e,"X")-d)>9||Math.abs(c(e,"Y")-p)>9)&&(r=!0)})).on("touchcancel",(function(){o=!1})).on("touchend click",(function(e){o&&!r&&(ie.cancel(),"touchend"==e.type&&l()),o=!1}));C.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",Ie).on("touchstart mousedown",(function(e){J.stopProp&&e.stopPropagation()})).on("keydown",".mbsc-fr-btn-e",(function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())})).on("keydown",(function(e){if(32!=e.keyCode||ee(e.target).is(De)){if(9==e.keyCode&&U&&J.focusTrap){var t=C.find('input,select,textarea,button,[tabindex="0"]').filter((function(){return this.offsetWidth>0||this.offsetHeight>0})),i=t.index(ee(":focus",C)),r=t.length-1,a=0;e.shiftKey&&(r=0,a=-1),i===r&&(t.eq(a)[0].focus(),e.preventDefault())}}else e.preventDefault()})).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",a).on("touchend",".mbsc-fr-btn-e",n),F.addEventListener("touchstart",(function(){q||(q=!0,b.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))}),!0),ee.each(L,(function(e,t){ie.tap(ee(".mbsc-fr-btn"+e,C),(function(e){t=s(t)?ie.buttons[t]:t,(s(t.handler)?ie.handlers[t.handler]:t.handler).call(this,e,ie)}),!0)})),ie._attachEvents(C),!1!==ie.position()&&((U||ie._checkSize)&&(G=k(F,m,J.zone)),U&&(C.removeClass("mbsc-fr-pos"),R&&!e?C.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+R).on(me,(function e(){C.off(me,e).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+R).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+R),u(t)})).find(".mbsc-fr-popup").addClass("mbsc-anim-"+R):u(t)),K("onShow",{target:F,valueText:ie._tempValue}))}function f(e,t){ie._isVisible||(e&&e(),!1!==ie.show()&&(be=t))}function v(){ie._fillValue(),K("onSet",{valueText:ie._value})}function y(){K("onCancel",{valueText:ie._value})}function x(){ie.setVal(null,!0)}var b,w,T,C,A,_,P,S,M,L,I,z,R,E,U,O,N,F,$,j,W,B,G,Q,H,V,Y,J,Z,q,K,X,te,ie=this,re=ee(e),ae=[],se=new Date;ne.call(this,e,t,!0),ie.position=function(e){var t,i,r,a,s,n,l,c,d,u,p,m,h,g,f,v,y,x,w,T={},A=0,k=0,L=0,I=0;if(!O)return!1;if(v=X,f=te,h=F.offsetHeight,(g=F.offsetWidth)&&h&&(X!==g||te!==h||!e)){if(ie._checkResp(g))return!1;if(X=g,te=h,ie._isFullScreen||/top|bottom/.test(J.display)?P.width(g):U&&M.width(""),ie._position(C),!ie._isFullScreen&&/center|bubble/.test(J.display)&&(ee(".mbsc-w-p",C).each((function(){y=this.getBoundingClientRect().width,I+=y,L=y>L?y:L})),m=I>g-16||!0===J.tabs,M.css({width:ie._isLiquid?Math.min(J.maxPopupWidth,g-16):Math.ceil(m?L:I),"white-space":m?"":"nowrap"})),!1!==K("onPosition",{target:F,popup:H,hasTabs:m,oldWidth:v,oldHeight:f,windowWidth:g,windowHeight:h})&&U)return W&&(A=S.scrollLeft(),k=S.scrollTop(),X&&_.css({width:"",height:""})),$=H.offsetWidth,j=H.offsetHeight,Z=j<=h&&$<=g,"center"==J.display?(w=Math.max(0,A+(g-$)/2),x=Math.max(0,k+(h-j)/2)):"bubble"==J.display?(t=void 0===J.anchor?re:ee(J.anchor),l=ee(".mbsc-fr-arr-i",C)[0],s=(a=t.offset()).top+(E?k-b.offset().top:0),n=a.left+(E?A-b.offset().left:0),i=t[0].offsetWidth,r=t[0].offsetHeight,c=l.offsetWidth,d=l.offsetHeight,w=o(n-($-i)/2,A+3,A+g-$-3),(x=s+r+d/2)+j+8>k+h&&s-j-d/2>k?(P.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),x=s-j-d/2):P.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),ee(".mbsc-fr-arr",C).css({left:o(n+i/2-(w+($-c)/2),0,c)}),Z=x>k&&w>A&&x+j<=k+h&&w+$<=A+g):(w=A,x="top"==J.display?k:Math.max(0,k+h-j)),W&&(u=Math.max(x+j,E?z.scrollHeight:ee(document).height()),p=Math.max(w+$,E?z.scrollWidth:ee(document).width()),_.css({width:p,height:u}),J.scroll&&"bubble"==J.display&&(x+j+8>k+h||s>k+h||s+r<k)&&S.scrollTop(Math.min(s,x+j-h+8,u-h))),T.top=Math.floor(x),T.left=Math.floor(w),P.css(T),!0}},ie.attachShow=function(e,t){var i,r=ee(e).off(".mbsc"),a=r.prop("readonly");"inline"!==J.display&&((J.showOnFocus||J.showOnTap)&&r.is("input,select")&&(r.prop("readonly",!0).on("mousedown.mbsc",(function(e){e.preventDefault()})).on("focus.mbsc",(function(){ie._isVisible&&this.blur()})),(i=ee('label[for="'+r.attr("id")+'"]')).length||(i=r.closest("label"))),r.is("select")||(J.showOnFocus&&r.on("focus.mbsc",(function(){we?we=!1:f(t,r)})),J.showOnTap&&(r.on("keydown.mbsc",(function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),f(t,r))})),ie.tap(r,(function(e){e.isMbscTap&&(q=!0),f(t,r)})),i&&i.length&&ie.tap(i,(function(e){e.preventDefault(),e.target!==r[0]&&f(t,r)})))),ae.push({readOnly:a,el:r,lbl:i}))},ie.select=function(){U?ie.hide(!1,"set",!1,v):v()},ie.cancel=function(){U?ie.hide(!1,"cancel",!1,y):y()},ie.clear=function(){ie._clearValue(),K("onClear"),U&&ie._isVisible&&!ie.live?ie.hide(!1,"clear",!1,x):x()},ie.enable=function(){J.disabled=!1,ee.each(ae,(function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)}))},ie.disable=function(){J.disabled=!0,ee.each(ae,(function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)}))},ie.show=function(e,t){var i,r,a,o;if(!J.disabled&&!ie._isVisible){if(ie._readValue(),!1===K("onBeforeShow"))return!1;if(be=null,R=J.animate,L=J.buttons||[],W=E||"bubble"==J.display,B=Pe&&!W&&J.scrollLock,i=L.length>0,!1!==R&&("top"==J.display?R=R||"slidedown":"bottom"==J.display?R=R||"slideup":"center"!=J.display&&"bubble"!=J.display||(R=R||"pop")),U&&(X=0,te=0,B&&!T.hasClass("mbsc-fr-lock-ios")&&(z.mbscScrollTop=o=Math.max(0,S.scrollTop()),z.mbscScrollLeft=a=Math.max(0,S.scrollLeft()),b.css({top:-o+"px",left:-a+"px"})),T.addClass((J.scrollLock?"mbsc-fr-lock":"")+(B?" mbsc-fr-lock-ios":"")+(E?" mbsc-fr-lock-ctx":"")),ee(document.activeElement).is("input,textarea")&&document.activeElement.blur(),Y=D.activeInstance,D.activeInstance=ie,z.mbscModals=(z.mbscModals||0)+1,B&&(z.mbscIOSLock=(z.mbscIOSLock||0)+1),J.scrollLock&&(z.mbscLock=(z.mbscLock||0)+1)),r='<div lang="'+J.lang+'" class="mbsc-fr mbsc-'+J.theme+(J.baseTheme?" mbsc-"+J.baseTheme:"")+" mbsc-fr-"+J.display+" "+(J.cssClass||"")+" "+(J.compClass||"")+(ie._isLiquid?" mbsc-fr-liq":"")+(U?" mbsc-fr-pos"+(J.showOverlay?"":" mbsc-fr-no-overlay"):"")+(N?" mbsc-fr-pointer":"")+(Le?" mbsc-fr-hb":"")+(q?"":" mbsc-no-touch")+(B?" mbsc-platform-ios":"")+(i?L.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(U?'<div class="mbsc-fr-persp">'+(J.showOverlay?'<div class="mbsc-fr-overlay"></div>':"")+'<div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(J.rtl?" mbsc-rtl":" mbsc-ltr")+(J.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===J.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(U?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(J.headerText?'<div class="mbsc-fr-hdr">'+(s(J.headerText)?J.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',r+=ie._generateContent(),r+="</div>",i){var n,l,c,u=L.length;for(r+='<div class="mbsc-fr-btn-cont">',l=0;l<L.length;l++)c=J.btnReverse?u-l-1:l,"set"===(n=s(n=L[c])?ie.buttons[n]:n).handler&&(n.parentClass="mbsc-fr-btn-s"),"cancel"===n.handler&&(n.parentClass="mbsc-fr-btn-c"),r+="<div"+(J.btnWidth?' style="width:'+100/L.length+'%"':"")+' class="mbsc-fr-btn-w '+(n.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+c+" mbsc-fr-btn-e "+(void 0===n.cssClass?J.btnClass:n.cssClass)+(n.icon?" mbsc-ic mbsc-ic-"+n.icon:"")+'">'+(n.text||"")+"</div></div>";r+="</div>"}C=ee(r+="</div></div></div></div>"+(U?"</div></div>":"")),_=ee(".mbsc-fr-persp",C),A=ee(".mbsc-fr-scroll",C),M=ee(".mbsc-fr-w",C),P=ee(".mbsc-fr-popup",C),w=ee(".mbsc-fr-hdr",C),F=C[0],Q=A[0],H=P[0],ie._activeElm=ee(".mbsc-fr-focus",C)[0],ie._markup=C,ie._isVisible=!0,ie.markup=F,ie._markupReady(C),K("onMarkupReady",{target:F}),U&&(ee(window).on("keydown",d),J.scrollLock&&C.on("touchmove mousewheel wheel",(function(e){Z&&e.preventDefault()})),J.focusTrap&&S.on("focusin",h)),U?setTimeout((function(){g(e,t)}),B?100:0):g(e,t)}},ie.hide=function(e,t,i,r){return!(!ie._isVisible||!i&&!ie._isValid&&"set"==t||!i&&!1===K("onBeforeClose",{valueText:ie._tempValue,button:t}))&&(ie._isVisible=!1,G&&(G.detach(),G=null),U&&(ee(document.activeElement).is("input,textarea")&&H.contains(document.activeElement)&&document.activeElement.blur(),D.activeInstance==ie&&(D.activeInstance=Y),ee(window).off("keydown",d),S.off("focusin",h)),C&&(U&&R&&!e?C.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+R).on(me,(function t(){C.off(me,t),p(e)})).find(".mbsc-fr-popup").addClass("mbsc-anim-"+R):p(e),ie._detachEvents(C)),r&&r(),re.trigger("blur"),void K("onClose",{valueText:ie._value}))},ie.isVisible=function(){return ie._isVisible},ie.setVal=i,ie.getVal=i,ie._generateContent=i,ie._attachEvents=i,ie._detachEvents=i,ie._readValue=i,ie._clearValue=i,ie._fillValue=i,ie._markupReady=i,ie._markupInserted=i,ie._markupRemove=i,ie._position=i,ie.__processSettings=i,ie.__init=i,ie.__destroy=i,ie._destroy=function(){ie.hide(!0,!1,!0),re.off(".mbsc"),ee.each(ae,(function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")})),ie.__destroy()},ie._updateHeader=function(){var t=J.headerText,i=t?"function"==typeof t?t.call(e,ie._tempValue):t.replace(/\{value\}/i,ie._tempValue):"";w.html(i||"&nbsp;")},ie._getRespCont=function(){return E="body"!=J.context,S=ee(E?J.context:window),"inline"==J.display?re.is("div")?re:re.parent():S},ie._processSettings=function(e){var i,r;for(ie.__processSettings(e),(N=!J.touchUi)&&(J.display=e.display||t.display||"bubble",J.buttons=e.buttons||t.buttons||[],J.showOverlay=e.showOverlay||t.showOverlay||!1),J.buttons=J.buttons||("inline"!==J.display?["cancel","set"]:[]),J.headerText=void 0===J.headerText?"inline"!==J.display&&"{value}":J.headerText,L=J.buttons||[],U="inline"!==J.display,b=ee(J.context),T=E?b:ee("body,html"),z=b[0],ie.live=!0,r=0;r<L.length;r++)"ok"!=(i=L[r])&&"set"!=i&&"set"!=i.handler||(ie.live=!1);ie.buttons.set={text:J.setText,icon:J.setIcon,handler:"set"},ie.buttons.cancel={text:J.cancelText,icon:J.cancelIcon,handler:"cancel"},ie.buttons.close={text:J.closeText,icon:J.closeIcon,handler:"cancel"},ie.buttons.clear={text:J.clearText,icon:J.clearIcon,handler:"clear"},ie._isInput=re.is("input")},ie._init=function(e){var t=ie._isVisible,i=t&&!C.hasClass("mbsc-fr-pos");t&&ie.hide(!0,!1,!0),re.off(".mbsc"),ie.__init(e),ie._isLiquid="liquid"==J.layout,U?(ie._readValue(),ie._hasContent||J.skipShow||ie.attachShow(re),t&&ie.show(i)):ie.show(),re.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",(function(){ie._preventChange||ie.setVal(re.val(),!0,!1),ie._preventChange=!1}))},ie.buttons={},ie.handlers={set:ie.select,cancel:ie.cancel,clear:ie.clear},ie._value=null,ie._isValid=!0,ie._isVisible=!1,J=ie.settings,K=ie.trigger,r||ie.init()};ze.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:Se||ke,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,showOverlay:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!Me},re.Frame=ze,_e.frame.mobiscroll={headerText:!1,btnWidth:!1},_e.scroller.mobiscroll=oe({},_e.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),B&&ee(window).on("focus",(function(){be&&(we=!0)}));var Re="ios"==N,Ee=function(e,t,i){function r(e){me("onStart",{domEvent:e}),we.stopProp&&e.stopPropagation(),we.prevDef&&e.preventDefault(),we.readonly||we.lock&&j||A(e,this)&&!$&&(x&&x.removeClass("mbsc-active"),E=!1,j||(x=ee(e.target).closest(".mbsc-btn-e",this)).length&&!x.hasClass("mbsc-disabled")&&(E=!0,T=setTimeout((function(){x.addClass("mbsc-active")}),100)),$=!0,q=!1,W=!1,ve.scrolled=j,oe=c(e,"X"),le=c(e,"Y"),D=oe,P=0,S=0,k=0,se=new Date,ae=+_(de,he)||0,j&&y(ae,Re?0:1),"mousedown"===e.type&&ee(document).on("mousemove",n).on("mouseup",d))}function n(e){$&&(we.stopProp&&e.stopPropagation(),D=c(e,"X"),z=c(e,"Y"),P=D-oe,S=z-le,k=he?S:P,E&&(Math.abs(S)>we.thresholdY||Math.abs(P)>we.thresholdX)&&(clearTimeout(T),x.removeClass("mbsc-active"),E=!1),(ve.scrolled||!W&&Math.abs(k)>pe)&&(q||me("onGestureStart",R),ve.scrolled=q=!0,G||(G=!0,B=J(l))),he||we.scrollLock?e.preventDefault():ve.scrolled?e.preventDefault():Math.abs(S)>7&&(W=!0,ve.scrolled=!0,d()))}function l(){N&&(k=o(k,-ie*N,ie*N)),y(o(ae+k,F-I,O+I)),G=!1}function d(e){if($){var t,i=new Date-se;we.stopProp&&e&&e.stopPropagation(),Z(B),G=!1,!W&&ve.scrolled&&(we.momentum&&i<300&&(t=k/i,k=Math.max(Math.abs(k),t*t/we.speedUnit)*(k<0?-1:1)),v(k)),E&&(clearTimeout(T),x.addClass("mbsc-active"),setTimeout((function(){x.removeClass("mbsc-active")}),100),W||ve.scrolled||me("onBtnTap",{target:x[0],domEvent:e})),e&&"mouseup"==e.type&&ee(document).off("mousemove",n).off("mouseup",d),$=!1}}function u(e){if(e=e.originalEvent||e,k=he?null==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,me("onStart",{domEvent:e}),we.stopProp&&e.stopPropagation(),k){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(k*=15),k=o(-k,-X,X),ae=fe,we.readonly)return;if(q||f(),ae+k<F&&(ae=F,k=0),ae+k>O&&(ae=O,k=0),G||(G=!0,B=J(l)),!k&&q)return;q=!0,clearTimeout(K),K=setTimeout((function(){Z(B),G=!1,q=!1,v(k)}),200)}}function p(e){me("onStart",{domEvent:e}),we.readonly||(e.stopPropagation(),ae=fe,q=!1,e.target==Q?(le=c(e,"Y",!0),ee(document).on("mousemove",m).on("mouseup",h)):(le=b.offset().top,m(e),h()))}function m(e){var t=(c(e,"Y",!0)-le)/C;U?k=o(k=-(N*ie*2+C)*t,-ie*N,ie*N):k=(F-O-C)*t,q||f(),q=!0,y(o(ae+k,F-I,O+I))}function h(){ae=fe,v(0),ee(document).off("mousemove",m).off("mouseup",h)}function g(e){e.stopPropagation()}function f(){me("onGestureStart",R={posX:he?0:fe,posY:he?fe:0,originX:he?0:ae,originY:he?ae:0,direction:k>0?he?270:360:he?90:180})}function v(e){var t,i,r;if(N&&(e=o(e,-ie*N,ie*N)),r=o(Math.round((ae+e)/ie)*ie,F,O),re){if(e<0){for(t=re.length-1;t>=0;t--)if(Math.abs(r)+C>=re[t].breakpoint){xe=t,be=2,r=re[t].snap2;break}}else if(e>=0)for(t=0;t<re.length;t++)if(Math.abs(r)<=re[t].breakpoint){xe=t,be=1,r=re[t].snap1;break}r=o(r,F,O)}i=we.time||(fe<F||fe>O?1e3:Math.max(1e3,Math.abs(r-fe)*we.timeUnit)),R.destinationX=he?0:r,R.destinationY=he?r:0,R.duration=i,R.transitionTiming=L,me("onGestureEnd",R),ve.scroll(r,i)}function y(e,t,i,r){var a,s=e!=fe,o=t>1,n=t?ge+"transform "+Math.round(t)+"ms "+L:"",l=function(){clearInterval(te),clearTimeout(ue),j=!1,fe=e,R.posX=he?0:e,R.posY=he?e:0,s&&me("onMove",R),o&&me("onAnimationEnd",R),r&&r()};R={posX:he?0:fe,posY:he?fe:0,originX:he?0:ae,originY:he?ae:0,direction:e-fe>0?he?270:360:he?90:180},fe=e,o&&(R.destinationX=he?0:e,R.destinationY=he?e:0,R.duration=t,R.transitionTiming=L,me("onAnimationStart",R)),ce[ye+"Transition"]=n,ce[ye+"Transform"]="translate3d("+(he?"0,"+e+"px,":e+"px,0,")+"0)",Q&&H&&(a=U?(V-e)/(N*ie*2):(e-O)/(F-O),Q.style[ye+"Transition"]=n,Q.style[ye+"Transform"]="translate3d(0,"+Math.max(0,Math.min((C-H)*a,C-H))+"px,0)"),!s&&!j||!t||t<=1?l():t&&(j=!i,clearInterval(te),te=setInterval((function(){var t=+_(de,he)||0;R.posX=he?0:t,R.posY=he?t:0,me("onMove",R),Math.abs(t-e)<2&&l()}),100),clearTimeout(ue),ue=setTimeout((function(){l()}),t)),we.sync&&we.sync(e,t,L)}var x,b,w,T,C,P,S,k,M,L,I,D,z,R,E,U,O,N,F,$,j,W,B,G,Q,H,V,Y,q,K,X,te,ie,re,ae,se,oe,le,ce,de,ue,pe,me,he,fe,ve=this,xe=0,be=1,we=t,Te=ee(e);ne.call(this,e,t,!0),ve.scrolled=!1,ve.scroll=function(t,i,r,s){t=o(t=a(t)?Math.round(t/ie)*ie:Math.ceil((ee(t,e).length?Math.round(de.offset()[M]-ee(t,e).offset()[M]):fe)/ie)*ie,F,O),xe=Math.round(t/ie),ae=fe,V=N*ie+t,y(t,i,r,s)},ve.refresh=function(e){var t;for(C=(void 0===we.contSize?he?Te.height():Te.width():we.contSize)||0,O=(void 0===we.maxScroll?0:we.maxScroll)||0,F=Math.min(O,void 0===we.minScroll?Math.min(0,he?C-de.height():C-de.width()):we.minScroll)||0,re=null,!he&&we.rtl&&(t=O,O=-F,F=-t),s(we.snap)&&(re=[],de.find(we.snap).each((function(){var e=he?this.offsetTop:this.offsetLeft,t=he?this.offsetHeight:this.offsetWidth;re.push({breakpoint:e+t/2,snap1:-e,snap2:C-e-t})}))),ie=a(we.snap)?we.snap:1,N=we.snap?we.maxSnapScroll:0,L=we.easing,I=we.elastic?a(we.snap)?ie:a(we.elastic)?we.elastic:0:0,X=ie;X>44;)X/=2;X=Math.round(44/X)*X,Q&&(U=F==-1/0||O==1/0,H=F<O?Math.max(20,C*C/(O-F+C)):0,Q.style.height=H+"px",Y.style.height=H?"":0),void 0===fe&&(fe=we.initialPos,xe=Math.round(fe/ie)),e||ve.scroll(we.snap?re?re[xe]["snap"+be]:xe*ie:fe)},ve._processSettings=function(){he="Y"==we.axis,M=he?"top":"left",de=we.moveElement||Te.children().eq(0),ce=de[0].style,pe=he?we.thresholdY:we.thresholdX,we.scrollbar&&(w=we.scrollbar,b=w.find(".mbsc-sc-bar"),Q=b[0],Y=w[0])},ve._init=function(){ve.refresh(),Te.on("touchstart mousedown",r).on("touchmove",n).on("touchend touchcancel",d),we.mousewheel&&Te.on("wheel mousewheel",u),Q&&w.on("mousedown",p).on("click",g),e.addEventListener("click",(function(e){ve.scrolled&&(ve.scrolled=!1,e.stopPropagation(),e.preventDefault())}),!0)},ve._destroy=function(){clearInterval(te),Te.off("touchstart mousedown",r).off("touchmove",n).off("touchend touchcancel",d).off("wheel mousewheel",u),Q&&w.off("mousedown",p).off("click",g)},we=ve.settings,me=ve.trigger,i||ve.init()};Ee.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};var Ue={},Oe=B?window.CSS:null,Ne=Oe&&Oe.supports&&Oe.supports("(transform-style: preserve-3d)"),Fe=function(e,t,i){function s(e){var t,i,r=+ee(this).attr("data-index");38==e.keyCode?(t=!0,i=-1):40==e.keyCode?(t=!0,i=1):32==e.keyCode&&(t=!0,n(r,ee(e.target))),t&&(e.stopPropagation(),e.preventDefault(),i&&I.start(r,i,e))}function o(){I.stop()}function n(e,t){var i=$[e],s=+t.attr("data-index"),o=h(i,s),n=G._tempSelected[e],l=a(i.multiple)?i.multiple:1/0;!1!==N("onItemTap",{target:t[0],index:e,value:o,selected:t.hasClass("mbsc-sc-itm-sel")})&&(i.multiple&&!i._disabled[o]&&(void 0!==n[o]?(t.removeClass(k).removeAttr("aria-selected"),delete n[o]):(1==l&&(G._tempSelected[e]=n={},i._$markup.find(".mbsc-sc-itm-sel").removeClass(k).removeAttr("aria-selected")),r(n).length<l&&(t.addClass(k).attr("aria-selected","true"),n[o]=o))),w(i,e,s,B,i._index<s?1:2,!0,i.multiple),G.live&&(!i.multiple||1===i.multiple&&O.tapSelect)&&(!0===O.setOnTap||O.setOnTap[e])&&setTimeout((function(){G.select()}),O.tapSelect?0:200))}function l(e){return-(e.max-e._offset-(e.multiple&&!P?Math.floor(O.rows/2):0))*z}function c(e){return-(e.min-e._offset+(e.multiple&&!P?Math.floor(O.rows/2):0))*z}function d(e,t){return(e._array?e._map[t]:+e.getIndex(t,G))||0}function u(e,t){var i=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?ee(i).get(t%e._length):i[t]:ee.isFunction(i)?i(t,G):""}function p(e){return ee.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function m(e){var t=ee.isPlainObject(e)?e.display:e;return void 0===t?"":t}function h(e,t){return p(u(e,t))}function g(e,t,i){var r=$[e];w(r,e,r._index+t,O.delay+100,1==t?1:2,!1,!1,"keydown"==i.type)}function f(e){return ee.isArray(O.readonly)?O.readonly[e]:O.readonly}function v(e,t,i){var r=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=ee.isArray(e.data),e._array&&(e._length=e.data.length,ee.each(e.data,(function(t,i){e._map[p(i)]=t}))),e.circular=void 0===O.circular?void 0===e.circular?e._array&&e._length>O.rows:e.circular:ee.isArray(O.circular)?O.circular[t]:O.circular,e.min=e._array?e.circular?-1/0:0:void 0===e.min?-1/0:e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=d(e,D[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-W,e._last=e._index+W,e._offset=e._first,i?(e._offset-=e._margin/z+(e._index-r),e._margin+=(e._index-r)*z):e._margin=0,e._refresh=function(t){oe(e._scroller.settings,{minScroll:l(e),maxScroll:c(e)}),e._scroller.refresh(t)},j[e.key]=e,e}function y(e,t,i,r,a){var s,o,n,l,c,d,h,g,f="",v=G._tempSelected[t],y=e._disabled||{};for(s=i;s<=r;s++)c=m(n=u(e,s)),l=p(n),o=n&&void 0!==n.cssClass?n.cssClass:"",d=n&&void 0!==n.label?n.label:"",h=n&&n.invalid,g=void 0!==l&&l==D[t]&&!e.multiple,f+='<div role="option" tabindex="-1" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(a?"mbsc-sc-itm-3d ":"")+o+" "+(g?"mbsc-sc-itm-sel ":"")+(v[l]?k:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(h?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(y[l]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+s+'" data-val="'+M(l)+'"'+(d?' aria-label="'+d+'"':"")+(g?' aria-selected="true"':"")+' style="height:'+z+"px;line-height:"+z+"px;"+(a?ge+"transform:rotateX("+(e._offset-s)*_%360+"deg) translateZ("+z*O.rows/2+"px);":"")+'">'+(F>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(z/F)+"px;font-size:"+Math.round(z/F*.8)+'px;">':"")+c+(F>1?"</div>":"")+"</div>";return f}function x(e,t,i,r){var a,s=$[e],o=r||s._disabled,n=d(s,t),l=h(s,n),c=l,u=l,p=0,m=0;if(!0===o[l]){for(a=0;n-p>=s.min&&o[c]&&a<100;)a++,c=h(s,n-++p);for(a=0;n+m<s.max&&o[u]&&a<100;)a++,u=h(s,n+ ++m);l=(m<p&&m&&2!==i||!p||n-p<0||1==i)&&!o[u]?u:c}return l}function b(t,i,r,a,s,o,n){var l,c,u,p,m=G._isVisible;U=!0,p=O.validate.call(e,{values:D.slice(0),index:i,direction:r},G)||{},U=!1,p.valid&&(G._tempWheelArray=D=p.valid.slice(0)),o||ee.each($,(function(e,a){if(m&&a._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),a._disabled={},p.disabled&&p.disabled[e]&&ee.each(p.disabled[e],(function(e,t){a._disabled[t]=!0,m&&a._$markup.find('.mbsc-sc-itm[data-val="'+M(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")})),D[e]=a.multiple?D[e]:x(e,D[e],r),m){if(a.multiple&&void 0!==i||a._$markup.find(".mbsc-sc-itm-sel").removeClass(k).removeAttr("aria-selected"),c=d(a,D[e]),l=c-a._index+a._batch,Math.abs(l)>2*W+1&&(u=l+(2*W+1)*(l>0?-1:1),a._offset+=u,a._margin-=u*z,a._refresh()),a._index=c+a._batch,a.multiple){if(void 0===i)for(var o in G._tempSelected[e])a._$markup.find('.mbsc-sc-itm[data-val="'+M(o)+'"]').addClass(k).attr("aria-selected","true")}else a._$markup.find('.mbsc-sc-itm[data-val="'+M(D[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");a._$active&&a._$active.attr("tabindex",-1),a._$active=a._$markup.find('.mbsc-sc-itm[data-index="'+a._index+'"]').eq(P&&a.multiple?1:0).attr("tabindex",0),n&&i===e&&a._$active.length&&(a._$active[0].focus(),a._$scroller.parent().scrollTop(0)),a._scroller.scroll(-(c-a._offset+a._batch)*z,i===e||void 0===i?t:B,s)}})),N("onValidated",{index:i,time:t}),G._tempValue=O.formatValue.call(e,D,G),m&&G._updateHeader(),G.live&&function(e,t){var i=$[e];return i&&(!i.multiple||1!==i.multiple&&t&&(!0===O.setOnTap||O.setOnTap[e]))}(i,o)&&(G._hasValue=a||G._hasValue,T(a,a,0,!0),a&&N("onSet",{valueText:G._value})),a&&N("onChange",{index:i,valueText:G._tempValue})}function w(e,t,i,r,a,s,o,n){var l=h(e,i);void 0!==l&&(D[t]=l,e._batch=e._array?Math.floor(i/e._length)*e._length:0,e._index=i,setTimeout((function(){b(r,t,a,!0,s,o,n)}),10))}function T(t,i,r,a,s){if(a?G._tempValue=O.formatValue.call(e,G._tempWheelArray,G):b(r),!s){G._wheelArray=[];for(var o=0;o<D.length;o++)G._wheelArray[o]=$[o]&&$[o].multiple?Object.keys(G._tempSelected[o]||{})[0]:D[o];G._value=G._hasValue?G._tempValue:null,G._selected=oe(!0,{},G._tempSelected)}t&&(G._isInput&&Q.val(G._hasValue?G._tempValue:""),N("onFill",{valueText:G._hasValue?G._tempValue:"",change:i}),i&&(G._preventChange=!0,Q.trigger("change")))}var C,A,_,P,k,L,I,D,z,R,E,U,O,N,F,$,j,W=40,B=1e3,G=this,Q=ee(e);ze.call(this,e,t,!0),G.setVal=G._setVal=function(t,i,r,a,s){G._hasValue=null!=t,G._tempWheelArray=D=ee.isArray(t)?t.slice(0):O.parseValue.call(e,t,G)||[],T(i,void 0===r?i:r,s,!1,a)},G.getVal=G._getVal=function(e){var t=G._hasValue||e?G[e?"_tempValue":"_value"]:null;return a(t)?+t:t},G.setArrayVal=G.setVal,G.getArrayVal=function(e){return e?G._tempWheelArray:G._wheelArray},G.changeWheel=function(e,t,i){var r,a;ee.each(e,(function(e,t){(a=j[e])&&(r=a._nr,oe(a,t),v(a,r,!0),G._isVisible&&(P&&a._$3d.html(y(a,r,a._first+W-A+1,a._last-W+A,!0)),a._$scroller.html(y(a,r,a._first,a._last)).css("margin-top",a._margin+"px"),a._refresh(U)))})),!G._isVisible||G._isLiquid||U||G.position(),U||b(t,void 0,void 0,i)},G.getValidValue=x,G._generateContent=function(){var e,t=0,i="",r=P?ge+"transform: translateZ("+(z*O.rows/2+3)+"px);":"",a='<div class="mbsc-sc-whl-l" style="'+r+"height:"+z+"px;margin-top:-"+(z/2+(O.selectedLineBorder||0))+'px;"></div>',s=0;return ee.each(O.wheels,(function(o,n){i+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(P?" mbsc-sc-whl-gr-3d-c":"")+(O.showLabel?" mbsc-sc-lbl-v":"")+'">'+a+'<div class="mbsc-sc-whl-gr'+(P?" mbsc-sc-whl-gr-3d":"")+(L?" mbsc-sc-cp":"")+(O.width||O.maxWidth?'"':'" style="max-width:'+O.maxPopupWidth+'px;"')+">",ee.each(n,(function(o,n){G._tempSelected[s]=oe({},G._selected[s]),$[s]=v(n,s),t+=O.maxWidth?O.maxWidth[s]||O.maxWidth:O.width?O.width[s]||O.width:0,e=void 0!==n.label?n.label:o,i+='<div class="mbsc-sc-whl-w '+(n.cssClass||"")+(n.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(O.width?"width:"+(O.width[s]||O.width)+"px;":(O.minWidth?"min-width:"+(O.minWidth[s]||O.minWidth)+"px;":"")+(O.maxWidth?"max-width:"+(O.maxWidth[s]||O.maxWidth)+"px;":""))+'">'+(E?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+r+'"></div>'+a+'<div aria-live="off" aria-label="'+e+'"'+(n.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+s+'" class="mbsc-sc-whl" style="height:'+O.rows*z*(P?1.1:1)+'px;">'+(L?'<div data-index="'+s+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(O.btnPlusClass||"")+'"></div><div data-index="'+s+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(O.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+R+"px;margin-top:-"+(R/2+1)+"px;"+r+'"><div class="mbsc-sc-whl-sc" style="top:'+(R-z)/2+'px;">',i+=y(n,s,n._first,n._last)+"</div></div>",P&&(i+='<div class="mbsc-sc-whl-3d" style="height:'+z+"px;margin-top:-"+z/2+'px;">',i+=y(n,s,n._first+W-A+1,n._last-W+A,!0),i+="</div>"),i+="</div></div>",s++})),i+="</div></div>"})),t&&(O.maxPopupWidth=t),i},G._attachEvents=function(e){I=S(ee(".mbsc-sc-btn",e),g,O.delay,f,!0),ee(".mbsc-sc-whl",e).on("keydown",s).on("keyup",o)},G._detachEvents=function(){I.stop();for(var e=0;e<$.length;e++)$[e]._scroller.destroy()},G._markupReady=function(e){ee(".mbsc-sc-whl-w",C=e).each((function(e){var t,i=ee(this),r=$[e];r._$markup=i,r._$scroller=ee(".mbsc-sc-whl-sc",this),r._$3d=ee(".mbsc-sc-whl-3d",this),r._scroller=new Ee(this,{mousewheel:O.mousewheel,moveElement:r._$scroller,scrollbar:ee(".mbsc-sc-bar-c",this),initialPos:(r._first-r._index)*z,contSize:O.rows*z,snap:z,minScroll:l(r),maxScroll:c(r),maxSnapScroll:W,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,i){var a=t?ge+"transform "+Math.round(t)+"ms "+i:"";P&&(r._$3d[0].style[ye+"Transition"]=a,r._$3d[0].style[ye+"Transform"]="rotateX("+-e/z*_+"deg)")},onStart:function(t,i){i.settings.readonly=f(e)},onGestureStart:function(){i.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),N("onWheelGestureStart",{index:e})},onGestureEnd:function(i){var a=90==i.direction?1:2,s=i.duration,o=i.destinationY;t=Math.round(-o/z)+r._offset,w(r,e,t,s,a)},onAnimationStart:function(){i.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){i.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),N("onWheelAnimationEnd",{index:e}),r._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){!function(e,t,i){var r=Math.round(-i/z)+e._offset,a=r-e._current,s=e._first,o=e._last,n=s+W-A+1,l=o-W+A;a&&(e._first+=a,e._last+=a,e._current=r,a>0?(e._$scroller.append(y(e,t,Math.max(o+1,s+a),o+a)),ee(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(a,o-s+1)).remove(),P&&(e._$3d.append(y(e,t,Math.max(l+1,n+a),l+a,!0)),ee(".mbsc-sc-itm",e._$3d).slice(0,Math.min(a,l-n+1)).attr("class","mbsc-sc-itm-del"))):a<0&&(e._$scroller.prepend(y(e,t,s+a,Math.min(s-1,o+a))),ee(".mbsc-sc-itm",e._$scroller).slice(Math.max(a,s-o-1)).remove(),P&&(e._$3d.prepend(y(e,t,n+a,Math.min(n-1,l+a),!0)),ee(".mbsc-sc-itm",e._$3d).slice(Math.max(a,n-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=a*z,e._$scroller.css("margin-top",e._margin+"px"))}(r,e,t.posY)},onBtnTap:function(t){n(e,ee(t.target))}})})),b()},G._fillValue=function(){G._hasValue=!0,T(!0,!0,0,!0)},G._clearValue=function(){ee(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",C).removeClass(k).removeAttr("aria-selected")},G._readValue=function(){var t=Q.val()||"",i=0;""!==t&&(G._hasValue=!0),G._tempWheelArray=D=G._hasValue&&G._wheelArray?G._wheelArray.slice(0):O.parseValue.call(e,t,G)||[],G._tempSelected=oe(!0,{},G._selected),ee.each(O.wheels,(function(e,t){ee.each(t,(function(e,t){$[i]=v(t,i),i++}))})),T(!1,!1,0,!0),N("onRead")},G.__processSettings=function(e){O=G.settings,N=G.trigger,F=O.multiline,k="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+O.checkIcon,(E=!O.touchUi)&&(O.tapSelect=!0,O.circular=!1,O.rows=e.rows||t.rows||7)},G.__init=function(e){e&&(G._wheelArray=null),$=[],j={},L=O.showScrollArrows,P=O.scroll3d&&Ne&&!L&&!E&&("ios"==O.theme||"ios"==O.baseTheme),z=O.height,R=P?2*Math.round((z-.03*(z*O.rows/2+3))/2):z,A=Math.round(1.8*O.rows),_=360/(2*A),L&&(O.rows=Math.max(3,O.rows))},G._getItemValue=p,G._tempSelected={},G._selected={},i||G.init()};Fe.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:Ue,_defaults:oe({},ze.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var i,r,a=[],s=[],o=0;return null!=e&&(a=(e+"").split(" ")),ee.each(t.settings.wheels,(function(e,n){ee.each(n,(function(e,n){r=n.data,i=t._getItemValue(r[0]),ee.each(r,(function(e,r){if(a[o]==t._getItemValue(r))return i=t._getItemValue(r),!1})),s.push(i),o++}))})),s}})},re.Scroller=Fe;var $e={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},je=function(e){function t(e){var t,i,r,a,s=[];if(e){for(t=0;t<e.length;t++)if((i=e[t]).start&&i.end&&!ce.test(i.start))for(r=new Date(w(i.start,N,E)),a=new Date(w(i.end,N,E));r<=a;)s.push(m(r.getFullYear(),r.getMonth(),r.getDate())),r.setDate(r.getDate()+1);else s.push(i);return s}return e}function i(e,t,i,r){return Math.min(r,Math.floor(e/t)*t+i)}function r(e,t,i){return Math.floor((i-t)/e)*e+t}function a(e){return e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())}function s(e,t,i,r){var a;return void 0===S[t]||(a=+e[S[t]],isNaN(a))?i?ve[t](i):void 0!==k[t]?k[t]:ve[t](r):a}function o(e){var t,i=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==S.dd&&(t=e[S.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==S.tt&&(t=t||i,t=new Date(t.getTime()+e[S.tt]%86400*1e3));var r=s(e,"y",t,i),a=s(e,"m",t,i),o=Math.min(s(e,"d",t,i),E.getMaxDayOfMonth(r,a)),n=s(e,"h",t,i);return E.getDate(r,a,o,J&&s(e,"a",t,i)?n+12:n,s(e,"i",t,i),s(e,"s",t,i),s(e,"u",t,i))}function l(e,t){var i,r,a=["y","m","d","a","h","i","s","u","dd","tt"],s=[];if(null==e)return e;for(i=0;i<a.length;i++)void 0!==S[r=a[i]]&&(s[S[r]]=ve[r](e)),t&&(k[r]=ve[r](e));return s}function c(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function d(e){return{value:e,display:(/yy/i.test(j)?e:(e+"").substr(2,2))+(E.yearSuffix||"")}}function u(e){return e}function p(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:H?c(a(H),t):void 0,max:V?c(a(V),t):void 0,data:function(i){var r=new Date((new Date).setHours(0,0,0,0)),s=t?new Date(864e5*i):new Date(1970,i,1);return t&&(s=new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())),{invalid:t&&!y(s,!0),value:a(s),display:r.getTime()==s.getTime()?E.todayText:h(e,s,E)}},getIndex:function(e){return c(e,t)}}}function f(e){var t,i,r,a=[];for(/s/i.test(e)?i=te:/i/i.test(e)?i=60*X:/h/i.test(e)&&(i=3600*K),A=fe.tt=i,t=0;t<86400;t+=i)r=new Date((new Date).setHours(0,0,0,0)+1e3*t),a.push({value:t,display:h(e,r,E)});return{label:"",cssClass:"mbsc-dt-whl-time",data:a}}function v(e,t){return E.getYear(e)===E.getYear(t)&&E.getMonth(e)===E.getMonth(t)}function y(e,t){return!(!t&&e<H||!t&&e>V||!x(e,Q)&&x(e,G))}function x(e,t){var i,r,a;if(t)for(r=0;r<t.length;r++)if(a=(i=t[r])+"",!i.start)if(ue.test(a)){if((a=+a.replace("w",""))==e.getDay())return!0}else if(de.test(a)){if((a=a.split("/"))[1]){if(a[0]-1==e.getMonth()&&a[1]==e.getDate())return!0}else if(a[0]==e.getDate())return!0}else if(i=w(i,N,E),e.getFullYear()==i.getFullYear()&&e.getMonth()==i.getMonth()&&e.getDate()==i.getDate())return!0;return!1}function T(e,t,i,r,a,s,o){var n,l,c,d;if(e)for(l=0;l<e.length;l++)if(d=(n=e[l])+"",!n.start)if(ue.test(d))for(c=(d=+d.replace("w",""))-r;c<a;c+=7)c>=0&&(s[c+1]=o);else de.test(d)?(d=d.split("/"))[1]?d[0]-1==i&&(s[d[1]]=o):s[d[0]]=o:(n=w(n,N,E),E.getYear(n)==t&&E.getMonth(n)==i&&(s[E.getDay(n)]=o))}function C(e,t,r,a,s,o,n,l){var c,d,u,p,m,h,g,f,v,y,x,b,w,T,C,_,P,S,k,M,I={},D=E.getDate(a,s,o),z=["a","h","i","s"];if(e){for(g=0;g<e.length;g++)(x=e[g]).start&&(x.apply=!1,S=(P=(u=x.d)+"").split("/"),u&&(u.getTime&&a==E.getYear(u)&&s==E.getMonth(u)&&o==E.getDay(u)||!ue.test(P)&&(S[1]&&o==S[1]&&s==S[0]-1||!S[1]&&o==S[0])||ue.test(P)&&D.getDay()==+P.replace("w",""))&&(x.apply=!0,I[D]=!0));for(g=0;g<e.length;g++)if(x=e[g],c=0,_=0,f=he[r],v=ge[r],T=!0,C=!0,d=!1,x.start&&(x.apply||!x.d&&!I[D])){for(b=x.start.split(":"),w=x.end.split(":"),y=0;y<3;y++)void 0===b[y]&&(b[y]=0),void 0===w[y]&&(w[y]=59),b[y]=+b[y],w[y]=+w[y];if("tt"==r)f=i(Math.round((new Date(D).setHours(b[0],b[1],b[2])-new Date(D).setHours(0,0,0,0))/1e3),A,0,86400),v=i(Math.round((new Date(D).setHours(w[0],w[1],w[2])-new Date(D).setHours(0,0,0,0))/1e3),A,0,86400);else{for(b.unshift(b[0]>11?1:0),w.unshift(w[0]>11?1:0),J&&(b[1]>=12&&(b[1]=b[1]-12),w[1]>=12&&(w[1]=w[1]-12)),y=0;y<t;y++)void 0!==L[y]&&(k=i(b[y],fe[z[y]],he[z[y]],ge[z[y]]),M=i(w[y],fe[z[y]],he[z[y]],ge[z[y]]),p=0,m=0,h=0,J&&1==y&&(p=b[0]?12:0,m=w[0]?12:0,h=L[0]?12:0),T||(k=0),C||(M=ge[z[y]]),(T||C)&&k+p<L[y]+h&&L[y]+h<M+m&&(d=!0),L[y]!=k&&(T=!1),L[y]!=M&&(C=!1));if(!l)for(y=t+1;y<4;y++)b[y]>0&&(c=fe[r]),w[y]<ge[z[y]]&&(_=fe[r]);d||(k=i(b[t],fe[r],he[r],ge[r])+c,M=i(w[t],fe[r],he[r],ge[r])-_,T&&(f=k),C&&(v=M))}if(T||C||d)for(y=f;y<=v;y+=fe[r])n[y]=!l}}}var A,_,P,S={},k={},M={},L=[],I=function(e){var t,i,r,a={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",a.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}a.format=t,i=e.attr("min"),r=e.attr("max"),i&&"undefined"!=i&&(a.min=g(t,i)),r&&"undefined"!=r&&(a.max=g(t,r))}return a}(ee(this)),D=oe({},e.settings),z=R[D.calendarSystem],E=oe(e.settings,pe,z,$e,I,D),U=E.preset,O="datetime"==U?E.dateFormat+E.separator+E.timeFormat:"time"==U?E.timeFormat:E.dateFormat,N=I.format||O,F=E.dateWheels||E.dateFormat,$=E.timeWheels||E.timeFormat,j=E.dateWheels||E.dateDisplay,W=$,B=E.baseTheme||E.theme,G=t(E.invalid),Q=t(E.valid),H=w(E.min,N,E),V=w(E.max,N,E),Y=/time/i.test(U),J=/h/.test(W),Z=/D/.test(j),q=E.steps||{},K=q.hour||E.stepHour||1,X=q.minute||E.stepMinute||1,te=q.second||E.stepSecond||1,ie=q.zeroBased,re=ie||!H?0:H.getHours()%K,ae=ie||!H?0:H.getMinutes()%X,se=ie||!H?0:H.getSeconds()%te,ne=r(K,re,J?11:23),le=r(X,ae,59),me=r(X,ae,59),he={y:H?H.getFullYear():-1/0,m:0,d:1,h:re,i:ae,s:se,a:0,tt:0},ge={y:V?V.getFullYear():1/0,m:11,d:31,h:ne,i:le,s:me,a:1,tt:86400},fe={y:1,m:1,d:1,h:K,i:X,s:te,a:1,tt:1},ve={y:function(e){return E.getYear(e)},m:function(e){return E.getMonth(e)},d:function(e){return E.getDay(e)},h:function(e){var t=e.getHours();return i(t=J&&t>=12?t-12:t,K,re,ne)},i:function(e){return i(e.getMinutes(),X,ae,le)},s:function(e){return i(e.getSeconds(),te,se,me)},u:function(e){return e.getMilliseconds()},a:function(e){return e.getHours()>11?1:0},dd:a,tt:function(e){return i(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),A||1,0,86400)}};return e.getVal=function(t){return e._hasValue||t?b(o(e.getArrayVal(t)),E,N):null},e.getDate=function(t){return e._hasValue||t?o(e.getArrayVal(t)):null},e.setDate=function(t,i,r,a,s){e.setArrayVal(l(t,!0),i,s,a,r)},P=function(){var e,t,i,r,a,s,o,l,c=0,m=[],h=[],g=[];if(/date/i.test(U)){for(e=F.split(/\|/.test(F)?"|":""),r=0;r<e.length;r++)if(s=0,(i=e[r]).length)if(/y/i.test(i)&&(M.y=1,s++),/m/i.test(i)&&(M.y=1,M.m=1,s++),/d/i.test(i)&&(M.y=1,M.m=1,M.d=1,s++),s>1&&void 0===S.dd)S.dd=c,c++,h.push(p(i)),g=h,_=!0;else if(/y/i.test(i)&&void 0===S.y)S.y=c,c++,h.push({cssClass:"mbsc-dt-whl-y",label:E.yearText,min:H?E.getYear(H):void 0,max:V?E.getYear(V):void 0,data:d,getIndex:u});else if(/m/i.test(i)&&void 0===S.m){for(S.m=c,o=[],c++,a=0;a<12;a++)l=j.replace(/[dy|]/gi,"").replace(/mm/,n(a+1)+(E.monthSuffix||"")).replace(/m/,a+1+(E.monthSuffix||"")),o.push({value:a,display:/MM/.test(l)?l.replace(/MM/,'<span class="mbsc-dt-month">'+E.monthNames[a]+"</span>"):l.replace(/M/,'<span class="mbsc-dt-month">'+E.monthNamesShort[a]+"</span>")});h.push({cssClass:"mbsc-dt-whl-m",label:E.monthText,data:o})}else if(/d/i.test(i)&&void 0===S.d){for(S.d=c,o=[],c++,a=1;a<32;a++)o.push({value:a,display:(/dd/i.test(j)?n(a):a)+(E.daySuffix||"")});h.push({cssClass:"mbsc-dt-whl-d",label:E.dayText,data:o})}m.push(h)}if(/time/i.test(U)){for(t=$.split(/\|/.test($)?"|":""),r=0;r<t.length;r++)if(s=0,(i=t[r]).length&&(/h/i.test(i)&&(M.h=1,s++),/i/i.test(i)&&(M.i=1,s++),/s/i.test(i)&&(M.s=1,s++),/a/i.test(i)&&s++),s>1&&void 0===S.tt)S.tt=c,c++,g.push(f(i));else if(/h/i.test(i)&&void 0===S.h){for(o=[],S.h=c,M.h=1,c++,a=re;a<(J?12:24);a+=K)o.push({value:a,display:J&&0===a?12:/hh/i.test(W)?n(a):a});g.push({cssClass:"mbsc-dt-whl-h",label:E.hourText,data:o})}else if(/i/i.test(i)&&void 0===S.i){for(o=[],S.i=c,M.i=1,c++,a=ae;a<60;a+=X)o.push({value:a,display:/ii/i.test(W)?n(a):a});g.push({cssClass:"mbsc-dt-whl-i",label:E.minuteText,data:o})}else if(/s/i.test(i)&&void 0===S.s){for(o=[],S.s=c,M.s=1,c++,a=se;a<60;a+=te)o.push({value:a,display:/ss/i.test(W)?n(a):a});g.push({cssClass:"mbsc-dt-whl-s",label:E.secText,data:o})}else/a/i.test(i)&&void 0===S.a&&(S.a=c,c++,g.push({cssClass:"mbsc-dt-whl-a",label:E.ampmText,data:/A/.test(i)?[{value:0,display:E.amText.toUpperCase()},{value:1,display:E.pmText.toUpperCase()}]:[{value:0,display:E.amText},{value:1,display:E.pmText}]}));g!=h&&m.push(g)}return m}(),E.isoParts=M,e._format=O,e._order=S,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:E.nowText,icon:E.nowIcon,handler:"now"},{minWidth:_&&Y?{bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50}[B]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:P,headerText:!!E.headerText&&function(){return h(O,o(e.getArrayVal(!0)),E)},formatValue:function(e){return h(N,o(e),E)},parseValue:function(t){return t||(k={},e._hasValue=!1),l(w(t||E.defaultValue||new Date,N,E,M),!!t)},validate:function(t){var i,r,a,s,n=t.values,c=t.index,d=t.direction,u=E.wheels[0][S.d],p=function(e,t){var i,r,a=!1,s=!1,n=0,c=0,d=H?o(l(H)):-1/0,u=V?o(l(V)):1/0;if(y(e))return e;if(e<d&&(e=d),e>u&&(e=u),i=e,r=e,2!==t)for(a=y(i,!0);!a&&i<u&&n<100;)a=y(i=new Date(i.getTime()+864e5),!0),n++;if(1!==t)for(s=y(r,!0);!s&&r>d&&c<100;)s=y(r=new Date(r.getTime()-864e5),!0),c++;return 1===t&&a?i:2===t&&s?r:v(e,i)?i:v(e,r)?r:c<=n&&s?r:i}(o(n),d),m=l(p),h=[],g={},f=ve.y(p),x=ve.m(p),b=E.getMaxDayOfMonth(f,x),w=!0,A=!0;if(ee.each(["dd","y","m","d","tt","a","h","i","s"],(function(e,t){var i=he[t],a=ge[t],s=ve[t](p);if(h[S[t]]=[],w&&H&&(i=ve[t](H)),A&&V&&(a=ve[t](V)),s<i&&(s=i),s>a&&(s=a),"dd"!==t&&"tt"!==t&&(w&&(w=s==i),A&&(A=s==a)),void 0!==S[t]){if("y"!=t&&"dd"!=t)for(r=he[t];r<=ge[t];r+=fe[t])(r<i||r>a)&&h[S[t]].push(r);if("d"==t){var o=E.getDate(f,x,1).getDay(),n={};T(G,f,x,o,b,n,1),T(Q,f,x,o,b,n,0),ee.each(n,(function(e,i){i&&h[S[t]].push(e)}))}}})),Y&&ee.each(["a","h","i","s","tt"],(function(t,i){var r=ve[i](p),a=ve.d(p),s={};void 0!==S[i]&&(C(G,t,i,f,x,a,s,0),C(Q,t,i,f,x,a,s,1),ee.each(s,(function(e,t){t&&h[S[i]].push(e)})),L[t]=e.getValidValue(S[i],r,d,s))})),u&&(u._length!==b||Z&&(void 0===c||c===S.y||c===S.m))){for(g[S.d]=u,u.data=[],i=1;i<=b;i++)s=E.getDate(f,x,i).getDay(),a=j.replace(/[my|]/gi,"").replace(/dd/,(i<10?"0"+i:i)+(E.daySuffix||"")).replace(/d/,i+(E.daySuffix||"")),u.data.push({value:i,display:/DD/.test(a)?a.replace(/DD/,'<span class="mbsc-dt-day">'+E.dayNames[s]+"</span>"):a.replace(/D/,'<span class="mbsc-dt-day">'+E.dayNamesShort[s]+"</span>")});e._tempWheelArray[S.d]=m[S.d],e.changeWheel(g)}return{disabled:h,valid:m}}}},We={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",fromText:"Start",toText:"End",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},Be=function(e){function t(t){t.hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),e._onSelectShow())}function r(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function a(e){e.hasClass("mbsc-cal-h")?t(e):r(e)}function s(e,t,i){e[t]=e[t]||[],e[t].push(i)}function o(e,t,i){var r,a,o,n,l=rt.getYear(t),c=rt.getMonth(t),d={};return e&&ee.each(e,(function(e,u){if(r=u.d||u.start||u,a=r+"",u.start&&u.end)for(n=v(w(u.start,xe,rt)),o=v(w(u.end,xe,rt));n<=o;)s(d,n,u),n=rt.getDate(rt.getYear(n),rt.getMonth(n),rt.getDay(n)+1);else if(ue.test(a))for(n=O(t,!1,+a.replace("w",""));n<=i;)s(d,n,u),n=rt.getDate(rt.getYear(n),rt.getMonth(n),rt.getDay(n)+7);else if(de.test(a))if((a=a.split("/"))[1])for(n=rt.getDate(l,a[0]-1,a[1]);n<=i;)s(d,n,u),n=rt.getDate(rt.getYear(n)+1,rt.getMonth(n),a[1]);else for(n=rt.getDate(l,c,a[0]);n<=i;)s(d,n,u),n=rt.getDate(rt.getYear(n),rt.getMonth(n)+1,a[0]);else s(d,v(w(r,xe,rt)),u)})),d}function n(e){return!(e<Be||e>Ue||void 0!==Pe[e]&&void 0===ot[e])}function c(t){var i,r,a,s,o=!!ze[t]&&ze[t],n=!!Re[t]&&Re[t],l=n&&n[0].background?n[0].background:o&&o[0].background,c="";if(n)for(i=0;i<n.length;i++)c+=(n[i].cssClass||"")+" ";if(o){for(a='<div class="mbsc-cal-marks">',i=0;i<o.length;i++)c+=((r=o[i]).cssClass||"")+" ",a+='<div class="mbsc-cal-mark"'+(r.color?' style="background:'+r.color+';"':"")+"></div>";a+="</div>"}return s={marked:o,background:l,cssClass:c,markup:fe[t]?fe[t].join(""):Ce?a:""},oe(s,e._getDayProps(t,s))}function d(e){return' style="'+(Ie?"transform: translateY("+100*e+"%)":"left:"+100*e*it+"%")+'"'}function u(e){return N(e,Xe-1)>Ue&&(e=N(Ue,1-Xe)),e<Be&&(e=Be),e}function h(e,t,i){var r=e.color,a=e.text;return'<div data-id="'+e._id+'" data-index="'+t+'" class="mbsc-cal-txt" title="'+ee("<div>"+a+"</div>").text()+'"'+(r?' style="background:'+r+(i?";color:"+P(r):"")+';"':"")+">"+(i?a:"")+"</div>"}function g(t){var i=O(N(t,-et-Ke),!1),r=O(N(t,-et+Xe+Ke-1),!1);r=rt.getDate(rt.getYear(r),rt.getMonth(r),rt.getDay(r)+7*re),e._onGenMonth(i,r),Pe=o(rt.invalid,i,r),ot=o(rt.valid,i,r),ze=o(rt.labels||rt.events||rt.marked,i,r),Re=o(rt.colors,i,r),De=e._labels||ze||Re,(Te=rt.labels||e._labels)&&function(){fe={};for(var e={},t=i,a=function(){t.getDay()==be&&(e={});for(var i=Ne,r=De[t]||[],a=r.length,s=[],o=void 0,n=void 0,l=0,c=0,d=0,u=void 0;l<i;)if(o=null,r.forEach((function(t,i){e[l]==t&&(o=t,n=i)})),l==i-1&&(c<a-1||a&&d==a&&!o)){var p=a-c,m=(p>1&&rt.moreEventsPluralText||rt.moreEventsText).replace(/{count}/,p);p&&s.push('<div class="mbsc-cal-txt-more">'+m+"</div>"),o&&(e[l]=null,o._days.forEach((function(e){fe[e][l]='<div class="mbsc-cal-txt-more">'+rt.moreEventsText.replace(/{count}/,1)+"</div>"}))),c++,l++}else if(o)n==d&&d++,T(t,w(o.end))&&(e[l]=null),s.push(h(o,n)),l++,c++,o._days.push(t);else if(d<a){var g=r[d],y=g.start&&w(g.start),x=g.end&&w(g.end),b=t.getDay(),C=be-b>0?7:0,A=x&&!T(y,x);y&&!T(t,y)&&b!=be||(void 0===g._id&&(g._id=ht++),A&&(e[l]=g),g._days=[t],u=A?100*Math.min(f(t,v(x))+1,7+be-b-C):100,s.push(A?'<div class="mbsc-cal-txt-w" style="width:'+u+'%">'+h(g,d,!0)+"</div>"+h(g,d):h(g,d,!0)),l++,c++),d++}else s.push('<div class="mbsc-cal-txt-ph"></div>'),l++;fe[t]=s,t=rt.getDate(rt.getYear(t),rt.getMonth(t),rt.getDay(t)+1)};t<r;)a()}()}function x(e){var t=rt.getYear(e),i=rt.getMonth(e);ge=e,te=e,D(e),st("onMonthChange",{year:t,month:i}),st("onMonthLoading",{year:t,month:i}),st("onPageChange",{firstDay:e}),st("onPageLoading",{firstDay:e}),g(e)}function b(e){var t=rt.getYear(e),i=rt.getMonth(e);void 0===qe?C(e,t,i):k(e,qe,!0),M(te,ye.focus),ye.focus=!1}function C(e,t,i){var r=ye.$scroller;ee(".mbsc-cal-slide",r).removeClass("mbsc-cal-slide-a"),ee(".mbsc-cal-slide",r).slice(Ke,Ke+Xe).addClass("mbsc-cal-slide-a"),Te&&ee(".mbsc-cal-slide-a .mbsc-cal-txt",r).on("mouseenter",(function(){var e=ee(this).attr("data-id");ee('.mbsc-cal-txt[data-id="'+e+'"]',r).addClass("mbsc-hover")})).on("mouseleave",(function(){ee(".mbsc-cal-txt.mbsc-hover",r).removeClass("mbsc-hover")})),st("onMonthLoaded",{year:t,month:i}),st("onPageLoaded",{firstDay:e})}function A(e,t){var i,r=rt.getYear(e),a='<div class="mbsc-cal-slide"'+d(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(i=0;i<12;i++)i&&i%3==0&&(a+='</div><div class="mbsc-cal-row">'),a+='<div role="gridcell" tabindex="-1" aria-label="'+r+'" data-val="'+r+'" class="mbsc-cal-cell mbsc-btn-e '+(r<He||r>$e?" mbsc-disabled ":"")+(r==rt.getYear(ge)?me:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+r+mt+"</div></div>",r++;return a+"</div></div></div>"}function _(t,i){var r,a,s,o,l,u,p,m,h,g,f,v,y,x,b,w,C=1,A=rt.getYear(t),_=rt.getMonth(t),S=rt.getDay(t),k=null!==rt.defaultValue||e._hasValue?e.getDate(!0):null,M=rt.getDate(A,_,S).getDay(),L=be-M>0?7:0,I='<div class="mbsc-cal-slide"'+d(i)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(w=0;w<7*re;w++)b=w+be-L,s=(r=rt.getDate(A,_,b-M+S)).getFullYear(),o=r.getMonth(),l=r.getDate(),u=rt.getMonth(r),p=rt.getDay(r),x=rt.getMaxDayOfMonth(s,o),m=s+"-"+(o+1)+"-"+l,g=(h=oe({valid:n(r),selected:k&&T(k,r)},c(r))).valid,f=h.selected,a=h.cssClass,v=new Date(r).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),y=u!==_,ve[m]=h,w&&w%7==0&&(I+='</div><div class="mbsc-cal-row">'),lt&&w%7==0&&("month"==lt&&y&&C>1?C=1==l?1:2:"year"==lt&&(C=rt.getWeekNumber(rt.getDate(s,o,l+(7-be+1)%7))),I+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+C+"</div>",C++),I+='<div role="gridcell" aria-label="'+(v?rt.todayText+", ":"")+rt.dayNames[r.getDay()]+", "+rt.monthNames[u]+" "+p+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(y&&!at?' aria-hidden="true"':' data-full="'+m+'"')+(f?' aria-selected="true"':"")+(g?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+b%7+" "+(rt.dayClass||"")+" "+(f?me:"")+(v?" "+rt.todayClass:"")+(a?" "+a:"")+(1==p?" mbsc-cal-day-first":"")+(p==x?" mbsc-cal-day-last":"")+(y?" mbsc-cal-day-diff":"")+(g?" mbsc-btn-e":" mbsc-disabled")+(h.marked?" mbsc-cal-day-marked":"")+(h.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(h.background?' style="background:'+h.background+";color:"+P(h.background)+'"':"")+">"+p+"</div>"+(h.markup?"<div>"+h.markup+"</div>":"")+"</div></div>";return I+"</div></div></div>"}function k(e,t,i){var r,a=rt.getYear(e),s=rt.getMonth(e),o=ye?ye.pos:0,n="";if(ve={},re)for(t||(st("onMonthLoading",{year:a,month:s}),st("onPageLoading",{firstDay:e})),g(e),r=0;r<tt;r++)n+=_(N(e,r-et-Ke),o*it+r-Ke);return qe=void 0,i&&ye&&(ye.$active=null,ye.$scroller.html(n),C(e,a,s)),n}function M(e,t){if(ye){var i=ye.$active;i&&i.length&&(i[0].blur(),i.hasClass("mbsc-disabled")?i.removeAttr("tabindex"):i.attr("tabindex","-1")),ye.$active=ee('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+y(e)+'"]',ye.$scroller).attr("tabindex","0"),t&&ye.$active.length&&ye.$active[0].focus()}}function L(e,t){ee(".mbsc-selected",t).removeClass(me).removeAttr("aria-selected"),ee('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(me).attr("aria-selected","true")}function I(t,i,r,a){var s,o;nt&&(t<Be&&(t=Be),t>Ue&&(t=Ue),"calendar"!==nt&&Ae&&!i||(e._isSetDate=!i,we&&re&&(o=O(u(t),Me),Ze&&(t<N(ge,-et)||t>=N(ge,Xe-et))&&((s=Me?rt.getMonth(o)-rt.getMonth(ge)+12*(rt.getYear(o)-rt.getYear(ge)):Math.floor(f(ge,o)/(7*re)))&&(ye.queue=[],ye.focus=a&&r,$(ye,s,r))),s&&r||M(t,a),i||function(t){var i=ye&&ye.$scroller;rt.highlight&&ye&&(ee(".mbsc-selected",i).removeClass(me).removeAttr("aria-selected"),(null!==rt.defaultValue||e._hasValue)&&ee('.mbsc-cal-day[data-full="'+y(t)+'"]',i).addClass(me).attr("aria-selected","true"))}(t),Me||D(t,!0),te=t,Ze=!0),e._onSetDate(t,s),e._isSetDate=!1))}function D(e,t){var i,r,a,s=rt.getYear(e),o=rt.getMonth(e),n=s+mt;if(_e){if(L(o,Je.$scroller),L(s,pt.$scroller),$(pt,Math.floor(s/12)-Math.floor(rt.getYear(pt.first)/12),!0),ee(".mbsc-cal-cell",Je.$scroller).removeClass("mbsc-disabled"),s===He)for(i=0;i<Qe;i++)ee('.mbsc-cal-cell[data-val="'+i+'"]',Je.$scroller).addClass("mbsc-disabled");if(s===$e)for(i=Fe+1;i<=12;i++)ee('.mbsc-cal-cell[data-val="'+i+'"]',Je.$scroller).addClass("mbsc-disabled")}for(t||(z(ee(".mbsc-cal-prev-m",V),N(e,-et)<=Be),z(ee(".mbsc-cal-next-m",V),N(e,Xe-et)>Ue),z(ee(".mbsc-cal-prev-y",V),rt.getDate(s-1,o+1,1)<=Be),z(ee(".mbsc-cal-next-y",V),rt.getDate(s+1,o,1)>Ue)),K.attr("aria-label",s).html(n),i=0;i<Xe;i++)e=rt.getDate(s,o-et+i,1),r=rt.getYear(e),a=rt.getMonth(e),n=r+mt,Y.eq(i).attr("aria-label",rt.monthNames[a]+(dt?"":" "+s)).html((!dt&&ut<Ve?n+" ":"")+Ye[a]+(!dt&&ut>Ve?" "+n:""))}function z(e,t){t?e.addClass(pe).attr("aria-disabled","true"):e.removeClass(pe).removeAttr("aria-disabled")}function R(t,i){var r=e.getDate(!0),a=t[0],s=t.attr("data-full"),o=s?s.split("-"):[],n=m(o[0],o[1]-1,o[2]),l=m(n.getFullYear(),n.getMonth(),n.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()),c=t.hasClass("mbsc-selected"),d=ee(i.target),u=d[0];if(at||!t.hasClass("mbsc-cal-day-diff")){if(Te&&a.contains(u))for(;u!=a;){if(d.hasClass("mbsc-cal-txt")||d.hasClass("mbsc-cal-txt-more")){var p=d.attr("data-index"),h=De[n];if(!1===st("onLabelTap",{date:l,domEvent:i,target:d[0],labels:h,label:h[p]}))return;break}u=(d=d.parent())[0]}!1===st("onDayChange",oe(ve[s],{date:l,target:a,selected:c}))||rt.readonly||t.hasClass("mbsc-disabled")||e._selectDay(t,n,l,c)}}function E(e){r(J),I(rt.getDate(rt.getYear(ye.first),e.attr("data-val"),1),!0,!0)}function U(e){r(X),I(rt.getDate(e.attr("data-val"),rt.getMonth(ye.first),1),!0,!0)}function O(e,t,i){var r=rt.getYear(e),a=rt.getMonth(e),s=e.getDay(),o=be-s>0?7:0;return t?rt.getDate(r,a,1):rt.getDate(r,a,(void 0===i?be:i)-o-s+rt.getDay(e))}function N(e,t){var i=rt.getYear(e),r=rt.getMonth(e),a=rt.getDay(e);return Me?rt.getDate(i,r+t,1):rt.getDate(i,r,a+t*re*7)}function F(e,t){var i=12*Math.floor(rt.getYear(e)/12);return rt.getDate(i+12*t,0,1)}function $(t,i,r,a){i&&e._isVisible&&(t.queue.push(arguments),1==t.queue.length&&j(t,i,r,a))}function j(t,i,r,a){var s,o,n="",l=t.$scroller,c=t.buffer,d=t.offset,u=t.pages,p=t.total,m=t.first,h=t.genPage,g=t.getFirst,f=i>0?Math.min(i,c):Math.max(i,-c),v=t.pos*it+f-i+d,y=Math.abs(i)>c;t.callback&&(t.load(),t.callback(!0)),t.first=g(m,i),t.pos+=f*it,t.changing=!0,t.load=function(){if(y){for(s=0;s<u;s++)n+=h(g(m,o=i+s-d),v+o);i>0?(ee(".mbsc-cal-slide",l).slice(-u).remove(),l.append(n)):i<0&&(ee(".mbsc-cal-slide",l).slice(0,u).remove(),l.prepend(n))}},t.callback=function(r){var n=Math.abs(f),u="";if(e._isVisible){for(s=0;s<n;s++)u+=h(g(m,o=i+s-d-c+(i>0?p-n:0)),v+o);if(i>0?(l.append(u),ee(".mbsc-cal-slide",l).slice(0,f).remove()):i<0&&(l.prepend(u),ee(".mbsc-cal-slide",l).slice(f).remove()),y){for(u="",s=0;s<n;s++)u+=h(g(m,o=i+s-d-c+(i>0?0:p-n)),v+o);i>0?(ee(".mbsc-cal-slide",l).slice(0,f).remove(),l.prepend(u)):i<0&&(ee(".mbsc-cal-slide",l).slice(f).remove(),l.append(u))}B(t),a&&!r&&a(),t.callback=null,t.load=null,t.queue.shift(),y=!1,t.queue.length?j.apply(this,t.queue[0]):(t.changing=!1,t.onAfterChange(t.first))}},t.onBeforeChange(t.first),t.load&&(t.load(),t.scroller.scroll(-t.pos*t.size,r?200:0,!1,t.callback))}function W(t,i,r,a,s,o,n,c,d,u,p,m,h){var g=Ie?"Y":"X",f={$scroller:ee(".mbsc-cal-scroll",t),queue:[],buffer:a,offset:s,pages:o,first:c,total:n,pos:0,min:i,max:r,genPage:m,getFirst:h,onBeforeChange:u,onAfterChange:p};return f.scroller=new Ee(t,{axis:g,easing:"",contSize:0,maxSnapScroll:a,mousewheel:void 0===rt.mousewheel?Ie:rt.mousewheel,time:200,lock:!0,rtl:Le,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&l(),d(ee(e.target),e.domEvent)},onAnimationStart:function(){f.changing=!0},onAnimationEnd:function(e){m&&$(f,Math.round((-f.pos*f.size-e["pos"+g])/f.size)*it)}}),e._scrollers.push(f.scroller),f}function B(e,t){var i,r=0,a=0,s=e.first;if(!e.changing||!t){if(e.getFirst){for(r=e.buffer,a=e.buffer;a&&e.getFirst(s,a+e.pages-e.offset-1)>e.max;)a--;for(;r&&e.getFirst(s,1-r-e.offset)<=e.min;)r--}i=Math.round(ae/e.pages),ke&&i&&e.size!=i&&e.$scroller[Ie?"height":"width"](i),oe(e.scroller.settings,{snap:i,minScroll:(-e.pos*it-a)*i,maxScroll:(-e.pos*it+r)*i}),e.size=i,e.scroller.refresh()}}function G(t){e._onRefresh(t),e._isVisible&&we&&re&&(ye&&ye.changing?qe=t:(k(ge,t,!0),M(te)))}function Q(){if(we&&re){var t=ee(".mbsc-cal-scroll-c",V);ye=W(t[0],Be,Ue,Ke,et,Xe,tt,ge,R,x,b,_,N),_e&&(Je=W(t[1],null,null,1,0,1,3,ge,E),pt=W(t[2],Ge,Oe,1,0,1,3,ge,U,i,i,A,F),e.tap(Y,(function(){a(J),r(X)})),e.tap(K,(function(){a(X),r(J)}))),S(ee(".mbsc-cal-btn",V),(function(e,t,i,r){$(ye,t,!0,r)})),b(ge),null===rt.defaultValue&&!e._hasValue||e._multiple||(e._activeElm=ye.$active[0]),H.on("keydown",(function(e){var t,i=rt.getYear(te),r=rt.getMonth(te),a=rt.getDay(te);switch(e.keyCode){case 32:R(ye.$active,e);break;case 37:t=rt.getDate(i,r,a-1*it);break;case 39:t=rt.getDate(i,r,a+1*it);break;case 38:t=rt.getDate(i,r,a-7);break;case 40:t=rt.getDate(i,r,a+7);break;case 36:t=rt.getDate(i,r,1);break;case 35:t=rt.getDate(i,r+1,0);break;case 33:t=e.altKey?rt.getDate(i-1,r,a):Me?rt.getDate(i,r-1,a):rt.getDate(i,r,a-7*re);break;case 34:t=e.altKey?rt.getDate(i+1,r,a):Me?rt.getDate(i,r+1,a):rt.getDate(i,r,a+7*re)}t&&(e.preventDefault(),I(t,!0,!1,!0))}))}e.tap(ee(".mbsc-cal-tab",V),(function(){e.changeTab(ee(this).attr("data-control"))}))}var H,V,Y,J,Z,q,K,X,te,ie,re,ae,se,ne,le,ce,pe,me,he,ge,fe,ve,ye,xe,be,we,Te,Ce,Ae,_e,Pe,Se,ke,Me,Le,Ie,De,ze,Re,Ue,Oe,Ne,Fe,$e,Be,Ge,Qe,He,Ve,Ye,Je,Ze,qe,Ke,Xe,et,tt,it,rt,at,st,ot,nt,lt,ct,dt,ut,pt,mt,ht=1,gt=this;return function(){var t,i,r;le={},ce=[],fe={},st=e.trigger,r=oe({},e.settings),t=(rt=oe(e.settings,We,r)).controls.join(","),be=rt.firstDay,Le=rt.rtl,Ke=rt.pageBuffer,lt=rt.weekCounter,re=rt.weeks,Me=6==re,Ie="vertical"==rt.calendarScroll,ne=e._getRespCont(),ct="full"==rt.weekDays?"":"min"==rt.weekDays?"Min":"Short",i=rt.layout||("inline"==rt.display||/top|bottom/.test(rt.display)&&rt.touchUi?"liquid":""),se=(ke="liquid"==i)?null:rt.calendarWidth,it=Le&&!Ie?-1:1,pe="mbsc-disabled "+(rt.disabledClass||""),he="mbsc-selected "+(rt.selectedTabClass||""),me="mbsc-selected "+(rt.selectedClass||""),Ne=Math.max(1,Math.floor(((rt.calendarHeight||0)/re-45)/18)),t.match(/calendar/)&&(le.calendar=1,we=!0),t.match(/date/)&&!we&&(le.date=1),t.match(/time/)&&(le.time=1),rt.controls.forEach((function(e){le[e]&&ce.push(e)})),_e=rt.quickNav&&we&&Me,dt=rt.yearChange&&Me,ke&&we&&"center"==rt.display&&(e._isFullScreen=!0),rt.layout=i,rt.preset=(le.date||we?"date":"")+(le.time?"time":"")}(),ie=je.call(this,e),Ye=dt?rt.monthNamesShort:rt.monthNames,mt=rt.yearSuffix||"",Ve=(rt.dateWheels||rt.dateFormat).search(/m/i),ut=(rt.dateWheels||rt.dateFormat).search(/y/i),xe=e._format,rt.min&&(Be=v(w(rt.min,xe,rt)),He=rt.getYear(Be),Qe=rt.getMonth(Be),Ge=rt.getDate(12*Math.floor(He/12),0,1)),rt.max&&(Ue=v(w(rt.max,xe,rt)),$e=rt.getYear(Ue),Fe=rt.getMonth(Ue),Oe=rt.getDate(12*Math.floor($e/12),0,1)),e.refresh=function(){G(!1)},e.redraw=function(){G(!0)},e.navigate=function(e,t){I(w(e,xe,rt),!0,t)},e.changeTab=function(t){e._isVisible&&le[t]&&nt!=t&&(nt=t,ee(".mbsc-cal-tab",V).removeClass(he).removeAttr("aria-selected"),ee('.mbsc-cal-tab[data-control="'+t+'"]',V).addClass(he).attr("aria-selected","true"),Ae&&(q.addClass("mbsc-cal-h"),le[nt].removeClass("mbsc-cal-h")),"calendar"==nt&&I(e.getDate(!0),!1,!0),e._showDayPicker(),e.trigger("onTabChange",{tab:nt}))},e._checkSize=!0,e._onGenMonth=i,e._onSelectShow=i,e._onSetDate=i,e._onRefresh=i,e._getDayProps=i,e._prepareObj=o,e._showDayPicker=function(){_e&&(r(X),r(J))},e._selectDay=e.__selectDay=function(t,i,r){var a=e.live;Ze=rt.outerMonthChange,Se=!0,e.setDate(r,a,1e3,!a,!0),a&&st("onSet",{valueText:e._value})},oe(ie,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var i=0;V=ee(t.target),Z=ee(".mbsc-fr-c",V),te=e.getDate(!0),ae=0,we&&(Ce=!(!rt.marked&&!rt.data||rt.labels||rt.multiLabel||rt.showEventCount),Ze=!0,nt="calendar",Xe="auto"==rt.months?Math.max(1,Math.min(3,Math.floor((se||p(ne))/280))):+rt.months,tt=Xe+2*Ke,et=0,Ie=Ie&&Xe<2,at=void 0===rt.showOuterDays?Xe<2&&!Ie:rt.showOuterDays,ge=O(u(te),Me),Z.append(function(){var e,t,i,r,a,s,o="",n=Le?rt.btnCalNextClass:rt.btnCalPrevClass,l=Le?rt.btnCalPrevClass:rt.btnCalNextClass;for(a='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+rt.prevMonthText+'" class="'+n+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',t=0;t<(re?Xe:1);t++)a+='<div role="button" class="mbsc-cal-month"></div>';if(a+='<div data-step="1" role="button" tabindex="0" aria-label="'+rt.nextMonthText+'" class="'+l+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',dt&&(o='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+rt.prevYearText+'" class="'+n+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+rt.nextYearText+'" class="'+l+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),re&&(s=k(ge)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(Me?"":" mbsc-cal-week-view")+(Xe>1?" mbsc-cal-multi ":"")+(lt?" mbsc-cal-weeks ":"")+(Ie?" mbsc-cal-vertical":"")+(Ce?" mbsc-cal-has-marks":"")+(Te?" mbsc-cal-has-labels":"")+(at?"":" mbsc-cal-hide-diff ")+(rt.calendarClass||"")+'"'+(ke?"":' style="width:'+(se||280*Xe)+'px;"')+'><div class="mbsc-cal-hdr">'+(ut<Ve||Xe>1?o+a:a+o)+"</div>",re){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',i=0;i<Xe;i++){for(e+='<div class="mbsc-cal-days">',t=0;t<7;t++)e+='<div class="mbsc-cal-week-day'+(r=(t+be)%7)+'" aria-label="'+rt.dayNames[r]+'">'+rt["dayNames"+ct][r]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(rt.calendarClass||"")+'"'+(rt.calendarHeight?' style="height:'+rt.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/Xe+'%">'+s+"</div></div>"}if(e+="</div>",_e){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(rt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=0;t<3;t++){for(e+='<div class="mbsc-cal-slide"'+d(t-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',i=0;i<12;i++)i&&i%3==0&&(e+='</div><div class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==t?' tabindex="-1" aria-label="'+rt.monthNames[i]+'" data-val="'+i+'"':"")+' class="mbsc-cal-cell'+(1==t?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==t?rt.monthNamesShort[i]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(rt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=-1;t<2;t++)e+=A(F(ge,t),t);e+="</div></div></div>"}return e+"</div></div></div>"}()),Y=ee(".mbsc-cal-month",V),K=ee(".mbsc-cal-year",V),H=ee(".mbsc-cal-day-scroll-c",V)),_e&&(X=ee(".mbsc-cal-year-picker",V),J=ee(".mbsc-cal-month-picker",V)),q=ee(".mbsc-w-p",V),ce.length>1&&Z.before(function(){var e,t;return e='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',ce.forEach((function(i,r){t=rt[("calendar"==i?"date":i)+"Text"],e+='<div role="tab" aria-controls="'+gt.id+"-mbsc-pnl-"+r+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(r?"":he)+'" data-control="'+i+'"'+(rt.tabLink?'><a href="#">'+t+"</a>":' tabindex="0">'+t)+"</div>"})),e+="</div></div>"}()),["date","time","calendar"].forEach((function(e){le[e]?(le[e]=q.eq(i),i++):"date"==e&&!le.date&&we&&(q.eq(i).remove(),i++)})),ce.forEach((function(e){Z.append(le[e])})),!we&&le.date&&le.date.css("position","relative"),e._scrollers=[],Q()},onShow:function(){we&&re&&D(Me?ge:te)},onHide:function(){e._scrollers.forEach((function(e){e.destroy()})),ve=null,ye=null,Je=null,pt=null,nt=null},onValidated:function(t){var i,r,a=t.index,s=e._order;r=e.getDate(!0),Se?i="calendar":void 0!==a&&(i=s.dd==a||s.d==a||s.m==a||s.y==a?"date":"time"),st("onSetDate",{date:r,control:i}),"time"!==i&&I(r,!1,!!t.time,Se&&!e._multiple),Se=!1},onPosition:function(t){var i,r,a,s,o,n,l,c=t.oldHeight,d=t.windowHeight;if(Ae=(t.hasTabs||!0===rt.tabs||!1!==rt.tabs&&ke)&&ce.length>1,ke&&(t.windowWidth>=rt.breakPointMd?ee(t.target).addClass("mbsc-fr-md"):ee(t.target).removeClass("mbsc-fr-md")),Ae?(V.addClass("mbsc-cal-tabbed"),nt=ee(".mbsc-cal-tab.mbsc-selected",V).attr("data-control"),q.addClass("mbsc-cal-h"),le[nt].removeClass("mbsc-cal-h")):(V.removeClass("mbsc-cal-tabbed"),q.removeClass("mbsc-cal-h")),e._isFullScreen&&(H.height(""),l=d-(o=t.popup.offsetHeight)+H[0].offsetHeight,d>=o&&H.height(l)),Te&&re&&d!=c){var u=l||H[0].offsetHeight,p=H.find(".mbsc-cal-txt-ph")[0],m=p.offsetTop,h=p.offsetHeight,g=Math.max(1,Math.floor((u/re-m)/(h+2)));Ne!=g&&(Ne=g,e.redraw())}if(we&&re){if(s=(n=ke||Ie||Ae?H[0][Ie?"offsetHeight":"offsetWidth"]:se||280*Xe)!=ae,ae=n,ke&&s&&dt)for(Ye=rt.maxMonthWidth>Y[0].offsetWidth?rt.monthNamesShort:rt.monthNames,r=rt.getYear(ge),a=rt.getMonth(ge),i=0;i<Xe;i++)Y.eq(i).text(Ye[rt.getMonth(rt.getDate(r,a-et+i,1))]);s&&B(ye,!0)}_e&&s&&(B(Je,!0),B(pt,!0))}})},Ge={};Ue.calendar=function(e){function t(e){return m(e.getFullYear(),e.getMonth(),e.getDate())}function i(e){var i,r,a=null;if(x={},e&&e.length)for(r=0;r<e.length;r++)i=w(e[r],l,p,p.isoParts),a=a||i,x[t(i)]=i;return a}function s(){e.redraw()}var o,n,l,c,d,u=oe({},e.settings),p=oe(e.settings,Ge,u),g="mbsc-selected "+(p.selectedClass||""),f=p.defaultValue,v="multiple"==p.select||p.select>1||"week"==p.selectType,y=a(p.select)?p.select:1/0,x={};return o=Be.call(this,e),c=void 0===p.firstSelectDay?p.firstDay:p.firstSelectDay,l=e._format,v&&i(f),e._multiple=v,e._getDayProps=function(e){return{selected:v?void 0!==x[e]:void 0}},e._selectDay=function(t,i,a,o){if(p.setOnDayTap&&"multiple"!=p.select&&"inline"!=p.display)return e.setDate(a),void e.select();if(v)if("week"==p.selectType){var l,d,u=i.getDay()-c;for(u=u<0?7+u:u,"multiple"!=p.select&&(x={}),l=0;l<7;l++)d=m(i.getFullYear(),i.getMonth(),i.getDate()-u+l),o?delete x[d]:r(x).length/7<y&&(x[d]=d);s()}else{var h=ee('.mbsc-cal-day[data-full="'+t.attr("data-full")+'"]',n);o?(h.removeClass(g).removeAttr("aria-selected"),delete x[i]):r(x).length<y&&(h.addClass(g).attr("aria-selected","true"),x[i]=i)}e.__selectDay(t,i,a)},e.setVal=function(t,r,a,o,n){v&&(t=i(t)),e._setVal(t,r,a,o,n),v&&s()},e.getVal=function(t){var i,r=[];if(v){for(i in x)r.push(b(x[i],p,l));return r}return b(e.getDate(t),p,l)},oe({},o,{highlight:!v,outerMonthChange:!v,parseValue:function(e){return v&&e&&"string"==typeof e&&(e=i(e.split(","))),v&&f&&f.length&&(p.defaultValue=f[0]),o.parseValue.call(this,e)},formatValue:function(t){var i,r=[];if(v){for(i in x)r.push(h(l,x[i],p));return r.join(", ")}return o.formatValue.call(this,t,e)},onClear:function(){v&&(x={},s())},onBeforeShow:function(){void 0!==p.setOnDayTap||p.buttons&&p.buttons.length||1!=p.controls.length||(p.setOnDayTap=!0),p.setOnDayTap&&"inline"!=p.display&&(p.outerMonthChange=!1),p.counter&&v&&(p.headerText=function(){var e=0,t="week"==p.selectType?7:1;return ee.each(x,(function(){e++})),((e=Math.round(e/t))>1&&p.selectedPluralText||p.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){o.onMarkupReady.call(this,e),n=ee(e.target),v&&(ee(".mbsc-fr-hdr",n).attr("aria-live","off"),d=oe({},x))},onCancel:function(){!e.live&&v&&(x=oe({},d))}})},function(e,i,r){O[e]=function(a){return t(this,U(a,{component:i,preset:!1===r?void 0:e}),arguments)}}("calendar",Fe),R.hijri={getYear:function(e){return I(e.getFullYear(),e.getMonth()+1,e.getDate())[0]},getMonth:function(e){return--I(e.getFullYear(),e.getMonth()+1,e.getDate())[1]},getDay:function(e){return I(e.getFullYear(),e.getMonth()+1,e.getDate())[2]},getDate:function(e,t,i,r,a,s,o){t<0&&(e+=Math.floor(t/12),t=12+t%12),t>11&&(e+=Math.floor(t/12),t%=12);var n=function(e,t,i){e=parseInt(e),t=parseInt(t),i=parseInt(i);var r,a,s,o,n,l,c=new Array(3);return(r=L((11*e+3)/30)+354*e+30*t-L((t-1)/2)+i+1948440-385)>2299160?(o=L(4*(a=r+68569)/146097),a-=L((146097*o+3)/4),n=L(4e3*(a+1)/1461001),a=a-L(1461*n/4)+31,s=L(80*a/2447),i=a-L(2447*s/80),t=s+2-12*(a=L(s/11)),e=100*(o-49)+n+a):(l=L(((s=r+1402)-1)/1461),o=L(((a=s-1461*l)-1)/365)-L(a/1461),s=L(80*(n=a-365*o+30)/2447),i=n-L(2447*s/80),t=s+2-12*(n=L(s/11)),e=4*l+o+n-4716),c[2]=i,c[1]=t,c[0]=e,c}(e,+t+1,i);return new Date(n[0],n[1]-1,n[2],r||0,a||0,s||0,o||0)},getMaxDayOfMonth:function(e,t){return[30,29,30,29,30,29,30,29,30,29,30,29][t]+(11===t&&(11*e+14)%30<11?1:0)}},D.customTheme("mobiscroll-dark","mobiscroll"),D.customTheme("bizagitheme","mobiscroll");var Qe=D.themes,He="mobiscroll";return"android"==N?He="material":"ios"==N?He="ios":"wp"==N&&(He="windows"),ee.each(Qe.frame,(function(e,t){return He&&t.baseTheme==He&&"mobiscroll-dark"!=e&&"material-dark"!=e&&"windows-dark"!=e&&"ios-dark"!=e?(D.autoTheme=e,!1):void(e==He&&(D.autoTheme=e))})),D}(e.jQuery)}(this),function(e){var t={rtl:!1,setText:"Set",cancelText:"Cancel",clearText:"Clear",selectedText:"{count} selected",selectedPluralText:"{count} selected",dateFormat:"dd/mm/yy",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],dayText:"Day",hourText:"Hours",minuteText:"Minutes",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthText:"Month",secText:"Seconds",amText:"am",pmText:"pm",timeFormat:"hh:ii A",yearText:"Year",nowText:"Now",firstDay:0,dateText:"Date",timeText:"Time",calendarText:"Calendar",closeText:"Close",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year",eventText:"event",eventsText:"events",fromText:"Start",toText:"End",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit",delimiter:"/",decimalSeparator:".",thousandsSeparator:",",labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide",offText:"Off",onText:"On",backText:"Back",undoText:"Undo"};function i(){if("undefined"!=typeof bizagi&&void 0!==bizagi.localization&&void 0!==bizagi.localization.language&&void 0!==bizagi.util&&void 0!==bizagi.util.languages){var e="undefined"!=typeof BIZAGI_LANGUAGE?BIZAGI_LANGUAGE:"en",i=bizagi.util.languages[e]||bizagi.localization.language;if(!mobiscroll.i18n[i]){var r=i.toLowerCase().replace(/([^a-z]+)/g,"-").split("-").shift();mobiscroll.i18n[r]?mobiscroll.i18n[i]=mobiscroll.i18n[r]:mobiscroll.i18n[i]=t}var a=mobiscroll.i18n[i],s=bizagi.localization.getResource("datePickerRegional"),o=s.firstDay?parseInt(s.firstDay):a.firstDay;a.closeText=s.closeText||a.closeText,a.clearText=bizagi.localization.getResource("render-search-clear-label",a.clearText),a.nowText=bizagi.localization.getResource("render-timeentry-now",a.nowText),a.todayText=s.currentText||a.todayText,a.dateFormat=s.dateFormat||a.dateFormat,a.dayNames=s.dayNames||a.dayNames,a.dayNamesMin=s.dayNamesMin||a.dayNamesMin,a.dayNamesShort=s.dayNamesShort||a.dayNamesShort,a.firstDay=o,a.rtl=void 0!==s.isRTL?s.isRTL:a.rtl,a.monthNames=s.monthNames||a.monthNames,a.monthNamesShort=s.monthNamesShort||a.monthNamesShort,a.nextMonthText=s.nextText||a.nextMonthText,a.nextYearText=s.nextText||a.nextYearText,a.prevMonthText=s.prevText||a.prevMonthText,a.prevYearText=s.prevText||a.prevYearText,a.yearSuffix=s.yearSuffix=s.yearSuffix||""}}mobiscroll.i18n.de={setText:"OK",cancelText:"Abbrechen",clearText:"Löschen",selectedText:"{count} ausgewählt",dateFormat:"dd.mm.yy",dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["S","M","D","M","D","F","S"],dayText:"Tag",delimiter:".",hourText:"Stunde",minuteText:"Minuten",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],monthText:"Monat",secText:"Sekunden",timeFormat:"HH:ii",yearText:"Jahr",nowText:"Jetzt",pmText:"pm",amText:"am",todayText:"Heute",firstDay:1,dateText:"Datum",timeText:"Zeit",closeText:"Schließen",allDayText:"Ganztägig",noEventsText:"Keine Ereignisse",eventText:"Ereignis",eventsText:"Ereignisse",moreEventsText:"{count} weiteres Element",moreEventsPluralText:"{count} weitere Elemente",fromText:"Von",toText:"Bis",wholeText:"Ganze Zahl",fractionText:"Bruchzahl",unitText:"Maßeinheit",labels:["Jahre","Monate","Tage","Stunden","Minuten","Sekunden",""],labelsShort:["Jahr.","Mon.","Tag.","Std.","Min.","Sek.",""],startText:"Starten",stopText:"Stoppen",resetText:"Zurücksetzen",lapText:"Lap",hideText:"Ausblenden",backText:"Zurück",undoText:"Rückgängig machen",offText:"Aus",onText:"Ein",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.es={setText:"Aceptar",cancelText:"Cancelar",clearText:"Borrar",selectedText:"{count} seleccionado",selectedPluralText:"{count} seleccionados",dateFormat:"dd/mm/yy",dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],dayNamesMin:["D","L","M","M","J","V","S"],dayText:"Día",hourText:"Horas",minuteText:"Minutos",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],monthText:"Mes",secText:"Segundos",timeFormat:"HH:ii",yearText:"A&ntilde;o",nowText:"Ahora",pmText:"pm",amText:"am",todayText:"Hoy",firstDay:1,dateText:"Fecha",timeText:"Tiempo",closeText:"Cerrar",allDayText:"Todo el día",noEventsText:"No hay eventos",eventText:"Evento",eventsText:"Eventos",moreEventsText:"{count} más",fromText:"Iniciar",toText:"Final",wholeText:"Entero",fractionText:"Fracción",unitText:"Unidad",labels:["Años","Meses","Días","Horas","Minutos","Segundos",""],labelsShort:["Año","Mes","Día","Hora","Min","Seg",""],startText:"Iniciar",stopText:"Deténgase",resetText:"Reinicializar",lapText:"Lap",hideText:"Esconder",backText:"Atrás",undoText:"Deshacer",offText:"No",onText:"Sí",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.fr={setText:"Terminer",cancelText:"Annuler",clearText:"Effacer",selectedText:"{count} sélectionné",selectedPluralText:"{count} sélectionnés",dateFormat:"dd/mm/yy",dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],dayNamesMin:["D","L","M","M","J","V","S"],dayText:"Jour",monthText:"Mois",monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],hourText:"Heures",minuteText:"Minutes",secText:"Secondes",timeFormat:"HH:ii",yearText:"Année",nowText:"Maintenant",pmText:"pm",amText:"am",todayText:"Aujourd'hui",firstDay:1,dateText:"Date",timeText:"Heure",closeText:"Fermer",allDayText:"Toute la journée",noEventsText:"Aucun événement",eventText:"Événement",eventsText:"Événements",moreEventsText:"{count} autre",moreEventsPluralText:"{count} autres",fromText:"Démarrer",toText:"Fin",wholeText:"Entier",fractionText:"Fraction",unitText:"Unité",labels:["Ans","Mois","Jours","Heures","Minutes","Secondes",""],labelsShort:["Ans","Mois","Jours","Hrs","Min","Sec",""],startText:"Démarrer",stopText:"Arrêter",resetText:"Réinitialiser",lapText:"Lap",hideText:"Cachez",backText:"Retour",undoText:"Annuler",offText:"Non",onText:"Oui",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.it={setText:"OK",cancelText:"Annulla",clearText:"Chiarire",selectedText:"{count} selezionato",selectedPluralText:"{count} selezionati",dateFormat:"dd/mm/yy",dayNames:["Domenica","Lunedì","Mertedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Do","Lu","Ma","Me","Gi","Ve","Sa"],dayNamesMin:["D","L","M","M","G","V","S"],dayText:"Giorno",hourText:"Ore",minuteText:"Minuti",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],monthText:"Mese",secText:"Secondi",timeFormat:"HH:ii",yearText:"Anno",nowText:"Ora",pmText:"pm",amText:"am",todayText:"Oggi",firstDay:1,dateText:"Data",timeText:"Volta",closeText:"Chiudere",allDayText:"Tutto il giorno",noEventsText:"Nessun evento",eventText:"Evento",eventsText:"Eventi",moreEventsText:"{count} altro",moreEventsPluralText:"altri {count}",fromText:"Inizio",toText:"Fine",wholeText:"Intero",fractionText:"Frazione",unitText:"Unità",labels:["Anni","Mesi","Giorni","Ore","Minuti","Secondi",""],labelsShort:["Anni","Mesi","Gio","Ore","Min","Sec",""],startText:"Inizio",stopText:"Arresto",resetText:"Ripristina",lapText:"Lap",hideText:"Nascondi",backText:"Indietro",undoText:"Annulla",offText:"Via",onText:"Su",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.zh={setText:"确定",cancelText:"取消",clearText:"明确",selectedText:"{count} 选",dateFormat:"yy年mm月d日",dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],dayNamesMin:["日","一","二","三","四","五","六"],dayText:"日",hourText:"时",minuteText:"分",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],monthText:"月",secText:"秒",timeFormat:"HH:ii",yearText:"年",nowText:"当前",pmText:"下午",amText:"上午",yearSuffix:"年",monthSuffix:"月",daySuffix:"日",todayText:"今天",dateText:"日",timeText:"时间",closeText:"关闭",allDayText:"全天",noEventsText:"无事件",eventText:"活动",eventsText:"活动",moreEventsText:"他 {count} 件",fromText:"开始时间",toText:"结束时间",wholeText:"合计",fractionText:"分数",unitText:"单位",labels:["年","月","日","小时","分钟","秒",""],labelsShort:["年","月","日","点","分","秒",""],startText:"开始",stopText:"停止",resetText:"重置",lapText:"圈",hideText:"隐藏",backText:"返回",undoText:"复原",offText:"关闭",onText:"开启",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.nl={setText:"Instellen",cancelText:"Annuleren",clearText:"Leegmaken",selectedText:"{count} gekozen",dateFormat:"dd-mm-yy",dayNames:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],dayNamesMin:["z","m","d","w","d","v","z"],dayText:"Dag",hourText:"Uur",minuteText:"Minuten",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],monthText:"Maand",secText:"Seconden",timeFormat:"HH:ii",yearText:"Jaar",nowText:"Nu",pmText:"pm",amText:"am",todayText:"Vandaag",firstDay:1,dateText:"Datum",timeText:"Tijd",closeText:"Sluiten",allDayText:"Hele dag",noEventsText:"Geen activiteiten",eventText:"Activiteit",eventsText:"Activiteiten",moreEventsText:"nog {count}",fromText:"Start",toText:"Einde",wholeText:"geheel",fractionText:"fractie",unitText:"eenheid",labels:["Jaren","Maanden","Dagen","Uren","Minuten","Seconden",""],labelsShort:["j","m","d","u","min","sec",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Ronde",hideText:"Verbergen",backText:"Terug",undoText:"Onged. maken",offText:"Uit",onText:"Aan",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.ja={setText:"セット",cancelText:"キャンセル",clearText:"クリア",selectedText:"{count} 選択",dateFormat:"yy年mm月dd日",dayNames:["日","月","火","水","木","金","土"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],dayText:"日",hourText:"時",minuteText:"分",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthText:"月",secText:"秒",timeFormat:"HH:ii",yearText:"年",nowText:"今",pmText:"午後",amText:"午前",yearSuffix:"年",monthSuffix:"月",daySuffix:"日",todayText:"今日",dateText:"日付",timeText:"時間",closeText:"クローズ",allDayText:"終日",noEventsText:"イベントはありません",eventText:"イベント",eventsText:"イベント",moreEventsText:"他 {count} 件",fromText:"開始",toText:"終わり",wholeText:"全数",fractionText:"分数",unitText:"単位",labels:["年間","月間","日間","時間","分","秒",""],labelsShort:["年間","月間","日間","時間","分","秒",""],startText:"開始",stopText:"停止",resetText:"リセット",lapText:"ラップ",hideText:"隠す",backText:"バック",undoText:"アンドゥ"},mobiscroll.i18n.pt=mobiscroll.i18n["pt-PT"]={setText:"Seleccionar",cancelText:"Cancelar",clearText:"Claro",selectedText:"{count} selecionado",selectedPluralText:"{count} selecionados",dateFormat:"dd-mm-yy",dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["D","S","T","Q","Q","S","S"],dayText:"Dia",hourText:"Horas",minuteText:"Minutos",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],monthText:"Mês",secText:"Segundo",timeFormat:"HH:ii",yearText:"Ano",nowText:"Actualizar",pmText:"pm",amText:"am",todayText:"Hoy",firstDay:1,dateText:"Data",timeText:"Tempo",closeText:"Fechar",allDayText:"Todo o dia",noEventsText:"Nenhum evento",eventText:"Evento",eventsText:"Eventos",moreEventsText:"mais {count}",fromText:"Início",toText:"Fim",wholeText:"Inteiro",fractionText:"Fracção",unitText:"Unidade",labels:["Anos","Meses","Dias","Horas","Minutos","Segundos",""],labelsShort:["Ano","Mês","Dia","Hora","Min","Seg",""],startText:"Começar",stopText:"Parar",resetText:"Reinicializar",lapText:"Lap",hideText:"Esconder",backText:"Anterior",undoText:"Anular",offText:"Desl",onText:"Lig",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n["pt-BR"]={setText:"Selecionar",cancelText:"Cancelar",clearText:"Claro",selectedText:"{count} selecionado",selectedPluralText:"{count} selecionados",dateFormat:"dd/mm/yy",dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["D","S","T","Q","Q","S","S"],dayText:"Dia",hourText:"Hora",minuteText:"Minutos",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],monthText:"Mês",secText:"Segundo",timeFormat:"HH:ii",yearText:"Ano",nowText:"Agora",pmText:"pm",amText:"am",todayText:"Hoje",dateText:"Data",timeText:"Tempo",closeText:"Fechar",allDayText:"Dia inteiro",noEventsText:"Nenhum evento",eventText:"Evento",eventsText:"Eventos",moreEventsText:"Mais {count}",fromText:"In&iacute;cio",toText:"Fim",wholeText:"Inteiro",fractionText:"Fração",unitText:"Unidade",labels:["Anos","Meses","Dias","Horas","Minutos","Segundos",""],labelsShort:["Ano","M&ecirc;s","Dia","Hora","Min","Seg",""],startText:"Começar",stopText:"Pare",resetText:"Reinicializar",lapText:"Lap",hideText:"Esconder",backText:"Anterior",undoText:"Desfazer",offText:"Desl",onText:"Lig",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.cs={setText:"Zadej",cancelText:"Storno",clearText:"Vymazat",selectedText:"Označený: {count}",dateFormat:"dd.mm.yy",dayNames:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],dayNamesShort:["Ne","Po","Út","St","Čt","Pá","So"],dayNamesMin:["N","P","Ú","S","Č","P","S"],dayText:"Den",hourText:"Hodiny",minuteText:"Minuty",monthNames:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthNamesShort:["Led","Úno","Bře","Dub","Kvě","Čer","Čvc","Spr","Zář","Říj","Lis","Pro"],monthText:"Měsíc",secText:"Sekundy",timeFormat:"HH:ii",yearText:"Rok",nowText:"Teď",amText:"am",pmText:"pm",todayText:"Dnes",firstDay:1,dateText:"Datum",timeText:"Čas",closeText:"Zavřít",allDayText:"Celý den",noEventsText:"Žádné události",eventText:"Událostí",eventsText:"Události",moreEventsText:"{count} další",fromText:"Začátek",toText:"Konec",wholeText:"Celý",fractionText:"Část",unitText:"Jednotka",labels:["Roky","Měsíce","Dny","Hodiny","Minuty","Sekundy",""],labelsShort:["Rok","Měs","Dny","Hod","Min","Sec",""],startText:"Start",stopText:"Stop",resetText:"Resetovat",lapText:"Etapa",hideText:"Schovat",backText:"Zpět",undoText:"Zpět",offText:"O",onText:"I",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.ru=mobiscroll.i18n["ru-RU"]={setText:"Установить",cancelText:"Отмена",clearText:"Очистить",selectedText:"{count} Выбрать",dateFormat:"dd.mm.yy",dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вс","пн","вт","ср","чт","пт","сб"],dayNamesMin:["в","п","в","с","ч","п","с"],dayText:"День",delimiter:".",hourText:"Час",minuteText:"Минут",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],monthText:"Месяц",secText:"Секунд",timeFormat:"HH:ii",yearText:"Год",nowText:"Сейчас",amText:"am",pmText:"pm",todayText:"Cегодня",firstDay:1,dateText:"Дата",timeText:"Время",closeText:"Закрыть",allDayText:"Весь день",noEventsText:"Нет событий",eventText:"Мероприятия",eventsText:"Мероприятия",moreEventsText:"Ещё {count}",fromText:"Начало",toText:"Конец",wholeText:"Целое",fractionText:"Дробное",unitText:"Единица",labels:["Лет","Месяцев","Дней","Часов","Минут","Секунд",""],labelsShort:["Лет","Мес","Дн","Час","Мин","Сек",""],startText:"Старт",stopText:"Стоп",resetText:"Сбросить",lapText:"Круг",hideText:"Скрыть",backText:"назад",undoText:"ОтменитЬ",offText:"O",onText:"I",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.ar={rtl:!0,setText:"تعيين",cancelText:"إلغاء",clearText:"مسح",selectedText:"{count} المحدد",dateFormat:"dd/mm/yy",dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],dayText:"يوم",hourText:"ساعات",minuteText:"الدقائق",monthNames:["كانون الثاني","شهر فبراير","مارس","أبريل","قد","يونيو","يوليو","أغسطس","سبتمبر","شهر اكتوبر","شهر نوفمبر","ديسمبر"],monthNamesShort:["كانون الثاني","شهر فبراير","مارس","أبريل","قد","يونيو","يوليو","أغسطس","سبتمبر","شهر اكتوبر","شهر نوفمبر","ديسمبر"],monthText:"شهر",secText:"ثواني",amText:"ص",pmText:"م",timeFormat:"hh:ii A",yearText:"عام",nowText:"الآن",firstDay:0,dateText:"تاريخ",timeText:"وقت",closeText:"إغلاق",todayText:"اليوم",prevMonthText:"الشهر السابق",nextMonthText:"الشهر القادم",prevYearText:"السنه السابقة",nextYearText:"العام القادم",allDayText:"اليوم كله",noEventsText:"لا توجد احداث",eventText:"الحدث",eventsText:"أحداث",moreEventsText:"واحد آخر",moreEventsPluralText:"اثنان آخران {count}",fromText:"يبدا",toText:"ينتهي",wholeText:"كامل",fractionText:"جزء",unitText:"وحدة",delimiter:"/",decimalSeparator:".",thousandsSeparator:",",labels:["سنوات","أشهر","أيام","ساعة","دقائق","ثواني",""],labelsShort:["سنوات","أشهر","أيام","ساعة","دقائق","ثواني",""],startText:"بدء",stopText:"إيقاف",resetText:"إعادة ضبط",lapText:"الدورة",hideText:"إخفاء",offText:"إيقاف",onText:"تشغيل",backText:"رجوع",undoText:"تراجع"},mobiscroll.i18n.ko={setText:"설정",cancelText:"취소",clearText:"삭제",selectedText:"{count} 선택된",dateFormat:"yy년mm월dd일",dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],dayText:"일",delimiter:"-",hourText:"시간",minuteText:"분",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthText:"달",secText:"초",timeFormat:"H:ii",yearText:"년",nowText:"지금",pmText:"오후",amText:"오전",yearSuffix:"년",monthSuffix:"월",daySuffix:"일",firstDay:0,dateText:"날짜",timeText:"시간",todayText:"오늘",prevMonthText:"이전 달",nextMonthText:"다음 달",prevYearText:"이전 년",nextYearText:"다음 년",closeText:"닫기",eventText:"이벤트",eventsText:"이벤트",allDayText:"종일",noEventsText:"이벤트 없음",moreEventsText:"{count}개 더보기",fromText:"시작",toText:"종료",wholeText:"정수",fractionText:"분수",unitText:"단위",labels:["년","달","일","시간","분","초",""],labelsShort:["년","달","일","시간","분","초",""],startText:"시작",stopText:"중지 ",resetText:"초기화",lapText:"기록",hideText:"숨는 장소",backText:"뒤로",undoText:"실행취소",offText:"끔",onText:"켬",decimalSeparator:",",thousandsSeparator:" "},mobiscroll.i18n.ua={setText:"встановити",cancelText:"відміна",clearText:"очистити",selectedText:"{count} вибрані",dateFormat:"dd.mm.yy",dayNames:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],dayNamesShort:["нед","пнд","вів","срд","чтв","птн","сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayText:"День",delimiter:".",hourText:"година",minuteText:"хвилина",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],monthText:"Місяць",secText:"Секунд",timeFormat:"H:ii",yearText:"Рік",nowText:"Зараз",pmText:"pm",amText:"am",firstDay:1,dateText:"дата",timeText:"Час",todayText:"Сьогодні",prevMonthText:"Попередній місяць",nextMonthText:"Наступного місяця",prevYearText:"Попередній рік",nextYearText:"Наступного року",closeText:"Закрити",eventText:"подія",eventsText:"події",allDayText:"Увесь день",noEventsText:"Жодної події",moreEventsText:"та ще {count}",fromText:"від",toText:"кінець",wholeText:"всі",fractionText:"фракція",unitText:"одиниця",labels:["Рік","Місяць","День","година","хвилина","Секунд",""],labelsShort:["Рік","Місяць","День","година","хвилина","Секунд",""],startText:"Початок",stopText:"СТОП",resetText:"скинути",lapText:"коло",hideText:"сховати",backText:"назад",undoText:"відмінити",offText:"Вимикати",onText:"Увімкнути",decimalSeparator:",",thousandsSeparator:" "},i(),bizagi.localization&&bizagi.localization.observableElement&&bizagi.localization.observableElement.bind("setLanguage",(function(){i()}))}(jQuery);
//# sourceMappingURL=../../../../Maps/desktop/portal.production.js.map
