var bizagi=bizagi||{};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
                                                                                                                                                                                                                                                                                                                                                                                       * jQuery JavaScript Library v2.1.0
                                                                                                                                                                                                                                                                                                                                                                                       * http://jquery.com/
                                                                                                                                                                                                                                                                                                                                                                                       *
                                                                                                                                                                                                                                                                                                                                                                                       * Includes Sizzle.js
                                                                                                                                                                                                                                                                                                                                                                                       * http://sizzlejs.com/
                                                                                                                                                                                                                                                                                                                                                                                       *
                                                                                                                                                                                                                                                                                                                                                                                       * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
                                                                                                                                                                                                                                                                                                                                                                                       * Released under the MIT license
                                                                                                                                                                                                                                                                                                                                                                                       * http://jquery.org/license
                                                                                                                                                                                                                                                                                                                                                                                       *
                                                                                                                                                                                                                                                                                                                                                                                       * Date: 2014-01-23T21:10Z
                                                                                                                                                                                                                                                                                                                                                                                       */function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! jQuery UI - v1.10.2 - 2013-03-14
                                                                                                                                                                                                                                                                                                                                                                               * http://jqueryui.com
                                                                                                                                                                                                                                                                                                                                                                               * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
                                                                                                                                                                                                                                                                                                                                                                               * Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */bizagi.injector=function(){var e={},t={},i={},n=function(t,i){var n=e[t];if($.isNumeric(i))var o=i;else if("object"===$.type(i))var r=i;if(o=o||0,n)return n(o,r);throw"Service does not exist. "+t};return{get:n,getNewInstance:function(i,o){return e[i]=t[i],n(i,o)},register:function(o,r,a){if(s=r,"[object Array]"!==Object.prototype.toString.call(s))throw"Must pass array.";var s;if("function"!=typeof r[r.length-1])throw"Must pass function to invoke.";t[o]=e[o]=function(t,s){var l,u,c,h=t||0,d=function(){},p=r[r.length-1],f=1===r.length?r[0].$$deps||[]:r.slice(0,r.length-1);return i[o]&&void 0!==i[o].__proto__&&i[o].__proto__.hasOwnProperty("dispose")&&i[o].dispose(),d.prototype=p.prototype,c=function(e,t,i,o,r){var a=0,s=[],l=o||0;if(l>20)throw"Maximum recursion at "+l;for(;a<t.length;a+=1)s.push(n(t[a],l+1));return r&&s.push(r),e.apply(i,s)}(p,f,u=new d,h+1,s),l=c||u,a||(e[o]=function(){return l}),i[o]=l,l}},registerInstance:function(t,i){e[t]=function(){return i}},isRegistered:function(t){return!!e[t]}}}(),function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var i=[],n=i.slice,o=i.concat,r=i.push,a=i.indexOf,s={},l=s.toString,u=s.hasOwnProperty,c="".trim,h={},d=e.document,p=function e(t,i){return new e.fn.init(t,i)},f=/^-ms-/,g=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};function v(e){var t=e.length,i=p.type(e);return"function"!==i&&!p.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}p.fn=p.prototype={jquery:"2.1.0",constructor:p,selector:"",length:0,toArray:function(){return n.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:n.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return p.each(this,e,t)},map:function(e){return this.pushStack(p.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:r,sort:i.sort,splice:i.splice},p.extend=p.fn.extend=function(){var e,t,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"===_typeof(a)||p.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],n=e[t],"__proto__"!==t&&a!==n&&(u&&n&&(p.isPlainObject(n)||(o=p.isArray(n)))?(o?(o=!1,r=i&&p.isArray(i)?i:[]):r=i&&p.isPlainObject(i)?i:{},a[t]=p.extend(u,r,n)):void 0!==n&&(a[t]=n));return a},p.extend({expando:"jQuery"+("2.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if("object"!==p.type(e)||e.nodeType||p.isWindow(e))return!1;try{if(e.constructor&&!u.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"===_typeof(e)||"function"==typeof e?s[l.call(e)]||"object":_typeof(e)},globalEval:function(e){var t,i=eval;(e=p.trim(e))&&(1===e.indexOf("use strict")?((t=d.createElement("script")).text=e,d.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(f,"ms-").replace(g,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n=0,o=e.length,r=v(e);if(i){if(r)for(;n<o&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(r)for(;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":c.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(v(Object(e))?p.merge(i,"string"==typeof e?[e]:e):r.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:a.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,r=e.length,a=!i;o<r;o++)!t(e[o],o)!==a&&n.push(e[o]);return n},map:function(e,t,i){var n,r=0,a=e.length,s=[];if(v(e))for(;r<a;r++)null!=(n=t(e[r],r,i))&&s.push(n);else for(r in e)null!=(n=t(e[r],r,i))&&s.push(n);return o.apply([],s)},guid:1,proxy:function(e,t){var i,o,r;if("string"==typeof t&&(i=e[t],t=e,e=i),p.isFunction(e))return o=n.call(arguments,2),r=function(){return e.apply(t||this,o.concat(n.call(arguments)))},r.guid=e.guid=e.guid||p.guid++,r},now:Date.now,support:h}),p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){s["[object "+t+"]"]=t.toLowerCase()}));var b=
/*!
                   * Sizzle CSS Selector Engine v1.10.16
                   * http://sizzlejs.com/
                   *
                   * Copyright 2013 jQuery Foundation, Inc. and other contributors
                   * Released under the MIT license
                   * http://jquery.org/license
                   *
                   * Date: 2014-01-13
                   */
function(e){var t,i,n,o,r,a,s,l,u,c,h,d,p,f,g,m,v,b="sizzle"+-new Date,y=e.document,_=0,w=0,x=te(),z=te(),S=te(),T=function(e,t){return e===t&&(u=!0),0},C={}.hasOwnProperty,k=[],I=k.pop,D=k.push,E=k.push,A=k.slice,M=k.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",P=R.replace("w","w#"),j="\\["+N+"*("+R+")"+N+"*(?:([*^$|!~]?=)"+N+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+P+")|)|)"+N+"*\\]",F=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+j.replace(3,8)+")*)|.*)\\)|)",L=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),B=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),$=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),W=new RegExp(F),U=new RegExp("^"+P+"$"),q={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,X=/'|\\/g,K=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),J=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{E.apply(k=A.call(y.childNodes),y.childNodes),k[y.childNodes.length].nodeType}catch(e){E={apply:k.length?function(e,t){D.apply(e,A.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ee(e,t,o,r){var s,l,u,d,g,m,_,w,x,z;if((t?t.ownerDocument||t:y)!==h&&c(t),o=o||[],!e||"string"!=typeof e)return o;if(1!==(d=(t=t||h).nodeType)&&9!==d)return[];if(p&&!r){if(s=Z.exec(e))if(u=s[1]){if(9===d){if(!(l=t.getElementById(u))||!l.parentNode)return o;if(l.id===u)return o.push(l),o}else if(t.ownerDocument&&(l=t.ownerDocument.getElementById(u))&&v(t,l)&&l.id===u)return o.push(l),o}else{if(s[2])return E.apply(o,t.getElementsByTagName(e)),o;if((u=s[3])&&i.getElementsByClassName&&t.getElementsByClassName)return E.apply(o,t.getElementsByClassName(u)),o}if(i.qsa&&(!f||!f.test(e))){if(w=_=b,x=t,z=9===d&&e,1===d&&"object"!==t.nodeName.toLowerCase()){for(m=he(e),(_=t.getAttribute("id"))?w=_.replace(X,"\\$&"):t.setAttribute("id",w),w="[id='"+w+"'] ",g=m.length;g--;)m[g]=w+de(m[g]);x=Q.test(e)&&ue(t.parentNode)||t,z=m.join(",")}if(z)try{return E.apply(o,x.querySelectorAll(z)),o}catch(e){}finally{_||t.removeAttribute("id")}}}return function(e,t,o,r){var s,l,u,c,h,d=he(e);if(!r&&1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&i.getById&&9===t.nodeType&&p&&n.relative[l[1].type]){if(!(t=(n.find.ID(u.matches[0].replace(K,J),t)||[])[0]))return o;e=e.slice(l.shift().value.length)}for(s=q.needsContext.test(e)?0:l.length;s--&&(u=l[s],!n.relative[c=u.type]);)if((h=n.find[c])&&(r=h(u.matches[0].replace(K,J),Q.test(l[0].type)&&ue(t.parentNode)||t))){if(l.splice(s,1),!(e=r.length&&de(l)))return E.apply(o,r),o;break}}return a(e,d)(r,t,!p,o,Q.test(e)&&ue(t.parentNode)||t),o}(e.replace(L,"$1"),t,o,r)}function te(){var e=[];return function t(i,o){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=o}}function ie(e){return e[b]=!0,e}function ne(e){var t=h.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function oe(e,t){for(var i=e.split("|"),o=e.length;o--;)n.attrHandle[i[o]]=t}function re(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ae(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function se(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function le(e){return ie((function(t){return t=+t,ie((function(i,n){for(var o,r=e([],i.length,t),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))}))}))}function ue(e){return e&&"undefined"!==_typeof(e.getElementsByTagName)&&e}for(t in i=ee.support={},r=ee.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},c=ee.setDocument=function(e){var t,o=e?e.ownerDocument||e:y,a=o.defaultView;return o!==h&&9===o.nodeType&&o.documentElement?(h=o,d=o.documentElement,p=!r(o),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",(function(){c()}),!1):a.attachEvent&&a.attachEvent("onunload",(function(){c()}))),i.attributes=ne((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=ne((function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=Y.test(o.getElementsByClassName)&&ne((function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length})),i.getById=ne((function(e){return d.appendChild(e).id=b,!o.getElementsByName||!o.getElementsByName(b).length})),i.getById?(n.find.ID=function(e,t){if("undefined"!==_typeof(t.getElementById)&&p){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},n.filter.ID=function(e){var t=e.replace(K,J);return function(e){return e.getAttribute("id")===t}}):(delete n.find.ID,n.filter.ID=function(e){var t=e.replace(K,J);return function(e){var i="undefined"!==_typeof(e.getAttributeNode)&&e.getAttributeNode("id");return i&&i.value===t}}),n.find.TAG=i.getElementsByTagName?function(e,t){if("undefined"!==_typeof(t.getElementsByTagName))return t.getElementsByTagName(e)}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},n.find.CLASS=i.getElementsByClassName&&function(e,t){if("undefined"!==_typeof(t.getElementsByClassName)&&p)return t.getElementsByClassName(e)},g=[],f=[],(i.qsa=Y.test(o.querySelectorAll))&&(ne((function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&f.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||f.push("\\["+N+"*(?:value|"+O+")"),e.querySelectorAll(":checked").length||f.push(":checked")})),ne((function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&f.push("name"+N+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||f.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),f.push(",.*:")}))),(i.matchesSelector=Y.test(m=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ne((function(e){i.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",F)})),f=f.length&&new RegExp(f.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),v=t||Y.test(d.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===o||e.ownerDocument===y&&v(y,e)?-1:t===o||t.ownerDocument===y&&v(y,t)?1:l?M.call(l,e)-M.call(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var i,n=0,r=e.parentNode,a=t.parentNode,s=[e],c=[t];if(!r||!a)return e===o?-1:t===o?1:r?-1:a?1:l?M.call(l,e)-M.call(l,t):0;if(r===a)return re(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;s[n]===c[n];)n++;return n?re(s[n],c[n]):s[n]===y?-1:c[n]===y?1:0},o):h},ee.matches=function(e,t){return ee(e,null,null,t)},ee.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&c(e),t=t.replace($,"='$1']"),i.matchesSelector&&p&&(!g||!g.test(t))&&(!f||!f.test(t)))try{var n=m.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ee(t,h,null,[e]).length>0},ee.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),v(e,t)},ee.attr=function(e,t){(e.ownerDocument||e)!==h&&c(e);var o=n.attrHandle[t.toLowerCase()],r=o&&C.call(n.attrHandle,t.toLowerCase())?o(e,t,!p):void 0;return void 0!==r?r:i.attributes||!p?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ee.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ee.uniqueSort=function(e){var t,n=[],o=0,r=0;if(u=!i.detectDuplicates,l=!i.sortStable&&e.slice(0),e.sort(T),u){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return l=null,e},o=ee.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=o(t);return i},(n=ee.selectors={cacheLength:50,createPseudo:ie,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,J),e[3]=(e[4]||e[5]||"").replace(K,J),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ee.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ee.error(e[0]),e},PSEUDO:function(e){var t,i=!e[5]&&e[2];return q.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:i&&W.test(i)&&(t=he(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,J).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!==_typeof(e.getAttribute)&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var o=ee.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,d,p,f,g=r!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(r){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(p=(u=(c=m[b]||(m[b]={}))[e]||[])[0]===_&&u[1],d=u[0]===_&&u[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[_,p,d];break}}else if(y&&(u=(t[b]||(t[b]={}))[e])&&u[0]===_)d=u[1];else for(;(h=++p&&h&&h[g]||(d=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[b]||(h[b]={}))[e]=[_,d]),h!==t)););return(d-=o)===n||d%n==0&&d/n>=0}}},PSEUDO:function(e,t){var i,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ee.error("unsupported pseudo: "+e);return o[b]?o(t):o.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ie((function(e,i){for(var n,r=o(e,t),a=r.length;a--;)e[n=M.call(e,r[a])]=!(i[n]=r[a])})):function(e){return o(e,0,i)}):o}},pseudos:{not:ie((function(e){var t=[],i=[],n=a(e.replace(L,"$1"));return n[b]?ie((function(e,t,i,o){for(var r,a=n(e,null,o,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,o,r){return t[0]=e,n(t,null,r,i),!i.pop()}})),has:ie((function(e){return function(t){return ee(e,t).length>0}})),contains:ie((function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:ie((function(e){return U.test(e||"")||ee.error("unsupported lang: "+e),e=e.replace(K,J).toLowerCase(),function(t){var i;do{if(i=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return V.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:le((function(){return[0]})),last:le((function(e,t){return[t-1]})),eq:le((function(e,t,i){return[i<0?i+t:i]})),even:le((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:le((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:le((function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e})),gt:le((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ae(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=se(t);function ce(){}function he(e,t){var i,o,r,a,s,l,u,c=z[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=n.preFilter;s;){for(a in i&&!(o=H.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=B.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(L," ")}),s=s.slice(i.length)),n.filter)!(o=q[a].exec(s))||u[a]&&!(o=u[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return t?s.length:s?ee.error(e):z(e,l).slice(0)}function de(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function pe(e,t,i){var n=t.dir,o=i&&"parentNode"===n,r=w++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r)}:function(t,i,a){var s,l,u=[_,r];if(a){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if((s=(l=t[b]||(t[b]={}))[n])&&s[0]===_&&s[1]===r)return u[2]=s[2];if(l[n]=u,u[2]=e(t,i,a))return!0}}}function fe(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function ge(e,t,i,n,o){for(var r,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(r=e[s])&&(i&&!i(r,n,o)||(a.push(r),u&&t.push(s)));return a}function me(e,t,i,n,o,r){return n&&!n[b]&&(n=me(n)),o&&!o[b]&&(o=me(o,r)),ie((function(r,a,s,l){var u,c,h,d=[],p=[],f=a.length,g=r||function(e,t,i){for(var n=0,o=t.length;n<o;n++)ee(e,t[n],i);return i}(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?g:ge(g,d,e,s,l),v=i?o||(r?e:f||n)?[]:a:m;if(i&&i(m,v,s,l),n)for(u=ge(v,p),n(u,[],s,l),c=u.length;c--;)(h=u[c])&&(v[p[c]]=!(m[p[c]]=h));if(r){if(o||e){if(o){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(m[c]=h);o(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=o?M.call(r,h):d[c])>-1&&(r[u]=!(a[u]=h))}}else v=ge(v===a?v.splice(f,v.length):v),o?o(null,a,v,l):E.apply(a,v)}))}function ve(e){for(var t,i,o,r=e.length,a=n.relative[e[0].type],l=a||n.relative[" "],u=a?1:0,c=pe((function(e){return e===t}),l,!0),h=pe((function(e){return M.call(t,e)>-1}),l,!0),d=[function(e,i,n){return!a&&(n||i!==s)||((t=i).nodeType?c(e,i,n):h(e,i,n))}];u<r;u++)if(i=n.relative[e[u].type])d=[pe(fe(d),i)];else{if((i=n.filter[e[u].type].apply(null,e[u].matches))[b]){for(o=++u;o<r&&!n.relative[e[o].type];o++);return me(u>1&&fe(d),u>1&&de(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(L,"$1"),i,u<o&&ve(e.slice(u,o)),o<r&&ve(e=e.slice(o)),o<r&&de(e))}d.push(i)}return fe(d)}return ce.prototype=n.filters=n.pseudos,n.setFilters=new ce,a=ee.compile=function(e,t){var i,o=[],r=[],a=S[e+" "];if(!a){for(t||(t=he(e)),i=t.length;i--;)(a=ve(t[i]))[b]?o.push(a):r.push(a);a=S(e,function(e,t){var i=t.length>0,o=e.length>0,r=function(r,a,l,u,c){var d,p,f,g=0,m="0",v=r&&[],b=[],y=s,w=r||o&&n.find.TAG("*",c),x=_+=null==y?1:Math.random()||.1,z=w.length;for(c&&(s=a!==h&&a);m!==z&&null!=(d=w[m]);m++){if(o&&d){for(p=0;f=e[p++];)if(f(d,a,l)){u.push(d);break}c&&(_=x)}i&&((d=!f&&d)&&g--,r&&v.push(d))}if(g+=m,i&&m!==g){for(p=0;f=t[p++];)f(v,b,a,l);if(r){if(g>0)for(;m--;)v[m]||b[m]||(b[m]=I.call(u));b=ge(b)}E.apply(u,b),c&&!r&&b.length>0&&g+t.length>1&&ee.uniqueSort(u)}return c&&(_=x,s=y),v};return i?ie(r):r}(r,o))}return a},i.sortStable=b.split("").sort(T).join("")===b,i.detectDuplicates=!!u,c(),i.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(h.createElement("div"))})),ne((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||oe("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),i.attributes&&ne((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||oe("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ne((function(e){return null==e.getAttribute("disabled")}))||oe(O,(function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),ee}(e);p.find=b,(p.expr=b.selectors)[":"]=p.expr.pseudos,p.unique=b.uniqueSort,p.text=b.getText,p.isXMLDoc=b.isXML,p.contains=b.contains;var y=p.expr.match.needsContext,_=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(e,t,i){if(p.isFunction(t))return p.grep(e,(function(e,n){return!!t.call(e,n,e)!==i}));if(t.nodeType)return p.grep(e,(function(e){return e===t!==i}));if("string"==typeof t){if(w.test(t))return p.filter(t,e,i);t=p.filter(t,e)}return p.grep(e,(function(e){return a.call(t,e)>=0!==i}))}p.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?p.find.matchesSelector(n,e)?[n]:[]:p.find.matches(e,p.grep(t,(function(e){return 1===e.nodeType})))},p.fn.extend({find:function(e){var t,i=this.length,n=[],o=this;if("string"!=typeof e)return this.pushStack(p(e).filter((function(){for(t=0;t<i;t++)if(p.contains(o[t],this))return!0})));for(t=0;t<i;t++)p.find(e,o[t],n);return(n=this.pushStack(i>1?p.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&y.test(e)?p(e):e||[],!1).length}});var z,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:S.exec(e))||!i[1]&&t)return!t||t.jquery?(t||z).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:d,!0)),_.test(i[1])&&p.isPlainObject(t))for(i in t)p.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(n=d.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=d,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==z.ready?z.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,z=p(d);var T=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};function k(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}p.extend({dir:function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&p(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),p.fn.extend({has:function(e){var t=p(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(p.contains(this,t[e]))return!0}))},closest:function(e,t){for(var i,n=0,o=this.length,r=[],a=y.test(e)||"string"!=typeof e?p(e,t||this.context):0;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&p.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?p.unique(r):r)},index:function(e){return e?"string"==typeof e?a.call(p(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.unique(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return p.dir(e,"parentNode")},parentsUntil:function(e,t,i){return p.dir(e,"parentNode",i)},next:function(e){return k(e,"nextSibling")},prev:function(e){return k(e,"previousSibling")},nextAll:function(e){return p.dir(e,"nextSibling")},prevAll:function(e){return p.dir(e,"previousSibling")},nextUntil:function(e,t,i){return p.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return p.dir(e,"previousSibling",i)},siblings:function(e){return p.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return p.sibling(e.firstChild)},contents:function(e){return e.contentDocument||p.merge([],e.childNodes)}},(function(e,t){p.fn[e]=function(i,n){var o=p.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=p.filter(n,o)),this.length>1&&(C[e]||p.unique(o),T.test(e)&&o.reverse()),this.pushStack(o)}}));var I,D=/\S+/g,E={};function A(){d.removeEventListener("DOMContentLoaded",A,!1),e.removeEventListener("load",A,!1),p.ready()}p.Callbacks=function(e){e="string"==typeof e?E[e]||function(e){var t=E[e]={};return p.each(e.match(D)||[],(function(e,i){t[i]=!0})),t}(e):p.extend({},e);var t,i,n,o,r,a,s=[],l=!e.once&&[],u=function u(h){for(t=e.memory&&h,i=!0,a=o||0,o=0,r=s.length,n=!0;s&&a<r;a++)if(!1===s[a].apply(h[0],h[1])&&e.stopOnFalse){t=!1;break}n=!1,s&&(l?l.length&&u(l.shift()):t?s=[]:c.disable())},c={add:function(){if(s){var i=s.length;!function t(i){p.each(i,(function(i,n){var o=p.type(n);"function"===o?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==o&&t(n)}))}(arguments),n?r=s.length:t&&(o=i,u(t))}return this},remove:function(){return s&&p.each(arguments,(function(e,t){for(var i;(i=p.inArray(t,s,i))>-1;)s.splice(i,1),n&&(i<=r&&r--,i<=a&&a--)})),this},has:function(e){return e?p.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],r=0,this},disable:function(){return s=l=t=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,t||c.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!s||i&&!l||(t=[e,(t=t||[]).slice?t.slice():t],n?l.push(t):u(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred((function(i){p.each(t,(function(t,r){var a=p.isFunction(e[t])&&e[t];o[r[1]]((function(){var e=a&&a.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?p.extend(e,n):n}},o={};return n.pipe=n.then,p.each(t,(function(e,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add((function(){i=s}),t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith})),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,o,r=0,a=n.call(arguments),s=a.length,l=1!==s||e&&p.isFunction(e.promise)?s:0,u=1===l?e:p.Deferred(),c=function(e,i,o){return function(r){i[e]=this,o[e]=arguments.length>1?n.call(arguments):r,o===t?u.notifyWith(i,o):--l||u.resolveWith(i,o)}};if(s>1)for(t=new Array(s),i=new Array(s),o=new Array(s);r<s;r++)a[r]&&p.isFunction(a[r].promise)?a[r].promise().done(c(r,o,a)).fail(u.reject).progress(c(r,i,t)):--l;return l||u.resolveWith(o,a),u.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(I.resolveWith(d,[p]),p.fn.trigger&&p(d).trigger("ready").off("ready")))}}),p.ready.promise=function(t){return I||(I=p.Deferred(),"complete"===d.readyState?setTimeout(p.ready):(d.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",A,!1))),I.promise(t)},p.ready.promise();var M=p.access=function(e,t,i,n,o,r,a){var s=0,l=e.length,u=null==i;if("object"===p.type(i))for(s in o=!0,i)p.access(e,t,s,i[s],!0,r,a);else if(void 0!==n&&(o=!0,p.isFunction(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(p(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return o?e:u?t.call(e):l?t(e[0],i):r};function O(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=p.expando+Math.random()}p.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},O.uid=1,O.accepts=p.acceptData,O.prototype={key:function(e){if(!O.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=O.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,p.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,o=this.key(e),r=this.cache[o];if("string"==typeof t)r[t]=i;else if(p.isEmptyObject(r))p.extend(this.cache[o],t);else for(n in t)r[n]=t[n];return r},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?void 0!==(n=this.get(e,t))?n:this.get(e,p.camelCase(t)):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,o,r=this.key(e),a=this.cache[r];if(void 0===t)this.cache[r]={};else{p.isArray(t)?n=t.concat(t.map(p.camelCase)):(o=p.camelCase(t),n=t in a?[t,o]:(n=o)in a?[n]:n.match(D)||[]),i=n.length;for(;i--;)delete a[n[i]]}},hasData:function(e){return!p.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var N=new O,R=new O,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,j=/([A-Z])/g;function F(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(j,"-$1").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:P.test(i)?p.parseJSON(i):i)}catch(e){}R.set(e,t,i)}else i=void 0;return i}p.extend({hasData:function(e){return R.hasData(e)||N.hasData(e)},data:function(e,t,i){return R.access(e,t,i)},removeData:function(e,t){R.remove(e,t)},_data:function(e,t,i){return N.access(e,t,i)},_removeData:function(e,t){N.remove(e,t)}}),p.fn.extend({data:function(e,t){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=R.get(r),1===r.nodeType&&!N.get(r,"hasDataAttrs"))){for(i=a.length;i--;)0===(n=a[i].name).indexOf("data-")&&(n=p.camelCase(n.slice(5)),F(r,n,o[n]));N.set(r,"hasDataAttrs",!0)}return o}return"object"===_typeof(e)?this.each((function(){R.set(this,e)})):M(this,(function(t){var i,n=p.camelCase(e);if(r&&void 0===t)return void 0!==(i=R.get(r,e))?i:void 0!==(i=R.get(r,n))?i:void 0!==(i=F(r,n,void 0))?i:void 0;this.each((function(){var i=R.get(this,n);R.set(this,n,t),-1!==e.indexOf("-")&&void 0!==i&&R.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){R.remove(this,e)}))}}),p.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=N.get(e,t),i&&(!n||p.isArray(i)?n=N.access(e,t,p.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){var i=p.queue(e,t=t||"fx"),n=i.length,o=i.shift(),r=p._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,(function(){p.dequeue(e,t)}),r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return N.get(e,i)||N.access(e,i,{empty:p.Callbacks("once memory").add((function(){N.remove(e,[t+"queue",i])}))})}}),p.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?p.queue(this[0],e):void 0===t?this:this.each((function(){var i=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&p.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){p.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=p.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=N.get(r[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}});var L,H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,B=["Top","Right","Bottom","Left"],$=function(e,t){return"none"===p.css(e=t||e,"display")||!p.contains(e.ownerDocument,e)},W=/^(?:checkbox|radio)$/i;(L=d.createDocumentFragment().appendChild(d.createElement("div"))).innerHTML="<input type='radio' checked='checked' name='t'/>",h.checkClone=L.cloneNode(!0).cloneNode(!0).lastChild.checked,L.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!L.cloneNode(!0).lastChild.defaultValue;h.focusinBubbles="onfocusin"in e;var U=/^key/,q=/^(?:mouse|contextmenu)|click/,G=/^(?:focusinfocus|focusoutblur)$/,V=/^([^.]*)(?:\.(.+)|)$/;function Y(){return!0}function Z(){return!1}function Q(){try{return d.activeElement}catch(e){}}p.event={global:{},add:function(e,t,i,n,o){var r,a,s,l,u,c,h,d,f,g,m,v=N.get(e);if(v)for(i.handler&&(i=(r=i).handler,o=r.selector),i.guid||(i.guid=p.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return"undefined"!==_typeof(p)&&p.event.triggered!==t.type?p.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(D)||[""]).length;u--;)f=m=(s=V.exec(t[u])||[])[1],g=(s[2]||"").split(".").sort(),f&&(h=p.event.special[f]||{},f=(o?h.delegateType:h.bindType)||f,h=p.event.special[f]||{},c=p.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&p.expr.match.needsContext.test(o),namespace:g.join(".")},r),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,g,a)||e.addEventListener&&e.addEventListener(f,a,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),p.event.global[f]=!0)},remove:function(e,t,i,n,o){var r,a,s,l,u,c,h,d,f,g,m,v=N.hasData(e)&&N.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(D)||[""]).length;u--;)if(f=m=(s=V.exec(t[u])||[])[1],g=(s[2]||"").split(".").sort(),f){for(h=p.event.special[f]||{},d=l[f=(n?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)c=d[r],!o&&m!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,g,v.handle)||p.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)p.event.remove(e,f+t[u],i,n,!0);p.isEmptyObject(l)&&(delete v.handle,N.remove(e,"events"))}},trigger:function(t,i,n,o){var r,a,s,l,c,h,f,g=[n||d],m=u.call(t,"type")?t.type:t,v=u.call(t,"namespace")?t.namespace.split("."):[];if(a=s=n=n||d,3!==n.nodeType&&8!==n.nodeType&&!G.test(m+p.event.triggered)&&(m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[p.expando]?t:new p.Event(m,"object"===_typeof(t)&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:p.makeArray(i,[t]),f=p.event.special[m]||{},o||!f.trigger||!1!==f.trigger.apply(n,i))){if(!o&&!f.noBubble&&!p.isWindow(n)){for(l=f.delegateType||m,G.test(l+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),s=a;s===(n.ownerDocument||d)&&g.push(s.defaultView||s.parentWindow||e)}for(r=0;(a=g[r++])&&!t.isPropagationStopped();)t.type=r>1?l:f.bindType||m,(h=(N.get(a,"events")||{})[t.type]&&N.get(a,"handle"))&&h.apply(a,i),(h=c&&a[c])&&h.apply&&p.acceptData(a)&&(t.result=h.apply(a,i),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),i)||!p.acceptData(n)||c&&p.isFunction(n[m])&&!p.isWindow(n)&&((s=n[c])&&(n[c]=null),p.event.triggered=m,n[m](),p.event.triggered=void 0,s&&(n[c]=s)),t.result}},dispatch:function(e){e=p.event.fix(e);var t,i,o,r,a,s=[],l=n.call(arguments),u=(N.get(this,"events")||{})[e.type]||[],c=p.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,u),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(o=((p.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(e.result=o)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(n=[],i=0;i<s;i++)void 0===n[o=(r=t[i]).selector+" "]&&(n[o]=r.needsContext?p(o,this).index(l)>=0:p.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&a.push({elem:l,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||d).documentElement,o=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[p.expando])return e;var t,i,n,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=q.test(o)?this.mouseHooks:U.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new p.Event(r),t=n.length;t--;)e[i=n[t]]=r[i];return e.target||(e.target=d),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Q()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Q()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=p.extend(new p.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?p.event.trigger(o,null,t):p.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},p.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},(p.Event=function(e,t){if(!(this instanceof p.Event))return new p.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.getPreventDefault&&e.getPreventDefault()?Y:Z):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),this[p.expando]=!0}).prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Y,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Y,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Y,this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===n||p.contains(n,o))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}})),h.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){p.event.simulate(t,e.target,p.event.fix(e),!0)};p.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=N.access(n,t);o||n.addEventListener(e,i,!0),N.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=N.access(n,t)-1;o?N.access(n,t,o):(n.removeEventListener(e,i,!0),N.remove(n,t))}}})),p.fn.extend({on:function(e,t,i,n,o){var r,a;if("object"===_typeof(e)){for(a in"string"!=typeof t&&(i=i||t,t=void 0),e)this.on(a,t,i,e[a],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),!1===n)n=Z;else if(!n)return this;return 1===o&&(r=n,(n=function(e){return p().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=p.guid++)),this.each((function(){p.event.add(this,e,n,i,t)}))},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,p(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===_typeof(e)){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Z),this.each((function(){p.event.remove(this,e,i,t)}))},trigger:function(e,t){return this.each((function(){p.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return p.event.trigger(e,t,i,!0)}});var X=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,K=/<([\w:]+)/,J=/<|&#?\w+;/,ee=/<(?:script|style|link)/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^$|\/(?:java|ecma)script/i,ne=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,re={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ae(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function se(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function le(e){var t=ne.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ue(e,t){for(var i=0,n=e.length;i<n;i++)N.set(e[i],"globalEval",!t||N.get(t[i],"globalEval"))}function ce(e,t){var i,n,o,r,a,s,l,u;if(1===t.nodeType){if(N.hasData(e)&&(r=N.access(e),a=N.set(t,r),u=r.events))for(o in delete a.handle,a.events={},u)for(i=0,n=u[o].length;i<n;i++)p.event.add(t,o,u[o][i]);R.hasData(e)&&(s=R.access(e),l=p.extend({},s),R.set(t,l))}}function he(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&p.nodeName(e,t)?p.merge([e],i):i}re.optgroup=re.option,re.tbody=re.tfoot=re.colgroup=re.caption=re.thead,re.th=re.td,p.extend({clone:function(e,t,i){var n,o,r,a,s,l,u,c=e.cloneNode(!0),d=p.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(a=he(c),n=0,o=(r=he(e)).length;n<o;n++)s=r[n],l=a[n],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&W.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(i)for(r=r||he(e),a=a||he(c),n=0,o=r.length;n<o;n++)ce(r[n],a[n]);else ce(e,c);return(a=he(c,"script")).length>0&&ue(a,!d&&he(e,"script")),c},buildFragment:function(e,t,i,n){for(var o,r,a,s,l,u,c=t.createDocumentFragment(),h=[],d=0,f=e.length;d<f;d++)if((o=e[d])||0===o)if("object"===p.type(o))p.merge(h,o.nodeType?[o]:o);else if(J.test(o)){for(r=r||c.appendChild(t.createElement("div")),a=(K.exec(o)||["",""])[1].toLowerCase(),s=re[a]||re._default,r.innerHTML=s[1]+o.replace(X,"<$1></$2>")+s[2],u=s[0];u--;)r=r.lastChild;p.merge(h,r.childNodes),(r=c.firstChild).textContent=""}else h.push(t.createTextNode(o));for(c.textContent="",d=0;o=h[d++];)if((!n||-1===p.inArray(o,n))&&(l=p.contains(o.ownerDocument,o),r=he(c.appendChild(o),"script"),l&&ue(r),i))for(u=0;o=r[u++];)ie.test(o.type||"")&&i.push(o);return c},cleanData:function(e){for(var t,i,n,o,r,a,s=p.event.special,l=0;void 0!==(i=e[l]);l++){if(p.acceptData(i)&&(r=i[N.expando])&&(t=N.cache[r])){if((n=Object.keys(t.events||{})).length)for(a=0;void 0!==(o=n[a]);a++)s[o]?p.event.remove(i,o):p.removeEvent(i,o,t.handle);N.cache[r]&&delete N.cache[r]}delete R.cache[i[R.expando]]}}}),p.fn.extend({text:function(e){return M(this,(function(e){return void 0===e?p.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ae(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ae(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var i,n=e?p.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||p.cleanData(he(i)),i.parentNode&&(t&&p.contains(i.ownerDocument,i)&&ue(he(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(p.cleanData(he(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return p.clone(this,e,t)}))},html:function(e){return M(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ee.test(e)&&!re[(K.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(X,"<$1></$2>");try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(p.cleanData(he(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,p.cleanData(he(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=o.apply([],e);var i,n,r,a,s,l,u=0,c=this.length,d=this,f=c-1,g=e[0],m=p.isFunction(g);if(m||c>1&&"string"==typeof g&&!h.checkClone&&te.test(g))return this.each((function(i){var n=d.eq(i);m&&(e[0]=g.call(this,i,n.html())),n.domManip(e,t)}));if(c&&(n=(i=p.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===i.childNodes.length&&(i=n),n)){for(a=(r=p.map(he(i,"script"),se)).length;u<c;u++)s=i,u!==f&&(s=p.clone(s,!0,!0),a&&p.merge(r,he(s,"script"))),t.call(this[u],s,u);if(a)for(l=r[r.length-1].ownerDocument,p.map(r,le),u=0;u<a;u++)s=r[u],ie.test(s.type||"")&&!N.access(s,"globalEval")&&p.contains(l,s)&&(s.src?p._evalUrl&&p._evalUrl(s.src):p.globalEval(s.textContent.replace(oe,"")))}return this}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){p.fn[e]=function(e){for(var i,n=[],o=p(e),a=o.length-1,s=0;s<=a;s++)i=s===a?this:this.clone(!0),p(o[s])[t](i),r.apply(n,i.get());return this.pushStack(n)}}));var de,pe={};function fe(t,i){var n=p(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle?e.getDefaultComputedStyle(n[0]).display:p.css(n[0],"display");return n.detach(),o}function ge(e){var t=d,i=pe[e];return i||("none"!==(i=fe(e,t))&&i||((t=(de=(de||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),i=fe(e,t),de.detach()),pe[e]=i),i}var me=/^margin/,ve=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),be=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function ye(e,t,i){var n,o,r,a,s=e.style;return(i=i||be(e))&&(a=i.getPropertyValue(t)||i[t]),i&&(""!==a||p.contains(e.ownerDocument,e)||(a=p.style(e,t)),ve.test(a)&&me.test(t)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,i,n=d.documentElement,o=d.createElement("div"),r=d.createElement("div");function a(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",n.appendChild(o);var a=e.getComputedStyle(r,null);t="1%"!==a.top,i="4px"===a.width,n.removeChild(o)}r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===r.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(r),e.getComputedStyle&&p.extend(h,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==i&&a(),i},reliableMarginRight:function(){var t,i=r.appendChild(d.createElement("div"));return i.style.cssText=r.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",i.style.marginRight=i.style.width="0",r.style.width="1px",n.appendChild(o),t=!parseFloat(e.getComputedStyle(i,null).marginRight),n.removeChild(o),r.innerHTML="",t}})}(),p.swap=function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in o=i.apply(e,n||[]),t)e.style[r]=a[r];return o};var we=/^(none|table(?!-c[ea]).+)/,xe=new RegExp("^("+H+")(.*)$","i"),ze=new RegExp("^([+-])=("+H+")","i"),Se={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:0,fontWeight:400},Ce=["Webkit","O","Moz","ms"];function ke(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,o=Ce.length;o--;)if((t=Ce[o]+i)in e)return t;return n}function Ie(e,t,i){var n=xe.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function De(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===i&&(a+=p.css(e,i+B[r],!0,o)),n?("content"===i&&(a-=p.css(e,"padding"+B[r],!0,o)),"margin"!==i&&(a-=p.css(e,"border"+B[r]+"Width",!0,o))):(a+=p.css(e,"padding"+B[r],!0,o),"padding"!==i&&(a+=p.css(e,"border"+B[r]+"Width",!0,o)));return a}function Ee(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=be(e),a="border-box"===p.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=ye(e,t,r))<0||null==o)&&(o=e.style[t]),ve.test(o))return o;n=a&&(h.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+De(e,t,i||(a?"border":"content"),n,r)+"px"}function Ae(e,t){for(var i,n,o,r=[],a=0,s=e.length;a<s;a++)(n=e[a]).style&&(r[a]=N.get(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&$(n)&&(r[a]=N.access(n,"olddisplay",ge(n.nodeName)))):r[a]||(o=$(n),(i&&"none"!==i||!o)&&N.set(n,"olddisplay",o?i:p.css(n,"display"))));for(a=0;a<s;a++)(n=e[a]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function Me(e,t,i,n,o){return new Me.prototype.init(e,t,i,n,o)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ye(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=p.camelCase(t),l=e.style;if(t=p.cssProps[s]||(p.cssProps[s]=ke(l,s)),a=p.cssHooks[t]||p.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t];"string"===(r=_typeof(i))&&(o=ze.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(p.css(e,t)),r="number"),null!=i&&i==i&&("number"!==r||p.cssNumber[s]||(i+="px"),h.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l[t]="",l[t]=i))}},css:function(e,t,i,n){var o,r,a,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=ke(e.style,s)),(a=p.cssHooks[t]||p.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=ye(e,t,n)),"normal"===o&&t in Te&&(o=Te[t]),""===i||i?(r=parseFloat(o),!0===i||p.isNumeric(r)?r||0:o):o}}),p.each(["height","width"],(function(e,t){p.cssHooks[t]={get:function(e,i,n){if(i)return 0===e.offsetWidth&&we.test(p.css(e,"display"))?p.swap(e,Se,(function(){return Ee(e,t,n)})):Ee(e,t,n)},set:function(e,i,n){var o=n&&be(e);return Ie(0,i,n?De(e,t,n,"border-box"===p.css(e,"boxSizing",!1,o),o):0)}}})),p.cssHooks.marginRight=_e(h.reliableMarginRight,(function(e,t){if(t)return p.swap(e,{display:"inline-block"},ye,[e,"marginRight"])})),p.each({margin:"",padding:"",border:"Width"},(function(e,t){p.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[e+B[n]+t]=r[n]||r[n-2]||r[0];return o}},me.test(e)||(p.cssHooks[e+t].set=Ie)})),p.fn.extend({css:function(e,t){return M(this,(function(e,t,i){var n,o,r={},a=0;if(p.isArray(t)){for(n=be(e),o=t.length;a<o;a++)r[t[a]]=p.css(e,t[a],!1,n);return r}return void 0!==i?p.style(e,t,i):p.css(e,t)}),e,t,arguments.length>1)},show:function(){return Ae(this,!0)},hide:function(){return Ae(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){$(this)?p(this).show():p(this).hide()}))}}),p.Tween=Me,Me.prototype={constructor:Me,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(p.cssNumber[i]?"":"px")},cur:function(){var e=Me.propHooks[this.prop];return e&&e.get?e.get(this):Me.propHooks._default.get(this)},run:function(e){var t,i=Me.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Me.propHooks._default.set(this),this}},Me.prototype.init.prototype=Me.prototype,Me.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[p.cssProps[e.prop]]||p.cssHooks[e.prop])?p.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Me.propHooks.scrollTop=Me.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},(p.fx=Me.prototype.init).step={};var Oe,Ne,Re,Pe,je,Fe=/^(?:toggle|show|hide)$/,Le=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),He=/queueHooks$/,Be=[function(e,t,i){var n,o,r,a,s,l,u,c=this,h={},d=e.style,f=e.nodeType&&$(e),g=N.get(e,"fxshow");i.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always((function(){c.always((function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()}))})));1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"none"===(u=p.css(e,"display"))&&(u=ge(e.nodeName)),"inline"===u&&"none"===p.css(e,"float")&&(d.display="inline-block"));i.overflow&&(d.overflow="hidden",c.always((function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]})));for(n in t)if(o=t[n],Fe.exec(o)){if(delete t[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;f=!0}h[n]=g&&g[n]||p.style(e,n)}if(!p.isEmptyObject(h))for(n in g?"hidden"in g&&(f=g.hidden):g=N.access(e,"fxshow",{}),r&&(g.hidden=!f),f?p(e).show():c.done((function(){p(e).hide()})),c.done((function(){var t;for(t in N.remove(e,"fxshow"),h)p.style(e,t,h[t])})),h)a=qe(f?g[n]:0,n,c),n in g||(g[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}],$e={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=Le.exec(t),r=o&&o[3]||(p.cssNumber[e]?"":"px"),a=(p.cssNumber[e]||"px"!==r&&+n)&&Le.exec(p.css(i.elem,e)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+n||1;do{a/=s=s||".5",p.style(i.elem,e,a+r)}while(s!==(s=i.cur()/n)&&1!==s&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=r,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};function We(){return setTimeout((function(){Oe=void 0})),Oe=p.now()}function Ue(e,t){var i,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(i=B[n])]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function qe(e,t,i){for(var n,o=($e[t]||[]).concat($e["*"]),r=0,a=o.length;r<a;r++)if(n=o[r].call(i,t,e))return n}function Ge(e,t,i){var n,o,r=0,a=Be.length,s=p.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=Oe||We(),i=Math.max(0,u.startTime+u.duration-t),n=1-(i/u.duration||0),r=0,a=u.tweens.length;r<a;r++)u.tweens[r].run(n);return s.notifyWith(e,[u,n,i]),n<1&&a?i:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Oe||We(),duration:i.duration,tweens:[],createTween:function(t,i){var n=p.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)u.tweens[i].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var i,n,o,r,a;for(i in e)if(o=t[n=p.camelCase(i)],r=e[i],p.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(a=p.cssHooks[n])&&"expand"in a)for(i in r=a.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=o);else t[n]=o}(c,u.opts.specialEasing);r<a;r++)if(n=Be[r].call(u,e,c,u.opts))return n;return p.map(c,qe,u),p.isFunction(u.opts.start)&&u.opts.start.call(e,u),p.fx.timer(p.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}p.Animation=p.extend(Ge,{tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;n<o;n++)i=e[n],$e[i]=$e[i]||[],$e[i].unshift(t)},prefilter:function(e,t){t?Be.unshift(e):Be.push(e)}}),p.speed=function(e,t,i){var n=e&&"object"===_typeof(e)?p.extend({},e):{complete:i||!i&&t||p.isFunction(e)&&e,duration:e,easing:i&&t||t&&!p.isFunction(t)&&t};return n.duration=p.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in p.fx.speeds?p.fx.speeds[n.duration]:p.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){p.isFunction(n.old)&&n.old.call(this),n.queue&&p.dequeue(this,n.queue)},n},p.fn.extend({fadeTo:function(e,t,i,n){return this.filter($).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=p.isEmptyObject(e),r=p.speed(t,i,n),a=function(){var t=Ge(this,p.extend({},e),r);(o||N.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",r=p.timers,a=N.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&He.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));!t&&i||p.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=N.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=p.timers,a=n?n.length:0;for(i.finish=!0,p.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),p.each(["toggle","show","hide"],(function(e,t){var i=p.fn[t];p.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(Ue(t,!0),e,n,o)}})),p.each({slideDown:Ue("show"),slideUp:Ue("hide"),slideToggle:Ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){p.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),p.timers=[],p.fx.tick=function(){var e,t=0,i=p.timers;for(Oe=p.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||p.fx.stop(),Oe=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){Ne||(Ne=setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){clearInterval(Ne),Ne=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(e,t){return e=p.fx&&p.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}}))},Re=d.createElement("input"),Pe=d.createElement("select"),je=Pe.appendChild(d.createElement("option")),Re.type="checkbox",h.checkOn=""!==Re.value,h.optSelected=je.selected,Pe.disabled=!0,h.optDisabled=!je.disabled,(Re=d.createElement("input")).value="t",Re.type="radio",h.radioValue="t"===Re.value;var Ve,Ye=p.expr.attrHandle;p.fn.extend({attr:function(e,t){return M(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){p.removeAttr(this,e)}))}}),p.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return"undefined"===_typeof(e.getAttribute)?p.prop(e,t,i):(1===r&&p.isXMLDoc(e)||(t=t.toLowerCase(),n=p.attrHooks[t]||(p.expr.match.bool.test(t)?Ve:void 0)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:null==(o=p.find.attr(e,t))?void 0:o:null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void p.removeAttr(e,t))},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(D);if(r&&1===e.nodeType)for(;i=r[o++];)n=p.propFix[i]||i,p.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&p.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ve={set:function(e,t,i){return!1===t?p.removeAttr(e,i):e.setAttribute(i,i),i}},p.each(p.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=Ye[t]||p.find.attr;Ye[t]=function(e,t,n){var o,r;return n||(r=Ye[t],Ye[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,Ye[t]=r),o}}));var Ze=/^(?:input|select|textarea|button)$/i;p.fn.extend({prop:function(e,t){return M(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[p.propFix[e]||e]}))}}),p.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var n,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!p.isXMLDoc(e))&&(t=p.propFix[t]||t,o=p.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ze.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),h.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){p.propFix[this.toLowerCase()]=this}));var Qe=/[\t\r\n\f]/g;p.fn.extend({addClass:function(e){var t,i,n,o,r,a,s="string"==typeof e&&e,l=0,u=this.length;if(p.isFunction(e))return this.each((function(t){p(this).addClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(D)||[];l<u;l++)if(n=1===(i=this[l]).nodeType&&(i.className?(" "+i.className+" ").replace(Qe," "):" ")){for(r=0;o=t[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=p.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,o,r,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(p.isFunction(e))return this.each((function(t){p(this).removeClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(D)||[];l<u;l++)if(n=1===(i=this[l]).nodeType&&(i.className?(" "+i.className+" ").replace(Qe," "):"")){for(r=0;o=t[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=e?p.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=_typeof(e);return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each((function(i){p(this).toggleClass(e.call(this,i,this.className,t),t)})):this.each((function(){if("string"===i)for(var t,n=0,o=p(this),r=e.match(D)||[];t=r[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else"undefined"!==i&&"boolean"!==i||(this.className&&N.set(this,"__className__",this.className),this.className=this.className||!1===e?"":N.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Qe," ").indexOf(t)>=0)return!0;return!1}});var Xe=/\r/g;p.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=p.isFunction(e),this.each((function(i){var o;1===this.nodeType&&(null==(o=n?e.call(this,i,p(this).val()):e)?o="":"number"==typeof o?o+="":p.isArray(o)&&(o=p.map(o,(function(e){return null==e?"":e+""}))),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=p.valHooks[o.type]||p.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(Xe,""):null==i?"":i:void 0}}),p.extend({valHooks:{select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,a=r?null:[],s=r?o+1:n.length,l=o<0?s:r?o:0;l<s;l++)if(((i=n[l]).selected||l===o)&&(h.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!p.nodeName(i.parentNode,"optgroup"))){if(t=p(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=p.makeArray(t),a=o.length;a--;)((n=o[a]).selected=p.inArray(p(n).val(),r)>=0)&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),p.each(["radio","checkbox"],(function(){p.valHooks[this]={set:function(e,t){if(p.isArray(t))return e.checked=p.inArray(p(e).val(),t)>=0}},h.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){p.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}})),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Ke=p.now(),Je=/\?/;p.parseJSON=function(e){return JSON.parse(e+"")},p.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+e),t};var et,tt,it=/#.*$/,nt=/([?&])_=[^&]*/,ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,rt=/^(?:GET|HEAD)$/,at=/^\/\//,st=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lt={},ut={},ct="*/".concat("*");try{tt=location.href}catch(e){(tt=d.createElement("a")).href="",tt=tt.href}function ht(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(D)||[];if(p.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function dt(e,t,i,n){var o={},r=e===ut;function a(s){var l;return o[s]=!0,p.each(e[s]||[],(function(e,s){var u=s(t,i,n);return"string"!=typeof u||r||o[u]?r?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function pt(e,t){var i,n,o=p.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&p.extend(!0,e,n),e}et=st.exec(tt.toLowerCase())||[],p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(et[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ct,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?pt(pt(e,p.ajaxSettings),t):pt(p.ajaxSettings,e)},ajaxPrefilter:ht(lt),ajaxTransport:ht(ut),ajax:function(e,t){"object"===_typeof(e)&&(t=e,e=void 0);var i,n,o,r,a,s,l,u,c=p.ajaxSetup({},t=t||{}),h=c.context||c,d=c.context&&(h.nodeType||h.jquery)?p(h):p.event,f=p.Deferred(),g=p.Callbacks("once memory"),m=c.statusCode||{},v={},b={},y=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!r)for(r={};t=ot.exec(o);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return y||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return i&&i.abort(t),x(0,t),this}};if(f.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,c.url=((e||c.url||tt)+"").replace(it,"").replace(at,et[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=p.trim(c.dataType||"*").toLowerCase().match(D)||[""],null==c.crossDomain&&(s=st.exec(c.url.toLowerCase()),c.crossDomain=!(!s||s[1]===et[1]&&s[2]===et[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(et[3]||("http:"===et[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=p.param(c.data,c.traditional)),dt(lt,c,t,w),2===y)return w;for(u in(l=c.global)&&0==p.active++&&p.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!rt.test(c.type),n=c.url,c.hasContent||(c.data&&(n=c.url+=(Je.test(n)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=nt.test(n)?n.replace(nt,"$1_="+Ke++):n+(Je.test(n)?"&":"?")+"_="+Ke++)),c.ifModified&&(p.lastModified[n]&&w.setRequestHeader("If-Modified-Since",p.lastModified[n]),p.etag[n]&&w.setRequestHeader("If-None-Match",p.etag[n])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&w.setRequestHeader("Content-Type",c.contentType),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+ct+"; q=0.01":""):c.accepts["*"]),c.headers)w.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(!1===c.beforeSend.call(h,w,c)||2===y))return w.abort();for(u in _="abort",{success:1,error:1,complete:1})w[u](c[u]);if(i=dt(ut,c,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(a=setTimeout((function(){w.abort("timeout")}),c.timeout));try{y=1,i.send(v,x)}catch(e){if(!(y<2))throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,r,s){var u,v,b,_,x,z=t;2!==y&&(y=2,a&&clearTimeout(a),i=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,r&&(_=function(e,t,i){for(var n,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),i[r]}(c,w,r)),_=function(e,t,i,n){var o,r,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(r=c.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(e.crossDomain&&"script"===r)continue;if(!(a=u[l+" "+r]||u["* "+r]))for(o in u)if((s=o.split(" "))[1]===r&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(c,_,w,u),u?(c.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(p.lastModified[n]=x),(x=w.getResponseHeader("etag"))&&(p.etag[n]=x)),204===e||"HEAD"===c.type?z="nocontent":304===e?z="notmodified":(z=_.state,v=_.data,u=!(b=_.error))):(b=z,!e&&z||(z="error",e<0&&(e=0))),w.status=e,w.statusText=(t||z)+"",u?f.resolveWith(h,[v,z,w]):f.rejectWith(h,[w,z,b]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,c,u?v:b]),g.fireWith(h,[w,z]),l&&(d.trigger("ajaxComplete",[w,c]),--p.active||p.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,i){return p.get(e,t,i,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],(function(e,t){p[t]=function(e,i,n,o){return p.isFunction(i)&&(o=o||n,n=i,i=void 0),p.ajax({url:e,type:t,dataType:o,data:i,success:n})}})),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){p.fn[t]=function(e){return this.on(t,e)}})),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){var t;return p.isFunction(e)?this.each((function(t){p(this).wrapAll(e.call(this,t))})):(this[0]&&(t=p(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return p.isFunction(e)?this.each((function(t){p(this).wrapInner(e.call(this,t))})):this.each((function(){var t=p(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=p.isFunction(e);return this.each((function(i){p(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(){return this.parent().each((function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)})).end()}}),p.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var ft=/%20/g,gt=/\[\]$/,mt=/\r?\n/g,vt=/^(?:submit|button|image|reset|file)$/i,bt=/^(?:input|select|textarea|keygen)/i;function yt(e,t,i,n){var o;if(p.isArray(t))p.each(t,(function(t,o){i||gt.test(e)?n(e,o):yt(e+"["+("object"===_typeof(o)?t:"")+"]",o,i,n)}));else if(i||"object"!==p.type(t))n(e,t);else for(o in t)yt(e+"["+o+"]",t[o],i,n)}p.param=function(e,t){var i,n=[],o=function(e,t){t=p.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,(function(){o(this.name,this.value)}));else for(i in e)yt(i,e[i],t,o);return n.join("&").replace(ft,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&bt.test(this.nodeName)&&!vt.test(e)&&(this.checked||!W.test(e))})).map((function(e,t){var i=p(this).val();return null==i?null:p.isArray(i)?p.map(i,(function(e){return{name:t.name,value:e.replace(mt,"\r\n")}})):{name:t.name,value:i.replace(mt,"\r\n")}})).get()}}),p.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var _t=0,wt={},xt={0:200,1223:204},zt=p.ajaxSettings.xhr();e.ActiveXObject&&p(e).on("unload",(function(){for(var e in wt)wt[e]()})),h.cors=!!zt&&"withCredentials"in zt,h.ajax=zt=!!zt,p.ajaxTransport((function(e){var t;if(h.cors||zt&&!e.crossDomain)return{send:function(i,n){var o,r=e.xhr(),a=++_t;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];for(o in e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)r.setRequestHeader(o,i[o]);t=function(e){return function(){t&&(delete wt[a],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?n(r.status,r.statusText):n(xt[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=wt[a]=t("abort"),r.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}})),p.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),p.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain)return{send:function(n,o){t=p("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),d.head.appendChild(t[0])},abort:function(){i&&i()}}}));var St=[],Tt=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=St.pop()||p.expando+"_"+Ke++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",(function(t,i,n){var o,r,a,s=!1!==t.jsonp&&(Tt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Tt,"$1"+o):!1!==t.jsonp&&(t.url+=(Je.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||p.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},n.always((function(){e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,St.push(o)),a&&p.isFunction(r)&&r(a[0]),a=r=void 0})),"script"})),p.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||d;var n=_.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=p.buildFragment([e],t,o),o&&o.length&&p(o).remove(),p.merge([],n.childNodes))};var Ct=p.fn.load;p.fn.load=function(e,t,i){if("string"!=typeof e&&Ct)return Ct.apply(this,arguments);var n,o,r,a=this,s=e.indexOf(" ");return s>=0&&(n=e.slice(s),e=e.slice(0,s)),p.isFunction(t)?(i=t,t=void 0):t&&"object"===_typeof(t)&&(o="POST"),a.length>0&&p.ajax({url:e,type:o,dataType:"html",data:t}).done((function(e){r=arguments,a.html(n?p("<div>").append(p.parseHTML(e)).find(n):e)})).complete(i&&function(e,t){a.each(i,r||[e.responseText,t,e])}),this},p.expr.filters.animated=function(e){return p.grep(p.timers,(function(t){return e===t.elem})).length};var kt=e.document.documentElement;function It(e){return p.isWindow(e)?e:9===e.nodeType&&e.defaultView}p.offset={setOffset:function(e,t,i){var n,o,r,a,s,l,u=p.css(e,"position"),c=p(e),h={};"static"===u&&(e.style.position="relative"),s=c.offset(),r=p.css(e,"top"),l=p.css(e,"left"),("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1?(a=(n=c.position()).top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),p.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):c.css(h)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){p.offset.setOffset(this,e,t)}));var t,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;return r?(t=r.documentElement,p.contains(t,n)?("undefined"!==_typeof(n.getBoundingClientRect)&&(o=n.getBoundingClientRect()),i=It(r),{top:o.top+i.pageYOffset-t.clientTop,left:o.left+i.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===p.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(n=e.offset()),n.top+=p.css(e[0],"borderTopWidth",!0),n.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-p.css(i,"marginTop",!0),left:t.left-n.left-p.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||kt;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||kt}))}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,i){var n="pageYOffset"===i;p.fn[t]=function(o){return M(this,(function(t,o,r){var a=It(t);if(void 0===r)return a?a[i]:t[o];a?a.scrollTo(n?e.pageXOffset:r,n?r:e.pageYOffset):t[o]=r}),t,o,arguments.length,null)}})),p.each(["top","left"],(function(e,t){p.cssHooks[t]=_e(h.pixelPosition,(function(e,i){if(i)return i=ye(e,t),ve.test(i)?p(e).position()[t]+"px":i}))})),p.each({Height:"height",Width:"width"},(function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){p.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===o?"margin":"border");return M(this,(function(t,i,n){var o;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?p.css(t,i,a):p.style(t,i,n,a)}),t,r?n:void 0,r,null)}}))})),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return p}));var Dt,Et,At=e.jQuery,Mt=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=Mt),t&&e.jQuery===p&&(e.jQuery=At),p},p.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},p.browser||(Et={},(Dt=p.uaMatch(navigator.userAgent)).browser&&(Et[Dt.browser]=!0,Et.version=Dt.version),Et.chrome?Et.webkit=!0:Et.webkit&&(Et.safari=!0),p.browser=Et),"undefined"===_typeof(t)&&(e.jQuery=e.$=p),p})),
/*!
 * jQuery Migrate - v1.4.1 - 2016-05-19
 * Copyright jQuery Foundation and other contributors
 */
function(e,t,i){e.migrateTrace=!1,e.migrateVersion="1.4.1";var n={};function o(i){var o=t.console;n[i]||(n[i]=!0,e.migrateWarnings.push(i),o&&o.warn&&!e.migrateMute&&(o.warn("JQMIGRATE: "+i),e.migrateTrace&&o.trace&&o.trace()))}function r(t,i,n,r){if(Object.defineProperty)try{return void Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return o(r),n},set:function(e){o(r),n=e}})}catch(e){}e._definePropertyBroken=!0,t[i]=n}e.migrateWarnings=[],t.console&&t.console.log&&t.console.log("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){n={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&o("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){},c=/^(?:input|button)$/i,h=/^[238]$/,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;r(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,n,r){var l=i.toLowerCase(),u=t&&t.nodeType;return r&&(s.length<4&&o("jQuery.fn.attr( props, pass ) is deprecated"),t&&!h.test(u)&&(a?i in a:e.isFunction(e.fn[i])))?e(t)[i](n):("type"===i&&void 0!==n&&c.test(t.nodeName)&&t.parentNode&&o("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&d.test(l)&&(e.attrHooks[l]={get:function(t,i){var n,o=e.prop(t,i);return!0===o||"boolean"!=typeof o&&(n=t.getAttributeNode(i))&&!1!==n.nodeValue?i.toLowerCase():void 0},set:function(t,i,n){var o;return!1===i?e.removeAttr(t,n):((o=e.propFix[n]||n)in t&&(t[o]=!0),t.setAttribute(n,n.toLowerCase())),n}},p.test(l)&&o("jQuery.fn.attr('"+l+"') might use property instead of attribute")),s.call(e,t,i,n))},e.attrHooks.value={get:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&o("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();if("button"===i)return u.apply(this,arguments);"input"!==i&&"option"!==i&&o("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t}};var f,g,m,v=e.fn.init,b=e.find,y=e.parseJSON,_=/^\s*</,w=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,x=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,z=/^([^<]*)(<[\w\W]+>)([^>]*)$/;for(m in e.fn.init=function(t,i,n){var r,a;return t&&"string"==typeof t&&!e.isPlainObject(i)&&(r=z.exec(e.trim(t)))&&r[0]&&(_.test(t)||o("$(html) HTML strings must start with '<' character"),r[3]&&o("$(html) HTML text after last tag is ignored"),"#"===r[0].charAt(0)&&(o("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),i&&i.context&&i.context.nodeType&&(i=i.context),e.parseHTML)?v.call(this,e.parseHTML(r[2],i&&i.ownerDocument||i||document,!0),i,n):(a=v.apply(this,arguments),t&&void 0!==t.selector?(a.selector=t.selector,a.context=t.context):(a.selector="string"==typeof t?t:"",t&&(a.context=t.nodeType?t:i||document)),a)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&w.test(e))try{document.querySelector(e)}catch(i){e=e.replace(x,(function(e,t,i,n){return"["+t+i+'"'+n+'"]'}));try{document.querySelector(e),o("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(e){o("Attribute selector with '#' was not fixed: "+t[0])}}return b.apply(this,t)},b)Object.prototype.hasOwnProperty.call(b,m)&&(e.find[m]=b[m]);e.parseJSON=function(e){return e?y.apply(this,arguments):(o("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g={},(f=e.uaMatch(navigator.userAgent)).browser&&(g[f.browser]=!0,g.version=f.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),e.browser=g),r(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel="CSS1Compat"===document.compatMode,r(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),r(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,i){return new t.fn.init(e,i)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,o){var r=e.fn.init.call(this,n,o,i);return r instanceof t?r:t(r)},t.fn.init.prototype=t.fn;var i=t(document);return o("jQuery.sub() is deprecated"),t},e.fn.size=function(){return o("jQuery.fn.size() is deprecated; use the .length property"),this.length};var S=!1;e.swap&&e.each(["height","width","reliableMarginRight"],(function(t,i){var n=e.cssHooks[i]&&e.cssHooks[i].get;n&&(e.cssHooks[i].get=function(){var e;return S=!0,e=n.apply(this,arguments),S=!1,e})})),e.swap=function(e,t,i,n){var r,a,s={};for(a in S||o("jQuery.swap() is undocumented and deprecated"),t)s[a]=e.style[a],e.style[a]=t[a];for(a in r=i.apply(e,n||[]),t)e.style[a]=s[a];return r},e.ajaxSetup({converters:{"text json":e.parseJSON}});var T=e.fn.data;e.fn.data=function(t){var i,n,r=this[0];return!r||"events"!==t||1!==arguments.length||(i=e.data(r,t),n=e._data(r,t),void 0!==i&&i!==n||void 0===n)?T.apply(this,arguments):(o("Use of jQuery.fn.data('events') is deprecated"),n)};var C=/\/(java|ecma)script/i;e.clean||(e.clean=function(t,i,n,r){i=(i=!(i=i||document).nodeType&&i[0]||i).ownerDocument||i,o("jQuery.clean() is deprecated");var a,s,l,u,c=[];if(e.merge(c,e.buildFragment(t,i).childNodes),n)for(l=function(e){if(!e.type||C.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)},a=0;null!=(s=c[a]);a++)e.nodeName(s,"script")&&l(s)||(n.appendChild(s),void 0!==s.getElementsByTagName&&(u=e.grep(e.merge([],s.getElementsByTagName("script")),l),c.splice.apply(c,[a+1,0].concat(u)),a+=u.length));return c});var k=e.event.add,I=e.event.remove,D=e.event.trigger,E=e.fn.toggle,A=e.fn.live,M=e.fn.die,O=e.fn.load,N="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",R=new RegExp("\\b(?:"+N+")\\b"),P=/(?:^|\s)hover(\.\S+|)\b/,j=function(t){return"string"!=typeof t||e.event.special.hover?t:(P.test(t)&&o("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(P,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,i,n,r){e!==document&&R.test(t)&&o("AJAX events should be attached to document: "+t),k.call(this,e,j(t||""),i,n,r)},e.event.remove=function(e,t,i,n,o){I.call(this,e,j(t)||"",i,n,o)},e.each(["load","unload","error"],(function(t,i){e.fn[i]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof e[0]?O.apply(this,e):(o("jQuery.fn."+i+"() is deprecated"),e.splice(0,0,i),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this))}})),e.fn.toggle=function(t,i){if(!e.isFunction(t)||!e.isFunction(i))return E.apply(this,arguments);o("jQuery.fn.toggle(handler, handler...) is deprecated");var n=arguments,r=t.guid||e.guid++,a=0,s=function(i){var o=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,o+1),i.preventDefault(),n[o].apply(this,arguments)||!1};for(s.guid=r;a<n.length;)n[a++].guid=r;return this.click(s)},e.fn.live=function(t,i,n){return o("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(e(this.context).on(t,this.selector,i,n),this)},e.fn.die=function(t,i){return o("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",i),this)},e.event.trigger=function(e,t,i,n){return i||R.test(e)||o("Global events are undocumented and deprecated"),D.call(this,e,t,i||document,n)},e.each(N.split("|"),(function(t,i){e.event.special[i]={setup:function(){var t=this;return t!==document&&(e.event.add(document,i+"."+e.guid,(function(){e.event.trigger(i,Array.prototype.slice.call(arguments,1),t,!0)})),e._data(this,i,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,i+"."+e._data(this,i)),!1}}})),e.event.special.ready={setup:function(){this===document&&o("'ready' event is deprecated")}};var F=e.fn.andSelf||e.fn.addBack,L=e.fn.find;if(e.fn.andSelf=function(){return o("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),F.apply(this,arguments)},e.fn.find=function(e){var t=L.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t},e.Callbacks){var H=e.Deferred,B=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var i=H(),n=i.promise();return i.pipe=n.pipe=function(){var t=arguments;return o("deferred.pipe() is deprecated"),e.Deferred((function(o){e.each(B,(function(r,a){var s=e.isFunction(t[r])&&t[r];i[a[1]]((function(){var t=s&&s.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[a[0]+"With"](this===n?o.promise():this,s?[t]:arguments)}))})),t=null})).promise()},i.isResolved=function(){return o("deferred.isResolved is deprecated"),"resolved"===i.state()},i.isRejected=function(){return o("deferred.isRejected is deprecated"),"rejected"===i.state()},t&&t.call(i,i),i}}}(jQuery,window),window.Prototype&&(delete Object.prototype.toJSON,delete Array.prototype.toJSON,delete Hash.prototype.toJSON,delete String.prototype.toJSON),this.JSON||(this.JSON={}),function(){function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var i,n,o,r,a,s=gap,l=t[e];switch("function"==typeof rep&&(l=rep.call(t,e,l)),_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;i<r;i+=1)a[i]=str(i,l)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"===_typeof(rep))for(r=rep.length,i=0;i<r;i+=1)"string"==typeof(n=rep[i])&&(o=str(n,l))&&a.push(quote(n)+(gap?": ":":")+o);else for(n in l)Object.hasOwnProperty.call(l,n)&&(o=str(n,l))&&a.push(quote(n)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof JSON.encode&&(JSON.encode=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.encode");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,o=e[t];if(o&&"object"===_typeof(o))for(i in o)Object.hasOwnProperty.call(o,i)&&(void 0!==(n=walk(o,i))?o[i]=n:delete o[i]);return reviver.call(e,t,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){var t=/_|-/,n=/::/,o=/([A-Z]+)([A-Z][a-z])/g,r=/([a-z\d])([A-Z])/g,a=/([a-z\d])([A-Z])/g,s=/\{([^\}]+)\}/g,l=/\./,u=function(e,t,i){return e[t]||i&&(e[t]={})},c=function(e){var t=_typeof(e);return t&&("function"==t||"object"==t)},h=function(t,i,n){var o,r,a,s=t?t.split(l):[],h=s.length,d=e.isArray(i)?i:[i||window],p=0;if(0==h)return d[0];for(;o=d[p++];){for(a=0;a<h-1&&c(o);a++)o=u(o,s[a],n);if(c(o)&&void 0!==(r=u(o,s[a],n)))return!1===n&&delete o[s[a]],r}},d=e.String=e.extend(e.String||{},{getObject:h,capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.substr(1)},camelize:function(e){return(e=d.classize(e)).charAt(0).toLowerCase()+e.substr(1)},classize:function(e,i){for(var n=e.split(t),o=0;o<n.length;o++)n[o]=d.capitalize(n[o]);return n.join(i||"")},niceName:function(e){d.classize(parts[i]," ")},underscore:function(e){return e.replace(n,"/").replace(o,"$1_$2").replace(r,"$1_$2").replace(a,"_").toLowerCase()},sub:function(e,t,i){var n=[];return n.push(e.replace(s,(function(e,o){var r=h(o,t,"boolean"==typeof i?!i:i),a=_typeof(r);return"object"!==a&&"function"!==a||null===a?""+r:(n.push(r),"")}))),n.length<=1?n[0]:n}})}(jQuery),function(e){var t=!1,i=e.makeArray,n=e.isFunction,o=e.isArray,r=e.extend,a=function(e,t){return e.concat(i(t))},s=/xyz/.test((function(){xyz}))?/\b_super\b/:/.*/,l=function(e,t,i){for(var o in i=i||e,e)i[o]=n(e[o])&&n(t[o])&&s.test(e[o])?function(e,i){return function(){var n,o=this._super;return this._super=t[e],n=i.apply(this,arguments),this._super=o,n}}(o,e[o]):e[o]},u=e.Class=function(){arguments.length&&u.extend.apply(u,arguments)};r(u,{callback:function(e){var t,n=i(arguments);return e=n.shift(),o(e)||(e=[e]),t=this,function(){for(var i,r,s=a(n,arguments),l=e.length,u=0;u<l;u++)(r=e[u])&&((i="string"==typeof r)&&t._set_called&&(t.called=r),s=(i?t[r]:r).apply(t,s||[]),u<l-1&&(s=!o(s)||s._use_call?[s]:s));return s}},getObject:e.String.getObject,newInstance:function(){var e,t=this.rawInstance();return t.setup&&(e=t.setup.apply(t,arguments)),t.init&&t.init.apply(t,o(e)?e:arguments),t},setup:function(e,t){return this.defaults=r(!0,{},e.defaults,this.defaults),arguments},rawInstance:function(){t=!0;var e=new this;return t=!1,e},extend:function(e,i,n){"string"!=typeof e&&(n=i,i=e,e=null),n||(n=i,i=null),n=n||{};var o,s,c=this,h=this.prototype;function d(){if(!t)return this.constructor!==d&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}for(o in t=!0,s=new this,t=!1,l(n,h,s),this)this.hasOwnProperty(o)&&(d[o]=this[o]);if(l(i,this,d),e){var p=e.split(/\./),f=p.pop(),g=u.getObject(p.join("."),window,!0),m=g;g[f]=d}r(d,{prototype:s,namespace:m,shortName:f,constructor:d,fullName:e}),d.prototype.Class=d.prototype.constructor=d;var v=d.setup.apply(d,a([c],arguments));return d.init&&d.init.apply(d,v||[]),d}}),u.prototype.callback=u.callback}(jQuery),function(e,t){var i,n=e.fn.domManip,o=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,r={},a={},s={key:0,data:{}},l=0,u=0,c=[];function h(t,i,n,o){var s={data:o||(i?i.data:{}),_wrap:i?i._wrap:null,tmpl:null,parent:i||null,nodes:[],calls:_,nest:w,wrap:x,html:z,update:S};return t&&e.extend(s,t,{nodes:[],parent:i}),n&&(s.tmpl=n,s._ctnt=s._ctnt||s.tmpl(e,s),s.key=++l,(c.length?a:r)[l]=s),s}e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,n){e.fn[t]=function(o){var a,s,l,c,h=[],d=e(o),p=1===this.length&&this[0].parentNode;if(i=r||{},p&&11===p.nodeType&&1===p.childNodes.length&&1===d.length)d[n](this[0]),h=this;else{for(s=0,l=d.length;s<l;s++)u=s,a=(s>0?this.clone(!0):this).get(),e.fn[n].apply(e(d[s]),a),h=h.concat(a);u=0,h=this.pushStack(h,t,d.selector)}return c=i,i=null,e.tmpl.complete(c),h}})),e.fn.extend({tmpl:function(t,i,n){return e.tmpl(this[0],t,i,n)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(t,o,a,s){if(t[0]&&t[0].nodeType){for(var l,c=e.makeArray(arguments),h=t.length,d=0;d<h&&!(l=e.data(t[d++],"tmplItem")););h>1&&(c[0]=[e.makeArray(t)]),l&&u&&(c[2]=function(t){e.tmpl.afterManip(this,t,a)}),n.apply(this,c)}else n.apply(this,arguments);return u=0,i||e.tmpl.complete(r),this}}),e.extend({fasttmpl:function(t,i,n,o){n=n||{},$.extend(n,{fast:!0}),bizagi.chrono.start("fasttmpl");var r=e.tmpl(t,i,n,o);return bizagi.chrono.stop("fasttmpl"),r},tmpl:function(t,i,n,o){n&&n.nestedExecution||(d=[]);var l,u,c=!o,g=n&&n.fast;if(c)o=s,t=e.template[t]||e.template(null,t),a={};else if(!t)return t=o.tmpl,r[o.key]=o,o.nodes=[],o.wrapped&&v(o,o.wrapped),u=f(o,null,o.tmpl(e,o),g),n&&n.nestedExecution||p(),g?u:e(u);return t?("function"==typeof i&&(i=i.call(o||{})),n&&n.wrapped&&v(n,n.wrapped),l=e.isArray(i)?e.map(i,(function(e){return e?h(n,o,t,e):null})):[h(n,o,t,i)],c?(u=f(o,null,l,g),n&&n.nestedExecution||p(),g?u:e(u)):(n&&n.nestedExecution||p(),l)):[]},tmplItem:function(t){var i;for(t instanceof e&&(t=t[0]);t&&1===t.nodeType&&!(i=e.data(t,"tmplItem"))&&(t=t.parentNode););return i||s},template:function(t,i){return i?("string"==typeof i?i=m(i):i instanceof e&&(i=i[0]||{}),i.nodeType&&(i=e.data(i,"tmpl")||e.data(i,"tmpl",m(i.innerHTML))),"string"==typeof t?e.template[t]=i:i):t?"string"!=typeof t?e.template(null,t):e.template[t]||e.template(null,o.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(e){r={}},afterManip:function(t,i,n){var o=11===i.nodeType?e.makeArray(i.childNodes):1===i.nodeType?[i]:[];n.call(t,i),y(o),u++}});var d=[];function p(){if(d)for(var e=0;e<d.length;e++){$(d[e]).removeData("tmplItem")}d=null}function f(t,i,n,o){var r,a;return a=o?n?e.map(n,(function(e){return"string"==typeof e?e:f(e,t,e._ctnt,!0)})):t:n?e.map(n,(function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,'$1 _tmplitem="'+t.key+'" $2'):e:f(e,t,e._ctnt)})):t,i?a:(a=a.join(""),o?a:(a.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,(function(t,i,n,o){y(r=e(n).get()),i&&(r=g(i).concat(r)),o&&(r=r.concat(g(o)))})),r||g(a)))}function g(t){var i=document.createElement("div");return i.innerHTML=t,e.makeArray(i.childNodes)}function m(t){var i="var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,(function(t,i,n,o,r,a,s){var l,u,c,h=e.tmpl.tag[n];if(!h)throw"Template command not found: "+n;return l=h._default||[],a&&!/\w$/.test(r)&&(r+=a,a=""),r?(r=b(r),s=s?","+b(s)+")":a?")":"",u=a?r.indexOf(".")>-1?r+a:"("+r+").call($item"+s:r,c=a?u:"(typeof("+r+")==='function'?("+r+").call($item):("+r+"))"):c=u=l.$1||"null",o=b(o),"');"+h[i?"close":"open"].split("$notnull_1").join(r?"typeof("+r+")!=='undefined' && ("+r+")!=null":"true").split("$1a").join(c).split("$1").join(u).split("$2").join(o?o.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,(function(e,t,i,n){return(n=n?","+n+")":i?")":"")?"("+t+").call($item"+n:e})):l.$2||"")+"_.push('"}))+"');}return _;";return new Function("jQuery","$item",i)}function v(t,i){t._wrap=f(t,!0,e.isArray(i)?i:[o.test(i)?i:e(i).html()]).join("")}function b(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function y(t){var i,n,o,s,c,d="_"+u,p={};for(o=0,s=t.length;o<s;o++)if(1===(i=t[o]).nodeType){for(c=(n=i.getElementsByTagName("*")).length-1;c>=0;c--)f(n[c]);f(i)}function f(t){var i,n,o,s,c=t;if(s=t.getAttribute("_tmplitem")){for(;c.parentNode&&1===(c=c.parentNode).nodeType&&!(i=c.getAttribute("_tmplitem")););i!==s&&(c=c.parentNode?11===c.nodeType?0:c.getAttribute("_tmplitem")||0:0,(o=r[s])||((o=h(o=a[s],r[c]||a[c],null,!0)).key=++l,r[l]=o),u&&f(s)),t.removeAttribute("_tmplitem")}else u&&(o=e.data(t,"tmplItem"))&&(f(o.key),r[o.key]=o,c=(c=e.data(t.parentNode,"tmplItem"))?c.key:0);if(o){for(n=o;n&&n.key!=c;)n.nodes.push(t),n=n.parent;delete o._ctnt,delete o._wrap,e.data(t,"tmplItem",o)}function f(e){o=p[e+=d]=p[e]||h(o,r[o.parent.key+d]||o.parent,null,!0)}}}function _(e,t,i,n){if(!e)return c.pop();c.push({_:e,tmpl:t,item:this,data:i,options:n})}function w(t,i,n){return n||(n={}),n.nestedExecution=!0,e.tmpl(e.template(t),i,n,this)}function x(t,i){var n=t.options||{};return n.wrapped=i,e.tmpl(e.template(t.tmpl),t.data,n,t.item)}function z(t,i){var n=this._wrap;return e.map(e(e.isArray(n)?n.join(""):n).filter(t||"*"),(function(e){return i?e.innerText||e.textContent:e.outerHTML||(t=e,(n=document.createElement("div")).appendChild(t.cloneNode(!0)),n.innerHTML);var t,n}))}function S(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}}(jQuery),function(e,t){var i,n,o=0,r=/^ui-id-\d+$/;function a(t,i){var n,o,r,a=t.nodeName.toLowerCase();return"area"===a?(o=(n=t.parentNode).name,!(!t.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(r=e("img[usemap=#"+o+"]")[0])&&s(r))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:(i=e.fn.focus,function(t,n){return"number"==typeof t?this.each((function(){var i=this;setTimeout((function(){e(i).focus(),n&&n.call(i)}),t)})):i.apply(this,arguments)}),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++o)}))},removeUniqueId:function(){return this.each((function(){r.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}})):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return a(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),n=isNaN(i);return(n||i>=0)&&a(t,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(t,i){var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function a(t,i,o,r){return e.each(n,(function(){i-=parseFloat(e.css(t,"padding"+this))||0,o&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)})),i}e.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each((function(){e(this).css(o,a(this,t)+"px")}))},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?r["outer"+i].call(this,t):this.each((function(){e(this).css(o,a(this,t,!0,n)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(n=e.fn.removeData,function(t){return arguments.length?n.call(this,e.camelCase(t)):n.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(e){e.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var o,r=e.ui[t].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(e,t,i){var n,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n,o=i&&"left"===i?"scrollLeft":"scrollTop";return t[o]>0||(t[o]=1,n=t[o]>0,t[o]=0,n)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(e){}o(t)},e.widget=function(t,i,n){var o,r,a,s,l={},u=t.split(".")[0];t=t.split(".")[1],o=u+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[u]=e[u]||{},r=e[u][t],a=e[u][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(s=new i).options=e.widget.extend({},s.options),e.each(n,(function(t,n){var o,r;e.isFunction(n)?l[t]=(o=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)},function(){var e,t=this._super,i=this._superApply;return this._super=o,this._superApply=r,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):l[t]=n})),a.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix:t},l,{constructor:a,namespace:u,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,(function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)})),delete r._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(t){for(var i,o,r=n.call(arguments,1),a=0,s=r.length;a<s;a++)for(i in r[a])o=r[a][i],r[a].hasOwnProperty(i)&&void 0!==o&&(e.isPlainObject(o)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],o):e.widget.extend({},o):t[i]=o);return t},e.widget.bridge=function(t,i){var o=i.prototype.widgetFullName||t;e.fn[t]=function(r){var a="string"==typeof r,s=n.call(arguments,1),l=this;return r=!a&&s.length?e.widget.extend.apply(null,[r].concat(s)):r,a?this.each((function(){var i,n=e.data(this,o);return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,s))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")})):this.each((function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new i(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,r,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(o=a[t]=e.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(t=n.pop(),void 0===i)return void 0===o[t]?null:o[t];o[t]=i}else{if(void 0===i)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var o,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,(function(n,a){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?o.delegate(c,u,s):i.bind(u,s)}))},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var i=this;return setTimeout((function(){return("string"==typeof e?i[e]:e).apply(i,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,r,a=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,i){e.Widget.prototype["_"+t]=function(n,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?i:o.effect||i:t;"number"==typeof(o=o||{})&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[s]?n[t](o):s!==t&&n[s]?n[s](o.duration,o.easing,r):n.queue((function(i){e(this)[t](),r&&r.call(n[0]),i()}))}}))}(jQuery),function(e,t){var i=!1;e(document).mouseup((function(){i=!1})),e.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,o=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(o&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(e(!0===i.iframeFix?"iframe":i.iframeFix).each((function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})),!0))},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i,n=this,o=!1,r=!1;for(e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),i=this.element[0];i&&(i=i.parentNode);)i===document&&(o=!0);return!(!o&&"original"===this.options.helper)&&("invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;if("parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=["document"===o.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===o.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===o.containment?0:e(window).scrollLeft())+e("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===o.containment?0:e(window).scrollTop())+(e("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||o.containment.constructor===Array)o.containment.constructor===Array&&(this.containment=o.containment);else{if(!(n=(i=e(o.containment))[0]))return;t="hidden"!==e(n).css("overflow"),this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderRightWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderBottomWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o,r,a=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName),u=t.pageX,c=t.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(u=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(u=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-a.grid[1]:o+a.grid[1]:o,r=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-a.grid[0]:r+a.grid[0]:r)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),o=n.options,r=e.extend({},i,{item:n.element});n.sortables=[],e(o.connectToSortable).each((function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,r))}))},stop:function(t,i){var n=e(this).data("ui-draggable"),o=e.extend({},i,{item:n.element});e.each(n.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))}))},drag:function(t,i){var n=e(this).data("ui-draggable"),o=this;e.each(n.sortables,(function(){var r=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,e.each(n.sortables,(function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(r=!1),r}))),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)}))}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),o=e(this).data("ui-draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each((function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,i){var n,o,r,a,s,l,u,c,h,d,p=e(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,b=i.offset.top,y=b+p.helperProportions.height;for(h=p.snapElements.length-1;h>=0;h--)l=(s=p.snapElements[h].left)+p.snapElements[h].width,c=(u=p.snapElements[h].top)+p.snapElements[h].height,s-g<m&&m<l+g&&u-g<b&&b<c+g||s-g<m&&m<l+g&&u-g<y&&y<c+g||s-g<v&&v<l+g&&u-g<b&&b<c+g||s-g<v&&v<l+g&&u-g<y&&y<c+g?("inner"!==f.snapMode&&(n=Math.abs(u-y)<=g,o=Math.abs(c-b)<=g,r=Math.abs(s-v)<=g,a=Math.abs(l-m)<=g,n&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:s-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||o||r||a,"outer"!==f.snapMode&&(n=Math.abs(u-b)<=g,o=Math.abs(c-y)<=g,r=Math.abs(s-m)<=g,a=Math.abs(l-v)<=g,n&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:s}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[h].snapping&&(n||o||r||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=n||o||r||a||d):(p.snapElements[h].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=!1)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort((function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)}));n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each((function(i){e(this).css("zIndex",t+i)})),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),o=e(this).data("ui-draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e,t){function i(e,t,i){return e>t&&e<t+i}e.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,o=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return o=!0,!1})),!o&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,t,n){if(!t.offset)return!1;var o,r=(e.positionAbs||e.position.absolute).left,a=r+e.helperProportions.width,s=(e.positionAbs||e.position.absolute).top,l=s+e.helperProportions.height,u=t.offset.left,c=u+t.proportions.width,h=t.offset.top,d=h+t.proportions.height;switch(n){case"fit":return u<=r&&a<=c&&h<=s&&l<=d;case"intersect":return u<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<c&&h<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return o=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,i((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,h,t.proportions.height)&&i(o,u,t.proportions.width);case"touch":return(s>=h&&s<=d||l>=h&&l<=d||s<h&&l>d)&&(r>=u&&r<=c||a>=u&&a<=c||r<u&&a>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,o,r=e.ui.ddmanager.droppables[t.options.scope]||[],a=i?i.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(o=0;o<s.length;o++)if(s[o]===r[n].element[0]){r[n].proportions.height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===a&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions={width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}))},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,r,a=e.ui.intersect(t,this,this.options.tolerance),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(o=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter((function(){return e.data(this,"ui-droppable").options.scope===o}))).length&&((n=e.data(r[0],"ui-droppable")).greedyChild="isover"===s)),n&&"isover"===s&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,i),n&&"isout"===s&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}}))},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e,t){function i(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,o,r=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),(o=e("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(t){var i,n,o,r;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,r),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")})),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())})).mouseleave((function(){a.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var n,o,r,a=this.options,s=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),n=i(this.helper.css("left")),o=i(this.helper.css("top")),a.containment&&(n+=e(a.containment).scrollLeft()||0,o+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),l.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n=this.helper,o={},r=this.originalMousePosition,a=this.axis,s=this.position.top,l=this.position.left,u=this.size.width,c=this.size.height,h=t.pageX-r.left||0,d=t.pageY-r.top||0,p=this._change[a];return!!p&&(i=p.apply(this,[t,h,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==s&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==u&&(o.width=this.size.width+"px"),this.size.height!==c&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(o)||this._trigger("resize",t,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,o,r,a,s,l,u=this.options;return this._helper&&(o=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&e.ui.hasScroll(i[0],"left")?0:this.sizeDiff.height,r=n?0:this.sizeDiff.width,a={width:this.helper.width()-r,height:this.helper.height()-o},s=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,l=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,u.animate||this.element.css(e.extend(a,{top:l,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,o,r,a,s=this.options;a={minWidth:n(s.minWidth)?s.minWidth:0,maxWidth:n(s.maxWidth)?s.maxWidth:1/0,minHeight:n(s.minHeight)?s.minHeight:0,maxHeight:n(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,o=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,r=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),o>a.minHeight&&(a.minHeight=o),i<a.maxWidth&&(a.maxWidth=i),r<a.maxHeight&&(a.maxHeight=r)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,o=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===o&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===o&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,o=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=n(e.width)&&t.minWidth&&t.minWidth>e.width,s=n(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),s&&(e.height=t.minHeight),o&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),a&&c&&(e.left=l-t.minWidth),o&&c&&(e.left=l-t.maxWidth),s&&h&&(e.top=u-t.minHeight),r&&h&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,o,r=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);o.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),a=r&&e.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,s=r?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-a},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,o,r,a,s,l,u=e(this).data("ui-resizable"),c=u.options,h=u.element,d=c.containment,p=d instanceof e?d.get(0):/parent/.test(d)?h.parent().get(0):d;p&&(u.containerElement=e(p),/document/.test(d)||d===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,o){n[e]=i(t.css("padding"+o))})),u.containerOffset=t.offset(),u.containerPosition=t.position(),u.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},o=u.containerOffset,r=u.containerSize.height,a=u.containerSize.width,s=e.ui.hasScroll(p,"left")?p.scrollWidth:a,l=e.ui.hasScroll(p)?p.scrollHeight:r,u.parentData={element:p,left:o.left,top:o.top,width:s,height:l}))},resize:function(t){var i,n,o,r,a=e(this).data("ui-resizable"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||t.shiftKey,h={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-h.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper,a.offset.left-h.left+a.sizeDiff.width)),n=Math.abs((a._helper?a.offset.top-h.top:a.offset.top-l.top)+a.sizeDiff.height),o=a.containerElement.get(0)===a.element.parent().get(0),r=/relative|absolute/.test(a.containerElement.css("position")),o&&r&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,o=t.containerPosition,r=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,u=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(r.css("position"))&&e(this).css({left:s.left-o.left-n.left,width:l,height:u}),t._helper&&!i.animate&&/static/.test(r.css("position"))&&e(this).css({left:s.left-o.left-n.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable").options,i=function(t){e(t).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))};"object"!==_typeof(t.alsoResize)||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):e.each(t.alsoResize,(function(e){i(e)}))},resize:function(t,i){var n=e(this).data("ui-resizable"),o=n.options,r=n.originalSize,a=n.originalPosition,s={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(t,n){e(t).each((function(){var t=e(this),o=e(this).data("ui-resizable-alsoresize"),r={},a=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,(function(e,t){var i=(o[t]||0)+(s[t]||0);i&&i>=0&&(r[t]=i||null)})),t.css(r)}))};"object"!==_typeof(o.alsoResize)||o.alsoResize.nodeType?l(o.alsoResize):e.each(o.alsoResize,(function(e,t){l(e,t)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,o=t.originalSize,r=t.originalPosition,a=t.axis,s="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=s[0]||1,u=s[1]||1,c=Math.round((n.width-o.width)/l)*l,h=Math.round((n.height-o.height)/u)*u,d=o.width+c,p=o.height+h,f=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=s,m&&(d+=l),v&&(p+=u),f&&(d-=l),g&&(p-=u),/^(se|s|e)$/.test(a)?(t.size.width=d,t.size.height=p):/^(ne)$/.test(a)?(t.size.width=d,t.size.height=p,t.position.top=r.top-h):/^(sw)$/.test(a)?(t.size.width=d,t.size.height=p,t.position.left=r.left-c):(t.size.width=d,t.size.height=p,t.position.top=r.top-h,t.position.left=r.left-c)}})}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(i.options.filter,i.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))})),e(t.target).parents().addBack().each((function(){var n,o=e.data(this,"selectable-item");if(o)return n=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",t,{selecting:o.element}):i._trigger("unselecting",t,{unselecting:o.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,r=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;return r>s&&(i=s,s=r,r=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:r,top:a,width:s-r,height:l-a}),this.selectees.each((function(){var i=e.data(this,"selectable-item"),u=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?u=!(i.left>s||i.right<r||i.top>l||i.bottom<a):"fit"===o.tolerance&&(u=i.left>r&&i.right<s&&i.top>a&&i.bottom<l),u?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))})),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})})),e(".ui-selecting",this.element[0]).each((function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})})),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){function i(e,t,i){return e>t&&e<t+i}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||n(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,r.widgetName+"-item")===r)return n=e(this),!1})),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each((function(){this===t.target&&(o=!0)})),!o))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var o,r,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,r,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(o=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||e.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,a={};r&&"x"!==r||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){n._clear(t)}))}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each((function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))})),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each((function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")})),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=e.left,a=r+e.width,s=e.top,l=s+e.height,u=this.offset.click.top,c=this.offset.click.left,h=n+u>s&&n+u<l&&t+c>r&&t+c<a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&s<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||i(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||i(this.positionAbs.left+this.offset.click.left,e.left,e.width),o=t&&n,r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!o&&(this.floating?a&&"right"===a||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=i(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=i(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:o&&("down"===o&&t||"up"===o&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,o,r,a=[],s=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(o=e(l[i])).length-1;n>=0;n--)(r=e.data(o[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&s.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=s.length-1;i>=0;i--)s[i][0].each((function(){a.push(this)}));return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,r,a,s,l,u,c=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=(o=e(d[i])).length-1;n>=0;n--)(r=e.data(o[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(h.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=h.length-1;i>=0;i--)for(a=h[i][1],n=0,u=(s=h[i][0]).length;n<u;n++)(l=e(s[n])).data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,o,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e(t.document[0].createElement(n)).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?o.append("<td colspan='99'>&#160;</td>"):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){i&&!n.forcePlaceholderSize||(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var o,r,a,s,l,u,c,h,d,p,f=null,g=null;for(o=this.containers.length-1;o>=0;o--)if(!e.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(f&&e.contains(this.containers[o].element[0],f.element[0]))continue;f=this.containers[o],g=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",t,this._uiHash(this)),this.containers[o].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",t,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,s=null,l=(p=f.floating||n(this.currentItem))?"left":"top",u=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],r=this.items.length-1;r>=0;r--)e.contains(this.containers[g].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(p&&!i(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height)||(h=this.items[r].item.offset()[l],d=!1,Math.abs(h-c)>Math.abs(h+this.items[r][u]-c)&&(d=!0,h+=this.items[r][u]),Math.abs(h-c)<a&&(a=Math.abs(h-c),s=this.items[r],this.direction=d?"up":"down")));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[g].element,!0),this._trigger("change",t,this._uiHash()),this.containers[g]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",t,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,r=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay((function(){o===this.counter&&this.refreshPositions(!n)}))},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(n.push((function(e){this._trigger("remove",e,this._uiHash())})),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var i;e.effects={effect:{}},
/*!
                   * jQuery Color Animations v2.1.2
                   * https://github.com/jquery/jquery-color
                   *
                   * Copyright 2013 jQuery Foundation and other contributors
                   * Released under the MIT license.
                   * http://jquery.org/license
                   *
                   * Date: Wed Jan 16 08:47:09 2013 -0600
                   */
function(e,t){var i,n=/^([\-+])=\s*(\d+\.?\d*)/,o=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],r=e.Color=function(t,i,n,o){return new e.Color.fn.parse(t,i,n,o)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=r.support={},u=e("<p>")[0],c=e.each;function h(e,t,i){var n=s[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function d(t){var n=r(),s=n._rgba=[];return t=t.toLowerCase(),c(o,(function(e,i){var o,r=i.re.exec(t),l=r&&i.parse(r),u=i.space||"rgba";if(l)return o=n[u](l),n[a[u].cache]=o[a[u].cache],s=n._rgba=o._rgba,!1})),s.length?("0,0,0,0"===s.join()&&e.extend(s,i.transparent),n):i[t]}function p(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}u.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=u.style.backgroundColor.indexOf("rgba")>-1,c(a,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),r.fn=e.extend(r.prototype,{parse:function(t,n,o,s){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(n),n=void 0);var l=this,u=e.type(t),p=this._rgba=[];return void 0!==n&&(t=[t,n,o,s],u="array"),"string"===u?this.parse(d(t)||i._default):"array"===u?(c(a.rgba.props,(function(e,i){p[i.idx]=h(t[i.idx],i)})),this):"object"===u?(c(a,t instanceof r?function(e,i){t[i.cache]&&(l[i.cache]=t[i.cache].slice())}:function(i,n){var o=n.cache;c(n.props,(function(e,i){if(!l[o]&&n.to){if("alpha"===e||null==t[e])return;l[o]=n.to(l._rgba)}l[o][i.idx]=h(t[e],i,!0)})),l[o]&&e.inArray(null,l[o].slice(0,3))<0&&(l[o][3]=1,n.from&&(l._rgba=n.from(l[o])))}),this):void 0},is:function(e){var t=r(e),i=!0,n=this;return c(a,(function(e,o){var r,a=t[o.cache];return a&&(r=n[o.cache]||o.to&&o.to(n._rgba)||[],c(o.props,(function(e,t){if(null!=a[t.idx])return i=a[t.idx]===r[t.idx]}))),i})),i},_space:function(){var e=[],t=this;return c(a,(function(i,n){t[n.cache]&&e.push(i)})),e.pop()},transition:function(e,t){var i=r(e),n=i._space(),o=a[n],l=0===this.alpha()?r("transparent"):this,u=l[o.cache]||o.to(l._rgba),d=u.slice();return i=i[o.cache],c(o.props,(function(e,n){var o=n.idx,r=u[o],a=i[o],l=s[n.type]||{};null!==a&&(null===r?d[o]=a:(l.mod&&(a-r>l.mod/2?r+=l.mod:r-a>l.mod/2&&(r-=l.mod)),d[o]=h((a-r)*t+r,n)))})),this[n](d)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=r(t)._rgba;return r(e.map(i,(function(e,t){return(1-n)*o[t]+n*e})))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),r.fn.parse.prototype=r.fn,a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,o=e[1]/255,r=e[2]/255,a=e[3],s=Math.max(n,o,r),l=Math.min(n,o,r),u=s-l,c=s+l,h=.5*c;return t=l===s?0:n===s?60*(o-r)/u+360:o===s?60*(r-n)/u+120:60*(n-o)/u+240,i=0===u?0:h<=.5?u/c:u/(2-c),[Math.round(t)%360,i,h,null==a?1:a]},a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],r=n<=.5?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*p(a,r,t+1/3)),Math.round(255*p(a,r,t)),Math.round(255*p(a,r,t-1/3)),o]},c(a,(function(t,i){var o=i.props,a=i.cache,s=i.to,l=i.from;r.fn[t]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===t)return this[a].slice();var i,n=e.type(t),u="array"===n||"object"===n?t:arguments,d=this[a].slice();return c(o,(function(e,t){var i=u["object"===n?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=h(i,t)})),l?((i=r(l(d)))[a]=d,i):r(d)},c(o,(function(i,o){r.fn[i]||(r.fn[i]=function(r){var a,s=e.type(r),l="alpha"===i?this._hsla?"hsla":"rgba":t,u=this[l](),c=u[o.idx];return"undefined"===s?c:("function"===s&&(r=r.call(this,c),s=e.type(r)),null==r&&o.empty?this:("string"===s&&(a=n.exec(r))&&(r=c+parseFloat(a[2])*("+"===a[1]?1:-1)),u[o.idx]=r,this[l](u)))})}))})),r.hook=function(t){var i=t.split(" ");c(i,(function(t,i){e.cssHooks[i]={set:function(t,n){var o,a,s="";if("transparent"!==n&&("string"!==e.type(n)||(o=d(n)))){if(n=r(o||n),!l.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}n=n.blend(s&&"transparent"!==s?s:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=r(t.elem,i),t.end=r(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}}))},r.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return c(["Top","Right","Bottom","Left"],(function(i,n){t["border"+n+"Color"]=e})),t}},i=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){var t,i=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function o(t){var i,n,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)"string"==typeof o[i=o[n]]&&(r[e.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(r[i]=o[i]);return r}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,r,a,s){var l=e.speed(r,a,s);return this.queue((function(){var r,a=e(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map((function(){return{el:e(this),start:o(this)}})),(r=function(){e.each(i,(function(e,i){t[i]&&a[i+"Class"](t[i])}))})(),u=u.map((function(){return this.end=o(this.el[0]),this.diff=function(t,i){var o,r,a={};for(o in i)r=i[o],t[o]!==r&&(n[o]||!e.fx.step[o]&&isNaN(parseFloat(r))||(a[o]=r));return a}(this.start,this.end),this})),a.attr("class",s),u=u.map((function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()})),e.when.apply(e,u.get()).done((function(){r(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),l.complete.call(a[0])}))}))},e.fn.extend({addClass:(t=e.fn.addClass,function(i,n,o,r){return n?e.effects.animateClass.call(this,{add:i},n,o,r):t.apply(this,arguments)}),removeClass:function(t){return function(i,n,o,r){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,o,r):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,o,r,a){return"boolean"==typeof n||void 0===n?o?e.effects.animateClass.call(this,n?{add:i}:{remove:i},o,r,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,o,r)}}(e.fn.toggleClass),switchClass:function(t,i,n,o,r){return e.effects.animateClass.call(this,{add:i,remove:t},n,o,r)}})}(),function(){function t(t,i,n,o){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(o=n,n=i,i={}),e.isFunction(n)&&(o=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=o||i.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"===_typeof(t)&&!t.effect))}var n;e.extend(e.effects,{version:"1.10.2",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data("ui-effects-"+t[i],e[0].style[t[i]])},restore:function(e,t){var i,n;for(n=0;n<t.length;n++)null!==t[n]&&(void 0===(i=e.data("ui-effects-"+t[n]))&&(i=""),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,o){return o=o||{},e.each(i,(function(e,i){var r=t.cssUnit(i);r[0]>0&&(o[i]=r[0]*n+r[1])})),o}}),e.fn.extend({effect:function(){var i=t.apply(this,arguments),n=i.mode,o=i.queue,r=e.effects.effect[i.effect];if(e.fx.off||!r)return n?this[n](i.duration,i.complete):this.each((function(){i.complete&&i.complete.call(this)}));function a(t){var n=e(this),o=i.complete,a=i.mode;function s(){e.isFunction(o)&&o.call(n[0]),e.isFunction(t)&&t()}(n.is(":hidden")?"hide"===a:"show"===a)?(n[a](),s()):r.call(n[0],i,s)}return!1===o?this.each(a):this.queue(o||"fx",a)},show:(n=e.fn.show,function(e){if(i(e))return n.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}),hide:function(e){return function(n){if(i(n))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(n){if(i(n)||"boolean"==typeof n)return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],(function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])})),n}})}(),i={},e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,t){i[t]=function(t){return Math.pow(t,e+2)}})),e.extend(i,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(i,(function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}}))}(jQuery),function(e,t){var i=0,n={},o={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",o.height=o.paddingTop=o.paddingBottom=o.borderTopWidth=o.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)):this._activate(t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,o=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),(!1===t.active&&!0===t.collapsible||!this.headers.length)&&(t.active=!1,this.active=e()),!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,n=this.options,o=n.heightStyle,r=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each((function(t){var i=e(this),n=i.attr("id"),o=i.next(),r=o.attr("id");n||(n=a+"-header-"+t,i.attr("id",n)),r||(r=a+"-panel-"+t,o.attr("id",r)),i.attr("aria-controls",r),o.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===o?(t=r.height(),this.element.siblings(":visible").each((function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))})),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===o&&(t=0,this.headers.next().each((function(){t=Math.max(t,e(this).css("height","").height())})).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),(function(e,t){i[t]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),r=o[0]===n[0],a=r&&i.collapsible,s=a?e():o.next(),l=n.next(),u={oldHeader:n,oldPanel:l,newHeader:a?e():o,newPanel:s};t.preventDefault(),r&&!i.collapsible||!1===this._trigger("beforeActivate",t,u)||(i.active=!a&&this.headers.index(o),this.active=r?e():o,this._toggle(u),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,i){var r,a,s,l=this,u=0,c=e.length&&(!t.length||e.index()<t.index()),h=this.options.animate||{},d=c&&h.down||h,p=function(){l._toggleComplete(i)};return"number"==typeof d&&(s=d),"string"==typeof d&&(a=d),a=a||d.easing||h.easing,s=s||d.duration||h.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(n,{duration:s,easing:a,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(o,{duration:s,easing:a,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?u+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(r-t.outerHeight()-u),u=0)}})):t.animate(n,s,a,p):e.animate(o,s,a,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e,t){var i=0;e.widget("ui.autocomplete",{version:"1.10.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,a="input"===o;this.isMultiLine=!!r||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var r=e.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case r.UP:t=!0,this._keyEvent("previous",o);break;case r.DOWN:t=!0,this._keyEvent("next",o);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(t)return t=!1,void n.preventDefault();if(!i){var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:e(),role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()}))}))},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n,this.selectedItem=i}))),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,o){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++i;return function(n){t===i&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)}))},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,(function(e,i){n._renderItemData(t,i)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,(function(e){return n.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e,t){var i,n,o,r,a="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout((function(){t.button("refresh")}),1)},u=function(t){var i=t.name,n=t.form,o=e([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter((function(){return!this.form}))),o};e.widget("ui.button",{version:"1.10.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,s=this.options,c="checkbox"===this.type||"radio"===this.type,h=c?"":"ui-state-active";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){s.disabled||this===i&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){s.disabled||e(this).removeClass(h)})).bind("click"+this.eventNamespace,(function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this.element.bind("focus"+this.eventNamespace,(function(){t.buttonElement.addClass("ui-state-focus")})).bind("blur"+this.eventNamespace,(function(){t.buttonElement.removeClass("ui-state-focus")})),c&&(this.element.bind("change"+this.eventNamespace,(function(){r||t.refresh()})),this.buttonElement.bind("mousedown"+this.eventNamespace,(function(e){s.disabled||(r=!1,n=e.pageX,o=e.pageY)})).bind("mouseup"+this.eventNamespace,(function(e){s.disabled||n===e.pageX&&o===e.pageY||(r=!0)}))),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(s.disabled||r)return!1})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(s.disabled||r)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];u(i).not(i).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){if(s.disabled)return!1;e(this).addClass("ui-state-active"),i=this,t.document.one("mouseup",(function(){i=null}))})).bind("mouseup"+this.eventNamespace,(function(){if(s.disabled)return!1;e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){if(s.disabled)return!1;t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" ui-state-hover ui-state-active  "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t),"disabled"!==e?this._resetButton():t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?u(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(s),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.10.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){e.extend(e.ui,{datepicker:{version:"1.10.2"}});var i,n="datepicker",o=(new Date).getTime();function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(n,"mouseover",(function(){e.datepicker._isDisabledDatepicker(i.inline?t.parent()[0]:i.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}))}function s(t,i){for(var n in e.extend(t,i),i)null==i[n]&&(t[n]=i[n]);return t}e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,o,r;o="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(r=this._newInst(e(t),o)).settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,r):o&&this._inlineDatepicker(t,r)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var o=e(t);i.append=e([]),i.trigger=e([]),o.hasClass(this.markerClassName)||(this._attachments(o,i),o.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,n,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,o,r,a=this._get(i,"appendText"),s=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||t.focus(this._showDatepicker),"button"!==n&&"both"!==n||(o=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:o,title:o}):o)),t[s?"before":"after"](i.trigger),i.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,o,r=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,o=0;o<e.length;o++)e[o].length>i&&(i=e[o].length,n=o);return n},r.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,i){var o=e(t);o.hasClass(this.markerClassName)||(o.addClass(this.markerClassName).append(i.dpDiv),e.data(t,n,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,o,r,a){var l,u,c,h,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(p=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],n,p)),s(p.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(u=document.documentElement.clientWidth,c=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+h,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=o,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],n,p),this},_destroyDatepicker:function(t){var i,o=e(t),r=e.data(t,n);o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,n),"input"===i?(r.append.remove(),r.trigger.remove(),o.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||o.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,o,r=e(t),a=e.data(t,n);r.hasClass(this.markerClassName)&&("input"===(i=t.nodeName.toLowerCase())?(t.disabled=!1,a.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((o=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var i,o,r=e(t),a=e.data(t,n);r.hasClass(this.markerClassName)&&("input"===(i=t.nodeName.toLowerCase())?(t.disabled=!0,a.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((o=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,n)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var o,r,a,l,u=this._getInst(t);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?e.extend({},e.datepicker._defaults):u?"all"===i?e.extend({},u.settings):this._get(u,i):null;o=i||{},"string"==typeof i&&((o={})[i]=n),u&&(this._curInst===u&&this._hideDatepicker(),r=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),s(u.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,r),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,o,r=e.datepicker._getInst(t.target),a=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv))[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,o[0]),(i=e.datepicker._get(r,"onSelect"))?(n=e.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,o=e.datepicker._getInst(t.target);if(e.datepicker._get(o,"constrainInput"))return i=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(t){var i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(t){var i,n,o,r,a,l,u;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(o=(n=e.datepicker._get(i,"beforeShow"))?n.apply(t,[t,i]):{})&&(s(i.settings,o),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each((function(){return!(r|="fixed"===e(this).css("position"))})),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),a=e.datepicker._checkOffset(i,a,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),e.datepicker._curInst=i)))},_updateDatepicker:function(t){this.maxRows=4,i=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,o=this._getNumberOfMonths(t),r=o[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),t.dpDiv[(1!==o[0]||1!==o[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!==document.activeElement&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(t,i,n){var o=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?o-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+s?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+r>u&&u>r?Math.abs(r+s):0),i},_findPos:function(t){for(var i,n=this._getInst(t),o=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return[(i=e(t).offset()).left,i.top]},_hideDatepicker:function(t){var i,o,r,a,s=this._curInst;!s||t&&s!==e.data(t,n)||this._datepickerShowing&&(i=this._get(s,"showAnim"),o=this._get(s,"duration"),r=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[i]||e.effects[i])?s.dpDiv.hide(i,e.datepicker._get(s,"showOptions"),o,r):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?o:null,r),i||r(),this._datepickerShowing=!1,(a=this._get(s,"onClose"))&&a.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===n)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var o=e(t),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var i,n=e(t),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var o=e(t),r=this._getInst(o[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(t,i,n,o){var r,a=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((r=this._getInst(a[0])).selectedDay=r.currentDay=e("a",o).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,o=e(t),r=this._getInst(o[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!==_typeof(r.input[0])&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,o,r=this._get(t,"altField");r&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),o=this.formatDate(i,n,this._getFormatConfig(t)),e(r).each((function(){e(this).val(o)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"===_typeof(i)?i.toString():i+""))return null;var o,r,a,s,l=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,_=function(e){var i=o+1<t.length&&t.charAt(o+1)===e;return i&&o++,i},w=function(e){var t=_(e),n=new RegExp("^\\d{1,"+("@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2)+"}"),o=i.substring(l).match(n);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(t,n,o){var r=-1,a=e.map(_(t)?o:n,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var n=t[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return r=t[0],l+=n.length,!1})),-1!==r)return r+1;throw"Unknown name at position "+l},z=function(){if(i.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<t.length;o++)if(y)"'"!==t.charAt(o)||_("'")?z():y=!1;else switch(t.charAt(o)){case"d":v=w("d");break;case"D":x("D",h,d);break;case"o":b=w("o");break;case"m":m=w("m");break;case"M":m=x("M",p,f);break;case"y":g=w("y");break;case"@":g=(s=new Date(w("@"))).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":g=(s=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":_("'")?z():y=!0;break;default:z()}if(l<i.length&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),b>-1)for(m=1,v=b;;){if(v<=(r=this._getDaysInMonth(g,m-1)))break;m++,v-=r}if((s=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},u=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},c=function(e,t,i,n){return l(e)?n[t]:i[t]},h="",d=!1;if(t)for(n=0;n<e.length;n++)if(d)"'"!==e.charAt(n)||l("'")?h+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":h+=u("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),o,r);break;case"o":h+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),a,s);break;case"y":h+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=e.charAt(n)}return h},_possibleChars:function(e){var t,i="",n=!1,o=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||o("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),r=o,a=this._getFormatConfig(e);try{r=this.parseDate(i,n,a)||o}catch(e){n=t?"":n}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=n?r.getDate():0,e.currentMonth=n?r.getMonth():0,e.currentYear=n?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var o=null==i||""===i?n:"string"==typeof i?function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=n.getFullYear(),r=n.getMonth(),a=n.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,r))}l=s.exec(i)}return new Date(o,r,a)}(i):"number"==typeof i?isNaN(i)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(i):new Date(i.getTime());return(o=o&&"Invalid Date"===o.toString()?n:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,o=e.selectedMonth,r=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),o===e.selectedMonth&&r===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){window["DP_jQuery_"+o].datepicker._adjustDate(n,-i,"M")},next:function(){window["DP_jQuery_"+o].datepicker._adjustDate(n,+i,"M")},hide:function(){window["DP_jQuery_"+o].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+o].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+o].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+o].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+o].datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,i,n,o,r,a,s,l,u,c,h,d,p,f,g,m,v,b,y,_,w,x,z,S,T,C,k,I,D,E,A,M,O,N,R,P,j,F,L,H=new Date,B=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),$=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),G=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),Z=1!==G[0]||1!==G[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),K=this._getMinMaxDate(e,"max"),J=e.drawMonth-V,ee=e.drawYear;if(J<0&&(J+=12,ee--),K)for(t=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth()-G[0]*G[1]+1,K.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)--J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,J-Y,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"e":"w")+"'>"+i+"</span></a>",o=this._get(e,"nextText"),o=q?this.formatDate(o,this._daylightSavingAdjust(new Date(ee,J+Y,1)),this._getFormatConfig(e)):o,r=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"w":"e")+"'>"+o+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"w":"e")+"'>"+o+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?Q:B,a=q?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+($?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+($?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),_="",x=0;x<G[0];x++){for(z="",this.maxRows=4,S=0;S<G[1];S++){if(T=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),C=" ui-corner-all",k="",Z){if(k+="<div class='ui-datepicker-group",G[1]>1)switch(S){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+($?"right":"left");break;case G[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+($?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===x?$?r:n:"")+(/all|right/.test(C)&&0===x?$?n:r:"")+this._generateMonthYearHeader(e,J,ee,X,K,x>0||S>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",I=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)I+="<th"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D=(w+c)%7]+"'>"+p[D]+"</span></th>";for(k+=I+"</tr></thead><tbody>",E=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,E)),A=(this._getFirstDayOfMonth(ee,J)-c+7)%7,M=Math.ceil((A+E)/7),O=Z&&this.maxRows>M?this.maxRows:M,this.maxRows=O,N=this._daylightSavingAdjust(new Date(ee,J,1-A)),R=0;R<O;R++){for(k+="<tr>",P=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",w=0;w<7;w++)j=m?m.apply(e.input?e.input[0]:null,[N]):[!0,""],L=(F=N.getMonth()!==J)&&!b||!j[0]||X&&N<X||K&&N>K,P+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===T.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===N.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+j[1]+(N.getTime()===Q.getTime()?" "+this._currentClass:"")+(N.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===B.getTime()?" ui-state-highlight":"")+(N.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);k+=P+"</tr>"}++J>11&&(J=0,ee++),z+=k+="</tbody></table>"+(Z?"</div>"+(G[0]>0&&S===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=z}return _+=u,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,n,o,r,a,s){var l,u,c,h,d,p,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(r||!m)_+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,u=o&&o.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=n.getMonth())&&(!u||c<=o.getMonth())&&(_+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+s[c]+"</option>");_+="</select>"}if(b||(y+=_+(!r&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t})(h[0]),g=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=o?Math.min(g,o.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!r&&m&&v?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),o=e.drawMonth+("M"===i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,o))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,o,r)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),o=i&&t<i?i:t;return n&&o>n?n:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var o=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(t<0?t:o[0]*o[1]),1));return t<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i,n,o=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),s=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(s+=n)),(!o||t.getTime()>=o.getTime())&&(!r||t.getTime()<=r.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"===_typeof(t)?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.2",window["DP_jQuery_"+o]=e}(jQuery),function(e,t){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",t)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(o.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,(function(i,n){var o,r;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(t.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(r).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,i=this.options;function n(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,o){e(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",i,n(o))},drag:function(e,i){t._trigger("drag",e,n(i))},stop:function(o,r){i.position=[r.position.left-t.document.scrollLeft(),r.position.top-t.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",o,n(r))}})},_makeResizable:function(){var t=this,i=this.options,n=i.resizable,o=this.uiDialog.css("position"),r="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:r,start:function(i,n){e(this).addClass("ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",i,a(n))},resize:function(e,i){t._trigger("resize",e,a(i))},stop:function(n,o){i.height=e(this).height(),i.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",n,a(o))}}).css("position",o)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var o=this,r=!1,a={};e.each(t,(function(e,t){o._setOption(e,t),e in i&&(r=!0),e in n&&(a[e]=t)})),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,t){var i,n,o=this.uiDialog;"dialogClass"===e&&o.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=o.is(":data(ui-resizable)"))&&!t&&o.resizable("destroy"),n&&"string"==typeof t&&o.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay((function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",(function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())}))})),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_getMaxZindex:function(){var t=e("*"),i=1;return e.each(t,(function(t,n){var o=parseInt(e(n).css("z-index"));o>i&&(i=o+1)})),i},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],o=[0,0];i?(("string"==typeof i||"object"===_typeof(i)&&"0"in i)&&(1===(n=i.split?i.split(" "):[i[0],i[1]]).length&&(n[1]=n[0]),e.each(["left","top"],(function(e,t){+n[e]===n[e]&&(o[e]=n[e],n[e]=t)})),i={my:n[0]+(o[0]<0?o[0]:"+"+o[0])+" "+n[1]+(o[1]<0?o[1]:"+"+o[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,(t=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(jQuery),function(e,t){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,o){var r,a,s,l=e(this),u=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(l,t.mode||"hide"),h=t.direction||"up",d=i.test(h),p=d?"height":"width",f=d?"top":"left",g=n.test(h),m={},v="show"===c;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),u):e.effects.save(l,u),l.show(),a=(r=e.effects.createWrapper(l).css({overflow:"hidden"}))[p](),s=parseFloat(r.css(f))||0,m[p]=v?a:0,g||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?s:a+s),v&&(r.css(p,0),g||r.css(f,s+a)),r.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),e.effects.restore(l,u),e.effects.removeWrapper(l),o()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,i){var n,o,r,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),u="hide"===l,c="show"===l,h=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(c||u?1:0),g=t.duration/f,m=t.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,y=a.queue(),_=y.length;for((c||u)&&s.push("opacity"),e.effects.save(a,s),a.show(),e.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&((r={opacity:1})[v]=0,a.css("opacity",0).css(v,b?2*-d:2*d).animate(r,g,m)),u&&(d/=Math.pow(2,p-1)),(r={})[v]=0,n=0;n<p;n++)(o={})[v]=(b?"-=":"+=")+d,a.animate(o,g,m).animate(r,g,m),d=u?2*d:d/2;u&&((o={opacity:0})[v]=(b?"-=":"+=")+d,a.animate(o,g,m)),a.queue((function(){u&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()})),_>1&&y.splice.apply(y,[1,0].concat(y.splice(_,f+1))),a.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,i){var n,o,r,a=e(this),s=["position","top","bottom","left","right","height","width"],l="show"===e.effects.setMode(a,t.mode||"hide"),u="vertical"===(t.direction||"vertical"),c=u?"height":"width",h=u?"top":"left",d={};e.effects.save(a,s),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),r=(o="IMG"===a[0].tagName?n:a)[c](),l&&(o.css(c,0),o.css(h,r/2)),d[c]=l?r:0,d[h]=l?0:r/2,o.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,i){var n,o=e(this),r=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(o,t.mode||"hide"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",h={opacity:s?1:0};e.effects.save(o,r),o.show(),e.effects.createWrapper(o),n=t.distance||o["top"===u?"outerHeight":"outerWidth"](!0)/2,s&&o.css("opacity",0).css(u,"pos"===c?-n:n),h[u]=(s?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,o.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,i){var n,o,r,a,s,l,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=u,h=e(this),d="show"===e.effects.setMode(h,t.mode||"hide"),p=h.show().css("visibility","hidden").offset(),f=Math.ceil(h.outerWidth()/c),g=Math.ceil(h.outerHeight()/u),m=[];function v(){m.push(this),m.length===u*c&&function(){h.css({visibility:"visible"}),e(m).remove(),d||h.hide();i()}()}for(n=0;n<u;n++)for(a=p.top+n*g,l=n-(u-1)/2,o=0;o<c;o++)r=p.left+o*f,s=o-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*f,top:-n*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:g,left:r+(d?s*f:0),top:a+(d?l*g:0),opacity:d?0:1}).animate({left:r+(d?0:s*f),top:a+(d?0:l*g),opacity:d?1:0},t.duration||500,t.easing,v)}}(jQuery),function(e,t){e.effects.effect.fade=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,i){var n,o,r=e(this),a=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),l="show"===s,u="hide"===s,c=t.size||15,h=/([0-9]+)%/.exec(c),d=!!t.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],g=t.duration/2,m={},v={};e.effects.save(r,a),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),o=p?[n.width(),n.height()]:[n.height(),n.width()],h&&(c=parseInt(h[1],10)/100*o[u?0:1]),l&&n.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=l?o[0]:c,v[f[1]]=l?o[1]:0,n.animate(m,g,t.easing).animate(v,g,t.easing,(function(){u&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}))}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,i){var n=e(this),o=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===r&&(a.opacity=0),e.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,o),i()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,i){var n,o=e(this),r=e.effects.setMode(o,t.mode||"show"),a="show"===r,s="hide"===r,l=a||"hide"===r,u=2*(t.times||5)+(l?1:0),c=t.duration/u,h=0,d=o.queue(),p=d.length;for(!a&&o.is(":visible")||(o.css("opacity",0).show(),h=1),n=1;n<u;n++)o.animate({opacity:h},c,t.easing),h=1-h;o.animate({opacity:h},c,t.easing),o.queue((function(){s&&o.hide(),i()})),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,u+1))),o.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"hide"),r="hide"===o,a=parseInt(t.percent,10)||150,s=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:r?a:100,from:r?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),o=e.extend(!0,{},t),r=e.effects.setMode(n,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),s=t.direction||"both",l=t.origin,u={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c="horizontal"!==s?a/100:1,h="vertical"!==s?a/100:1;o.effect="size",o.queue=!1,o.complete=i,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:u),o.to={height:u.height*c,width:u.width*h,outerHeight:u.outerHeight*c,outerWidth:u.outerWidth*h},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},e.effects.effect.size=function(t,i){var n,o,r,a=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=e.effects.setMode(a,t.mode||"effect"),p=t.restore||"effect"!==d,f=t.scale||"both",g=t.origin||["middle","center"],m=a.css("position"),v=p?s:["position","top","bottom","left","right","overflow","opacity"],b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===d?(a.from=t.to||b,a.to=t.from||n):(a.from=t.from||("show"===d?b:n),a.to=t.to||("hide"===d?b:n)),r={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},"box"!==f&&"both"!==f||(r.from.y!==r.to.y&&(v=v.concat(c),a.from=e.effects.setTransition(a,c,r.from.y,a.from),a.to=e.effects.setTransition(a,c,r.to.y,a.to)),r.from.x!==r.to.x&&(v=v.concat(h),a.from=e.effects.setTransition(a,h,r.from.x,a.from),a.to=e.effects.setTransition(a,h,r.to.x,a.to))),"content"!==f&&"both"!==f||r.from.y!==r.to.y&&(v=v.concat(u).concat(l),a.from=e.effects.setTransition(a,u,r.from.y,a.from),a.to=e.effects.setTransition(a,u,r.to.y,a.to)),e.effects.save(a,v),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(o=e.effects.getBaseline(g,n),a.from.top=(n.outerHeight-a.outerHeight())*o.y,a.from.left=(n.outerWidth-a.outerWidth())*o.x,a.to.top=(n.outerHeight-a.to.outerHeight)*o.y,a.to.left=(n.outerWidth-a.to.outerWidth)*o.x),a.css(a.from),"content"!==f&&"both"!==f||(c=c.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),l=s.concat(c).concat(h),a.find("*[width]").each((function(){var i=e(this),n=i.height(),o=i.width(),a=i.outerHeight(),s=i.outerWidth();p&&e.effects.save(i,l),i.from={height:n*r.from.y,width:o*r.from.x,outerHeight:a*r.from.y,outerWidth:s*r.from.x},i.to={height:n*r.to.y,width:o*r.to.x,outerHeight:n*r.to.y,outerWidth:o*r.to.x},r.from.y!==r.to.y&&(i.from=e.effects.setTransition(i,c,r.from.y,i.from),i.to=e.effects.setTransition(i,c,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=e.effects.setTransition(i,h,r.from.x,i.from),i.to=e.effects.setTransition(i,h,r.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,(function(){p&&e.effects.restore(i,l)}))}))),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===d&&a.hide(),e.effects.restore(a,v),p||("static"===m?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],(function(e,t){a.css(t,(function(t,i){var n=parseInt(i,10),o=e?a.to.left:a.to.top;return"auto"===i?o+"px":n+o+"px"}))}))),e.effects.removeWrapper(a),i()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,i){var n,o=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,u=t.times||3,c=2*u+1,h=Math.round(t.duration/c),d="up"===s||"down"===s?"top":"left",p="up"===s||"left"===s,f={},g={},m={},v=o.queue(),b=v.length;for(e.effects.save(o,r),o.show(),e.effects.createWrapper(o),f[d]=(p?"-=":"+=")+l,g[d]=(p?"+=":"-=")+2*l,m[d]=(p?"-=":"+=")+2*l,o.animate(f,h,t.easing),n=1;n<u;n++)o.animate(g,h,t.easing).animate(m,h,t.easing);o.animate(g,h,t.easing).animate(f,h/2,t.easing).queue((function(){"hide"===a&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()})),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,c+1))),o.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,i){var n,o=e(this),r=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(o,t.mode||"show"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h={};e.effects.save(o,r),o.show(),n=t.distance||o["top"===u?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),s&&o.css(u,c?isNaN(n)?"-"+n:-n:n),h[u]=(s?c?"+=":"-=":c?"-=":"+=")+n,o.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,i){var n=e(this),o=e(t.to),r="fixed"===o.css("position"),a=e("body"),s=r?a.scrollTop():0,l=r?a.scrollLeft():0,u=o.offset(),c={top:u.top-s,left:u.left-l,height:o.innerHeight(),width:o.innerWidth()},h=n.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-s,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,t.duration,t.easing,(function(){d.remove(),i()}))}}(jQuery),function(e,t){e.widget("ui.menu",{version:"1.10.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy((function(e){this.options.disabled&&e.preventDefault()}),this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,o,r,a,s=!0;function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,n=this.previousFilter||"",o=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),o===n?r=!0:o=n+o,a=new RegExp("^"+l(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(e(this).children("a").text())})),(i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(o=String.fromCharCode(t.keyCode),a=new RegExp("^"+l(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(e(this).children("a").text())}))),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.prev("a"),o=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(o),t.attr("aria-labelledby",n.attr("id"))})),(t=n.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each((function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")})),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,o,r,a,s;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.height(),o<0?this.activeMenu.scrollTop(r+o):o+s>a&&this.activeMenu.scrollTop(r+o-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay((function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,o;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-n-o<0})),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,n,o;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-n+o>0})),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(e,t){e.ui=e.ui||{};var i,n=Math.max,o=Math.abs,r=Math.round,a=/left|center|right/,s=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/,h=e.fn.position;function d(e,t,i){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?i/100:1)]}function p(t,i){return parseInt(e.css(t,i),10)||0}function f(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,o=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=o.children()[0];return e("body").append(o),t=r.offsetWidth,o.css("overflow","scroll"),t===(n=r.offsetWidth)&&(n=o[0].clientWidth),o.remove(),i=t-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return h.apply(this,arguments);t=e.extend({},t);var i,c,g,m,v,b,y=e(t.of),_=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(_),x=(t.collision||"flip").split(" "),z={};return b=f(y),y[0].preventDefault&&(t.at="left top"),c=b.width,g=b.height,m=b.offset,v=e.extend({},m),e.each(["my","at"],(function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",e=l.exec(n[0]),i=l.exec(n[1]),z[this]=[e?e[0]:0,i?i[0]:0],t[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?v.left+=c:"center"===t.at[0]&&(v.left+=c/2),"bottom"===t.at[1]?v.top+=g:"center"===t.at[1]&&(v.top+=g/2),i=d(z.at,c,g),v.left+=i[0],v.top+=i[1],this.each((function(){var a,s,l=e(this),u=l.outerWidth(),h=l.outerHeight(),f=p(this,"marginLeft"),b=p(this,"marginTop"),S=u+f+p(this,"marginRight")+w.width,T=h+b+p(this,"marginBottom")+w.height,C=e.extend({},v),k=d(z.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?C.left-=u:"center"===t.my[0]&&(C.left-=u/2),"bottom"===t.my[1]?C.top-=h:"center"===t.my[1]&&(C.top-=h/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=r(C.left),C.top=r(C.top)),a={marginLeft:f,marginTop:b},e.each(["left","top"],(function(n,o){e.ui.position[x[n]]&&e.ui.position[x[n]][o](C,{targetWidth:c,targetHeight:g,elemWidth:u,elemHeight:h,collisionPosition:a,collisionWidth:S,collisionHeight:T,offset:[i[0]+k[0],i[1]+k[1]],my:t.my,at:t.at,within:_,elem:l})})),t.using&&(s=function(e){var i=m.left-C.left,r=i+c-u,a=m.top-C.top,s=a+g-h,d={target:{element:y,left:m.left,top:m.top,width:c,height:g},element:{element:l,left:C.left,top:C.top,width:u,height:h},horizontal:r<0?"left":i>0?"right":"center",vertical:s<0?"top":a>0?"bottom":"middle"};c<u&&o(i+r)<c&&(d.horizontal="center"),g<h&&o(a+s)<g&&(d.vertical="middle"),n(o(i),o(r))>n(o(a),o(s))?d.important="horizontal":d.important="vertical",t.using.call(this,e,d)}),l.offset(e.extend(C,{using:s}))}))},e.ui.position={fit:{left:function(e,t){var i,o=t.within,r=o.isWindow?o.scrollLeft:o.offset.left,a=o.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,u=s+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&u<=0?(i=e.left+l+t.collisionWidth-a-r,e.left+=l-i):e.left=u>0&&l<=0?r:l>u?r+a-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=n(e.left-s,e.left)},top:function(e,t){var i,o=t.within,r=o.isWindow?o.scrollTop:o.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,u=s+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&u<=0?(i=e.top+l+t.collisionHeight-a-r,e.top+=l-i):e.top=u>0&&l<=0?r:l>u?r+a-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=n(e.top-s,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,h=u+t.collisionWidth-s-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((i=e.left+d+p+f+t.collisionWidth-s-a)<0||i<o(c))&&(e.left+=d+p+f):h>0&&((n=e.left-t.collisionPosition.marginLeft+d+p+f-l)>0||o(n)<h)&&(e.left+=d+p+f)},top:function(e,t){var i,n,r=t.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,h=u+t.collisionHeight-s-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];c<0?(n=e.top+p+f+g+t.collisionHeight-s-a,e.top+p+f+g>c&&(n<0||n<o(c))&&(e.top+=p+f+g)):h>0&&(i=e.top-t.collisionPosition.marginTop+p+f+g-l,e.top+p+f+g>h&&(i>0||o(i)<h)&&(e.top+=p+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,r,a=document.getElementsByTagName("body")[0],s=document.createElement("div");for(r in t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[r]=n[r];t.appendChild(s),(i=a||document.documentElement).insertBefore(t,i.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",o=e(s).offset().left,e.support.offsetFractions=o>10&&o<11,t.innerHTML="",i.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e,t){e.widget("ui.slider",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),t=o.length;t<i;t++)r.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=o.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options,i="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,o,r,a,s,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var i=Math.abs(n-u.values(t));(o>i||o===i&&(t===u._lastChangedValue||u.values(t)===c.min))&&(o=i,r=e(this),a=t)})),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,r.addClass("ui-state-active").focus(),s=r.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-r.width()/2,top:t.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o,r;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/t)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),r=this._valueMin()+n*o,this._trimAlignValue(r)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,o,r;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>n||1===t&&i<n)&&(i=n),i!==this.values(t)&&((o=this.values())[t]=i,r=this._trigger("slide",e,{handle:this.handles[t],value:i,values:o}),n=this.values(t?0:1),!1!==r&&this.values(t,i,!0))):i!==this.value()&&!1!==(r=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,o,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,o=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var n,o=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<o;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,o,r,a=this.options.range,s=this.options,l=this,u=!this._animateOff&&s.animate,c={};this.options.values&&this.options.values.length?this.handles.each((function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[u?"animate":"css"](c,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:s.animate}))),t=i})):(n=this.value(),o=this._valueMin(),r=this._valueMax(),i=r!==o?(n-o)/(r-o)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var i,n,o,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,r)))return}switch(o=this.options.step,i=n=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-o)}this._slide(t,r,n)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],(function(e,n){var o=i.attr(n);void 0!==o&&o.length&&(t[n]=o)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){var i;function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=i,this._delay((function(){this.previous=i})))}i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,n.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,i)}),e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t((function(e){this._super(e),this._value(this.element.val())})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:t((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){var i=0,n=/#.*$/;function o(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(n,""))===decodeURIComponent(location.href.replace(n,""))}e.widget("ui.tabs",{version:"1.10.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each((function(i,o){if(e(o).attr("aria-controls")===n)return t=i,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",n)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){var n=this.tabs.length-1;for(;-1!==e.inArray((t>n&&(t=0),t<0&&(t=n),t),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+ ++i},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),(function(e){return i.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(i,n){var r,a,s,l=e(n).uniqueId().attr("id"),u=e(n).closest("li"),c=u.attr("aria-controls");o(n)?(r=n.hash,a=t.element.find(t._sanitizeSelector(r))):(r="#"+(s=t._tabId(u)),(a=t.element.find(r)).length||(a=t._createPanel(s)).insertAfter(t.panels[i-1]||t.tablist),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),c&&u.data("ui-tabs-aria-controls",c),u.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)!0===t||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),(function(e,t){i[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){i-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each((function(){i=Math.max(i,e(this).height("").height())})).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget).closest("li"),r=o[0]===n[0],a=r&&i.collapsible,s=a?e():this._getPanelForTab(o),l=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:l,newTab:a?e():o,newPanel:s};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||!1===this._trigger("beforeActivate",t,u)||(i.active=!a&&this.tabs.index(o),this.active=r?e():o,this.xhr&&this.xhr.abort(),l.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(o),t),this._toggle(t,u))},_toggle:function(t,i){var n=this,o=i.newPanel,r=i.oldPanel;function a(){n.running=!1,n._trigger("activate",t,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&n.options.show?n._show(o,n.options.show,a):(o.show(),a())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,(function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()})):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),s()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;!1!==i&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,i){return i!==t?i:null}))),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,r=this.tabs.eq(t),a=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),l={tab:r,panel:s};o(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success((function(e){setTimeout((function(){s.html(e),n._trigger("load",i,l)}),1)})).complete((function(e,t){setTimeout((function(){"abort"===t&&n.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr}),1)}))))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,r){return o._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:r},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(e){var t=0;e.widget("ui.tooltip",{version:"1.10.2",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;if("disabled"===t)return this[i?"_disable":"_enable"](),void(this.options[t]=i);this._super(t,i),"content"===t&&e.each(this.tooltips,(function(e,t){n._updateContent(t)}))},_disable:function(){var t=this;e.each(this.tooltips,(function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n[0],t.close(o,!0)})),this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each((function(){var t,n=e(this);n.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))})),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,o=this,r=t?t.type:null;if("string"==typeof n)return this._open(t,e,n);(i=n.call(e[0],(function(i){e.data("ui-tooltip-open")&&o._delay((function(){t&&(t.type=r),this._open(t,e,i)}))})))&&this._open(t,e,i)},_open:function(t,i,n){var o,r,a,s,l,u,c=e.extend({},this.options.position);n&&((o=this._find(i)).length?o.find(".ui-tooltip-content").html(n):(i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),s=i,l=o.attr("id"),(u=(s.attr("aria-describedby")||"").split(/\s+/)).push(l),s.data("ui-tooltip-id",l).attr("aria-describedby",e.trim(u.join(" "))),o.find(".ui-tooltip-content").html(n),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:h}),h(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){o.is(":visible")&&(h(c.of),clearInterval(a))}),e.fx.interval)),this._trigger("open",t,{tooltip:o}),r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}},remove:function(){this._removeTooltip(o)}},t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,i,r)));function h(e){c.of=e,o.is(":hidden")||o.position(c)}},close:function(t){var i,n,o,r,a=this,s=e(t?t.currentTarget:this.element),l=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title")),n=(i=s).data("ui-tooltip-id"),o=(i.attr("aria-describedby")||"").split(/\s+/),-1!==(r=e.inArray(n,o))&&o.splice(r,1),i.removeData("ui-tooltip-id"),(o=e.trim(o.join(" ")))?i.attr("aria-describedby",o):i.removeAttr("aria-describedby"),l.stop(!0),this._hide(l,this.options.hide,(function(){a._removeTooltip(e(this))})),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,i){e(i.element).attr("title",i.title),delete a.parents[t]})),this.closing=!0,this._trigger("close",t,{tooltip:l}),this.closing=!1)},_tooltip:function(i){var n="ui-tooltip-"+t++,o=e("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(o),o.appendTo(this.document[0].body),this.tooltips[n]=i,o},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n[0],t.close(o,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}))}})}(jQuery);var object=function(){function e(){}return function(t){return e.prototype=t,new e}}();$.widget("ui.widget",$.widget);var OVERRIDE=/xyz/.test((function(){xyz}))?/\b_super\b/:/.*/;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/** @preserve
                                                                                                                                                                                                                                                                                                                                                                               jSignature v2 "${buildDate}" "${commitID}"
                                                                                                                                                                                                                                                                                                                                                                               Copyright (c) 2012 Willow Systems Corp http://willow-systems.com
                                                                                                                                                                                                                                                                                                                                                                               Copyright (c) 2010 Brinley Ang http://www.unbolt.net
                                                                                                                                                                                                                                                                                                                                                                               MIT License <http://www.opensource.org/licenses/mit-license.php>
                                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                               */function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$.ui.widget.subclass=function e(t){$.widget(t,$.widget),t=t.split(".");var i=$[t[0]][t[1]],n=this,o=n.prototype,r={namespace:i.prototype.namespace,widgetName:i.prototype.widgetName,widgetEventPrefix:i.prototype.widgetEventPrefix,widgetBaseClass:i.prototype.widgetBaseClass},a=$.makeArray(arguments),s=a[0]=i.prototype=object(o);$.extend.apply(null,a),i.subclass=e,$.extend(!0,s,r);var l=s._init;for(key in s._init=function(){this.element.data(i.prototype.widgetName.toLowerCase(),this),this.element.data(i.prototype.widgetName,this),s.hasOwnProperty("_init")&&l.apply(this)},s.bindEvent=function(e,t){this.element.bind((this.widgetEventPrefix+e).toLowerCase(),t)},s)if(s.hasOwnProperty(key))switch(key){case"_create":var u=s._create;s._create=function(){o._create.apply(this),u.apply(this)};break;case"_init":var c=s._init;s._init=function(){o._init.apply(this),c.apply(this)};break;case"destroy":var h=s.destroy;s.destroy=function(){this.element.removeData(i.prototype.widgetName.toLowerCase()),this.element.removeData(i.prototype.widgetName),h.apply(this),o.destroy.apply(this)};break;case"options":var d=s.options;s.options=$.extend({},o.options,d);break;default:$.isFunction(s[key])&&$.isFunction(o[key])&&OVERRIDE.test(s[key])&&(s[key]=function(e,t){return function(){var i=this._super;this._super=o[e];try{var n=t.apply(this,arguments)}finally{this._super=i}return n}}(key,s[key]))}},function(e){e.support.cors=!0;e.ajax;function t(e){return{url:e[0],data:e.length>=2?e[1]:void 0,success:e.length>=3?e[2]:void 0,error:e.length>=4?e[3]:void 0}}function i(t){var i={dataType:"json"};return 1===arguments.length&&"string"!=typeof arguments[0]?"url"in(i=e.extend(i,t))&&("data"in i&&("object"==_typeof(i.data)&&i.data.guid?i.url=i.url.replace("{guid}",i.data.guid):i.url=n(i.url,i.data)),bizagi.override.forceBatchRequest&&i.url.indexOf("Api/")>-1&&-1==i.url.indexOf("Api/Batch")&&(i.batchRequest=!0,i.fromRestLib=!0)):(e.isFunction(data)&&(error=success,success=data,data=null),t=n(t,data),i=e.extend(i,{url:t,data:data,cache:!0,success:function(e){function t(t,i,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){success&&success.call(i.context||i,e,o(n),n)})),error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){error&&error.call(i.context||i,e,o(e))}))})),i}function n(e,t){var i,n,o;for(i in t)o=t[i],(n=e.replace("{"+i+"}",encodeURIComponent(o)))!=e&&(e=n,delete t[i]);return e}function o(t){var i={},n=e.trim(t.getAllResponseHeaders());return e.each(n.split("\n"),(function(t,n){if(n.length){var o=n.match(/^([\w\-]+):(.*)/);3===o.length&&(i[o[1]]=e.trim(o[2]))}})),t.responseHeaders=i,i}e.restSetup={methodParam:"_method",useMethodOverride:!1,verbs:{create:"POST",update:"PUT",destroy:"DELETE"}},e.ajaxSetup({headers:{"X-BZXSRF-TOKEN":bizagi.getXSRFToken()}}),e(document).ready((function(){e.restSetup.csrfParam=e.restSetup.csrfParam||e("meta[name=csrf-param]").attr("content"),e.restSetup.csrfToken=e.restSetup.csrfToken||e("meta[name=csrf-token]").attr("content")})),e.read=function(n){n.url||(n=t(arguments));var o=i(n);return o.type="GET",o.crossDomain="true",o.xhrFields={withCredentials:!0},e.ajax(o)},e.create=function(n){n.url||(n=t(arguments));var o=i(n);return o.type=e.restSetup.verbs.create,o.crossDomain="true",o.xhrFields={withCredentials:!0},e.ajax(o)},e.update=function(n){n.url||(n=t(arguments));var o=i(n);return o.type=e.restSetup.verbs.update,o.crossDomain="true",o.xhrFields={withCredentials:!0},e.ajax(o)},e.destroy=function(n){n.url||(n=t(arguments));var o=i(n);return o.type=e.restSetup.verbs.destroy,o.crossDomain="true",o.xhrFields={withCredentials:!0},e.ajax(o)}}(jQuery),function(e,t){(e=e||self).DOMPurify=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,i=Object.isFrozen,n=Object.keys,o=Object.freeze,r=Object.seal,a="undefined"!=typeof Reflect&&Reflect,s=a.apply,l=a.construct;s||(s=function(e,t,i){return e.apply(t,i)}),o||(o=function(e){return e}),r||(r=function(e){return e}),l||(l=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))))});var u=z(Array.prototype.forEach),c=z(Array.prototype.indexOf),h=z(Array.prototype.join),d=z(Array.prototype.pop),p=z(Array.prototype.push),f=z(Array.prototype.slice),g=z(String.prototype.toLowerCase),m=z(String.prototype.match),v=z(String.prototype.replace),b=z(String.prototype.indexOf),y=z(String.prototype.trim),_=z(RegExp.prototype.test),w=S(RegExp),x=S(TypeError);function z(e){return function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return s(e,t,n)}}function S(e){return function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return l(e,i)}}function T(e,n){t&&t(e,null);for(var o=n.length;o--;){var r=n[o];if("string"==typeof r){var a=g(r);a!==r&&(i(n)||(n[o]=a),r=a)}e[r]=!0}return e}function C(t){var i={},n=void 0;for(n in t)s(e,t,[n])&&(i[n]=t[n]);return i}var k=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),D=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),A=o(["#text"]),M=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),O=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),P=r(/\{\{[\s\S]*|[\s\S]*\}\}/gm),j=r(/<%[\s\S]*|[\s\S]*%>/gm),F=r(/^data-[\-\w.\u00B7-\uFFFF]/),L=r(/^aria-[\-\w]+$/),H=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=r(/^(?:\w+script|data):/i),$=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),W="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)};function U(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var q=function(){return"undefined"==typeof window?null:window},G=function(e,t){if("object"!==(void 0===e?"undefined":W(e))||"function"!=typeof e.createPolicy)return null;var i=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(i=t.currentScript.getAttribute("data-tt-policy-suffix"));var n="dompurify"+(i?"#"+i:"");try{return e.createPolicy(n,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),i=function(t){return e(t)};if(i.version="2.0.11",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;var r=t.document,a=!1,s=t.document,l=t.DocumentFragment,z=t.HTMLTemplateElement,S=t.Node,V=t.NodeFilter,Y=t.NamedNodeMap,Z=void 0===Y?t.NamedNodeMap||t.MozNamedAttrMap:Y,Q=t.Text,X=t.Comment,K=t.DOMParser,J=t.trustedTypes;if("function"==typeof z){var ee=s.createElement("template");ee.content&&ee.content.ownerDocument&&(s=ee.content.ownerDocument)}var te=G(J,r),ie=te?te.createHTML(""):"",ne=s,oe=ne.implementation,re=ne.createNodeIterator,ae=ne.getElementsByTagName,se=ne.createDocumentFragment,le=r.importNode,ue={};i.isSupported=oe&&void 0!==oe.createHTMLDocument&&9!==s.documentMode;var ce=P,he=j,de=F,pe=L,fe=B,ge=$,me=H,ve=null,be=T({},[].concat(U(k),U(I),U(D),U(E),U(A))),ye=null,_e=T({},[].concat(U(M),U(O),U(N),U(R))),we=null,xe=null,ze=!0,Se=!0,Te=!1,Ce=!1,ke=!1,Ie=!1,De=!1,Ee=!1,Ae=!1,Me=!1,Oe=!1,Ne=!1,Re=!0,Pe=!0,je=!1,Fe={},Le=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),He=null,Be=T({},["audio","video","img","source","image","track"]),$e=null,We=T({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ue=null,qe=s.createElement("form"),Ge=function(e){Ue&&Ue===e||(e&&"object"===(void 0===e?"undefined":W(e))||(e={}),ve="ALLOWED_TAGS"in e?T({},e.ALLOWED_TAGS):be,ye="ALLOWED_ATTR"in e?T({},e.ALLOWED_ATTR):_e,$e="ADD_URI_SAFE_ATTR"in e?T(C(We),e.ADD_URI_SAFE_ATTR):We,He="ADD_DATA_URI_TAGS"in e?T(C(Be),e.ADD_DATA_URI_TAGS):Be,we="FORBID_TAGS"in e?T({},e.FORBID_TAGS):{},xe="FORBID_ATTR"in e?T({},e.FORBID_ATTR):{},Fe="USE_PROFILES"in e&&e.USE_PROFILES,ze=!1!==e.ALLOW_ARIA_ATTR,Se=!1!==e.ALLOW_DATA_ATTR,Te=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=e.SAFE_FOR_JQUERY||!1,ke=e.SAFE_FOR_TEMPLATES||!1,Ie=e.WHOLE_DOCUMENT||!1,Ae=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Oe=e.RETURN_DOM_IMPORT||!1,Ne=e.RETURN_TRUSTED_TYPE||!1,Ee=e.FORCE_BODY||!1,Re=!1!==e.SANITIZE_DOM,Pe=!1!==e.KEEP_CONTENT,je=e.IN_PLACE||!1,me=e.ALLOWED_URI_REGEXP||me,ke&&(Se=!1),Me&&(Ae=!0),Fe&&(ve=T({},[].concat(U(A))),ye=[],!0===Fe.html&&(T(ve,k),T(ye,M)),!0===Fe.svg&&(T(ve,I),T(ye,O),T(ye,R)),!0===Fe.svgFilters&&(T(ve,D),T(ye,O),T(ye,R)),!0===Fe.mathMl&&(T(ve,E),T(ye,N),T(ye,R))),e.ADD_TAGS&&(ve===be&&(ve=C(ve)),T(ve,e.ADD_TAGS)),e.ADD_ATTR&&(ye===_e&&(ye=C(ye)),T(ye,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&T($e,e.ADD_URI_SAFE_ATTR),Pe&&(ve["#text"]=!0),Ie&&T(ve,["html","head","body"]),ve.table&&(T(ve,["tbody"]),delete we.tbody),o&&o(e),Ue=e)},Ve=function(e){p(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=ie}},Ye=function(e,t){try{p(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(i.removed,{attribute:null,from:t})}t.removeAttribute(e)},Ze=function(e){var t=void 0,i=void 0;if(Ee)e="<remove></remove>"+e;else{var n=m(e,/^[\r\n\t ]+/);i=n&&n[0]}var o=te?te.createHTML(e):e;try{t=(new K).parseFromString(o,"text/html")}catch(e){}if(a&&T(we,["title"]),!t||!t.documentElement){var r=(t=oe.createHTMLDocument("")).body;r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=o}return e&&i&&t.body.insertBefore(s.createTextNode(i),t.body.childNodes[0]||null),ae.call(t,Ie?"html":"body")[0]};i.isSupported&&function(){try{var e=Ze("<x/><title>&lt;/title&gt;&lt;img&gt;");_(/<\/title/,e.querySelector("title").innerHTML)&&(a=!0)}catch(e){}}();var Qe=function(e){return re.call(e.ownerDocument||e,e,V.SHOW_ELEMENT|V.SHOW_COMMENT|V.SHOW_TEXT,(function(){return V.FILTER_ACCEPT}),!1)},Xe=function(e){return!(e instanceof Q||e instanceof X||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof Z&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Ke=function(e){return"object"===(void 0===S?"undefined":W(S))?e instanceof S:e&&"object"===(void 0===e?"undefined":W(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Je=function(e,t,n){ue[e]&&u(ue[e],(function(e){e.call(i,t,n,Ue)}))},et=function(e){var t=void 0;if(Je("beforeSanitizeElements",e,null),Xe(e))return Ve(e),!0;var n=g(e.nodeName);if(Je("uponSanitizeElement",e,{tagName:n,allowedTags:ve}),("svg"===n||"math"===n)&&0!==e.querySelectorAll("p, br").length)return Ve(e),!0;if(!ve[n]||we[n]){if(Pe&&!Le[n]&&"function"==typeof e.insertAdjacentHTML)try{var o=e.innerHTML;e.insertAdjacentHTML("AfterEnd",te?te.createHTML(o):o)}catch(e){}return Ve(e),!0}return"noscript"===n&&_(/<\/noscript/i,e.innerHTML)||"noembed"===n&&_(/<\/noembed/i,e.innerHTML)?(Ve(e),!0):(!Ce||e.firstElementChild||e.content&&e.content.firstElementChild||!_(/</g,e.textContent)||(p(i.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=v(e.innerHTML,/</g,"&lt;"):e.innerHTML=v(e.textContent,/</g,"&lt;")),ke&&3===e.nodeType&&(t=e.textContent,t=v(t,ce," "),t=v(t,he," "),e.textContent!==t&&(p(i.removed,{element:e.cloneNode()}),e.textContent=t)),Je("afterSanitizeElements",e,null),!1)},tt=function(e,t,i){if(Re&&("id"===t||"name"===t)&&(i in s||i in qe))return!1;if(Se&&_(de,t));else if(ze&&_(pe,t));else{if(!ye[t]||xe[t])return!1;if($e[t]);else if(_(me,v(i,ge,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(i,"data:")||!He[e])if(Te&&!_(fe,v(i,ge,"")));else if(i)return!1}return!0},it=function(e){var t=void 0,o=void 0,r=void 0,a=void 0,s=void 0;Je("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};for(s=l.length;s--;){var p=t=l[s],m=p.name,b=p.namespaceURI;if(o=y(t.value),r=g(m),u.attrName=r,u.attrValue=o,u.keepAttr=!0,u.forceKeepAttr=void 0,Je("uponSanitizeAttribute",e,u),o=u.attrValue,!u.forceKeepAttr){if("name"===r&&"IMG"===e.nodeName&&l.id)a=l.id,l=f(l,[]),Ye("id",e),Ye(m,e),c(l,a)>s&&e.setAttribute("id",a.value);else{if("INPUT"===e.nodeName&&"type"===r&&"file"===o&&u.keepAttr&&(ye[r]||!xe[r]))continue;"id"===m&&e.setAttribute(m,""),Ye(m,e)}if(u.keepAttr)if(Ce&&_(/\/>/i,o))Ye(m,e);else if(_(/svg|math/i,e.namespaceURI)&&_(w("</("+h(n(Le),"|")+")","i"),o))Ye(m,e);else{ke&&(o=v(o,ce," "),o=v(o,he," "));var x=e.nodeName.toLowerCase();if(tt(x,r,o))try{b?e.setAttributeNS(b,m,o):e.setAttribute(m,o),d(i.removed)}catch(e){}}}}Je("afterSanitizeAttributes",e,null)}},nt=function e(t){var i=void 0,n=Qe(t);for(Je("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)Je("uponSanitizeShadowNode",i,null),et(i)||(i.content instanceof l&&e(i.content),it(i));Je("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(e,n){var o=void 0,a=void 0,s=void 0,u=void 0,c=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Ke(e)){if("function"!=typeof e.toString)throw x("toString is not a function");if("string"!=typeof(e=e.toString()))throw x("dirty is not a string, aborting")}if(!i.isSupported){if("object"===W(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Ke(e))return t.toStaticHTML(e.outerHTML)}return e}if(De||Ge(n),i.removed=[],"string"==typeof e&&(je=!1),je);else if(e instanceof S)1===(a=(o=Ze("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!Ae&&!ke&&!Ie&&Ne&&-1===e.indexOf("<"))return te?te.createHTML(e):e;if(!(o=Ze(e)))return Ae?null:ie}o&&Ee&&Ve(o.firstChild);for(var h=Qe(je?e:o);s=h.nextNode();)3===s.nodeType&&s===u||et(s)||(s.content instanceof l&&nt(s.content),it(s),u=s);if(u=null,je)return e;if(Ae){if(Me)for(c=se.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return Oe&&(c=le.call(r,c,!0)),c}var d=Ie?o.outerHTML:o.innerHTML;return ke&&(d=v(d,ce," "),d=v(d,he," ")),te&&Ne?te.createHTML(d):d},i.setConfig=function(e){Ge(e),De=!0},i.clearConfig=function(){Ue=null,De=!1},i.isValidAttribute=function(e,t,i){Ue||Ge({});var n=g(e),o=g(t);return tt(n,o,i)},i.addHook=function(e,t){"function"==typeof t&&(ue[e]=ue[e]||[],p(ue[e],t))},i.removeHook=function(e){ue[e]&&d(ue[e])},i.removeHooks=function(e){ue[e]&&(ue[e]=[])},i.removeAllHooks=function(){ue={}},i}()}()}(this),function(){var e="BzjSignature",t=function(e,t){var i;return this.kick=function(){clearTimeout(i),i=setTimeout(t,e)},this.clear=function(){clearTimeout(i)},this},i=function(e){"use strict";
/*  @preserve
                  -----------------------------------------------------------------------------------------------
                  JavaScript PubSub library
                  2012 (c) Willow Systems Corp (www.willow-systems.com)
                  based on Peter Higgins (dante@dojotoolkit.org)
                  Loosely based on Dojo publish/subscribe API, limited in scope. Rewritten blindly.
                  Original is (c) Dojo Foundation 2004-2010. Released under either AFL or new BSD, see:
                  http://dojofoundation.org/license for more information.
                  -----------------------------------------------------------------------------------------------
                  */this.topics={},this.context=e||this,this.publish=function(e,t,i,n){if(this.topics[e]){var o,r,a,s,l=this.topics[e],u=Array.prototype.slice.call(arguments,1),c=[],h=[];for(r=0,a=l.length;r<a;r++)o=(s=l[r])[0],s[1]&&(s[0]=function(){},c.push(r)),h.push(o);for(r=0,a=c.length;r<a;r++)l.splice(c[r],1);for(r=0,a=h.length;r<a;r++)h[r].apply(this.context,u)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic])for(var t=this.topics[e.topic],i=0,n=t.length;i<n;i++)t[i]&&t[i][0]===e.callback&&t.splice(i,1)}};function n(e,t){this.x=e,this.y=t,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var i=function(e){return Math.round(e/Math.abs(e))};this.resizeTo=function(e){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=e,this.y=e*i(this.y);else if(0===this.y)this._length=e,this.x=e*i(this.x);else{var t=Math.abs(this.y/this.x),n=Math.sqrt(Math.pow(e,2)/(1+Math.pow(t,2))),o=t*n;this._length=e,this.x=n*i(this.x),this.y=o*i(this.y)}return this},this.angleTo=function(e){var t=this.getLength()*e.getLength();return 0===t?0:Math.acos(Math.min(Math.max((this.x*e.x+this.y*e.y)/t,-1),1))/Math.PI}}function o(e,t){this.x=e,this.y=t,this.getVectorToCoordinates=function(e,t){return new n(e-this.x,t-this.y)},this.getVectorFromCoordinates=function(e,t){return this.getVectorToCoordinates(e,t).reverse()},this.getVectorToPoint=function(e){return new n(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(e){return this.getVectorToPoint(e).reverse()}}function r(e,t,i,n,o){if(this.data=e,this.context=t,e.length)for(var r,a,s=e.length,l=0;l<s;l++){a=(r=e[l]).x.length,i.call(t,r);for(var u=1;u<a;u++)n.call(t,r,u);o.call(t,r)}this.changed=function(){},this.startStrokeFn=i,this.addToStrokeFn=n,this.endStrokeFn=o,this.inStroke=!1,this._lastPoint=null,this._stroke=null,this.startStroke=function(e){if(e&&"number"==typeof e.x&&"number"==typeof e.y){this._stroke={x:[e.x],y:[e.y]},this.data.push(this._stroke),this._lastPoint=e,this.inStroke=!0;var t=this._stroke,i=this.startStrokeFn,n=this.context;return setTimeout((function(){i.call(n,t)}),3),e}return null},this.addToStroke=function(e){if(this.inStroke&&"number"==typeof e.x&&"number"==typeof e.y&&Math.abs(e.x-this._lastPoint.x)+Math.abs(e.y-this._lastPoint.y)>4){var t=this._stroke.x.length;this._stroke.x.push(e.x),this._stroke.y.push(e.y),this._lastPoint=e;var i=this._stroke,n=this.addToStrokeFn,o=this.context;return setTimeout((function(){n.call(o,i,t)}),3),e}return null},this.endStroke=function(){var e=this.inStroke;if(this.inStroke=!1,this._lastPoint=null,e){var t=this._stroke,i=this.endStrokeFn,n=this.context,o=this.changed;return setTimeout((function(){i.call(n,t),o.call(n)}),3),!0}return null}}var a=function(e,t,i,n,o){e.beginPath(),e.moveTo(t,i),e.lineTo(n,o),e.closePath(),e.stroke()},s=function(e,t,i,n,o,r,a,s,l){e.beginPath(),e.moveTo(t,i),e.bezierCurveTo(r,a,s,l,n,o),e.closePath(),e.stroke()},l=function(e){var t,i,n,o,r;t=this.canvasContext,i=e.x[0],n=e.y[0],o=this.settings.lineWidth,r=t.fillStyle,t.fillStyle=t.strokeStyle,t.fillRect(i+o/-2,n+o/-2,o,o),t.fillStyle=r},u=function(e,t){var i=new o(e.x[t-1],e.y[t-1]),r=new o(e.x[t],e.y[t]),l=i.getVectorToPoint(r);if(t>1){var u,c=new o(e.x[t-2],e.y[t-2]),h=c.getVectorToPoint(i);if(h.getLength()>this.lineCurveThreshold){u=t>2?new o(e.x[t-3],e.y[t-3]).getVectorToPoint(c):new n(0,0);var d=.35*h.getLength(),p=h.angleTo(u.reverse()),f=l.angleTo(h.reverse()),g=new n(u.x+h.x,u.y+h.y).resizeTo(Math.max(.05,p)*d),m=new n(h.x+l.x,h.y+l.y).reverse().resizeTo(Math.max(.05,f)*d);s(this.canvasContext,c.x,c.y,i.x,i.y,c.x+g.x,c.y+g.y,i.x+m.x,i.y+m.y)}}l.getLength()<=this.lineCurveThreshold&&a(this.canvasContext,i.x,i.y,r.x,r.y)},c=function(e){var t=e.x.length-1;if(t>0){var i,r=new o(e.x[t],e.y[t]),l=new o(e.x[t-1],e.y[t-1]),u=l.getVectorToPoint(r);if(u.getLength()>this.lineCurveThreshold)if(t>1){var c=new n((i=new o(e.x[t-2],e.y[t-2]).getVectorToPoint(l)).x+u.x,i.y+u.y).resizeTo(u.getLength()/2);s(this.canvasContext,l.x,l.y,r.x,r.y,l.x+c.x,l.y+c.y,r.x,r.y)}else a(this.canvasContext,l.x,l.y,r.x,r.y)}};function h(e,t,i,n){"use strict";var o,r,a;"ratio"!==t&&"%"!==t.split("")[t.length-1]||(this.eventTokens[i+".parentresized"]=n.subscribe(i+".parentresized",(o=this.eventTokens,r=this.$parent,a=this.$parent.width(),this.canvas.width,this.canvas.height,function(){var t=r.width();if(t!==a){for(var s in o)o.hasOwnProperty(s)&&(n.unsubscribe(o[s]),delete o[s]);var l=e.settings;for(var s in e.$parent.children().remove(),e)e.hasOwnProperty(s)&&delete e[s];l.data=function(e,t){var i,n,o,r,a,s,l=[];for(n=0,o=e.length;n<o;n++){for(i={x:[],y:[]},r=0,a=(s=e[n]).x.length;r<a;r++)i.x.push(s.x[r]*t),i.y.push(s.y[r]*t);l.push(i)}return l}(l.data,1*t/a),r[i](l)}})))}function d(n,r,a){var s=this.$parent=$(n),l=this.eventTokens={},u=(this.events=new i(this),$.fn.BzjSignature("globalEvents")),c={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,readOnly:!1,data:[],signatureLine:!1};for(var d in $.extend(c,function(e){for(var t,i,n=e.css("color"),o=e[0],r=!1;o&&!i&&!r;){try{t=$(o).css("background-color")}catch(e){t="transparent"}"transparent"!==t&&"rgba(0, 0, 0, 0)"!==t&&(i=t),r=o.body,o=o.parentNode}var a,s,l=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,u=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/;t=void 0,(t=n.match(l))?a={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}:(t=n.match(u))&&(a={r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}),i?(t=void 0,(t=i.match(l))?s={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}:(t=i.match(u))&&(s={r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)})):s=a&&Math.max.apply(null,[a.r,a.g,a.b])>127?{r:0,g:0,b:0}:{r:255,g:255,b:255};var c,h,d,p=function(e){return"rgb("+[e.r,e.g,e.b].join(", ")+")"};if(a&&s){var f=Math.max.apply(null,[a.r,a.g,a.b]);h=Math.max.apply(null,[s.r,s.g,s.b]),c={r:d=Math.round(h+-1*(h-f)*.75),g:d,b:d}}else if(a){var g=1;(h=Math.max.apply(null,[a.r,a.g,a.b]))>127&&(g=-1),c={r:d=Math.round(h+96*g),g:d,b:d}}else c={r:191,g:191,b:191};return{color:n,"background-color":s?p(s):i,"decor-color":p(c)}}(s)),r&&$.extend(c,r),this.settings=c,a)a.hasOwnProperty(d)&&a[d].call(this,d);this.events.publish("BzjSignature.initializing"),this.$controlbarUpper=$('<div style="padding:0 !important; margin:0 !important;width: 100% !important; height: 0 !important; -ms-touch-action: none; touch-action: none;margin-top:-1em !important; margin-bottom:1em !important;"></div>').appendTo(s),this.isCanvasEmulator=!1;var p,f,g=this.canvas=this.initializeCanvas(c),m=$(g);this.$controlbarLower=$('<div style="padding:0 !important; margin:0 !important;width: 100% !important; height: 0 !important; -ms-touch-action: none; touch-action: none;margin-top:-1.5em !important; margin-bottom:1.5em !important; position: relative;"></div>').appendTo(s),this.canvasContext=g.getContext("2d"),m.data("BzjSignature.this",this),c.lineWidth=(p=c.lineWidth,f=g.width,p||Math.max(Math.round(f/400),2)),this.lineCurveThreshold=3*c.lineWidth,c.cssclass&&""!=$.trim(c.cssclass)&&m.addClass(c.cssclass),this.fatFingerCompensation=0;var v=function(e){var i,n,r=function(t){var r=t.changedTouches&&t.changedTouches.length>0?t.changedTouches[0]:t;return new o(Math.round(r.pageX+i),Math.round(r.pageY+n)+e.fatFingerCompensation)},a=new t(750,(function(){e.dataEngine.endStroke()}));return this.drawEndHandler=function(t){if(!e.settings.readOnly){try{t.preventDefault()}catch(e){}a.clear(),e.dataEngine.endStroke()}},this.drawStartHandler=function(t){var o;e.settings.readOnly||(t.preventDefault(),o=$(e.canvas).offset(),i=-1*o.left,n=-1*o.top,e.dataEngine.startStroke(r(t)),a.kick())},this.drawMoveHandler=function(t){if(!e.settings.readOnly){if(t.preventDefault(),!e.dataEngine.inStroke)return;e.dataEngine.addToStroke(r(t)),a.kick()}},this}.call({},this);return function(e,t,i){var n=this.canvas,o=$(n);if(this.isCanvasEmulator)o.bind("mousemove.BzjSignature",i),o.bind("mouseup.BzjSignature",e),o.bind("mousedown.BzjSignature",t);else{var r="function"==typeof n.addEventListener;this.ontouchstart=function(o){n.onmousedown=n.onmouseup=n.onmousemove=void 0,this.fatFingerCompensation=c.minFatFingerCompensation&&-3*c.lineWidth>c.minFatFingerCompensation?-3*c.lineWidth:c.minFatFingerCompensation,t(o),r?(n.addEventListener("touchend",e),n.addEventListener("touchstart",t),n.addEventListener("touchmove",i)):(n.ontouchend=e,n.ontouchstart=t,n.ontouchmove=i)},r?n.addEventListener("touchstart",this.ontouchstart):n.ontouchstart=ontouchstart,n.onmousedown=function(o){r?n.removeEventListener("touchstart",this.ontouchstart):n.ontouchstart=n.ontouchend=n.ontouchmove=void 0,t(o),n.onmousedown=t,n.onmouseup=e,n.onmousemove=i},window.navigator.msPointerEnabled&&(n.onmspointerdown=t,n.onmspointerup=e,n.onmspointermove=i)}}.call(this,v.drawEndHandler,v.drawStartHandler,v.drawMoveHandler),l["BzjSignature.windowmouseup"]=u.subscribe("BzjSignature.windowmouseup",v.drawEndHandler),this.events.publish("BzjSignature.attachingEventHandlers"),h.call(this,this,c.width.toString(10),e,u),this.resetCanvas(c.data),this.events.publish("BzjSignature.initialized"),this}d.prototype.resetCanvas=function(e,t){var i=this.canvas,n=this.settings,o=this.canvasContext,s=this.isCanvasEmulator,h=i.width,d=i.height;if(t||o.clearRect(0,0,h+30,d+30),o.shadowColor=o.fillStyle=n["background-color"],s&&o.fillRect(0,0,h+30,d+30),o.lineWidth=Math.ceil(parseInt(n.lineWidth,10)),o.lineCap=o.lineJoin="round",n.signatureLine){if(null!=n["decor-color"]){o.strokeStyle=n["decor-color"],o.shadowOffsetX=0,o.shadowOffsetY=0;var p=Math.round(d/5);a(o,1.5*p,d-p,h-1.5*p,d-p)}s||(o.shadowColor=o.strokeStyle,o.shadowOffsetX=.5*o.lineWidth,o.shadowOffsetY=-.6*o.lineWidth,o.shadowBlur=0)}o.strokeStyle=n.color,e||(e=[]);var f=this.dataEngine=new r(e,this,l,u,c);return n.data=e,$(i).data("BzjSignature.data",e).data("BzjSignature.settings",n),f.changed=function(e,t,i){"use strict";return function(){t.publish("BzjSignature.change"),e.trigger("change")}}(this.$parent,this.events),f.changed(),!0},d.prototype.initializeCanvas=function(t){var i=document.createElement("canvas"),n=$(i);return t.width===t.height&&"ratio"===t.height&&(t.width="100%"),n.css({margin:0,padding:0,border:"none",height:"ratio"!==t.height&&t.height?t.height.toString(10):1,width:"ratio"!==t.width&&t.width?t.width.toString(10):1,"-ms-touch-action":"none","touch-action":"none","background-color":t["background-color"]}),n.appendTo(this.$parent),"ratio"===t.height?n.css("height",Math.round(n.width()/t.sizeRatio)):"ratio"===t.width&&n.css("width",Math.round(n.height()*t.sizeRatio)),n.addClass(e),i.width=n.width(),i.height=n.height(),this.isCanvasEmulator=function(e){if(e.getContext)return!1;var t=e.ownerDocument.parentWindow,i=t.FlashCanvas?e.ownerDocument.parentWindow.FlashCanvas:"undefined"==typeof FlashCanvas?void 0:FlashCanvas;if(i){e=i.initElement(e);var n=1;if(t&&t.screen&&t.screen.deviceXDPI&&t.screen.logicalXDPI&&(n=1*t.screen.deviceXDPI/t.screen.logicalXDPI),1!==n)try{$(e).children("object").get(0).resize(Math.ceil(e.width*n),Math.ceil(e.height*n)),e.getContext("2d").scale(n,n)}catch(e){}return!0}throw new Error("Canvas element does not support 2d context. jSignature cannot proceed.")}(i),i.onselectstart=function(e){return e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1},i};!function(t){var n=new i;!function(e,t,i,n){"use strict";i(n).bind("mouseup.BzjSignature",(function(t){e.publish("BzjSignature.windowmouseup")}))}(n,0,$,t);var o={},r={default:function(e){return this.toDataURL()},native:function(e){return e},image:function(e){var t=this.toDataURL();if("string"==typeof t&&t.length>4&&"data:"===t.slice(0,5)&&-1!==t.indexOf(",")){var i=t.indexOf(",");return[t.slice(5,i),t.substr(i+1)]}return[]}};function a(e,t,i){"use strict";var n=new Image,o=this;n.onload=function(){var e=o.getContext("2d"),t=e.shadowColor;e.shadowColor="transparent",e.drawImage(n,0,0,n.width<o.width?n.width:o.width,n.height<o.height?n.height:o.height),e.shadowColor=t},n.src="data:"+t+","+e}var s={native:function(e,t,i){i(e)},image:a,"image/png;base64":a,"image/jpeg;base64":a,"image/jpg;base64":a};function l(e,t){return this.find("canvas.BzjSignature").add(this.filter("canvas.BzjSignature")).data("BzjSignature.this").resetCanvas(e,t),this}function u(e,t){if(void 0!==t||"string"!=typeof e||"data:"!==e.substr(0,5)||(t=e.slice(5).split(",")[0])!==(e=e.slice(6+t.length))){var i,n=this.find("canvas.BzjSignature").add(this.filter("canvas.BzjSignature"));if(!s.hasOwnProperty(t))throw new Error("BzjSignature is unable to find import plugin with for format '"+String(t)+"'");return 0!==n.length&&s[t].call(n[0],e,t,(i=n.data("BzjSignature.this"),function(){return i.resetCanvas.apply(i,arguments)})),this}}var c=function(e){var t=!1;for(e=e.parentNode;e&&!t;)t=e.body,e=e.parentNode;return!t},h={export:r,import:s,instance:o},p={init:function(e){return this.each((function(){c(this)||new d(this,e,o)}))},destroy:function(){return this.each((function(){if(!c(this)){var e=$(this).find("canvas").data("BzjSignature.this");if(e)for(var t in e.$controlbarLower.remove(),e.$controlbarUpper.remove(),$(e.canvas).remove(),e.eventTokens)e.eventTokens.hasOwnProperty(t)&&n.unsubscribe(e.eventTokens[t])}}))},getSettings:function(){return this.find("canvas.BzjSignature").add(this.filter("canvas.BzjSignature")).data("BzjSignature.this").settings},isModified:function(){return null!==this.find("canvas.BzjSignature").add(this.filter("canvas.BzjSignature")).data("BzjSignature.this").dataEngine._stroke},updateSetting:function(e,t,i){var n=this.find("canvas.BzjSignature").add(this.filter("canvas.BzjSignature")).data("BzjSignature.this");return n.settings[e]=t,n.resetCanvas(i?null:n.settings.data,!0),n.settings[e]},clear:l,reset:l,addPlugin:function(e,t,i){return h.hasOwnProperty(e)&&(h[e][t]=i),this},listPlugins:function(e){var t=[];if(h.hasOwnProperty(e)){var i=h[e];for(var n in i)i.hasOwnProperty(n)&&t.push(n)}return t},getData:function(e){var t=this.find("canvas.BzjSignature").add(this.filter("canvas.BzjSignature"));if(void 0===e&&(e="default"),0!==t.length&&r.hasOwnProperty(e))return r[e].call(t.get(0),t.data("BzjSignature.data"),t.data("BzjSignature.settings"))},importData:u,setData:u,globalEvents:function(){return n},disable:function(){this.find("input").attr("disabled",1),this.find("canvas.BzjSignature").addClass("disabled").data("BzjSignature.this").settings.readOnly=!0},enable:function(){this.find("input").removeAttr("disabled"),this.find("canvas.BzjSignature").removeClass("disabled").data("BzjSignature.this").settings.readOnly=!1},events:function(){return this.find("canvas.BzjSignature").add(this.filter("canvas.BzjSignature")).data("BzjSignature.this").events}};$.fn.BzjSignature=function(t){"use strict";return t&&"object"!==_typeof(t)?"string"==typeof t&&p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):void $.error("Method "+String(t)+" does not exist on jQuery."+e):p.init.apply(this,arguments)}}(window)}(),function(){"use strict";if("object"==("undefined"==typeof window?"undefined":_typeof(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},n.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,i){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==i[t-1]}))},n.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(window,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var o=n.element,r=a(o),s=this._rootContainsTarget(o),l=n.entry,u=e&&s&&this._computeTargetAndRootIntersection(o,t),c=n.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:r,rootBounds:t,intersectionRect:u});l?e&&s?this._hasCrossedThreshold(l,c)&&this._queuedEntries.push(c):l&&l.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(t,i){if("none"!=window.getComputedStyle(t).display){for(var n,o,r,s,u,c,h,d,p=a(t),f=l(t),g=!1;!g;){var m=null,v=1==f.nodeType?window.getComputedStyle(f):{};if("none"==v.display)return;if(f==this.root||f==e?(g=!0,m=i):f!=e.body&&f!=e.documentElement&&"visible"!=v.overflow&&(m=a(f)),m&&(n=m,o=p,void 0,void 0,void 0,void 0,void 0,void 0,r=Math.max(n.top,o.top),s=Math.min(n.bottom,o.bottom),u=Math.max(n.left,o.left),d=s-r,!(p=(h=(c=Math.min(n.right,o.right))-u)>=0&&d>=0&&{top:r,bottom:s,left:u,right:c,width:h,height:d})))break;f=l(f)}return p}},n.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var i=e.documentElement,n=e.body;t={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,i){return"px"==t.unit?t.value:t.value*(i%2?e.width:e.height)/100})),i={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},n.prototype._hasCrossedThreshold=function(e,t){var i=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(i!==n)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==i||r==n||r<i!=r<n)return!0}},n.prototype._rootIsInDom=function(){return!this.root||s(e,this.root)},n.prototype._rootContainsTarget=function(t){return s(this.root||e,t)},n.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},n.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=n,window.IntersectionObserverEntry=i}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,i=t.width*t.height,n=this.intersectionRect,o=n.width*n.height;this.intersectionRatio=i?Number((o/i).toFixed(4)):this.isIntersecting?1:0}function n(e,t){var i,n,o,r=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){i(),o=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function o(e,t,i,n){"function"==typeof e.addEventListener?e.addEventListener(t,i,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,i)}function r(e,t,i,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,i,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,i)}function a(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(e,t){for(var i=t;i;){if(i==e)return!0;i=l(i)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}(),function(e,t){e.ResizeObserver=function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,n){return e[0]===t&&(i=n,!0)})),i}return function(){function t(){this.__entries__=[]}var i={size:{configurable:!0}};return i.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i+=1){var o=n[i];e.call(t,o[1],o[0])}},Object.defineProperties(t.prototype,i),t}()}(),t="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),n="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],r="undefined"!=typeof MutationObserver,a=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,o=!1,r=0;function a(){i&&(i=!1,e()),o&&l()}function s(){n(a)}function l(){var e=Date.now();if(i){if(e-r<2)return;o=!0}else i=!0,o=!1,setTimeout(s,20);r=e}return l}(this.refresh.bind(this))};a.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},a.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},a.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},a.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},a.prototype.connect_=function(){t&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),r?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},a.prototype.disconnect_=function(){t&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},a.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),o.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},a.getInstance=function(){return this.instance_||(this.instance_=new a),this.instance_},a.instance_=null;var s=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i+=1){var o=n[i];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},u=f(0,0,0,0);function c(e){return parseFloat(e)||0}function h(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];return t.reduce((function(t,i){return t+c(e["border-"+i+"-width"])}),0)}var d="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function p(e){return t?d(e)?function(e){var t=e.getBBox();return f(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return u;var n=l(e).getComputedStyle(e),o=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i+=1){var o=n[i],r=e["padding-"+o];t[o]=c(r)}return t}(n),r=o.left+o.right,a=o.top+o.bottom,s=c(n.width),d=c(n.height);if("border-box"===n.boxSizing&&(Math.round(s+r)!==t&&(s-=h(n,"left","right")+r),Math.round(d+a)!==i&&(d-=h(n,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var p=Math.round(s+r)-t,g=Math.round(d+a)-i;1!==Math.abs(p)&&(s-=p),1!==Math.abs(g)&&(d-=g)}return f(o.left,o.top,s,d)}(e):u}function f(e,t,i,n){return{x:e,y:t,width:i,height:n}}var g=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=f(0,0,0,0),this.target=e};g.prototype.isActive=function(){var e=p(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},g.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var m=function(e,t){var i,n,o,r,a,l,u,c=(n=(i=t).x,o=i.y,r=i.width,a=i.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(l.prototype),s(u,{x:n,y:o,width:r,height:a,top:o,right:n+r,bottom:a+o,left:n}),u);s(this,{target:e,contentRect:c})},v=function(t,i,n){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=i,this.callbackCtx_=n};v.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},v.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},v.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},v.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},v.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new m(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},v.prototype.clearActive=function(){this.activeObservations_.splice(0)},v.prototype.hasActive=function(){return this.activeObservations_.length>0};var b="undefined"!=typeof WeakMap?new WeakMap:new e,y=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=a.getInstance(),n=new v(t,i,this);b.set(this,n)};return["observe","unobserve","disconnect"].forEach((function(e){y.prototype[e]=function(){return(t=b.get(this))[e].apply(t,arguments);var t}})),void 0!==i.ResizeObserver?i.ResizeObserver:(i.ResizeObserver=y,y)}()}(this),function(){"use strict";function e(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){return t.reject(i)}))}))}var t=setTimeout;function i(e){return e&&void 0!==e.length}function n(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,n)}else(1===e._state?a:s)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==_typeof(t)||"function"==typeof t)){var i=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof i)return void c(function(e,t){return function(){e.apply(t,arguments)}}(i,t),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function c(e,t){var i=!1;try{e((function(e){i||(i=!0,a(t,e))}),(function(e){i||(i=!0,s(t,e))}))}catch(e){if(i)return;i=!0,s(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new u(e,t,i)),i},o.prototype.finally=e,o.all=function(e){return new o((function(t,n){if(!i(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var r=o.length;function a(e,i){try{if(i&&("object"==_typeof(i)||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){a(e,t)}),n)}o[e]=i,0==--r&&t(o)}catch(e){n(e)}}for(var s=0;s<o.length;s++)a(s,o[s])}))},o.resolve=function(e){return e&&"object"==_typeof(e)&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,i){i(e)}))},o.race=function(e){return new o((function(t,n){if(!i(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,a=e.length;r<a;r++)o.resolve(e[r]).then(t,n)}))},o._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){t(e,0)},o._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"function"!=typeof h.Promise?h.Promise=o:h.Promise.prototype.finally||(h.Promise.prototype.finally=e)}(),function(e){e.widget("ui.optiongroup",{_create:function(){var t=this,i=this.element,n=(t.options,e("input[type=radio]",i));e("label",i).each((function(i){var o=e(this),r=o.text(),a=e("input[type=radio]",o);o.attr("for")==a.attr("id")?(a.detach(),o.wrap('<div class="ui-radio"></div>'),a.insertBefore(o),o.text(r),o.hover((function(){e(this).addClass("ui-radio-state-hover")}),(function(){e(this).removeClass("ui-radio-state-hover")})).click((function(){a[0].checked;a[0].checked=!a[0].checked})),a.bind("update",(function(){e(this).is(":checked")?(n.each((function(){e(this).next().removeClass("ui-radio-state-checked")})),o.addClass("ui-radio-state-checked")):o.removeClass("ui-radio-state-checked ui-radio-state-hover ui-radio-state-highlight"),e(this).is(":checked")&&t._trigger("change",window.event,{value:e(this).val(),text:o.text()})})).click((function(){e(this).trigger("update")})).focus((function(){o.addClass("ui-radio-state-highlight")})).blur((function(){o.removeClass("ui-radio-state-highlight")}))):alert("label and input element are not related in label:"+o.attr("id"))}))},setValue:function(t){var i=this.element,n=(this.options,e("input[type=radio]",i));e.each(n,(function(i){var n=e(this);n.val()==t&&(n.prop("checked",!0),n.trigger("update"))}))}}),e.extend(e.ui.optionGroup,{version:"@VERSION",eventPrefix:"optiongroup"})}(jQuery),String.prototype.replaceMultiple=function(e){var t=this;e=e||{};return $.each(e,(function(i,n){t=t.replace(new RegExp("\\{"+i+"\\}","gm"),e[i])})),t},Math.guid=function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)}))};var batchRequest=function(e){var t=this;return t.intervalLap=400,t.queueOfRequest=[],t.batchWaiting={},t.options={boundary:"batch_"+Math.guid(),newLine:"\r\n",endPoint:"/"},t.options=$.extend(t.options,e),t._getAppHostAndPath=function(e){var t=(void 0===e?"//":e).split("//")[1].split("/");return{host:t.shift(),path:"/"+t.join("/")}},t.HOST_AND_PATH=t._getAppHostAndPath(bizagiConfig.applicationUrl),t.addBatchRequest=function(e,i,n,o){var r=Math.guid();i.fromRestLib&&(i=i.data),t.queueOfRequest.push({guid:r,options:e,originalOptions:i,deferred:n,jqXHR:o})},t.getHeadersToString=function(e){e=e||{};var i="";return $.each(e,(function(e,n){i+=e+": "+n+t.options.newLine})),i},t.parseUrl=function(e){return e=(e=e||"").replace("./","/"),e=(e=t.HOST_AND_PATH.path.split("/").reduce((function(e,t,i,n){return i+1<n.length&&e.push(t),e}),[]).join("/")+e).replace("//","/")},t.tryParseURL=function(e,t){try{return t.url=new URL(e),!0}catch(e){return!1}},t.getRequestHeaders=function(e){var i="",n={url:void 0};t.tryParseURL(e.originalOptions.url,n)&&(e.originalOptions.url=e.originalOptions.url.replace(n.url.origin,""));var o=JSON.stringify(e.originalOptions);'""'==o&&(o="");var r=Array("*","/","*").join("");i+="--{boundary}{newLine}",i+="Content-Type: {contentType}{newLine}{newLine}",i+="{method} {url} {protocol}{newLine}",i+="Host: {host}{newLine}",i+="X-Request-ID: {requestId}{newLine}",i+="{originalHeaders}",i+="content-length: {contentLength}{newLine}",i+="{newLine}{data}{newLine}";var a={newLine:t.options.newLine,boundary:t.options.boundary,contentType:"application/http; msgtype=request",method:e.options.type,url:n.url?e.options.url.replace(n.url.origin,""):t.parseUrl(e.options.url),protocol:"HTTP/1.1",accept:e.options.headers&&e.options.headers.Accept?e.options.headers.Accept:r,requestId:Math.guid(),originalHeaders:t.getHeadersToString(e.options.headers),contentLength:o.length,host:n.url?n.url.host:t.HOST_AND_PATH.host,data:o};return i=i.replaceMultiple(a)},t.buildBatchRequest=function(){for(var e,i="";e=t.queueOfRequest.shift();)t.addWaitingRequest(t.options.boundary,e),i+=t.getRequestHeaders(e);return i&&(i+="--{boundary}--{newLine}".replaceMultiple({newLine:t.options.newLine,boundary:t.options.boundary})),i},t.parseResponse=function(e){return{status:function(e){var t=/(HTTP\/1\.1) (\d{3}) (\w{1,})/g.exec(e);return{code:t[2],codeMessage:t[3]}}(e),headers:function(e){for(var t,i=/([A-Z]{1}[\w|-]{1,}):[ \t]*([^\r\n]*)$/gm,n={};t=i.exec(e);)n[t[1].toLowerCase()]=t[2];return n}(e),data:function(e){for(var t,i={},n=e.split(/^\s*$/gm),o=n.length-1;o>0;o--)try{""==(t=bizagi.util.trim(n[o]))||"["!=t.charAt(0)&&"{"!=t.charAt(0)||(JSON.parse(t),i=t)}catch(e){}return i}(e)}},t.processResponses=function(e,i){var n,o=[],r=e.split(i);for(r.shift(),r.pop();n=r.shift();)o.push(t.parseResponse(n));return 0==o.length&&console.error("batch request: processResponses: no responses founded by GUID "+i),o},t.getBoundary=function(e){var t=e.getResponseHeader("Content-Type"),i=/boundary=\"(.*)\"/g.exec(t);return"--"+(i.length>1?i[1].replace(/\"/g,""):"")},t.getBatchWaiting=function(e){return void 0===t.batchWaiting[e]&&(t.batchWaiting[e]=Array()),t.batchWaiting[e]},t.addWaitingRequest=function(e,i){t.getBatchWaiting(e).push(i)},t.deleteWaitingRequest=function(e){delete t.batchWaiting[e]},t.funcGetQueueToDispatch=function(e){return function(){var i=t.getBatchWaiting(e);return t.deleteWaitingRequest(e),i}},t.execute=function(){var e=t.buildBatchRequest(),i=t.options.boundary;e&&$.when($.ajax(t.options.endPoint,{method:"POST",contentType:'multipart/mixed; boundary="'+i+'"',data:e}),t.funcGetQueueToDispatch(i)).done((function(e,i){for(var n,o=i(),r=e[0],a=e[1],s=e[2],l=t.getBoundary(s),u=t.processResponses(r,l);n=u.shift();){var c,h=o.shift();try{c=("function"==typeof h.options.converters["text "+h.options.dataType]?h.options.converters["text "+h.options.dataType]:h.options.converters["* text"])(n.data)}catch(e){c=n.data}switch(h.jqXHR.status=parseInt(n.status.code),n.status.code){case"200":case"201":h.jqXHR.getAllResponseHeaders=function(){return t.getHeadersToString(h.options.headers)},h.jqXHR.getResponseHeader=function(e){return h.options.headers[e]},h.deferred.resolve(c,a,h.jqXHR);break;case"400":case"401":case"404":case"500":h.deferred.reject(h.jqXHR,n.status.code,c);break;default:h.deferred.reject("Status code "+n.status.code+" is unrecognized")}}}))},t.stop=function(){window.clearInterval(t.interval)},window.setInterval((function(){t.queueOfRequest&&(t.execute(),t.options.boundary="batch_"+Math.guid())}),t.intervalLap),{add:t.addBatchRequest,execute:t.execute,getInterval:t.interval,stop:t.stop,_getAppHostAndPath:t._getAppHostAndPath,_processResponses:t.processResponses,_getBoundary:t.getBoundary,_getBatchWaiting:t.getBatchWaiting,_deleteWaitingRequest:t.deleteWaitingRequest,_addWaitingRequest:t.addWaitingRequest,_funcGetQueueToDispatch:t.funcGetQueueToDispatch}},jqOAuth=function(e){if(this.options={},this.intercept=!1,this.refreshing=!1,this.buffer=[],this.currentRequests=[],this._resetOptions(),this._setupInterceptor(),$.extend(this.options,e),this._hasStoredData()&&this.hasAccessToken()){var t=this.data;this.login(t.access_token,t.refresh_token)}void 0!==e.csrfToken&&null!==e.csrfToken&&this._setCsrfHeader()};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(jqOAuth.prototype,"data",{get:function(){var e=localStorage.getItem(this.options.tokenName);if(null!=e){var t=JSON.parse(e);return{access_token:t.access_token,refresh_token:t.refresh_token}}return null},set:function(e){null!==e.access_token&&void 0!==e.access_token&&null!==e.refresh_token&&void 0!==e.refresh_token?localStorage.setItem(this.options.tokenName,JSON.stringify(e)):console.log("access & refresh token required")}}),jqOAuth.prototype.getAccessToken=function(){return this.data.access_token},jqOAuth.prototype.getRefreshToken=function(){return this.data.refresh_token},jqOAuth.prototype.hasAccessToken=function(){return null!==this.data&&null!==this.data.access_token},jqOAuth.prototype.logout=function(){this._removeStorage(),this._deactivateInterceptor(),this._removeAjaxHeader("Authorization"),this._fireEvent("logout")},jqOAuth.prototype.login=function(e,t){this.setAccessToken(e,t),this._activateInterceptor(),this._fireEvent("login")},jqOAuth.prototype.setAccessToken=function(e,t){this.data={access_token:e,refresh_token:t},this._setAuthorizationHeader()},jqOAuth.prototype.setCsrfToken=function(e){this.options.csrfToken=e,this._setCsrfHeader()},jqOAuth.prototype._activateInterceptor=function(){this.intercept=!0},jqOAuth.prototype._addToBuffer=function(e,t){this.buffer.push({deferred:t,settings:e})},jqOAuth.prototype._clearBuffer=function(){this.buffer=[]},jqOAuth.prototype._deactivateInterceptor=function(){this.intercept=!1},jqOAuth.prototype._fireBuffer=function(){for(var e=[],t=this,i=0,n=this.buffer.length;i<n;i++){var o=this.buffer[i].settings;o.refreshRetry=!0,o.headers.Authorization=$.ajaxSettings.headers.Authorization;var r=new $.Deferred;e.push(r),o.context={originalPromise:this.buffer[i].deferred,retryDeferred:r},$.ajax(o).then((function(e){this.originalPromise.resolve(e),this.retryDeferred.resolve()}),(function(e){this.originalPromise.reject(e),401===e.status?this.retryDeferred.reject():this.retryDeferred.resolve()}))}this._clearBuffer(),$.when.apply($,e).then((function(){t._setRefreshingFlag(!1)})).fail((function(){t._setRefreshingFlag(!1),t.logout()}))},jqOAuth.prototype._fireEvent=function(e){if(this._hasEvent(e))return this.options.events[e]()},jqOAuth.prototype._hasEvent=function(e){return void 0!==this.options.events[e]&&"function"==typeof this.options.events[e]},jqOAuth.prototype._hasStoredData=function(){return null!==this.user},jqOAuth.prototype._isAjaxHeadersInitialized=function(){return void 0!==$.ajaxSettings.headers},jqOAuth.prototype._removeAjaxHeader=function(e){if(!this._isAjaxHeadersInitialized())return!0;$.ajaxSettings.headers[e]=void 0},jqOAuth.prototype._removeAllAjaxHeaders=function(){this._removeAjaxHeader("Authorization"),this._removeAjaxHeader("X-CSRF-Token")},jqOAuth.prototype._removeStorage=function(){localStorage.removeItem(this.options.tokenName)},jqOAuth.prototype._resetOptions=function(){this.options={bufferInterval:25,bufferWaitLimit:500,csrfToken:null,events:{},tokenName:"jquery.oauth"},this._removeAllAjaxHeaders()},jqOAuth.prototype._setAjaxHeader=function(e,t){this._isAjaxHeadersInitialized()||($.ajaxSettings.headers={}),$.ajaxSettings.headers[e]=t},jqOAuth.prototype._setAuthorizationHeader=function(){this._setAjaxHeader("Authorization","Bearer "+this.data.access_token)},jqOAuth.prototype._setCsrfHeader=function(){this._setAjaxHeader("X-CSRF-Token",this.options.csrfToken)},jqOAuth.prototype._setRefreshingFlag=function(e){this.refreshing=e},jqOAuth.prototype._setupInterceptor=function(){var e=this;$.ajaxPrefilter((function(t,i,n){if(!0!==t.refreshRetry){var o=$.Deferred();return e.currentRequests.push(t.url),n.always((function(){e.currentRequests.splice($.inArray(t.url,e.currentRequests),1)})),n.done(o.resolve),n.fail((function(){var i=Array.prototype.slice.call(arguments);e.intercept&&401===n.status&&e._hasEvent("tokenExpiration")?(e._addToBuffer(t,o),e.refreshing||(e._setRefreshingFlag(!0),e._fireEvent("tokenExpiration").done((function(){var t=0;e.interval=setInterval((function(){t+=e.options.bufferInterval,(0===e.currentRequests.length||t>=e.options.bufferWaitLimit)&&(clearInterval(e.interval),e._fireBuffer())}),e.options.bufferInterval)})).fail((function(){e.logout()})))):o.rejectWith(n,i)})),o.promise(n)}}))},bizagi.jqxhrList=function(){var e=this;return e._bufferRendering=[],e._intercept=!1,{intercept:e._intercept,add:function(t){t.id&&t.source&&t.url&&t.req&&e._bufferRendering.push(t)},delete:function(t){e._bufferRendering=e._bufferRendering.filter((function(e){return e.id!==t}))},abortAll:function(t){$.each(e._bufferRendering,(function(e,i){i.source===t&&i.req.abort()}))}}}(),$.ajaxPrefilter((function(e,t,i){if(bizagi.jqxhrList.intercept&&e.interceptor&&e.interceptor.intercept){var n=Math.guid();bizagi.jqxhrList.add({id:n,source:e.interceptor.source,url:e.url,req:i}),i.always((function(){bizagi.jqxhrList.delete(n)}))}}));var bizagiConfig=bizagiConfig||{};function isQueueBusy(e){return void 0===bizagi.services.ajax.queues[e.queue]?(bizagi.services.ajax.queues[e.queue]=!1,!1):bizagi.services.ajax.queues[e.queue]}function useQueue(e){bizagi.services.ajax.queues[e.queue]=!0}function freeQueue(e){bizagi.services.ajax.queues[e.queue]=!1}function waitForQueue(e){return bizagi.util.sleepUntil((function(){return!isQueueBusy(e)}))}function validateQueueOptions(e){return!!bizagi.util.isEmpty(e.queue)||waitForQueue(e).then((function(){return useQueue(e),!0}))}bizagi=void 0!==bizagi?bizagi:{},bizagi.services=void 0!==bizagi.services?bizagi.services:{},bizagi.services.ajax=void 0!==bizagi.services.ajax?bizagi.services.ajax:{},bizagi.log=bizagi.log||new Function,bizagi.assert=bizagi.assert||new Function,bizagi.services.ajax.useAbsolutePath="undefined"!=typeof BIZAGI_USE_ABSOLUTE_PATH&&BIZAGI_USE_ABSOLUTE_PATH,bizagi.services.ajax.pathToBase=bizagi.services.ajax.useAbsolutePath?bizagi.loader.getLocationPrefix():"undefined"!=typeof BIZAGI_PATH_TO_BASE?BIZAGI_PATH_TO_BASE:"",bizagi.services.ajax.loginPage=bizagi.services.ajax.pathToBase||"default.htm",bizagi.services.ajax.logoutPage="logout.html",bizagi.services.ajax.errorPage=bizagi.services.ajax.pathToBase+"error.html",bizagi.services.ajax.logEnabled=!0,bizagi.services.ajax.logSuccess=!0,bizagi.services.ajax.logSubmits=!0,bizagi.services.ajax.logFail=!0,bizagi.services.ajax.queues={},bizagi.services.ajax.batch={},bizagi.services.ajax.batchCount=0,bizagi.services.ajax.batchTimer=100,bizagi.services.ajax.batchTimeoutInstance=null,bizagiConfig.proxyPrefix=bizagiConfig.proxyPrefix?bizagiConfig.proxyPrefix:"undefined"!=typeof BIZAGI_PROXY_PREFIX?BIZAGI_PROXY_PREFIX:"",bizagi.services.ajax.mobileGeneral={},bizagi.services.ajax.mobileResponse={},bizagi.services.ajax.mobileRequest={},bizagi.services.ajax.mobileQueryStringParameters={},bizagi.services.ajax.mobileHttpQueue=[],bizagi.services.ajax.mobileHttpErrorsQueue=[],bizagi.services.batchRequest=new batchRequest({endPoint:bizagiConfig.proxyPrefix+"Api/Batch"}),bizagi.services.redirectToLoginPage=function(){try{var e="string"==typeof bizagi.services.ajax.loginPage?bizagi.services.ajax.loginPage:BIZAGI_PATH_TO_BASE;sessionStorage.setItem("currentRedirectUrl",window.location.href),sessionStorage.removeItem("bizagiAuthentication"),"true"!=localStorage.getItem("clientLog")&&(window.location=e)}catch(e){bizagi.services.ajax.loginPage()}},bizagi.services.redirectToLogoutPage=function(){window.parent&&window.parent.bizagi&&window.location.href!=window.parent.location.href&&window.top.location.reload(),window.location=bizagi.services.ajax.logoutPage+"?userIdentity="+sessionStorage.getItem("userIdentity")+"&rnd="+bizagi.util.randomNumber()+"&post_logout_redirect_uri="+bizagiConfig.applicationUrl};var originalAjaxPrototype=$.ajax;function getMessageFromResultObject(e){return((e.code&&"UNKNOWN_ERROR"!=e.code?e.status+": ":"")+(e.message?""+e.message:"")).substring(0,2e3)}$.ajax=function(e,t){t?t.rnd=bizagi.util.randomNumber():e.rnd=bizagi.util.randomNumber();var i=[e=e,t=t];return"object"===_typeof(e)&&(t=e),void 0!==bizagi.isMobile&&bizagi.isMobile()&&(t&&t.data&&(bizagi.services.ajax.mobileQueryStringParameters=t.data),navigator&&(bizagi.services.ajax.mobileRequest.userAgent=navigator.userAgent),configHeaders&&(bizagi.services.ajax.mobileRequest.configHeaders=configHeaders),sessionStorage&&(bizagi.services.ajax.mobileRequest.host=sessionStorage.bizBasePath,bizagi.services.ajax.mobileRequest.bizVersion=sessionStorage.bizVersion,bizagi.services.ajax.mobileRequest.userIdentity=sessionStorage.userIdentity)),$.when(validateQueueOptions(t)).then((function(){return originalAjaxPrototype.apply(this,i)})).always((function(){bizagi.util.isEmpty(t.queue)||freeQueue(t)}))},$.ajaxTransport("json",(function(e,t,i){if(bizagi.override.enableBatchRequest&&e.batchRequest)return{send:function(t,i){e.headers=t},abort:function(){}}})),$.ajaxTransport("+binary",(function(e,t,i){if(window.FormData&&(e.dataType&&"binary"==e.dataType||e.data&&(window.ArrayBuffer&&e.data instanceof ArrayBuffer||window.Blob&&e.data instanceof Blob)))return{send:function(t,i){var n=new XMLHttpRequest,o=e.url,r=e.type,a=e.async||!0,s=e.responseType||"blob",l=e.data||null,u=e.username||null,c=e.password||null;for(var h in n.addEventListener("load",(function(){var t={};t[e.dataType]=n.response,i(n.status,n.statusText,t,n.getAllResponseHeaders())})),n.open(r,o,a,u,c),t)n.setRequestHeader(h,t[h]);n.responseType=s,"blob"!==n.responseType&&"arraybuffer"!==n.responseType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.onerror=function(e){var t={};t[e.dataType]=n.response,i(n.status,n.statusText,t,n.getAllResponseHeaders())},n.send(l)},abort:function(){i.abort()}}})),$.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.javascript=!1)})),$.ajaxPrefilter((function(e,t,i){if(e=e||{},bizagi.override.enableBatchRequest&&e.batchRequest&&bizagi.services.batchRequest){var n=$.Deferred();n.promise(i),bizagi.services.batchRequest.add(e,t,n,i)}})),$.ajaxPrefilter("*",(function(e,t,i){"function"==typeof bizagi.getXSRFToken&&null!=bizagi.getXSRFToken()&&-1==e.url.indexOf("tmpl.html")&&i.setRequestHeader("X-BZXSRF-TOKEN",bizagi.getXSRFToken());var n=void 0!==e.rpcEnabled?e.rpcEnabled:bizagi.services.ajax.rpcEnabled;if(e.triggerBatch||!n){var o="";o=0==e.url.indexOf("http")?e.url:bizagi.util.isCordovaSupported()&&bizagi.util.isiOSDevice()?loader.getPathUrl(e.url):bizagi.services.ajax.pathToBase+e.url,e.url=o,"json"!=e.dataType||e.cache||(e.cache=!1),bizagi.services.ajax.logEnabled&&(bizagi.services.ajax.logSubmits&&-1==o.indexOf("tmpl")&&-1==o.indexOf("resources.json")&&bizagi.log("Sending data to "+o,e.data,"success"),1==e.crossDomain&&(e.xhrFields={withCredentials:!0})),i.done((function(e){if(bizagi.services.ajax.logSuccess&&-1==o.indexOf("tmpl")&&-1==o.indexOf("resources.json")&&bizagi.log(o+" succeded",e,"success"),bizagi.menuSecurity&&!bizagi.isMobileDevice())try{bizagi.injector.get("sessionTimeOutService").keepSessionOpen(!0)}catch(e){}})).fail((function(t,i,n){if(0===t.status||!bizagi.util.isConnected()){var r=t,a=e&&e.url?e.url:"",s=bizagi.localization.getResource("workportal-general-error-connection","There was a problem connecting to the network. Check your connection and try again."),l={errorType:"NetworkError",message:s};r.responseText=JSON.stringify({error:l,message:s,type:"error"}),bizagi.util.isRenderingUrlAllowed(a)&&(bizagi.services.ajax.renderTimeout=bizagi.services.ajax.renderTimeout||null,clearTimeout(bizagi.services.ajax.renderTimeout),bizagi.services.ajax.renderTimeout=setTimeout((function(){bizagi.services.ajax.renderTimeout=null,bizagi.util.showNotification({text:s,type:"error"}),console.log("There was a problem connecting to the network",a)}),250))}bizagi.log("Sent data to"+o,e.data,"error"),bizagi.services.ajax.logFail&&("object"==_typeof(n)&&"SyntaxError"===n.name?bizagi.log(o+" failed - syntax error",arguments[0].responseText,"error"):bizagi.log(o+" failed",n,"error"))}))}})),bizagi.services.ajax.parseJSON=function(e){var t={};e=(e=e||"{}").replace(/(\r\n|\n|\r)/gm,"");try{t=$.parseJSON(e)}catch(i){try{t=$.parseJSON(e.replace(/\x1d/g,"."))}catch(n){t.type="error",t.code=i.errorCode,t.message=e,t.message.toUpperCase().indexOf("401 - UNAUTHORIZED")>0&&(t.http_status_code=401)}}if(t.type&&"error"==t.type||t.status&&"error"==t.status||t.http_status_code&&401==t.http_status_code){if("AUTH_ERROR"==t.code||"AUTHENTICATION_ERROR"==t.code||"AUTHENTICATION_ERROR"==t.message||401==t.http_status_code)bizagi.iframeCommunicator&&bizagi.iframeCommunicator.trigger("authentication-error"),bizagi.services.redirectToLoginPage();else if("FED_AUTHENTICATION_ERROR"==t.code)"string"==typeof bizagi.services.ajax.loginPage?(sessionStorage.setItem("FED_AUTHENTICATION_ERROR",!0),window.location=t.message):bizagi.services.ajax.loginPage();else if("AUTHENTICATION_USER_NOT_FOUND"==t.code)window.location=bizagi.services.ajax.errorPage+"?message="+t.message+"&type="+t.type;else if(t.http_status_code&&401==t.http_status_code){var i=t.code?t.code:t.error?t.error:"AuthenticationError",n=t.message?t.message:t.error_description?t.error_description:"Authentication Configuration Error";window.location=bizagi.services.ajax.errorPage+"?message="+n+"&type="+i}"licenseError"==t.code&&(window.location=bizagi.services.ajax.errorPage+"?message="+t.message+"&type="+t.type),jQuery.error(getMessageFromResultObject(t))}else"Unauthorized"==t.status&&jQuery.error(getMessageFromResultObject(t));return localStorage.setItem("clientLog","false"),t};var configHeaders={},configAuthorization=location.search.match(/sitesEl=([^&]*)/)?"Bearer "+location.search.match(/sitesEl=([^&]*)/)[0].split("=")[1]:"",configValXSRF=bizagi.getXSRFToken();function clearInformationAjaxforMobile(){bizagi.services.ajax.mobileGeneral={},bizagi.services.ajax.mobileResponse={},bizagi.services.ajax.mobileRequest={},bizagi.services.ajax.mobileQueryStringParameters={}}function getAjaxSizeJsonObjectInMegaBytes(e){return(new TextEncoder).encode(JSON.stringify(e)).length/1024/1024}function saveMobileRequestResponse(){if(bizagi.util.isMobileErrorTracesEnabled()&&((void 0===bizagi.services.ajax.mobileGeneral.requestURL||!bizagi.services.ajax.mobileGeneral.requestURL.toString().toLocaleLowerCase().includes("api/errorlogs/import"))&&bizagi.services.ajax.mobileRequest.hasOwnProperty("configHeaders")&&bizagi.isMobile())){var e=getAjaxSizeJsonObjectInMegaBytes(bizagi.services.ajax.mobileRequest),t=getAjaxSizeJsonObjectInMegaBytes(bizagi.services.ajax.mobileResponse),i=getAjaxSizeJsonObjectInMegaBytes(bizagi.services.ajax.mobileQueryStringParameters),n={general:bizagi.services.ajax.mobileGeneral,request:e<1?bizagi.services.ajax.mobileRequest:void 0,response:t<2?bizagi.services.ajax.mobileResponse:void 0,queryStringParameters:i<.3?bizagi.services.ajax.mobileQueryStringParameters:void 0};bizagi.services.ajax.mobileHttpQueue.length>=5&&bizagi.services.ajax.mobileHttpQueue.shift(),bizagi.services.ajax.mobileHttpQueue.push(n),n&&n.general&&200!=n.general.statusCode&&("undefined"!=typeof bizagiWorkportal&&void 0!==bizagiWorkportal.deviceFactory&&void 0!==bizagiWorkportal.deviceFactory.workportal&&void 0!==bizagiWorkportal.deviceFactory.workportal.dataService?bizagiWorkportal.deviceFactory.workportal.dataService.addDiagnosticsError(n,"HTTP_NETWORK_ERROR","bizagi.services.ajax.js",688):bizagi.services.ajax.mobileHttpErrorsQueue.push(n))}}function configureMobileRequestTraces(e){void 0!==bizagi.isMobile&&bizagi.isMobile()&&e&&(bizagi.services.ajax.mobileGeneral.statusCode=e.status,bizagi.services.ajax.mobileGeneral.statusCodeText=e.status+" "+e.statusText,bizagi.services.ajax.mobileResponse.headers=e.getAllResponseHeaders(),bizagi.services.ajax.mobileResponse.responseText=e.responseText,saveMobileRequestResponse(),clearInformationAjaxforMobile())}function configureBeforeRequestMethodDefinition(e,t){t.avoidLoader||"json"!=t.dataType||t.batchRequest||(e._loading=!0,bizagi&&bizagi.loading&&bizagi.loading.start()),void 0!==bizagi.isMobile&&bizagi.isMobile()&&t&&(bizagi.services.ajax.mobileGeneral.requestURL=t.url,bizagi.services.ajax.mobileGeneral.requestMethod=t.type)}configAuthorization&&(configHeaders.Authorization=configAuthorization),configValXSRF&&(configHeaders["X-BZXSRF-TOKEN"]=configValXSRF),$.ajaxSetup({headers:configHeaders,converters:{"text json":bizagi.services.ajax.parseJSON},beforeSend:configureBeforeRequestMethodDefinition,complete:function(e){if(e._loading&&bizagi&&bizagi.loading&&bizagi.loading.stop(),401===e.status){if(e.responseJSON&&"implicitPrincipalInjection"===e.responseJSON.validationMethod)return;bizagi.services.redirectToLoginPage()}else 503===e.status&&"undefined"==typeof cordova&&bizagiConfig.maintenanceWindows.startValidated(e,e.responseText);configureMobileRequestTraces(e)}}),bizagi.enableOauth=function(){if(void 0!==jqOAuth&&bizagi.isOAuth2Enabled()){$.ajaxSetup({converters:{"text json":function(e){var t={};if("string"!=typeof(e=e||"{}"))return e;e=e.replace(/(\r\n|\n|\r)/gm,"");try{t=$.parseJSON(e)}catch(i){try{t=$.parseJSON(e.replace(/\x1d/g,"."))}catch(n){t.type="error",t.code=i.errorCode,t.message=e}}if(t.type&&"error"==t.type||t.status&&"error"==t.status){var i=(t.code&&"UNKNOWN_ERROR"!=t.code?t.code+": ":"")+(t.message?""+t.message:"");jQuery.error(i)}return localStorage.setItem("clientLog","false"),t}},beforeSend:configureBeforeRequestMethodDefinition,complete:function(e){e._loading&&bizagi&&bizagi.loading&&bizagi.loading.stop(),401===e.status&&e.responseJSON&&"implicitPrincipalInjection"===e.responseJSON.validationMethod||configureMobileRequestTraces(e)}});var e={client_id:"2a80addc628db6f12788ed842f873260066c9d6c",client_secret:"672b11ff612225ff018b87252d8d3a1116ecc574",redirect_uri:"bz:oauth:2.0:server:mobiletitlebarbrowser"},t=btoa(e.client_id+":"+e.client_secret);bizagi.authentication=bizagi.authentication||{},bizagi.authentication.oauth=new jqOAuth({events:{logout:function(){},login:function(){},tokenExpiration:function(){var e=bizagi.getNativeComponent();if(bizagi.util.isNativePluginSupported()){var i=$.Deferred();return bizagiapp.setAccessToken(bizagi.authentication.oauth.getAccessToken(),bizagi.authentication.oauth.getRefreshToken(),e,(function(e){var t=jQuery.parseJSON(e);bizagi.authentication.oauth.setAccessToken(t.accessToken,t.refreshToken),i.resolve()}),(function(e){i.reject()})),i.promise()}return $.ajax({type:"POST",url:BIZAGI_PROXY_PREFIX+"oauth2/server/token",headers:{Authorization:"Basic "+t},data:{grant_type:"refresh_token",scope:"login api",refresh_token:bizagi.authentication.oauth.getRefreshToken()}}).then((function(e){bizagi.authentication.oauth.setAccessToken(e.access_token,e.refresh_token)}))}}}),bizagi.authentication.resetToken=function(e,t){this.oauth.setAccessToken(e,t),bizagi.util.isNativePluginSupported()&&bizagiapp.setAccessToken(e,t)}}},bizagi.enableOauth(),void 0!==jQuery.browser&&jQuery.browser.msie&&window.XDomainRequest&&(7==document.documentMode||8==document.documentMode||9==document.documentMode)&&(jQuery.support.cors=!0),$.Class.extend("bizagi.services.service",{},{init:function(){},getServerResourceDictionary:function(){var e="";void 0!==bizagiConfig&&bizagiConfig.proxyPrefix?e=bizagiConfig.proxyPrefix:"undefined"!=typeof BIZAGI_PROXY_PREFIX&&(e=BIZAGI_PROXY_PREFIX);var t="undefined"==typeof BIZAGI_LANGUAGE?bizagi.language:BIZAGI_LANGUAGE;return $.ajax({url:e+"Rest/Multilanguage/Client?cultureName="+t+"&version="+bizagi.loader.version,rpcEnabled:!1,cache:!0,dataType:"json",async:!0})},getResourceDictionary:function(e){return $.ajax({url:e,rpcEnabled:!1,dataType:"json",async:!0})}}),$.Class.extend("bizagi.templates.services.service",{customTemplateFile:bizagi.loader.getResource("tmpl","bizagi.overrides."+bizagi.detectDevice()+".custom.templates"),cachedTemplates:{},customTemplates:{}},{init:function(e){this.localization=e,this.cssRegex=/{{css "(.+)"}}/g,this.loadingFileDeferred={}},loadCustomTemplates:function(){var e=this,t=new $.Deferred;return $.when(this.getTemplateFile(this.Class.customTemplateFile)).done((function(i){var n=$("<div />").html(i),o=$("script",n);$.each(o,(function(t,i){i=$(i),e.Class.customTemplates[i.attr("id")]=i.html()})),t.resolve()})),t.promise()},getTemplate:function(e){var t=!1;if(e=(e=e.replace(/([^#]*#)([^#]*#)([^#]*)/g,"$1$3")).replace(/([a-zA-Z_\/.-=]*)#([a-zA-Z_\/.-]*)\?(build=[a-zA-Z0-9.-]*)/g,"$1?$3#$2"),bizagi.enableCustomizations){var i=this.getHash(e);this.Class.customTemplates[i]&&(t=!0)}return t||"release"!==bizagi.loader.environment?this.internalGetTemplate(e).pipe((function(t){return $.template("#"+e,t)})):this.getTemplateForRelease(e).pipe((function(t){return $.template("#"+e,t)}))},getTemplateWidget:function(e){var t=!1;if(e=(e=e.replace(/([^#]*#)([^#]*#)([^#]*)/g,"$1$3")).replace(/([a-zA-Z_\/.-=]*)#([a-zA-Z_\/.-]*)\?(build=[a-zA-Z0-9.-]*)/g,"$1?$3#$2"),bizagi.enableCustomizations){var i=this.getHash(e);this.Class.customTemplates[i]&&(t=!0)}return t||"release"!==bizagi.loader.environment?this.internalGetTemplate(e).pipe((function(t){return $.templates("#"+e,t)})):this.getTemplateForRelease(e).pipe((function(t){return $.templates("#"+e,t)}))},getTemplateWebpart:function(e){return e=(e=e.replace(/([^#]*#)([^#]*#)([^#]*)/g,"$1$3")).replace(/([a-zA-Z_\/.-=]*)#([a-zA-Z_\/.-]*)\?(build=[a-zA-Z0-9.-]*)/g,"$1?$3#$2"),this.internalGetTemplate(e).pipe((function(t){return $.template("#"+e,t)}))},getTemplateForRelease:function(e){var t,i,n=this,o=$.Deferred();return n.containsHash(e)?(t=n.getUrlWithoutHashes(e),i=n.getHash(e)):(t=e,i=""),n.Class.cachedTemplates[t]?o.resolve(n.processAndReturnTemplate(t,i)):$.when(n.loadTemplateFileForRelease(t)).done((function(){o.resolve(n.processAndReturnTemplate(t,i))})),o.promise()},loadTemplateFileForRelease:function(e){var t=this,i=$.Deferred();return t.Class.cachedTemplates[e]?t.Class.cachedTemplates[e]:t.loadingFileDeferred[e]?($.when(t.loadingFileDeferred[e]).done((function(){i.resolve(t.Class.cachedTemplates[e])})),i.promise()):(t.loadingFileDeferred[e]=$.Deferred(),$.when($.ajax({url:e,dataType:"text"}),t.localization.ready()).done((function(n){var o,r,a;for(o in n||i.reject(""),"string"!=typeof n&&(n=JSON.parse(n[0])),t.Class.cachedTemplates[e]=n,n)n.hasOwnProperty(o)&&(r=n[o],a=(a=t.localization.translate(r)).replace(t.cssRegex,""),o.indexOf("jsrender")>=0?(delete t.Class.cachedTemplates[e][o],o=o.substring(0,o.indexOf("jsrender")-1),t.Class.cachedTemplates[e][o]=r,$.templates("#"+o,a)):$.template("#"+o,a),t.Class.cachedTemplates[e][o]=t.Class.cachedTemplates[o]=a);t.loadingFileDeferred[e].resolve(),i.resolve(n)})),i.promise())},processAndReturnTemplate:function(e,t){var i=this.Class.cachedTemplates[e][t];if(!i)throw"template "+i+"doesn't exist";return i},internalGetTemplate:function(e){var t=this,i=new $.Deferred,n=this.Class.cachedTemplates[e];if(n)i.resolve(n);else if(t.containsHash(e)){var o=t.getUrlWithoutHashes(e),r=t.getHash(e);if(t.Class.customTemplates[r])return i.resolve(t.Class.customTemplates[r]),i.promise();$.when(t.getTemplatePart(o,r)).done((function(n){t.Class.cachedTemplates[e]=n,i.resolve(n)}))}else $.when(t.getTemplateFile(e)).done((function(e){i.resolve(e)}));return i.promise()},getTemplatePart:function(e,t){var i=this,n=new $.Deferred;return $.when(i.loadingTemplatePartExecution).done((function(){i.loadingTemplatePart=!0,i.loadingTemplatePartExecution=new $.Deferred,$.when(i.getTemplateFile(e)).done((function(o){var r=$("<div />").html(o),a=$("#"+t,r);bizagi.assert(a.length>0,"No template part ("+t+") found in content for:"+e),o=a.html(),i.loadingTemplatePartExecution.resolve(),i.loadingTemplatePart=!0,n.resolve(o)}))})),n.promise()},getTemplateFile:function(e){var t=this,i=$.Deferred(),n=this.Class.cachedTemplates[e];return n||(t.loadingFileDeferred[e]?($.when(t.loadingFileDeferred[e]).done((function(){i.resolve(t.Class.cachedTemplates[e])})),i.promise()):(t.loadingFileDeferred[e]=$.Deferred(),$.when($.ajax({url:e,dataType:"text"}),t.localization.ready()).pipe((function(n){if(!n)return"";if("string"!=typeof n&&(n=n[0]),void 0===n)return"";var o=t.localization.translate(n),r=o.match(t.cssRegex);r&&$.each(r,(function(e,i){var n=i.replace(t.cssRegex,"$1");bizagi.loader.loadFile({src:n,type:"css",environment:"debug"})})),o=o.replace(t.cssRegex,"");var a=$("<div />").html(o);$("script",a).each((function(e,t){var i=$(t).attr("id"),n=$(t).attr("type");if($.templates&&n&&n.indexOf("jsrender")>=0)$.templates("#"+i,$(t).html());else try{$.template("#"+i,$(t).html())}catch(e){console.log(e,a)}})),t.Class.cachedTemplates[e]="string"==typeof o?o:o[0].outerHTML,t.loadingFileDeferred[e].resolve(),i.resolve(o)})),i.promise()))},containsHash:function(e){return-1!=e.indexOf("#")},getHash:function(e){return e.substring(e.indexOf("#")+1,e.length)},getUrlWithoutHashes:function(e){return e.substring(0,e.indexOf("#"))}});var originalEmptyMethod=jQuery.fn.empty;jQuery.fn.empty=function(){var e=originalEmptyMethod.apply(this,arguments),t=$(this);return t.hasClass("ui-bizagi-component-loading")&&t.loadingMessage(),e},jQuery.fn.fastEmpty=function(){this.children().remove();var e=$(this);e.hasClass("ui-bizagi-component-loading")&&e.loadingMessage()};var originalPrependMethod=jQuery.fn.prepend;jQuery.fn.prepend=function(){var e=$(this);if(0==e.length)return jQuery.fn;e.data("loading")&&(originalEmptyMethod.apply(this),e.data("loading",!1));var t=originalPrependMethod.apply(this,arguments);return"body"!=e[0].tagName.toLowerCase()&&e.find(".ui-bizagi-component-adjustable").length>0&&$(document).triggerHandler("resizeLayout"),e.removeData("loading"),t};var originalAppendMethod=jQuery.fn.append;jQuery.fn.append=function(){var element=$(this);if(0==element.length)return jQuery.fn;eval(element.attr("data-loading"))&&(originalEmptyMethod.apply(this),element.data("loading",!1));var result=originalAppendMethod.apply(this,arguments),tagName=element[0].tagName||"";return"body"!=tagName.toLowerCase()&&element.find(".ui-bizagi-component-adjustable").length>0&&$(document).triggerHandler("resizeLayout"),element.removeData("loading"),result};var originalTmplMethod=jQuery.tmpl;for(key in jQuery.tmpl=function(){var e=originalTmplMethod.apply(this,arguments);return arguments[2]&&arguments[2].fast?e:($(".ui-bizagi-component",e).each((function(e,t){for(var i=$(t).attr("component"),n=$(t).parent();0==n[0].tagName.length;)n=n.parent();n.attr("data-bizagi-component",i),$(t).detach()})),$("[data-loading=true]",e).length>0&&$("[data-loading=true]",e).loadingMessage(),$("[data-loading=true]",e).addClass("ui-bizagi-component-loading"),e.jquery&&$.each(e,(function(e,t){t.outerHTML&&$(t).is("[data-loading=true]")&&($(t).loadingMessage(),$(t).addClass("ui-bizagi-component-loading"))})),$("[data-adjustable=true]",e).addClass("ui-bizagi-component-adjustable"),e.jquery&&$.each(e,(function(e,t){t.outerHTML&&$(t).is("[data-adjustable=true]")&&$(t).addClass("ui-bizagi-component-adjustable")})),e)},originalTmplMethod)jQuery.tmpl[key]=originalTmplMethod[key];function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$.extend(jQuery.tmpl.tag,{component:{open:'_ = _.concat(\'<div class="ui-bizagi-component" component="$1"></div>\');'},loading:{open:"_ = _.concat('data-loading=\"true\"');"},adjustable:{open:"_ = _.concat('data-adjustable=\"true\"');"},resource:{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode(bizagi.localization.getResource($1a)));}"},log:{open:"console.log($1, $2);"},children:{open:"_ = _.concat('{{children}}');"},control:{open:"_ = _.concat('{{control}}');"},files:{open:"_ = _.concat('{{files}}');"},result:{open:"_ = _.concat('{{result}}');"},element:{open:"_ = _.concat('{{element $1}}');"},for:{_default:{$2:"var i=1;i<=1;i++"},open:"for ($2){",close:"};"},actions:{open:"_ = _.concat('{{actions}}');"}}),bizagi=void 0!==bizagi?bizagi:{},bizagi.util=void 0!==bizagi.util?bizagi.util:{},$.Class.extend("bizagi.l10n",{templateRegex:/%{([\w-{}$.]+)(?:\s'([^']+)')?}/,templateSubExpressionRegex:/[$]{([\w.]+)}/g},{init:function(e){this.resourceLocationDefinition=e,this.service=new bizagi.services.service,this.dictionaries={},this.dictionary={},this.readyDeferred=null,this.enableCustomizations=void 0!==bizagi.enableCustomizations?bizagi.enableCustomizations:"undefined"==typeof BIZAGI_ENABLE_CUSTOMIZATIONS||BIZAGI_ENABLE_CUSTOMIZATIONS,this.defaultDatetimeInfo="undefined"!=typeof BIZAGI_DEFAULT_DATETIME_INFO&&BIZAGI_DEFAULT_DATETIME_INFO,this.useLocalAndServerResources="undefined"!=typeof BIZAGI_ENABLE_LOCAL_AND_SERVER_RESOURCES&&BIZAGI_ENABLE_LOCAL_AND_SERVER_RESOURCES,this.observableElement=$("<div></div>"),!0===this.useLocalAndServerResources&&"undefined"!=typeof PouchDB&&(this.resourcesDatabase=new PouchDB("Resources",{auto_compaction:!0}))},setLanguage:function(e){var t=this;t.language=e,t.readyDeferred=new $.Deferred,$.when(t._getDictionary(e)).done((function(e){if(t.dictionary=e,t.isRTL=e.datePickerRegional.isRTL,t.defaultDatetimeInfo&&(t.defaultDatetimeInfo.shortDateFormat&&t.overrideSpecificResource("dateFormat",t.defaultDatetimeInfo.shortDateFormat),t.defaultDatetimeInfo.timeFormat&&t.overrideSpecificResource("timeFormat",t.defaultDatetimeInfo.timeFormat)),t.enableCustomizations){if(t.resourceLocationDefinition.custom){var i="undefined"!=typeof BIZAGI_LOCAL_RESOURCES&&BIZAGI_LOCAL_RESOURCES?t.service.getResourceDictionary:t.service.getServerResourceDictionary;i===t.service.getServerResourceDictionary&&BIZAGI_LANGUAGE===t.language?t.service.getResourceDictionary(t.resourceLocationDefinition.custom).done((function(e){t.overrideResources(e),t.readyDeferred.resolve(),t.observableElement.trigger("setLanguage",t.dictionary)})):i(t.resourceLocationDefinition.custom).done((function(e){t.enableCustomizations&&t.overrideResources(e),t.readyDeferred.resolve(),t.observableElement.trigger("setLanguage",t.dictionary)}))}}else t.readyDeferred.resolve(),t.observableElement.trigger("setLanguage",t.dictionary)}))},loadLanguageExtension:function(e){var t=this;t.language=e,t.readyDeferred=new $.Deferred;var i=t.getLanguageFromCulture(e);return void 0===t.resourceLocationDefinition[i.toLowerCase()]&&(i="default"),t.service.getResourceDictionary(t.resourceLocationDefinition[i.toLowerCase()]).done((function(i){t.dictionaries[e.toLowerCase()]=t.dictionaries[e.toLowerCase()]||{},$.extend(t.dictionaries[e.toLowerCase()],i),t.readyDeferred.resolve()})).fail((function(t,i,n){alert("Can't load localization file for language: "+e+", "+i+" - "+n)})),t.readyDeferred.promise()},getLanguageFromCulture:function(e){return-1!==e.indexOf("-")?e.split("-")[0]:e},resolvei18n:function(e){if(!e)return"";if("string"==typeof e)return e;if(this.language&&"default"!=this.language){var t=e.i18n.default.languages[this.language];if(t)return t}return e.i18n.default},getResource:function(e,t){return null==this.dictionary[e]?void 0!==t?t:e:this.dictionary[e]},getResourceByElementsNumber:function(e,t){return t>1?this.getResource(e+"-plural"):this.getResource(e+"-singular")},setResource:function(e,t){e&&""!==e&&(this.dictionary[e]=t)},getMessageFromLocalization:function(e,t,i,n){var o="";"error"===t?n?o=e:(e=e.toLowerCase(),(o=bizagi.localization.getResource("workportal-general-error-"+e))==="workportal-general-error-"+e&&"workportal-general-error-generic"===bizagi.localization.getResource("workportal-general-error-generic")&&(o="The request could not be completed.")):o=bizagi.localization.getResource(e);if(i)for(var r=0;r<i.length;r++)o=o.replace("{"+r+"}",i[r]);return o},translate:function(e){var t;do{if(t=this.Class.templateRegex.exec(e)){var i=t[1],n=t.length>=2?t[2]:void 0;if(-1==i.indexOf("$"))e=e.replaceAll(t[0],this.getResource(i,n));else{var o=this.Class.templateSubExpressionRegex.exec(i);if(!o){o=/[$]{([\w.]+)}/g.exec(i)}e=e.replaceAll(t[0],"{{resource "+o[1]+"}}")}}}while(null!=t);return e},overrideResources:function(e){var t,i=e[bizagiConfig.defaultLanguage||"default"];for(var n in i)if(t=this.dictionary[n],bizagi.util.isObject(t))for(var o in i[n])t[o]=i[n][o];else this.dictionary[n]=i[n]},overrideSpecificResource:function(e,t){e=e||"nodefined",t=t||"",this.dictionary[e]=t},_getDictionary:function(e){var t=this,i=new $.Deferred;if(e=e.toLowerCase(),null!=t.dictionaries[e])return t.dictionaries[e];var n=t._getUserLanguage(e);return t.useLocalAndServerResources?t._getLocalAndServerResourcesDictionary(n):(("undefined"!=typeof BIZAGI_LOCAL_RESOURCES&&BIZAGI_LOCAL_RESOURCES?t.service.getResourceDictionary:t.service.getServerResourceDictionary)(t.resourceLocationDefinition[n]).done((function(n){t.dictionaries[e]=n,i.resolve(n)})).fail((function(t,n,o){if(void 0===t.responseJSON&&0===t.status&&"error"===t.statusText&&""===o)console.log("Can't load localization file for language: "+e+", "+n+" - "+o);else if(503===t.status){i.resolve({})}else alert("Can't load localization file for language: "+e+", "+n+" - "+o)})),i.promise())},_getLocalAndServerResourcesDictionary:function(e){var t=new $.Deferred,i=this,n=i.resourceLocationDefinition[e],o=new $.Deferred,r=new $.Deferred;return i.service.getServerResourceDictionary(n).then((function(t){o.resolve(t),i._saveServerResourcesInDatabase(e,t)})).fail((function(t,n,r){$.when(i._getServerResourcesFromDatabase(e)).then((function(e){o.resolve(e),console.log("Server resources were loaded from DB")})).fail((function(){o.resolve({})})),console.error("Can't load localization file (server) for language: "+e,n,r)})),i.service.getResourceDictionary(n).then((function(e){r.resolve(e)})).fail((function(t,i,n){r.resolve({}),console.error("Can't load localization file (local resources) for language: "+e,i,n)})),$.when(r,o).then((function(n,o){var r={};$.extend(r,n,o),i.dictionaries[e]=r,t.resolve(r)})).fail((function(){console.error("Error loading mixed resources",arguments),t.reject()})),t.promise()},_getServerResourcesFromDatabase:function(e){var t=this.resourcesDatabase;if(null==t)return{};var i=new $.Deferred,n=e+"-"+(bizagiConfig&&bizagiConfig.applicationUrl?bizagiConfig.applicationUrl:"default");return $.when(bizagi.util.db.getDocument(t,n)).then((function(e){i.resolve(e.dictionary)})).fail((function(){i.resolve({}),console.error("Can't load localization resources from DB for language: ",arguments)})),i.promise()},_saveServerResourcesInDatabase:function(e,t){var i=this.resourcesDatabase;if(null!=i){var n=e+"-"+(bizagiConfig&&bizagiConfig.applicationUrl?bizagiConfig.applicationUrl:"default");$.when(bizagi.util.db.getDocument(i,n)).then((function(e){e.dictionary=t,bizagi.util.db.saveDocument(i,e)})).fail((function(){var o={language:e,dictionary:t,_id:n};bizagi.util.db.saveDocument(i,o)}))}},_getUserLanguage:function(e){var t=e;if(t.length>0&&null==this.resourceLocationDefinition[t]){var i=t.split("-");t=i[0]}return 0!=t.length&&null!=this.resourceLocationDefinition[t]||(bizagi.log("No resource definition location has been given for language :"+e+", loading default language"),t="default"),t},ready:function(){return this.readyDeferred.promise()}}),bizagi=void 0!==bizagi?bizagi:{},bizagi.util=void 0!==bizagi.util?bizagi.util:{},bizagi.context=void 0!==bizagi.context?bizagi.context:{},bizagi.util.smartphone=void 0!==bizagi.util.smartphone?bizagi.util.smartphone:{},bizagi.util.tablet=void 0!==bizagi.util.tablet?bizagi.util.tablet:{};var DEVICES={};function printf(e){var t,i=Array.prototype.slice.call(arguments,1);return e.replace(/(%[disv])/g,(function(e,n){if(void 0!==(t=i.shift()))switch(n.charCodeAt(1)){case 100:return+t;case 105:return Math.round(+t);case 115:return String(t);case 118:return t}return n}))}function bizagiQueue(){var e,t,i=[];this.length=function(){return i.length},this.add=function(n){if(!t)return t=!0,e=void 0,i.push({callbacks:[n]});i[i.length-1].callbacks.push(n)},this.addParallel=function(n){if(!e)return e=!0,t=void 0,i.push({callbacks:[n]});i[i.length-1].callbacks.push(n)},this.execute=function(){for(var e=new $.Deferred,t=e.promise(),n=i.length,o=0;o<n;o++)t=t.pipe((function(){var e=i.shift();return $.when.apply($,$.map(e.callbacks,(function(e){if("function"==typeof e){var t=$.Deferred();return $.when(e()).done((function(){t.resolve()})).fail((function(){t.reject()})),t.promise()}return e})))}));return e.resolve(),t=t.done((function(){i=[]}))}}DEVICES[DEVICES.desktop=0]="desktop",DEVICES[DEVICES.smartphone=1]="smartphone",DEVICES[DEVICES.tablet=2]="tablet",bizagi.deviceEnum=DEVICES,function(e){e.fn.callInside=function(t,i){if("iframe"!=e(this)[0].tagName.toLowerCase())return null;if(null==e(this)[0].contentWindow)return null;try{e(this)[0].contentWindow.args=i}catch(e){return null}return e.browser.msie?e(this)[0].contentWindow.execScript("args = (this.window.args)?this.window.args:{}; insideFunction = "+t.toString()+"; insideFunction(args)"):e.browser.webkit||e.browser.mozilla?e(this)[0].contentWindow.eval("args = window.args;insideFunction = "+t.toString()+"; insideFunction(args)"):void 0}}(jQuery),function(e){e.fn.callInsidePopup=function(t,i){var n=this;e(document).ready((function(){try{e(n)[0].args=i}catch(e){return null}return e.browser.msie?e(n)[0].execScript("args = (this.window.args)?this.window.args:{}; insideFunction = "+t.toString()+"; insideFunction(args)"):e.browser.webkit||e.browser.mozilla?e(n)[0].eval("args = window.args;insideFunction = "+t.toString()+"; insideFunction(args)"):void 0}))}}(jQuery),jQuery,!!CSSStyleDeclaration.prototype.getPropertyValue||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,t,i){if(this.setAttribute(e,t),""!=(i=void 0!==i?i:"")){var n=new RegExp(RegExp.escape(e)+"\\s*:\\s*"+RegExp.escape(t)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(n,e+": "+t+" !"+i+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){return new RegExp(RegExp.escape(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi").test(this.cssText)?"important":""}),RegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},jQuery.fn.style=function(e,t,i){if(void 0!==this.get(0)){var n=this.get(0).style;if(void 0===e)return n;if(void 0===t)return n.getPropertyValue(e);i=void 0!==i?i:"",n.setProperty?n.setProperty(e,t,i):n.setAttribute(e,t,i)}},jQuery,jQuery.nl2br=function(e){return e.replace(/(\r\n|\n\r|\r|\n|\\r\\n|\\n\\r|\\r|\\n)/g,"<br>")},jQuery,jQuery.br2nl=function(e){return e.replace(/\r\n|\r|\n/g,"\r")},function(e){jQuery.controlValueIsChanged=function(t){var i=t,n=i.properties,o=i.getValue(),r=n.originalValue,a=!0;return!!e.forceCollectData||("grid"!=t.properties.type||"pending"!=t.ready().state())&&(["combo","queryCombo","list","queryList","radio","queryRadio","queryState"].includes(n.type)||/^cascadingcombo$/i.test(n.type)?(o&&void 0!==o.length&&(o=o[0]),r&&void 0!==r.length&&(r=r[0]),o=o&&o.id?o.id:o,a=(r=r&&r.id?r.id:r)!=o):a="boolean"==n.type||"queryBoolean"==n.type||"queryCheck"==n.type?bizagi.util.parseBoolean(r)!=bizagi.util.parseBoolean(o):"searchNumber"==n.type?!!o:"date"===n.type?new Date(r).getTime()!==new Date(o).getTime():r!==o,a)}}(jQuery),function(e){jQuery.getMaxZindex=function(){var t=e("*"),i=1;return e.each(t,(function(t,n){var o=parseInt(e(n).css("z-index"));o>i&&(i=o+1)})),i}}(jQuery),function(e){jQuery.equalizeHeights=function(t){var i=new Array;e(t).each((function(){e(this).css("min-height","0"),e(this).css("max-height","none"),e(this).css("height","auto"),i.push(e(this).outerHeight())}));var n=Math.max.apply(Math,i);e(t).each((function(){e(this).css("height",n+"px")}))}}(jQuery),bizagi.util.autoSave=function(){var e=$.Deferred();return"desktop"!==bizagi.util.detectDevice()?$(document).data("auto-save")?$(document).trigger("save-form",[e]):e.resolve():$._data($(document)[0],"events")["save-form"]&&$._data($(document)[0],"events")["save-form"].length>0?$(document).trigger("save-form",[e]):e.resolve(),e.promise()},bizagi.util.anonymizedUserInformation={id:"00000000-0000-0000-0000-000000000000",name:"",username:"",email:"",domain:"",picture:"",isAnonymized:!0},bizagi.util.datepickerResource=[],bizagi.util.datepickerResource.en={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.es={closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.ar={closeText:"",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.cs={closeText:"Zavt",prevText:"&#x3C;Dve",nextText:"Pozdji&#x3E;",currentText:"Nyn",monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"],monthNamesShort:["led","no","be","dub","kv","er","vc","srp","z","j","lis","pro"],dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],dayNamesMin:["ne","po","t","st","t","p","so"],weekHeader:"Td",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.de={closeText:"Schlieen",prevText:"&#x3C;Zurck",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.fr={closeText:"Fermer",prevText:"Prcdent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.ja={closeText:"",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"",monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},bizagi.util.datepickerResource.nl={closeText:"Sluiten",prevText:"",nextText:"",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.pt={closeText:"Fechar",prevText:"Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.ru={closeText:"",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.zh={closeText:"",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},bizagi.util.liveProcessesEvents=bizagi.util.liveProcessesEvents||{},bizagi.util.liveProcessesEvents.newLiveProcess=document.createEvent("Event"),bizagi.util.liveProcessesEvents.newLiveProcess.initEvent("new-live-process",!0,!0),bizagi.util.liveProcessesEvents.routeEvents=document.createEvent("Event"),bizagi.util.liveProcessesEvents.routeEvents.initEvent("parent-route-events",!0,!0),bizagi.util.liveProcessesEvents.routeEvents.route="/",bizagi.util.liveProcessesEvents.saveEvent=document.createEvent("Event"),bizagi.util.liveProcessesEvents.saveEvent.initEvent("save-live",!0,!0),bizagi.util.liveProcessesEvents.saveEvent.lastWidget="",bizagi.util.liveProcessesEvents.saveEvent.nextWidget="",bizagi.util.liveSave=function(e){bizagi.util.liveProcessesEvents.saveEvent.nextWidget=e;var t=$.Deferred(),i=0;try{i=$(document).find("iframe")[0].contentWindow.location.href.indexOf("quickprocess")}catch(e){i=-1}return(e!==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROFLY||e===bizagi.util.liveProcessesEvents.saveEvent.lastWidget)&&$(document).find("iframe").length>0&&i>0?(bizagi.util.liveProcessesEvents.saveEvent.saveLivePromise=t,document.dispatchEvent(bizagi.util.liveProcessesEvents.saveEvent)):t.resolve(),$.when(t).done((function(){bizagi.util.liveProcessesEvents.saveEvent.lastWidget=e})),t.promise()},bizagi.util.md5=function(e){var t=t||function(e,t){var i={},n=i.lib={},o=function(){},r=n.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(i[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<i.length)for(o=0;o<e;o+=4)t[n+o>>>2]=i[o>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new a.init(i,t)}}),s=i.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(i,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(i,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,o=i.sigBytes,r=this.blockSize,s=o/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,o=e.min(4*t,o),t){for(var l=0;l<t;l+=r)this._doProcessBlock(n,l);l=n.splice(0,t),i.sigBytes-=o}return new a.init(l,o)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=h.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new d.HMAC.init(e,i).finalize(t)}}});var d=i.algo={};return i}(Math);return function(e){function i(e,t,i,n,o,r,a){return((e=e+(t&i|~t&n)+o+a)<<r|e>>>32-r)+t}function n(e,t,i,n,o,r,a){return((e=e+(t&n|i&~n)+o+a)<<r|e>>>32-r)+t}function o(e,t,i,n,o,r,a){return((e=e+(t^i^n)+o+a)<<r|e>>>32-r)+t}function r(e,t,i,n,o,r,a){return((e=e+(i^(t|~n))+o+a)<<r|e>>>32-r)+t}for(var a=t,s=(u=a.lib).WordArray,l=u.Hasher,u=a.algo,c=[],h=0;64>h;h++)c[h]=4294967296*e.abs(e.sin(h+1))|0;u=u.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;16>a;a++){var s=e[l=t+a];e[l]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var l=e[t+0],u=(s=e[t+1],e[t+2]),h=e[t+3],d=e[t+4],p=e[t+5],f=e[t+6],g=e[t+7],m=e[t+8],v=e[t+9],b=e[t+10],y=e[t+11],_=e[t+12],w=e[t+13],x=e[t+14],z=e[t+15],S=i(S=a[0],k=a[1],C=a[2],T=a[3],l,7,c[0]),T=i(T,S,k,C,s,12,c[1]),C=i(C,T,S,k,u,17,c[2]),k=i(k,C,T,S,h,22,c[3]);S=i(S,k,C,T,d,7,c[4]),T=i(T,S,k,C,p,12,c[5]),C=i(C,T,S,k,f,17,c[6]),k=i(k,C,T,S,g,22,c[7]),S=i(S,k,C,T,m,7,c[8]),T=i(T,S,k,C,v,12,c[9]),C=i(C,T,S,k,b,17,c[10]),k=i(k,C,T,S,y,22,c[11]),S=i(S,k,C,T,_,7,c[12]),T=i(T,S,k,C,w,12,c[13]),C=i(C,T,S,k,x,17,c[14]),S=n(S,k=i(k,C,T,S,z,22,c[15]),C,T,s,5,c[16]),T=n(T,S,k,C,f,9,c[17]),C=n(C,T,S,k,y,14,c[18]),k=n(k,C,T,S,l,20,c[19]),S=n(S,k,C,T,p,5,c[20]),T=n(T,S,k,C,b,9,c[21]),C=n(C,T,S,k,z,14,c[22]),k=n(k,C,T,S,d,20,c[23]),S=n(S,k,C,T,v,5,c[24]),T=n(T,S,k,C,x,9,c[25]),C=n(C,T,S,k,h,14,c[26]),k=n(k,C,T,S,m,20,c[27]),S=n(S,k,C,T,w,5,c[28]),T=n(T,S,k,C,u,9,c[29]),C=n(C,T,S,k,g,14,c[30]),S=o(S,k=n(k,C,T,S,_,20,c[31]),C,T,p,4,c[32]),T=o(T,S,k,C,m,11,c[33]),C=o(C,T,S,k,y,16,c[34]),k=o(k,C,T,S,x,23,c[35]),S=o(S,k,C,T,s,4,c[36]),T=o(T,S,k,C,d,11,c[37]),C=o(C,T,S,k,g,16,c[38]),k=o(k,C,T,S,b,23,c[39]),S=o(S,k,C,T,w,4,c[40]),T=o(T,S,k,C,l,11,c[41]),C=o(C,T,S,k,h,16,c[42]),k=o(k,C,T,S,f,23,c[43]),S=o(S,k,C,T,v,4,c[44]),T=o(T,S,k,C,_,11,c[45]),C=o(C,T,S,k,z,16,c[46]),S=r(S,k=o(k,C,T,S,u,23,c[47]),C,T,l,6,c[48]),T=r(T,S,k,C,g,10,c[49]),C=r(C,T,S,k,x,15,c[50]),k=r(k,C,T,S,p,21,c[51]),S=r(S,k,C,T,_,6,c[52]),T=r(T,S,k,C,h,10,c[53]),C=r(C,T,S,k,b,15,c[54]),k=r(k,C,T,S,s,21,c[55]),S=r(S,k,C,T,m,6,c[56]),T=r(T,S,k,C,z,10,c[57]),C=r(C,T,S,k,f,15,c[58]),k=r(k,C,T,S,w,21,c[59]),S=r(S,k,C,T,d,6,c[60]),T=r(T,S,k,C,y,10,c[61]),C=r(C,T,S,k,u,15,c[62]),k=r(k,C,T,S,v,21,c[63]);a[0]=a[0]+S|0,a[1]=a[1]+k|0,a[2]=a[2]+C|0,a[3]=a[3]+T|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;i[o>>>5]|=128<<24-o%32;var r=e.floor(n/4294967296);for(i[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i[14+(o+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),i=(t=this._hash).words,n=0;4>n;n++)o=i[n],i[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=l._createHelper(u),a.HmacMD5=l._createHmacHelper(u)}(Math),t.MD5(e).toString()},bizagi.util.multiReplace=function(e,t){for(var i in t=t||{}){var n=new RegExp(i,"g");e=e.replace(n,t[i])}return e},bizagi.util.replaceAll=function(e,t,i){return bizagi.replaceAll(e,t,i)},bizagi.util.replaceAllGlobalRegExp=function(e,t,i){var n=e,o=new RegExp(t,"g");return(n=n.replace(o,i)).toString()},String.prototype.replaceAll=function(e,t){return bizagi.util.replaceAll(this,e,t)},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.startsWith=function(e){return this.slice(0,e.length)==e},String.prototype.getInitials=function(){var e="";if(0===this.length)e='<svg  class="bz-icon bz-icon-24 bz-icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-user-deactivated"></use></svg>';else{try{for(var t=this.replace(/  +/g," ").split(" "),i=0;i<t.length&&2!=(e+=t[i][0]||"").length;i+=1);}catch(e){}e=e.toUpperCase()}return e},Math.sign=Math.sign||function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},bizagi.clone=function(e){if(null!=e)return null==e?null:JSON.parse(JSON.encode(e))},bizagi.measureString=function(e,t){var i=$("<span/>").appendTo("body");i.text(e),t&&i.css("font-size",t);var n=i.width();return i.detach(),n},bizagi.util.trim=function(e){return void 0===e||null==e?e:e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)},String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)},bizagi.util.isIE7=function(){return bizagi.util.isIE()&&7==document.documentMode},bizagi.util.isIE8=function(){return bizagi.util.isIE()&&8==document.documentMode},bizagi.util.isIE9=function(){return bizagi.util.isIE()&&9==document.documentMode},bizagi.util.isIE10=function(){return bizagi.util.isIE()&&10==document.documentMode},bizagi.util.isIE11=function(){return!!navigator.userAgent.match(/Trident\/7.0/)&&!navigator.userAgent.match(/MSIE/i)},bizagi.util.isIE11OrLower=function(){return bizagi.util.isIE11()||bizagi.util.isIE10()||bizagi.util.isIE9()||bizagi.util.isIE8()||bizagi.util.isIE7()},bizagi.util.isIE10OrLower=function(){return bizagi.util.isIE10()||bizagi.util.isIE9()||bizagi.util.isIE8()||bizagi.util.isIE7()},bizagi.util.isEdge=function(){return!!/Edge\/*./i.test(navigator.userAgent)},bizagi.util.isIE=function(){return navigator.appName.indexOf("Internet Explorer")>0||!!navigator.userAgent.match(/Trident/)},bizagi.util.objectValues=function(e){return bizagi.util.isIE()?Object.keys(e).map((function(t){return e[t]})):Object.values(e)},bizagi.util.getIEVersion=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE"),i=0;return t>0?i=parseInt(e.substring(t+5,e.indexOf(".",t))):(navigator.userAgent.match(/Trident/)||window.navigator.userAgent.indexOf("Edge")>-1)&&(i=11),i},bizagi.util.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},bizagi.util.isFirefox=function(e){return/Firefox/.test(navigator.userAgent)&&(void 0===e||e<=(i=navigator.userAgent,n=i.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(n[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(i)||[])[1]||""}:"Chrome"===n[1]&&null!=(t=i.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:t[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=i.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})).version);var t,i,n},bizagi.util.getBrowser=function(){var e="undetected";return bizagi.util.isChrome()?e="chrome":bizagi.util.isFirefox()?e="firefox":bizagi.util.isEdge()?e="edge":bizagi.util.isIE11()?e="ie11":bizagi.util.isIE10()&&(e="ie10"),e},bizagi.util.emptyNavigatorInfo=function(){bizagi.navigator&&bizagi.navigator.info&&(bizagi.navigator.info={})},$(document).ready((function(){if($("html").addClass("browser-"+bizagi.util.getBrowser()).addClass("device-"+bizagi.detectDevice()),bizagi.language){var e=bizagi.language.split("-");e&&e.length>0&&$("html").addClass("language-"+e[0])}})),bizagi.util.setIphoneXOverrides=function(){bizagi.util.isNativePluginSupported()&&void 0!==bizagiapp.isIphoneX&&bizagiapp.isIphoneX((function(e){if("true"===e)$("head").append('<style type="text/css" id="iphoneXStyle"></style>'),$("#iphoneXStyle").text(".bz-menu-home .bz-menu-carousel .bz-menu-carousel-seat{padding:0 16px 16px}.bz-home-header .km-navbar{padding:35px 16px 5px}#menuHome .bz-home-header .km-navbar{padding:30px 3px 0}#menuHome .km-navbar .km-rightitem{font-size:19px;right:.4em;top:32px}#menuHome .km-navbar .km-leftitem{font-size:24px;left:0;top:25px}#taskFeed .km-navbar .km-rightitem{font-size:19px;top:25px;right:0}#taskFeed .km-navbar .km-leftitem{font-size:24px;top:20px;left:0}#homePortal #menuHome .km-view-title .km-buttongroup{margin-left:0;top:2px}.bz-render-header,.search-container{padding-top:25px}#activity-search,.search-container .bz-wp-mu-button-search{padding-top:40px}#content-newCase-drawer{padding-top:25px}#menuHome{background:#EBEDF1!important}.km-flat .km-content{background-color:#fff} .k-loading-mask{top:0!important}");else if(bizagi.util.isiOSDevice()){$("head").append('<style type="text/css" id="iphoneStyle"></style>');$("#iphoneStyle").text("#homePortal .bz-home-header > div{padding-top:.8em}")}}))},bizagi.util.isString=function(e){return"[object String]"===Object.prototype.toString.apply(e)},bizagi.util.isObject=function(e){return"[object Object]"===Object.prototype.toString.apply(e)},bizagi.util.isArray=function(e){return Array.isArray(e)},bizagi.util.isNull=function(e){return"[object Null]"===Object.prototype.toString.apply(e)},bizagi.util.isBoolean=function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},bizagi.util.getInternetExplorerVersion=function(){return bizagi.util.isIE()?Number(document.documentMode):-1},bizagi.util.detectDevice=function(){return bizagi.detectDevice()},bizagi.util.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},bizagi.util.isGUID=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},bizagi.util.mustImplement=function(e){try{console.log("Not implemented exception: "+e)}catch(e){}},bizagi.util.encodeXpath=function(e){return bizagi.util.isEmpty(e)||void 0===e.replaceAll?"":e.replaceAll(".","_").replaceAll("=","_").replaceAll("[","_").replaceAll("]","_")},bizagi.util.parseBoolean=function(e){return void 0===e?null:null===e?null:""===e?null:!0===e||1===e||"true"===e.toString()||"1"===e||("true"===e.toString().toLowerCase()||(null===e||!1!==e)&&0!==e&&"false"!==e.toString()&&"0"!==e&&("false"!==e.toString().toLowerCase()&&null))},bizagi.util.isEmpty=function(e){return 0!==e&&(null==e||""===e||("Array"==typeof e?0==e.length:"[object Array]"===Object.prototype.toString.apply(e)?0===e.length:"[object Object]"===Object.prototype.toString.apply(e)&&(!!$.isEmptyObject(e)||bizagi.util.isEmptyCombo(e))))},bizagi.util.isEmptyCombo=function(e){if("[object Object]"===Object.prototype.toString.apply(e)){var t,i=!1,n=!1;for(t in e)if(e.hasOwnProperty(t)&&("id"===t?i=!0:"value"===t?!0:n=!0,n))return!1;if(i)return""===e.id}},bizagi.util.decodeURI=function(e){for(var t,i=!1,n=e=e||"";!i;)try{if(t=decodeURI(n),bizagi.util.hasNonVisibleChars(t)){n=e;break}t==n?i=!0:n=t}catch(e){i=!0}return n},bizagi.util.hasNonVisibleChars=function(e){for(var t,i=(e=e||"").length,n=0,o=!1;n<i;)if((t=e.charCodeAt(n++))<32||t>126){o=!0;break}return o},bizagi.util.percent2Number=function(e){return Number(String(e).replace("%",""))},bizagi.util.isObjectEmpty=function(e){return!(e.length>0)},bizagi.util.isMapEmpty=function(e){if(1==e.length&&0==e[0].length)return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},bizagi.util.replaceSelector=function(e,t,i){var n=$(t,e);n.length>0&&(n.append(i),n.children().unwrap())},bizagi.util.hasScroll=function(e,t){e.length&&(e=e[0]);var i=!!e[t="vertical"===t?"scrollTop":"scrollLeft"];return i||(e[t]=1,i=!!e[t],e[t]=0),i},bizagi.util.identicalObjects=function(e,t){if(_typeof(e)!==_typeof(t))return!1;if("function"==typeof e)return e.toString()===t.toString();if(e instanceof Object&&t instanceof Object){if(bizagi.util.countProps(e)!==bizagi.util.countProps(t))return!1;for(k in e)if(!bizagi.util.identicalObjects(e[k],t[k]))return!1;return!0}return e===t},bizagi.util.countProps=function(e){var t=0;for(k in e)e.hasOwnProperty(k)&&t++;return t},bizagi.util.isScrolledIntoView=function(e,t){if(null==e)return!1;var i=(t=t||$(window)).scrollTop(),n=$(e).offset().top;return n+$(e).height()<=i+$(t).height()&&n>=i},bizagi.util.centerElementIntoScroll=function(e,t){if(null==e)return!1;var i=(t=t||$(window)).scrollTop(),n=$(e).offset().top,o=$(e).height(),r=i+(n>0?n+o:n-o);t.scrollTop(r)},bizagi.util.encodeHtml=function(e){return null==e?"":"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},bizagi.util.decodeHtmlEntities=function(e){return null==e?"":"string"==typeof e?e.replace(/&apos;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,"'"):e},bizagi.util.getHashParams=function(){return window.location.hash.substring(1).split("#")},bizagi.util.loadFile=function(e){var t=new $.Deferred,i=e&&e.src?e.src:e,n=e&&e.type?e.type:null;return bizagi.loader.loadFile({src:i,type:n}).then((function(){t.resolve()})),t.promise()},bizagi.util.initWebpart=function(e,t){var i=new $.Deferred;return t=t||bizagi.detectDevice(),e.initialized?i.resolve():e.initializing?$.when(e.loadingDeferred.promise()).done((function(){i.resolve()})):(e.loadingDeferred=new $.Deferred,e.initializing=!0,bizagi.loader.initWebpart(e,t,(function(){e.loadingDeferred.resolve(),e.initializing=!1,i.resolve()}))),i.promise()},bizagi.util.getQueryString=function(e){for(var t={},i=((e=e||window.location.href).indexOf("?")>0?e.substring(e.indexOf("?")+1):"").split("&"),n=i.length-1;n>=0;n--){var o=i[n].indexOf("=");if(-1!=o){var r=i[n].substring(0,o),a=i[n].substring(o+1);t[r]=unescape(a)}}return t},bizagi.util.extendQueryString=function(e,t){var i=e.indexOf("?")>0?e.substring(0,e.indexOf("?")):e,n=bizagi.util.getQueryString(e),o=$.extend({},n,t);return i+"?"+$.param(o)},bizagi.util.getStackTrace=function(){var e=[],t=!1;try{i.dont.exist+=0}catch(a){if(a.stack){for(var i=0,n=(o=a.stack.split("\n")).length;i<n;i++)o[i].match(/^\s*[A-Za-z0-9\-_\$]+\(/)&&e.push(o[i]);e.shift(),t=!0}else if(window.opera&&a.message){var o;for(i=0,n=(o=a.message.split("\n")).length;i<n;i++)if(o[i].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var r=o[i];o[i+1]&&(r+=" at "+o[i+1],i++),e.push(r)}e.shift(),t=!0}}if(!t)for(var a=arguments.callee.caller;a;){var s=a.toString(),l=s.substring(s.indexOf("function")+8,s.indexOf(""))||"anonymous";e.push(l),a=a.caller}return e},bizagi.util.highLightElement=function(e){e.addClass("ui-highlight-control"),$.when(setTimeout((function(){e.addClass("ui-highlight-off-control")}),450)).done(setTimeout((function(){e.removeClass("ui-highlight-control ui-highlight-off-control")}),800))},bizagi.util.autoScrollBottom=function(e){try{var t;t=e[0].scrollHeight,e.scrollTop(t)}catch(e){}},bizagi.util.autoScrollInterval={init:!1},bizagi.util.autoScroll=function(e,t,i,n){var o=!1;clearInterval(bizagi.util.autoScrollInterval[n]),bizagi.util.autoScrollInterval[n]=0,bizagi.util.autoScrollInterval.init=!0,$("body").addClass("autoscroll"),$("body.autoscroll").mousemove((function(r){r.pageY<t?o||(o=!0,bizagi.util.autoScrollTopInterval(e,"autoscroll",n)):r.pageY>i?o||(o=!0,bizagi.util.autoScrollBottomInterval(e,"autoscroll",n)):(clearInterval(bizagi.util.autoScrollInterval[n]),o=!1)}))},bizagi.util.autoScrollTopInterval=function(e,t,i){clearInterval(bizagi.util.autoScrollInterval[i]),t&&$("body").addClass(t),0==e.scrollTop()?clearInterval(bizagi.util.autoScrollInterval[i]):(clearInterval(bizagi.util.autoScrollInterval[i]),bizagi.util.autoScrollInterval[i]=setInterval((function(){e.scrollTop()>0?e.scrollTop(e.scrollTop()-40):clearInterval(bizagi.util.autoScrollInterval[i])}),100))},bizagi.util.autoScrollBottomInterval=function(e,t,i){clearInterval(bizagi.util.autoScrollInterval[i]),t&&$("body").addClass(t);var n=$(e)[0].scrollHeight-$(e).innerHeight();e.scrollTop()>=n?clearInterval(bizagi.util.autoScrollInterval[i]):(clearInterval(bizagi.util.autoScrollInterval[i]),bizagi.util.autoScrollInterval[i]=setInterval((function(){bizagi.util.autoScrollBottom($("html")),e.scrollTop()<n?e.scrollTop(e.scrollTop()+40):clearInterval(bizagi.util.autoScrollInterval[i])}),100))},bizagi.util.removeAutoScroll=function(e,t){$("body."+e).unbind("mousemove").removeClass(e),clearInterval(bizagi.util.autoScrollInterval[t]),bizagi.util.autoScrollInterval.init=!1},bizagi.util.getMaxZIndex=function(e){return e=e||$("div,span"),Math.max.apply(null,$(e).map((function(){var e;return isNaN(e=parseInt($(this).css("z-index"),10))?0:e})))},bizagi.showPopup=function(e,t,i){var n=t.width||1024,o=t.height||768,r=$(window).height()/2-o/2,a=$(window).width()/2-n/2,s=window.open(e,"","width="+n+",height="+o+", top="+r+", left="+a+", Menubar=NO, Location=NO, Status=NO, scrollbars=YES");window.BAPopupWindow=s,window.BAPopupCallback=i,window.BACloseWindow=function(e,t){window.BAPopupWindow.close(),window.BAPopupCallback(e,t)}},bizagi.showQuirksModePopup=function(e,t){var i=window.BIZAGI_PATH_TO_BASE+"quirks.html",n=t.width||1024,o=t.height||768,r=$(window).height()/2-o/2,a=$(window).width()/2-n/2,s=window.open(i,"bizagiPopup","width="+n+",height="+o+", top="+r+", left="+a+", Menubar=NO, Location=NO, Status=NO, scrollbars=YES");window.BAQuirksPopupWindow=s,setTimeout((function(){try{s.document.title=t.title}catch(e){}}),50),$(s).callInsidePopup((function(e){var t=e.jQuery,i=e.popupWindow;i.quirksOnLoad=function(){var n=t("body",i.document),o=t("iframe",n);n.removeClass("ui-bizagi-loading-message"),o.show();var r=e.userParams.afterLoad;if(r&&null!=r){var a=t.extend(e.userParams,{popupWindow:i});o.callInside(r,a)}};!function n(){var o=t("body",i.document);o.length>0?o.append("<iframe scrolling='yes' id='innerFrameContent' src='"+e.url+"' style='width: 100%; height: 100%; display:none' frameborder='0' onload='quirksOnLoad();'></iframe>"):setTimeout((function(){n()}),50)}()}),{jQuery:$,userParams:t,popupWindow:s,url:e})},bizagi.resolveResult=function(e){var t;return e.done((function(e){t=e})),t},bizagi.createPopup=function(e){var t=e.name,i=e.onClose,n=e.title?e.title:"",o="boolean"!=typeof e.handleClose||e.handleClose,r=$('<div class="ui-widget-overlay '+t+'-overlay" />'),a=$('<div class="'+t+'-popup  ui-popup-modal"/>').appendTo(r),s=$('<div class="'+t+'-btn-close biz-btn-close"><i class="biz-icon ui-close-btn bz-studio bz-black bz-false_16x16_black"></i></div>').appendTo(a);e.title&&$('<div class="'+t+'-popup-header ui-popup-header" ><h3>'+n+"</h3></div>").appendTo(a);var l=$('<div class="'+t+'-popup-content" />').appendTo(a);a.hide(),e.additionalClass&&a.addClass(e.additionalClass);var u=e.container||"body";r.appendTo($(u,document)),e.center&&(a.css("top",(r.height()-a.height())/2),a.css("left",(r.width()-a.width())/2)),a.show();var c=function(e){r.detach(),i&&i(e)};return o&&s.click(c),{fullPopup:a,overlay:r,content:l,close:function(e){c(e)}}},bizagi.createOkCancelPopup=function(e){e.name="popup-ok-cancel";var t=e.onOk,i=e.onCancel,n=bizagi.createPopup(e),o=$("<div></div>").addClass("container-okcancel-popup"),r=$("<div></div>").addClass("message-okcancel-popup ui-light-bevel-border biz-gradient-v"),a=$("<div></div>").addClass("buttonsContainer-okcancel-popup biz-actions-bar");r.text(e.message),r.appendTo(o);var s=$("<span></span>").addClass("ok-button-okcancel-popup editor-ui-button-actions biz-action-btn biz-btn"),l=$("<span></span>").addClass("cancel-button-okcancel-popup editor-ui-button-actions biz-action-btn biz-btn");s.text(bizagi.localization.getResource("bizagi-editor-okcancel-ok")),l.text(bizagi.localization.getResource("bizagi-editor-okcancel-cancel")),s.appendTo(a),l.appendTo(a),a.appendTo(o),o.appendTo(n.content);var u=function(){n.close(),"function"==typeof t&&t()};s.click(u);var c=function(){n.close(),"function"==typeof i&&i()};return l.click(c),{close:function(){n.close()},ok:function(){u()},cancel:function(){c()}}},bizagi.dialog=function(e){var t=$("<div></div>").addClass("biz-dialog"),i=$("<p></p>");i.text(e.message||""),i.appendTo(t),t.appendTo($("body",document)),t.dialog({title:e.title,modal:!0,buttons:e.buttons,close:function(){t.dialog("destroy")}})},bizagi.closeQuirksModePopup=function(){var e=window.BAQuirksPopupWindow;window.BAQuirksPopupWindow=null;try{e&&e.close()}catch(e){}},bizagi.getStyle=function(e){var t,i=location.href.replace("/default.aspx",""),n=!!e.match(/@/),o=!!e.match(/\*/),r=new RegExp(e.replace("*",""),"g"),a="";if(""==e)return"";var s=function(e){for(var i=0;i<document.styleSheets.length;i++)if(null!=(t=document.styleSheets[i].rules||document.styleSheets[i].cssRules))for(var s=0;s<t.length;s++)if(null!=document.styleSheets[i].href&&(null==document.styleSheets[i].href.match(/less.css/g)||"release"==BIZAGI_ENVIRONMENT)){var l=t[s].cssText?t[s].cssText:"";o?null!=t[s].selectorText&&null!=t[s].selectorText.match(r)&&($.browser.webkit?a+=t[s].cssText.replace(/\(path\)/g,""):$.browser.msie&&"8.0"==$.browser.version?a+=t[s].style.cssText:a+=t[s].cssText.replace(/\(path\)/g,"../../jquery/workportal/css/desktop")):null!=t[s].selectorText&&t[s].selectorText==e&&(a+=t[s].cssText),n&&null!=t[s]&&null!=l&&-1!=l.indexOf("@font-face")&&($.browser.webkit?a+=l.replace(/jquery\/workportal\/css\/desktop\//g,"").replace(/\(path\)/g,""):a+=l.replace(/\(path\)/g,"../../"))}return a};return $.browser.msie?function(e){if("8.0"==$.browser.version)return s(e);for(var n,l=0;l<document.styleSheets.length;l++)if(null!=(t=document.styleSheets[l].cssRules||document.styleSheets[l].rules))for(var u=0;u<t.length;u++)if("release"==BIZAGI_ENVIRONMENT)o&&(null!=t[u].selectorText&&null!=t[u].selectorText.match(r)?a+=t[u].cssText.replace(/\(path\)/g,i+"/jquery/workportal/css/desktop"):null!=t[u].selectorText&&t[u].selectorText==e&&(a+=t[u].cssText.replace(/\(path\)/g,i+"/jquery/workportal/css/desktop")));else if(null!=t[u].href&&null!=t[u].href&&null==t[u].href.match(/less.css/g)){n=t[u].styleSheet.cssRules||[];for(var c=0;c<n.length;c++)o?null==n[c].selectorText&&null==n[c].selectorText||null==n[c].selectorText.match(r)||(a+=n[c].cssText.replace(/\(path\)/g,i+"/jquery/workportal/css/desktop")):null!=n[c].selectorText&&n[c].selectorText==e&&(a+=n[c].cssText.replace(/\(path\)/g,i+"/jquery/workportal/css/desktop"))}return a}(e):s(e)},bizagi.cookie=function(e,t,i){if(arguments.length>1&&"[object Object]"!==String(t)){if(i=$.extend({},i),null==t&&(i.expires=-1),"number"==typeof i.expires){var n=i.expires,o=i.expires=new Date;o.setDate(o.getDate()+n)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var r,a=(i=t||{}).raw?function(e){return e}:decodeURIComponent;return(r=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(r[1]):null},bizagi.util.randomNumber=function(e,t){return e=e||1,t=t||1e7,Math.floor(Math.random()*(t-e+1))+e},bizagi.util.setContext=function(e,t){e=e||{},(t=t||!1)&&(bizagi.context={}),$.each(e,(function(e,t){bizagi.context[e]=t})),bizagi.context.idWorkItem=bizagi.context.idWorkitem},bizagi.util.reloadCSS=function(){var e="?reload="+(new Date).getTime();$('link[rel="stylesheet"]').each((function(){this.href=this.href.replace(/\?.*|$/,e)}))},bizagi.util.setInterval=function(params){var _name=params.name||"default",_call=params.call||function(){},_params=params.params||{},_singleton=params.singleton||!1,_timeOut=params.timeout||5e3,_maxIterations=params.iterations||1e3,_context=params.context||"true;",_killWhenExitContext=!params.hasOwnProperty("killWhenExitContext")||params.killWhenExitContext;bizagi.timeOut=bizagi.timeOut||{},null==bizagi.timeOut[_name]&&(bizagi.timeOut[_name]=[]),_singleton&&null!=bizagi.timeOut[_name]&&(bizagi.timeOut[_name]=[]),bizagi.timeOut[_name].push({name:_name,params:_params,call:_call,singleton:_singleton,timeOut:_timeOut,iterations:0,maxIterations:_maxIterations,context:_context,killWhenExitContext:_killWhenExitContext,itsRunning:!1,timeInit:Math.round((new Date).getTime())});var executeTimeOut=function executeTimeOut(){$.each(bizagi.timeOut,(function(k,v){$.each(v,(function(key,value){var now=Math.round((new Date).getTime()),actualIterations=Math.round((now-value.timeInit)/value.timeOut);if(bizagi.timeOut[value.name][key].iterations=actualIterations,actualIterations<value.maxIterations)if(eval(value.context)){if(!value.itsRunning){if(value.params&&$.browser.msie)var ieFunction=function(){return value.call(value.params)};bizagi.timeOut[value.name][key].pointer=$.browser.msie?setInterval(ieFunction,value.timeOut,"JavaScript"):setInterval(value.call,value.timeOut,value.params),bizagi.timeOut[value.name][key].itsRunning=!0}}else value.killWhenExitContext?(bizagi.timeOut[value.name].splice(key,1),clearTimeout(value.pointer)):(bizagi.timeOut[value.name][key].itsRunning=!1,clearTimeout(value.pointer));else clearTimeout(value.pointer),bizagi.timeOut[value.name].splice(key,1)}))}))};bizagi.timeOutRunning||(bizagi.timeOutRunning=!0,setInterval(executeTimeOut,1e3))},bizagi.util.isDate=function(e){var t,i,n=!1,o=!1,r=!1,a=(e=e||"").toString().split(" ");return t=a[0],(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t)||/^\d{4}\/\d{1,2}\/\d{1,2}$/.test(t)||/^\d{1,2}\/\d{1,2}\/\d{1,2}$/.test(t))&&(n=!0),a.length>1&&(i=a[1],o=!0,3==a.length&&(i=i+" "+a[2]),/^\d{1,2}:\d{2}(:\d{2})?(\s[aApP][mM])?$/.test(i)&&(r=!0)),o?n&&r:n},bizagi.util.unicode2htmlencode=function(e){var t,i=(e=e.replace(/\r\n/g,"\n")).length,n="";for(t=0;t<i;t++)n+="&#x"+e.charCodeAt(t).toString(16)+";";return n},bizagi.util.getHeadElement=function(){var e=document.getElementsByTagName("head")[0],t=document&&document.documentElement;return e||(e=document.createElement("head"),t.insertBefore(e,t.firstChild)),bizagi.util.getHeadElement=function(){return e},e},bizagi.util.loadStyle=function(e,t){var i,n=document.getElementById(t);if(e&&!n){var o=document.createElement("style");o.type="text/css",o.id=t,o.styleSheet?o.styleSheet.cssText=e:(i=document.createTextNode(e),o.childNodes.length?o.firstChild.nodeValue!==i.nodeValue&&o.replaceChild(i,o.firstChild):o.appendChild(i)),bizagi.util.getHeadElement().appendChild(o)}},bizagi.util.loadIconStyle=function(e,t){bizagi.log("bizagi.util.loadIconStyle");var i=document.createElement("style");i.type="text/css";var n=".mtool-item-image-"+t+" { background:url(data:image/png;base64,"+e+"); }";i.innerHTML=n,bizagi.util.getHeadElement().appendChild(i)},bizagi.util.formatDecimalAndMoneyCell=function(e,t){var i,n,o,r,a={decimalSymbol:t.decimalSeparator,digitGroupSymbol:t.groupSeparator,roundToDecimalPlace:t.decimalDigits};for(i=$.extend({symbol:"",decimalSeparator:",",groupSeparator:".",decimalDigits:"2"},t),n=$.extend({colorize:!1,decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0,negativeFormat:"(%s%n)",positiveFormat:"%s%n",roundToDecimalPlace:"2",symbol:""},a),o=0;o<e.columnTitle.length;o++){if("MONEY"==e.columnTitle[o].type.toUpperCase())for(r=0;r<e.rows.length;r++)e.rows[r].fields[o]=bizagi.util.formatMoney(e.rows[r].fields[o],i);if("FLOAT"==e.columnTitle[o].type.toUpperCase()||"REAL"==e.columnTitle[o].type.toUpperCase())for(r=0;r<e.rows.length;r++){var s=bizagi.util.formatDecimal(e.rows[r].fields[o],n);if(!0===bizagi.override.removeTrailingZeros){var l=!0;-1!=s.toString().indexOf(")")&&(l=!1,s=s.replace("(","").replace(")",""));var u=new RegExp("("+BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator+"\\d*?[1-9])0+$","g");s=s.replace(u,"$1"),u=new RegExp("\\"+BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator+"0+$","g"),s=s.replace(u,""),l||(s="("+s+")")}e.rows[r].fields[o]=s}}return e},bizagi.util.formatBoolean=function(e){return 1==bizagi.util.parseBoolean(e)?bizagi.localization.getResource("render-boolean-yes"):0==bizagi.util.parseBoolean(e)?bizagi.localization.getResource("render-boolean-no"):""},bizagi.util.formatInvariantBoolean=function(e){e=e||"",$(".formatBoolean",e).not(".formatted").each((function(e,t){var i=$(t),n=i.html();i.addClass("formatted");try{var o=bizagi.util.formatBoolean(n);i.html(o)}catch(e){i.html(n)}}))},bizagi.util.formatDecimal=function(e,t){var i=$("<i/>").text(e);return i.formatCurrency&&i.formatCurrency(t),i.text()},bizagi.util.formatMonetaryCells=function(e,t){t=t||{symbol:"",decimalSeparator:",",groupSeparator:".",decimalDigits:"2"};for(var i=0;i<e.columnTitle.length;i++)if("MONEY"==e.columnTitle[i].type.toUpperCase())for(var n=0;n<e.rows.length;n++)e.rows[n].fields[i]=bizagi.util.formatMoney(e.rows[n].fields[i],t);return e},bizagi.util.formatMoney=function(e,t){var i="",n="",o="",r="",a="",s=e<0;if(null==e&&(e=""),(e=e.toString()).length>=1){var l=e.indexOf(".");if(l>0)o=(e=bizagi.util.fixDecimalDigits(e,t.decimalDigits)).substring(0,l).replace(/\D/g,"");else{for(var u=0;u<t.decimalDigits;u++)a+="0";o=e.replace(/\D/g,"")}if(e=e.replace(/\D/g,""),r=t.decimalDigits>0?l>0?t.decimalSeparator+e.substring(e.length-t.decimalDigits,e.length):t.decimalSeparator+a:"",o.length>3){var c=0;for(u=o.length-1;u>=0;u--)3==c&&(n+=".",c=0),n+=o[u],c+=1;for(u=n.length-1;u>=0;u--)i+=n[u]}else i=o;if(i=i.replaceAll(".",t.groupSeparator),s)i=bizagi.localization.getResource("numericFormat").negativeFormat.replace("%s",t.symbol).replace("%n",i+r);else i=t.symbol+i+r;return i}return e},bizagi.util.getOnlyNumbersByString=function(e){return e.replace(/\D/g,"")},bizagi.util.fixDecimalDigits=function(e,t){var i,n;if(i=e.indexOf("."),e.substring(0,i),t>(n=e.substring(i+1,e.length)).length)for(var o=n.length;o<t;o++)e+="0";else e=parseFloat(e).toFixed(t);return e},bizagi.util.numberToFixedString=function(e){var t;e&&(Math.abs(e)<1?(t=parseInt(e.toString().split("e-")[1]))&&(e>=0?(e*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+e.toString().substring(2)):(e=Math.abs(e)*Math.pow(10,t-1),e="-"+(e="0."+new Array(t).join("0")+e.toString().substring(2)))):(t=parseInt(e.toString().split("+")[1]))>20&&(t-=20,e/=Math.pow(10,t),e+=new Array(t+1).join("0")));return e},bizagi.util.formatInvariantMoney=function(e,t){e=e||"";var i={symbol:t.symbol,decimalSeparator:t.decimalSeparator||",",groupSeparator:t.groupSeparator||".",decimalDigits:t.decimalDigits||"2"};!1===t.allowDecimals&&(i.decimalDigits="0"),$(".formatMoney",e).not(".formated").each((function(e,t){var n=$(t).html();$(t).addClass("formated");try{var o=parseFloat(n);if(!isNaN(o)){var r=bizagi.util.formatMoney(o,i);$(t).html(r)}}catch(e){$(t).html(n)}}))},bizagi.util.formatInvariantNumber=function(e,t){e=e||"";var i="2";i="0"==t.decimalDigits?"0":t.decimalDigits||"2";var n=bizagi.util.isString(t.groupSeparator)&&t.groupSeparator?t.groupSeparator:".",o={symbol:"",decimalSeparator:t.decimalSeparator||",",groupSeparator:t.groupSeparator||t.thousands?n:"",decimalDigits:i};$(".formatMoney",e).not(".formated").each((function(e,i){var n=$(i).html();$(i).addClass("formated");try{var r=n.match(/[a-zA-Z]/),a=null!=r&&r.length>0?NaN:parseFloat(n);if(!isNaN(a)){var s=bizagi.util.formatMoney(a,o);t.percentage&&(s=s.toString()+"%"),$(i).html(s)}}catch(e){$(i).html(n)}}))},bizagi.util.formatInvariantDate=function(e,t){e=e||"",t=t||"MM/dd/yyyy hh:mm:ss",$(".formatDate",e).not(".formated").each((function(e,i){var n=$(i).html();$(i).addClass("formated");try{var o=new Date(n),r=t;bizagi.util.isValidDate(o)&&(r=bizagi.util.getFormatDate(o,r));var a=bizagi.util.dateFormatter.formatDate(o,r);$(i).html(a)}catch(e){$(i).html(n)}}))},bizagi.util.formatDateFromInvariantStringDate=function(e){if(bizagi.util.isValidDate(e)){var t=bizagi.localization.getResource("dateFormat")+" "+bizagi.localization.getResource("timeFormat"),i=new Date(e);return t=bizagi.util.getFormatDate(i,t),bizagi.util.dateFormatter.formatDate(i,t)}return e||""},bizagi.util.getFormatDate=function(e,t){var i=t,n=e.getHours(),o=e.getMinutes(),r=e.getSeconds(),a=e.getMilliseconds(),s=bizagi.override.hideTimeWhenHourMinutesSecondsAreZero;return 0===n&&0===o&&0===r&&0===a&&s&&(i=bizagi.localization.getResource("dateFormat")),i},bizagi.util.formatValueByDataType=function(e,t){var i=e;switch(t){case"NText":case 23:case"Char":case 14:case"VarChar":case 15:case"Text":case 16:e&&e.length>30&&(i=bizagi.util.replaceLineBreak(e));break;case"Boolean":case 5:case"Binary":case 17:i=bizagi.util.formatBoolean(e);break;case"Int":case 2:case"BigInt":case 1:case"SmallInt":case 3:case"TinyInt":case 4:case"Numeric":case 7:i=null==e?"":e;break;case"Money":case 8:i=bizagi.util.formatMonetaryCell(e);break;case"Float":case 10:case"Real":case 11:case"Decimal":case 6:i=bizagi.util.formatDecimalCell(e);break;case"DateTime":case 12:case"SmallDateTime":case 13:i=bizagi.util.formatDateFromInvariantStringDate(e)}return null==i&&(i=""),i},bizagi.util.isValidDate=function(e){if(void 0!==e&&null!=e){var t=new Date(e);return!isNaN(t.valueOf())}return!1},bizagi.util.monthNames=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),bizagi.util.dayNames=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"),bizagi.util.dateFormatter=new function(){this.LZ=function(e){return(e<0||e>9?"":"0")+e},this.isDate=function(e,t){return 0!=this.getDateFromFormat(e,t)},this.getRelativeTime=function(e,t,i,n){var o=n?new Date(bizagi.moment().tz(bizagi.currentUser.timeZoneName).format()):new Date,r=e instanceof Date?e:kendo.parseDate(e,t),a=o.getTime()-r.getTime(),s=l(a,"year",31536e6,i);return s||(s=l(a,"month",2628e6,i))||(s=l(a,"week",6048e5,i))||(s=l(a,"day",864e5,i))||(s=l(a,"hour",36e5,i))||(s=l(a,"minute",6e4,i))||(i?s=l(0===a?a+1:a,"minute",1,i):(s=l(a,"second",2e3,i))||(s=bizagi.localization.getResource("workportal-relativetime-momentago"))),s;function l(e,t,i,n){var o=(e/i).toFixed(0);if(o>0){if(n)return 1==o?bizagi.localization.getResource("workportal-relativetime-"+t).replace("%s",o):bizagi.localization.getResource("workportal-relativetime-"+t+"s").replace("%s",o);var r=bizagi.localization.getResource("workportal-relativetime-ago");return 1==o?r.replace("%s",bizagi.localization.getResource("workportal-relativetime-"+t).replace("%s",o)):r.replace("%s",bizagi.localization.getResource("workportal-relativetime-"+t+"s").replace("%s",o))}return null}},this.compareDates=function(e,t,i,n){var o=getDateFromFormat(e,t),r=getDateFromFormat(i,n);return 0==o||0==r?-1:o>r?1:0},this.getDifferenceBetweenDates=function(e,t,i){if(!(e instanceof Date&&e instanceof Date))return"one param not is Date";switch(i){case"seconds":return(t.getTime()-e.getTime())/1e3;case"milliseconds":return t.getTime()-e.getTime();default:return"unit is not Defined"}},this.formatDate=function(e,t,i){if(!bizagi.util.isValidDate(e)||0==e)return"";var n=bizagi.util.monthNames,o=bizagi.util.dayNames;t+="";var r,a,s="",l=0,u=e.getFullYear()+"",c=e.getMonth()+1,h=e.getDate(),d=e.getDay(),p=e.getHours(),f=e.getMinutes(),g=e.getSeconds(),m=e.getMilliseconds(),v=new Object;if(bizagi.util.isValidResource("datePickerRegional")&&(i=bizagi.localization.getResource("datePickerRegional")),i){var b=i.monthNames.concat(i.monthNamesShort),y=i.dayNames.concat(i.dayNamesShort);n=n.toString()===b.toString()?n:b,o=o.toString()===y.toString()?o:y}for((u.length<4||"-"===u.charAt(0)&&u.length<5)&&(u=""+(u-0+1900)),v.y=""+u,v.yyyy=u,v.yy=u.substring(2,4),v.M=c,v.MM=this.LZ(c),v.MMM=n[c+11],v.MMMM=n[c-1],v.NNN=n[c+11],v.d=h,v.dd=this.LZ(h),v.ddd=o[d+7],v.dddd=o[d],v.E=o[d+7],v.EE=o[d],v.H=p,v.HH=this.LZ(p),v.tt=p<12?"am":"pm",v.TT=p<12?"AM":"PM",v.h=0==p?12:p>12?p-12:p,v.hh=this.LZ(v.h),v.K=p>11?p-12:p,v.k=p+1,v.KK=this.LZ(v.K),v.kk=this.LZ(v.k),v.a=p>11?"PM":"AM",v.m=f,v.mm=this.LZ(f),v.s=g,v.ss=this.LZ(g),v.FFF=m;l<t.length;){for(r=t.charAt(l),a="";t.charAt(l)==r&&l<t.length;)a+=t.charAt(l++);null!=v[a]?s+=v[a]:s+=a}return s},this.getDateFromFormat=function(e,t,i){var n=bizagi.util.monthNames,o=bizagi.util.dayNames;e+="",t+="";var r,a,s=0,l=0,u=0,c=0,h=new Date,d=h.getYear(),p=h.getMonth()+1,f=1,g=h.getHours(),m=h.getMinutes(),v=h.getSeconds(),b=(h.getMilliseconds(),"");if(bizagi.util.isValidResource("datePickerRegional")&&(i=bizagi.localization.getResource("datePickerRegional")),i){var y=i.monthNames.concat(i.monthNamesShort),_=i.dayNames.concat(i.dayNamesShort);n=n.toString()===y.toString()?n:y,o=o.toString()===_.toString()?o:_}for(;l<t.length;){for(r=t.charAt(l),a="";t.charAt(l)==r&&l<t.length;)a+=t.charAt(l++);if("yyyy"==a||"yy"==a||"y"==a){if("yyyy"==a&&(u=4,c=4),"yy"==a&&(u=2,c=2),"y"==a&&(u=2,c=4),null==(d=C(e,s,u,c)))return 0;s+=d.length,2==d.length&&(d=d>70?d-0+1900:d-0+2e3)}else if("MMMM"==a||"MMM"==a||"NNN"==a){p=0;for(var w=0;w<n.length;w++){var x=n[w];if(e.substring(s,s+x.length).toLowerCase()==x.toLowerCase()&&("MMMM"==a||"MMM"==a||"NNN"==a&&w>11)){(p=w+1)>12&&(p-=12),s+=x.length;break}}if(0==p){if(null==(p=C(e,s,1,2))||p<1||p>12)return 0;s+=p.length}if(p<1||p>12)return 0}else if("dddd"==a||"EE"==a||"E"==a)for(var z=0;z<o.length;z++){var S=o[z];if(e.substring(s,s+S.length).toLowerCase()==S.toLowerCase()){s+=S.length;break}}else if("MM"==a||"M"==a){if(null==(p=C(e,s,1,2))||p<1||p>12)return 0;s+=p.length}else if("dd"==a||"d"==a){if(null==(f=C(e,s,1,2))||f<1||f>31)return 0;s+=f.length}else if("hh"==a||"h"==a){if(null==(g=C(e,s,a.length,2))||g<1||g>12)return 0;s+=g.length}else if("HH"==a||"H"==a){if(null==(g=C(e,s,a.length,2))||g<0||g>23)return 0;s+=g.length}else if("KK"==a||"K"==a){if(null==(g=C(e,s,a.length,2))||g<0||g>11)return 0;s+=g.length}else if("kk"==a||"k"==a){if(null==(g=C(e,s,a.length,2))||g<1||g>24)return 0;s+=g.length,g--}else if("mm"==a||"m"==a){if(null==(m=C(e,s,a.length,2))||m<0||m>59)return 0;s+=m.length}else if("ss"==a||"s"==a){if(null==(v=C(e,s,a.length,2))||v<0||v>59)return 0;s+=v.length}else if("FFF"==a){if(ff=C(e,s,a.length,3),null==ff||ff<0||ff>999)return 0;s+=ff.length}else if("a"==a||"tt"==a){if("am"==e.substring(s,s+2).toLowerCase())b="AM";else{if("pm"!=e.substring(s,s+2).toLowerCase())return 0;b="PM"}s+=2}else{if(e.substring(s,s+a.length)!=a)return 0;s+=a.length}}if(2==p)if(d%4==0&&d%100!=0||d%400==0){if(f>29)return 0}else if(f>28)return 0;return(4==p||6==p||9==p||11==p)&&f>30?0:(g<12&&"PM"==b?g=g-0+12:g>11&&"AM"==b&&(g-=12),new Date(d,p-1,f,g,m,v));function T(e){for(var t=0;t<e.length;t++)if(-1=="1234567890".indexOf(e.charAt(t)))return!1;return!0}function C(e,t,i,n){for(var o=n;o>=i;o--){var r=e.substring(t,t+o);if(r.length<i)return null;if(T(r))return r}return null}},this.parseDate=function(e){for(var t,i=2==arguments.length&&arguments[1],n=new Array("y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d"),o=new Array("M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d"),r=new Array("d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M"),a=new Array(n,i?r:o,i?o:r),s=0;s<a.length;s++)for(var l=window[a[s]],u=0;u<l.length;u++)if(0!=(t=getDateFromFormat(e,l[u])))return new Date(t);return null},this.analyzeTimeFormat=function(e){for(var t,i,n=0,o={show24Hours:!1,showSeconds:!1,separator:":"},r="";n<e.length;){for(t=e.charAt(n),i="";e.charAt(n)==t&&n<e.length;)i+=e.charAt(n++);"hh"==i||"h"==i?(r=i,o.show24Hours=!1):"HH"==i||"H"==i?(r=i,o.show24Hours=!0):"mm"==i||"m"==i?r=i:"ss"==i||"s"==i?(r=i,o.showSeconds=!0):"a"==i?r=i:"H"!=r.toUpperCase()&&"HH"!=r.toUpperCase()||(o.separator=i)}return o},this.getDateFromInvariant=function(e,t){e="string"!=typeof(e=null==e?"":e)?e.toString():e;var i="MM/dd/yyyy"+(t?" H:mm:ss":"");t&&e&&(e.toLowerCase().indexOf("am")>0||e.toLowerCase().indexOf("pm")>0)&&(i="MM/dd/yyyy h:mm:ss a");var n=bizagi.util.dateFormatter.getDateFromFormat(e,i);return 0!=n||t?0==n&&t&&null!=e&&""!=e&&(i="MM/dd/yyyy",(n=bizagi.util.dateFormatter.getDateFromFormat(e,i)).setHours(0,0,0,0)):(i="MM/dd/yyyy H:mm:ss",n=bizagi.util.dateFormatter.getDateFromFormat(e,i)),n},this.formatInvariant=function(e,t){var i="MM/dd/yyyy"+(t?" HH:mm:ss":"");return bizagi.util.dateFormatter.formatDate(e,i)},this.getDateFromISO=function(e,t){var i="yyyy-MM-dd"+(t?" HH:mm":""),n=bizagi.util.dateFormatter.getDateFromFormat(e,i);return 0==n&&t&&(i="yyyy-MM-dd"+(t?" HH:mm:ss":""),n=bizagi.util.dateFormatter.getDateFromFormat(e,i)),0!=n||t||(i="yyyy-MM-dd HH:mm",0==(n=bizagi.util.dateFormatter.getDateFromFormat(e,i))&&(i="yyyy-MM-dd HH:mm:ss",n=bizagi.util.dateFormatter.getDateFromFormat(e,i))),n},this.formatISO=function(e,t){var i="yyyy-MM-dd"+(t?" HH:mm":"");return bizagi.util.dateFormatter.formatDate(e,i)},this.formatISO8601=function(e,t){return(t=t||!1)&&e.setHours(0,0,0,0),bizagi.util.dateFormatter.formatDate(e,"yyyy-MM-ddTHH:mm:ss")},this.isFormatISO8601=function(e){return/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i.test(e)},this.sleep=function(e){for(var t=(new Date).getTime();(new Date).getTime()<t+e;);},this.getDateFormatByDatePickerJqueryUI=function(){return bizagi.localization.getResource("dateFormat").replace("yyyy","yy")}},bizagi.util.sleepUntil=function(e,t){t=t||200;var i=new $.Deferred;return function n(){var o=setTimeout((function(){if("pending"===i.state()){if(!!e())return i.resolve(),void clearTimeout(o);n(name)}}),t)}(),i.promise()},bizagi.util.sleepFor=function(e){e=e||200;var t,i=new $.Deferred;return t=setTimeout((function(){"pending"===i.state()&&(i.resolve(),clearTimeout(t))}),e),i.promise()},bizagi.util.browserSupportLocalStorage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},bizagi.util.setItemLocalStorage=function(e,t){return!!bizagi.util.browserSupportLocalStorage()&&(localStorage.setItem(e,t),!0)},bizagi.util.getItemLocalStorage=function(e){return localStorage.getItem(e)},bizagi.util.removeItemLocalStorage=function(e){localStorage.removeItem(e)},bizagi.util.clearLocalStorage=function(){bizagi.util.browserSupportLocalStorage()&&localStorage.clear()},"debug"==("undefined"!=typeof BIZAGI_ENVIRONMENT?BIZAGI_ENVIRONMENT:"release")?"object"!=_typeof(window.console)&&(window.console={log:function(e){}}):"object"!=("undefined"==typeof console?"undefined":_typeof(console))?window.console={log:function(e){}}:bizagiConfig&&!bizagiConfig.showConsoleLog&&(console.log=function(e){}),bizagi.util.startLoading=function(e){(e||$("body")).append('<div class="ui-widget-overlay ui-front" style="z-index: 1001;"><div class="ui-bizagi-loading-message-center" style="position: absolute; top: 48%; left: 48%; display: ;"><div class="ui-bizagi-loading-icon"></div></div></div>')},bizagi.util.stopLoading=function(e){var t=e||$("body");$(".ui-widget-overlay:first",t).remove()},bizagi.util.smartphone.startLoading=function(e){(e||$("body")).append('<div class="bz-util-loading-container"> <div class="ui-bizagi-loading-icon bz-util-loading"></div>  </div>')},bizagi.util.smartphone.stopLoading=function(e){var t=e||$("body");$(".bz-util-loading-container",t).remove()},bizagi.util.isEventSupported=function(e,t){var i,n=!("onblur"in document.documentElement);return!!e&&(t&&"string"!=typeof t||(t=document.createElement(t||"div")),!(i=(e="on"+e)in t)&&n&&(t.setAttribute||(t=document.createElement("div")),t.setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),i="function"==typeof t[e],void 0!==t[e]&&(t[e]=void 0),t.removeAttribute(e))),i)},bizagi.circularDependencies=function(){var e=(new Function).prototype;e.list=[],e.lastNodeAdded,e.addNode=function(t,i){var r=JSON.encode(i),a=n(t,r);if(!a){var s=new o(t,r);return e.list.push({name:t,obj:r,nodeObj:s,timeStamp:(new Date).getTime()}),s}(e.lastNodeAdded||e.list[e.list.length-1]).nodeObj.addChild(a.nodeObj),e.lastNodeAdded=a},e.resolve=function(t,n,o){return t=t||i()||e.list[0].nodeObj,new r(t,n,o)};var t=function(){e.list=[]},i=function(){for(var t=0;t<e.list.length;t++)if(e.list[t].nodeObj.childs.length>0)return e.list[t].nodeObj;return e.list.length>0?e.list[0].nodeObj:{}},n=function(t,i){for(var n=0;n<e.list.length;n++)if(e.list[n].name==t){var o=(new Date).getTime();if(e.list[n].timeStamp+1e3<o)e.list.splice(n,1);else if(e.list[n].obj==i)return e.list[n]}return!1},o=function(e,t){e=e||"",t=t||{};var i=function(e,t){this.name=e,this.obj=t,this.childs=[]};return i.prototype.addChild=function(e){this.childs.push(e)},i}(),r=function(e,i,n){var o=function e(i,n,o){this.node=i||{},this.node.childs=this.node.childs||[],this.resolved=n||[],this.seen=o||[],this.seen.push(this.node);for(var a=0;a<this.node.childs.length;a++)if(!r.hasObject(this.node.childs[a],this.resolved)){if(r.hasObject(this.node.childs[a],this.seen)){t();var s={dependencyFrom:this.node.name,dependencyFromObj:this.node.obj,dependencyTo:this.node.childs[a].name,dependencyToObj:this.node.childs[a].obj,path:this.seen};return{error:$.extend({standardError:{status:"error",responseText:JSON.encode({message:r.makeErrorMessage(s),type:"alert"})},multiactionError:{message:r.makeErrorMessage(s),type:"alert"}},s)}}return e(this.node.childs[a],this.resolved,this.seen)}this.resolved&&this.resolved.push(this.node)},r=o.prototype;return r.hasObject=function(e,t){for(var i=0;i<t.length;i++)if(t[i].name==e.name)return!0;return!1},r.makeErrorMessage=function(e){return printf(bizagi.localization.getResource("render-actions-loop-validation"),e.dependencyFrom,e.dependencyTo)},o}();return e},bizagi.util.cssExtended=function(e,t){var n=t.split(";");for(i=0;i<n.length;i++)""!=n[i]&&bizagi.util.cssExtendedApplyChanges(e,n[i])},bizagi.util.cssExtendedApplyChanges=function(e,t){for(var i=0;i<e.length;i++){var n=$(e[i]),o=t.split(":")[0];if(n.attr("style")){var r=n.attr("style").split(";"),a=[],s="";for(j=0;j<r.length;j++){var l=r[j].split(":");$.trim(l[0])!=o&&""!=$.trim(l[0])&&a.push(l[0]+":"+l[1]+";"),s=JSON.stringify(a).replace(/\","/g," ").replace(/\["/g," ").replace(/\"]/g," ")}s="[]"==s?"":s,n.attr("style",s+t+";")}else if(n.css(o)){r=n.css(o),s="";(a=[]).push(t+";"),s="[]"==s?"":s,n.attr("style",s+t+";")}}},bizagi.util.scrollTop=function(e){if(e&&e[0])for(;"HTML"!==e[0].tagName&&"scroll"!=e.css("overflow-y")&&"auto"!=e.css("overflow-y")&&e.parent().length>0;)e=e.parent();return e},bizagi.util.sortJSON=function(e,t,i){return e.sort((function(e,n){var o=e[t],r=n[t];return"asc"===i?o<r?-1:o>r?1:0:"desc"===i?o>r?-1:o<r?1:0:void 0}))},bizagi.util.shortNumber=function(e){var t=e.toString(),i=t.length;return i>=4&&i<7?t="+"+t.charAt(0)+"K":i>=7&&i<10?t="+"+t.charAt(0)+"M":i>=10&&(t="+"+t.charAt(0)+"B"),"&nbsp;&nbsp;&nbsp;"+t},bizagi.util.replaceLineBreak=function(e){return"string"==typeof e?e.replace(/\r\n|\r|\n|<br>|<br\/>/g,"<br/>"):e},bizagi.util.escapeHtml=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML},bizagi.util.formatMonetaryCell=function(e){return bizagi.util.formatMonetaryValue(e)},bizagi.util.formatDecimalCell=function(e){return bizagi.util.formatDecimalValue(e)},bizagi.util.formatDateValue=function(e){return bizagi.util.formatDateFromInvariantStringDate(e)},bizagi.util.formatMonetaryValue=function(e){return bizagi.util.formatMoney(e,BIZAGI_DEFAULT_CURRENCY_INFO)},bizagi.util.formatDecimalValue=function(e){var t,i={decimalSymbol:BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator,digitGroupSymbol:BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator,roundToDecimalPlace:BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits};t=$.extend({colorize:!1,decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0,negativeFormat:"(%s%n)",positiveFormat:"%s%n",roundToDecimalPlace:"2",symbol:""},i);var n=bizagi.util.formatDecimal(e,t);if(!0===bizagi.override.removeTrailingZeros){var o=!0;-1!=n.toString().indexOf(")")&&(o=!1,n=n.replace("(","").replace(")",""));var r=new RegExp("("+BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator+"\\d*?[1-9])0+$","g");n=n.replace(r,"$1"),r=new RegExp("\\"+BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator+"0+$","g"),n=n.replace(r,""),o||(n="("+n+")")}return n},bizagi.util.showNotification=function(e){e=e||{};var t=$('<div id="sync-notification" class="bz-cm-icon"></div>').text(e.text||"");t.appendTo($("body")),t.fadeIn(1500,(function(){t.stop()})),t.fadeOut(2e3,(function(){t.remove()}))},bizagi.util.isModeOnline=function(){return void 0!==bizagi.context.isOfflineForm&&!bizagi.context.isOfflineForm},bizagi.util.dispose=function(e){for(key in e)"object"==_typeof(e[key])&&delete e[key],"function"==typeof e[key]&&(e[key]=null,delete e[key])},bizagi.util.arrayEach=function(e,t){var i;if(e)if("[object Array]"===Object.prototype.toString.apply(e)&&"[object Function]"===Object.prototype.toString.apply(t)){for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(e[i],i,e[i]))return}else $.each(e,t)},bizagi.util.getStandardNotation=function(e,t){t=t||".";var i="",n=!1,o=!1;e=(e.length>0?e.toString().toLowerCase():"").replace(/ /g,"");for(var r=0;r<e.length;r++)("+"!==e[r]&&"-"!==e[r]||0!==r&&"e"!=e[r-1])&&isNaN(Number(e[r]))?e[r]!==t||n?"e"!==e[r]||o||(i+=e[r],o=!0):(i+=e[r],n=!0):i+=e[r];return i},bizagi.util.scientificNotationFormat=function(e,t,i,n,o){t=t||".",e=bizagi.util.getStandardNotation(e,t),i=i>0?i:38,n=n>0?n:-125,o=o>0?o:125;var r=new RegExp("[0-9]+("+t+"[0-9]+)?(e[+-]?[0-9]+)?"),a=e.match(r),s=0,l="-"===e[0]?e[0]:"",u=0;if(e=e.replace(l,""),a&&a[0]&&a[2]){var c=a[0]?a[0].replace(a[2],"").split(t):"",h="",d="";return c[0]=c[0].replace(/^0+/g,""),c[0].length>1?(u=(h=c[0].slice(1)).length,d=c[0][0]||"",h=h.concat(a[1]||"")):1===c[0].length?(d=c[0][0]||"",h=h.concat(c[1]||"")):(u=c[1].length,c[1]=c[1].replace(/^0+/g,""),u=c[1].length-1-u,d=c[1][0],h=c[1].slice(1)),(h=h.replace(t,"").replace(/0+$/g,"")).length>=i&&(h=h.slice(0,i-1)),l+d+(h?t+h:"")+"e"+((s=(s=Number(a[2].replace("e",""))+u)>o?o:s<n?n:s)>0?"+"+s:s)}if(e){u=e.indexOf(t);var p=0,f=e.length-1;e=e.replace(t,"");for(var g=p;!m;)"0"!==e[g]&&e[g]!==t?(m=!0,p=g):g++;for(var m=!1,v=f;!m;)"0"!==e[v]&&e[v]!==t?(m=!0,f=v+1):v--;if(f=f>i+p?i+p:f,-1!==u){m=!1;return s=u-(p+1),(h=e.slice(p,f)).length>0&&!isNaN(Number(h[0]))?l+h[0]+(h.length>1?t+h.slice(1):"")+"e"+(s>0?"+"+s:s):"0"}var b=e.slice(p,p+1),y=e.slice(p+1,e.length);return s=y.length,(y=y.replace(/0+$/g,"")).length>i&&(y=e.slice(p+1,i+p)),Number(b)?l+b+(y.length>0?t+y:"")+"e"+(s>0?"+"+s:s):"0"}return""},bizagi.util.stripslashes=function(e){return e.replace(/\\'/g,"'").replace(/\"/g,'"').replace(/\\\\/g,"\\").replace(/\\0/g,"\0")},bizagi.util.isHTMLValidText=function(e){return new RegExp(/<(.|\n)*?>/g).test(e)},bizagi.util.resetData=function(){var e=JSON.parse(sessionStorage.getItem("bizagiAuthentication"));sessionStorage.removeItem("bizagiAuthentication"),$.extend(e,{isAuthenticate:"false"}),sessionStorage.setItem("bizagiAuthentication",JSON.encode(e))},bizagi.util.changeData=function(e){var t=JSON.parse(sessionStorage.getItem("bizagiAuthentication"));sessionStorage.removeItem("bizagiAuthentication"),$.extend(t,e),sessionStorage.setItem("bizagiAuthentication",JSON.encode(t))},bizagi.util.isMobileDevice=function(e){return e=e||bizagi.detectDevice(),["smartphone_ios","smartphone_ios_native","smartphone_android","smartphone_android_native","tablet","tablet_ios","tablet_ios_native","tablet_android","tablet_android_native"].indexOf(e)>-1},bizagi.util.isNativeMobileDevice=function(e){return bizagi.util.isMobileDevice(e)&&bizagi.util.isNativePluginSupported()},bizagi.util.isTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),["tablet","tablet_ios","tablet_ios_native","tablet_android","tablet_android_native"].indexOf(e)>-1},bizagi.util.isAndroidTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isTabletDevice()&&-1!==e.indexOf("android")},bizagi.util.isiOSTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isTabletDevice()&&!(-1===e.indexOf("android"))},bizagi.util.isSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),["smartphone_ios","smartphone_ios_native","smartphone_android","smartphone_android_native"].indexOf(e)>-1},bizagi.util.isAndroidSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isSmartphoneDevice()&&-1!==e.indexOf("android")},bizagi.util.isiOSSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isSmartphoneDevice()&&-1!==e.indexOf("ios")},bizagi.util.isOfflineForm=function(e){if(!bizagi.util.isMobileDevice()||void 0===e)return!1;var t=e.context||null,i=e.container||null,n=null!==i?i:null!==t?t.getFormContainer():null;if(null===n)return!1;var o=n.getParams()||{};return void 0!==o.isOfflineForm&&bizagi.util.parseBoolean(o.isOfflineForm)},bizagi.util.detectAndroidVersion=function(){var e=navigator.userAgent.toLowerCase().indexOf("android"),t=navigator.userAgent.toLowerCase().substring(e+8,e+13);return t=t.replaceAll(".",""),Number(t)},bizagi.util.getPathUrl=function(e){var t="",i=location.pathname.split("/"),n=location.protocol+"//"+location.host;if("/"==BIZAGI_PATH_TO_BASE[0])t=n+BIZAGI_PATH_TO_BASE+e;else{for(var o=BIZAGI_PATH_TO_BASE.split("../").length,r=0,a=i.length;r<a-o;r++)n+=i[r]+"/";t=(n="/"===n[n.length-1]?n:n+"/")+e}return t},bizagi.util.getAndroidVersion=function(){var e=navigator.userAgent.toLowerCase().match(/android\s([0-9\.]*)/);return!!e&&parseFloat(e[1])},bizagi.util.mobileImagePath=function(e){var t=e,i=bizagi.util.getAndroidVersion();if(!i)return t;if("content://com.android"===t.substring(0,21)&&i<=4.4){var n=t.split("%3A");n.length>1?t="content://media/external/images/media/"+n[1]:(n=t.split("/"),t="content://media/external/images/media/"+n[n.length-1])}return t},bizagi.util.isValidResource=function(e){return!!bizagi.localization&&bizagi.localization.getResource(e)!==e},bizagi.util.b64toBlob=function(e,t,i){t=t||"",i=i||512;for(var n=atob(e),o=[],r=0;r<n.length;r+=i){for(var a=n.slice(r,r+i),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);var u=new Uint8Array(s);o.push(u)}return new Blob(o,{type:t})},bizagi.util.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=255&e.charCodeAt(i);return t},bizagi.util.hasOfflineFormsEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_OFFLINE_FORMS&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_OFFLINE_FORMS)},bizagi.util.isFlatDesignEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_FLAT&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_FLAT)},bizagi.util.isMobileGridEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_MOBILE_GRID&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_MOBILE_GRID)},bizagi.util.isNativeHeaderEnabled=function(){return"undefined"!=typeof NATIVE_HEADER_ENABLE&&!0===bizagi.util.parseBoolean(NATIVE_HEADER_ENABLE)},bizagi.util.isQuickSearchEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_QUICK_SEARCH&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_QUICK_SEARCH)},bizagi.util.isOAuth2Enabled=function(){return"undefined"!=typeof BIZAGI_AUTH_TYPE&&"OAuth"===BIZAGI_AUTH_TYPE},bizagi.util.getNativeComponent=function(){return"undefined"!=typeof BIZAGI_NATIVE_COMPONENT?BIZAGI_NATIVE_COMPONENT:""},bizagi.util.isVersionSupported=function(){var e=!0;if("undefined"!=typeof BIZAGI_SERVER_VERSION&&!bizagi.util.isEmpty(BIZAGI_SERVER_VERSION)){var t=BIZAGI_SERVER_VERSION.match(/\d+\.\d+/);e=!t||parseFloat(t.shift())>=11}return e},bizagi.util.isCordovaSupported=function(){return"undefined"!=typeof cordova},bizagi.util.isNativePluginSupported=function(){return"undefined"!=typeof bizagiapp},bizagi.util.isTabletNativeSupported=function(){return"undefined"!=typeof bizagiapp&&bizagi.util.isTabletDevice()},bizagi.util.isSmartphoneNativeSupported=function(){return"undefined"!=typeof bizagiapp&&bizagi.util.isSmartphoneDevice()},bizagi.util.isNativePluginSupported()&&window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),bizagi.util.detectRealDevice=function(){var e="undefined"==typeof BIZAGI_DEFAULT_DEVICE||bizagi.util.isEmpty(BIZAGI_DEFAULT_DEVICE)?null:BIZAGI_DEFAULT_DEVICE;BIZAGI_DEFAULT_DEVICE="";var t=bizagi.detectDevice();return BIZAGI_DEFAULT_DEVICE=e,t},bizagi.util.isAndroid=function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1},bizagi.util.isAndroidDevice=function(){return bizagi.util.detectDevice().indexOf("android")>-1},bizagi.util.isiOSDevice=function(){return-1===bizagi.util.detectDevice().indexOf("android")},bizagi.util.getChannelType=function(){return"undefined"==typeof BIZAGI_SERVER_CHANNEL||bizagi.util.isEmpty(BIZAGI_SERVER_CHANNEL)?bizagi.loader.channel||"":BIZAGI_SERVER_CHANNEL},bizagi.util.isDataUrl=function(e){try{return!!e.toString().match(/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i)}catch(e){}return!1},bizagi.util.getDataUrl=function(e){var t;try{if(void 0===e.value||bizagi.util.isEmpty(e.value))t=e.url||"";else{var i=e.value,n=i.value||i;if(Array.isArray(n)){var o=n.shift();t=Array.isArray(o)?o.join(""):o}else t=n}(t=bizagi.util.isEmpty(t)?"":"data:image/png;base64,"+t.replace(/^data:.*;base64,/,""))&&-1!==t.indexOf("Invalid case id")&&(t="")}catch(e){t=""}return t},bizagi.util.processFailMessage=function(e){var t=e||{};try{t=(t="string"==typeof t?JSON.parse(t):t).responseText||t.message||t}catch(i){t=e}return t},bizagi.util.getErrorFormatted=function(e){var t=e;if(!t)return e;if("string"==typeof t)try{t=JSON.parse(t)}catch(i){t={type:"error",code:"code",message:e}}return"object"==_typeof(t)&&(t.message||t.statusText)?{type:t.type||"error",code:t.code||t.errorCode||t.errorType||t.statusText||"code",message:t.message}:(t&&t.length&&t.length>=1&&(t=t[0]),t.responseText&&(t=t.responseText),t.error&&(t=t.error),bizagi.util.getErrorFormatted(t))};var tmp_block_header="<div class='blockHeaderByLiveProcess'></div>";bizagi.util.disableWorkPortalMenu=function(){var e=$("body").find("#ui-bizagi-wp-menu").height();$(tmp_block_header).prependTo("body"),$("body").find(".blockHeaderByLiveProcess").css({position:"absolute",width:"100%",height:e+"px",background:"gray",opacity:"0.9","z-index":"101"})},bizagi.util.enableWorkPortalMenu=function(){$("body").find(".blockHeaderByLiveProcess").detach()},bizagi.util.enableMenuSection=function(e){(new bizagi.workportal.controllers.menu).setActiveSection.apply($("#main_menu li#"+e)[0])},bizagi.util.getURLWithASlashAtTheEnd=function(e){var t;return"/"===(t=e).substr(t.length-1)?e:e+"/"},bizagi.util.downloadFile=function(e,t,i){var n,o=new $.Deferred,r=void 0===i||i,a=(t?"":bizagi.util.getURLWithASlashAtTheEnd(bizagiConfig.applicationUrl))+e,s=0!==$("#iframe-download").length,l=function(){var e=$(this)[0],t=bizagi.localization.getResource("workportal-general-error-message-contact-administrator"),i=bizagi.util.tryCatch((function(){return $(e.contentDocument).text()}),t),n=-1!==i.indexOf("HTTP Error 503"),a=bizagi.util.tryCatch((function(){return JSON.parse(i)}),{code:"error",status:"error",message:""===i?t:i}),s=r&&!n;n&&bizagiConfig.maintenanceWindows.start(),function(e,t){t&&bizagi.modalError.show(e.message,void 0,!1),o.reject(e)}(a,s)};return s||((n=$("<iframe/>")).attr({style:"visibility:hidden;display:none",id:"iframe-download"}).appendTo("body"),n[0].onload=l),$("#iframe-download").attr("src",a),o},bizagi.util.downloadFileByPOST=function(e,t){0!==$("#iframe-download").length&&$("#iframe-download").remove(),$("<iframe/>").attr({style:"visibility:hidden;display:none",id:"iframe-download"}).appendTo("body");for(var i="",n=0;n<t.length;n++)i=i+"<input type='text' name='"+t[n].name+"' value='"+t[n].value+"'>";var o="<form id='formPOST' action='"+e+"' method='POST'>"+i+"</form>";$("#iframe-download").contents().find("body").append(o),bizagi.util.isIE11()?(bizagi.showErrorAlertDialog=!1,$.ajax({type:"POST",url:e,data:t,dataType:"text"}).then((function(){$("#formPOST",$("#iframe-download").contents()).submit()}))):$("#formPOST",$("#iframe-download").contents()).submit()},bizagi.util.executeActionRoutingFromWorkportal=function(e,t){bizagi.workportal.controllers.menu.prototype.publish("executeAction",{action:bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,idCase:e,idWorkItem:t})},bizagi.util.getMessageFromNetworkState=function(e){return e?bizagi.localization.getResource("render-without-globalform-offline-userOnline","The case has been created successfully, please wait until the server synchronizes"):bizagi.localization.getResource("render-without-globalform-offline","Your offline case has been created successfully. It will synchronized as soon as you go online.")},bizagi.util.sanitizeHTML=function(e){var t=null!=e?e.toString():e,i=DOMPurify.sanitize(t),n=document.createElement("div");return n.innerHTML=i,0===n.childNodes.length?"":String(n.childNodes[0].nodeValue)},bizagi.util.arrayUnique=function(e){for(var t=e.concat(),i=0,n=t.length;i<n;++i)for(var o=i+1;o<n;++o)t[i]===t[o]&&t.splice(o-=1,1);return t},bizagi.util.debounce=function(e,t,i){var n;return function(){var o=this,r=arguments,a=function(){if(n=null,!i)return e.apply(o,r)},s=i&&!n;if(clearTimeout(n),n=setTimeout(a,t||200),s)return e.apply(o,r)}},bizagi.util.debounce2=function(e,t,i){var n,o=this,r=function(){var o=this,r=arguments,a=function(){if(n=null,!i)return e.apply(o,r)},s=i&&!n;if(clearTimeout(n),n=setTimeout(a,t||200),s)return e.apply(o,r)};return{timeout:n,cancel:function(){clearTimeout(n)},fire:function(){r.call(o,arguments)}}},bizagi.util.isNativeImageEditorSupported=function(){return bizagi.util.isNativePluginSupported()&&bizagi.util.isiOSDevice()&&bizagi.override.enableImageEditor},bizagi.util.errorMessage=function(e){return'<div class="admin-stakeholder-message"> <i class="bz-wp-empty__img"></i> <p class="bz-wp-empty__info bz-wp-empty__info--first"> '+e+"</p></div>"},bizagi.util.validateUrlWellFormed=function(e){var t=/^((http|https|ftp):\/\/)/.test(e)?e:"http://"+e,i=document.createElement("a");i.setAttribute("href",t);var n=DOMPurify.sanitize(i,{IN_PLACE:!0}),o=e?e.replace(/ /g,""):"";return bizagi.util.isEmpty(o)?null:n.href},bizagi.util.encodeHtmlText=function(e){var t=e||"",i="";if("string"==typeof t){var n=bizagi.util.decodeURI(t);i=bizagi.util.encodeString(n)}return i},bizagi.util.encodeString=function(e){var t=e||"";return t=(t=(t=(t=(t=t.replaceAll("&","&amp;")).replaceAll("$","&#36;")).replaceAll("<","&lt;").replaceAll(">","&gt;")).replaceAll('"',"&#34;").replaceAll("'","&#39;").replaceAll("/","&#47;")).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")},bizagi.util.setCaretPosition=function(e,t){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},bizagi.util.getCaretPosition=function(e){var t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},bizagi.util.escapeRegex=function(e){return(e=e||"").replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},bizagi.util.getFeatureObject=function(e){var t=e.split(".");return this.featureObjectCache=this.featureObjectCache||{},e in this.featureObjectCache?this.featureObjectCache[e]:this.featureObjectCache[e]=function(t){var i=bizagi.util.getConfigFeatures();if("string"==typeof e&&void 0!==i){for(var n=i,o=0,r=t.length;o<r;o++)if(void 0===(n=n[t[o]]))return;return n}}(t)},bizagi.util.getConfigFeatures=function(){var e=window.bizagiConfig||bizagiConfig||{};return bizagi.util.isMobileDevice()&&"undefined"!=typeof BIZAGI_MOBILE_FEATURES&&!bizagi.util.isEmpty(BIZAGI_MOBILE_FEATURES)&&(e.features=JSON.parse(BIZAGI_MOBILE_FEATURES||"{}")),e.features},bizagi.util.resetConfigFeatures=function(){bizagi.util.featureObjectCache=void 0},bizagi.util.isFailResponse=function(e){return e&&(e.type&&"error"===e.type||e.status&&"error"===e.status||e.code&&"UNKNOWN_ERROR"===e.code)},bizagi.util.formatItem=function(e){if(null!=e){if($.isArray(e)){for(var t=0,i=e.length;t<i;t++)null!=e[t]&&"boolean"==typeof e[t]&&(!0===bizagi.util.parseBoolean(e[t])?e[t]=bizagi.localization.getResource("render-boolean-yes"):!1===bizagi.util.parseBoolean(e[t])&&(e[t]=bizagi.localization.getResource("render-boolean-no"))),e[t]=bizagi.util.sanitizeHTML(e[t]);return e.join(" - ")}return bizagi.util.sanitizeHTML(e)}return""},bizagi.util.performTermMatches=function(e,t,i){return"object"===_typeof(e)?bizagi.util.formatItem(e):"string"==typeof e?i?bizagi.util.sanitizeHTML(e):bizagi.util.highlightMatches(e,t):e},bizagi.util.highlightMatches=function(e,t){var i=bizagi.util.escapeRegex(t).replaceAll("%",""),n=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+i+")(?![^<>]*>)(?![^&;]+;)","gi");return bizagi.util.sanitizeHTML(e).replace(n,"<strong>$1</strong>")},bizagi.util.getDesktopResolution=function(){var e="",t=1,i=window.screen.width,n=window.screen.height;return"deviceXDPI"in screen?t=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in window&&(t=window.devicePixelRatio),t=Number(t.toFixed(3)),i&&i>0&&n&&n>0&&(e=i*t+"x"+n*t),e},bizagi.util.getDeviceCode=function(){return bizagi.util.isMobileDevice()?"undefined"==typeof BIZAGI_DEVICE_MARKET_NAME||bizagi.util.isEmpty(BIZAGI_DEVICE_MARKET_NAME)?"":BIZAGI_DEVICE_MARKET_NAME:bizagi.util.getDesktopResolution()},bizagi.util.normalizeType=function(e){return void 0===e?e:e.replace(/smartphone/,"").replace(/tablet/,"").replace(/offline/,"")},bizagi.util.normalizeQueryType=function(e){return void 0===e?e:e.replace(/query/,"").toLowerCase()},bizagi.util.hideOrShowXToCloseDialog=function(e,t){var i=".ui-dialog-titlebar-close";t?$(i,e).show():$(i,e).hide()},bizagi.util.isEnableFeature=function(e){return void 0===bizagi.features&&(bizagi.features=[]),!1!==bizagi.features[e]},bizagi.util.isHtml=function(e){return/<[a-z][\s\S]*>/i.test(e)},bizagi.util.tryCatch=function(e,t){try{return e()}catch(e){return"function"==typeof t?t():t}},bizagi.util.pipe=function(e,t){var i=void 0===t?[]:t;return i.push(e),{next:function(e){return bizagi.util.pipe(e,i)},end:function(e){return i.reduce((function(e,t){return t(e)}),e)}}},function(e){var t=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},i=function(e){return/(auto|scroll)/.test(function(e){return t(e,"overflow")+t(e,"overflow-y")+t(e,"overflow-x")}(e))};e.scrollerParent=function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=function e(t,i){return null===t.parentNode?i:e(t.parentNode,i.concat([t]))}(e.parentNode,[]),n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return document.scrollingElement||document.documentElement}}}(jQuery),bizagi.util.startkendo=function(e){void 0===bizagi.kendoMobileApplication?(bizagi.kendoMobileApplication=new kendo.mobile.Application($("body"),{skin:"flat",browserHistory:!1,init:function(t){kendo.ui.progress($(".km-flat"),!0),e.started&&e.started()}}),bizagi.kendoMobileApplication.bizagiNavigate=function(e,t){this.navigate(e,t)}):e.started&&e.started()},bizagi.util.isMashupContext=function(){return"undefined"!=typeof BIZAGI_MASHUP_CONTEXT&&!0===bizagi.util.parseBoolean(BIZAGI_MASHUP_CONTEXT)},bizagi.util.isSharepointContext=function(){return"undefined"!=typeof BIZAGI_SHAREPOINT_CONTEXT&&!0===bizagi.util.parseBoolean(BIZAGI_SHAREPOINT_CONTEXT)},bizagi.util.isWebpartContext=function(){return"undefined"!=typeof isWebpart&&!0===bizagi.util.parseBoolean(isWebpart)},bizagi.util.startTimeline=function(e){(new bizagi.workportal.widgets.widget).showTimeLine(e)},bizagi.util.startGraphicquery=function(e){(new bizagi.workportal.widgets.widget).showGraphicQuery(e)},bizagi.util.startSelectUser=function(){return function(e,t){var i=$.Deferred();(new bizagi.workportal.widgets.widget).showSelectUser(i),i.done((function(t,i,n){e({userId:t,userName:i,guid:n})})).fail((function(){e({})}))}},bizagi.util.isEmptyValue=function(e){if(0===e)return!1;if(null==e||""===e)return!0;if("Array"==typeof e)return 0===e.length;if("[object Array]"===Object.prototype.toString.apply(e))return 0===e.length;if("[object Object]"===Object.prototype.toString.apply(e)){for(var t in e)if(e.hasOwnProperty(t)&&!bizagi.util.isEmptyValue(e[t]))return!1;return!0}return!1},bizagi.util.initializeReferrerParams=function(){bizagi.referrerParams||(bizagi.referrerParams={})},bizagi.util.getLPQueriesParameters=function(){return bizagi.util.initializeReferrerParams(),bizagi.referrerParams.sidebarData},bizagi.util.getLPQueriesSelectedItemFromTree=function(){return bizagi.util.initializeReferrerParams(),bizagi.referrerParams.selectedTreeItem},bizagi.util.setLPQueriesParameters=function(e,t){bizagi.util.initializeReferrerParams(),bizagi.referrerParams.sidebarData=e,bizagi.referrerParams.selectedTreeItem=t},bizagi.util.cleanLPQueriesParameters=function(){bizagi.referrerParams&&(bizagi.referrerParams.sidebarData=null,bizagi.referrerParams.selectedTreeItem=null)},bizagi.util.setLPQueriesReferrer=function(){bizagi.referrerParams.referrer="LPQueries"},bizagi.util.isConnected=function(){return bizagi.util.isNativeMobileDevice()?!navigator||void 0===navigator.connection||"undefined"==typeof Connection||!(navigator.connection.type==Connection.NONE||"unknown"==navigator.connection.type):!bizagi.util.isMobileDevice()||"debug"!==(""+BIZAGI_ENVIRONMENT).toLowerCase()||(!window.navigator||window.navigator.onLine)},bizagi.util.isRenderingUrlAllowed=function(e){for(var t,i=["Rest/(Handlers|Userfields|DocumentTemplates|(Processes(?!/(RecentProcesses|OfflineProcessTree)))|Cases|Authentication|Users)","Api/(Authentication|Entities|Users)"],n=(e||"").replaceAll("../","").replaceAll("./","");t=i.shift();){var o=new RegExp(t,"i");if(null!==n.match(o))return!0}return!1},bizagi.util.applyEyeFunction=function(e){function t(t){$(t,e).parent().find("svg").remove(),$(t,e).after('<svg  class=\'eye_show_icon\'  xmlns="http://www.w3.org/2000/svg" width="16" height="16">\n<path d="M15 7.8C14.9 7.6 12.7 3 8 3S1.1 7.6 1 7.8v.4c.1.2 2.3 4.8 7 4.8s6.9-4.6 7-4.8v-.4zM8 12c-3.5 0-5.5-3.1-5.9-4 .4-.9 2.4-4 5.9-4 3.5 0 5.5 3.1 5.9 4-.4.9-2.4 4-5.9 4z"/>\n<path d="M8 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 3c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"/></svg>'),$(t,e).parent().find("input[type='text']").attr("type","password"),$(t,e).parent().find("svg").click(n(!0))}function i(t){$(t,e).parent().find("svg").remove(),$(t,e).after('<svg class=\'eye_hide_icon\' xmlns="http://www.w3.org/2000/svg" width="16" height="16">\n<path d="M3.6 10.5l.7-.7a12.1 12.1 0 0 1-2-1.6C3.1 7.3 5.4 5 8 5h1l.8-.8A6 6 0 0 0 8 4C4.3 4 1.4 7.8 1.2 7.9l-.2.3.3.3a12.3 12.3 0 0 0 2.3 2zm8.7-4.9l-.7.7a12.4 12.4 0 0 1 2.1 1.9C12.9 9 10.6 11 8 11H7l-.8.8L8 12c3.7 0 6.6-3.3 6.7-3.5l.3-.3-.2-.3a12.8 12.8 0 0 0-2.5-2.3zM1.5 15h-.4a.5.5 0 0 1 0-.7l13-13a.5.5 0 1 1 .7.7l-13 13h-.3z"/><path d="M6.3 7.8a1.7 1.7 0 0 1 1.5-1.5l.9-.9H8A2.7 2.7 0 0 0 5.3 8a2.7 2.7 0 0 0 .1.7l.9-.9zm3.4.4a1.7 1.7 0 0 1-1.5 1.5l-.9.9H8A2.7 2.7 0 0 0 10.7 8a2.7 2.7 0 0 0-.1-.7l-.9.9z"/></svg>'),$(t,e).parent().find("input[type='password']").attr("type","text"),$(t,e).parent().find("svg").click(n(!0))}function n(n){return function(o){if(n){var r=$(this).attr("class")||"",a=$(this).parent().find("input");"eye_show_icon"===r?i(a):t(a)}else $($(o,e).parent().find("svg")[0]).click((function(e){var n=$(this).attr("class")||"",o=$(this).parent().find("input");"eye_show_icon"===n?i(o):t(o)}))}}$(e).find("input[type='password']").map((function(e,i){e>0&&(t(i),n(!1)(i))}))},bizagi.util.accessibilityEnter=function(e,t,i){if("function"!=typeof t)throw new Error('Error in "accessibilityEnter" function: You must provide a valid callback');-1!==(i=$.isArray(i)?i:[]).indexOf("click")||i.push("click"),e.bind("keypress",(function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),13!==e.which&&32!==e.which||t(e)})),e.bind(i.join(", "),(function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),t(e)}))},bizagi.util.recreateNativeButtons=function(e){var t=e.getFormContainer().getParams();if(bizagi.util.isNativePluginSupported()&&bizagi.util.isiOSSmartphoneDevice()){var i=t.navigation;void 0!==i&&i.setNavigationButtons(e)}},bizagi.util.isOverrideFeatureEnabled=function(e){var t=bizagi.override&&bizagi.override[e]||null;return!0===bizagi.util.parseBoolean(t)},bizagi.util.createDynamicClass=function(nameClass,renderParams){if(nameClass)try{var dynamicFunction="var dynamicFn = function(renderParams){ \r\n";return dynamicFunction+="return new "+nameClass+"(renderParams);\r\n",dynamicFunction+="}\r\n",dynamicFunction+="dynamicFn",dynamicFunction=eval(dynamicFunction),dynamicFunction(renderParams)}catch(e){console.log(e)}return null},bizagi.util.languages={es:"es","es-ES":"es","es-AR":"es","es-BO":"es","es-Cl":"es","es-CO":"es","es-CR":"es","es-DO":"es","es-EC":"es","es-SV":"es","es-GT":"es","es-HN":"es","es-MX":"es","es-NI":"es","es-PA":"es","es-PY":"es","es-PR":"es","es-PE":"es","es-US":"es","es-UY":"es","es-VE":"es",en:"en-US","en-AU":"en-US","en-BZ":"en-US","en-CA":"en-US","en-029":"en-US","en-IN":"en-US","en-IE":"en-US","en-JM":"en-US","en-MY":"en-US","en-NZ":"en-US","en-PH":"en-US","en-SG":"en-US","en-ZA":"en-US","en-TT":"en-US","en-GB":"en-US","en-US":"en-US","en-ZW":"en-US",de:"de","de-AT":"de","de-DE":"de","de-LI":"de","de-LU":"de","de-CH":"de",fr:"fr","fr-BE":"fr","fr-CA":"fr","fr-LU":"fr","fr-MC":"fr","fr-CH":"fr","fr-FR":"fr",it:"it","it-IT":"it","it-CH":"it",ja:"ja","ja-JA":"ja","ja-JP":"ja",nl:"nl","nl-NL":"nl","nl-BE":"nl",pt:"pt-PT","pt-BR":"pt-PT","pt-PT":"pt-PT",ru:"ru","ru-RU":"ru",cs:"cs","cs-CZ":"cs",ar:"ar","ar-DZ":"ar","ar-BH":"ar","ar-EG":"ar","ar-IQ":"ar","ar-JO":"ar","ar-KW":"ar","ar-LB":"ar","ar-LY":"ar","ar-MA":"ar","ar-OM":"ar","ar-QA":"ar","ar-SA":"ar","ar-SY":"ar","ar-TN":"ar","ar-AE":"ar","ar-YE":"ar",zh:"zh","zh-HK":"zh","zh-MO":"zh","zh-CN":"zh","zh-Hans":"zh","zh-SG":"zh","zh-TW":"zh","zh-Hant":"zh"},bizagi.util.getNormalizedDate=function(e,t,i){var n=e;try{e&&"string"==typeof e&&(n=bizagi.util.dateFormatter.getDateFromInvariant(e,i)),n&&0!==n&&null!=n&&(i?n.setMilliseconds(0):n.setHours(0,0,0,0),n=bizagi.util.dateFormatter.formatDate(n,t))}catch(e){}return n},bizagi.util.isFeatureEnabled=function(e){var t=bizagi.override&&bizagi.override[e];return bizagi.util.parseBoolean(t)},bizagi.util.getLastProcessInboxKey=function(){var e="lastProcessInbox";return e=e.concat("_",bizagi.util.getUserHash())},bizagi.util.lastProcessInboxInit=function(){bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(bizagi.util.getLastProcessInboxCreate()))},bizagi.util.getLastProcessInboxCreate=function(){return{processInfo:bizagi.util.createLastProcessInboxProcess(),sortInfo:bizagi.util.createLastProcessInboxSort(),filterInfo:bizagi.util.createLastProcessInboxFilter(),processColumnsInfo:bizagi.util.createLastProcessInboxColumns(),inputTrayInfo:bizagi.util.createLastProcessInboxInputTray()}},bizagi.util.createLastProcessInboxProcess=function(){return{processInfoName:null,idWorkflow:-1}},bizagi.util.createLastProcessInboxSort=function(){return{sortDirection:"asc",sortFieldName:null,sortOrder:null}},bizagi.util.createLastProcessInboxFilter=function(){return{filterValue:null,filterFieldName:null,filterType:"equal"}},bizagi.util.createLastProcessInboxColumns=function(){return{processColumns:[]}},bizagi.util.createLastProcessInboxInputTray=function(){return"inbox"},bizagi.util.getLastProcessInbox=function(){var e=bizagi.util.getItemLocalStorage(bizagi.util.getLastProcessInboxKey());return e||(bizagi.util.lastProcessInboxInit(),e=bizagi.util.getItemLocalStorage(bizagi.util.getLastProcessInboxKey())),JSON.parse(e)},bizagi.util.setLastProcessInbox=function(e,t,i){var n=bizagi.util.getLastProcessInbox();n.processInfo&&(n.processInfo.idWorkflow!=t?n.processColumnsInfo=null:bizagi.util.isEmpty(i)||n.processInfo.smartInboxId==i||(n.processColumnsInfo=null)),n.processInfo.processInfoName=e,n.processInfo.idWorkflow=parseInt(t||-1),n.processInfo.smartInboxId=void 0!==i?i:null,n.filterInfo&&(n.filterInfo=bizagi.util.createLastProcessInboxFilter()),bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(n))},bizagi.util.setLastProcessInboxProcessColumns=function(e){var t=bizagi.util.getLastProcessInbox();t.processColumnsInfo=t.processColumnsInfo||{},t.processColumnsInfo.processColumns=e||[],bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(t))},bizagi.util.getLiveFiltersFromStorage=function(e){var t=[],i=bizagi.util.getItemLocalStorage("livefilters");try{var n=JSON.parse(i);t=void 0!==n[e]?JSON.parse(n[e]):t}catch(e){t=[]}return t},bizagi.util.setLiveFiltersToStorage=function(e,t){var i=bizagi.util.getItemLocalStorage("livefilters")||"[]",n=JSON.parse(i);n[e]=JSON.stringify(t),bizagi.util.setItemLocalStorage("livefilters",JSON.encode(Object.assign({},n)))},bizagi.util.setLastProcessInboxLiveFilter=function(e){var t=bizagi.util.getLastProcessInbox();t.liveFilters=e||[],bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(t))},bizagi.util.setLastProcessInboxSort=function(e,t,i){var n=bizagi.util.getLastProcessInbox();n.sortInfo.sortFieldName=e||null,n.sortInfo.sortDirection=t||"asc",n.sortInfo.sortOrder=i||null,bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(n))},bizagi.util.setLastProcessInboxFilter=function(e,t,i){var n=bizagi.util.getLastProcessInbox();n.filterInfo.filterValue=e||null,n.filterInfo.filterFieldName=t||null,n.filterInfo.filterType=i||"equal",bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(n))},bizagi.util.setLastProcessInboxInputTray=function(e){var t=bizagi.util.getLastProcessInbox();t.inputTrayInfo=e||"",bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(t))},bizagi.util.getLastProcessInboxProcessInfo=function(){var e=bizagi.util.getLastProcessInbox();return bizagi.localization&&null==e.processInfo.processInfoName&&(e.processInfo.processInfoName=bizagi.localization.getResource("workportal-widget-inbox-all-processes")),e.processInfo.allProcesses=-1===e.processInfo.idWorkflow,e.processInfo},bizagi.util.getLastProcessInboxSmartInboxId=function(){return bizagi.util.getLastProcessInbox().processInfo.smartInboxId},bizagi.util.getLastProcessInboxSort=function(){return bizagi.util.getLastProcessInbox().sortInfo},bizagi.util.getLastProcessInboxFilter=function(){return bizagi.util.getLastProcessInbox().filterInfo},bizagi.util.getLastProcessInboxLiveFilter=function(){return bizagi.util.getLastProcessInbox().liveFilters},bizagi.util.getLastProcessInboxProcessColumns=function(){return bizagi.util.getLastProcessInbox().processColumnsInfo},bizagi.util.getLastProcessInboxInputTray=function(){return bizagi.util.getLastProcessInbox().inputTrayInfo},bizagi.util.removeLastProcessInbox=function(){bizagi.util.removeItemLocalStorage(bizagi.util.getLastProcessInboxKey())},bizagi.util.removeLastProcessInboxSort=function(){var e=bizagi.util.getLastProcessInbox();e&&e.sortInfo&&(e.sortInfo=bizagi.util.createLastProcessInboxSort(),bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(e)))},bizagi.util.removeLastProcessLiveFilters=function(){var e=bizagi.util.getLastProcessInbox();e&&e.liveFilters&&(e.liveFilters=[],bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(e)))},bizagi.util.getSyncTimeStampKey=function(){var e="syncTimeStamp";return e=e.concat("_",bizagi.util.getUserHash())},bizagi.util.storeSyncTimeStamp=function(e){bizagi.util.setItemLocalStorage(bizagi.util.getSyncTimeStampKey(),e.toString())},bizagi.util.getSyncTimeStamp=function(){var e=bizagi.util.getItemLocalStorage(bizagi.util.getSyncTimeStampKey());return e?new Date(e):void 0},bizagi.util.getUserHash=function(){return("undefined"!=typeof BIZAGI_USER?(BIZAGI_USER+"-"+BIZAGI_PROXY_PREFIX+"-"+BIZAGI_DOMAIN).toLowerCase():"admon-http://localhost/bizagiR100x-domain").hashCode()},bizagi.util.defaultWidget=function(e){var t=bizagi.services.preferences(),i=bizagi.workportal.widgets.widget,n={set:function(e){bizagi.cookie("bizagiDefaultWidget",e,{expires:30})},get:function(){return bizagi.cookie("bizagiDefaultWidget")}},o={set:function(e){var i="inbox"===e?"DETAIL":"TABLE";t.changePreference(t.name.INBOX_VIEW_TYPE,i)},get:function(){var e=t.getPreference(t.name.INBOX_VIEW_TYPE);return"DETAIL"===e?i.BIZAGI_WORKPORTAL_WIDGET_INBOX:i.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID}},r=bizagi.util.isMobile?n:o;return void 0!==e&&r.set(e),r.get()},bizagi.util.getMobileFeaturesKey=function(){var e="undefined"!=typeof BIZAGI_USER?(BIZAGI_USER+"-"+BIZAGI_PROXY_PREFIX+"-"+BIZAGI_DOMAIN).toLowerCase():"admon-http://localhost/bizagiR100x-domain",t="mobileFeatures";return t=t.concat("_",e)},bizagi.util.getMobileFeatures=function(){var e=bizagi.util.getItemLocalStorage(bizagi.util.getMobileFeaturesKey());return $.extend(bizagi.util.isEmpty(e)?{}:JSON.parse(e),bizagiConfig.features)},bizagi.util.storeMobileFeatures=function(e){var t=bizagi.util.getMobileFeatures(),i=$.extend(t,e);bizagi.util.setItemLocalStorage(bizagi.util.getMobileFeaturesKey(),JSON.stringify(i))},bizagi.util.getCardviewMaxColumsAllowed=function(){var e=100,t=bizagi.util.getMobileFeatures();return t&&t.maxColumnsEnabled&&!0===t.maxColumnsEnabled.enabled&&(e=t.maxColumnsEnabled.value),e},bizagi.util.blobTob64=function(e,t){var i=new $.Deferred,n=new FileReader;return n.readAsDataURL(e),n.onloadend=function(){base64data=n.result,t&&(base64data=base64data.split(",")[1]),i.resolve(base64data)},i},bizagi.util.blobToText=function(e){var t=new $.Deferred,i=new FileReader;return i.readAsText(e),i.onloadend=function(){t.resolve(i.result)},t.promise()},bizagi.util.getDataUrl=function(e){var t;try{if(void 0===e.value||bizagi.util.isEmpty(e.value))t=e.url||"";else{var i=e.value,n=i.value||i;if(Array.isArray(n)){var o=n.shift();t=Array.isArray(o)?o.join(""):o}else t=n}(t=bizagi.util.isEmpty(t)?"":"data:image/png;base64,"+t.replace(/^data:.*;base64,/,""))&&-1!==t.indexOf("Invalid case id")&&(t="")}catch(e){t=""}return t},bizagi.util.getDataUrl=function(e,t){var i;try{if(void 0===e||bizagi.util.isEmpty(e))i=t||"";else{var n=e,o=n.value||n;if(Array.isArray(o)){var r=o.shift();i=Array.isArray(r)?r.join(""):r}else i=o}(i=bizagi.util.isEmpty(i)?"":"data:image/png;base64,"+i.replace(/^data:.*;base64,/,""))&&-1!==i.indexOf("Invalid case id")&&(i="")}catch(e){i=""}return i},bizagi.util.console={},bizagi.util.console.log=function(){if("Bugsee"in window||bizagi.util.isCordovaSupported()){var e=Array.prototype.slice.call(arguments),t=e[0],i=e.length>1?e.slice(1):null;if(i)try{return void console.log("BUGSEE: "+t+" \r\n"+JSON.encode(i))}catch(e){}}console.log.apply(this,arguments)},bizagi.util.console.error=function(){if("Bugsee"in window||bizagi.util.isCordovaSupported()){var e=Array.prototype.slice.call(arguments),t=e[0],i=e.length>1?e.slice(1):null;if(i)try{return void console.error("BUGSEE: "+t+" \r\n"+JSON.encode(i))}catch(e){}}console.error.apply(this,arguments)},bizagi.util.deepExtend=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var n in i)i.hasOwnProperty(n)&&("object"===_typeof(i[n])?i[n]instanceof Array==1?e[n]=i[n].slice(0):e[n]=deepExtend(e[n],i[n]):e[n]=i[n])}return e},bizagi.util.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var i in arguments[t])arguments[t].hasOwnProperty(i)&&(e[i]=arguments[t][i]);return e},bizagi.util.getColumnType=function(e){if(void 0===e)return"default";var t=e.replace("column","").toLowerCase();return bizagi.util.normalizeType(t)},bizagi.util.mapAlignClassName=function(e){return{rigth:"flex-end",left:"flex-start",justify:"flex-start",default:"center",center:"center"}[e]||"center"},bizagi.util.isMobileErrorTracesEnabled=function(){var e=!1,t=bizagi.util.getMobileFeatures();return t&&t.mobileErrorTraces&&!0===t.mobileErrorTraces.enabled&&(e=!0),e&&bizagi.util.isTabletDevice()},bizagi.util.isMobileSmartInboxEnabled=function(){var e=!1,t=bizagi.util.getMobileFeatures();return t&&t.mobileSmartInbox&&!0===t.mobileSmartInbox.enabled&&(e=!0),e&&bizagi.util.isTabletDevice()},bizagi.util.isMobileLiveFiltersEnabled=function(){var e=!1,t=bizagi.util.getMobileFeatures();return t&&t.mobileLiveFilters&&!0===t.mobileLiveFilters.enabled&&(e=!0),e&&bizagi.util.isTabletDevice()},bizagi.util.getColumnType=function(e){if(void 0===e)return"default";var t=e.replace("column","").toLowerCase();return bizagi.util.normalizeType(t)},$.any=function(e,t){if(void 0===e||null==e||0==e.length)return!1;var i=$.grep(e,t);return null!=i&&void 0!==i&&i.length>0},$.first=function(e,t){if(void 0===e||null==e||0==e.length)return null;var i=$.grep(e,t);return null==i||void 0===i||0==i.length?null:i[0]},$.groupBy=function(e,t){if(void 0===e||null==e||0==e.length)return{};var i={};return $.each(e,(function(e,n){void 0!==n&&(void 0===i[n[t]]&&(i[n[t]]=[]),i[n[t]].push(n))})),i},bizagi.util.downloadBlobFile=function(e,t){if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var i=window.URL.createObjectURL(e),n=document.createElement("a");n.style="display: none",document.body.appendChild(n),n.href=i,n.download=t,n.click(),window.URL.revokeObjectURL(i),n.parentNode.removeChild(n)}},bizagi.util.handleJSONResponse=function(e){var t=new $.Deferred;return e&&/application\/json/i.test(e.type)?bizagi.util.blobToText(e).then((function(i){"error"===JSON.parse(i).type?t.reject(i):t.resolve(e)})).fail((function(e){t.reject(e)})):t.resolve(e),t.promise()},bizagi.util.bzValidator=function(e){var t=[],i=[];return{add:function(e,i){return"function"==typeof e?t.push({callback:e,message:i}):console.warn("Callback is not a function"),this},validate:function(n){i=[];try{t&&t.length>0?t.forEach((function(t){var n=t.callback(e);bizagi.util.isBoolean(n)?n||i.push(t.message||"Validation error"):i.push("Callback evaluation is not a function: "+t.message)})):i.push("There are not validators added")}catch(e){console.warn(e)}return n({errors:i}),t=[],this},isValid:function(){return i&&!i.length}}},bizagi=void 0!==bizagi?bizagi:{},bizagi.util=void 0!==bizagi.util?bizagi.util:{},bizagi.util.smartphone=void 0!==bizagi.util.smartphone?bizagi.util.smartphone:{},bizagi.util.tablet=void 0!==bizagi.util.tablet?bizagi.util.tablet:{},bizagi.util.mobility=void 0!==bizagi.util.mobility?bizagi.util.mobility:{},bizagi.util.compatibilityCaseFolder={DEV:"11.0.0.2620",QA:"11.0.0.2636",PREVIEW:"11.0.0.2644",CURRENT:"11.0.0.2657"},bizagi.util.compatibilityAdvancedSearch={DEV:"11.0.0.2447",QA:"11.0.0.2451",PREVIEW:"11.0.0.2482",CURRENT:"11.0.0.2490"},bizagi.util.compatibilityTaskColorState={DEV:"11.0.0.2530",QA:"11.0.0.2532",PREVIEW:"11.0.0.2544",CURRENT:"11.0.0.2550"},bizagi.util.compatibilityCommitRollbackActions={DEV:"10.8.0.2197",QA:"10.8.0.2197",PREVIEW:"10.8.0.2197",CURRENT:"10.8.0.2197"};var DEVICES={};function initBizagi(){0!=bizagi.loader.initialized?((bizagi=void 0!==bizagi?bizagi:{}).services.ajax=void 0!==bizagi.services.ajax?bizagi.services.ajax:{},bizagi.enableCustomizations="undefined"==typeof BIZAGI_ENABLE_CUSTOMIZATIONS||BIZAGI_ENABLE_CUSTOMIZATIONS,bizagi.enableTrace="undefined"==typeof BIZAGI_ENABLE_LOG||BIZAGI_ENABLE_LOG,bizagi.enableDebug="undefined"!=typeof BIZAGI_ENABLE_LOG&&BIZAGI_ENABLE_LOG,bizagi.enableChrono="undefined"==typeof BIZAGI_ENABLE_LOG||BIZAGI_ENABLE_LOG,bizagi.enableProfiler="undefined"!=typeof BIZAGI_ENABLE_PROFILER?BIZAGI_ENABLE_PROFILER:"true"===bizagi.readQueryString().enableProfiler,bizagi.services.ajax.logSuccess="undefined"==typeof BIZAGI_ENABLE_LOG||BIZAGI_ENABLE_LOG,bizagi.services.ajax.logSubmits="undefined"==typeof BIZAGI_ENABLE_LOG||BIZAGI_ENABLE_LOG,bizagi.proxyPrefix="undefined"!=typeof BIZAGI_PROXY_PREFIX?BIZAGI_PROXY_PREFIX:"",bizagi.UserPreferencesUrl="undefined"!=typeof BIZAGI_USER_PREFERENCES_PAGE?BIZAGI_USER_PREFERENCES_PAGE:"",BIZAGI_PATH_TO_BASE="undefined"!=typeof BIZAGI_PATH_TO_BASE?BIZAGI_PATH_TO_BASE:"",bizagi.resourceDefinitionLocation={custom:bizagi.loader.getResource("l10n","bizagi.custom.resources"),default:bizagi.loader.getResource("l10n","bizagi.resources.default"),ja:bizagi.loader.getResource("l10n","bizagi.resources.ja"),en:bizagi.loader.getResource("l10n","bizagi.resources.en-us"),"en-us":bizagi.loader.getResource("l10n","bizagi.resources.en-us"),es:bizagi.loader.getResource("l10n","bizagi.resources.es"),"es-es":bizagi.loader.getResource("l10n","bizagi.resources.es"),"en-mobile":bizagi.loader.getResource("l10n","bizagi.resources.en-mobile")},bizagi.isMobile()&&(bizagi.resourceDefinitionLocation=$.extend({},bizagi.resourceDefinitionLocation,{default:bizagi.loader.getResource("l10n","bizagi.resources.default-mobile"),ar:bizagi.loader.getResource("l10n","bizagi.resources.ar-mobile"),"cs-cz":bizagi.loader.getResource("l10n","bizagi.resources.cs-cz-mobile"),de:bizagi.loader.getResource("l10n","bizagi.resources.de-mobile"),en:bizagi.loader.getResource("l10n","bizagi.resources.en-mobile"),"en-us":bizagi.loader.getResource("l10n","bizagi.resources.en-mobile"),es:bizagi.loader.getResource("l10n","bizagi.resources.es-mobile"),"es-es":bizagi.loader.getResource("l10n","bizagi.resources.es-mobile"),fr:bizagi.loader.getResource("l10n","bizagi.resources.fr-mobile"),it:bizagi.loader.getResource("l10n","bizagi.resources.it-mobile"),ja:bizagi.loader.getResource("l10n","bizagi.resources.ja-mobile"),nl:bizagi.loader.getResource("l10n","bizagi.resources.nl-mobile"),pt:bizagi.loader.getResource("l10n","bizagi.resources.pt-mobile"),ru:bizagi.loader.getResource("l10n","bizagi.resources.ru-mobile"),zh:bizagi.loader.getResource("l10n","bizagi.resources.zh-mobile")})),$.when($.read(bizagi.proxyPrefix+"Rest/Util/Features")).done((function(e){bizagi.features=e})).fail((function(){})),"boolean"==typeof isWebpart&&!0===isWebpart?$.when($.read(bizagi.proxyPrefix+"Rest/Users/CurrentUserGuid")).done((function(e){assignLanguage(e.language)})).fail((function(){assignLanguage()})):assignLanguage(),bizagi.initialized=!0,bizagi.renderLoginMultiple=function(e,t){bizagi.loader.start(t?"loginexternal_multiple":"login_multiple").then((function(){new bizagi.login_multiple.facade(e).execute()}))}):setTimeout(initBizagi,100)}function assignLanguage(e){return e=(e=(e=e||bizagi.readQueryString().language)||("undefined"!=typeof BIZAGI_LANGUAGE?BIZAGI_LANGUAGE:null))||"default",bizagi.language=e,bizagi.localization=new bizagi.l10n(bizagi.resourceDefinitionLocation),bizagi.localization.setLanguage(bizagi.language),bizagi.templateService=new bizagi.templates.services.service(bizagi.localization),window.onerror=function(){bizagi.logError("Uncaught error",{message:arguments[0],file:arguments[1],line:arguments[2]})},bizagi.localization.readyDeferred}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}DEVICES[DEVICES.desktop=0]="desktop",DEVICES[DEVICES.smartphone=1]="smartphone",DEVICES[DEVICES.tablet=2]="tablet",bizagi.deviceEnum=DEVICES,bizagi.util.cases=void 0!==bizagi.util.cases?bizagi.util.cases:{},bizagi.util.cases.getStatusTimeLabel=function(e){var t={},i=new Date,n=i.getFullYear(),o=i.getMonth(),r=i.getDate();e=bizagi.util.isDate(e)?e:i;var a=new Date(e),s=a.getMonth(),l=a.getFullYear(),u=a.getDate();return new Date(l,s,u,0,0,0)-new Date(n,o,r,0,0,0)<0?(t.date=bizagi.util.dateFormatter.formatDate(new Date(a),"dd MMM"),t.type=bizagi.localization.getResource("workportal-taskfeed-overdue"),t.status="red"):r==u?(t.date=bizagi.util.dateFormatter.formatDate(new Date(a),"hh:mm"),t.type=bizagi.localization.getResource("workportal-taskfeed-today"),t.status="yellow"):r+1==u?(t.date=bizagi.util.dateFormatter.formatDate(new Date(a),"hh:mm"),t.type=bizagi.localization.getResource("workportal-taskfeed-tomorrow"),t.status="yellow"):(t.date=bizagi.util.dateFormatter.formatDate(new Date(a),"dd MMM"),t.type=bizagi.localization.getResource("workportal-taskfeed-upcomming"),t.status="green"),t},bizagi.util.detectDevice=function(){return bizagi.detectDevice()},bizagi.util.isMobileDevice=function(e){return e=e||bizagi.detectDevice(),["smartphone_ios","smartphone_ios_native","smartphone_android","smartphone_android_native","tablet","tablet_ios","tablet_ios_native","tablet_android","tablet_android_native"].indexOf(e)>-1},bizagi.util.isNativeMobileDevice=function(e){return bizagi.util.isMobileDevice(e)&&bizagi.util.isNativePluginSupported()},bizagi.util.isTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),["tablet","tablet_ios","tablet_ios_native","tablet_android","tablet_android_native"].indexOf(e)>-1},bizagi.util.isAndroidTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isTabletDevice()&&-1!==e.indexOf("android")},bizagi.util.isiOSTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isTabletDevice()&&-1===e.indexOf("android")},bizagi.util.isiOSIpadPro=function(){var e="undefined"!=typeof BIZAGI_DEVICE_SUPPORT_TOUCHID&&BIZAGI_DEVICE_SUPPORT_TOUCHID;return bizagi.util.isiOSTabletDevice()&&e&&2==window.devicePixelRatio},bizagi.util.isSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),["smartphone_ios","smartphone_ios_native","smartphone_android","smartphone_android_native"].indexOf(e)>-1},bizagi.util.isAndroidSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isSmartphoneDevice()&&-1!==e.indexOf("android")},bizagi.util.setIphoneXOverrides=function(){bizagi.util.isNativePluginSupported()&&void 0!==bizagiapp.isIphoneX&&bizagiapp.isIphoneX((function(e){if("true"===e)$("head").append('<style type="text/css" id="iphoneXStyle"></style>'),$("#iphoneXStyle").text(".bz-menu-home .bz-menu-carousel .bz-menu-carousel-seat{padding:0 16px 16px}.bz-home-header .km-navbar{padding:35px 16px 5px}#menuHome .bz-home-header .km-navbar{padding:30px 3px 0}#menuHome .km-navbar .km-rightitem{font-size:19px;right:.4em;top:32px}#menuHome .km-navbar .km-leftitem{font-size:24px;left:0;top:25px}#taskFeed .km-navbar .km-rightitem{font-size:19px;top:25px;right:0}#taskFeed .km-navbar .km-leftitem{font-size:24px;top:20px;left:0}#homePortal #menuHome .km-view-title .km-buttongroup{margin-left:0;top:2px}.bz-render-header,.search-container{padding-top:25px}#activity-search,.search-container .bz-wp-mu-button-search{padding-top:40px}#content-newCase-drawer{padding-top:25px}#menuHome{background:#EBEDF1!important}.km-flat .km-content{background-color:#fff} .k-loading-mask{top:0!important}");else if(bizagi.util.isiOSDevice()){$("head").append('<style type="text/css" id="iphoneStyle"></style>');$("#iphoneStyle").text("#homePortal .bz-home-header > div{padding-top:.8em}")}}))},bizagi.cookie=function(e,t,i){if(arguments.length>1&&"[object Object]"!==String(t)){if(i=$.extend({},i),null==t&&(i.expires=-1),"number"==typeof i.expires){var n=i.expires,o=i.expires=new Date;o.setDate(o.getDate()+n)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var r,a=(i=t||{}).raw?function(e){return e}:decodeURIComponent;return(r=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(r[1]):null},bizagi.util.isiOSSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isSmartphoneDevice()&&-1!==e.indexOf("ios")},bizagi.util.formatECMDownloadURL=function(e){if(!bizagi.util.isMobileBrowser())return e;var t=bizagi.loader.getPathUrl(e),i=bizagi.loader.getPathUrl("");if(-1!==t.indexOf(i))return e;var n=bizagi.loader.getPathUrl("/");return t.replace(n,i)},bizagi.util.getAndroidVersion=function(){var e=navigator.userAgent.toLowerCase().match(/android\s([0-9\.]*)/);return!!e&&parseFloat(e[1])},bizagi.util.isMobileBrowser=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},bizagi.util.setKendoViewTitle=function(e,t){if(void 0!==e){var i=$(".km-navbar",e.header).data("kendoMobileNavBar");i&&(i.title(t),e.options.title=e.title=t)}},bizagi.util.processFailMessage=function(e){var t=e||{};try{t=(t="string"==typeof t?JSON.parse(t):t).responseText||t.message||t}catch(i){t=e}return t},bizagi.util.isValidResource=function(e){return!!bizagi.localization&&bizagi.localization.getResource(e)!==e},bizagi.util.isElementInViewport=function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},bizagi.util.media={ResolutionType:{SMALL:1,MEDIUM:2,LARGE:3,ORIGINAL:4,STANDARD:5},uploadFile:function(e){var t=new $.Deferred,i=new FormData;$.each(e.data,(function(e,t){i.append(e,t)})),bizagi.util.isAndroidDevice()||(e.dataFile=this.normalizeIOSFilePath(e.dataFile));var n=function(e){console.log("error uploading files",e),t.reject(e)};return window.resolveLocalFileSystemURL(e.dataFile,(function(o){o.file((function(n){var o=new FileReader;o.onloadend=function(o){var r=new Blob([this.result],{type:n.type});void 0!==e.options.uploadKey&&i.append(e.options.uploadKey.key,r,e.options.fileName),$.ajax({url:e.options.addUrl,type:"POST",contentType:!1,processData:!1,data:i}).done((function(e){bizagi.util.isFailResponse(e)?t.reject({responseText:e}):t.resolve({response:e})})).fail((function(e){t.reject(e)}))},o.readAsArrayBuffer(n)}),n)}),n),t.promise()},checkFileTypes:function(e,t,i){if(!new RegExp("^.*\\.("+i.join("|")+")$","i").test(e.name))return bizagi.showMessageBox(bizagi.localization.getResource("render-upload-error-extensions")),!1;if(t.validExtensions&&t.validExtensions.length>0){var n=t.validExtensions.replaceAll("*.","").split(";");if(!this.stringEndsWithValidExtension(e.name,n,!0)){var o=bizagi.localization.getResource("render-upload-allowed-extensions");return bizagi.showMessageBox(o+" "+t.validExtensions),!1}}return!0},checkMaxSizeFile:function(e,t){return void 0===t.maxSize||null==t.maxSize||""===t.maxSize||(void 0!==e?0===e.size?(bizagi.showMessageBox(bizagi.localization.getResource("render-upload-error-file-empty").replace("%s",e.name)),!1):!(e.size>=t.maxSize)||(bizagi.showMessageBox(bizagi.localization.getResource("render-upload-alert-maxsize").replace("{0}",t.maxSize)),!1):(bizagi.showMessageBox(bizagi.localization.getResource("render-required-upload").replace("#label#",t.displayName)),!1))},normalizeIOSFilePath:function(e){return e&&-1==e.indexOf("cdvfile://")&&(-1==e.indexOf("file:///")&&(e="file://"+e),e.indexOf("private/var/mobile")>=0&&(e=e.replace("private/var/mobile","var/mobile"))),e},stringEndsWithValidExtension:function(e,t,i){if(!1===i&&0===e.length)return!0;for(var n=0,o=t.length;n<o;n++)if("*"===t[n]||e.toLowerCase().endsWith(t[n].toLowerCase()))return!0;return!1},getImagePath:function(e){var t=e,i=bizagi.util.getAndroidVersion();if(!i)return t;if("content://com.android"===t.substring(0,21)&&i<=4.4){var n=t.split("%3A");n.length>1?t="content://media/external/images/media/"+n[1]:(n=t.split("/"),t="content://media/external/images/media/"+n[n.length-1])}return t},checkMaxSize:function(e,t){var i=new $.Deferred;return void 0!==t.maxSize&&null!==t.maxSize&&""!==t.maxSize||i.resolve(),window.resolveLocalFileSystemURL(e,(function(e){e.file((function(e){e.size>=t.maxSize?(bizagi.showMessageBox(bizagi.localization.getResource("render-upload-alert-maxsize").replace("{0}",t.maxSize),"Error"),i.reject()):i.resolve(e)}))})),i.promise()},checkMaxSizeVideo:function(e,t){var i=new $.Deferred,n=e[0].size;return void 0!==t.maxSize&&null!=t.maxSize&&""!==t.maxSize||i.resolve(),n>=t.maxSize?(bizagi.showMessageBox(bizagi.localization.getResource("render-upload-alert-maxsize").replace("{0}",t.maxSize),"Error"),i.reject()):i.resolve(),i.promise()},hasExtension:function(e){if(!e)return!1;var t=bizagi.util.media.getFileExtension(e);return!bizagi.util.isEmpty(t)},getFileName:function(e){if(!e)return"";var t=e.substr(e.lastIndexOf("/")+1);return t&&-1!==t.indexOf("?")&&(t=t.split("?").shift()),t||""},getFileExtension:function(e){if(!e)return"";var t=bizagi.util.media.getFileName(e).match(/\.([0-9a-z]+)(?=[?#])|(\.)(?:[\w]+)$/gim)||[]||null;return t&&t[0]?t.shift():""},getMIMETypeByExtension:function(e){var t;switch(e){case".jpg":case".jpeg":t="image/jpeg";break;case".png":t="image/png";break;case".bmp":t="image/bmp";break;case".doc":t="application/msword";break;case".docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case".xls":t="application/vnd.ms-excel";break;case".xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case".ppt":t="application/vnd.ms-powerpoint";break;case".pptx":t="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case".pdf":t="application/pdf";break;case".mp3":t="audio/mp3";break;case".wav":t="audio/wav";break;case".mp4":t="video/mp4";break;case".mov":case".qt":t="video/quicktime";break;default:t=""}return t},getNativePath:function(e){var t=new $.Deferred;return bizagi.util.isAndroidDevice()&&!bizagi.util.media.hasExtension(e)&&bizagi.util.isCordovaSupported()?window.FilePath.resolveNativePath(e,(function(e){t.resolve(e)}),(function(i){t.reject(e)})):t.resolve(e),t.promise()},getFileDataInfo:function(e){return $.when(bizagi.util.media.getNativePath(e)).then((function(e){return{url:e,name:bizagi.util.media.getFileName(e),extension:bizagi.util.media.getFileExtension(e)}}))},getImageResolutionItems:function(){return[{guid:this.ResolutionType.SMALL,displayName:bizagi.localization.getResource("workportal-size-small")},{guid:this.ResolutionType.MEDIUM,displayName:bizagi.localization.getResource("workportal-size-medium")},{guid:this.ResolutionType.LARGE,displayName:bizagi.localization.getResource("workportal-size-large")},{guid:this.ResolutionType.ORIGINAL,displayName:bizagi.localization.getResource("workportal-size-original")}]},getImageResolutionSizes:function(){var e=bizagi.util.getAndroidVersion();return e&&e<=4.4?[{guid:4,displayName:bizagi.localization.getResource("workportal-size-original")}]:bizagi.util.media.getImageResolutionItems()},modalResolutionUpload:function(){for(var e=bizagi.util.media.getImageResolutionItems(),t=[],i=$.Deferred(),n=e.length,o=0;o<n;o++)t.push(e[o].displayName);return t.push(bizagi.localization.getResource("text-cancel")),bizagi.showSimpleConfirmationBox(bizagi.localization.getResource("workportal-general-pick-option"),"",t).done((function(e){i.resolve(e)})),i},getImageResolution:function(e){var t={width:0,height:0};switch(e){case this.ResolutionType.SMALL:t.width=320,t.height=240;break;case this.ResolutionType.MEDIUM:t.width=640,t.height=480;break;case this.ResolutionType.LARGE:t.width=1280,t.height=960;break;case this.ResolutionType.STANDARD:t.width=720,t.height=576}return t},fileAPISupported:function(){if(void 0===this.fileAPISupportedResult){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return this.fileAPISupportedResult=!1,this.fileAPISupportedResult;var e=bizagi.util.getAndroidVersion();if(e&&e<5)return this.fileAPISupportedResult=!1,this.fileAPISupportedResult;var t=document.createElement("input");t.type="file",t.style.display="none",document.getElementsByTagName("body")[0].appendChild(t),this.fileAPISupportedResult=!t.disabled,t.parentNode.removeChild(t)}return this.fileAPISupportedResult},openBinaryFile:function(e,t,i){var n=i,o=function(t){t.file((function(t){null!=t.type&&null!=t.type||!e.type||(t.type=e.type),function(e){cordova.plugins.fileOpener2.open(e.localURL,e.type,{error:function(t){var n=t.message;if(9===t.status){var o=bizagi.localization.getResource("render-upload-error-no-file-opener").replace("%s",e.name);return n=bizagi.util.isValidResource("render-upload-error-no-file-opener")?o:'There is no application set to open the document "'+e.name+'".',void bizagi.showConfirmationBox(n,bizagi.localization.getResource("workportal-widget-admin-language-widget-download"),"",[{label:bizagi.localization.getResource("workportal-widget-admin-language-widget-download"),action:"resolve"},{label:bizagi.localization.getResource("confirmation-savebox-cancel"),action:"reject"}]).done((function(){window.open(i,"_system")}))}bizagi.showMessageBox(n,"Error")},success:function(){bizagi.log("Success showed file "+e.name)}})}(t)}),(function(e){console.error("Error in FileEntry.file",e)}))},r=cordova.file.externalDataDirectory||cordova.file.dataDirectory||cordova.file.cacheDirectory;window.resolveLocalFileSystemURL(encodeURI(r),(function(i){t||(t=n.split("/").pop().replace(/([\?#&]+)/g,"/").split("/").shift()||"downloaded-file"),i.getFile(t,{create:!0,exclusive:!1},(function(t){!function(e,t){e.createWriter((function(i){i.onwriteend=function(){o(e)},i.onerror=function(e){console.log("Failed file write: "+e.toString())},t||(t=new Blob(["some file data"],{type:"text/plain"})),i.write(t)}))}(t,e)}),(function(e){console.log("Error getFile",e)}))}),(function(e){bizagi.log("Error loading dir entry...",e)}))},stringToByteArray:function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=255&e.charCodeAt(i);return t},byteArrayToBlob:function(e,t){var i=new(window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder);return i.append(e.buffer),i.getBlob(t.split(";")[0])},downloadFile:function(e,t){var i=this,n=new $.Deferred;return bizagi.util.isNativePluginSupported()&&!bizagi.util.isAndroidDevice()?bizagiapp.openFileWebView({itemUrl:e,component:BIZAGI_NATIVE_COMPONENT},(function(e){n.resolve()}),(function(e){var t=JSON.parse(e);n.reject({responseText:t})})):$.ajax({url:e,type:"GET",dataType:"binary",processData:!1}).then((function(o){if("application/json"==o.type){var r=new FileReader;r.onloadend=function(){n.reject({responseText:r.result})},r.readAsText(o)}else{if("string"==typeof o){var a=arguments[2],s=a.getResponseHeader("Content-type");o=i.byteArrayToBlob(i.stringToByteArray(o),s)}i.handleBinaryFile(o,t,e),n.resolve()}})).fail((function(e){n.reject(e)})),n.promise()},openOfflineFile:function(e,t,i){var n=new $.Deferred;return bizagi.util.isNativePluginSupported()&&!bizagi.util.isAndroidDevice()?bizagiapp.openFileWebView({itemData:e,itemMimeType:t,component:BIZAGI_NATIVE_COMPONENT},(function(e){n.resolve()}),(function(e){var t=JSON.parse(e);n.reject({responseText:t})})):(e=bizagi.util.b64toBlob(e,t),this.handleBinaryFile(e,i),n.resolve()),n.promise()},handleBinaryFile:function(e,t,i){if(bizagi.util.isCordovaSupported()&&cordova.plugins.fileOpener2&&i)this.openBinaryFile(e,t,i);else{var n=window.URL.createObjectURL(e),o=document.createElement("a");if(o.style="display: none",document.body.appendChild(o),bizagi.util.isiOSDevice()){var r;window.URL=window.URL||window.webkitURL;var a=new FileReader,s=this.getMIMETypeByExtension(this.getFileExtension(t)),l=e.slice(0,e.size,s);o.onclick=function(){var e;bizagi.util.isCordovaSupported()?e=window.open(r,"_blank","enableViewportScale=yes"):(e=window.open()).document.write('<iframe src="'+r+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>'),e?window.URL.revokeObjectURL(r):alert("Pop-ups are blocked. Please disable 'Block Pop-ups' in your current navigator")},a.onloadend=function(){r=a.result,o.download=t,o.click()},a.readAsDataURL(l)}else o.href=n,o.download=t,o.click(),window.URL.revokeObjectURL(n);o.parentNode.removeChild(o)}},transformImageSize:function(e,t){var i=new $.Deferred,n=t.width,o=t.height;return window.resolveLocalFileSystemURL(e,(function(t){t.file((function(t){var r=new FileReader;r.onloadend=function(){var t=new Image;t.onload=function(){var e=t.width,r=t.height;0!==n&&(e>r?e>n&&(r*=n/e,e=n):r>o&&(e*=o/r,r=o));var a=document.createElement("canvas");a.width=e,a.height=r,a.getContext("2d").drawImage(this,0,0,e,r),bizagi.util.media.saveBlobToFile({base64Image:a.toDataURL("image/jpeg",.5)},i),t=null},t.src=bizagi.util.media.getImagePath(e)},r.readAsDataURL(t)}))})),i.promise()},saveBlobToFile:function(e,t){var i=e.base64Image,n=bizagi.util.b64toBlob(i.replace("data:image/jpeg;base64,",""));window.requestFileSystem(LocalFileSystem.PERSISTENT,0,(function(e){var o=e.root,r=function(e){e.onwriteend=function(){bizagi.log("Write completed."),t.resolve({localUrl:e.localURL,base64Image:i})},e.onerror=function(e){bizagi.log("Write failed: "+e.toString()),t.reject(e.toString())},e.write(n)};o.getFile("bizagiImgTmp.jpg",{create:!0},(function(e){e.createWriter(r,null)}),null)}),(function(){}))}},bizagi.util.b64toBlob=function(e,t,i){t=t||"",i=i||512;for(var n=atob(e),o=[],r=0;r<n.length;r+=i){for(var a=n.slice(r,r+i),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);var u=new Uint8Array(s);o.push(u)}return new Blob(o,{type:t})},bizagi.util.benchmack=function(e,t){var i=Math.pow(10,3);window.console.time(e);for(var n=0;n<i;n++)t();window.console.timeEnd(e)},bizagi.util.languages={es:"es","es-ES":"es","es-AR":"es","es-BO":"es","es-Cl":"es","es-CO":"es","es-CR":"es","es-DO":"es","es-EC":"es","es-SV":"es","es-GT":"es","es-HN":"es","es-MX":"es","es-NI":"es","es-PA":"es","es-PY":"es","es-PR":"es","es-PE":"es","es-US":"es","es-UY":"es","es-VE":"es",en:"en-US","en-AU":"en-US","en-BZ":"en-US","en-CA":"en-US","en-029":"en-US","en-IN":"en-US","en-IE":"en-US","en-JM":"en-US","en-MY":"en-US","en-NZ":"en-US","en-PH":"en-US","en-SG":"en-US","en-ZA":"en-US","en-TT":"en-US","en-GB":"en-US","en-US":"en-US","en-ZW":"en-US",de:"de","de-AT":"de","de-DE":"de","de-LI":"de","de-LU":"de","de-CH":"de",fr:"fr","fr-BE":"fr","fr-CA":"fr","fr-LU":"fr","fr-MC":"fr","fr-CH":"fr","fr-FR":"fr",it:"it","it-IT":"it","it-CH":"it",ja:"ja","ja-JA":"ja","ja-JP":"ja",nl:"nl","nl-NL":"nl","nl-BE":"nl",pt:"pt-PT","pt-BR":"pt-PT","pt-PT":"pt-PT",ru:"ru","ru-RU":"ru",cs:"cs","cs-CZ":"cs",ar:"ar","ar-DZ":"ar","ar-BH":"ar","ar-EG":"ar","ar-IQ":"ar","ar-JO":"ar","ar-KW":"ar","ar-LB":"ar","ar-LY":"ar","ar-MA":"ar","ar-OM":"ar","ar-QA":"ar","ar-SA":"ar","ar-SY":"ar","ar-TN":"ar","ar-AE":"ar","ar-YE":"ar",zh:"zh","zh-HK":"zh","zh-MO":"zh","zh-CN":"zh","zh-Hans":"zh","zh-SG":"zh","zh-TW":"zh","zh-Hant":"zh"},bizagi.util.localeDate=function(e,t,i){if(void 0!==$.mobiscroll.i18n[i]){-1!==t.indexOf("tt")&&(t=t.replace("tt","a")),-1!==t.indexOf("MM")&&(-1!==t.indexOf("MMMM")?t=t.replace("MMMM","MM"):-1!==t.indexOf("MM")&&(t=t.replace("MM","mm"))),-1!==t.indexOf("dddd")&&(t=t.replace("dddd","DD"));var n=$.mobiscroll.formatDate(t,e,$.mobiscroll.i18n[i]);return bizagi.util.convertHexNCR2Char(n)}return e},bizagi.util.convertHexNCR2Char=function(e){return e=e.replace(/&#x([A-Fa-f0-9]{1,6});/g,(function(e,t){return bizagi.util.hex2char(t)}))},bizagi.util.hex2char=function(e){var t="",i=parseInt(e,16);return i<=65535?t+=String.fromCharCode(i):i<=1114111?(i-=65536,t+=String.fromCharCode(55296|i>>10)+String.fromCharCode(56320|1023&i)):t+="hex2Char error: Code point out of range",t},bizagi.util.formatMonetaryCell=function(e){return bizagi.util.formatMoney(e,BIZAGI_DEFAULT_CURRENCY_INFO)},bizagi.util.formatMoney=function(e,t){var i="",n="",o="",r="",a="";if((e=null!=e?e.toString():"0").length>=1){var s=e.indexOf(".");if(s>0)o=(e=parseFloat(e).toFixed(t.decimalDigits)).substring(0,s);else{for(var l=0;l<t.decimalDigits;l++)a+="0";o=e.replace(/\D/g,"")}if(e=e.replace(/\D/g,""),r=t.decimalDigits>0?s>0?t.decimalSeparator+e.substring(e.length-t.decimalDigits,e.length):t.decimalSeparator+a:"",o.length>3){var u=0;for(l=o.length-1;l>=0;l--)3==u&&(n+=".",u=0),n+=o[l],u+=1;for(l=n.length-1;l>=0;l--)i+=n[l]}else i=o;return i=i.replaceAll(".",t.groupSeparator),i=t.symbol+i+r}return e},bizagi.util.isValidDate=function(e){if(void 0!==e){var t=new Date(e);return!isNaN(t.valueOf())}return!1},bizagi.util.uniqueID=function(){return Math.floor(Math.random()*+new Date).toString()},bizagi.util.showNotification=function(e){e=e||{};var t=window.document,i=e.type||"default",n=!1!==e.stop,o=kendo.template("<div id='#=data.id#' class='sync-notification-offline-container bz-mo-icon #=data.icon#'>    <span class='sync-notification-offline-title #=data.type#'>#=data.title#</span></div>",{useWithBlock:!1}),r=$(o({id:Math.floor(Date.now()/1e3),icon:function(e){switch(e){case"info":return e+" bz-information-icon";case"warning":return e+" bz-ontime-normal";case"error":return e+" bz-overdue-normal";case"success":return e+" bz-upcoming-normal";default:return e+" bz-workonit"}}(i),type:i,title:e.text||""}));r.appendTo($("body",t)),void 0!==bizagi.kendoMobileApplication&&n&&bizagi.loading.stop(),r.fadeIn(e.fadeIn||1500,(function(){r.stop()})),r.fadeOut(e.fadeOut||2e3,(function(){r.remove()}))},bizagi.util.showMobileToast=function(e){bizagi.util.isCordovaSupported()?bizagiapp.showToast(e):(e.text=e.message,bizagi.util.showNotification(e))},bizagi.util.isOfflineForm=function(e){if(!bizagi.util.hasOfflineFormsEnabled()||void 0===e)return!1;var t=e.context||null,i=e.container||null,n=null!==i?i:null!==t?t.getFormContainer():null;if(null===n)return!1;var o=n.getParams()||{};return void 0!==o.isOfflineForm&&bizagi.util.parseBoolean(o.isOfflineForm)},bizagi.util.inputTray=function(e){var t="inbox";return bizagi.util.hasOfflineFormsEnabled()&&null==(t=bizagi.util.getLastProcessInboxInputTray())?e?"inbox":"true":t},bizagi.version={compare:function(e,t){for(var i=(e+"").split("."),n=(t+"").split("."),o=0,r=Math.max(i.length,n.length);o<r;o++){if(i[o]&&!n[o]&&parseInt(i[o])>0||parseInt(i[o])>parseInt(n[o]))return 1;if(n[o]&&!i[o]&&parseInt(n[o])>0||parseInt(i[o])<parseInt(n[o]))return-1}return 0},scope:{actual:function(){return"1.0.0"},equalsTo:function(e){return 0==bizagi.version.compare(this.actual(),e)},notEqualsTo:function(e){return 0!=bizagi.version.compare(this.actual(),e)},greaterThan:function(e){return bizagi.version.compare(this.actual(),e)>0},lessThan:function(e){return bizagi.version.compare(this.actual(),e)<0},greaterThanOrEqualsTo:function(e){return bizagi.version.compare(this.actual(),e)>=0},lessThanOrEqualsTo:function(e){return bizagi.version.compare(this.actual(),e)<=0},between:function(e,t){if(1==bizagi.version.compare(e,t)){var i=e;e=t,t=i}return bizagi.version.compare(this.actual(),e)>0&&bizagi.version.compare(this.actual(),t)<0},notBetween:function(e,t){return!this.between(e,t)},betweenOrEqualsTo:function(e,t){if(1==bizagi.version.compare(e,t)){var i=e;e=t,t=i}return bizagi.version.compare(this.actual(),e)>=0&&bizagi.version.compare(this.actual(),t)<=0},notBetweenOrEqualsTo:function(e,t){return!this.betweenOrEqualsTo(e,t)}}},bizagi.version.server=$.extend({},bizagi.version.scope,{actual:function(){return"undefined"==typeof BIZAGI_SERVER_VERSION||bizagi.util.isEmpty(BIZAGI_SERVER_VERSION)?bizagi.loader.version:BIZAGI_SERVER_VERSION}}),bizagi.version.client=$.extend({},bizagi.version.scope,{actual:function(){return bizagi.loader.version}}),bizagi.util.hasOfflineFormsEnabled=function(){var e=bizagi.util.isOfflineFormsV2Supported();return"undefined"!=typeof BIZAGI_ENABLE_OFFLINE_FORMS&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_OFFLINE_FORMS)||e},bizagi.util.isFlatDesignEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_FLAT&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_FLAT)},bizagi.util.isMobileGridEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_MOBILE_GRID&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_MOBILE_GRID)},bizagi.util.isNativeHeaderEnabled=function(){return"undefined"!=typeof NATIVE_HEADER_ENABLE&&!0===bizagi.util.parseBoolean(NATIVE_HEADER_ENABLE)},bizagi.util.isQuickSearchEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_QUICK_SEARCH&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_QUICK_SEARCH)},bizagi.util.isOAuth2Enabled=function(){return"undefined"!=typeof BIZAGI_AUTH_TYPE&&"OAuth"===BIZAGI_AUTH_TYPE},bizagi.util.getNativeComponent=function(){return"undefined"!=typeof BIZAGI_NATIVE_COMPONENT?BIZAGI_NATIVE_COMPONENT:""},bizagi.util.isVersionSupported=function(){var e=!0;if("undefined"!=typeof BIZAGI_SERVER_VERSION&&!bizagi.util.isEmpty(BIZAGI_SERVER_VERSION)){var t=BIZAGI_SERVER_VERSION.match(/\d+\.\d+/);e=!t||parseFloat(t.shift())>=11}return e},bizagi.util.isActionsButtonSupported=function(){return bizagi.override.enableMfb&&!(bizagi.util.isAndroidDevice()&&bizagi.util.isCordovaSupported()&&bizagi.util.getAndroidVersion()<4.4)},bizagi.util.getChannelType=function(){return"undefined"==typeof BIZAGI_SERVER_CHANNEL||bizagi.util.isEmpty(BIZAGI_SERVER_CHANNEL)?bizagi.loader.channel||"CURRENT":BIZAGI_SERVER_CHANNEL},bizagi.util.isCordovaSupported=function(){return"undefined"!=typeof cordova},bizagi.util.isNativePluginSupported=function(){return"undefined"!=typeof bizagiapp},bizagi.util.isTabletNativeSupported=function(){return"undefined"!=typeof bizagiapp&&bizagi.util.isTabletDevice()},bizagi.util.isSmartphoneNativeSupported=function(){return"undefined"!=typeof bizagiapp&&bizagi.util.isSmartphoneDevice()},bizagi.util.detectRealDevice=function(){var e="undefined"==typeof BIZAGI_DEFAULT_DEVICE||bizagi.util.isEmpty(BIZAGI_DEFAULT_DEVICE)?null:BIZAGI_DEFAULT_DEVICE;BIZAGI_DEFAULT_DEVICE="";var t=bizagi.detectDevice();return BIZAGI_DEFAULT_DEVICE=e,t},bizagi.util.isAndroid=function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1},bizagi.util.isAndroidDevice=function(){return bizagi.util.detectDevice().indexOf("android")>-1},bizagi.util.isiOSDevice=function(){return-1===bizagi.util.detectDevice().indexOf("android")},bizagi.util.isString=function(e){return"[object String]"===Object.prototype.toString.apply(e)},bizagi.util.isObject=function(e){return"[object Object]"===Object.prototype.toString.apply(e)},bizagi.util.isArray=function(e){return Array.isArray(e)},bizagi.util.isNull=function(e){return"[object Null]"===Object.prototype.toString.apply(e)},bizagi.util.isBoolean=function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},bizagi.util.decodeURI=function(e){for(var t,i=!1,n=e=e||"";!i;)try{(t=decodeURI(n))==n?i=!0:n=t}catch(e){i=!0}return n},bizagi.util.hasScroll=function(e,t){e.length&&(e=e[0]);var i=!!e[t="vertical"===t?"scrollTop":"scrollLeft"];return i||(e[t]=1,i=!!e[t],e[t]=0),i},bizagi.util.loseFocus=function(){$.mobiscroll.activeInstance&&$.mobiscroll.activeInstance.cancel(),$(":focus").blur(),$(".km-modalview")&&void 0!==$(".km-modalview").data("kendoMobileModalView")&&$(".km-modalview").data("kendoMobileModalView").close(),$(".km-actionsheet")&&void 0!==$(".km-actionsheet").data("kendoMobileActionSheet")&&$(".km-actionsheet").data("kendoMobileActionSheet").close()},bizagi.util.validateFeatureSupport=function(e){var t,i=bizagi.util.getChannelType().toUpperCase();switch(e){case"filesCount":case"filesList":case"discussionCase":t=bizagi.util.compatibilityCaseFolder[i];break;case"advancedSearch":t=bizagi.util.compatibilityAdvancedSearch[i];break;case"taskColorState":t=bizagi.util.compatibilityTaskColorState[i];break;case"commitRollbackActions":t=bizagi.util.compatibilityCommitRollbackActions[i];break;case"offlineCustomizedColumns":case"sortEnabled":t="11.2.4.0";break;case"processListEnabled":t="11.0.0.0";break;case"defaultInboxEnabled":t="11.2.4.0";break;default:return!1}return!!t&&bizagi.version.server.greaterThanOrEqualsTo(t)},bizagi.util.isDataUrl=function(e){try{return!!e.toString().match(/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i)}catch(e){}return!1},bizagi.util.isNativePluginSupported()&&window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),bizagi.util.getMessageFromNetworkState=function(e,t){var i="render-without-globalform-offline",n="Your offline case has been created successfully. It will be synchronized as soon as you go online.";if(t)switch(i+="-"+t,t){case"save":n="Your offline case has been saved successfully. It will be synchronized as soon as you go online.";break;case"next":n="Your offline case has been advanced successfully. It will be synchronized as soon as you go online."}return e?bizagi.localization.getResource(i+"-userOnline","The case has been created successfully, please wait until the server synchronizes"):bizagi.localization.getResource(i,n)},bizagi.util.sanitizeHTML=function(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML},bizagi.util.arrayUnique=function(e){for(var t=e.concat(),i=0,n=t.length;i<n;++i)for(var o=i+1;o<n;++o)t[i]===t[o]&&t.splice(o-=1,1);return t},bizagi.util.getMaxZIndex=function(e){return e=e||$("div,span"),Math.max.apply(null,$(e).map((function(){var e;return isNaN(e=parseInt($(this).css("z-index"),10))?0:e})))},function(e){jQuery.getMaxZindex=function(){var t=e("*"),i=1;return e.each(t,(function(t,n){var o=parseInt(e(n).css("z-index"));o>i&&(i=o+1)})),i}}(jQuery),Math.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},bizagi.util.b64EncodeUnicode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))},bizagi.util.isNativeImageEditorSupported=function(){return bizagi.util.isNativePluginSupported()&&bizagi.util.isiOSDevice()&&bizagi.override.enableImageEditor},bizagi.util.isOfflineFormsV2Supported=function(){return bizagi.version.server.greaterThanOrEqualsTo("11.2.2.36")},bizagi.util.isCaseSummaryTaskOptionsSupported=function(){return bizagi.version.server.greaterThanOrEqualsTo("11.2.4.0113")},bizagi.util.isOfflineErrorsViewSupported=function(){return bizagi.util.isOfflineFormsV2Supported()},bizagi.util.isOfflineExecutionSupportedInCurrentEnvironment=function(){return bizagi.util.isCordovaSupported()||"debug"===(""+BIZAGI_ENVIRONMENT).toLowerCase()},bizagi.util.isMobileInboxCardViewSupported=function(){var e=!1,t=bizagi.util.getMobileFeatures();return bizagi.util.isTabletDevice()&&t&&t.mobileInboxCardView&&(e=!0===t.mobileInboxCardView.enabled),e},bizagi.util.isMobileInboxByProcessSupported=function(){var e=!1,t=bizagi.util.getMobileFeatures();return bizagi.util.isTabletDevice()&&t&&t.mobileInboxByProcess&&(e=!0===t.mobileInboxByProcess.enabled),e},bizagi.util.getMobileappLauncherURLValue=function(){var e=!1,t=bizagi.util.getMobileFeatures();return t&&t.appLauncherURL&&t.appLauncherURL.value&&(e=t.appLauncherURL.value.length>0),e},bizagi.util.isNativeAppLauncherSupported=function(){return bizagi.version.server.greaterThanOrEqualsTo("11.0.0")&&bizagi.util.getMobileappLauncherURLValue()},bizagi.util.getMobileFeatureFlagValue=function(e){var t=null,i=bizagi.util.getMobileFeatures();return i&&i[e]&&(t=i[e].enabled),t},bizagi.util.loadFile=function(e){var t=new $.Deferred,i=e&&e.src?e.src:e,n=e&&e.type?e.type:null;return bizagi.loader?bizagi.loader.loadFile({src:i,type:n}).then((function(){t.resolve()})):t.reject(),t.promise()},bizagi.util.encodeHtmlText=function(e){var t=e||"",i="";if("string"==typeof t){var n=bizagi.util.decodeURI(t);i=bizagi.util.encodeString(n)}return i},bizagi.util.encodeString=function(e){var t=e||"";return t=(t=(t=(t=t.replaceAll("&","&amp;")).replaceAll("$","&#36;")).replaceAll("<","&lt;").replaceAll(">","&gt;")).replaceAll('"',"&#34;").replaceAll("'","&#39;").replaceAll("/","&#47;")},bizagi.util.escapeRegex=function(e){return(e=e||"").replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},bizagi.util.getFeatureObject=function(e){var t=e.split(".");return this.featureObjectCache=this.featureObjectCache||{},e in this.featureObjectCache?this.featureObjectCache[e]:this.featureObjectCache[e]=function(t){var i=bizagi.util.getConfigFeatures();if("string"==typeof e&&void 0!==i){for(var n=i,o=0,r=t.length;o<r;o++)if(void 0===(n=n[t[o]]))return;return n}}(t)},bizagi.util.getConfigFeatures=function(){var e=window.bizagiConfig||bizagiConfig||{};return bizagi.util.isMobileDevice()&&"undefined"!=typeof BIZAGI_MOBILE_FEATURES&&!bizagi.util.isEmpty(BIZAGI_MOBILE_FEATURES)&&(e.features=JSON.parse(BIZAGI_MOBILE_FEATURES||"{}")),e.features},bizagi.util.resetConfigFeatures=function(){bizagi.util.featureObjectCache=void 0},bizagi.util.b64toBlob=function(e,t,i){t=t||"",i=i||512;for(var n=atob(e),o=[],r=0;r<n.length;r+=i){for(var a=n.slice(r,r+i),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);var u=new Uint8Array(s);o.push(u)}return new Blob(o,{type:t})},bizagi.util.encodeXpath=function(e){return bizagi.util.isEmpty(e)||void 0===e.replaceAll?"":e.replaceAll(".","_").replaceAll("=","_").replaceAll("[","_").replaceAll("]","_")},bizagi.util.isFailResponse=function(e){return e&&(e.type&&"error"===e.type||e.status&&"error"===e.status||e.code&&"UNKNOWN_ERROR"===e.code)},String.prototype.hashCode=function(){var e,t=0;if(0===this.length)return t;for(e=0;e<this.length;e++)t=(t<<5)-t+this.charCodeAt(e),t|=0;return t},bizagi.util.getCurrentDatetime=function(){return(new Date).toLocaleString()},bizagi.util.getCurrentDatetimestamp=function(){return(new Date).getTime()},bizagi.util.getSizeJsonObjectInMegaBytes=function(e){return(new TextEncoder).encode(JSON.stringify(e)).length/1024/1024},bizagi.util.validateIfSaveMobileFeaturesIsEnabled=function(){return bizagi.util.isNativePluginSupported()},function(e){e.widget("ui.bizagi_notifications",{options:{containerAdditionalClass:"",headerAdditionalClass:"",contentAdditionalClass:"",itemAdditionalClass:"",itemIcon:"ui-icon-alert",title:"Notifications",minimized:!0,clearEnabled:!0,location:"bottom",device:"desktop"},_init:function(){var t=this,i=t.options,n=t.element,o=Math.floor(10*Math.random());t.counter=0,n.addClass(i.containerAdditionalClass).addClass("ui-bizagi-notifications-container"),n.attr("role","dialog"),n.attr("aria-live","polite"),"rtl"==i.orientation&&n.addClass("ui-bizagi-notification-reverse"),n.addClass(i.minimized?"ui-bizagi-state-collapsed":"ui-bizagi-state-expanded");var r=e("<div></div>").addClass("ui-bizagi-notifications-content").addClass(i.contentAdditionalClass).addClass("ui-widget-content");r.attr("aria-labelledby","notification-"+o);var a=e("<div></div>").addClass("ui-bizagi-notifications-header").addClass(i.headerAdditionalClass).addClass("ui-widget-header").addClass("ui-state-active");if(a.attr("id","notification-"+o),bizagi.util.isTabletDevice()?a.data("expanded",!i.minimized).html("<label>"+i.title+"</label>"):a.data("expanded",!i.minimized).text(i.title),a.mouseenter((function(){n.addClass("ui-bizagi-state-hover")})),a.mouseleave((function(){n.removeClass("ui-bizagi-state-hover")})),t.expandedIcon="bottom"==i.location?"ui-icon-triangle-1-s":"ui-icon-triangle-1-n",t.collapsedIcon="bottom"==i.location?"ui-icon-triangle-1-n":"ui-icon-triangle-1-s","desktop"===i.device?t.headerButton=e("<span />").addClass("ui-bizagi-notifications-box-button").addClass("ui-icon").addClass("ui-icon-closethick").appendTo(a).click((function(){t.hide()})):(a.click((function(){t.onHeaderClick()})),t.headerButton=e("<span />").addClass("ui-bizagi-notifications-box-button").addClass("ui-icon").addClass(i.minimized?t.collapsedIcon:t.expandedIcon).appendTo(a)),i.clearEnabled){var s=e("<span />").addClass("ui-bizagi-notifications-clear-button").appendTo(a).click((function(){t.clearAll(!1)}));e("<span />").addClass("ui-icon").addClass("ui-icon-trash").appendTo(s)}n.append(a).append(r),"bottom"==i.location&&n.addClass("ui-bizagi-notifications-container-bottom"),"rtl"==i.orientation&&n.addClass("ui-bizagi-notification-rtl"),i.minimized&&r.hide(),t.content=r,t.header=a},addNotification:function(t,i,n,o,r,a,s){if(t&&t.replace){var l=this.options,u=this.element,c=this.batchMode?this.batchContent:this.content,h=a?'data-type="'+a+'"':"";n=n||l.itemIcon,o=o||l.itemAdditionalClass,"string"!=typeof t&&(t=t.toString()),t=(t=(t=bizagi.util.encodeHtml(t.replace(/<(\/?(?:STRONG|FONT))>/gi,"#$1!#"))).replace(/#(\/?(?:STRONG|FONT))!#/gi,"<$1>")).replace(/\n|\r/g,"<br/>");var d=e('<div tabindex="0" class="ui-bizagi-notification-item '+o+' ui-widget-content" '+h+'><span class="ui-icon '+n+'" /><label>'+t+"</label></div>").appendTo(c);!this.batchMode&&this._hasScrollBar()&&d[0].scrollIntoView(),d.bind("click",(function(){var e={focus:i||null,id:s||null};u.triggerHandler("itemClick",{data:e}),r&&r({data:i})})),this.batchMode||this.show(),this.counter++}},clearAll:function(e,t){var i=this.content;e=void 0===e||e;var n=(t=t||{}).clearOnlyServer?"allServer":"";this._getItems(n)&&(i.empty(),this.counter=0,e?this.hide():this.show())},_getItems:function(t){var i=this.content;return""===t||("allServer"===t?e(".ui-bizagi-notification-item",i).length===e(".ui-bizagi-notification-item[data-type=serverMessage]",i).length:void 0)},show:function(){var t=this.element,i=e.getMaxZindex();t.css("z-index",i+1),this.isContentVisible()||t.fadeIn()},hide:function(){var e=this.element;this.isContentVisible()&&e.hide()},count:function(){return this.content.children().size()},_hasScrollBar:function(){var e=this.content;return!!this.isContentVisible()&&bizagi.util.hasScroll(e,"vertical")},onHeaderClick:function(){this.isExpanded()?this.collapse():this.expand()},isExpanded:function(){return 1==this.header.data("expanded")},collapse:function(){this.options;var e=this.element,t=this.headerButton,i=this.header;t.removeClass(this.expandedIcon),t.addClass(this.collapsedIcon),i.data("expanded",!1),e.removeClass("ui-bizagi-state-expanded"),e.addClass("ui-bizagi-state-collapsed"),this.content.hide()},expand:function(){this.options;var e=this.element,t=this.headerButton,i=this.header;t.removeClass(this.collapsedIcon),t.addClass(this.expandedIcon),i.data("expanded",!0),e.removeClass("ui-bizagi-state-collapsed"),e.addClass("ui-bizagi-state-expanded"),this.content.show()},autoFocusFirstError:function(){var t=this.content;window.setTimeout((function(){e("div:first",t).click()}),9e3)},initBatch:function(){this.batchMode=!0,this.batchContent=e("<div></div>")},endBatch:function(){this.batchMode=!1,this.batchContent.children().appendTo(this.content),this.batchContent.detach(),this.batchContent=null,this.content.children().length>0&&this.show()},isContentVisible:function(){var e=this.content,t=this.element;return t.length>0&&"none"!=t.css("display")&&e.length>0&&"none"!=e.css("display")}})}(jQuery),bizagi=void 0!==bizagi?bizagi:{},bizagi.chrono=void 0!==bizagi.chrono?bizagi.chrono:{},bizagi.enableTrace=!1,bizagi.enableDebug=!1,bizagi.enableChrono=!1,bizagi.log=function(e,t,i){var n=window.document;if(bizagi.enableTrace){var o,r;if(void 0===bizagi.logContainer&&(bizagi.logContainer=$(".ui-bizagi-log-container",n),0==bizagi.logContainer.length&&(bizagi.logContainer=(o=$("<div />").appendTo($("body",n)),r=void 0!==bizagi.detectDevice?bizagi.detectDevice():bizagi.util.detectDevice(),o.bizagi_notifications({headerAdditionalClass:"ui-bizagi-log-container-header",containerAdditionalClass:"ui-bizagi-notifications-container ui-bizagi-log-container",itemIcon:"ui-icon-info",title:"Debugging Log",location:"top",device:r}),o.bind("itemClick",(function(e,t){var i=$("<div />").appendTo($("body"),n),o="desktop"==r?$("<textarea />"):$("<textarea readonly=true />");"string"==typeof t.data?(o.height("90%"),o.width("100%"),o.text(t.data),i.append(o)):(o.height("90%"),o.width("100%"),o.text(JSON.encode(t.data)),i.append(o)),i.dialog({width:640,height:480,modal:!0,title:"Object Hierarchy",close:function(){i.dialog("destroy"),i.detach()}})})),o))),t)try{t=JSON.parse(JSON.encode(t))}catch(e){t={}}bizagi.logContainer.bizagi_notifications("addNotification",e,t,function(e){if("info"==(e=e||"ui-icon-bullet"))return"ui-icon-info";if("warning"==e)return"ui-icon-alert";if("error"==e)return"ui-icon-circle-close";if("timer"==e)return"ui-icon-clock";if("success"==e)return"ui-icon-check";return e}(i))}},bizagi.assert=function(e,t,i){e||bizagi.log(t,i,"error")},bizagi.logError=function(e,t){bizagi.log(e,t,"error")},bizagi.debug=function(e,t){bizagi.enableDebug&&bizagi.log(e,t,"info")},bizagi.getLogInstance=function(){return bizagi.logContainer},bizagi.chrono.init=function(e){e?bizagi.chronos[e]={millis:0,timestamp:0}:bizagi.chronos={}},bizagi.chrono.start=function(e,t){bizagi.enableChrono&&(t=void 0!==t&&t,bizagi.chronos[e]=bizagi.chronos[e]||{millis:0,timestamp:0},bizagi.chronos[e].running||(bizagi.chronos[e].timestamp=(new Date).getTime(),bizagi.chronos[e].profiling=bizagi.enableProfiler&&t,bizagi.chronos[e].running=!0,bizagi.enableProfiler&&t&&(console.time(e),console.timeStamp(e),console.profile(e))))},bizagi.chrono.initAndStart=function(e){bizagi.chrono.init(e),bizagi.chrono.start(e)},bizagi.chrono.stop=function(e){if(bizagi.enableChrono&&(bizagi.chronos[e]=bizagi.chronos[e]||{millis:0,timestamp:0},bizagi.chronos[e].running)){var t=(new Date).getTime()-bizagi.chronos[e].timestamp;bizagi.chronos[e].millis=bizagi.chronos[e].millis+t,bizagi.chronos[e].running=!1,bizagi.chronos[e].profiling&&(console.timeEnd(e),console.timeStamp(e+"end"),console.profileEnd(e))}},bizagi.chrono.stopAndLog=function(e){bizagi.chronos[e]&&bizagi.chronos[e].running&&bizagi.chrono.stop(e),bizagi.chrono.log(e)},bizagi.chrono.log=function(e){bizagi.chronos[e]&&bizagi.log("Timer "+e+": "+bizagi.chronos[e].millis+"ms",null,"timer")},bizagi.chrono.logTimers=function(){if(bizagi.enableChrono)for(key in bizagi.chronos)bizagi.chrono.log(key)},bizagi.chrono.init(),bizagi=void 0!==bizagi?bizagi:{},bizagi.showSimpleBox=function(e,t,i){var n={type:"",icon:"",useTemplate:!1};switch(i){case"error":n={type:"error",icon:"icon-clear-circle",useTemplate:!0};break;case"warning":n={type:"warning",icon:"icon-warning",useTemplate:!0};break;case"info":n={type:"info",icon:"icon-info",useTemplate:!0}}var o=n.useTemplate,r=$("<div class='ui-dialog-content ui-widget-content' style='display: block; width: auto; min-height: 0px; max-height: none; height: 207px;'>        <div id='cancel-case-wrapper-error-message' class='cancel-case-wrapper-message "+n.type+"' style='display: flex; word-break: break-all;'>             <div>                 <svg class='bz-icon bz-icon-16 bz-icon-svg'>                     <use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#"+n.icon+"'></use>                 </svg>             </div>             <p></p>         </div>    </div>"),a=o?r:$("<div></div>"),s=o?420:600,l=o?400:500,u=!0!==o,c=o?"bz-cancel-case-error-modal":"";return(o?$("p",a):a).append(e),a.dialog({show:"fade",width:s,height:l,modal:!0,closeOnEscape:!0,draggable:!1,title:t,dialogClass:c,maximize:u,maximized:!1,maximizeOnly:!1,buttons:[{text:bizagi.localization.getResource("workportal-widget-dialog-box-close"),click:function(){a.dialog("close")}}],close:function(){$(this).dialog("destroy"),$(this).detach()},resizable:!1}),a},bizagi.showToastError=function(e,t){var i=this;i.notifier=bizagi.injector.get("notifier");var n={closeButton:!0,preventDuplicates:!0,svgIcon:!0,onclick:function(){i.showSimpleBox(t,bizagi.localization.getResource("workportal-general-error-page-title"),"error")},showDuration:"0",hideDuration:"0",timeOut:"0"},o=function(e,t){i.notifier.showErrorMessage(e,"",t)},r=bizagi.localization.getResource("workportal-widget-cancel-case-there-is-an-error"),a=bizagi.localization.getResource("workportal-widget-cancel-case-there-is-an-error")+" <u>"+bizagi.localization.getResource("workportal-widget-cancel-case-error-details")+"</u>";return"release"===e?o(r,{preventDuplicates:!0,svgIcon:!0,showDuration:"0",closeButton:!0,hideDuration:"0",timeOut:"0"}):o(a,n)},bizagi.showConfirmationBox=function(e,t,i,n,o){var r=window.document,a=new $.Deferred;if(o=o||{},t=t||bizagi.localization.getResource("confirmation-box-title"),i=null==bizagi.util.isEmpty(i)||i,bizagi.util.isMobileDevice()){var s,l=[],u=[];if(bizagi.util.isCordovaSupported()&&void 0!==n){if(n.length>0){for(var c=0;c<n.length;c++)l[c]=n[c].label,u[c]=n[c].action;s=function(e){e--,"resolve"===u[e]?a.resolve():"reject"===u[e]&&a.reject()}}else s=function(e){1===e?a.resolve():2===e&&a.reject()},l=[bizagi.localization.getResource("confirmation-savebox-save"),bizagi.localization.getResource("confirmation-savebox-dontsave"),bizagi.localization.getResource("confirmation-savebox-cancel")];navigator.notification.confirm(e,s,t,l)}else bizagi.util.isCordovaSupported()?(s=function(e){1===e?a.resolve():2===e&&a.reject()},l=[bizagi.localization.getResource("confirmation-box-ok"),bizagi.localization.getResource("confirmation-box-cancel")],navigator.notification.confirm(e,s,t,l)):window.confirm(e.replace(/(<([^>]+)>)/gi,""))?a.resolve():a.reject()}else{var h=bizagi.getTemplate("common.bizagi.desktop.dialog-confirmation");l=function(e){var t=[];e&&e.length>0?e.forEach((function(e){newButton={text:e.label,class:e.class,click:function(){"resolve"==e.action?(a.resolve(),$(this).dialog("close")):(a.reject(e.action),$(this).dialog("close"))}},t.push(newButton)})):t=[{text:bizagi.localization.getResource("confirmation-box-ok"),click:function(){a.resolve(),$(this).dialog("close")}},{text:bizagi.localization.getResource("confirmation-box-cancel"),click:function(){a.reject(),$(this).dialog("close")}}];return t}(n),$.when(bizagi.templateService.getTemplate(h)).then((function(n){var s=$.tmpl(n,{message:e,showIcon:i}).appendTo("body",r);s.dialog({dialogClass:o.dialogClass||"bz-ui-common-dialog",resizable:!1,minHeight:o.minHeight||140,minWidth:o.minWidth||300,width:o.width||"auto",modal:!0,allowmaximize:!1,title:t,buttons:l,close:function(e,t){$(this).dialog("destroy"),s.detach(),a.reject()}})}))}return a.promise()},bizagi.showSimpleConfirmationBox=function(e,t,i){var n=new $.Deferred,o=[bizagi.localization.getResource("confirmation-box-ok")],r=i&&i.length>0?i:o;return bizagi.util.isMobileDevice()&&bizagi.util.isCordovaSupported()?navigator.notification.confirm(e,(function(e){n.resolve(e)}),t,r):n.reject(),n.promise()},bizagi.showSaveBox=function(e,t,i,n){var o=window.document,r=new $.Deferred,a="rtl"===n;if(t=t||bizagi.localization.getResource("confirmation-box-title"),i=null==bizagi.util.isEmpty(i)||i,bizagi.util.isMobileDevice())if(bizagi.util.isCordovaSupported()){var s=[bizagi.localization.getResource("confirmation-savebox-save"),bizagi.localization.getResource("confirmation-savebox-dontsave"),bizagi.localization.getResource("confirmation-savebox-cancel")];navigator.notification.confirm(e,(function(e){0===e||1===e?r.resolve():2===e&&r.reject()}),t,s)}else window.confirm(e.replace(/(<([^>]+)>)/gi,""))?r.resolve():r.reject();else{var l=bizagi.getTemplate("common.bizagi.desktop.dialog-confirmation");$.when(bizagi.templateService.getTemplate(l)).then((function(n){var s=$.tmpl(n,{message:e,showIcon:i}).appendTo("body",o),l=[];l[0]={text:bizagi.localization.getResource("confirmation-savebox-save"),click:function(){s.dialog("close"),r.resolve()}},l[1]={text:bizagi.localization.getResource("confirmation-savebox-dontsave"),click:function(){s.dialog("close"),r.reject()}},l[2]={text:bizagi.localization.getResource("confirmation-savebox-cancel"),click:function(){s.dialog("close"),r.reject("cancel")}},a&&l.reverse(),s.dialog({resizable:!1,minHeight:140,width:400,modal:!0,allowmaximize:!1,title:t,buttons:l,close:function(e,t){s.dialog("destroy"),s.detach()}})}))}return r.promise()},bizagi.showMessageBox=function(e,t,i,n){var o=window.document,r=new $.Deferred;if(i=i||"info",t=t||"Bizagi",n="boolean"!=typeof n||n,bizagi.util.isMobileDevice())bizagi.util.isCordovaSupported()?navigator.notification.alert(e.replace(/(<([^>]+)>)/gi,""),(function(){}),t,"Ok"):window.alert(e.replace(/(<([^>]+)>)/gi,"")),r.resolve();else{var a=bizagi.getTemplate("common.bizagi.desktop.dialog-message");$.when(bizagi.templateService.getTemplate(a)).then((function(n){var a=$.tmpl(n,{message:e,icon:bizagi.getIcon(i)}).appendTo("body",o),s=function(){a.dialog("destroy"),a.detach()},l={};l[bizagi.localization.getResource("workportal-widget-dialog-box-ok")]=function(){s(),r.resolve()},a.dialog({modal:!0,title:t,height:"auto",resizable:!1,maximize:!1,draggable:!1,buttons:l,close:function(e,t){s(),r.reject()}})}))}return r.promise()},bizagi.getIcon=function(e){return"info"===(e=e||"ui-icon-bullet")?"ui-icon-info":"warning"===e?"ui-icon-alert":"error"===e?"ui-icon-circle-close":"success"===e?"ui-icon-check":e},$.expr.cacheLength=1,bizagi.initialized||initBizagi(),bizagi.util.isIE8&&bizagi.util.isIE8()&&(Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e instanceof Array}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var i=this.length>>>0,n=0;n<i;n++)n in this&&e.call(t,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(e){for(var t=this.length>>>0,i=new Array(t),n=arguments[1],o=0;o<t;o++)o in this&&(i[o]=e.call(n,this[o],o,this));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){for(var t=[],i=arguments[1],n=0;n<this.length;n++)e.call(i,this[n])&&t.push(this[n]);return t}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=this.length>>>0,i=0;if(0===t&&1===arguments.length)throw new TypeError;if(arguments.length>=2)var n=arguments[1];else for(;;){if(i in this){n=this[i++];break}if(++i>=t)throw new TypeError}for(;i<t;i++)i in this&&(n=e.call(null,n,this[i],i,this));return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=arguments[1]||0;if(!t)return-1;if(i>=t)return-1;for(i<0&&(i+=t);i<t;i++)if(Object.prototype.hasOwnProperty.call(this,i)&&e===this[i])return i;return-1}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t})),function(e){e.widget("ui.selectable",e.ui.mouse,{options:{closest:!0,filter:"> *",keyboard:!0,lasso:{cancel:":input,option",delay:0,distance:1,tolerance:"touch",appendTo:"body"}},_init:function(){var t=this;this.items=e(this.options.filter,this.element),this.element.addClass("ui-selectable ui-widget"),this.currentFocus=this.items.eq(0).attr("tabindex",0),this.refresh(1),this.element.disableSelection(),this.options.lasso&&(!0!==this.options.lasso&&e.extend(this.options,this.options.lasso),this._mouseInit()),this.element.bind("mousedown.selectable",(function(i){if(!t.options.disabled){var n=t._targetIsItem(i.target);if(n)return t._selection.length>1&&e(n).hasClass("ui-selected")?t._listenForMouseUp=1:!0===t._mouseSelect(i,n)||void 0}})).bind("mouseup.selectable",(function(e){if(t._listenForMouseUp){t._listenForMouseUp=0;var i=t._targetIsItem(e.target);if(i&&!0===t._mouseSelect(e,i))return!0}})).bind("focus.selectable",(function(){t.options.disabled||t.currentFocus.addClass("ui-state-focus")})).bind("blur.selectable",(function(){t.options.disabled||t.currentFocus.removeClass("ui-state-focus")})).bind("keydown.selectable",(function(i){if(!t.options.keyboard||t.options.disabled||!1===t._trigger("beforeselect",i))return!0;i.keyCode==e.ui.keyCode.DOWN&&(t.options.closest?t.selectClosest("down",i):t.next(i),i.preventDefault()),i.keyCode==e.ui.keyCode.RIGHT&&(t.options.closest?t.selectClosest("right",i):t.next(i),i.preventDefault()),i.keyCode==e.ui.keyCode.UP&&(t.options.closest?t.selectClosest("up",i):t.previous(i),i.preventDefault()),i.keyCode==e.ui.keyCode.LEFT&&(t.options.closest?t.selectClosest("left",i):t.previous(i),i.preventDefault()),(i.ctrlKey||i.metaKey)&&(i.keyCode==e.ui.keyCode.SPACE&&(t._toggleSelection(t.currentFocus,i),i.preventDefault()),65==i.keyCode&&(t.select("*"),i.preventDefault()))})),this.helper=e(document.createElement("div")).addClass("ui-selectable-lasso")},selectClosest:function(t,i){var n=[/(down|right)/.test(t)?1e4:-1e4,null],o=1e4,r=this.currentFocus.data("selectable-item");if(this.items.not(this.currentFocus).filter(":visible").each((function(){var i=e(this),a=i.data("selectable-item"),s={x:Math.abs(r.left-a.left)+Math.abs(a.left+this.offsetWidth-(r.left+this.offsetWidth)),y:Math.abs(r.top-a.top)+Math.abs(a.top+this.offsetHeight-(r.top+this.offsetHeight))};switch(t){case"up":r.top>a.top&&a.top>=n[0]&&(a.top!=n[0]||s.x<o)&&(n=[a.top,i],o=s.x);break;case"down":r.top<a.top&&a.top<=n[0]&&(a.top!=n[0]||s.x<o)&&(n=[a.top,i],o=s.x);break;case"left":r.left>a.left&&a.left>=n[0]&&(a.left!=n[0]||s.y<o)&&(n=[a.left,i],o=s.y);break;case"right":r.left<a.left&&a.left<=n[0]&&(a.left!=n[0]||s.y<o)&&(n=[a.left,i],o=s.y)}})),!n[1])return!1;var a=this.items.index(this.currentFocus[0]),s=this.items.index(n[1]);return this._selectAdjacent(i,s-a)},destroy:function(){this.items.removeClass("ui-selectable-item ui-selected ui-state-active"),this.element.removeClass("ui-selectable ui-selectable-disabled ui-widget").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this._selection=[],this._previousSelection=[]},_mouseCapture:function(e){return this.clickedOnItem=this._targetIsItem(e.target),!0},_mouseStart:function(t){var i=this.options;if(this.opos=[t.pageX,t.pageY],!i.disabled){this.refresh(1),this._trigger("start",t,this._uiHash()),this._previousSelection=this._selection.slice(),this.helper.appendTo("body").css({zIndex:100,position:"absolute",left:t.clientX,top:t.clientY,width:0,height:0});for(var n=this._selection.length-1;n>=0;n--)t.metaKey||t.ctrlKey?this!=this.clickedOnItem&&(e(this._selection[n]).data("selectable-item").startSelected=!0):this._removeFromSelection(e(this._selection[n]),t)}},_mouseDrag:function(t){var i=this,n=this.options;if(!n.disabled){var o=this.opos[0],r=this.opos[1],a=t.pageX,s=t.pageY;if(o>a){var l=a;a=o,o=l}if(r>s){l=s;s=r,r=l}return this.helper.css({left:o,top:r,width:a-o,height:s-r}),this.items.each((function(){var l=e.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var u=!1;n.lasso&&"touch"==n.lasso.tolerance?u=!(l.left>a||l.right<o||l.top>s||l.bottom<r):n.lasso&&"fit"==n.lasso.tolerance&&(u=l.left>o&&l.right<a&&l.top>r&&l.bottom<s),u?l.startSelected?i._removeFromSelection(e(this),t):i._addToSelection(e(this),t):l.startSelected?i._addToSelection(e(this),t):i._removeFromSelection(e(this),t)}})),!1}},_mouseStop:function(t){for(var i=[],n=[],o=0;o<this._selection.length;o++){for(var r=!1,a=0;a<this._previousSelection.length;a++)this._selection[o][0]==this._previousSelection[a][0]&&(r=!0);r||i.push(this._selection[o])}for(o=this._previousSelection.length-1;o>=0;o--)this._previousSelection[o].data("selectable-item").selected||n.push(this._previousSelection[o]);i=e(e.map(i,(function(e){return e[0]}))),n=e(e.map(n,(function(e){return e[0]})));var s=e.extend(this._uiHash(),{added:i||[],removed:n||[]});return this._trigger("stop",t,s),(i&&i.length||n&&n.length)&&this._trigger("change",t,s),this.helper.remove(),!1},_mouseSelect:function(e,t){if(!1===this._trigger("beforeselect",e))return!0;this._select(e,t),this.element[0].focus(),e.preventDefault()},_targetIsItem:function(t){var i=e(t).parents().addBack().filter(":data(selectable-item)");return i.length&&i},_selection:[],_endSelection:function(t,i){var n=this._triggerDeselection(t);if(i&&i.length&&this._trigger("select",t,this._uiHash(i,"added")),i&&i.length||n&&n.length){var o=e.extend(this._uiHash(),{added:i||[],removed:n||[]});this._trigger("change",t,o)}},_triggerDeselection:function(t){for(var i=[],n=this._previousSelection.length-1;n>=0;n--){var o=this._previousSelection[n].data("selectable-item");o&&o.selected||i.push(this._previousSelection[n])}return this._previousSelection=[],(i=e(e.map(i,(function(e){return e[0]})))).length&&this._trigger("deselect",t,this._uiHash(i,"removed")),i},_clearSelection:function(t){for(var i=[],n=this._selection.length-1;n>=0;n--)t&&this._selection[n].data("selectable-item").selected&&i.push(this._selection[n]),this._selection[n].removeClass("ui-selected ui-state-active"),this._selection[n].data("selectable-item").selected=!1;this._previousSelection=this._selection.slice(),this._selection=[],t&&i.length&&this._trigger("deselect",t,this._uiHash(e(e.map(i,(function(e){return e[0]}))),"removed"))},_toggleSelection:function(e,t){var i=e.data("selectable-item").selected;return i?this._removeFromSelection(e,t):this._addToSelection(e),!i},_addToSelection:function(t,i){return!t.data("selectable-item")||t.data("selectable-item").selected?null:(this._selection.push(t),this.latestSelection=t,t.addClass("ui-selected ui-state-active"),t.data("selectable-item").selected=!0,i&&this._trigger("select",i,e.extend({lasso:!0},this._uiHash(t))),t)},_removeFromSelection:function(t,i){for(var n=0;n<this._selection.length;n++)if(this._selection[n][0]==t[0]){this._selection[n].removeClass("ui-selected ui-state-active"),this._selection[n].data("selectable-item").selected=!1,this._selection.splice(n,1),i&&this._trigger("deselect",i,this._uiHash(e(t),"removed"));break}},_updateSelectionMouse:function(t){var i=[];if(t&&t.shiftKey){this._clearSelection();for(var n=this.items.index(this.latestWithoutModifier[0])>this.items.index(this.currentFocus[0])?-1:1,o=this.latestWithoutModifier.data("selectable-item").selected?this.items.eq(this.items.index(this.latestWithoutModifier[0])+n):this.latestWithoutModifier;o.length&&o[0]!=this.currentFocus[0];)o[0]==this.previousFocus[0]?this._addToSelection(o):i.push(this._addToSelection(o)),o=this.items.eq(this.items.index(o[0])+n);i.push(this._addToSelection(this.currentFocus))}else{if(t&&(t.metaKey||t.ctrlKey))this._toggleSelection(this.currentFocus,t)&&i.push(this.currentFocus);else this._clearSelection(),i.push(this._addToSelection(this.currentFocus)),this.latestWithoutModifier=this.currentFocus}return e(e.map(i,(function(e){return e[0]})))},_updateSelection:function(t,i){var n=[];if(t&&t.shiftKey)if(this.currentFocus.data("selectable-item").selected)this._removeFromSelection(this.previousFocus,t);else{var o=this.items.index(this.latestSelection[0])>this.items.index(this.currentFocus[0])?1:-1;if(!this.previousFocus.data("selectable-item").selected)for(var r=i==o?this.items.eq(this.items.index(this.previousFocus[0])+o):this.previousFocus;r.length&&!r.data("selectable-item").selected;)n.push(this._addToSelection(r)),r=this.items.eq(this.items.index(r[0])+o);n.push(this._addToSelection(this.currentFocus))}else{if(t&&(t.metaKey||t.ctrlKey))return;this._clearSelection(t),n.push(this._addToSelection(this.currentFocus)),this.latestWithoutModifier=this.currentFocus}return e(e.map(n,(function(e){if(e)return e[0]})))},_select:function(t,i){this.previousFocus=this.currentFocus.attr("tabindex",-1),this.currentFocus=e(i).attr("tabindex",0),this.previousFocus.removeClass("ui-state-focus"),this.currentFocus.addClass("ui-state-focus");var n=this._updateSelectionMouse(t);this._endSelection(t,n)},_selectAdjacent:function(e,t){var i=this.items.eq(this.items.index(this.currentFocus[0])+t);if(i.length){this.previousFocus=this.currentFocus.attr("tabindex",-1),this.currentFocus=i.attr("tabindex",0),this.previousFocus.removeClass("ui-state-focus"),this.currentFocus.addClass("ui-state-focus"),this._previousSelection=this._selection.slice();var n=this._updateSelection(e,t);this._endSelection(e,n)}},previous:function(e){this._selectAdjacent(e,-1)},next:function(e){this._selectAdjacent(e,1)},refresh:function(t){var i=this.options,n=this;if(this.items=e(i.filter,this.element),this.items.addClass("ui-selectable-item"),this.items.each((function(){var t=e(this),i=t.offset();n.currentFocus&&n.currentFocus[0]!=this&&t.attr("tabindex",-1),e.data(this,"selectable-item",{left:i.left,top:i.top,right:i.left+t.width(),bottom:i.top+t.height(),startSelected:!1,selected:t.hasClass("ui-selected")})})),!t){this._previousSelection=this._selection.slice(),this._selection=[];for(var o=0;o<this._previousSelection.length;o++)this._previousSelection[o][0].parentNode&&this._selection.push(this._previousSelection[o]);this._endSelection()}},select:function(t){if((t=isNaN(parseInt(t))?e(t,this.element):this.items.eq(t)).length){this._clearSelection();var i=[],n=this;t.each((function(t){0==t&&(n.previousFocus=n.currentFocus.attr("tabindex",-1),n.currentFocus=e(this).attr("tabindex",0),n.previousFocus.removeClass("ui-state-focus"),n.currentFocus.addClass("ui-state-focus")),i.push(n._addToSelection(e(this)))})),this._endSelection(window.event,e(e.map(i,(function(e){return!!e&&e[0]}))))}},deselect:function(t){if(t||this._clearSelection(!0),(t=isNaN(parseInt(t))?e(t,this.element):this.items.eq(t)).length){this._previousSelection=this._selection.slice();var i=this;t.each((function(){i._removeFromSelection(e(this))})),this._endSelection(event)}},_uiHash:function(t,i){var n={previousFocus:this.previousFocus,currentFocus:this.currentFocus,selection:e(e.map(this._selection,(function(e){return e[0]})))};return i&&(n[i]=t),n}})}(jQuery),function(e){e.widget("ui.slideContent",{options:{container:"<div/>",content:"",buttons:[],zIndex:1,autoOpen:!0,cssWrapContainer:"slide-container",cssButtonsContainer:"ui-slide-button-container"},_create:function(){this._layout=e("<div class='"+this.options.cssWrapContainer+"'></div>").append(this.element),this.element.addClass("slide-container-applied"),this.options.buttons.length>=1&&this._layout.append(this._createButtons()),this._layout.hide()},_init:function(){return this.options.autoOpen&&(this._isOpen=!1,this.open()),this},_createButtons:function(){var t=e("<div class="+this.options.cssButtonsContainer+"></div>");return e.each(this.options.buttons,(function(i,n){e("<input type='button' value='"+n.text+"' >").click(n.click).appendTo(t)})),this.buttonContainer=t,t},destroy:function(){e.Widget.prototype.destroy.apply(this),this.element.removeClass("slide-container-applied")},setContent:function(e){this.options.content=e},open:function(){this._isOpen||(this.parentCurrentScroll=this.options.container.parent().scrollTop(),this.options.container.hide(),this.options.container.after(this._layout),this.element.parents(".slide-container-applied").length>0&&e(this.element.parents(".slide-container-applied")[0]).slideContent("hideButtons"),this._layout.show(),this._isOpen=!0,this._trigger("open"))},isOpen:function(){return this._isOpen},close:function(){!1!==this._trigger("beforeclose")&&(this.isOpen()&&(this.options.container.show(),this.options.container.parent().scrollTop(this.parentCurrentScroll),this.element.parents(".slide-container-applied").length>0&&e(this.element.parents(".slide-container-applied")[0]).slideContent("showButtons"),this._layout.hide(),this._isOpen=!1),this._trigger("close"))},showButtons:function(){this.buttonContainer.show()},hideButtons:function(){this.buttonContainer.hide()}})}(jQuery),function(e){function t(t,i){function g(t){l=e("li.dw-v",t).eq(0).index(),u=e("li.dw-v",t).eq(-1).index(),s=N.height,c=M}function v(){M.temp=j&&null!==M.val&&M.val!=t.val()||null===M.values?N.parseValue(t.val()?t.val():"",M):M.values.slice(0),M.setValue(!0)}function _(t,i,n,o,r){N.validate.call(O,A,n),e(".dww ul",A).each((function(o){var a=e(this),s=(a=(l=e('li[data-val="'+M.temp[o]+'"]',a)).index(),l),l=a;if(!s.hasClass("dw-v")){for(var u=s,c=0,h=0;u.prev().length&&!u.hasClass("dw-v");)u=u.prev(),c++;for(;s.next().length&&!s.hasClass("dw-v");)s=s.next(),h++;h<c&&h&&1==!r||!c||!u.hasClass("dw-v")||1==r?l+=h:(s=u,l-=c),M.temp[o]=s.data("val")}a==l&&o!=n&&void 0!==n||M.scroll(e(this),l,o==n?t:0,i,o)})),M.change(o)}function z(){var t,i,n=0,o=0,r=e(window).width(),a=e(window).height(),s=e(window).scrollTop(),l=e(".dwo",A),u=e(".dw",A);e(".dwc",A).each((function(){t=e(this).outerWidth(!0),n+=t,o=t>o?t:o})),t=n>r?o:n,u.width(t),t=u.outerWidth(),i=u.outerHeight(),u.css({left:(r-t)/2,top:s+(a-i)/2}),l.height(0).height(function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}())}function T(e){var t=+e.data("pos")+1;r(e,t>u?l:t,1)}function I(e){var t=+e.data("pos")-1;r(e,t<l?u:t,2)}var D,E,A,M=this,O=t,N=(t=e(O),e.extend({},C)),R={},P={},j=t.is("input"),F=!1;M.enable=function(){N.disabled=!1,j&&t.prop("disabled",!1)},M.disable=function(){N.disabled=!0,j&&t.prop("disabled",!0)},M.scroll=function(e,t,i,n,o){var r=(E-t)*N.height;if(e.attr("style",(i?x+"-transition:all "+i.toFixed(1)+"s ease-out;":"")+(w?x+"-transform:translate3d(0,"+r+"px,0);":"top:"+r+"px;")),i){var a=0;clearInterval(R[o]),R[o]=setInterval((function(){a+=.1,e.data("pos",Math.round((t-n)*Math.sin(a/i*(Math.PI/2))+n)),a>=i&&(clearInterval(R[o]),e.data("pos",t))}),100),clearTimeout(P[o]),P[o]=setTimeout((function(){"mixed"==N.mode&&!e.hasClass("dwa")&&e.closest(".dwwl").find(".dwwb").fadeIn("fast")}),1e3*i)}else e.data("pos",t)},M.setValue=function(e,i,n){var o=N.formatResult(M.temp);M.val=o,M.values=M.temp.slice(0),F&&e&&_(n),i&&j&&t.val(o).trigger("change")},M.validate=function(e,t,i,n){_(e,t,i,!0,n)},M.change=function(t){var i=N.formatResult(M.temp);"inline"==N.display?M.setValue(!1,t):e(".dwv",A).html(function(e){var t=N.headerText;return t?"function"==typeof t?t.call(O,e):t.replace(/{value}/i,e):""}(i)),t&&N.onChange.call(O,i,M)},M.hide=function(){if(!1===N.onClose.call(O,M.val,M))return!1;e(".dwtd").prop("disabled",!1).removeClass("dwtd"),t.blur(),A&&A.remove(),F=!1,e(window).unbind(".dw")},M.show=function(){if(N.disabled||F)return!1;var i=N.height,o=N.rows*i;v();for(var s='<div class="'+N.theme+'">'+("inline"==N.display?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dwo"></div><div class="dw dwbg"><div class="dwwr">'+(N.headerText?'<div class="dwv"></div>':"")),l=0;l<N.wheels.length;l++){var u;s=s+'<div class="dwc'+("scroller"!=N.mode?" dwpm":" dwsc")+(N.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';for(u in N.wheels[l]){var c;s=s+'<td><div class="dwwl dwrc">'+("scroller"!=N.mode?'<div class="dwwb dwwbp" style="height:'+i+"px;line-height:"+i+'px;"><span>+</span></div><div class="dwwb dwwbm" style="height:'+i+"px;line-height:"+i+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+u+'</div><div class="dww dwrc" style="height:'+o+"px;min-width:"+N.width+'px;"><ul>';for(c in N.wheels[l][u])s+='<li class="dw-v" data-val="'+c+'" style="height:'+i+"px;line-height:"+i+'px;">'+N.wheels[l][u][c]+"</li>";s+='</ul><div class="dwwo"></div></div><div class="dwwol"></div></div></td>'}s+="</tr></table></div></div>"}s+=("inline"!=N.display?'<div class="dwbc"><span class="dwbw dwb-s"><a href="#" class="dwb">'+N.setText+'</a></span><span class="dwbw dwb-c"><a href="#" class="dwb">'+N.cancelText+"</a></span></div>":'<div class="dwcc"></div>')+"</div></div></div>",A=e(s),_(),"inline"!=N.display?A.appendTo("body"):t.is("div")?t.html(A):A.insertAfter(t),F=!0,D.init(A,M),"inline"!=N.display&&(e(".dwb-s a",A).click((function(){return M.setValue(!1,!0),M.hide(),N.onSelect.call(O,M.val,M),!1})),e(".dwb-c a",A).click((function(){return M.hide(),N.onCancel.call(O,M.val,M),!1})),e("input,select").each((function(){e(this).prop("disabled")||e(this).addClass("dwtd")})),e("input,select").prop("disabled",!0),z(),e(window).bind("resize.dw",z)),A.delegate(".dwwl","DOMMouseScroll mousewheel",(function(t){if(!N.readonly){t.preventDefault();t=(t=t.originalEvent).wheelDelta?t.wheelDelta/120:t.detail?-t.detail/3:0;var i=e("ul",this),n=+i.data("pos");n=Math.round(n-t);g(i),r(i,n,t<0?1:2)}})).delegate(".dwb, .dwwb",S,(function(){e(this).addClass("dwb-a")})).delegate(".dwwb",S,(function(t){if(!N.readonly){t.preventDefault(),t.stopPropagation();var i=e(this).closest(".dwwl").find("ul");func=e(this).hasClass("dwwbp")?T:I,g(i),clearInterval(a),a=setInterval((function(){func(i)}),N.delay),func(i)}})).delegate(".dwwl",S,(function(t){b||"clickpick"==N.mode||N.readonly||(t.preventDefault(),b=!0,y=e("ul",this).addClass("dwa"),"mixed"==N.mode&&e(".dwwb",this).fadeOut("fast"),f=+y.data("pos"),g(y),h=n(t),p=new Date,d=h,M.scroll(y,f))})),N.onShow.call(O,A,M)},M.init=function(i){D=e.extend({defaults:{},init:m},e.scroller.themes[i.theme?i.theme:N.theme]),e.extend(N,D.defaults,i),M.settings=N,E=Math.floor(N.rows/2);var n=e.scroller.presets[N.preset];t.unbind(".dw"),n&&(n=n.call(O,M),e.extend(N,n,i),e.extend(k,n.methods)),void 0!==t.data("dwro")&&(O.readOnly=o(t.data("dwro"))),F&&M.hide(),"inline"==N.display?M.show():(v(),j&&N.showOnFocus&&(t.data("dwro",O.readOnly),O.readOnly=!0,t.bind("focus.dw",M.show)))},M.values=null,M.val=null,M.temp=null,M.init(i)}function i(e){for(var t in e)if(void 0!==_[e[t]])return!0;return!1}function n(e){return z?e.originalEvent?e.originalEvent.changedTouches[0].pageY:e.changedTouches[0].pageY:e.pageY}function o(e){return!0===e||"true"==e}function r(t,i,n,o,r){var a=t.closest(".dwwr").find("ul").index(t);i=(i=i>u?u:i)<l?l:i,t=e("li",t).eq(i);c.temp[a]=t.data("val"),c.validate(o?i==r?.1:Math.abs(.1*(i-r)):0,r,a,n)}var a,s,l,u,c,h,d,p,f,g={},m=function(){},v=(new Date).getTime(),b=!1,y=null,_=document.createElement(_).style,w=i(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"])&&"webkitPerspective"in document.documentElement.style,x=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(i([t[e]+"Transform"]))return"-"+t[e].toLowerCase();return""}(),z="ontouchstart"in window,S=z?"touchstart":"mousedown",T=z?"touchend":"mouseup",C={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",setText:"Set",cancelText:"Cancel",onShow:m,onClose:m,onSelect:m,onCancel:m,onChange:m,formatResult:function(e){for(var t="",i=0;i<e.length;i++)t+=(0<i?" ":"")+e[i];return t},parseValue:function(e,t){for(var i=t.settings.wheels,n=(e=e.split(" "),[]),o=0,r=0;r<i.length;r++)for(var a in i[r]){if(void 0!==i[r][a][e[o]])n.push(e[o]);else for(var s in i[r][a]){n.push(s);break}o++}return n},validate:m},k={init:function(e){return void 0===e&&(e={}),this.each((function(){this.id||(v+=1,this.id="scoller"+v),g[this.id]=new t(this,e)}))},enable:function(){return this.each((function(){var e=g[this.id];e&&e.enable()}))},disable:function(){return this.each((function(){var e=g[this.id];e&&e.disable()}))},isDisabled:function(){var e=g[this[0].id];if(e)return e.settings.disabled},option:function(e,t){return this.each((function(){var i=g[this.id];if(i){var n={};"object"===_typeof(e)?n=e:n[e]=t,i.init(n)}}))},setValue:function(e,t,i){return this.each((function(){var n=g[this.id];n&&(n.temp=e,n.setValue(!0,t,i))}))},getInst:function(){return g[this[0].id]},getValue:function(){var e=g[this[0].id];if(e)return e.values},show:function(){var e=g[this[0].id];if(e)return e.show()},hide:function(){return this.each((function(){var e=g[this.id];e&&e.hide()}))},destroy:function(){return this.each((function(){var t=g[this.id];t&&(t.hide(),e(this).unbind(".dw"),delete g[this.id],e(this).is("input")&&(this.readOnly=o(e(this).data("dwro"))))}))}};e(document).bind(z?"touchmove":"mousemove",(function(e){b&&(e.preventDefault(),d=n(e),e=(e=(e=f+(h-d)/s)>u+1?u+1:e)<l-1?l-1:e,c.scroll(y,e))})),e(document).bind(T,(function(t){if(b){t.preventDefault(),y.removeClass("dwa");var i=new Date-p;t=(t=(t=f+(h-d)/s)>u+1?u+1:t)<l-1?l-1:t;300>i?(i=(i=(d-h)/i)*i/.0012,0>d-h&&(i=-i)):i=d-h,r(y,Math.round(f-i/s),0,!0,Math.round(t)),b=!1,y=null}clearInterval(a),e(".dwb-a").removeClass("dwb-a")})),e.fn.scroller=function(t){return k[t]?k[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==_typeof(t)&&t?void e.error("Unknown method"):k.init.apply(this,arguments)},e.scroller={setDefaults:function(t){e.extend(C,t)},presets:{},themes:{}}}(jQuery),function(e){var t={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:(i=new Date).getFullYear()-100,endYear:i.getFullYear()+1,monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",stepHour:1,stepMinute:1,stepSecond:1,separator:" "},i=function(i){function n(e,t,i){return void 0!==d[t]?+e[d[t]]:void 0!==i?i:w[p[t]]?w[p[t]]():p[t](w)}function o(e,t){return Math.floor(e/t)*t}function r(e){var t=n(e,"h",0);return new Date(n(e,"y"),n(e,"m"),n(e,"d"),n(e,"ap")?t+12:t,n(e,"i",0),n(e,"s",0))}var a;if((l=e(this)).is("input")){switch(l.attr("type")){case"date":a="yy-mm-dd";break;case"datetime":a="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":a="yy-mm-ddTHH:ii:ss";break;case"month":a="yy-mm",t.dateOrder="mmyy";break;case"time":a="HH:ii:ss"}var s=l.attr("min"),l=l.attr("max");s&&(t.minDate=e.scroller.parseDate(a,s)),l&&(t.maxDate=e.scroller.parseDate(a,l))}var u=e.extend({},t,i.settings),c=0,h=(s=[],[]),d={},p={y:"getFullYear",m:"getMonth",d:"getDate",h:function(e){return e=e.getHours(),o(e=y&&12<=e?e-12:e,x)},i:function(e){return o(e.getMinutes(),z)},s:function(e){return o(e.getSeconds(),S)},ap:function(e){return b&&11<e.getHours()?1:0}},f=u.preset,g=u.dateOrder,m=u.timeWheels,v=g.match(/D/),b=m.match(/a/i),y=m.match(/h/),_="datetime"==f?u.dateFormat+u.separator+u.timeFormat:"time"==f?u.timeFormat:u.dateFormat,w=new Date,x=u.stepHour,z=u.stepMinute,S=u.stepSecond,T=u.minDate,C=u.maxDate;if(a=a||_,f.match(/date/i)){e.each(["y","m","d"],(function(e,t){-1<(e=g.search(RegExp(t,"i")))&&h.push({o:e,v:t})})),h.sort((function(e,t){return e.o>t.o?1:-1})),e.each(h,(function(e,t){d[t.v]=e}));l={};for(var k=0;3>k;k++)if(k==d.y){c++,l[u.yearText]={};for(var I=T?T.getFullYear():u.startYear,D=C?C.getFullYear():u.endYear;I<=D;I++)l[u.yearText][I]=g.match(/yy/i)?I:(I+"").substr(2,2)}else if(k==d.m)for(c++,l[u.monthText]={},I=0;12>I;I++)l[u.monthText][I]=g.match(/MM/)?u.monthNames[I]:g.match(/M/)?u.monthNamesShort[I]:g.match(/mm/)&&9>I?"0"+(I+1):I+1;else if(k==d.d)for(c++,l[u.dayText]={},I=1;32>I;I++)l[u.dayText][I]=g.match(/dd/i)&&10>I?"0"+I:I;s.push(l)}if(f.match(/time/i)){if(l={},m.match(/h/i))for(d.h=c++,l[u.hourText]={},I=0;I<(y?12:24);I+=x)l[u.hourText][I]=y&&0==I?12:m.match(/hh/i)&&10>I?"0"+I:I;if(m.match(/i/))for(d.i=c++,l[u.minuteText]={},I=0;60>I;I+=z)l[u.minuteText][I]=m.match(/ii/)&&10>I?"0"+I:I;if(m.match(/s/))for(d.s=c++,l[u.secText]={},I=0;60>I;I+=S)l[u.secText][I]=m.match(/ss/)&&10>I?"0"+I:I;b&&(d.ap=c++,c=m.match(/A/),l[u.ampmText]={0:c?"AM":"am",1:c?"PM":"pm"}),s.push(l)}return{wheels:s,headerText:function(){return e.scroller.formatDate(_,r(i.temp),u)},formatResult:function(t){return e.scroller.formatDate(a,r(t),u)},parseValue:function(t){var i=new Date,n=[];try{i=e.scroller.parseDate(a,t,u)}catch(e){}for(var o in d)n[d[o]]=i[p[o]]?i[p[o]]():p[o](i);return n},validate:function(t,r){var a=i.temp,s={m:0,d:1,h:0,i:0,s:0,ap:0},l={m:11,d:31,h:o(y?11:23,x),i:o(59,z),s:o(59,S),ap:1},c=!0,h=!0;e.each(T||C?"y,m,d,ap,h,i,s".split(","):r==d.y||r==d.m||void 0===r?["d"]:[],(function(i,o){if(void 0!==d[o]){var r,f,m=s[o],b=l[o],y=31,_=n(a,o),w=e("ul",t).eq(d[o]);if("d"==o&&(r=n(a,"y"),f=n(a,"m"),b=y=32-new Date(r,f,32).getDate(),v&&e("li",w).each((function(){var t=e(this),i=t.data("val"),n=new Date(r,f,i).getDay();t.html(g.replace(/[my]/gi,"").replace(/dd/,10>i?"0"+i:i).replace(/d/,i).replace(/DD/,u.dayNames[n]).replace(/D/,u.dayNamesShort[n]))}))),c&&T&&(m=T[p[o]]?T[p[o]]():p[o](T)),h&&C&&(b=C[p[o]]?C[p[o]]():p[o](C)),"y"!=o){var x=e('li[data-val="'+m+'"]',w).index(),z=e('li[data-val="'+b+'"]',w).index();e("li",w).removeClass("dw-v").slice(x,z+1).addClass("dw-v"),"d"==o&&e("li",w).removeClass("dw-h").slice(y).addClass("dw-h"),_<m&&(_=m),_>b&&(_=b)}if(c&&(c=_==m),h&&(h=_==b),u.invalid&&"d"==o){var S=[];if(u.invalid.dates&&e.each(u.invalid.dates,(function(e,t){t.getFullYear()==r&&t.getMonth()==f&&S.push(t.getDate()-1)})),u.invalid.daysOfWeek){var k=new Date(r,f,1).getDay();e.each(u.invalid.daysOfWeek,(function(e,t){for(var i=t-k;i<y;i+=7)i>=0&&S.push(i)}))}u.invalid.daysOfMonth&&e.each(u.invalid.daysOfMonth,(function(e,t){(t=(t+"").split("/"))[1]?t[0]-1==f&&S.push(t[1]-1):S.push(t[0]-1)})),e.each(S,(function(t,i){e("li",w).eq(i).removeClass("dw-v")}))}}}))},methods:{getDate:function(t){var i=e(this).scroller("getInst");if(i)return r(t?i.temp:i.values)},setDate:function(t,i,n){return null==i&&(i=!1),this.each((function(){var o=e(this).scroller("getInst");if(o){for(var r in d)o.temp[d[r]]=t[p[r]]?t[p[r]]():p[r](t);o.setValue(!0,i,n)}}))}}}};e.scroller.presets.date=i,e.scroller.presets.datetime=i,e.scroller.presets.time=i,e.scroller.formatDate=function(i,n,o){if(!n)return null;o=e.extend({},t,o);for(var r=function(e){for(var t=0;c+1<i.length&&i.charAt(c+1)==e;)t++,c++;return t},a=function(e,t,i){if(t=""+t,r(e))for(;t.length<i;)t="0"+t;return t},s=function(e,t,i,n){return r(e)?n[t]:i[t]},l="",u=!1,c=0;c<i.length;c++)if(u)"'"!=i.charAt(c)||r("'")?l+=i.charAt(c):u=!1;else switch(i.charAt(c)){case"d":l+=a("d",n.getDate(),2);break;case"D":l+=s("D",n.getDay(),o.dayNamesShort,o.dayNames);break;case"o":l+=a("o",(n.getTime()-new Date(n.getFullYear(),0,0).getTime())/864e5,3);break;case"m":l+=a("m",n.getMonth()+1,2);break;case"M":l+=s("M",n.getMonth(),o.monthNamesShort,o.monthNames);break;case"y":l+=r("y")?n.getFullYear():(10>n.getYear()%100?"0":"")+n.getYear()%100;break;case"h":var h=n.getHours();l=l+a("h",12<h?h-12:0==h?12:h,2);break;case"H":l+=a("H",n.getHours(),2);break;case"i":l+=a("i",n.getMinutes(),2);break;case"s":l+=a("s",n.getSeconds(),2);break;case"a":l+=11<n.getHours()?"pm":"am";break;case"A":l+=11<n.getHours()?"PM":"AM";break;case"'":r("'")?l+="'":u=!0;break;default:l+=i.charAt(c)}return l},e.scroller.parseDate=function(i,n,o){var r=new Date;if(!i||!n)return r;n="object"==_typeof(n)?n.toString():n+"";for(var a=e.extend({},t,o),s=(o=r.getFullYear(),r.getMonth()+1),l=r.getDate(),u=-1,c=r.getHours(),h=(r=r.getMinutes(),0),d=-1,p=!1,f=function(e){return(e=b+1<i.length&&i.charAt(b+1)==e)&&b++,e},g=function(e){return f(e),(e=n.substr(v).match(RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2)+"}")))?(v+=e[0].length,parseInt(e[0],10)):0},m=function(e,t,i){for(e=f(e)?i:t,t=0;t<e.length;t++)if(n.substr(v,e[t].length).toLowerCase()==e[t].toLowerCase())return v+=e[t].length,t+1;return 0},v=0,b=0;b<i.length;b++)if(p)"'"!=i.charAt(b)||f("'")?v++:p=!1;else switch(i.charAt(b)){case"d":l=g("d");break;case"D":m("D",a.dayNamesShort,a.dayNames);break;case"o":u=g("o");break;case"m":s=g("m");break;case"M":s=m("M",a.monthNamesShort,a.monthNames);break;case"y":o=g("y");break;case"H":c=g("H");break;case"h":c=g("h");break;case"i":r=g("i");break;case"s":h=g("s");break;case"a":d=m("a",["am","pm"],["am","pm"])-1;break;case"A":d=m("A",["am","pm"],["am","pm"])-1;break;case"'":f("'")?v++:p=!0;break;default:v++}if(100>o&&(o+=(new Date).getFullYear()-(new Date).getFullYear()%100+(o<=a.shortYearCutoff?0:-100)),-1<u)for(s=1,l=u;;){if(l<=(a=32-new Date(o,s-1,32).getDate()))break;s++,l-=a}if((c=new Date(o,s-1,l,-1==d?c:d&&12>c?c+12:d||12!=c?c:0,r,h)).getFullYear()!=o||c.getMonth()+1!=s||c.getDate()!=l)throw"Invalid date";return c}}(jQuery),function(e){var t={inputClass:""};e.scroller.presets.select=function(i){var n=e.extend({},t,i.settings),o=e(this),r=this.id+"_dummy";e('label[for="'+this.id+'"]').attr("for",r);var a=(a=e('label[for="'+r+'"]')).length?a.text():o.attr("name"),s=[],l=[{}];l[0][a]={};var u=l[0][a];e("option",o).each((function(){var t=e(this).attr("value");u[t]=e(this).text(),e(this).prop("disabled")&&s.push(t)})),e("#"+r).remove();var c=e('<input type="text" id="'+r+'" value="'+u[o.val()]+'" class="'+n.inputClass+'" readonly />').insertBefore(o);return n.showOnFocus&&c.focus((function(){i.show()})),o.hide().closest(".ui-field-contain").trigger("create"),{width:200,wheels:l,headerText:!1,formatResult:function(e){return u[e[0]]},parseValue:function(){return[o.val()]},validate:function(t){e.each(s,(function(i,n){e('li[data-val="'+n+'"]',t).removeClass("dw-v")}))},onSelect:function(e,t){c.val(e),o.val(t.values[0]).trigger("change")},onChange:function(e,t){"inline"==n.display&&(c.val(e),o.val(t.temp[0]).trigger("change"))},onClose:function(){c.blur()}}}}(jQuery),jQuery.scroller.themes.android={defaults:{dateOrder:"Mddyy",mode:"clickpick",height:50}},function(e){var t={defaults:{dateOrder:"Mddyy",mode:"mixed",rows:5,width:70,showLabel:!1}};e.scroller.themes["android-ics"]=t,e.scroller.themes["android-ics light"]=t}(jQuery),jQuery.scroller.themes.ios={defaults:{dateOrder:"MMdyy",rows:5,height:30,width:55,headerText:!1,showLabel:!1}},function(e){e.scroller.themes.jqm={defaults:{jqmBody:"c",jqmHeader:"b",jqmWheel:"d",jqmClickPick:"c",jqmSet:"b",jqmCancel:"c"},init:function(t,i){var n=i.settings;e(".dw",t).removeClass("dwbg").addClass("ui-overlay-shadow ui-corner-all ui-body-a"),e(".dwb-s a",t).attr("data-role","button").attr("data-theme",n.jqmSet),e(".dwb-c a",t).attr("data-role","button").attr("data-theme",n.jqmCancel),e(".dwwb",t).attr("data-role","button").attr("data-theme",n.jqmClickPick),e(".dwv",t).addClass("ui-header ui-bar-"+n.jqmHeader),e(".dwwr",t).addClass("ui-body-"+n.jqmBody),e(".dwpm .dww",t).addClass("ui-body-"+n.jqmWheel),"inline"!=n.display&&e(".dw",t).addClass("pop in"),t.trigger("create"),e(".dwo",t).click((function(){i.hide()}))}}}(jQuery),function(e){bizagi=void 0!==bizagi?bizagi:{};var t=e.template("#loading_template",'<div class="ui-bizagi-loading-message" style="position: relative;"><div class="ui-bizagi-loading-message-center" style="position: ${position}; top: ${top}; left: ${top}; display: ${inline};"><div class="ui-bizagi-loading-icon"></div></div></div>');e.fn.loadingMessage=function(i){i=i||{};if(0==this.children().length){var n=e.fasttmpl(t,{position:"absolute",top:i["position-y"]||"48%",left:i["position-x"]||"48%",display:"inline"});this.append(n),this.data("loading",!0)}},e.fn.endLoadingMessage=function(){this.children().length>0&&e("> .ui-bizagi-loading-message",this).length&&(this.data("loading",!1),this.attr("data-loading",!1),this.removeClass("ui-bizagi-component-loading"),this.empty())},function(e){function t(t,i){if("table"===e(t).css("display")){var n=e(".ui-bizagi-loading-transparent-overlay.ui-bizagi-loading-alpha-overlay",t).prev();if(n&&n.length>0)if(i)e(t).data("original-display",n.css("display")),bizagi.util.isSharepointContext()||bizagi.util.isWebpartContext()?n.css("display","table-cell"):n.css("display","inline");else{var o=e(t).data("original-display");o&&n.css("display",o)}}}e.fn.startLoading=function(i){var n=this,o=(i=i||{}).delay||0,r=i.overlay||!1,a=i.opacity||0,s=i.maxZIndex||!1;if(1!=e(n).data("loading")){var l;e(n).data("loading",!0),l=r?a?e.template("#loading_tmpl_transparent",'<div class="ui-bizagi-loading-transparent-overlay ui-bizagi-loading-gray-overlay" style="background-color:rgba(128, 128, 128, ${opacity});opacity:${opacity};z-index:${zindex};"><div class="ui-bizagi-loading-overlay-preloader"></div></div>'):e.template("#loading_tmpl_transparent",'<div class="ui-bizagi-loading-transparent-overlay ui-bizagi-loading-alpha-overlay" style="z-index:${zindex};"><div class="ui-bizagi-loading-overlay-preloader"></div></div>'):e.template("#loading_tmpl_alpha",'<div class="ui-bizagi-loading-transparent-overlay" style="z-index:${zindex};"><div class="ui-bizagi-loading-overlay-preloader ${extraCssClass}"></div></div>'),s=s?e.ui.dialog.prototype._getMaxZindex():"auto";var u=window.setTimeout((function(){e(n).data("original-position",e(n).css("position")),e(n).css("position","relative"),r?e(n).append(e.fasttmpl(l,{opacity:a,zindex:s})):e(n).append(e.fasttmpl(l,{zindex:s})),t(n,!0),e(n).removeData("loading-timeout")}),o);e(n).data("loading-timeout",u)}},e.fn.endLoading=function(){e(this).css("position",e(this).data("original-position")),e(".ui-bizagi-loading-transparent-overlay",this).remove(),t(this,!1);var i=e(this).data("loading-timeout");i&&clearTimeout(i),e(this).data("loading",!1)}}(jQuery)}(jQuery);
//# sourceMappingURL=../../../../Maps/tablet_ios/reports_base.tablet.production.js.map
