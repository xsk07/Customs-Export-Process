var bizagi=bizagi||{};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
                                                                                                                                                                                                                                                                                                                                                                                       * jQuery JavaScript Library v2.1.0
                                                                                                                                                                                                                                                                                                                                                                                       * http://jquery.com/
                                                                                                                                                                                                                                                                                                                                                                                       *
                                                                                                                                                                                                                                                                                                                                                                                       * Includes Sizzle.js
                                                                                                                                                                                                                                                                                                                                                                                       * http://sizzlejs.com/
                                                                                                                                                                                                                                                                                                                                                                                       *
                                                                                                                                                                                                                                                                                                                                                                                       * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
                                                                                                                                                                                                                                                                                                                                                                                       * Released under the MIT license
                                                                                                                                                                                                                                                                                                                                                                                       * http://jquery.org/license
                                                                                                                                                                                                                                                                                                                                                                                       *
                                                                                                                                                                                                                                                                                                                                                                                       * Date: 2014-01-23T21:10Z
                                                                                                                                                                                                                                                                                                                                                                                       */function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}bizagi.injector=function(){var e={},t={},i={},n=function(t,i){var n=e[t];if($.isNumeric(i))var r=i;else if("object"===$.type(i))var a=i;if(r=r||0,n)return n(r,a);throw"Service does not exist. "+t};return{get:n,getNewInstance:function(i,r){return e[i]=t[i],n(i,r)},register:function(r,a,o){if(s=a,"[object Array]"!==Object.prototype.toString.call(s))throw"Must pass array.";var s;if("function"!=typeof a[a.length-1])throw"Must pass function to invoke.";t[r]=e[r]=function(t,s){var l,u,c,d=t||0,f=function(){},p=a[a.length-1],g=1===a.length?a[0].$$deps||[]:a.slice(0,a.length-1);return i[r]&&void 0!==i[r].__proto__&&i[r].__proto__.hasOwnProperty("dispose")&&i[r].dispose(),f.prototype=p.prototype,c=function(e,t,i,r,a){var o=0,s=[],l=r||0;if(l>20)throw"Maximum recursion at "+l;for(;o<t.length;o+=1)s.push(n(t[o],l+1));return a&&s.push(a),e.apply(i,s)}(p,g,u=new f,d+1,s),l=c||u,o||(e[r]=function(){return l}),i[r]=l,l}},registerInstance:function(t,i){e[t]=function(){return i}},isRegistered:function(t){return!!e[t]}}}(),function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var i=[],n=i.slice,r=i.concat,a=i.push,o=i.indexOf,s={},l=s.toString,u=s.hasOwnProperty,c="".trim,d={},f=e.document,p=function e(t,i){return new e.fn.init(t,i)},g=/^-ms-/,h=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};function b(e){var t=e.length,i=p.type(e);return"function"!==i&&!p.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}p.fn=p.prototype={jquery:"2.1.0",constructor:p,selector:"",length:0,toArray:function(){return n.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:n.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return p.each(this,e,t)},map:function(e){return this.pushStack(p.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:a,sort:i.sort,splice:i.splice},p.extend=p.fn.extend=function(){var e,t,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"===_typeof(o)||p.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=o[t],n=e[t],"__proto__"!==t&&o!==n&&(u&&n&&(p.isPlainObject(n)||(r=p.isArray(n)))?(r?(r=!1,a=i&&p.isArray(i)?i:[]):a=i&&p.isPlainObject(i)?i:{},o[t]=p.extend(u,a,n)):void 0!==n&&(o[t]=n));return o},p.extend({expando:"jQuery"+("2.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if("object"!==p.type(e)||e.nodeType||p.isWindow(e))return!1;try{if(e.constructor&&!u.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"===_typeof(e)||"function"==typeof e?s[l.call(e)]||"object":_typeof(e)},globalEval:function(e){var t,i=eval;(e=p.trim(e))&&(1===e.indexOf("use strict")?((t=f.createElement("script")).text=e,f.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(g,"ms-").replace(h,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n=0,r=e.length,a=b(e);if(i){if(a)for(;n<r&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(a)for(;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":c.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(b(Object(e))?p.merge(i,"string"==typeof e?[e]:e):a.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:o.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,a=e.length,o=!i;r<a;r++)!t(e[r],r)!==o&&n.push(e[r]);return n},map:function(e,t,i){var n,a=0,o=e.length,s=[];if(b(e))for(;a<o;a++)null!=(n=t(e[a],a,i))&&s.push(n);else for(a in e)null!=(n=t(e[a],a,i))&&s.push(n);return r.apply([],s)},guid:1,proxy:function(e,t){var i,r,a;if("string"==typeof t&&(i=e[t],t=e,e=i),p.isFunction(e))return r=n.call(arguments,2),a=function(){return e.apply(t||this,r.concat(n.call(arguments)))},a.guid=e.guid=e.guid||p.guid++,a},now:Date.now,support:d}),p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){s["[object "+t+"]"]=t.toLowerCase()}));var v=
/*!
                   * Sizzle CSS Selector Engine v1.10.16
                   * http://sizzlejs.com/
                   *
                   * Copyright 2013 jQuery Foundation, Inc. and other contributors
                   * Released under the MIT license
                   * http://jquery.org/license
                   *
                   * Date: 2014-01-13
                   */
function(e){var t,i,n,r,a,o,s,l,u,c,d,f,p,g,h,m,b,v="sizzle"+-new Date,y=e.document,z=0,x=0,w=te(),S=te(),T=te(),A=function(e,t){return e===t&&(u=!0),0},I={}.hasOwnProperty,E=[],C=E.pop,_=E.push,N=E.push,D=E.slice,$=E.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",L=j.replace("w","w#"),k="\\["+R+"*("+j+")"+R+"*(?:([*^$|!~]?=)"+R+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+L+")|)|)"+R+"*\\]",M=":("+j+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+k.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),F=new RegExp("^"+R+"*,"+R+"*"),B=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),H=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),q=new RegExp(M),U=new RegExp("^"+L+"$"),G={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+k),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,X=/'|\\/g,Y=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),K=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{N.apply(E=D.call(y.childNodes),y.childNodes),E[y.childNodes.length].nodeType}catch(e){N={apply:E.length?function(e,t){_.apply(e,D.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ee(e,t,r,a){var s,l,u,f,h,m,z,x,w,S;if((t?t.ownerDocument||t:y)!==d&&c(t),r=r||[],!e||"string"!=typeof e)return r;if(1!==(f=(t=t||d).nodeType)&&9!==f)return[];if(p&&!a){if(s=V.exec(e))if(u=s[1]){if(9===f){if(!(l=t.getElementById(u))||!l.parentNode)return r;if(l.id===u)return r.push(l),r}else if(t.ownerDocument&&(l=t.ownerDocument.getElementById(u))&&b(t,l)&&l.id===u)return r.push(l),r}else{if(s[2])return N.apply(r,t.getElementsByTagName(e)),r;if((u=s[3])&&i.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(u)),r}if(i.qsa&&(!g||!g.test(e))){if(x=z=v,w=t,S=9===f&&e,1===f&&"object"!==t.nodeName.toLowerCase()){for(m=de(e),(z=t.getAttribute("id"))?x=z.replace(X,"\\$&"):t.setAttribute("id",x),x="[id='"+x+"'] ",h=m.length;h--;)m[h]=x+fe(m[h]);w=J.test(e)&&ue(t.parentNode)||t,S=m.join(",")}if(S)try{return N.apply(r,w.querySelectorAll(S)),r}catch(e){}finally{z||t.removeAttribute("id")}}}return function(e,t,r,a){var s,l,u,c,d,f=de(e);if(!a&&1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&i.getById&&9===t.nodeType&&p&&n.relative[l[1].type]){if(!(t=(n.find.ID(u.matches[0].replace(Y,K),t)||[])[0]))return r;e=e.slice(l.shift().value.length)}for(s=G.needsContext.test(e)?0:l.length;s--&&(u=l[s],!n.relative[c=u.type]);)if((d=n.find[c])&&(a=d(u.matches[0].replace(Y,K),J.test(l[0].type)&&ue(t.parentNode)||t))){if(l.splice(s,1),!(e=a.length&&fe(l)))return N.apply(r,a),r;break}}return o(e,f)(a,t,!p,r,J.test(e)&&ue(t.parentNode)||t),r}(e.replace(P,"$1"),t,r,a)}function te(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function ie(e){return e[v]=!0,e}function ne(e){var t=d.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e,t){for(var i=e.split("|"),r=e.length;r--;)n.attrHandle[i[r]]=t}function ae(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function oe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function se(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function le(e){return ie((function(t){return t=+t,ie((function(i,n){for(var r,a=e([],i.length,t),o=a.length;o--;)i[r=a[o]]&&(i[r]=!(n[r]=i[r]))}))}))}function ue(e){return e&&"undefined"!==_typeof(e.getElementsByTagName)&&e}for(t in i=ee.support={},a=ee.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},c=ee.setDocument=function(e){var t,r=e?e.ownerDocument||e:y,o=r.defaultView;return r!==d&&9===r.nodeType&&r.documentElement?(d=r,f=r.documentElement,p=!a(r),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",(function(){c()}),!1):o.attachEvent&&o.attachEvent("onunload",(function(){c()}))),i.attributes=ne((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=ne((function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=Q.test(r.getElementsByClassName)&&ne((function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length})),i.getById=ne((function(e){return f.appendChild(e).id=v,!r.getElementsByName||!r.getElementsByName(v).length})),i.getById?(n.find.ID=function(e,t){if("undefined"!==_typeof(t.getElementById)&&p){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},n.filter.ID=function(e){var t=e.replace(Y,K);return function(e){return e.getAttribute("id")===t}}):(delete n.find.ID,n.filter.ID=function(e){var t=e.replace(Y,K);return function(e){var i="undefined"!==_typeof(e.getAttributeNode)&&e.getAttributeNode("id");return i&&i.value===t}}),n.find.TAG=i.getElementsByTagName?function(e,t){if("undefined"!==_typeof(t.getElementsByTagName))return t.getElementsByTagName(e)}:function(e,t){var i,n=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},n.find.CLASS=i.getElementsByClassName&&function(e,t){if("undefined"!==_typeof(t.getElementsByClassName)&&p)return t.getElementsByClassName(e)},h=[],g=[],(i.qsa=Q.test(r.querySelectorAll))&&(ne((function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+R+"*(?:value|"+O+")"),e.querySelectorAll(":checked").length||g.push(":checked")})),ne((function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+R+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=Q.test(m=f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ne((function(e){i.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),h.push("!=",M)})),g=g.length&&new RegExp(g.join("|")),h=h.length&&new RegExp(h.join("|")),t=Q.test(f.compareDocumentPosition),b=t||Q.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===y&&b(y,e)?-1:t===r||t.ownerDocument===y&&b(y,t)?1:l?$.call(l,e)-$.call(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var i,n=0,a=e.parentNode,o=t.parentNode,s=[e],c=[t];if(!a||!o)return e===r?-1:t===r?1:a?-1:o?1:l?$.call(l,e)-$.call(l,t):0;if(a===o)return ae(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;s[n]===c[n];)n++;return n?ae(s[n],c[n]):s[n]===y?-1:c[n]===y?1:0},r):d},ee.matches=function(e,t){return ee(e,null,null,t)},ee.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&c(e),t=t.replace(H,"='$1']"),i.matchesSelector&&p&&(!h||!h.test(t))&&(!g||!g.test(t)))try{var n=m.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ee(t,d,null,[e]).length>0},ee.contains=function(e,t){return(e.ownerDocument||e)!==d&&c(e),b(e,t)},ee.attr=function(e,t){(e.ownerDocument||e)!==d&&c(e);var r=n.attrHandle[t.toLowerCase()],a=r&&I.call(n.attrHandle,t.toLowerCase())?r(e,t,!p):void 0;return void 0!==a?a:i.attributes||!p?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ee.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ee.uniqueSort=function(e){var t,n=[],r=0,a=0;if(u=!i.detectDuplicates,l=!i.sortStable&&e.slice(0),e.sort(A),u){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return l=null,e},r=ee.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=ee.selectors={cacheLength:50,createPseudo:ie,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,K),e[3]=(e[4]||e[5]||"").replace(Y,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ee.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ee.error(e[0]),e},PSEUDO:function(e){var t,i=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:i&&q.test(i)&&(t=de(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Y,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&w(e,(function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!==_typeof(e.getAttribute)&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var r=ee.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,c,d,f,p,g,h=a!==o?"nextSibling":"previousSibling",m=t.parentNode,b=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(a){for(;h;){for(d=t;d=d[h];)if(s?d.nodeName.toLowerCase()===b:1===d.nodeType)return!1;g=h="only"===e&&!g&&"nextSibling"}return!0}if(g=[o?m.firstChild:m.lastChild],o&&y){for(p=(u=(c=m[v]||(m[v]={}))[e]||[])[0]===z&&u[1],f=u[0]===z&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[h]||(f=p=0)||g.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[z,p,f];break}}else if(y&&(u=(t[v]||(t[v]={}))[e])&&u[0]===z)f=u[1];else for(;(d=++p&&d&&d[h]||(f=p=0)||g.pop())&&((s?d.nodeName.toLowerCase()!==b:1!==d.nodeType)||!++f||(y&&((d[v]||(d[v]={}))[e]=[z,f]),d!==t)););return(f-=r)===n||f%n==0&&f/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ee.error("unsupported pseudo: "+e);return r[v]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ie((function(e,i){for(var n,a=r(e,t),o=a.length;o--;)e[n=$.call(e,a[o])]=!(i[n]=a[o])})):function(e){return r(e,0,i)}):r}},pseudos:{not:ie((function(e){var t=[],i=[],n=o(e.replace(P,"$1"));return n[v]?ie((function(e,t,i,r){for(var a,o=n(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,r,a){return t[0]=e,n(t,null,a,i),!i.pop()}})),has:ie((function(e){return function(t){return ee(e,t).length>0}})),contains:ie((function(e){return function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}})),lang:ie((function(e){return U.test(e||"")||ee.error("unsupported lang: "+e),e=e.replace(Y,K).toLowerCase(),function(t){var i;do{if(i=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return W.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:le((function(){return[0]})),last:le((function(e,t){return[t-1]})),eq:le((function(e,t,i){return[i<0?i+t:i]})),even:le((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:le((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:le((function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e})),gt:le((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=oe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=se(t);function ce(){}function de(e,t){var i,r,a,o,s,l,u,c=S[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=n.preFilter;s;){for(o in i&&!(r=F.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=B.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(P," ")}),s=s.slice(i.length)),n.filter)!(r=G[o].exec(s))||u[o]&&!(r=u[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return t?s.length:s?ee.error(e):S(e,l).slice(0)}function fe(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function pe(e,t,i){var n=t.dir,r=i&&"parentNode"===n,a=x++;return t.first?function(t,i,a){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,a)}:function(t,i,o){var s,l,u=[z,a];if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if((s=(l=t[v]||(t[v]={}))[n])&&s[0]===z&&s[1]===a)return u[2]=s[2];if(l[n]=u,u[2]=e(t,i,o))return!0}}}function ge(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function he(e,t,i,n,r){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(i&&!i(a,n,r)||(o.push(a),u&&t.push(s)));return o}function me(e,t,i,n,r,a){return n&&!n[v]&&(n=me(n)),r&&!r[v]&&(r=me(r,a)),ie((function(a,o,s,l){var u,c,d,f=[],p=[],g=o.length,h=a||function(e,t,i){for(var n=0,r=t.length;n<r;n++)ee(e,t[n],i);return i}(t||"*",s.nodeType?[s]:s,[]),m=!e||!a&&t?h:he(h,f,e,s,l),b=i?r||(a?e:g||n)?[]:o:m;if(i&&i(m,b,s,l),n)for(u=he(b,p),n(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(m[p[c]]=d));if(a){if(r||e){if(r){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(m[c]=d);r(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=r?$.call(a,d):f[c])>-1&&(a[u]=!(o[u]=d))}}else b=he(b===o?b.splice(g,b.length):b),r?r(null,o,b,l):N.apply(o,b)}))}function be(e){for(var t,i,r,a=e.length,o=n.relative[e[0].type],l=o||n.relative[" "],u=o?1:0,c=pe((function(e){return e===t}),l,!0),d=pe((function(e){return $.call(t,e)>-1}),l,!0),f=[function(e,i,n){return!o&&(n||i!==s)||((t=i).nodeType?c(e,i,n):d(e,i,n))}];u<a;u++)if(i=n.relative[e[u].type])f=[pe(ge(f),i)];else{if((i=n.filter[e[u].type].apply(null,e[u].matches))[v]){for(r=++u;r<a&&!n.relative[e[r].type];r++);return me(u>1&&ge(f),u>1&&fe(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(P,"$1"),i,u<r&&be(e.slice(u,r)),r<a&&be(e=e.slice(r)),r<a&&fe(e))}f.push(i)}return ge(f)}return ce.prototype=n.filters=n.pseudos,n.setFilters=new ce,o=ee.compile=function(e,t){var i,r=[],a=[],o=T[e+" "];if(!o){for(t||(t=de(e)),i=t.length;i--;)(o=be(t[i]))[v]?r.push(o):a.push(o);o=T(e,function(e,t){var i=t.length>0,r=e.length>0,a=function(a,o,l,u,c){var f,p,g,h=0,m="0",b=a&&[],v=[],y=s,x=a||r&&n.find.TAG("*",c),w=z+=null==y?1:Math.random()||.1,S=x.length;for(c&&(s=o!==d&&o);m!==S&&null!=(f=x[m]);m++){if(r&&f){for(p=0;g=e[p++];)if(g(f,o,l)){u.push(f);break}c&&(z=w)}i&&((f=!g&&f)&&h--,a&&b.push(f))}if(h+=m,i&&m!==h){for(p=0;g=t[p++];)g(b,v,o,l);if(a){if(h>0)for(;m--;)b[m]||v[m]||(v[m]=C.call(u));v=he(v)}N.apply(u,v),c&&!a&&v.length>0&&h+t.length>1&&ee.uniqueSort(u)}return c&&(z=w,s=y),b};return i?ie(a):a}(a,r))}return o},i.sortStable=v.split("").sort(A).join("")===v,i.detectDuplicates=!!u,c(),i.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(d.createElement("div"))})),ne((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||re("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),i.attributes&&ne((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||re("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ne((function(e){return null==e.getAttribute("disabled")}))||re(O,(function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),ee}(e);p.find=v,(p.expr=v.selectors)[":"]=p.expr.pseudos,p.unique=v.uniqueSort,p.text=v.getText,p.isXMLDoc=v.isXML,p.contains=v.contains;var y=p.expr.match.needsContext,z=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function w(e,t,i){if(p.isFunction(t))return p.grep(e,(function(e,n){return!!t.call(e,n,e)!==i}));if(t.nodeType)return p.grep(e,(function(e){return e===t!==i}));if("string"==typeof t){if(x.test(t))return p.filter(t,e,i);t=p.filter(t,e)}return p.grep(e,(function(e){return o.call(t,e)>=0!==i}))}p.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?p.find.matchesSelector(n,e)?[n]:[]:p.find.matches(e,p.grep(t,(function(e){return 1===e.nodeType})))},p.fn.extend({find:function(e){var t,i=this.length,n=[],r=this;if("string"!=typeof e)return this.pushStack(p(e).filter((function(){for(t=0;t<i;t++)if(p.contains(r[t],this))return!0})));for(t=0;t<i;t++)p.find(e,r[t],n);return(n=this.pushStack(i>1?p.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(w(this,e||[],!1))},not:function(e){return this.pushStack(w(this,e||[],!0))},is:function(e){return!!w(this,"string"==typeof e&&y.test(e)?p(e):e||[],!1).length}});var S,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:T.exec(e))||!i[1]&&t)return!t||t.jquery?(t||S).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),z.test(i[1])&&p.isPlainObject(t))for(i in t)p.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(n=f.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=f,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==S.ready?S.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,S=p(f);var A=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function E(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}p.extend({dir:function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&p(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),p.fn.extend({has:function(e){var t=p(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(p.contains(this,t[e]))return!0}))},closest:function(e,t){for(var i,n=0,r=this.length,a=[],o=y.test(e)||"string"!=typeof e?p(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&p.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?p.unique(a):a)},index:function(e){return e?"string"==typeof e?o.call(p(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.unique(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return p.dir(e,"parentNode")},parentsUntil:function(e,t,i){return p.dir(e,"parentNode",i)},next:function(e){return E(e,"nextSibling")},prev:function(e){return E(e,"previousSibling")},nextAll:function(e){return p.dir(e,"nextSibling")},prevAll:function(e){return p.dir(e,"previousSibling")},nextUntil:function(e,t,i){return p.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return p.dir(e,"previousSibling",i)},siblings:function(e){return p.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return p.sibling(e.firstChild)},contents:function(e){return e.contentDocument||p.merge([],e.childNodes)}},(function(e,t){p.fn[e]=function(i,n){var r=p.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=p.filter(n,r)),this.length>1&&(I[e]||p.unique(r),A.test(e)&&r.reverse()),this.pushStack(r)}}));var C,_=/\S+/g,N={};function D(){f.removeEventListener("DOMContentLoaded",D,!1),e.removeEventListener("load",D,!1),p.ready()}p.Callbacks=function(e){e="string"==typeof e?N[e]||function(e){var t=N[e]={};return p.each(e.match(_)||[],(function(e,i){t[i]=!0})),t}(e):p.extend({},e);var t,i,n,r,a,o,s=[],l=!e.once&&[],u=function u(d){for(t=e.memory&&d,i=!0,o=r||0,r=0,a=s.length,n=!0;s&&o<a;o++)if(!1===s[o].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}n=!1,s&&(l?l.length&&u(l.shift()):t?s=[]:c.disable())},c={add:function(){if(s){var i=s.length;!function t(i){p.each(i,(function(i,n){var r=p.type(n);"function"===r?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==r&&t(n)}))}(arguments),n?a=s.length:t&&(r=i,u(t))}return this},remove:function(){return s&&p.each(arguments,(function(e,t){for(var i;(i=p.inArray(t,s,i))>-1;)s.splice(i,1),n&&(i<=a&&a--,i<=o&&o--)})),this},has:function(e){return e?p.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],a=0,this},disable:function(){return s=l=t=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,t||c.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!s||i&&!l||(t=[e,(t=t||[]).slice?t.slice():t],n?l.push(t):u(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred((function(i){p.each(t,(function(t,a){var o=p.isFunction(e[t])&&e[t];r[a[1]]((function(){var e=o&&o.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a[0]+"With"](this===n?i.promise():this,o?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?p.extend(e,n):n}},r={};return n.pipe=n.then,p.each(t,(function(e,a){var o=a[2],s=a[3];n[a[1]]=o.add,s&&o.add((function(){i=s}),t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?n:this,arguments),this},r[a[0]+"With"]=o.fireWith})),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,r,a=0,o=n.call(arguments),s=o.length,l=1!==s||e&&p.isFunction(e.promise)?s:0,u=1===l?e:p.Deferred(),c=function(e,i,r){return function(a){i[e]=this,r[e]=arguments.length>1?n.call(arguments):a,r===t?u.notifyWith(i,r):--l||u.resolveWith(i,r)}};if(s>1)for(t=new Array(s),i=new Array(s),r=new Array(s);a<s;a++)o[a]&&p.isFunction(o[a].promise)?o[a].promise().done(c(a,r,o)).fail(u.reject).progress(c(a,i,t)):--l;return l||u.resolveWith(r,o),u.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(C.resolveWith(f,[p]),p.fn.trigger&&p(f).trigger("ready").off("ready")))}}),p.ready.promise=function(t){return C||(C=p.Deferred(),"complete"===f.readyState?setTimeout(p.ready):(f.addEventListener("DOMContentLoaded",D,!1),e.addEventListener("load",D,!1))),C.promise(t)},p.ready.promise();var $=p.access=function(e,t,i,n,r,a,o){var s=0,l=e.length,u=null==i;if("object"===p.type(i))for(s in r=!0,i)p.access(e,t,s,i[s],!0,a,o);else if(void 0!==n&&(r=!0,p.isFunction(n)||(o=!0),u&&(o?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(p(e),i)})),t))for(;s<l;s++)t(e[s],i,o?n:n.call(e[s],s,t(e[s],i)));return r?e:u?t.call(e):l?t(e[0],i):a};function O(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=p.expando+Math.random()}p.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},O.uid=1,O.accepts=p.acceptData,O.prototype={key:function(e){if(!O.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=O.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,p.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,r=this.key(e),a=this.cache[r];if("string"==typeof t)a[t]=i;else if(p.isEmptyObject(a))p.extend(this.cache[r],t);else for(n in t)a[n]=t[n];return a},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?void 0!==(n=this.get(e,t))?n:this.get(e,p.camelCase(t)):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,r,a=this.key(e),o=this.cache[a];if(void 0===t)this.cache[a]={};else{p.isArray(t)?n=t.concat(t.map(p.camelCase)):(r=p.camelCase(t),n=t in o?[t,r]:(n=r)in o?[n]:n.match(_)||[]),i=n.length;for(;i--;)delete o[n[i]]}},hasData:function(e){return!p.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var R=new O,j=new O,L=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,k=/([A-Z])/g;function M(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(k,"-$1").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:L.test(i)?p.parseJSON(i):i)}catch(e){}j.set(e,t,i)}else i=void 0;return i}p.extend({hasData:function(e){return j.hasData(e)||R.hasData(e)},data:function(e,t,i){return j.access(e,t,i)},removeData:function(e,t){j.remove(e,t)},_data:function(e,t,i){return R.access(e,t,i)},_removeData:function(e,t){R.remove(e,t)}}),p.fn.extend({data:function(e,t){var i,n,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=j.get(a),1===a.nodeType&&!R.get(a,"hasDataAttrs"))){for(i=o.length;i--;)0===(n=o[i].name).indexOf("data-")&&(n=p.camelCase(n.slice(5)),M(a,n,r[n]));R.set(a,"hasDataAttrs",!0)}return r}return"object"===_typeof(e)?this.each((function(){j.set(this,e)})):$(this,(function(t){var i,n=p.camelCase(e);if(a&&void 0===t)return void 0!==(i=j.get(a,e))?i:void 0!==(i=j.get(a,n))?i:void 0!==(i=M(a,n,void 0))?i:void 0;this.each((function(){var i=j.get(this,n);j.set(this,n,t),-1!==e.indexOf("-")&&void 0!==i&&j.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){j.remove(this,e)}))}}),p.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=R.get(e,t),i&&(!n||p.isArray(i)?n=R.access(e,t,p.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){var i=p.queue(e,t=t||"fx"),n=i.length,r=i.shift(),a=p._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete a.stop,r.call(e,(function(){p.dequeue(e,t)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return R.get(e,i)||R.access(e,i,{empty:p.Callbacks("once memory").add((function(){R.remove(e,[t+"queue",i])}))})}}),p.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?p.queue(this[0],e):void 0===t?this:this.each((function(){var i=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&p.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){p.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=p.Deferred(),a=this,o=this.length,s=function(){--n||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=R.get(a[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}});var P,F=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,B=["Top","Right","Bottom","Left"],H=function(e,t){return"none"===p.css(e=t||e,"display")||!p.contains(e.ownerDocument,e)},q=/^(?:checkbox|radio)$/i;(P=f.createDocumentFragment().appendChild(f.createElement("div"))).innerHTML="<input type='radio' checked='checked' name='t'/>",d.checkClone=P.cloneNode(!0).cloneNode(!0).lastChild.checked,P.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!P.cloneNode(!0).lastChild.defaultValue;d.focusinBubbles="onfocusin"in e;var U=/^key/,G=/^(?:mouse|contextmenu)|click/,W=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;function Q(){return!0}function V(){return!1}function J(){try{return f.activeElement}catch(e){}}p.event={global:{},add:function(e,t,i,n,r){var a,o,s,l,u,c,d,f,g,h,m,b=R.get(e);if(b)for(i.handler&&(i=(a=i).handler,r=a.selector),i.guid||(i.guid=p.guid++),(l=b.events)||(l=b.events={}),(o=b.handle)||(o=b.handle=function(t){return"undefined"!==_typeof(p)&&p.event.triggered!==t.type?p.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(_)||[""]).length;u--;)g=m=(s=Z.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),g&&(d=p.event.special[g]||{},g=(r?d.delegateType:d.bindType)||g,d=p.event.special[g]||{},c=p.extend({type:g,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&p.expr.match.needsContext.test(r),namespace:h.join(".")},a),(f=l[g])||((f=l[g]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,h,o)||e.addEventListener&&e.addEventListener(g,o,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),p.event.global[g]=!0)},remove:function(e,t,i,n,r){var a,o,s,l,u,c,d,f,g,h,m,b=R.hasData(e)&&R.get(e);if(b&&(l=b.events)){for(u=(t=(t||"").match(_)||[""]).length;u--;)if(g=m=(s=Z.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),g){for(d=p.event.special[g]||{},f=l[g=(n?d.delegateType:d.bindType)||g]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)c=f[a],!r&&m!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(f.splice(a,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));o&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,b.handle)||p.removeEvent(e,g,b.handle),delete l[g])}else for(g in l)p.event.remove(e,g+t[u],i,n,!0);p.isEmptyObject(l)&&(delete b.handle,R.remove(e,"events"))}},trigger:function(t,i,n,r){var a,o,s,l,c,d,g,h=[n||f],m=u.call(t,"type")?t.type:t,b=u.call(t,"namespace")?t.namespace.split("."):[];if(o=s=n=n||f,3!==n.nodeType&&8!==n.nodeType&&!W.test(m+p.event.triggered)&&(m.indexOf(".")>=0&&(b=m.split("."),m=b.shift(),b.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[p.expando]?t:new p.Event(m,"object"===_typeof(t)&&t)).isTrigger=r?2:3,t.namespace=b.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:p.makeArray(i,[t]),g=p.event.special[m]||{},r||!g.trigger||!1!==g.trigger.apply(n,i))){if(!r&&!g.noBubble&&!p.isWindow(n)){for(l=g.delegateType||m,W.test(l+m)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(n.ownerDocument||f)&&h.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=h[a++])&&!t.isPropagationStopped();)t.type=a>1?l:g.bindType||m,(d=(R.get(o,"events")||{})[t.type]&&R.get(o,"handle"))&&d.apply(o,i),(d=c&&o[c])&&d.apply&&p.acceptData(o)&&(t.result=d.apply(o,i),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||g._default&&!1!==g._default.apply(h.pop(),i)||!p.acceptData(n)||c&&p.isFunction(n[m])&&!p.isWindow(n)&&((s=n[c])&&(n[c]=null),p.event.triggered=m,n[m](),p.event.triggered=void 0,s&&(n[c]=s)),t.result}},dispatch:function(e){e=p.event.fix(e);var t,i,r,a,o,s=[],l=n.call(arguments),u=(R.get(this,"events")||{})[e.type]||[],c=p.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,u),t=0;(a=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,i=0;(o=a.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((p.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,l))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(n=[],i=0;i<s;i++)void 0===n[r=(a=t[i]).selector+" "]&&(n[r]=a.needsContext?p(r,this).index(l)>=0:p.find(r,this,null,[l]).length),n[r]&&n.push(a);n.length&&o.push({elem:l,handlers:n})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,a=t.button;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||f).documentElement,r=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[p.expando])return e;var t,i,n,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=G.test(r)?this.mouseHooks:U.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new p.Event(a),t=n.length;t--;)e[i=n[t]]=a[i];return e.target||(e.target=f),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=p.extend(new p.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?p.event.trigger(r,null,t):p.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},p.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},(p.Event=function(e,t){if(!(this instanceof p.Event))return new p.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.getPreventDefault&&e.getPreventDefault()?Q:V):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),this[p.expando]=!0}).prototype={isDefaultPrevented:V,isPropagationStopped:V,isImmediatePropagationStopped:V,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Q,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Q,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Q,this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===n||p.contains(n,r))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}})),d.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){p.event.simulate(t,e.target,p.event.fix(e),!0)};p.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=R.access(n,t);r||n.addEventListener(e,i,!0),R.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=R.access(n,t)-1;r?R.access(n,t,r):(n.removeEventListener(e,i,!0),R.remove(n,t))}}})),p.fn.extend({on:function(e,t,i,n,r){var a,o;if("object"===_typeof(e)){for(o in"string"!=typeof t&&(i=i||t,t=void 0),e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),!1===n)n=V;else if(!n)return this;return 1===r&&(a=n,(n=function(e){return p().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=p.guid++)),this.each((function(){p.event.add(this,e,n,i,t)}))},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,p(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===_typeof(e)){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=V),this.each((function(){p.event.remove(this,e,i,t)}))},trigger:function(e,t){return this.each((function(){p.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return p.event.trigger(e,t,i,!0)}});var X=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Y=/<([\w:]+)/,K=/<|&#?\w+;/,ee=/<(?:script|style|link)/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^$|\/(?:java|ecma)script/i,ne=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ae={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function oe(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function se(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function le(e){var t=ne.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ue(e,t){for(var i=0,n=e.length;i<n;i++)R.set(e[i],"globalEval",!t||R.get(t[i],"globalEval"))}function ce(e,t){var i,n,r,a,o,s,l,u;if(1===t.nodeType){if(R.hasData(e)&&(a=R.access(e),o=R.set(t,a),u=a.events))for(r in delete o.handle,o.events={},u)for(i=0,n=u[r].length;i<n;i++)p.event.add(t,r,u[r][i]);j.hasData(e)&&(s=j.access(e),l=p.extend({},s),j.set(t,l))}}function de(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&p.nodeName(e,t)?p.merge([e],i):i}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td,p.extend({clone:function(e,t,i){var n,r,a,o,s,l,u,c=e.cloneNode(!0),f=p.contains(e.ownerDocument,e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(o=de(c),n=0,r=(a=de(e)).length;n<r;n++)s=a[n],l=o[n],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&q.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(i)for(a=a||de(e),o=o||de(c),n=0,r=a.length;n<r;n++)ce(a[n],o[n]);else ce(e,c);return(o=de(c,"script")).length>0&&ue(o,!f&&de(e,"script")),c},buildFragment:function(e,t,i,n){for(var r,a,o,s,l,u,c=t.createDocumentFragment(),d=[],f=0,g=e.length;f<g;f++)if((r=e[f])||0===r)if("object"===p.type(r))p.merge(d,r.nodeType?[r]:r);else if(K.test(r)){for(a=a||c.appendChild(t.createElement("div")),o=(Y.exec(r)||["",""])[1].toLowerCase(),s=ae[o]||ae._default,a.innerHTML=s[1]+r.replace(X,"<$1></$2>")+s[2],u=s[0];u--;)a=a.lastChild;p.merge(d,a.childNodes),(a=c.firstChild).textContent=""}else d.push(t.createTextNode(r));for(c.textContent="",f=0;r=d[f++];)if((!n||-1===p.inArray(r,n))&&(l=p.contains(r.ownerDocument,r),a=de(c.appendChild(r),"script"),l&&ue(a),i))for(u=0;r=a[u++];)ie.test(r.type||"")&&i.push(r);return c},cleanData:function(e){for(var t,i,n,r,a,o,s=p.event.special,l=0;void 0!==(i=e[l]);l++){if(p.acceptData(i)&&(a=i[R.expando])&&(t=R.cache[a])){if((n=Object.keys(t.events||{})).length)for(o=0;void 0!==(r=n[o]);o++)s[r]?p.event.remove(i,r):p.removeEvent(i,r,t.handle);R.cache[a]&&delete R.cache[a]}delete j.cache[i[j.expando]]}}}),p.fn.extend({text:function(e){return $(this,(function(e){return void 0===e?p.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||oe(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=oe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var i,n=e?p.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||p.cleanData(de(i)),i.parentNode&&(t&&p.contains(i.ownerDocument,i)&&ue(de(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(p.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return p.clone(this,e,t)}))},html:function(e){return $(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ee.test(e)&&!ae[(Y.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(X,"<$1></$2>");try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(p.cleanData(de(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,p.cleanData(de(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=r.apply([],e);var i,n,a,o,s,l,u=0,c=this.length,f=this,g=c-1,h=e[0],m=p.isFunction(h);if(m||c>1&&"string"==typeof h&&!d.checkClone&&te.test(h))return this.each((function(i){var n=f.eq(i);m&&(e[0]=h.call(this,i,n.html())),n.domManip(e,t)}));if(c&&(n=(i=p.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===i.childNodes.length&&(i=n),n)){for(o=(a=p.map(de(i,"script"),se)).length;u<c;u++)s=i,u!==g&&(s=p.clone(s,!0,!0),o&&p.merge(a,de(s,"script"))),t.call(this[u],s,u);if(o)for(l=a[a.length-1].ownerDocument,p.map(a,le),u=0;u<o;u++)s=a[u],ie.test(s.type||"")&&!R.access(s,"globalEval")&&p.contains(l,s)&&(s.src?p._evalUrl&&p._evalUrl(s.src):p.globalEval(s.textContent.replace(re,"")))}return this}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){p.fn[e]=function(e){for(var i,n=[],r=p(e),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),p(r[s])[t](i),a.apply(n,i.get());return this.pushStack(n)}}));var fe,pe={};function ge(t,i){var n=p(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle?e.getDefaultComputedStyle(n[0]).display:p.css(n[0],"display");return n.detach(),r}function he(e){var t=f,i=pe[e];return i||("none"!==(i=ge(e,t))&&i||((t=(fe=(fe||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),i=ge(e,t),fe.detach()),pe[e]=i),i}var me=/^margin/,be=new RegExp("^("+F+")(?!px)[a-z%]+$","i"),ve=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function ye(e,t,i){var n,r,a,o,s=e.style;return(i=i||ve(e))&&(o=i.getPropertyValue(t)||i[t]),i&&(""!==o||p.contains(e.ownerDocument,e)||(o=p.style(e,t)),be.test(o)&&me.test(t)&&(n=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,i,n=f.documentElement,r=f.createElement("div"),a=f.createElement("div");function o(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",n.appendChild(r);var o=e.getComputedStyle(a,null);t="1%"!==o.top,i="4px"===o.width,n.removeChild(r)}a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(a),e.getComputedStyle&&p.extend(d,{pixelPosition:function(){return o(),t},boxSizingReliable:function(){return null==i&&o(),i},reliableMarginRight:function(){var t,i=a.appendChild(f.createElement("div"));return i.style.cssText=a.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",i.style.marginRight=i.style.width="0",a.style.width="1px",n.appendChild(r),t=!parseFloat(e.getComputedStyle(i,null).marginRight),n.removeChild(r),a.innerHTML="",t}})}(),p.swap=function(e,t,i,n){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in r=i.apply(e,n||[]),t)e.style[a]=o[a];return r};var xe=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+F+")(.*)$","i"),Se=new RegExp("^([+-])=("+F+")","i"),Te={position:"absolute",visibility:"hidden",display:"block"},Ae={letterSpacing:0,fontWeight:400},Ie=["Webkit","O","Moz","ms"];function Ee(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,r=Ie.length;r--;)if((t=Ie[r]+i)in e)return t;return n}function Ce(e,t,i){var n=we.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function _e(e,t,i,n,r){for(var a=i===(n?"border":"content")?4:"width"===t?1:0,o=0;a<4;a+=2)"margin"===i&&(o+=p.css(e,i+B[a],!0,r)),n?("content"===i&&(o-=p.css(e,"padding"+B[a],!0,r)),"margin"!==i&&(o-=p.css(e,"border"+B[a]+"Width",!0,r))):(o+=p.css(e,"padding"+B[a],!0,r),"padding"!==i&&(o+=p.css(e,"border"+B[a]+"Width",!0,r)));return o}function Ne(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=ve(e),o="border-box"===p.css(e,"boxSizing",!1,a);if(r<=0||null==r){if(((r=ye(e,t,a))<0||null==r)&&(r=e.style[t]),be.test(r))return r;n=o&&(d.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+_e(e,t,i||(o?"border":"content"),n,a)+"px"}function De(e,t){for(var i,n,r,a=[],o=0,s=e.length;o<s;o++)(n=e[o]).style&&(a[o]=R.get(n,"olddisplay"),i=n.style.display,t?(a[o]||"none"!==i||(n.style.display=""),""===n.style.display&&H(n)&&(a[o]=R.access(n,"olddisplay",he(n.nodeName)))):a[o]||(r=H(n),(i&&"none"!==i||!r)&&R.set(n,"olddisplay",r?i:p.css(n,"display"))));for(o=0;o<s;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?a[o]||"":"none"));return e}function $e(e,t,i,n,r){return new $e.prototype.init(e,t,i,n,r)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ye(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=p.camelCase(t),l=e.style;if(t=p.cssProps[s]||(p.cssProps[s]=Ee(l,s)),o=p.cssHooks[t]||p.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:l[t];"string"===(a=_typeof(i))&&(r=Se.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(p.css(e,t)),a="number"),null!=i&&i==i&&("number"!==a||p.cssNumber[s]||(i+="px"),d.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l[t]="",l[t]=i))}},css:function(e,t,i,n){var r,a,o,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=Ee(e.style,s)),(o=p.cssHooks[t]||p.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=ye(e,t,n)),"normal"===r&&t in Ae&&(r=Ae[t]),""===i||i?(a=parseFloat(r),!0===i||p.isNumeric(a)?a||0:r):r}}),p.each(["height","width"],(function(e,t){p.cssHooks[t]={get:function(e,i,n){if(i)return 0===e.offsetWidth&&xe.test(p.css(e,"display"))?p.swap(e,Te,(function(){return Ne(e,t,n)})):Ne(e,t,n)},set:function(e,i,n){var r=n&&ve(e);return Ce(0,i,n?_e(e,t,n,"border-box"===p.css(e,"boxSizing",!1,r),r):0)}}})),p.cssHooks.marginRight=ze(d.reliableMarginRight,(function(e,t){if(t)return p.swap(e,{display:"inline-block"},ye,[e,"marginRight"])})),p.each({margin:"",padding:"",border:"Width"},(function(e,t){p.cssHooks[e+t]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+B[n]+t]=a[n]||a[n-2]||a[0];return r}},me.test(e)||(p.cssHooks[e+t].set=Ce)})),p.fn.extend({css:function(e,t){return $(this,(function(e,t,i){var n,r,a={},o=0;if(p.isArray(t)){for(n=ve(e),r=t.length;o<r;o++)a[t[o]]=p.css(e,t[o],!1,n);return a}return void 0!==i?p.style(e,t,i):p.css(e,t)}),e,t,arguments.length>1)},show:function(){return De(this,!0)},hide:function(){return De(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){H(this)?p(this).show():p(this).hide()}))}}),p.Tween=$e,$e.prototype={constructor:$e,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(p.cssNumber[i]?"":"px")},cur:function(){var e=$e.propHooks[this.prop];return e&&e.get?e.get(this):$e.propHooks._default.get(this)},run:function(e){var t,i=$e.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):$e.propHooks._default.set(this),this}},$e.prototype.init.prototype=$e.prototype,$e.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[p.cssProps[e.prop]]||p.cssHooks[e.prop])?p.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},$e.propHooks.scrollTop=$e.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},(p.fx=$e.prototype.init).step={};var Oe,Re,je,Le,ke,Me=/^(?:toggle|show|hide)$/,Pe=new RegExp("^(?:([+-])=|)("+F+")([a-z%]*)$","i"),Fe=/queueHooks$/,Be=[function(e,t,i){var n,r,a,o,s,l,u,c=this,d={},f=e.style,g=e.nodeType&&H(e),h=R.get(e,"fxshow");i.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always((function(){c.always((function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()}))})));1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"none"===(u=p.css(e,"display"))&&(u=he(e.nodeName)),"inline"===u&&"none"===p.css(e,"float")&&(f.display="inline-block"));i.overflow&&(f.overflow="hidden",c.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})));for(n in t)if(r=t[n],Me.exec(r)){if(delete t[n],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!h||void 0===h[n])continue;g=!0}d[n]=h&&h[n]||p.style(e,n)}if(!p.isEmptyObject(d))for(n in h?"hidden"in h&&(g=h.hidden):h=R.access(e,"fxshow",{}),a&&(h.hidden=!g),g?p(e).show():c.done((function(){p(e).hide()})),c.done((function(){var t;for(t in R.remove(e,"fxshow"),d)p.style(e,t,d[t])})),d)o=Ge(g?h[n]:0,n,c),n in h||(h[n]=o.start,g&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}],He={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=Pe.exec(t),a=r&&r[3]||(p.cssNumber[e]?"":"px"),o=(p.cssNumber[e]||"px"!==a&&+n)&&Pe.exec(p.css(i.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],r=r||[],o=+n||1;do{o/=s=s||".5",p.style(i.elem,e,o+a)}while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(o=i.start=+o||+n||0,i.unit=a,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};function qe(){return setTimeout((function(){Oe=void 0})),Oe=p.now()}function Ue(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=B[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function Ge(e,t,i){for(var n,r=(He[t]||[]).concat(He["*"]),a=0,o=r.length;a<o;a++)if(n=r[a].call(i,t,e))return n}function We(e,t,i){var n,r,a=0,o=Be.length,s=p.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=Oe||qe(),i=Math.max(0,u.startTime+u.duration-t),n=1-(i/u.duration||0),a=0,o=u.tweens.length;a<o;a++)u.tweens[a].run(n);return s.notifyWith(e,[u,n,i]),n<1&&o?i:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Oe||qe(),duration:i.duration,tweens:[],createTween:function(t,i){var n=p.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var i,n,r,a,o;for(i in e)if(r=t[n=p.camelCase(i)],a=e[i],p.isArray(a)&&(r=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),(o=p.cssHooks[n])&&"expand"in o)for(i in a=o.expand(a),delete e[n],a)i in e||(e[i]=a[i],t[i]=r);else t[n]=r}(c,u.opts.specialEasing);a<o;a++)if(n=Be[a].call(u,e,c,u.opts))return n;return p.map(c,Ge,u),p.isFunction(u.opts.start)&&u.opts.start.call(e,u),p.fx.timer(p.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}p.Animation=p.extend(We,{tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;n<r;n++)i=e[n],He[i]=He[i]||[],He[i].unshift(t)},prefilter:function(e,t){t?Be.unshift(e):Be.push(e)}}),p.speed=function(e,t,i){var n=e&&"object"===_typeof(e)?p.extend({},e):{complete:i||!i&&t||p.isFunction(e)&&e,duration:e,easing:i&&t||t&&!p.isFunction(t)&&t};return n.duration=p.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in p.fx.speeds?p.fx.speeds[n.duration]:p.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){p.isFunction(n.old)&&n.old.call(this),n.queue&&p.dequeue(this,n.queue)},n},p.fn.extend({fadeTo:function(e,t,i,n){return this.filter(H).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=p.isEmptyObject(e),a=p.speed(t,i,n),o=function(){var t=We(this,p.extend({},e),a);(r||R.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",a=p.timers,o=R.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&Fe.test(r)&&n(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(i),t=!1,a.splice(r,1));!t&&i||p.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=R.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],a=p.timers,o=n?n.length:0;for(i.finish=!0,p.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),p.each(["toggle","show","hide"],(function(e,t){var i=p.fn[t];p.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(Ue(t,!0),e,n,r)}})),p.each({slideDown:Ue("show"),slideUp:Ue("hide"),slideToggle:Ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){p.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),p.timers=[],p.fx.tick=function(){var e,t=0,i=p.timers;for(Oe=p.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||p.fx.stop(),Oe=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){Re||(Re=setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){clearInterval(Re),Re=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(e,t){return e=p.fx&&p.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}}))},je=f.createElement("input"),Le=f.createElement("select"),ke=Le.appendChild(f.createElement("option")),je.type="checkbox",d.checkOn=""!==je.value,d.optSelected=ke.selected,Le.disabled=!0,d.optDisabled=!ke.disabled,(je=f.createElement("input")).value="t",je.type="radio",d.radioValue="t"===je.value;var Ze,Qe=p.expr.attrHandle;p.fn.extend({attr:function(e,t){return $(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){p.removeAttr(this,e)}))}}),p.extend({attr:function(e,t,i){var n,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return"undefined"===_typeof(e.getAttribute)?p.prop(e,t,i):(1===a&&p.isXMLDoc(e)||(t=t.toLowerCase(),n=p.attrHooks[t]||(p.expr.match.bool.test(t)?Ze:void 0)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:null==(r=p.find.attr(e,t))?void 0:r:null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void p.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,a=t&&t.match(_);if(a&&1===e.nodeType)for(;i=a[r++];)n=p.propFix[i]||i,p.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&p.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ze={set:function(e,t,i){return!1===t?p.removeAttr(e,i):e.setAttribute(i,i),i}},p.each(p.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=Qe[t]||p.find.attr;Qe[t]=function(e,t,n){var r,a;return n||(a=Qe[t],Qe[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,Qe[t]=a),r}}));var Ve=/^(?:input|select|textarea|button)$/i;p.fn.extend({prop:function(e,t){return $(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[p.propFix[e]||e]}))}}),p.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var n,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!p.isXMLDoc(e))&&(t=p.propFix[t]||t,r=p.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ve.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),d.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){p.propFix[this.toLowerCase()]=this}));var Je=/[\t\r\n\f]/g;p.fn.extend({addClass:function(e){var t,i,n,r,a,o,s="string"==typeof e&&e,l=0,u=this.length;if(p.isFunction(e))return this.each((function(t){p(this).addClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(_)||[];l<u;l++)if(n=1===(i=this[l]).nodeType&&(i.className?(" "+i.className+" ").replace(Je," "):" ")){for(a=0;r=t[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o=p.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(e){var t,i,n,r,a,o,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(p.isFunction(e))return this.each((function(t){p(this).removeClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(_)||[];l<u;l++)if(n=1===(i=this[l]).nodeType&&(i.className?(" "+i.className+" ").replace(Je," "):"")){for(a=0;r=t[a++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");o=e?p.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(e,t){var i=_typeof(e);return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each((function(i){p(this).toggleClass(e.call(this,i,this.className,t),t)})):this.each((function(){if("string"===i)for(var t,n=0,r=p(this),a=e.match(_)||[];t=a[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else"undefined"!==i&&"boolean"!==i||(this.className&&R.set(this,"__className__",this.className),this.className=this.className||!1===e?"":R.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Je," ").indexOf(t)>=0)return!0;return!1}});var Xe=/\r/g;p.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=p.isFunction(e),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,p(this).val()):e)?r="":"number"==typeof r?r+="":p.isArray(r)&&(r=p.map(r,(function(e){return null==e?"":e+""}))),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=p.valHooks[r.type]||p.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Xe,""):null==i?"":i:void 0}}),p.extend({valHooks:{select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,a="select-one"===e.type||r<0,o=a?null:[],s=a?r+1:n.length,l=r<0?s:a?r:0;l<s;l++)if(((i=n[l]).selected||l===r)&&(d.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!p.nodeName(i.parentNode,"optgroup"))){if(t=p(i).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,a=p.makeArray(t),o=r.length;o--;)((n=r[o]).selected=p.inArray(p(n).val(),a)>=0)&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),p.each(["radio","checkbox"],(function(){p.valHooks[this]={set:function(e,t){if(p.isArray(t))return e.checked=p.inArray(p(e).val(),t)>=0}},d.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){p.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}})),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Ye=p.now(),Ke=/\?/;p.parseJSON=function(e){return JSON.parse(e+"")},p.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+e),t};var et,tt,it=/#.*$/,nt=/([?&])_=[^&]*/,rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,at=/^(?:GET|HEAD)$/,ot=/^\/\//,st=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lt={},ut={},ct="*/".concat("*");try{tt=location.href}catch(e){(tt=f.createElement("a")).href="",tt=tt.href}function dt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,a=t.toLowerCase().match(_)||[];if(p.isFunction(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function ft(e,t,i,n){var r={},a=e===ut;function o(s){var l;return r[s]=!0,p.each(e[s]||[],(function(e,s){var u=s(t,i,n);return"string"!=typeof u||a||r[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)})),l}return o(t.dataTypes[0])||!r["*"]&&o("*")}function pt(e,t){var i,n,r=p.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&p.extend(!0,e,n),e}et=st.exec(tt.toLowerCase())||[],p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(et[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ct,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?pt(pt(e,p.ajaxSettings),t):pt(p.ajaxSettings,e)},ajaxPrefilter:dt(lt),ajaxTransport:dt(ut),ajax:function(e,t){"object"===_typeof(e)&&(t=e,e=void 0);var i,n,r,a,o,s,l,u,c=p.ajaxSetup({},t=t||{}),d=c.context||c,f=c.context&&(d.nodeType||d.jquery)?p(d):p.event,g=p.Deferred(),h=p.Callbacks("once memory"),m=c.statusCode||{},b={},v={},y=0,z="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!a)for(a={};t=rt.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=v[i]=v[i]||e,b[e]=t),this},overrideMimeType:function(e){return y||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||z;return i&&i.abort(t),w(0,t),this}};if(g.promise(x).complete=h.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||tt)+"").replace(it,"").replace(ot,et[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=p.trim(c.dataType||"*").toLowerCase().match(_)||[""],null==c.crossDomain&&(s=st.exec(c.url.toLowerCase()),c.crossDomain=!(!s||s[1]===et[1]&&s[2]===et[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(et[3]||("http:"===et[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=p.param(c.data,c.traditional)),ft(lt,c,t,x),2===y)return x;for(u in(l=c.global)&&0==p.active++&&p.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!at.test(c.type),n=c.url,c.hasContent||(c.data&&(n=c.url+=(Ke.test(n)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=nt.test(n)?n.replace(nt,"$1_="+Ye++):n+(Ke.test(n)?"&":"?")+"_="+Ye++)),c.ifModified&&(p.lastModified[n]&&x.setRequestHeader("If-Modified-Since",p.lastModified[n]),p.etag[n]&&x.setRequestHeader("If-None-Match",p.etag[n])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+ct+"; q=0.01":""):c.accepts["*"]),c.headers)x.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(!1===c.beforeSend.call(d,x,c)||2===y))return x.abort();for(u in z="abort",{success:1,error:1,complete:1})x[u](c[u]);if(i=ft(ut,c,t,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(o=setTimeout((function(){x.abort("timeout")}),c.timeout));try{y=1,i.send(b,w)}catch(e){if(!(y<2))throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,a,s){var u,b,v,z,w,S=t;2!==y&&(y=2,o&&clearTimeout(o),i=void 0,r=s||"",x.readyState=e>0?4:0,u=e>=200&&e<300||304===e,a&&(z=function(e,t,i){for(var n,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}(c,x,a)),z=function(e,t,i,n){var r,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(e.crossDomain&&"script"===a)continue;if(!(o=u[l+" "+a]||u["* "+a]))for(r in u)if((s=r.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[r]:!0!==u[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(c,z,x,u),u?(c.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(p.lastModified[n]=w),(w=x.getResponseHeader("etag"))&&(p.etag[n]=w)),204===e||"HEAD"===c.type?S="nocontent":304===e?S="notmodified":(S=z.state,b=z.data,u=!(v=z.error))):(v=S,!e&&S||(S="error",e<0&&(e=0))),x.status=e,x.statusText=(t||S)+"",u?g.resolveWith(d,[b,S,x]):g.rejectWith(d,[x,S,v]),x.statusCode(m),m=void 0,l&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,c,u?b:v]),h.fireWith(d,[x,S]),l&&(f.trigger("ajaxComplete",[x,c]),--p.active||p.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,i){return p.get(e,t,i,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],(function(e,t){p[t]=function(e,i,n,r){return p.isFunction(i)&&(r=r||n,n=i,i=void 0),p.ajax({url:e,type:t,dataType:r,data:i,success:n})}})),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){p.fn[t]=function(e){return this.on(t,e)}})),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){var t;return p.isFunction(e)?this.each((function(t){p(this).wrapAll(e.call(this,t))})):(this[0]&&(t=p(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return p.isFunction(e)?this.each((function(t){p(this).wrapInner(e.call(this,t))})):this.each((function(){var t=p(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=p.isFunction(e);return this.each((function(i){p(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(){return this.parent().each((function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)})).end()}}),p.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var gt=/%20/g,ht=/\[\]$/,mt=/\r?\n/g,bt=/^(?:submit|button|image|reset|file)$/i,vt=/^(?:input|select|textarea|keygen)/i;function yt(e,t,i,n){var r;if(p.isArray(t))p.each(t,(function(t,r){i||ht.test(e)?n(e,r):yt(e+"["+("object"===_typeof(r)?t:"")+"]",r,i,n)}));else if(i||"object"!==p.type(t))n(e,t);else for(r in t)yt(e+"["+r+"]",t[r],i,n)}p.param=function(e,t){var i,n=[],r=function(e,t){t=p.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,(function(){r(this.name,this.value)}));else for(i in e)yt(i,e[i],t,r);return n.join("&").replace(gt,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&vt.test(this.nodeName)&&!bt.test(e)&&(this.checked||!q.test(e))})).map((function(e,t){var i=p(this).val();return null==i?null:p.isArray(i)?p.map(i,(function(e){return{name:t.name,value:e.replace(mt,"\r\n")}})):{name:t.name,value:i.replace(mt,"\r\n")}})).get()}}),p.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var zt=0,xt={},wt={0:200,1223:204},St=p.ajaxSettings.xhr();e.ActiveXObject&&p(e).on("unload",(function(){for(var e in xt)xt[e]()})),d.cors=!!St&&"withCredentials"in St,d.ajax=St=!!St,p.ajaxTransport((function(e){var t;if(d.cors||St&&!e.crossDomain)return{send:function(i,n){var r,a=e.xhr(),o=++zt;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(r,i[r]);t=function(e){return function(){t&&(delete xt[o],t=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?n(a.status,a.statusText):n(wt[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=t(),a.onerror=t("error"),t=xt[o]=t("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}})),p.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),p.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain)return{send:function(n,r){t=p("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),f.head.appendChild(t[0])},abort:function(){i&&i()}}}));var Tt=[],At=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Tt.pop()||p.expando+"_"+Ye++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",(function(t,i,n){var r,a,o,s=!1!==t.jsonp&&(At.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(At,"$1"+r):!1!==t.jsonp&&(t.url+=(Ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||p.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){o=arguments},n.always((function(){e[r]=a,t[r]&&(t.jsonpCallback=i.jsonpCallback,Tt.push(r)),o&&p.isFunction(a)&&a(o[0]),o=a=void 0})),"script"})),p.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||f;var n=z.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=p.buildFragment([e],t,r),r&&r.length&&p(r).remove(),p.merge([],n.childNodes))};var It=p.fn.load;p.fn.load=function(e,t,i){if("string"!=typeof e&&It)return It.apply(this,arguments);var n,r,a,o=this,s=e.indexOf(" ");return s>=0&&(n=e.slice(s),e=e.slice(0,s)),p.isFunction(t)?(i=t,t=void 0):t&&"object"===_typeof(t)&&(r="POST"),o.length>0&&p.ajax({url:e,type:r,dataType:"html",data:t}).done((function(e){a=arguments,o.html(n?p("<div>").append(p.parseHTML(e)).find(n):e)})).complete(i&&function(e,t){o.each(i,a||[e.responseText,t,e])}),this},p.expr.filters.animated=function(e){return p.grep(p.timers,(function(t){return e===t.elem})).length};var Et=e.document.documentElement;function Ct(e){return p.isWindow(e)?e:9===e.nodeType&&e.defaultView}p.offset={setOffset:function(e,t,i){var n,r,a,o,s,l,u=p.css(e,"position"),c=p(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=p.css(e,"top"),l=p.css(e,"left"),("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1?(o=(n=c.position()).top,r=n.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),p.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):c.css(d)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){p.offset.setOffset(this,e,t)}));var t,i,n=this[0],r={top:0,left:0},a=n&&n.ownerDocument;return a?(t=a.documentElement,p.contains(t,n)?("undefined"!==_typeof(n.getBoundingClientRect)&&(r=n.getBoundingClientRect()),i=Ct(a),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===p.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(n=e.offset()),n.top+=p.css(e[0],"borderTopWidth",!0),n.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-p.css(i,"marginTop",!0),left:t.left-n.left-p.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||Et;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||Et}))}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,i){var n="pageYOffset"===i;p.fn[t]=function(r){return $(this,(function(t,r,a){var o=Ct(t);if(void 0===a)return o?o[i]:t[r];o?o.scrollTo(n?e.pageXOffset:a,n?a:e.pageYOffset):t[r]=a}),t,r,arguments.length,null)}})),p.each(["top","left"],(function(e,t){p.cssHooks[t]=ze(d.pixelPosition,(function(e,i){if(i)return i=ye(e,t),be.test(i)?p(e).position()[t]+"px":i}))})),p.each({Height:"height",Width:"width"},(function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){p.fn[n]=function(n,r){var a=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===r?"margin":"border");return $(this,(function(t,i,n){var r;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?p.css(t,i,o):p.style(t,i,n,o)}),t,a?n:void 0,a,null)}}))})),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return p}));var _t,Nt,Dt=e.jQuery,$t=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=$t),t&&e.jQuery===p&&(e.jQuery=Dt),p},p.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},p.browser||(Nt={},(_t=p.uaMatch(navigator.userAgent)).browser&&(Nt[_t.browser]=!0,Nt.version=_t.version),Nt.chrome?Nt.webkit=!0:Nt.webkit&&(Nt.safari=!0),p.browser=Nt),"undefined"===_typeof(t)&&(e.jQuery=e.$=p),p})),
/*!
 * jQuery Migrate - v1.4.1 - 2016-05-19
 * Copyright jQuery Foundation and other contributors
 */
function(e,t,i){e.migrateTrace=!1,e.migrateVersion="1.4.1";var n={};function r(i){var r=t.console;n[i]||(n[i]=!0,e.migrateWarnings.push(i),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+i),e.migrateTrace&&r.trace&&r.trace()))}function a(t,i,n,a){if(Object.defineProperty)try{return void Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(a),n},set:function(e){r(a),n=e}})}catch(e){}e._definePropertyBroken=!0,t[i]=n}e.migrateWarnings=[],t.console&&t.console.log&&t.console.log("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){n={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){},c=/^(?:input|button)$/i,d=/^[238]$/,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,n,a){var l=i.toLowerCase(),u=t&&t.nodeType;return a&&(s.length<4&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(u)&&(o?i in o:e.isFunction(e.fn[i])))?e(t)[i](n):("type"===i&&void 0!==n&&c.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&f.test(l)&&(e.attrHooks[l]={get:function(t,i){var n,r=e.prop(t,i);return!0===r||"boolean"!=typeof r&&(n=t.getAttributeNode(i))&&!1!==n.nodeValue?i.toLowerCase():void 0},set:function(t,i,n){var r;return!1===i?e.removeAttr(t,n):((r=e.propFix[n]||n)in t&&(t[r]=!0),t.setAttribute(n,n.toLowerCase())),n}},p.test(l)&&r("jQuery.fn.attr('"+l+"') might use property instead of attribute")),s.call(e,t,i,n))},e.attrHooks.value={get:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();if("button"===i)return u.apply(this,arguments);"input"!==i&&"option"!==i&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t}};var g,h,m,b=e.fn.init,v=e.find,y=e.parseJSON,z=/^\s*</,x=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,w=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,S=/^([^<]*)(<[\w\W]+>)([^>]*)$/;for(m in e.fn.init=function(t,i,n){var a,o;return t&&"string"==typeof t&&!e.isPlainObject(i)&&(a=S.exec(e.trim(t)))&&a[0]&&(z.test(t)||r("$(html) HTML strings must start with '<' character"),a[3]&&r("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),i&&i.context&&i.context.nodeType&&(i=i.context),e.parseHTML)?b.call(this,e.parseHTML(a[2],i&&i.ownerDocument||i||document,!0),i,n):(o=b.apply(this,arguments),t&&void 0!==t.selector?(o.selector=t.selector,o.context=t.context):(o.selector="string"==typeof t?t:"",t&&(o.context=t.nodeType?t:i||document)),o)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&x.test(e))try{document.querySelector(e)}catch(i){e=e.replace(w,(function(e,t,i,n){return"["+t+i+'"'+n+'"]'}));try{document.querySelector(e),r("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(e){r("Attribute selector with '#' was not fixed: "+t[0])}}return v.apply(this,t)},v)Object.prototype.hasOwnProperty.call(v,m)&&(e.find[m]=v[m]);e.parseJSON=function(e){return e?y.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(h={},(g=e.uaMatch(navigator.userAgent)).browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel="CSS1Compat"===document.compatMode,a(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),a(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,i){return new t.fn.init(e,i)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,r){var a=e.fn.init.call(this,n,r,i);return a instanceof t?a:t(a)},t.fn.init.prototype=t.fn;var i=t(document);return r("jQuery.sub() is deprecated"),t},e.fn.size=function(){return r("jQuery.fn.size() is deprecated; use the .length property"),this.length};var T=!1;e.swap&&e.each(["height","width","reliableMarginRight"],(function(t,i){var n=e.cssHooks[i]&&e.cssHooks[i].get;n&&(e.cssHooks[i].get=function(){var e;return T=!0,e=n.apply(this,arguments),T=!1,e})})),e.swap=function(e,t,i,n){var a,o,s={};for(o in T||r("jQuery.swap() is undocumented and deprecated"),t)s[o]=e.style[o],e.style[o]=t[o];for(o in a=i.apply(e,n||[]),t)e.style[o]=s[o];return a},e.ajaxSetup({converters:{"text json":e.parseJSON}});var A=e.fn.data;e.fn.data=function(t){var i,n,a=this[0];return!a||"events"!==t||1!==arguments.length||(i=e.data(a,t),n=e._data(a,t),void 0!==i&&i!==n||void 0===n)?A.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),n)};var I=/\/(java|ecma)script/i;e.clean||(e.clean=function(t,i,n,a){i=(i=!(i=i||document).nodeType&&i[0]||i).ownerDocument||i,r("jQuery.clean() is deprecated");var o,s,l,u,c=[];if(e.merge(c,e.buildFragment(t,i).childNodes),n)for(l=function(e){if(!e.type||I.test(e.type))return a?a.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)},o=0;null!=(s=c[o]);o++)e.nodeName(s,"script")&&l(s)||(n.appendChild(s),void 0!==s.getElementsByTagName&&(u=e.grep(e.merge([],s.getElementsByTagName("script")),l),c.splice.apply(c,[o+1,0].concat(u)),o+=u.length));return c});var E=e.event.add,C=e.event.remove,_=e.event.trigger,N=e.fn.toggle,D=e.fn.live,$=e.fn.die,O=e.fn.load,R="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",j=new RegExp("\\b(?:"+R+")\\b"),L=/(?:^|\s)hover(\.\S+|)\b/,k=function(t){return"string"!=typeof t||e.event.special.hover?t:(L.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(L,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,i,n,a){e!==document&&j.test(t)&&r("AJAX events should be attached to document: "+t),E.call(this,e,k(t||""),i,n,a)},e.event.remove=function(e,t,i,n,r){C.call(this,e,k(t)||"",i,n,r)},e.each(["load","unload","error"],(function(t,i){e.fn[i]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof e[0]?O.apply(this,e):(r("jQuery.fn."+i+"() is deprecated"),e.splice(0,0,i),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this))}})),e.fn.toggle=function(t,i){if(!e.isFunction(t)||!e.isFunction(i))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var n=arguments,a=t.guid||e.guid++,o=0,s=function(i){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),n[r].apply(this,arguments)||!1};for(s.guid=a;o<n.length;)n[o++].guid=a;return this.click(s)},e.fn.live=function(t,i,n){return r("jQuery.fn.live() is deprecated"),D?D.apply(this,arguments):(e(this.context).on(t,this.selector,i,n),this)},e.fn.die=function(t,i){return r("jQuery.fn.die() is deprecated"),$?$.apply(this,arguments):(e(this.context).off(t,this.selector||"**",i),this)},e.event.trigger=function(e,t,i,n){return i||j.test(e)||r("Global events are undocumented and deprecated"),_.call(this,e,t,i||document,n)},e.each(R.split("|"),(function(t,i){e.event.special[i]={setup:function(){var t=this;return t!==document&&(e.event.add(document,i+"."+e.guid,(function(){e.event.trigger(i,Array.prototype.slice.call(arguments,1),t,!0)})),e._data(this,i,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,i+"."+e._data(this,i)),!1}}})),e.event.special.ready={setup:function(){this===document&&r("'ready' event is deprecated")}};var M=e.fn.andSelf||e.fn.addBack,P=e.fn.find;if(e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},e.fn.find=function(e){var t=P.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t},e.Callbacks){var F=e.Deferred,B=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var i=F(),n=i.promise();return i.pipe=n.pipe=function(){var t=arguments;return r("deferred.pipe() is deprecated"),e.Deferred((function(r){e.each(B,(function(a,o){var s=e.isFunction(t[a])&&t[a];i[o[1]]((function(){var t=s&&s.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===n?r.promise():this,s?[t]:arguments)}))})),t=null})).promise()},i.isResolved=function(){return r("deferred.isResolved is deprecated"),"resolved"===i.state()},i.isRejected=function(){return r("deferred.isRejected is deprecated"),"rejected"===i.state()},t&&t.call(i,i),i}}}(jQuery,window),window.Prototype&&(delete Object.prototype.toJSON,delete Array.prototype.toJSON,delete Hash.prototype.toJSON,delete String.prototype.toJSON),this.JSON||(this.JSON={}),function(){function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var i,n,r,a,o,s=gap,l=t[e];switch("function"==typeof rep&&(l=rep.call(t,e,l)),_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,i=0;i<a;i+=1)o[i]=str(i,l)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,r}if(rep&&"object"===_typeof(rep))for(a=rep.length,i=0;i<a;i+=1)"string"==typeof(n=rep[i])&&(r=str(n,l))&&o.push(quote(n)+(gap?": ":":")+r);else for(n in l)Object.hasOwnProperty.call(l,n)&&(r=str(n,l))&&o.push(quote(n)+(gap?": ":":")+r);return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,r}}"function"!=typeof JSON.encode&&(JSON.encode=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.encode");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,r=e[t];if(r&&"object"===_typeof(r))for(i in r)Object.hasOwnProperty.call(r,i)&&(void 0!==(n=walk(r,i))?r[i]=n:delete r[i]);return reviver.call(e,t,r)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){var t=/_|-/,n=/::/,r=/([A-Z]+)([A-Z][a-z])/g,a=/([a-z\d])([A-Z])/g,o=/([a-z\d])([A-Z])/g,s=/\{([^\}]+)\}/g,l=/\./,u=function(e,t,i){return e[t]||i&&(e[t]={})},c=function(e){var t=_typeof(e);return t&&("function"==t||"object"==t)},d=function(t,i,n){var r,a,o,s=t?t.split(l):[],d=s.length,f=e.isArray(i)?i:[i||window],p=0;if(0==d)return f[0];for(;r=f[p++];){for(o=0;o<d-1&&c(r);o++)r=u(r,s[o],n);if(c(r)&&void 0!==(a=u(r,s[o],n)))return!1===n&&delete r[s[o]],a}},f=e.String=e.extend(e.String||{},{getObject:d,capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.substr(1)},camelize:function(e){return(e=f.classize(e)).charAt(0).toLowerCase()+e.substr(1)},classize:function(e,i){for(var n=e.split(t),r=0;r<n.length;r++)n[r]=f.capitalize(n[r]);return n.join(i||"")},niceName:function(e){f.classize(parts[i]," ")},underscore:function(e){return e.replace(n,"/").replace(r,"$1_$2").replace(a,"$1_$2").replace(o,"_").toLowerCase()},sub:function(e,t,i){var n=[];return n.push(e.replace(s,(function(e,r){var a=d(r,t,"boolean"==typeof i?!i:i),o=_typeof(a);return"object"!==o&&"function"!==o||null===o?""+a:(n.push(a),"")}))),n.length<=1?n[0]:n}})}(jQuery),function(e){var t=!1,i=e.makeArray,n=e.isFunction,r=e.isArray,a=e.extend,o=function(e,t){return e.concat(i(t))},s=/xyz/.test((function(){xyz}))?/\b_super\b/:/.*/,l=function(e,t,i){for(var r in i=i||e,e)i[r]=n(e[r])&&n(t[r])&&s.test(e[r])?function(e,i){return function(){var n,r=this._super;return this._super=t[e],n=i.apply(this,arguments),this._super=r,n}}(r,e[r]):e[r]},u=e.Class=function(){arguments.length&&u.extend.apply(u,arguments)};a(u,{callback:function(e){var t,n=i(arguments);return e=n.shift(),r(e)||(e=[e]),t=this,function(){for(var i,a,s=o(n,arguments),l=e.length,u=0;u<l;u++)(a=e[u])&&((i="string"==typeof a)&&t._set_called&&(t.called=a),s=(i?t[a]:a).apply(t,s||[]),u<l-1&&(s=!r(s)||s._use_call?[s]:s));return s}},getObject:e.String.getObject,newInstance:function(){var e,t=this.rawInstance();return t.setup&&(e=t.setup.apply(t,arguments)),t.init&&t.init.apply(t,r(e)?e:arguments),t},setup:function(e,t){return this.defaults=a(!0,{},e.defaults,this.defaults),arguments},rawInstance:function(){t=!0;var e=new this;return t=!1,e},extend:function(e,i,n){"string"!=typeof e&&(n=i,i=e,e=null),n||(n=i,i=null),n=n||{};var r,s,c=this,d=this.prototype;function f(){if(!t)return this.constructor!==f&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}for(r in t=!0,s=new this,t=!1,l(n,d,s),this)this.hasOwnProperty(r)&&(f[r]=this[r]);if(l(i,this,f),e){var p=e.split(/\./),g=p.pop(),h=u.getObject(p.join("."),window,!0),m=h;h[g]=f}a(f,{prototype:s,namespace:m,shortName:g,constructor:f,fullName:e}),f.prototype.Class=f.prototype.constructor=f;var b=f.setup.apply(f,o([c],arguments));return f.init&&f.init.apply(f,b||[]),f}}),u.prototype.callback=u.callback}(jQuery),function(e,t){var i,n=e.fn.domManip,r=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,a={},o={},s={key:0,data:{}},l=0,u=0,c=[];function d(t,i,n,r){var s={data:r||(i?i.data:{}),_wrap:i?i._wrap:null,tmpl:null,parent:i||null,nodes:[],calls:z,nest:x,wrap:w,html:S,update:T};return t&&e.extend(s,t,{nodes:[],parent:i}),n&&(s.tmpl=n,s._ctnt=s._ctnt||s.tmpl(e,s),s.key=++l,(c.length?o:a)[l]=s),s}e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,n){e.fn[t]=function(r){var o,s,l,c,d=[],f=e(r),p=1===this.length&&this[0].parentNode;if(i=a||{},p&&11===p.nodeType&&1===p.childNodes.length&&1===f.length)f[n](this[0]),d=this;else{for(s=0,l=f.length;s<l;s++)u=s,o=(s>0?this.clone(!0):this).get(),e.fn[n].apply(e(f[s]),o),d=d.concat(o);u=0,d=this.pushStack(d,t,f.selector)}return c=i,i=null,e.tmpl.complete(c),d}})),e.fn.extend({tmpl:function(t,i,n){return e.tmpl(this[0],t,i,n)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(t,r,o,s){if(t[0]&&t[0].nodeType){for(var l,c=e.makeArray(arguments),d=t.length,f=0;f<d&&!(l=e.data(t[f++],"tmplItem")););d>1&&(c[0]=[e.makeArray(t)]),l&&u&&(c[2]=function(t){e.tmpl.afterManip(this,t,o)}),n.apply(this,c)}else n.apply(this,arguments);return u=0,i||e.tmpl.complete(a),this}}),e.extend({fasttmpl:function(t,i,n,r){n=n||{},$.extend(n,{fast:!0}),bizagi.chrono.start("fasttmpl");var a=e.tmpl(t,i,n,r);return bizagi.chrono.stop("fasttmpl"),a},tmpl:function(t,i,n,r){n&&n.nestedExecution||(f=[]);var l,u,c=!r,h=n&&n.fast;if(c)r=s,t=e.template[t]||e.template(null,t),o={};else if(!t)return t=r.tmpl,a[r.key]=r,r.nodes=[],r.wrapped&&b(r,r.wrapped),u=g(r,null,r.tmpl(e,r),h),n&&n.nestedExecution||p(),h?u:e(u);return t?("function"==typeof i&&(i=i.call(r||{})),n&&n.wrapped&&b(n,n.wrapped),l=e.isArray(i)?e.map(i,(function(e){return e?d(n,r,t,e):null})):[d(n,r,t,i)],c?(u=g(r,null,l,h),n&&n.nestedExecution||p(),h?u:e(u)):(n&&n.nestedExecution||p(),l)):[]},tmplItem:function(t){var i;for(t instanceof e&&(t=t[0]);t&&1===t.nodeType&&!(i=e.data(t,"tmplItem"))&&(t=t.parentNode););return i||s},template:function(t,i){return i?("string"==typeof i?i=m(i):i instanceof e&&(i=i[0]||{}),i.nodeType&&(i=e.data(i,"tmpl")||e.data(i,"tmpl",m(i.innerHTML))),"string"==typeof t?e.template[t]=i:i):t?"string"!=typeof t?e.template(null,t):e.template[t]||e.template(null,r.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(e){a={}},afterManip:function(t,i,n){var r=11===i.nodeType?e.makeArray(i.childNodes):1===i.nodeType?[i]:[];n.call(t,i),y(r),u++}});var f=[];function p(){if(f)for(var e=0;e<f.length;e++){$(f[e]).removeData("tmplItem")}f=null}function g(t,i,n,r){var a,o;return o=r?n?e.map(n,(function(e){return"string"==typeof e?e:g(e,t,e._ctnt,!0)})):t:n?e.map(n,(function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,'$1 _tmplitem="'+t.key+'" $2'):e:g(e,t,e._ctnt)})):t,i?o:(o=o.join(""),r?o:(o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,(function(t,i,n,r){y(a=e(n).get()),i&&(a=h(i).concat(a)),r&&(a=a.concat(h(r)))})),a||h(o)))}function h(t){var i=document.createElement("div");return i.innerHTML=t,e.makeArray(i.childNodes)}function m(t){var i="var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,(function(t,i,n,r,a,o,s){var l,u,c,d=e.tmpl.tag[n];if(!d)throw"Template command not found: "+n;return l=d._default||[],o&&!/\w$/.test(a)&&(a+=o,o=""),a?(a=v(a),s=s?","+v(s)+")":o?")":"",u=o?a.indexOf(".")>-1?a+o:"("+a+").call($item"+s:a,c=o?u:"(typeof("+a+")==='function'?("+a+").call($item):("+a+"))"):c=u=l.$1||"null",r=v(r),"');"+d[i?"close":"open"].split("$notnull_1").join(a?"typeof("+a+")!=='undefined' && ("+a+")!=null":"true").split("$1a").join(c).split("$1").join(u).split("$2").join(r?r.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,(function(e,t,i,n){return(n=n?","+n+")":i?")":"")?"("+t+").call($item"+n:e})):l.$2||"")+"_.push('"}))+"');}return _;";return new Function("jQuery","$item",i)}function b(t,i){t._wrap=g(t,!0,e.isArray(i)?i:[r.test(i)?i:e(i).html()]).join("")}function v(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function y(t){var i,n,r,s,c,f="_"+u,p={};for(r=0,s=t.length;r<s;r++)if(1===(i=t[r]).nodeType){for(c=(n=i.getElementsByTagName("*")).length-1;c>=0;c--)g(n[c]);g(i)}function g(t){var i,n,r,s,c=t;if(s=t.getAttribute("_tmplitem")){for(;c.parentNode&&1===(c=c.parentNode).nodeType&&!(i=c.getAttribute("_tmplitem")););i!==s&&(c=c.parentNode?11===c.nodeType?0:c.getAttribute("_tmplitem")||0:0,(r=a[s])||((r=d(r=o[s],a[c]||o[c],null,!0)).key=++l,a[l]=r),u&&g(s)),t.removeAttribute("_tmplitem")}else u&&(r=e.data(t,"tmplItem"))&&(g(r.key),a[r.key]=r,c=(c=e.data(t.parentNode,"tmplItem"))?c.key:0);if(r){for(n=r;n&&n.key!=c;)n.nodes.push(t),n=n.parent;delete r._ctnt,delete r._wrap,e.data(t,"tmplItem",r)}function g(e){r=p[e+=f]=p[e]||d(r,a[r.parent.key+f]||r.parent,null,!0)}}}function z(e,t,i,n){if(!e)return c.pop();c.push({_:e,tmpl:t,item:this,data:i,options:n})}function x(t,i,n){return n||(n={}),n.nestedExecution=!0,e.tmpl(e.template(t),i,n,this)}function w(t,i){var n=t.options||{};return n.wrapped=i,e.tmpl(e.template(t.tmpl),t.data,n,t.item)}function S(t,i){var n=this._wrap;return e.map(e(e.isArray(n)?n.join(""):n).filter(t||"*"),(function(e){return i?e.innerText||e.textContent:e.outerHTML||(t=e,(n=document.createElement("div")).appendChild(t.cloneNode(!0)),n.innerHTML);var t,n}))}function T(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}}(jQuery),function(e){e.support.cors=!0;e.ajax;function t(e){return{url:e[0],data:e.length>=2?e[1]:void 0,success:e.length>=3?e[2]:void 0,error:e.length>=4?e[3]:void 0}}function i(t){var i={dataType:"json"};return 1===arguments.length&&"string"!=typeof arguments[0]?"url"in(i=e.extend(i,t))&&("data"in i&&("object"==_typeof(i.data)&&i.data.guid?i.url=i.url.replace("{guid}",i.data.guid):i.url=n(i.url,i.data)),bizagi.override.forceBatchRequest&&i.url.indexOf("Api/")>-1&&-1==i.url.indexOf("Api/Batch")&&(i.batchRequest=!0,i.fromRestLib=!0)):(e.isFunction(data)&&(error=success,success=data,data=null),t=n(t,data),i=e.extend(i,{url:t,data:data,cache:!0,success:function(e){function t(t,i,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){success&&success.call(i.context||i,e,r(n),n)})),error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){error&&error.call(i.context||i,e,r(e))}))})),i}function n(e,t){var i,n,r;for(i in t)r=t[i],(n=e.replace("{"+i+"}",encodeURIComponent(r)))!=e&&(e=n,delete t[i]);return e}function r(t){var i={},n=e.trim(t.getAllResponseHeaders());return e.each(n.split("\n"),(function(t,n){if(n.length){var r=n.match(/^([\w\-]+):(.*)/);3===r.length&&(i[r[1]]=e.trim(r[2]))}})),t.responseHeaders=i,i}e.restSetup={methodParam:"_method",useMethodOverride:!1,verbs:{create:"POST",update:"PUT",destroy:"DELETE"}},e.ajaxSetup({headers:{"X-BZXSRF-TOKEN":bizagi.getXSRFToken()}}),e(document).ready((function(){e.restSetup.csrfParam=e.restSetup.csrfParam||e("meta[name=csrf-param]").attr("content"),e.restSetup.csrfToken=e.restSetup.csrfToken||e("meta[name=csrf-token]").attr("content")})),e.read=function(n){n.url||(n=t(arguments));var r=i(n);return r.type="GET",r.crossDomain="true",r.xhrFields={withCredentials:!0},e.ajax(r)},e.create=function(n){n.url||(n=t(arguments));var r=i(n);return r.type=e.restSetup.verbs.create,r.crossDomain="true",r.xhrFields={withCredentials:!0},e.ajax(r)},e.update=function(n){n.url||(n=t(arguments));var r=i(n);return r.type=e.restSetup.verbs.update,r.crossDomain="true",r.xhrFields={withCredentials:!0},e.ajax(r)},e.destroy=function(n){n.url||(n=t(arguments));var r=i(n);return r.type=e.restSetup.verbs.destroy,r.crossDomain="true",r.xhrFields={withCredentials:!0},e.ajax(r)}}(jQuery),String.prototype.replaceMultiple=function(e){var t=this;e=e||{};return $.each(e,(function(i,n){t=t.replace(new RegExp("\\{"+i+"\\}","gm"),e[i])})),t},Math.guid=function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)}))};var batchRequest=function(e){var t=this;return t.intervalLap=400,t.queueOfRequest=[],t.batchWaiting={},t.options={boundary:"batch_"+Math.guid(),newLine:"\r\n",endPoint:"/"},t.options=$.extend(t.options,e),t._getAppHostAndPath=function(e){var t=(void 0===e?"//":e).split("//")[1].split("/");return{host:t.shift(),path:"/"+t.join("/")}},t.HOST_AND_PATH=t._getAppHostAndPath(bizagiConfig.applicationUrl),t.addBatchRequest=function(e,i,n,r){var a=Math.guid();i.fromRestLib&&(i=i.data),t.queueOfRequest.push({guid:a,options:e,originalOptions:i,deferred:n,jqXHR:r})},t.getHeadersToString=function(e){e=e||{};var i="";return $.each(e,(function(e,n){i+=e+": "+n+t.options.newLine})),i},t.parseUrl=function(e){return e=(e=e||"").replace("./","/"),e=(e=t.HOST_AND_PATH.path.split("/").reduce((function(e,t,i,n){return i+1<n.length&&e.push(t),e}),[]).join("/")+e).replace("//","/")},t.tryParseURL=function(e,t){try{return t.url=new URL(e),!0}catch(e){return!1}},t.getRequestHeaders=function(e){var i="",n={url:void 0};t.tryParseURL(e.originalOptions.url,n)&&(e.originalOptions.url=e.originalOptions.url.replace(n.url.origin,""));var r=JSON.stringify(e.originalOptions);'""'==r&&(r="");var a=Array("*","/","*").join("");i+="--{boundary}{newLine}",i+="Content-Type: {contentType}{newLine}{newLine}",i+="{method} {url} {protocol}{newLine}",i+="Host: {host}{newLine}",i+="X-Request-ID: {requestId}{newLine}",i+="{originalHeaders}",i+="content-length: {contentLength}{newLine}",i+="{newLine}{data}{newLine}";var o={newLine:t.options.newLine,boundary:t.options.boundary,contentType:"application/http; msgtype=request",method:e.options.type,url:n.url?e.options.url.replace(n.url.origin,""):t.parseUrl(e.options.url),protocol:"HTTP/1.1",accept:e.options.headers&&e.options.headers.Accept?e.options.headers.Accept:a,requestId:Math.guid(),originalHeaders:t.getHeadersToString(e.options.headers),contentLength:r.length,host:n.url?n.url.host:t.HOST_AND_PATH.host,data:r};return i=i.replaceMultiple(o)},t.buildBatchRequest=function(){for(var e,i="";e=t.queueOfRequest.shift();)t.addWaitingRequest(t.options.boundary,e),i+=t.getRequestHeaders(e);return i&&(i+="--{boundary}--{newLine}".replaceMultiple({newLine:t.options.newLine,boundary:t.options.boundary})),i},t.parseResponse=function(e){return{status:function(e){var t=/(HTTP\/1\.1) (\d{3}) (\w{1,})/g.exec(e);return{code:t[2],codeMessage:t[3]}}(e),headers:function(e){for(var t,i=/([A-Z]{1}[\w|-]{1,}):[ \t]*([^\r\n]*)$/gm,n={};t=i.exec(e);)n[t[1].toLowerCase()]=t[2];return n}(e),data:function(e){for(var t,i={},n=e.split(/^\s*$/gm),r=n.length-1;r>0;r--)try{""==(t=bizagi.util.trim(n[r]))||"["!=t.charAt(0)&&"{"!=t.charAt(0)||(JSON.parse(t),i=t)}catch(e){}return i}(e)}},t.processResponses=function(e,i){var n,r=[],a=e.split(i);for(a.shift(),a.pop();n=a.shift();)r.push(t.parseResponse(n));return 0==r.length&&console.error("batch request: processResponses: no responses founded by GUID "+i),r},t.getBoundary=function(e){var t=e.getResponseHeader("Content-Type"),i=/boundary=\"(.*)\"/g.exec(t);return"--"+(i.length>1?i[1].replace(/\"/g,""):"")},t.getBatchWaiting=function(e){return void 0===t.batchWaiting[e]&&(t.batchWaiting[e]=Array()),t.batchWaiting[e]},t.addWaitingRequest=function(e,i){t.getBatchWaiting(e).push(i)},t.deleteWaitingRequest=function(e){delete t.batchWaiting[e]},t.funcGetQueueToDispatch=function(e){return function(){var i=t.getBatchWaiting(e);return t.deleteWaitingRequest(e),i}},t.execute=function(){var e=t.buildBatchRequest(),i=t.options.boundary;e&&$.when($.ajax(t.options.endPoint,{method:"POST",contentType:'multipart/mixed; boundary="'+i+'"',data:e}),t.funcGetQueueToDispatch(i)).done((function(e,i){for(var n,r=i(),a=e[0],o=e[1],s=e[2],l=t.getBoundary(s),u=t.processResponses(a,l);n=u.shift();){var c,d=r.shift();try{c=("function"==typeof d.options.converters["text "+d.options.dataType]?d.options.converters["text "+d.options.dataType]:d.options.converters["* text"])(n.data)}catch(e){c=n.data}switch(d.jqXHR.status=parseInt(n.status.code),n.status.code){case"200":case"201":d.jqXHR.getAllResponseHeaders=function(){return t.getHeadersToString(d.options.headers)},d.jqXHR.getResponseHeader=function(e){return d.options.headers[e]},d.deferred.resolve(c,o,d.jqXHR);break;case"400":case"401":case"404":case"500":d.deferred.reject(d.jqXHR,n.status.code,c);break;default:d.deferred.reject("Status code "+n.status.code+" is unrecognized")}}}))},t.stop=function(){window.clearInterval(t.interval)},window.setInterval((function(){t.queueOfRequest&&(t.execute(),t.options.boundary="batch_"+Math.guid())}),t.intervalLap),{add:t.addBatchRequest,execute:t.execute,getInterval:t.interval,stop:t.stop,_getAppHostAndPath:t._getAppHostAndPath,_processResponses:t.processResponses,_getBoundary:t.getBoundary,_getBatchWaiting:t.getBatchWaiting,_deleteWaitingRequest:t.deleteWaitingRequest,_addWaitingRequest:t.addWaitingRequest,_funcGetQueueToDispatch:t.funcGetQueueToDispatch}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}bizagi.jqxhrList=function(){var e=this;return e._bufferRendering=[],e._intercept=!1,{intercept:e._intercept,add:function(t){t.id&&t.source&&t.url&&t.req&&e._bufferRendering.push(t)},delete:function(t){e._bufferRendering=e._bufferRendering.filter((function(e){return e.id!==t}))},abortAll:function(t){$.each(e._bufferRendering,(function(e,i){i.source===t&&i.req.abort()}))}}}(),$.ajaxPrefilter((function(e,t,i){if(bizagi.jqxhrList.intercept&&e.interceptor&&e.interceptor.intercept){var n=Math.guid();bizagi.jqxhrList.add({id:n,source:e.interceptor.source,url:e.url,req:i}),i.always((function(){bizagi.jqxhrList.delete(n)}))}}));var bizagiConfig=bizagiConfig||{};function isQueueBusy(e){return void 0===bizagi.services.ajax.queues[e.queue]?(bizagi.services.ajax.queues[e.queue]=!1,!1):bizagi.services.ajax.queues[e.queue]}function useQueue(e){bizagi.services.ajax.queues[e.queue]=!0}function freeQueue(e){bizagi.services.ajax.queues[e.queue]=!1}function waitForQueue(e){return bizagi.util.sleepUntil((function(){return!isQueueBusy(e)}))}function validateQueueOptions(e){return!!bizagi.util.isEmpty(e.queue)||waitForQueue(e).then((function(){return useQueue(e),!0}))}bizagi=void 0!==bizagi?bizagi:{},bizagi.services=void 0!==bizagi.services?bizagi.services:{},bizagi.services.ajax=void 0!==bizagi.services.ajax?bizagi.services.ajax:{},bizagi.log=bizagi.log||new Function,bizagi.assert=bizagi.assert||new Function,bizagi.services.ajax.useAbsolutePath="undefined"!=typeof BIZAGI_USE_ABSOLUTE_PATH&&BIZAGI_USE_ABSOLUTE_PATH,bizagi.services.ajax.pathToBase=bizagi.services.ajax.useAbsolutePath?bizagi.loader.getLocationPrefix():"undefined"!=typeof BIZAGI_PATH_TO_BASE?BIZAGI_PATH_TO_BASE:"",bizagi.services.ajax.loginPage=bizagi.services.ajax.pathToBase||"default.htm",bizagi.services.ajax.logoutPage="logout.html",bizagi.services.ajax.errorPage=bizagi.services.ajax.pathToBase+"error.html",bizagi.services.ajax.logEnabled=!0,bizagi.services.ajax.logSuccess=!0,bizagi.services.ajax.logSubmits=!0,bizagi.services.ajax.logFail=!0,bizagi.services.ajax.queues={},bizagi.services.ajax.batch={},bizagi.services.ajax.batchCount=0,bizagi.services.ajax.batchTimer=100,bizagi.services.ajax.batchTimeoutInstance=null,bizagiConfig.proxyPrefix=bizagiConfig.proxyPrefix?bizagiConfig.proxyPrefix:"undefined"!=typeof BIZAGI_PROXY_PREFIX?BIZAGI_PROXY_PREFIX:"",bizagi.services.ajax.mobileGeneral={},bizagi.services.ajax.mobileResponse={},bizagi.services.ajax.mobileRequest={},bizagi.services.ajax.mobileQueryStringParameters={},bizagi.services.ajax.mobileHttpQueue=[],bizagi.services.ajax.mobileHttpErrorsQueue=[],bizagi.services.batchRequest=new batchRequest({endPoint:bizagiConfig.proxyPrefix+"Api/Batch"}),bizagi.services.redirectToLoginPage=function(){try{var e="string"==typeof bizagi.services.ajax.loginPage?bizagi.services.ajax.loginPage:BIZAGI_PATH_TO_BASE;sessionStorage.setItem("currentRedirectUrl",window.location.href),sessionStorage.removeItem("bizagiAuthentication"),"true"!=localStorage.getItem("clientLog")&&(window.location=e)}catch(e){bizagi.services.ajax.loginPage()}},bizagi.services.redirectToLogoutPage=function(){window.parent&&window.parent.bizagi&&window.location.href!=window.parent.location.href&&window.top.location.reload(),window.location=bizagi.services.ajax.logoutPage+"?userIdentity="+sessionStorage.getItem("userIdentity")+"&rnd="+bizagi.util.randomNumber()+"&post_logout_redirect_uri="+bizagiConfig.applicationUrl};var originalAjaxPrototype=$.ajax;function getMessageFromResultObject(e){return((e.code&&"UNKNOWN_ERROR"!=e.code?e.status+": ":"")+(e.message?""+e.message:"")).substring(0,2e3)}$.ajax=function(e,t){t?t.rnd=bizagi.util.randomNumber():e.rnd=bizagi.util.randomNumber();var i=[e=e,t=t];return"object"===_typeof(e)&&(t=e),void 0!==bizagi.isMobile&&bizagi.isMobile()&&(t&&t.data&&(bizagi.services.ajax.mobileQueryStringParameters=t.data),navigator&&(bizagi.services.ajax.mobileRequest.userAgent=navigator.userAgent),configHeaders&&(bizagi.services.ajax.mobileRequest.configHeaders=configHeaders),sessionStorage&&(bizagi.services.ajax.mobileRequest.host=sessionStorage.bizBasePath,bizagi.services.ajax.mobileRequest.bizVersion=sessionStorage.bizVersion,bizagi.services.ajax.mobileRequest.userIdentity=sessionStorage.userIdentity)),$.when(validateQueueOptions(t)).then((function(){return originalAjaxPrototype.apply(this,i)})).always((function(){bizagi.util.isEmpty(t.queue)||freeQueue(t)}))},$.ajaxTransport("json",(function(e,t,i){if(bizagi.override.enableBatchRequest&&e.batchRequest)return{send:function(t,i){e.headers=t},abort:function(){}}})),$.ajaxTransport("+binary",(function(e,t,i){if(window.FormData&&(e.dataType&&"binary"==e.dataType||e.data&&(window.ArrayBuffer&&e.data instanceof ArrayBuffer||window.Blob&&e.data instanceof Blob)))return{send:function(t,i){var n=new XMLHttpRequest,r=e.url,a=e.type,o=e.async||!0,s=e.responseType||"blob",l=e.data||null,u=e.username||null,c=e.password||null;for(var d in n.addEventListener("load",(function(){var t={};t[e.dataType]=n.response,i(n.status,n.statusText,t,n.getAllResponseHeaders())})),n.open(a,r,o,u,c),t)n.setRequestHeader(d,t[d]);n.responseType=s,"blob"!==n.responseType&&"arraybuffer"!==n.responseType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.onerror=function(e){var t={};t[e.dataType]=n.response,i(n.status,n.statusText,t,n.getAllResponseHeaders())},n.send(l)},abort:function(){i.abort()}}})),$.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.javascript=!1)})),$.ajaxPrefilter((function(e,t,i){if(e=e||{},bizagi.override.enableBatchRequest&&e.batchRequest&&bizagi.services.batchRequest){var n=$.Deferred();n.promise(i),bizagi.services.batchRequest.add(e,t,n,i)}})),$.ajaxPrefilter("*",(function(e,t,i){"function"==typeof bizagi.getXSRFToken&&null!=bizagi.getXSRFToken()&&-1==e.url.indexOf("tmpl.html")&&i.setRequestHeader("X-BZXSRF-TOKEN",bizagi.getXSRFToken());var n=void 0!==e.rpcEnabled?e.rpcEnabled:bizagi.services.ajax.rpcEnabled;if(e.triggerBatch||!n){var r="";r=0==e.url.indexOf("http")?e.url:bizagi.util.isCordovaSupported()&&bizagi.util.isiOSDevice()?loader.getPathUrl(e.url):bizagi.services.ajax.pathToBase+e.url,e.url=r,"json"!=e.dataType||e.cache||(e.cache=!1),bizagi.services.ajax.logEnabled&&(bizagi.services.ajax.logSubmits&&-1==r.indexOf("tmpl")&&-1==r.indexOf("resources.json")&&bizagi.log("Sending data to "+r,e.data,"success"),1==e.crossDomain&&(e.xhrFields={withCredentials:!0})),i.done((function(e){if(bizagi.services.ajax.logSuccess&&-1==r.indexOf("tmpl")&&-1==r.indexOf("resources.json")&&bizagi.log(r+" succeded",e,"success"),bizagi.menuSecurity&&!bizagi.isMobileDevice())try{bizagi.injector.get("sessionTimeOutService").keepSessionOpen(!0)}catch(e){}})).fail((function(t,i,n){if(0===t.status||!bizagi.util.isConnected()){var a=t,o=e&&e.url?e.url:"",s=bizagi.localization.getResource("workportal-general-error-connection","There was a problem connecting to the network. Check your connection and try again."),l={errorType:"NetworkError",message:s};a.responseText=JSON.stringify({error:l,message:s,type:"error"}),bizagi.util.isRenderingUrlAllowed(o)&&(bizagi.services.ajax.renderTimeout=bizagi.services.ajax.renderTimeout||null,clearTimeout(bizagi.services.ajax.renderTimeout),bizagi.services.ajax.renderTimeout=setTimeout((function(){bizagi.services.ajax.renderTimeout=null,bizagi.util.showNotification({text:s,type:"error"}),console.log("There was a problem connecting to the network",o)}),250))}bizagi.log("Sent data to"+r,e.data,"error"),bizagi.services.ajax.logFail&&("object"==_typeof(n)&&"SyntaxError"===n.name?bizagi.log(r+" failed - syntax error",arguments[0].responseText,"error"):bizagi.log(r+" failed",n,"error"))}))}})),bizagi.services.ajax.parseJSON=function(e){var t={};e=(e=e||"{}").replace(/(\r\n|\n|\r)/gm,"");try{t=$.parseJSON(e)}catch(i){try{t=$.parseJSON(e.replace(/\x1d/g,"."))}catch(n){t.type="error",t.code=i.errorCode,t.message=e,t.message.toUpperCase().indexOf("401 - UNAUTHORIZED")>0&&(t.http_status_code=401)}}if(t.type&&"error"==t.type||t.status&&"error"==t.status||t.http_status_code&&401==t.http_status_code){if("AUTH_ERROR"==t.code||"AUTHENTICATION_ERROR"==t.code||"AUTHENTICATION_ERROR"==t.message||401==t.http_status_code)bizagi.iframeCommunicator&&bizagi.iframeCommunicator.trigger("authentication-error"),bizagi.services.redirectToLoginPage();else if("FED_AUTHENTICATION_ERROR"==t.code)"string"==typeof bizagi.services.ajax.loginPage?(sessionStorage.setItem("FED_AUTHENTICATION_ERROR",!0),window.location=t.message):bizagi.services.ajax.loginPage();else if("AUTHENTICATION_USER_NOT_FOUND"==t.code)window.location=bizagi.services.ajax.errorPage+"?message="+t.message+"&type="+t.type;else if(t.http_status_code&&401==t.http_status_code){var i=t.code?t.code:t.error?t.error:"AuthenticationError",n=t.message?t.message:t.error_description?t.error_description:"Authentication Configuration Error";window.location=bizagi.services.ajax.errorPage+"?message="+n+"&type="+i}"licenseError"==t.code&&(window.location=bizagi.services.ajax.errorPage+"?message="+t.message+"&type="+t.type),jQuery.error(getMessageFromResultObject(t))}else"Unauthorized"==t.status&&jQuery.error(getMessageFromResultObject(t));return localStorage.setItem("clientLog","false"),t};var configHeaders={},configAuthorization=location.search.match(/sitesEl=([^&]*)/)?"Bearer "+location.search.match(/sitesEl=([^&]*)/)[0].split("=")[1]:"",configValXSRF=bizagi.getXSRFToken();function clearInformationAjaxforMobile(){bizagi.services.ajax.mobileGeneral={},bizagi.services.ajax.mobileResponse={},bizagi.services.ajax.mobileRequest={},bizagi.services.ajax.mobileQueryStringParameters={}}function getAjaxSizeJsonObjectInMegaBytes(e){return(new TextEncoder).encode(JSON.stringify(e)).length/1024/1024}function saveMobileRequestResponse(){if(bizagi.util.isMobileErrorTracesEnabled()&&((void 0===bizagi.services.ajax.mobileGeneral.requestURL||!bizagi.services.ajax.mobileGeneral.requestURL.toString().toLocaleLowerCase().includes("api/errorlogs/import"))&&bizagi.services.ajax.mobileRequest.hasOwnProperty("configHeaders")&&bizagi.isMobile())){var e=getAjaxSizeJsonObjectInMegaBytes(bizagi.services.ajax.mobileRequest),t=getAjaxSizeJsonObjectInMegaBytes(bizagi.services.ajax.mobileResponse),i=getAjaxSizeJsonObjectInMegaBytes(bizagi.services.ajax.mobileQueryStringParameters),n={general:bizagi.services.ajax.mobileGeneral,request:e<1?bizagi.services.ajax.mobileRequest:void 0,response:t<2?bizagi.services.ajax.mobileResponse:void 0,queryStringParameters:i<.3?bizagi.services.ajax.mobileQueryStringParameters:void 0};bizagi.services.ajax.mobileHttpQueue.length>=5&&bizagi.services.ajax.mobileHttpQueue.shift(),bizagi.services.ajax.mobileHttpQueue.push(n),n&&n.general&&200!=n.general.statusCode&&("undefined"!=typeof bizagiWorkportal&&void 0!==bizagiWorkportal.deviceFactory&&void 0!==bizagiWorkportal.deviceFactory.workportal&&void 0!==bizagiWorkportal.deviceFactory.workportal.dataService?bizagiWorkportal.deviceFactory.workportal.dataService.addDiagnosticsError(n,"HTTP_NETWORK_ERROR","bizagi.services.ajax.js",688):bizagi.services.ajax.mobileHttpErrorsQueue.push(n))}}function configureMobileRequestTraces(e){void 0!==bizagi.isMobile&&bizagi.isMobile()&&e&&(bizagi.services.ajax.mobileGeneral.statusCode=e.status,bizagi.services.ajax.mobileGeneral.statusCodeText=e.status+" "+e.statusText,bizagi.services.ajax.mobileResponse.headers=e.getAllResponseHeaders(),bizagi.services.ajax.mobileResponse.responseText=e.responseText,saveMobileRequestResponse(),clearInformationAjaxforMobile())}function configureBeforeRequestMethodDefinition(e,t){t.avoidLoader||"json"!=t.dataType||t.batchRequest||(e._loading=!0,bizagi&&bizagi.loading&&bizagi.loading.start()),void 0!==bizagi.isMobile&&bizagi.isMobile()&&t&&(bizagi.services.ajax.mobileGeneral.requestURL=t.url,bizagi.services.ajax.mobileGeneral.requestMethod=t.type)}configAuthorization&&(configHeaders.Authorization=configAuthorization),configValXSRF&&(configHeaders["X-BZXSRF-TOKEN"]=configValXSRF),$.ajaxSetup({headers:configHeaders,converters:{"text json":bizagi.services.ajax.parseJSON},beforeSend:configureBeforeRequestMethodDefinition,complete:function(e){if(e._loading&&bizagi&&bizagi.loading&&bizagi.loading.stop(),401===e.status){if(e.responseJSON&&"implicitPrincipalInjection"===e.responseJSON.validationMethod)return;bizagi.services.redirectToLoginPage()}else 503===e.status&&"undefined"==typeof cordova&&bizagiConfig.maintenanceWindows.startValidated(e,e.responseText);configureMobileRequestTraces(e)}}),bizagi.enableOauth=function(){if("undefined"!=typeof jqOAuth&&bizagi.isOAuth2Enabled()){$.ajaxSetup({converters:{"text json":function(e){var t={};if("string"!=typeof(e=e||"{}"))return e;e=e.replace(/(\r\n|\n|\r)/gm,"");try{t=$.parseJSON(e)}catch(i){try{t=$.parseJSON(e.replace(/\x1d/g,"."))}catch(n){t.type="error",t.code=i.errorCode,t.message=e}}if(t.type&&"error"==t.type||t.status&&"error"==t.status){var i=(t.code&&"UNKNOWN_ERROR"!=t.code?t.code+": ":"")+(t.message?""+t.message:"");jQuery.error(i)}return localStorage.setItem("clientLog","false"),t}},beforeSend:configureBeforeRequestMethodDefinition,complete:function(e){e._loading&&bizagi&&bizagi.loading&&bizagi.loading.stop(),401===e.status&&e.responseJSON&&"implicitPrincipalInjection"===e.responseJSON.validationMethod||configureMobileRequestTraces(e)}});var e={client_id:"2a80addc628db6f12788ed842f873260066c9d6c",client_secret:"672b11ff612225ff018b87252d8d3a1116ecc574",redirect_uri:"bz:oauth:2.0:server:mobiletitlebarbrowser"},t=btoa(e.client_id+":"+e.client_secret);bizagi.authentication=bizagi.authentication||{},bizagi.authentication.oauth=new jqOAuth({events:{logout:function(){},login:function(){},tokenExpiration:function(){var e=bizagi.getNativeComponent();if(bizagi.util.isNativePluginSupported()){var i=$.Deferred();return bizagiapp.setAccessToken(bizagi.authentication.oauth.getAccessToken(),bizagi.authentication.oauth.getRefreshToken(),e,(function(e){var t=jQuery.parseJSON(e);bizagi.authentication.oauth.setAccessToken(t.accessToken,t.refreshToken),i.resolve()}),(function(e){i.reject()})),i.promise()}return $.ajax({type:"POST",url:BIZAGI_PROXY_PREFIX+"oauth2/server/token",headers:{Authorization:"Basic "+t},data:{grant_type:"refresh_token",scope:"login api",refresh_token:bizagi.authentication.oauth.getRefreshToken()}}).then((function(e){bizagi.authentication.oauth.setAccessToken(e.access_token,e.refresh_token)}))}}}),bizagi.authentication.resetToken=function(e,t){this.oauth.setAccessToken(e,t),bizagi.util.isNativePluginSupported()&&bizagiapp.setAccessToken(e,t)}}},bizagi.enableOauth(),void 0!==jQuery.browser&&jQuery.browser.msie&&window.XDomainRequest&&(7==document.documentMode||8==document.documentMode||9==document.documentMode)&&(jQuery.support.cors=!0),$.Class.extend("bizagi.services.service",{},{init:function(){},getServerResourceDictionary:function(){var e="";void 0!==bizagiConfig&&bizagiConfig.proxyPrefix?e=bizagiConfig.proxyPrefix:"undefined"!=typeof BIZAGI_PROXY_PREFIX&&(e=BIZAGI_PROXY_PREFIX);var t="undefined"==typeof BIZAGI_LANGUAGE?bizagi.language:BIZAGI_LANGUAGE;return $.ajax({url:e+"Rest/Multilanguage/Client?cultureName="+t+"&version="+bizagi.loader.version,rpcEnabled:!1,cache:!0,dataType:"json",async:!0})},getResourceDictionary:function(e){return $.ajax({url:e,rpcEnabled:!1,dataType:"json",async:!0})}}),$.Class.extend("bizagi.templates.services.service",{customTemplateFile:bizagi.loader.getResource("tmpl","bizagi.overrides."+bizagi.detectDevice()+".custom.templates"),cachedTemplates:{},customTemplates:{}},{init:function(e){this.localization=e,this.cssRegex=/{{css "(.+)"}}/g,this.loadingFileDeferred={}},loadCustomTemplates:function(){var e=this,t=new $.Deferred;return $.when(this.getTemplateFile(this.Class.customTemplateFile)).done((function(i){var n=$("<div />").html(i),r=$("script",n);$.each(r,(function(t,i){i=$(i),e.Class.customTemplates[i.attr("id")]=i.html()})),t.resolve()})),t.promise()},getTemplate:function(e){var t=!1;if(e=(e=e.replace(/([^#]*#)([^#]*#)([^#]*)/g,"$1$3")).replace(/([a-zA-Z_\/.-=]*)#([a-zA-Z_\/.-]*)\?(build=[a-zA-Z0-9.-]*)/g,"$1?$3#$2"),bizagi.enableCustomizations){var i=this.getHash(e);this.Class.customTemplates[i]&&(t=!0)}return t||"release"!==bizagi.loader.environment?this.internalGetTemplate(e).pipe((function(t){return $.template("#"+e,t)})):this.getTemplateForRelease(e).pipe((function(t){return $.template("#"+e,t)}))},getTemplateWidget:function(e){var t=!1;if(e=(e=e.replace(/([^#]*#)([^#]*#)([^#]*)/g,"$1$3")).replace(/([a-zA-Z_\/.-=]*)#([a-zA-Z_\/.-]*)\?(build=[a-zA-Z0-9.-]*)/g,"$1?$3#$2"),bizagi.enableCustomizations){var i=this.getHash(e);this.Class.customTemplates[i]&&(t=!0)}return t||"release"!==bizagi.loader.environment?this.internalGetTemplate(e).pipe((function(t){return $.templates("#"+e,t)})):this.getTemplateForRelease(e).pipe((function(t){return $.templates("#"+e,t)}))},getTemplateWebpart:function(e){return e=(e=e.replace(/([^#]*#)([^#]*#)([^#]*)/g,"$1$3")).replace(/([a-zA-Z_\/.-=]*)#([a-zA-Z_\/.-]*)\?(build=[a-zA-Z0-9.-]*)/g,"$1?$3#$2"),this.internalGetTemplate(e).pipe((function(t){return $.template("#"+e,t)}))},getTemplateForRelease:function(e){var t,i,n=this,r=$.Deferred();return n.containsHash(e)?(t=n.getUrlWithoutHashes(e),i=n.getHash(e)):(t=e,i=""),n.Class.cachedTemplates[t]?r.resolve(n.processAndReturnTemplate(t,i)):$.when(n.loadTemplateFileForRelease(t)).done((function(){r.resolve(n.processAndReturnTemplate(t,i))})),r.promise()},loadTemplateFileForRelease:function(e){var t=this,i=$.Deferred();return t.Class.cachedTemplates[e]?t.Class.cachedTemplates[e]:t.loadingFileDeferred[e]?($.when(t.loadingFileDeferred[e]).done((function(){i.resolve(t.Class.cachedTemplates[e])})),i.promise()):(t.loadingFileDeferred[e]=$.Deferred(),$.when($.ajax({url:e,dataType:"text"}),t.localization.ready()).done((function(n){var r,a,o;for(r in n||i.reject(""),"string"!=typeof n&&(n=JSON.parse(n[0])),t.Class.cachedTemplates[e]=n,n)n.hasOwnProperty(r)&&(a=n[r],o=(o=t.localization.translate(a)).replace(t.cssRegex,""),r.indexOf("jsrender")>=0?(delete t.Class.cachedTemplates[e][r],r=r.substring(0,r.indexOf("jsrender")-1),t.Class.cachedTemplates[e][r]=a,$.templates("#"+r,o)):$.template("#"+r,o),t.Class.cachedTemplates[e][r]=t.Class.cachedTemplates[r]=o);t.loadingFileDeferred[e].resolve(),i.resolve(n)})),i.promise())},processAndReturnTemplate:function(e,t){var i=this.Class.cachedTemplates[e][t];if(!i)throw"template "+i+"doesn't exist";return i},internalGetTemplate:function(e){var t=this,i=new $.Deferred,n=this.Class.cachedTemplates[e];if(n)i.resolve(n);else if(t.containsHash(e)){var r=t.getUrlWithoutHashes(e),a=t.getHash(e);if(t.Class.customTemplates[a])return i.resolve(t.Class.customTemplates[a]),i.promise();$.when(t.getTemplatePart(r,a)).done((function(n){t.Class.cachedTemplates[e]=n,i.resolve(n)}))}else $.when(t.getTemplateFile(e)).done((function(e){i.resolve(e)}));return i.promise()},getTemplatePart:function(e,t){var i=this,n=new $.Deferred;return $.when(i.loadingTemplatePartExecution).done((function(){i.loadingTemplatePart=!0,i.loadingTemplatePartExecution=new $.Deferred,$.when(i.getTemplateFile(e)).done((function(r){var a=$("<div />").html(r),o=$("#"+t,a);bizagi.assert(o.length>0,"No template part ("+t+") found in content for:"+e),r=o.html(),i.loadingTemplatePartExecution.resolve(),i.loadingTemplatePart=!0,n.resolve(r)}))})),n.promise()},getTemplateFile:function(e){var t=this,i=$.Deferred(),n=this.Class.cachedTemplates[e];return n||(t.loadingFileDeferred[e]?($.when(t.loadingFileDeferred[e]).done((function(){i.resolve(t.Class.cachedTemplates[e])})),i.promise()):(t.loadingFileDeferred[e]=$.Deferred(),$.when($.ajax({url:e,dataType:"text"}),t.localization.ready()).pipe((function(n){if(!n)return"";if("string"!=typeof n&&(n=n[0]),void 0===n)return"";var r=t.localization.translate(n),a=r.match(t.cssRegex);a&&$.each(a,(function(e,i){var n=i.replace(t.cssRegex,"$1");bizagi.loader.loadFile({src:n,type:"css",environment:"debug"})})),r=r.replace(t.cssRegex,"");var o=$("<div />").html(r);$("script",o).each((function(e,t){var i=$(t).attr("id"),n=$(t).attr("type");if($.templates&&n&&n.indexOf("jsrender")>=0)$.templates("#"+i,$(t).html());else try{$.template("#"+i,$(t).html())}catch(e){console.log(e,o)}})),t.Class.cachedTemplates[e]="string"==typeof r?r:r[0].outerHTML,t.loadingFileDeferred[e].resolve(),i.resolve(r)})),i.promise()))},containsHash:function(e){return-1!=e.indexOf("#")},getHash:function(e){return e.substring(e.indexOf("#")+1,e.length)},getUrlWithoutHashes:function(e){return e.substring(0,e.indexOf("#"))}});var originalEmptyMethod=jQuery.fn.empty;jQuery.fn.empty=function(){var e=originalEmptyMethod.apply(this,arguments),t=$(this);return t.hasClass("ui-bizagi-component-loading")&&t.loadingMessage(),e},jQuery.fn.fastEmpty=function(){this.children().remove();var e=$(this);e.hasClass("ui-bizagi-component-loading")&&e.loadingMessage()};var originalPrependMethod=jQuery.fn.prepend;jQuery.fn.prepend=function(){var e=$(this);if(0==e.length)return jQuery.fn;e.data("loading")&&(originalEmptyMethod.apply(this),e.data("loading",!1));var t=originalPrependMethod.apply(this,arguments);return"body"!=e[0].tagName.toLowerCase()&&e.find(".ui-bizagi-component-adjustable").length>0&&$(document).triggerHandler("resizeLayout"),e.removeData("loading"),t};var originalAppendMethod=jQuery.fn.append;jQuery.fn.append=function(){var element=$(this);if(0==element.length)return jQuery.fn;eval(element.attr("data-loading"))&&(originalEmptyMethod.apply(this),element.data("loading",!1));var result=originalAppendMethod.apply(this,arguments),tagName=element[0].tagName||"";return"body"!=tagName.toLowerCase()&&element.find(".ui-bizagi-component-adjustable").length>0&&$(document).triggerHandler("resizeLayout"),element.removeData("loading"),result};var originalTmplMethod=jQuery.tmpl;for(key in jQuery.tmpl=function(){var e=originalTmplMethod.apply(this,arguments);return arguments[2]&&arguments[2].fast?e:($(".ui-bizagi-component",e).each((function(e,t){for(var i=$(t).attr("component"),n=$(t).parent();0==n[0].tagName.length;)n=n.parent();n.attr("data-bizagi-component",i),$(t).detach()})),$("[data-loading=true]",e).length>0&&$("[data-loading=true]",e).loadingMessage(),$("[data-loading=true]",e).addClass("ui-bizagi-component-loading"),e.jquery&&$.each(e,(function(e,t){t.outerHTML&&$(t).is("[data-loading=true]")&&($(t).loadingMessage(),$(t).addClass("ui-bizagi-component-loading"))})),$("[data-adjustable=true]",e).addClass("ui-bizagi-component-adjustable"),e.jquery&&$.each(e,(function(e,t){t.outerHTML&&$(t).is("[data-adjustable=true]")&&$(t).addClass("ui-bizagi-component-adjustable")})),e)},originalTmplMethod)jQuery.tmpl[key]=originalTmplMethod[key];function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$.extend(jQuery.tmpl.tag,{component:{open:'_ = _.concat(\'<div class="ui-bizagi-component" component="$1"></div>\');'},loading:{open:"_ = _.concat('data-loading=\"true\"');"},adjustable:{open:"_ = _.concat('data-adjustable=\"true\"');"},resource:{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode(bizagi.localization.getResource($1a)));}"},log:{open:"console.log($1, $2);"},children:{open:"_ = _.concat('{{children}}');"},control:{open:"_ = _.concat('{{control}}');"},files:{open:"_ = _.concat('{{files}}');"},result:{open:"_ = _.concat('{{result}}');"},element:{open:"_ = _.concat('{{element $1}}');"},for:{_default:{$2:"var i=1;i<=1;i++"},open:"for ($2){",close:"};"},actions:{open:"_ = _.concat('{{actions}}');"}}),bizagi=void 0!==bizagi?bizagi:{},bizagi.util=void 0!==bizagi.util?bizagi.util:{},$.Class.extend("bizagi.l10n",{templateRegex:/%{([\w-{}$.]+)(?:\s'([^']+)')?}/,templateSubExpressionRegex:/[$]{([\w.]+)}/g},{init:function(e){this.resourceLocationDefinition=e,this.service=new bizagi.services.service,this.dictionaries={},this.dictionary={},this.readyDeferred=null,this.enableCustomizations=void 0!==bizagi.enableCustomizations?bizagi.enableCustomizations:"undefined"==typeof BIZAGI_ENABLE_CUSTOMIZATIONS||BIZAGI_ENABLE_CUSTOMIZATIONS,this.defaultDatetimeInfo="undefined"!=typeof BIZAGI_DEFAULT_DATETIME_INFO&&BIZAGI_DEFAULT_DATETIME_INFO,this.useLocalAndServerResources="undefined"!=typeof BIZAGI_ENABLE_LOCAL_AND_SERVER_RESOURCES&&BIZAGI_ENABLE_LOCAL_AND_SERVER_RESOURCES,this.observableElement=$("<div></div>"),!0===this.useLocalAndServerResources&&"undefined"!=typeof PouchDB&&(this.resourcesDatabase=new PouchDB("Resources",{auto_compaction:!0}))},setLanguage:function(e){var t=this;t.language=e,t.readyDeferred=new $.Deferred,$.when(t._getDictionary(e)).done((function(e){if(t.dictionary=e,t.isRTL=e.datePickerRegional.isRTL,t.defaultDatetimeInfo&&(t.defaultDatetimeInfo.shortDateFormat&&t.overrideSpecificResource("dateFormat",t.defaultDatetimeInfo.shortDateFormat),t.defaultDatetimeInfo.timeFormat&&t.overrideSpecificResource("timeFormat",t.defaultDatetimeInfo.timeFormat)),t.enableCustomizations){if(t.resourceLocationDefinition.custom){var i="undefined"!=typeof BIZAGI_LOCAL_RESOURCES&&BIZAGI_LOCAL_RESOURCES?t.service.getResourceDictionary:t.service.getServerResourceDictionary;i===t.service.getServerResourceDictionary&&BIZAGI_LANGUAGE===t.language?t.service.getResourceDictionary(t.resourceLocationDefinition.custom).done((function(e){t.overrideResources(e),t.readyDeferred.resolve(),t.observableElement.trigger("setLanguage",t.dictionary)})):i(t.resourceLocationDefinition.custom).done((function(e){t.enableCustomizations&&t.overrideResources(e),t.readyDeferred.resolve(),t.observableElement.trigger("setLanguage",t.dictionary)}))}}else t.readyDeferred.resolve(),t.observableElement.trigger("setLanguage",t.dictionary)}))},loadLanguageExtension:function(e){var t=this;t.language=e,t.readyDeferred=new $.Deferred;var i=t.getLanguageFromCulture(e);return void 0===t.resourceLocationDefinition[i.toLowerCase()]&&(i="default"),t.service.getResourceDictionary(t.resourceLocationDefinition[i.toLowerCase()]).done((function(i){t.dictionaries[e.toLowerCase()]=t.dictionaries[e.toLowerCase()]||{},$.extend(t.dictionaries[e.toLowerCase()],i),t.readyDeferred.resolve()})).fail((function(t,i,n){alert("Can't load localization file for language: "+e+", "+i+" - "+n)})),t.readyDeferred.promise()},getLanguageFromCulture:function(e){return-1!==e.indexOf("-")?e.split("-")[0]:e},resolvei18n:function(e){if(!e)return"";if("string"==typeof e)return e;if(this.language&&"default"!=this.language){var t=e.i18n.default.languages[this.language];if(t)return t}return e.i18n.default},getResource:function(e,t){return null==this.dictionary[e]?void 0!==t?t:e:this.dictionary[e]},getResourceByElementsNumber:function(e,t){return t>1?this.getResource(e+"-plural"):this.getResource(e+"-singular")},setResource:function(e,t){e&&""!==e&&(this.dictionary[e]=t)},getMessageFromLocalization:function(e,t,i,n){var r="";"error"===t?n?r=e:(e=e.toLowerCase(),(r=bizagi.localization.getResource("workportal-general-error-"+e))==="workportal-general-error-"+e&&"workportal-general-error-generic"===bizagi.localization.getResource("workportal-general-error-generic")&&(r="The request could not be completed.")):r=bizagi.localization.getResource(e);if(i)for(var a=0;a<i.length;a++)r=r.replace("{"+a+"}",i[a]);return r},translate:function(e){var t;do{if(t=this.Class.templateRegex.exec(e)){var i=t[1],n=t.length>=2?t[2]:void 0;if(-1==i.indexOf("$"))e=e.replaceAll(t[0],this.getResource(i,n));else{var r=this.Class.templateSubExpressionRegex.exec(i);if(!r){r=/[$]{([\w.]+)}/g.exec(i)}e=e.replaceAll(t[0],"{{resource "+r[1]+"}}")}}}while(null!=t);return e},overrideResources:function(e){var t,i=e[bizagiConfig.defaultLanguage||"default"];for(var n in i)if(t=this.dictionary[n],bizagi.util.isObject(t))for(var r in i[n])t[r]=i[n][r];else this.dictionary[n]=i[n]},overrideSpecificResource:function(e,t){e=e||"nodefined",t=t||"",this.dictionary[e]=t},_getDictionary:function(e){var t=this,i=new $.Deferred;if(e=e.toLowerCase(),null!=t.dictionaries[e])return t.dictionaries[e];var n=t._getUserLanguage(e);return t.useLocalAndServerResources?t._getLocalAndServerResourcesDictionary(n):(("undefined"!=typeof BIZAGI_LOCAL_RESOURCES&&BIZAGI_LOCAL_RESOURCES?t.service.getResourceDictionary:t.service.getServerResourceDictionary)(t.resourceLocationDefinition[n]).done((function(n){t.dictionaries[e]=n,i.resolve(n)})).fail((function(t,n,r){if(void 0===t.responseJSON&&0===t.status&&"error"===t.statusText&&""===r)console.log("Can't load localization file for language: "+e+", "+n+" - "+r);else if(503===t.status){i.resolve({})}else alert("Can't load localization file for language: "+e+", "+n+" - "+r)})),i.promise())},_getLocalAndServerResourcesDictionary:function(e){var t=new $.Deferred,i=this,n=i.resourceLocationDefinition[e],r=new $.Deferred,a=new $.Deferred;return i.service.getServerResourceDictionary(n).then((function(t){r.resolve(t),i._saveServerResourcesInDatabase(e,t)})).fail((function(t,n,a){$.when(i._getServerResourcesFromDatabase(e)).then((function(e){r.resolve(e),console.log("Server resources were loaded from DB")})).fail((function(){r.resolve({})})),console.error("Can't load localization file (server) for language: "+e,n,a)})),i.service.getResourceDictionary(n).then((function(e){a.resolve(e)})).fail((function(t,i,n){a.resolve({}),console.error("Can't load localization file (local resources) for language: "+e,i,n)})),$.when(a,r).then((function(n,r){var a={};$.extend(a,n,r),i.dictionaries[e]=a,t.resolve(a)})).fail((function(){console.error("Error loading mixed resources",arguments),t.reject()})),t.promise()},_getServerResourcesFromDatabase:function(e){var t=this.resourcesDatabase;if(null==t)return{};var i=new $.Deferred,n=e+"-"+(bizagiConfig&&bizagiConfig.applicationUrl?bizagiConfig.applicationUrl:"default");return $.when(bizagi.util.db.getDocument(t,n)).then((function(e){i.resolve(e.dictionary)})).fail((function(){i.resolve({}),console.error("Can't load localization resources from DB for language: ",arguments)})),i.promise()},_saveServerResourcesInDatabase:function(e,t){var i=this.resourcesDatabase;if(null!=i){var n=e+"-"+(bizagiConfig&&bizagiConfig.applicationUrl?bizagiConfig.applicationUrl:"default");$.when(bizagi.util.db.getDocument(i,n)).then((function(e){e.dictionary=t,bizagi.util.db.saveDocument(i,e)})).fail((function(){var r={language:e,dictionary:t,_id:n};bizagi.util.db.saveDocument(i,r)}))}},_getUserLanguage:function(e){var t=e;if(t.length>0&&null==this.resourceLocationDefinition[t]){var i=t.split("-");t=i[0]}return 0!=t.length&&null!=this.resourceLocationDefinition[t]||(bizagi.log("No resource definition location has been given for language :"+e+", loading default language"),t="default"),t},ready:function(){return this.readyDeferred.promise()}}),bizagi=bizagi||{},bizagi.l10n=bizagi.l10n||{},bizagi.l10n.extend("bizagi.l10n",{},{init:function(e){this._super(e),this.localResourcesLoaded=!1},_getDictionary:function(e){var t=this,i=new $.Deferred;e=e.toLowerCase();var n=t._getUserLanguage(e),r=e.toLowerCase().replace(/([^a-z]+)/g,"-").split("-").shift();return t._loadFullLocalResources(n).done((function(){t.service.getServerResourceDictionary(n).then((function(i){var n=t.dictionaries[r];t.dictionaries[e]=$.extend({},i,n)})).always((function(){t._loadMobileLocalDictionary(n).always((function(){t.dictionaries[e].mobile=!0,i.resolve(t.dictionaries[e])}))}))})),i.promise()},_loadFullLocalResources:function(e){var t=this,i=new $.Deferred,n=e.toLowerCase().replace(/([^a-z]+)/g,"-").split("-").shift();return t.localResourcesLoaded?i.resolve():t.service.getResourceDictionary("jquery/resources/mobile/bizagi.resources.all.json.txt?build="+bizagi.loader.build).done((function(r){t.dictionaries=r,t.dictionaries[e]=t.dictionaries[n],t.localResourcesLoaded=!0,i.resolve()})),i.promise()},_loadMobileLocalDictionary:function(e){var t=this,i=new $.Deferred,n=(e=e.toLowerCase()).toLowerCase().replace(/([^a-z]+)/g,"-").split("-").shift();return t.localResourcesLoaded&&t.dictionaries[n].mobile?i.resolve():t.service.getResourceDictionary("jquery/resources/mobile/bizagi.resources."+n+".json.txt?build="+bizagi.loader.build).done((function(n){t.dictionaries[e]=$.extend(n,t.dictionaries[e]),i.resolve(t.dictionaries[e])})).fail((function(){t.service.getResourceDictionary("jquery/resources/mobile/bizagi.resources.en.json.txt?build="+bizagi.loader.build).done((function(i){t.dictionaries[e]=$.extend(i,t.dictionaries[e])})).fail((function(t,i,n){console.log("Can't load mobile localization file for language: "+e+", "+i+" - "+n)})).always((function(){i.resolve(t.dictionaries[e])}))})),i.promise()},getResource:function(e,t){return void 0===this.dictionary[e]?void 0!==t?t:e:this.dictionary[e]},_getUserLanguage:function(e){var t=e.toLowerCase();if(null==this.resourceLocationDefinition[t]&&t.length>0)for(var i=t.split("-"),n=i.length-1;n>=0;n--)if(null!=this.resourceLocationDefinition[i[n]]){t=i[n];break}return 0!=t.length&&null!=this.resourceLocationDefinition[t]||(bizagi.log("No resource definition location has been given for language :"+e+", loading default language"),t="en"),t}}),bizagi=void 0!==bizagi?bizagi:{},bizagi.util=void 0!==bizagi.util?bizagi.util:{},bizagi.context=void 0!==bizagi.context?bizagi.context:{},bizagi.util.smartphone=void 0!==bizagi.util.smartphone?bizagi.util.smartphone:{},bizagi.util.tablet=void 0!==bizagi.util.tablet?bizagi.util.tablet:{};var DEVICES={};function printf(e){var t,i=Array.prototype.slice.call(arguments,1);return e.replace(/(%[disv])/g,(function(e,n){if(void 0!==(t=i.shift()))switch(n.charCodeAt(1)){case 100:return+t;case 105:return Math.round(+t);case 115:return String(t);case 118:return t}return n}))}function bizagiQueue(){var e,t,i=[];this.length=function(){return i.length},this.add=function(n){if(!t)return t=!0,e=void 0,i.push({callbacks:[n]});i[i.length-1].callbacks.push(n)},this.addParallel=function(n){if(!e)return e=!0,t=void 0,i.push({callbacks:[n]});i[i.length-1].callbacks.push(n)},this.execute=function(){for(var e=new $.Deferred,t=e.promise(),n=i.length,r=0;r<n;r++)t=t.pipe((function(){var e=i.shift();return $.when.apply($,$.map(e.callbacks,(function(e){if("function"==typeof e){var t=$.Deferred();return $.when(e()).done((function(){t.resolve()})).fail((function(){t.reject()})),t.promise()}return e})))}));return e.resolve(),t=t.done((function(){i=[]}))}}DEVICES[DEVICES.desktop=0]="desktop",DEVICES[DEVICES.smartphone=1]="smartphone",DEVICES[DEVICES.tablet=2]="tablet",bizagi.deviceEnum=DEVICES,function(e){e.fn.callInside=function(t,i){if("iframe"!=e(this)[0].tagName.toLowerCase())return null;if(null==e(this)[0].contentWindow)return null;try{e(this)[0].contentWindow.args=i}catch(e){return null}return e.browser.msie?e(this)[0].contentWindow.execScript("args = (this.window.args)?this.window.args:{}; insideFunction = "+t.toString()+"; insideFunction(args)"):e.browser.webkit||e.browser.mozilla?e(this)[0].contentWindow.eval("args = window.args;insideFunction = "+t.toString()+"; insideFunction(args)"):void 0}}(jQuery),function(e){e.fn.callInsidePopup=function(t,i){var n=this;e(document).ready((function(){try{e(n)[0].args=i}catch(e){return null}return e.browser.msie?e(n)[0].execScript("args = (this.window.args)?this.window.args:{}; insideFunction = "+t.toString()+"; insideFunction(args)"):e.browser.webkit||e.browser.mozilla?e(n)[0].eval("args = window.args;insideFunction = "+t.toString()+"; insideFunction(args)"):void 0}))}}(jQuery),jQuery,!!CSSStyleDeclaration.prototype.getPropertyValue||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,t,i){if(this.setAttribute(e,t),""!=(i=void 0!==i?i:"")){var n=new RegExp(RegExp.escape(e)+"\\s*:\\s*"+RegExp.escape(t)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(n,e+": "+t+" !"+i+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){return new RegExp(RegExp.escape(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi").test(this.cssText)?"important":""}),RegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},jQuery.fn.style=function(e,t,i){if(void 0!==this.get(0)){var n=this.get(0).style;if(void 0===e)return n;if(void 0===t)return n.getPropertyValue(e);i=void 0!==i?i:"",n.setProperty?n.setProperty(e,t,i):n.setAttribute(e,t,i)}},jQuery,jQuery.nl2br=function(e){return e.replace(/(\r\n|\n\r|\r|\n|\\r\\n|\\n\\r|\\r|\\n)/g,"<br>")},jQuery,jQuery.br2nl=function(e){return e.replace(/\r\n|\r|\n/g,"\r")},function(e){jQuery.controlValueIsChanged=function(t){var i=t,n=i.properties,r=i.getValue(),a=n.originalValue,o=!0;return!!e.forceCollectData||("grid"!=t.properties.type||"pending"!=t.ready().state())&&(["combo","queryCombo","list","queryList","radio","queryRadio","queryState"].includes(n.type)||/^cascadingcombo$/i.test(n.type)?(r&&void 0!==r.length&&(r=r[0]),a&&void 0!==a.length&&(a=a[0]),r=r&&r.id?r.id:r,o=(a=a&&a.id?a.id:a)!=r):o="boolean"==n.type||"queryBoolean"==n.type||"queryCheck"==n.type?bizagi.util.parseBoolean(a)!=bizagi.util.parseBoolean(r):"searchNumber"==n.type?!!r:"date"===n.type?new Date(a).getTime()!==new Date(r).getTime():a!==r,o)}}(jQuery),function(e){jQuery.getMaxZindex=function(){var t=e("*"),i=1;return e.each(t,(function(t,n){var r=parseInt(e(n).css("z-index"));r>i&&(i=r+1)})),i}}(jQuery),function(e){jQuery.equalizeHeights=function(t){var i=new Array;e(t).each((function(){e(this).css("min-height","0"),e(this).css("max-height","none"),e(this).css("height","auto"),i.push(e(this).outerHeight())}));var n=Math.max.apply(Math,i);e(t).each((function(){e(this).css("height",n+"px")}))}}(jQuery),bizagi.util.autoSave=function(){var e=$.Deferred();return"desktop"!==bizagi.util.detectDevice()?$(document).data("auto-save")?$(document).trigger("save-form",[e]):e.resolve():$._data($(document)[0],"events")["save-form"]&&$._data($(document)[0],"events")["save-form"].length>0?$(document).trigger("save-form",[e]):e.resolve(),e.promise()},bizagi.util.anonymizedUserInformation={id:"00000000-0000-0000-0000-000000000000",name:"",username:"",email:"",domain:"",picture:"",isAnonymized:!0},bizagi.util.datepickerResource=[],bizagi.util.datepickerResource.en={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.es={closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["dom","lun","mar","mi","jue","vie","sb"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.ar={closeText:"",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.cs={closeText:"Zavt",prevText:"&#x3C;Dve",nextText:"Pozdji&#x3E;",currentText:"Nyn",monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"],monthNamesShort:["led","no","be","dub","kv","er","vc","srp","z","j","lis","pro"],dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],dayNamesMin:["ne","po","t","st","t","p","so"],weekHeader:"Td",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.de={closeText:"Schlieen",prevText:"&#x3C;Zurck",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.fr={closeText:"Fermer",prevText:"Prcdent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.ja={closeText:"",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"",monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},bizagi.util.datepickerResource.nl={closeText:"Sluiten",prevText:"",nextText:"",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.pt={closeText:"Fechar",prevText:"Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.ru={closeText:"",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bizagi.util.datepickerResource.zh={closeText:"",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},bizagi.util.liveProcessesEvents=bizagi.util.liveProcessesEvents||{},bizagi.util.liveProcessesEvents.newLiveProcess=document.createEvent("Event"),bizagi.util.liveProcessesEvents.newLiveProcess.initEvent("new-live-process",!0,!0),bizagi.util.liveProcessesEvents.routeEvents=document.createEvent("Event"),bizagi.util.liveProcessesEvents.routeEvents.initEvent("parent-route-events",!0,!0),bizagi.util.liveProcessesEvents.routeEvents.route="/",bizagi.util.liveProcessesEvents.saveEvent=document.createEvent("Event"),bizagi.util.liveProcessesEvents.saveEvent.initEvent("save-live",!0,!0),bizagi.util.liveProcessesEvents.saveEvent.lastWidget="",bizagi.util.liveProcessesEvents.saveEvent.nextWidget="",bizagi.util.liveSave=function(e){bizagi.util.liveProcessesEvents.saveEvent.nextWidget=e;var t=$.Deferred(),i=0;try{i=$(document).find("iframe")[0].contentWindow.location.href.indexOf("quickprocess")}catch(e){i=-1}return(e!==bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROFLY||e===bizagi.util.liveProcessesEvents.saveEvent.lastWidget)&&$(document).find("iframe").length>0&&i>0?(bizagi.util.liveProcessesEvents.saveEvent.saveLivePromise=t,document.dispatchEvent(bizagi.util.liveProcessesEvents.saveEvent)):t.resolve(),$.when(t).done((function(){bizagi.util.liveProcessesEvents.saveEvent.lastWidget=e})),t.promise()},bizagi.util.md5=function(e){var t=t||function(e,t){var i={},n=i.lib={},r=function(){},a=n.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var r=0;r<e;r++)t[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<i.length)for(r=0;r<e;r+=4)t[n+r>>>2]=i[r>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new o.init(i,t)}}),s=i.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var r=t[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(i,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(i,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,r=i.sigBytes,a=this.blockSize,s=r/(4*a);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,r=e.min(4*t,r),t){for(var l=0;l<t;l+=a)this._doProcessBlock(n,l);l=n.splice(0,t),i.sigBytes-=r}return new o.init(l,r)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new f.HMAC.init(e,i).finalize(t)}}});var f=i.algo={};return i}(Math);return function(e){function i(e,t,i,n,r,a,o){return((e=e+(t&i|~t&n)+r+o)<<a|e>>>32-a)+t}function n(e,t,i,n,r,a,o){return((e=e+(t&n|i&~n)+r+o)<<a|e>>>32-a)+t}function r(e,t,i,n,r,a,o){return((e=e+(t^i^n)+r+o)<<a|e>>>32-a)+t}function a(e,t,i,n,r,a,o){return((e=e+(i^(t|~n))+r+o)<<a|e>>>32-a)+t}for(var o=t,s=(u=o.lib).WordArray,l=u.Hasher,u=o.algo,c=[],d=0;64>d;d++)c[d]=4294967296*e.abs(e.sin(d+1))|0;u=u.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var o=0;16>o;o++){var s=e[l=t+o];e[l]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}o=this._hash.words;var l=e[t+0],u=(s=e[t+1],e[t+2]),d=e[t+3],f=e[t+4],p=e[t+5],g=e[t+6],h=e[t+7],m=e[t+8],b=e[t+9],v=e[t+10],y=e[t+11],z=e[t+12],x=e[t+13],w=e[t+14],S=e[t+15],T=i(T=o[0],E=o[1],I=o[2],A=o[3],l,7,c[0]),A=i(A,T,E,I,s,12,c[1]),I=i(I,A,T,E,u,17,c[2]),E=i(E,I,A,T,d,22,c[3]);T=i(T,E,I,A,f,7,c[4]),A=i(A,T,E,I,p,12,c[5]),I=i(I,A,T,E,g,17,c[6]),E=i(E,I,A,T,h,22,c[7]),T=i(T,E,I,A,m,7,c[8]),A=i(A,T,E,I,b,12,c[9]),I=i(I,A,T,E,v,17,c[10]),E=i(E,I,A,T,y,22,c[11]),T=i(T,E,I,A,z,7,c[12]),A=i(A,T,E,I,x,12,c[13]),I=i(I,A,T,E,w,17,c[14]),T=n(T,E=i(E,I,A,T,S,22,c[15]),I,A,s,5,c[16]),A=n(A,T,E,I,g,9,c[17]),I=n(I,A,T,E,y,14,c[18]),E=n(E,I,A,T,l,20,c[19]),T=n(T,E,I,A,p,5,c[20]),A=n(A,T,E,I,v,9,c[21]),I=n(I,A,T,E,S,14,c[22]),E=n(E,I,A,T,f,20,c[23]),T=n(T,E,I,A,b,5,c[24]),A=n(A,T,E,I,w,9,c[25]),I=n(I,A,T,E,d,14,c[26]),E=n(E,I,A,T,m,20,c[27]),T=n(T,E,I,A,x,5,c[28]),A=n(A,T,E,I,u,9,c[29]),I=n(I,A,T,E,h,14,c[30]),T=r(T,E=n(E,I,A,T,z,20,c[31]),I,A,p,4,c[32]),A=r(A,T,E,I,m,11,c[33]),I=r(I,A,T,E,y,16,c[34]),E=r(E,I,A,T,w,23,c[35]),T=r(T,E,I,A,s,4,c[36]),A=r(A,T,E,I,f,11,c[37]),I=r(I,A,T,E,h,16,c[38]),E=r(E,I,A,T,v,23,c[39]),T=r(T,E,I,A,x,4,c[40]),A=r(A,T,E,I,l,11,c[41]),I=r(I,A,T,E,d,16,c[42]),E=r(E,I,A,T,g,23,c[43]),T=r(T,E,I,A,b,4,c[44]),A=r(A,T,E,I,z,11,c[45]),I=r(I,A,T,E,S,16,c[46]),T=a(T,E=r(E,I,A,T,u,23,c[47]),I,A,l,6,c[48]),A=a(A,T,E,I,h,10,c[49]),I=a(I,A,T,E,w,15,c[50]),E=a(E,I,A,T,p,21,c[51]),T=a(T,E,I,A,z,6,c[52]),A=a(A,T,E,I,d,10,c[53]),I=a(I,A,T,E,v,15,c[54]),E=a(E,I,A,T,s,21,c[55]),T=a(T,E,I,A,m,6,c[56]),A=a(A,T,E,I,S,10,c[57]),I=a(I,A,T,E,g,15,c[58]),E=a(E,I,A,T,x,21,c[59]),T=a(T,E,I,A,f,6,c[60]),A=a(A,T,E,I,y,10,c[61]),I=a(I,A,T,E,u,15,c[62]),E=a(E,I,A,T,b,21,c[63]);o[0]=o[0]+T|0,o[1]=o[1]+E|0,o[2]=o[2]+I|0,o[3]=o[3]+A|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;i[r>>>5]|=128<<24-r%32;var a=e.floor(n/4294967296);for(i[15+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),i=(t=this._hash).words,n=0;4>n;n++)r=i[n],i[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=l._createHelper(u),o.HmacMD5=l._createHmacHelper(u)}(Math),t.MD5(e).toString()},bizagi.util.multiReplace=function(e,t){for(var i in t=t||{}){var n=new RegExp(i,"g");e=e.replace(n,t[i])}return e},bizagi.util.replaceAll=function(e,t,i){return bizagi.replaceAll(e,t,i)},bizagi.util.replaceAllGlobalRegExp=function(e,t,i){var n=e,r=new RegExp(t,"g");return(n=n.replace(r,i)).toString()},String.prototype.replaceAll=function(e,t){return bizagi.util.replaceAll(this,e,t)},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.startsWith=function(e){return this.slice(0,e.length)==e},String.prototype.getInitials=function(){var e="";if(0===this.length)e='<svg  class="bz-icon bz-icon-24 bz-icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-user-deactivated"></use></svg>';else{try{for(var t=this.replace(/  +/g," ").split(" "),i=0;i<t.length&&2!=(e+=t[i][0]||"").length;i+=1);}catch(e){}e=e.toUpperCase()}return e},Math.sign=Math.sign||function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},bizagi.clone=function(e){if(null!=e)return null==e?null:JSON.parse(JSON.encode(e))},bizagi.measureString=function(e,t){var i=$("<span/>").appendTo("body");i.text(e),t&&i.css("font-size",t);var n=i.width();return i.detach(),n},bizagi.util.trim=function(e){return void 0===e||null==e?e:e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)},String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)},bizagi.util.isIE7=function(){return bizagi.util.isIE()&&7==document.documentMode},bizagi.util.isIE8=function(){return bizagi.util.isIE()&&8==document.documentMode},bizagi.util.isIE9=function(){return bizagi.util.isIE()&&9==document.documentMode},bizagi.util.isIE10=function(){return bizagi.util.isIE()&&10==document.documentMode},bizagi.util.isIE11=function(){return!!navigator.userAgent.match(/Trident\/7.0/)&&!navigator.userAgent.match(/MSIE/i)},bizagi.util.isIE11OrLower=function(){return bizagi.util.isIE11()||bizagi.util.isIE10()||bizagi.util.isIE9()||bizagi.util.isIE8()||bizagi.util.isIE7()},bizagi.util.isIE10OrLower=function(){return bizagi.util.isIE10()||bizagi.util.isIE9()||bizagi.util.isIE8()||bizagi.util.isIE7()},bizagi.util.isEdge=function(){return!!/Edge\/*./i.test(navigator.userAgent)},bizagi.util.isIE=function(){return navigator.appName.indexOf("Internet Explorer")>0||!!navigator.userAgent.match(/Trident/)},bizagi.util.objectValues=function(e){return bizagi.util.isIE()?Object.keys(e).map((function(t){return e[t]})):Object.values(e)},bizagi.util.getIEVersion=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE"),i=0;return t>0?i=parseInt(e.substring(t+5,e.indexOf(".",t))):(navigator.userAgent.match(/Trident/)||window.navigator.userAgent.indexOf("Edge")>-1)&&(i=11),i},bizagi.util.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},bizagi.util.isFirefox=function(e){return/Firefox/.test(navigator.userAgent)&&(void 0===e||e<=(i=navigator.userAgent,n=i.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(n[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(i)||[])[1]||""}:"Chrome"===n[1]&&null!=(t=i.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:t[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=i.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})).version);var t,i,n},bizagi.util.getBrowser=function(){var e="undetected";return bizagi.util.isChrome()?e="chrome":bizagi.util.isFirefox()?e="firefox":bizagi.util.isEdge()?e="edge":bizagi.util.isIE11()?e="ie11":bizagi.util.isIE10()&&(e="ie10"),e},bizagi.util.emptyNavigatorInfo=function(){bizagi.navigator&&bizagi.navigator.info&&(bizagi.navigator.info={})},$(document).ready((function(){if($("html").addClass("browser-"+bizagi.util.getBrowser()).addClass("device-"+bizagi.detectDevice()),bizagi.language){var e=bizagi.language.split("-");e&&e.length>0&&$("html").addClass("language-"+e[0])}})),bizagi.util.setIphoneXOverrides=function(){bizagi.util.isNativePluginSupported()&&void 0!==bizagiapp.isIphoneX&&bizagiapp.isIphoneX((function(e){if("true"===e)$("head").append('<style type="text/css" id="iphoneXStyle"></style>'),$("#iphoneXStyle").text(".bz-menu-home .bz-menu-carousel .bz-menu-carousel-seat{padding:0 16px 16px}.bz-home-header .km-navbar{padding:35px 16px 5px}#menuHome .bz-home-header .km-navbar{padding:30px 3px 0}#menuHome .km-navbar .km-rightitem{font-size:19px;right:.4em;top:32px}#menuHome .km-navbar .km-leftitem{font-size:24px;left:0;top:25px}#taskFeed .km-navbar .km-rightitem{font-size:19px;top:25px;right:0}#taskFeed .km-navbar .km-leftitem{font-size:24px;top:20px;left:0}#homePortal #menuHome .km-view-title .km-buttongroup{margin-left:0;top:2px}.bz-render-header,.search-container{padding-top:25px}#activity-search,.search-container .bz-wp-mu-button-search{padding-top:40px}#content-newCase-drawer{padding-top:25px}#menuHome{background:#EBEDF1!important}.km-flat .km-content{background-color:#fff} .k-loading-mask{top:0!important}");else if(bizagi.util.isiOSDevice()){$("head").append('<style type="text/css" id="iphoneStyle"></style>');$("#iphoneStyle").text("#homePortal .bz-home-header > div{padding-top:.8em}")}}))},bizagi.util.isString=function(e){return"[object String]"===Object.prototype.toString.apply(e)},bizagi.util.isObject=function(e){return"[object Object]"===Object.prototype.toString.apply(e)},bizagi.util.isArray=function(e){return Array.isArray(e)},bizagi.util.isNull=function(e){return"[object Null]"===Object.prototype.toString.apply(e)},bizagi.util.isBoolean=function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},bizagi.util.getInternetExplorerVersion=function(){return bizagi.util.isIE()?Number(document.documentMode):-1},bizagi.util.detectDevice=function(){return bizagi.detectDevice()},bizagi.util.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},bizagi.util.isGUID=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},bizagi.util.mustImplement=function(e){try{console.log("Not implemented exception: "+e)}catch(e){}},bizagi.util.encodeXpath=function(e){return bizagi.util.isEmpty(e)||void 0===e.replaceAll?"":e.replaceAll(".","_").replaceAll("=","_").replaceAll("[","_").replaceAll("]","_")},bizagi.util.parseBoolean=function(e){return void 0===e?null:null===e?null:""===e?null:!0===e||1===e||"true"===e.toString()||"1"===e||("true"===e.toString().toLowerCase()||(null===e||!1!==e)&&0!==e&&"false"!==e.toString()&&"0"!==e&&("false"!==e.toString().toLowerCase()&&null))},bizagi.util.isEmpty=function(e){return 0!==e&&(null==e||""===e||("Array"==typeof e?0==e.length:"[object Array]"===Object.prototype.toString.apply(e)?0===e.length:"[object Object]"===Object.prototype.toString.apply(e)&&(!!$.isEmptyObject(e)||bizagi.util.isEmptyCombo(e))))},bizagi.util.isEmptyCombo=function(e){if("[object Object]"===Object.prototype.toString.apply(e)){var t,i=!1,n=!1;for(t in e)if(e.hasOwnProperty(t)&&("id"===t?i=!0:"value"===t?!0:n=!0,n))return!1;if(i)return""===e.id}},bizagi.util.decodeURI=function(e){for(var t,i=!1,n=e=e||"";!i;)try{if(t=decodeURI(n),bizagi.util.hasNonVisibleChars(t)){n=e;break}t==n?i=!0:n=t}catch(e){i=!0}return n},bizagi.util.hasNonVisibleChars=function(e){for(var t,i=(e=e||"").length,n=0,r=!1;n<i;)if((t=e.charCodeAt(n++))<32||t>126){r=!0;break}return r},bizagi.util.percent2Number=function(e){return Number(String(e).replace("%",""))},bizagi.util.isObjectEmpty=function(e){return!(e.length>0)},bizagi.util.isMapEmpty=function(e){if(1==e.length&&0==e[0].length)return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},bizagi.util.replaceSelector=function(e,t,i){var n=$(t,e);n.length>0&&(n.append(i),n.children().unwrap())},bizagi.util.hasScroll=function(e,t){e.length&&(e=e[0]);var i=!!e[t="vertical"===t?"scrollTop":"scrollLeft"];return i||(e[t]=1,i=!!e[t],e[t]=0),i},bizagi.util.identicalObjects=function(e,t){if(_typeof(e)!==_typeof(t))return!1;if("function"==typeof e)return e.toString()===t.toString();if(e instanceof Object&&t instanceof Object){if(bizagi.util.countProps(e)!==bizagi.util.countProps(t))return!1;for(k in e)if(!bizagi.util.identicalObjects(e[k],t[k]))return!1;return!0}return e===t},bizagi.util.countProps=function(e){var t=0;for(k in e)e.hasOwnProperty(k)&&t++;return t},bizagi.util.isScrolledIntoView=function(e,t){if(null==e)return!1;var i=(t=t||$(window)).scrollTop(),n=$(e).offset().top;return n+$(e).height()<=i+$(t).height()&&n>=i},bizagi.util.centerElementIntoScroll=function(e,t){if(null==e)return!1;var i=(t=t||$(window)).scrollTop(),n=$(e).offset().top,r=$(e).height(),a=i+(n>0?n+r:n-r);t.scrollTop(a)},bizagi.util.encodeHtml=function(e){return null==e?"":"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},bizagi.util.decodeHtmlEntities=function(e){return null==e?"":"string"==typeof e?e.replace(/&apos;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,"'"):e},bizagi.util.getHashParams=function(){return window.location.hash.substring(1).split("#")},bizagi.util.loadFile=function(e){var t=new $.Deferred,i=e&&e.src?e.src:e,n=e&&e.type?e.type:null;return bizagi.loader.loadFile({src:i,type:n}).then((function(){t.resolve()})),t.promise()},bizagi.util.initWebpart=function(e,t){var i=new $.Deferred;return t=t||bizagi.detectDevice(),e.initialized?i.resolve():e.initializing?$.when(e.loadingDeferred.promise()).done((function(){i.resolve()})):(e.loadingDeferred=new $.Deferred,e.initializing=!0,bizagi.loader.initWebpart(e,t,(function(){e.loadingDeferred.resolve(),e.initializing=!1,i.resolve()}))),i.promise()},bizagi.util.getQueryString=function(e){for(var t={},i=((e=e||window.location.href).indexOf("?")>0?e.substring(e.indexOf("?")+1):"").split("&"),n=i.length-1;n>=0;n--){var r=i[n].indexOf("=");if(-1!=r){var a=i[n].substring(0,r),o=i[n].substring(r+1);t[a]=unescape(o)}}return t},bizagi.util.extendQueryString=function(e,t){var i=e.indexOf("?")>0?e.substring(0,e.indexOf("?")):e,n=bizagi.util.getQueryString(e),r=$.extend({},n,t);return i+"?"+$.param(r)},bizagi.util.getStackTrace=function(){var e=[],t=!1;try{i.dont.exist+=0}catch(o){if(o.stack){for(var i=0,n=(r=o.stack.split("\n")).length;i<n;i++)r[i].match(/^\s*[A-Za-z0-9\-_\$]+\(/)&&e.push(r[i]);e.shift(),t=!0}else if(window.opera&&o.message){var r;for(i=0,n=(r=o.message.split("\n")).length;i<n;i++)if(r[i].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var a=r[i];r[i+1]&&(a+=" at "+r[i+1],i++),e.push(a)}e.shift(),t=!0}}if(!t)for(var o=arguments.callee.caller;o;){var s=o.toString(),l=s.substring(s.indexOf("function")+8,s.indexOf(""))||"anonymous";e.push(l),o=o.caller}return e},bizagi.util.highLightElement=function(e){e.addClass("ui-highlight-control"),$.when(setTimeout((function(){e.addClass("ui-highlight-off-control")}),450)).done(setTimeout((function(){e.removeClass("ui-highlight-control ui-highlight-off-control")}),800))},bizagi.util.autoScrollBottom=function(e){try{var t;t=e[0].scrollHeight,e.scrollTop(t)}catch(e){}},bizagi.util.autoScrollInterval={init:!1},bizagi.util.autoScroll=function(e,t,i,n){var r=!1;clearInterval(bizagi.util.autoScrollInterval[n]),bizagi.util.autoScrollInterval[n]=0,bizagi.util.autoScrollInterval.init=!0,$("body").addClass("autoscroll"),$("body.autoscroll").mousemove((function(a){a.pageY<t?r||(r=!0,bizagi.util.autoScrollTopInterval(e,"autoscroll",n)):a.pageY>i?r||(r=!0,bizagi.util.autoScrollBottomInterval(e,"autoscroll",n)):(clearInterval(bizagi.util.autoScrollInterval[n]),r=!1)}))},bizagi.util.autoScrollTopInterval=function(e,t,i){clearInterval(bizagi.util.autoScrollInterval[i]),t&&$("body").addClass(t),0==e.scrollTop()?clearInterval(bizagi.util.autoScrollInterval[i]):(clearInterval(bizagi.util.autoScrollInterval[i]),bizagi.util.autoScrollInterval[i]=setInterval((function(){e.scrollTop()>0?e.scrollTop(e.scrollTop()-40):clearInterval(bizagi.util.autoScrollInterval[i])}),100))},bizagi.util.autoScrollBottomInterval=function(e,t,i){clearInterval(bizagi.util.autoScrollInterval[i]),t&&$("body").addClass(t);var n=$(e)[0].scrollHeight-$(e).innerHeight();e.scrollTop()>=n?clearInterval(bizagi.util.autoScrollInterval[i]):(clearInterval(bizagi.util.autoScrollInterval[i]),bizagi.util.autoScrollInterval[i]=setInterval((function(){bizagi.util.autoScrollBottom($("html")),e.scrollTop()<n?e.scrollTop(e.scrollTop()+40):clearInterval(bizagi.util.autoScrollInterval[i])}),100))},bizagi.util.removeAutoScroll=function(e,t){$("body."+e).unbind("mousemove").removeClass(e),clearInterval(bizagi.util.autoScrollInterval[t]),bizagi.util.autoScrollInterval.init=!1},bizagi.util.getMaxZIndex=function(e){return e=e||$("div,span"),Math.max.apply(null,$(e).map((function(){var e;return isNaN(e=parseInt($(this).css("z-index"),10))?0:e})))},bizagi.showPopup=function(e,t,i){var n=t.width||1024,r=t.height||768,a=$(window).height()/2-r/2,o=$(window).width()/2-n/2,s=window.open(e,"","width="+n+",height="+r+", top="+a+", left="+o+", Menubar=NO, Location=NO, Status=NO, scrollbars=YES");window.BAPopupWindow=s,window.BAPopupCallback=i,window.BACloseWindow=function(e,t){window.BAPopupWindow.close(),window.BAPopupCallback(e,t)}},bizagi.showQuirksModePopup=function(e,t){var i=window.BIZAGI_PATH_TO_BASE+"quirks.html",n=t.width||1024,r=t.height||768,a=$(window).height()/2-r/2,o=$(window).width()/2-n/2,s=window.open(i,"bizagiPopup","width="+n+",height="+r+", top="+a+", left="+o+", Menubar=NO, Location=NO, Status=NO, scrollbars=YES");window.BAQuirksPopupWindow=s,setTimeout((function(){try{s.document.title=t.title}catch(e){}}),50),$(s).callInsidePopup((function(e){var t=e.jQuery,i=e.popupWindow;i.quirksOnLoad=function(){var n=t("body",i.document),r=t("iframe",n);n.removeClass("ui-bizagi-loading-message"),r.show();var a=e.userParams.afterLoad;if(a&&null!=a){var o=t.extend(e.userParams,{popupWindow:i});r.callInside(a,o)}};!function n(){var r=t("body",i.document);r.length>0?r.append("<iframe scrolling='yes' id='innerFrameContent' src='"+e.url+"' style='width: 100%; height: 100%; display:none' frameborder='0' onload='quirksOnLoad();'></iframe>"):setTimeout((function(){n()}),50)}()}),{jQuery:$,userParams:t,popupWindow:s,url:e})},bizagi.resolveResult=function(e){var t;return e.done((function(e){t=e})),t},bizagi.createPopup=function(e){var t=e.name,i=e.onClose,n=e.title?e.title:"",r="boolean"!=typeof e.handleClose||e.handleClose,a=$('<div class="ui-widget-overlay '+t+'-overlay" />'),o=$('<div class="'+t+'-popup  ui-popup-modal"/>').appendTo(a),s=$('<div class="'+t+'-btn-close biz-btn-close"><i class="biz-icon ui-close-btn bz-studio bz-black bz-false_16x16_black"></i></div>').appendTo(o);e.title&&$('<div class="'+t+'-popup-header ui-popup-header" ><h3>'+n+"</h3></div>").appendTo(o);var l=$('<div class="'+t+'-popup-content" />').appendTo(o);o.hide(),e.additionalClass&&o.addClass(e.additionalClass);var u=e.container||"body";a.appendTo($(u,document)),e.center&&(o.css("top",(a.height()-o.height())/2),o.css("left",(a.width()-o.width())/2)),o.show();var c=function(e){a.detach(),i&&i(e)};return r&&s.click(c),{fullPopup:o,overlay:a,content:l,close:function(e){c(e)}}},bizagi.createOkCancelPopup=function(e){e.name="popup-ok-cancel";var t=e.onOk,i=e.onCancel,n=bizagi.createPopup(e),r=$("<div></div>").addClass("container-okcancel-popup"),a=$("<div></div>").addClass("message-okcancel-popup ui-light-bevel-border biz-gradient-v"),o=$("<div></div>").addClass("buttonsContainer-okcancel-popup biz-actions-bar");a.text(e.message),a.appendTo(r);var s=$("<span></span>").addClass("ok-button-okcancel-popup editor-ui-button-actions biz-action-btn biz-btn"),l=$("<span></span>").addClass("cancel-button-okcancel-popup editor-ui-button-actions biz-action-btn biz-btn");s.text(bizagi.localization.getResource("bizagi-editor-okcancel-ok")),l.text(bizagi.localization.getResource("bizagi-editor-okcancel-cancel")),s.appendTo(o),l.appendTo(o),o.appendTo(r),r.appendTo(n.content);var u=function(){n.close(),"function"==typeof t&&t()};s.click(u);var c=function(){n.close(),"function"==typeof i&&i()};return l.click(c),{close:function(){n.close()},ok:function(){u()},cancel:function(){c()}}},bizagi.dialog=function(e){var t=$("<div></div>").addClass("biz-dialog"),i=$("<p></p>");i.text(e.message||""),i.appendTo(t),t.appendTo($("body",document)),t.dialog({title:e.title,modal:!0,buttons:e.buttons,close:function(){t.dialog("destroy")}})},bizagi.closeQuirksModePopup=function(){var e=window.BAQuirksPopupWindow;window.BAQuirksPopupWindow=null;try{e&&e.close()}catch(e){}},bizagi.getStyle=function(e){var t,i=location.href.replace("/default.aspx",""),n=!!e.match(/@/),r=!!e.match(/\*/),a=new RegExp(e.replace("*",""),"g"),o="";if(""==e)return"";var s=function(e){for(var i=0;i<document.styleSheets.length;i++)if(null!=(t=document.styleSheets[i].rules||document.styleSheets[i].cssRules))for(var s=0;s<t.length;s++)if(null!=document.styleSheets[i].href&&(null==document.styleSheets[i].href.match(/less.css/g)||"release"==BIZAGI_ENVIRONMENT)){var l=t[s].cssText?t[s].cssText:"";r?null!=t[s].selectorText&&null!=t[s].selectorText.match(a)&&($.browser.webkit?o+=t[s].cssText.replace(/\(path\)/g,""):$.browser.msie&&"8.0"==$.browser.version?o+=t[s].style.cssText:o+=t[s].cssText.replace(/\(path\)/g,"../../jquery/workportal/css/desktop")):null!=t[s].selectorText&&t[s].selectorText==e&&(o+=t[s].cssText),n&&null!=t[s]&&null!=l&&-1!=l.indexOf("@font-face")&&($.browser.webkit?o+=l.replace(/jquery\/workportal\/css\/desktop\//g,"").replace(/\(path\)/g,""):o+=l.replace(/\(path\)/g,"../../"))}return o};return $.browser.msie?function(e){if("8.0"==$.browser.version)return s(e);for(var n,l=0;l<document.styleSheets.length;l++)if(null!=(t=document.styleSheets[l].cssRules||document.styleSheets[l].rules))for(var u=0;u<t.length;u++)if("release"==BIZAGI_ENVIRONMENT)r&&(null!=t[u].selectorText&&null!=t[u].selectorText.match(a)?o+=t[u].cssText.replace(/\(path\)/g,i+"/jquery/workportal/css/desktop"):null!=t[u].selectorText&&t[u].selectorText==e&&(o+=t[u].cssText.replace(/\(path\)/g,i+"/jquery/workportal/css/desktop")));else if(null!=t[u].href&&null!=t[u].href&&null==t[u].href.match(/less.css/g)){n=t[u].styleSheet.cssRules||[];for(var c=0;c<n.length;c++)r?null==n[c].selectorText&&null==n[c].selectorText||null==n[c].selectorText.match(a)||(o+=n[c].cssText.replace(/\(path\)/g,i+"/jquery/workportal/css/desktop")):null!=n[c].selectorText&&n[c].selectorText==e&&(o+=n[c].cssText.replace(/\(path\)/g,i+"/jquery/workportal/css/desktop"))}return o}(e):s(e)},bizagi.cookie=function(e,t,i){if(arguments.length>1&&"[object Object]"!==String(t)){if(i=$.extend({},i),null==t&&(i.expires=-1),"number"==typeof i.expires){var n=i.expires,r=i.expires=new Date;r.setDate(r.getDate()+n)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var a,o=(i=t||{}).raw?function(e){return e}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?o(a[1]):null},bizagi.util.randomNumber=function(e,t){return e=e||1,t=t||1e7,Math.floor(Math.random()*(t-e+1))+e},bizagi.util.setContext=function(e,t){e=e||{},(t=t||!1)&&(bizagi.context={}),$.each(e,(function(e,t){bizagi.context[e]=t})),bizagi.context.idWorkItem=bizagi.context.idWorkitem},bizagi.util.reloadCSS=function(){var e="?reload="+(new Date).getTime();$('link[rel="stylesheet"]').each((function(){this.href=this.href.replace(/\?.*|$/,e)}))},bizagi.util.setInterval=function(params){var _name=params.name||"default",_call=params.call||function(){},_params=params.params||{},_singleton=params.singleton||!1,_timeOut=params.timeout||5e3,_maxIterations=params.iterations||1e3,_context=params.context||"true;",_killWhenExitContext=!params.hasOwnProperty("killWhenExitContext")||params.killWhenExitContext;bizagi.timeOut=bizagi.timeOut||{},null==bizagi.timeOut[_name]&&(bizagi.timeOut[_name]=[]),_singleton&&null!=bizagi.timeOut[_name]&&(bizagi.timeOut[_name]=[]),bizagi.timeOut[_name].push({name:_name,params:_params,call:_call,singleton:_singleton,timeOut:_timeOut,iterations:0,maxIterations:_maxIterations,context:_context,killWhenExitContext:_killWhenExitContext,itsRunning:!1,timeInit:Math.round((new Date).getTime())});var executeTimeOut=function executeTimeOut(){$.each(bizagi.timeOut,(function(k,v){$.each(v,(function(key,value){var now=Math.round((new Date).getTime()),actualIterations=Math.round((now-value.timeInit)/value.timeOut);if(bizagi.timeOut[value.name][key].iterations=actualIterations,actualIterations<value.maxIterations)if(eval(value.context)){if(!value.itsRunning){if(value.params&&$.browser.msie)var ieFunction=function(){return value.call(value.params)};bizagi.timeOut[value.name][key].pointer=$.browser.msie?setInterval(ieFunction,value.timeOut,"JavaScript"):setInterval(value.call,value.timeOut,value.params),bizagi.timeOut[value.name][key].itsRunning=!0}}else value.killWhenExitContext?(bizagi.timeOut[value.name].splice(key,1),clearTimeout(value.pointer)):(bizagi.timeOut[value.name][key].itsRunning=!1,clearTimeout(value.pointer));else clearTimeout(value.pointer),bizagi.timeOut[value.name].splice(key,1)}))}))};bizagi.timeOutRunning||(bizagi.timeOutRunning=!0,setInterval(executeTimeOut,1e3))},bizagi.util.isDate=function(e){var t,i,n=!1,r=!1,a=!1,o=(e=e||"").toString().split(" ");return t=o[0],(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t)||/^\d{4}\/\d{1,2}\/\d{1,2}$/.test(t)||/^\d{1,2}\/\d{1,2}\/\d{1,2}$/.test(t))&&(n=!0),o.length>1&&(i=o[1],r=!0,3==o.length&&(i=i+" "+o[2]),/^\d{1,2}:\d{2}(:\d{2})?(\s[aApP][mM])?$/.test(i)&&(a=!0)),r?n&&a:n},bizagi.util.unicode2htmlencode=function(e){var t,i=(e=e.replace(/\r\n/g,"\n")).length,n="";for(t=0;t<i;t++)n+="&#x"+e.charCodeAt(t).toString(16)+";";return n},bizagi.util.getHeadElement=function(){var e=document.getElementsByTagName("head")[0],t=document&&document.documentElement;return e||(e=document.createElement("head"),t.insertBefore(e,t.firstChild)),bizagi.util.getHeadElement=function(){return e},e},bizagi.util.loadStyle=function(e,t){var i,n=document.getElementById(t);if(e&&!n){var r=document.createElement("style");r.type="text/css",r.id=t,r.styleSheet?r.styleSheet.cssText=e:(i=document.createTextNode(e),r.childNodes.length?r.firstChild.nodeValue!==i.nodeValue&&r.replaceChild(i,r.firstChild):r.appendChild(i)),bizagi.util.getHeadElement().appendChild(r)}},bizagi.util.loadIconStyle=function(e,t){bizagi.log("bizagi.util.loadIconStyle");var i=document.createElement("style");i.type="text/css";var n=".mtool-item-image-"+t+" { background:url(data:image/png;base64,"+e+"); }";i.innerHTML=n,bizagi.util.getHeadElement().appendChild(i)},bizagi.util.formatDecimalAndMoneyCell=function(e,t){var i,n,r,a,o={decimalSymbol:t.decimalSeparator,digitGroupSymbol:t.groupSeparator,roundToDecimalPlace:t.decimalDigits};for(i=$.extend({symbol:"",decimalSeparator:",",groupSeparator:".",decimalDigits:"2"},t),n=$.extend({colorize:!1,decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0,negativeFormat:"(%s%n)",positiveFormat:"%s%n",roundToDecimalPlace:"2",symbol:""},o),r=0;r<e.columnTitle.length;r++){if("MONEY"==e.columnTitle[r].type.toUpperCase())for(a=0;a<e.rows.length;a++)e.rows[a].fields[r]=bizagi.util.formatMoney(e.rows[a].fields[r],i);if("FLOAT"==e.columnTitle[r].type.toUpperCase()||"REAL"==e.columnTitle[r].type.toUpperCase())for(a=0;a<e.rows.length;a++){var s=bizagi.util.formatDecimal(e.rows[a].fields[r],n);if(!0===bizagi.override.removeTrailingZeros){var l=!0;-1!=s.toString().indexOf(")")&&(l=!1,s=s.replace("(","").replace(")",""));var u=new RegExp("("+BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator+"\\d*?[1-9])0+$","g");s=s.replace(u,"$1"),u=new RegExp("\\"+BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator+"0+$","g"),s=s.replace(u,""),l||(s="("+s+")")}e.rows[a].fields[r]=s}}return e},bizagi.util.formatBoolean=function(e){return 1==bizagi.util.parseBoolean(e)?bizagi.localization.getResource("render-boolean-yes"):0==bizagi.util.parseBoolean(e)?bizagi.localization.getResource("render-boolean-no"):""},bizagi.util.formatInvariantBoolean=function(e){e=e||"",$(".formatBoolean",e).not(".formatted").each((function(e,t){var i=$(t),n=i.html();i.addClass("formatted");try{var r=bizagi.util.formatBoolean(n);i.html(r)}catch(e){i.html(n)}}))},bizagi.util.formatDecimal=function(e,t){var i=$("<i/>").text(e);return i.formatCurrency&&i.formatCurrency(t),i.text()},bizagi.util.formatMonetaryCells=function(e,t){t=t||{symbol:"",decimalSeparator:",",groupSeparator:".",decimalDigits:"2"};for(var i=0;i<e.columnTitle.length;i++)if("MONEY"==e.columnTitle[i].type.toUpperCase())for(var n=0;n<e.rows.length;n++)e.rows[n].fields[i]=bizagi.util.formatMoney(e.rows[n].fields[i],t);return e},bizagi.util.formatMoney=function(e,t){var i="",n="",r="",a="",o="",s=e<0;if(null==e&&(e=""),(e=e.toString()).length>=1){var l=e.indexOf(".");if(l>0)r=(e=bizagi.util.fixDecimalDigits(e,t.decimalDigits)).substring(0,l).replace(/\D/g,"");else{for(var u=0;u<t.decimalDigits;u++)o+="0";r=e.replace(/\D/g,"")}if(e=e.replace(/\D/g,""),a=t.decimalDigits>0?l>0?t.decimalSeparator+e.substring(e.length-t.decimalDigits,e.length):t.decimalSeparator+o:"",r.length>3){var c=0;for(u=r.length-1;u>=0;u--)3==c&&(n+=".",c=0),n+=r[u],c+=1;for(u=n.length-1;u>=0;u--)i+=n[u]}else i=r;if(i=i.replaceAll(".",t.groupSeparator),s)i=bizagi.localization.getResource("numericFormat").negativeFormat.replace("%s",t.symbol).replace("%n",i+a);else i=t.symbol+i+a;return i}return e},bizagi.util.getOnlyNumbersByString=function(e){return e.replace(/\D/g,"")},bizagi.util.fixDecimalDigits=function(e,t){var i,n;if(i=e.indexOf("."),e.substring(0,i),t>(n=e.substring(i+1,e.length)).length)for(var r=n.length;r<t;r++)e+="0";else e=parseFloat(e).toFixed(t);return e},bizagi.util.numberToFixedString=function(e){var t;e&&(Math.abs(e)<1?(t=parseInt(e.toString().split("e-")[1]))&&(e>=0?(e*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+e.toString().substring(2)):(e=Math.abs(e)*Math.pow(10,t-1),e="-"+(e="0."+new Array(t).join("0")+e.toString().substring(2)))):(t=parseInt(e.toString().split("+")[1]))>20&&(t-=20,e/=Math.pow(10,t),e+=new Array(t+1).join("0")));return e},bizagi.util.formatInvariantMoney=function(e,t){e=e||"";var i={symbol:t.symbol,decimalSeparator:t.decimalSeparator||",",groupSeparator:t.groupSeparator||".",decimalDigits:t.decimalDigits||"2"};!1===t.allowDecimals&&(i.decimalDigits="0"),$(".formatMoney",e).not(".formated").each((function(e,t){var n=$(t).html();$(t).addClass("formated");try{var r=parseFloat(n);if(!isNaN(r)){var a=bizagi.util.formatMoney(r,i);$(t).html(a)}}catch(e){$(t).html(n)}}))},bizagi.util.formatInvariantNumber=function(e,t){e=e||"";var i="2";i="0"==t.decimalDigits?"0":t.decimalDigits||"2";var n=bizagi.util.isString(t.groupSeparator)&&t.groupSeparator?t.groupSeparator:".",r={symbol:"",decimalSeparator:t.decimalSeparator||",",groupSeparator:t.groupSeparator||t.thousands?n:"",decimalDigits:i};$(".formatMoney",e).not(".formated").each((function(e,i){var n=$(i).html();$(i).addClass("formated");try{var a=n.match(/[a-zA-Z]/),o=null!=a&&a.length>0?NaN:parseFloat(n);if(!isNaN(o)){var s=bizagi.util.formatMoney(o,r);t.percentage&&(s=s.toString()+"%"),$(i).html(s)}}catch(e){$(i).html(n)}}))},bizagi.util.formatInvariantDate=function(e,t){e=e||"",t=t||"MM/dd/yyyy hh:mm:ss",$(".formatDate",e).not(".formated").each((function(e,i){var n=$(i).html();$(i).addClass("formated");try{var r=new Date(n),a=t;bizagi.util.isValidDate(r)&&(a=bizagi.util.getFormatDate(r,a));var o=bizagi.util.dateFormatter.formatDate(r,a);$(i).html(o)}catch(e){$(i).html(n)}}))},bizagi.util.formatDateFromInvariantStringDate=function(e){if(bizagi.util.isValidDate(e)){var t=bizagi.localization.getResource("dateFormat")+" "+bizagi.localization.getResource("timeFormat"),i=new Date(e);return t=bizagi.util.getFormatDate(i,t),bizagi.util.dateFormatter.formatDate(i,t)}return e||""},bizagi.util.getFormatDate=function(e,t){var i=t,n=e.getHours(),r=e.getMinutes(),a=e.getSeconds(),o=e.getMilliseconds(),s=bizagi.override.hideTimeWhenHourMinutesSecondsAreZero;return 0===n&&0===r&&0===a&&0===o&&s&&(i=bizagi.localization.getResource("dateFormat")),i},bizagi.util.formatValueByDataType=function(e,t){var i=e;switch(t){case"NText":case 23:case"Char":case 14:case"VarChar":case 15:case"Text":case 16:e&&e.length>30&&(i=bizagi.util.replaceLineBreak(e));break;case"Boolean":case 5:case"Binary":case 17:i=bizagi.util.formatBoolean(e);break;case"Int":case 2:case"BigInt":case 1:case"SmallInt":case 3:case"TinyInt":case 4:case"Numeric":case 7:i=null==e?"":e;break;case"Money":case 8:i=bizagi.util.formatMonetaryCell(e);break;case"Float":case 10:case"Real":case 11:case"Decimal":case 6:i=bizagi.util.formatDecimalCell(e);break;case"DateTime":case 12:case"SmallDateTime":case 13:i=bizagi.util.formatDateFromInvariantStringDate(e)}return null==i&&(i=""),i},bizagi.util.isValidDate=function(e){if(void 0!==e&&null!=e){var t=new Date(e);return!isNaN(t.valueOf())}return!1},bizagi.util.monthNames=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),bizagi.util.dayNames=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"),bizagi.util.dateFormatter=new function(){this.LZ=function(e){return(e<0||e>9?"":"0")+e},this.isDate=function(e,t){return 0!=this.getDateFromFormat(e,t)},this.getRelativeTime=function(e,t,i,n){var r=n?new Date(bizagi.moment().tz(bizagi.currentUser.timeZoneName).format()):new Date,a=e instanceof Date?e:kendo.parseDate(e,t),o=r.getTime()-a.getTime(),s=l(o,"year",31536e6,i);return s||(s=l(o,"month",2628e6,i))||(s=l(o,"week",6048e5,i))||(s=l(o,"day",864e5,i))||(s=l(o,"hour",36e5,i))||(s=l(o,"minute",6e4,i))||(i?s=l(0===o?o+1:o,"minute",1,i):(s=l(o,"second",2e3,i))||(s=bizagi.localization.getResource("workportal-relativetime-momentago"))),s;function l(e,t,i,n){var r=(e/i).toFixed(0);if(r>0){if(n)return 1==r?bizagi.localization.getResource("workportal-relativetime-"+t).replace("%s",r):bizagi.localization.getResource("workportal-relativetime-"+t+"s").replace("%s",r);var a=bizagi.localization.getResource("workportal-relativetime-ago");return 1==r?a.replace("%s",bizagi.localization.getResource("workportal-relativetime-"+t).replace("%s",r)):a.replace("%s",bizagi.localization.getResource("workportal-relativetime-"+t+"s").replace("%s",r))}return null}},this.compareDates=function(e,t,i,n){var r=getDateFromFormat(e,t),a=getDateFromFormat(i,n);return 0==r||0==a?-1:r>a?1:0},this.getDifferenceBetweenDates=function(e,t,i){if(!(e instanceof Date&&e instanceof Date))return"one param not is Date";switch(i){case"seconds":return(t.getTime()-e.getTime())/1e3;case"milliseconds":return t.getTime()-e.getTime();default:return"unit is not Defined"}},this.formatDate=function(e,t,i){if(!bizagi.util.isValidDate(e)||0==e)return"";var n=bizagi.util.monthNames,r=bizagi.util.dayNames;t+="";var a,o,s="",l=0,u=e.getFullYear()+"",c=e.getMonth()+1,d=e.getDate(),f=e.getDay(),p=e.getHours(),g=e.getMinutes(),h=e.getSeconds(),m=e.getMilliseconds(),b=new Object;if(bizagi.util.isValidResource("datePickerRegional")&&(i=bizagi.localization.getResource("datePickerRegional")),i){var v=i.monthNames.concat(i.monthNamesShort),y=i.dayNames.concat(i.dayNamesShort);n=n.toString()===v.toString()?n:v,r=r.toString()===y.toString()?r:y}for((u.length<4||"-"===u.charAt(0)&&u.length<5)&&(u=""+(u-0+1900)),b.y=""+u,b.yyyy=u,b.yy=u.substring(2,4),b.M=c,b.MM=this.LZ(c),b.MMM=n[c+11],b.MMMM=n[c-1],b.NNN=n[c+11],b.d=d,b.dd=this.LZ(d),b.ddd=r[f+7],b.dddd=r[f],b.E=r[f+7],b.EE=r[f],b.H=p,b.HH=this.LZ(p),b.tt=p<12?"am":"pm",b.TT=p<12?"AM":"PM",b.h=0==p?12:p>12?p-12:p,b.hh=this.LZ(b.h),b.K=p>11?p-12:p,b.k=p+1,b.KK=this.LZ(b.K),b.kk=this.LZ(b.k),b.a=p>11?"PM":"AM",b.m=g,b.mm=this.LZ(g),b.s=h,b.ss=this.LZ(h),b.FFF=m;l<t.length;){for(a=t.charAt(l),o="";t.charAt(l)==a&&l<t.length;)o+=t.charAt(l++);null!=b[o]?s+=b[o]:s+=o}return s},this.getDateFromFormat=function(e,t,i){var n=bizagi.util.monthNames,r=bizagi.util.dayNames;e+="",t+="";var a,o,s=0,l=0,u=0,c=0,d=new Date,f=d.getYear(),p=d.getMonth()+1,g=1,h=d.getHours(),m=d.getMinutes(),b=d.getSeconds(),v=(d.getMilliseconds(),"");if(bizagi.util.isValidResource("datePickerRegional")&&(i=bizagi.localization.getResource("datePickerRegional")),i){var y=i.monthNames.concat(i.monthNamesShort),z=i.dayNames.concat(i.dayNamesShort);n=n.toString()===y.toString()?n:y,r=r.toString()===z.toString()?r:z}for(;l<t.length;){for(a=t.charAt(l),o="";t.charAt(l)==a&&l<t.length;)o+=t.charAt(l++);if("yyyy"==o||"yy"==o||"y"==o){if("yyyy"==o&&(u=4,c=4),"yy"==o&&(u=2,c=2),"y"==o&&(u=2,c=4),null==(f=I(e,s,u,c)))return 0;s+=f.length,2==f.length&&(f=f>70?f-0+1900:f-0+2e3)}else if("MMMM"==o||"MMM"==o||"NNN"==o){p=0;for(var x=0;x<n.length;x++){var w=n[x];if(e.substring(s,s+w.length).toLowerCase()==w.toLowerCase()&&("MMMM"==o||"MMM"==o||"NNN"==o&&x>11)){(p=x+1)>12&&(p-=12),s+=w.length;break}}if(0==p){if(null==(p=I(e,s,1,2))||p<1||p>12)return 0;s+=p.length}if(p<1||p>12)return 0}else if("dddd"==o||"EE"==o||"E"==o)for(var S=0;S<r.length;S++){var T=r[S];if(e.substring(s,s+T.length).toLowerCase()==T.toLowerCase()){s+=T.length;break}}else if("MM"==o||"M"==o){if(null==(p=I(e,s,1,2))||p<1||p>12)return 0;s+=p.length}else if("dd"==o||"d"==o){if(null==(g=I(e,s,1,2))||g<1||g>31)return 0;s+=g.length}else if("hh"==o||"h"==o){if(null==(h=I(e,s,o.length,2))||h<1||h>12)return 0;s+=h.length}else if("HH"==o||"H"==o){if(null==(h=I(e,s,o.length,2))||h<0||h>23)return 0;s+=h.length}else if("KK"==o||"K"==o){if(null==(h=I(e,s,o.length,2))||h<0||h>11)return 0;s+=h.length}else if("kk"==o||"k"==o){if(null==(h=I(e,s,o.length,2))||h<1||h>24)return 0;s+=h.length,h--}else if("mm"==o||"m"==o){if(null==(m=I(e,s,o.length,2))||m<0||m>59)return 0;s+=m.length}else if("ss"==o||"s"==o){if(null==(b=I(e,s,o.length,2))||b<0||b>59)return 0;s+=b.length}else if("FFF"==o){if(ff=I(e,s,o.length,3),null==ff||ff<0||ff>999)return 0;s+=ff.length}else if("a"==o||"tt"==o){if("am"==e.substring(s,s+2).toLowerCase())v="AM";else{if("pm"!=e.substring(s,s+2).toLowerCase())return 0;v="PM"}s+=2}else{if(e.substring(s,s+o.length)!=o)return 0;s+=o.length}}if(2==p)if(f%4==0&&f%100!=0||f%400==0){if(g>29)return 0}else if(g>28)return 0;return(4==p||6==p||9==p||11==p)&&g>30?0:(h<12&&"PM"==v?h=h-0+12:h>11&&"AM"==v&&(h-=12),new Date(f,p-1,g,h,m,b));function A(e){for(var t=0;t<e.length;t++)if(-1=="1234567890".indexOf(e.charAt(t)))return!1;return!0}function I(e,t,i,n){for(var r=n;r>=i;r--){var a=e.substring(t,t+r);if(a.length<i)return null;if(A(a))return a}return null}},this.parseDate=function(e){for(var t,i=2==arguments.length&&arguments[1],n=new Array("y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d"),r=new Array("M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d"),a=new Array("d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M"),o=new Array(n,i?a:r,i?r:a),s=0;s<o.length;s++)for(var l=window[o[s]],u=0;u<l.length;u++)if(0!=(t=getDateFromFormat(e,l[u])))return new Date(t);return null},this.analyzeTimeFormat=function(e){for(var t,i,n=0,r={show24Hours:!1,showSeconds:!1,separator:":"},a="";n<e.length;){for(t=e.charAt(n),i="";e.charAt(n)==t&&n<e.length;)i+=e.charAt(n++);"hh"==i||"h"==i?(a=i,r.show24Hours=!1):"HH"==i||"H"==i?(a=i,r.show24Hours=!0):"mm"==i||"m"==i?a=i:"ss"==i||"s"==i?(a=i,r.showSeconds=!0):"a"==i?a=i:"H"!=a.toUpperCase()&&"HH"!=a.toUpperCase()||(r.separator=i)}return r},this.getDateFromInvariant=function(e,t){e="string"!=typeof(e=null==e?"":e)?e.toString():e;var i="MM/dd/yyyy"+(t?" H:mm:ss":"");t&&e&&(e.toLowerCase().indexOf("am")>0||e.toLowerCase().indexOf("pm")>0)&&(i="MM/dd/yyyy h:mm:ss a");var n=bizagi.util.dateFormatter.getDateFromFormat(e,i);return 0!=n||t?0==n&&t&&null!=e&&""!=e&&(i="MM/dd/yyyy",(n=bizagi.util.dateFormatter.getDateFromFormat(e,i)).setHours(0,0,0,0)):(i="MM/dd/yyyy H:mm:ss",n=bizagi.util.dateFormatter.getDateFromFormat(e,i)),n},this.formatInvariant=function(e,t){var i="MM/dd/yyyy"+(t?" HH:mm:ss":"");return bizagi.util.dateFormatter.formatDate(e,i)},this.getDateFromISO=function(e,t){var i="yyyy-MM-dd"+(t?" HH:mm":""),n=bizagi.util.dateFormatter.getDateFromFormat(e,i);return 0==n&&t&&(i="yyyy-MM-dd"+(t?" HH:mm:ss":""),n=bizagi.util.dateFormatter.getDateFromFormat(e,i)),0!=n||t||(i="yyyy-MM-dd HH:mm",0==(n=bizagi.util.dateFormatter.getDateFromFormat(e,i))&&(i="yyyy-MM-dd HH:mm:ss",n=bizagi.util.dateFormatter.getDateFromFormat(e,i))),n},this.formatISO=function(e,t){var i="yyyy-MM-dd"+(t?" HH:mm":"");return bizagi.util.dateFormatter.formatDate(e,i)},this.formatISO8601=function(e,t){return(t=t||!1)&&e.setHours(0,0,0,0),bizagi.util.dateFormatter.formatDate(e,"yyyy-MM-ddTHH:mm:ss")},this.isFormatISO8601=function(e){return/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i.test(e)},this.sleep=function(e){for(var t=(new Date).getTime();(new Date).getTime()<t+e;);},this.getDateFormatByDatePickerJqueryUI=function(){return bizagi.localization.getResource("dateFormat").replace("yyyy","yy")}},bizagi.util.sleepUntil=function(e,t){t=t||200;var i=new $.Deferred;return function n(){var r=setTimeout((function(){if("pending"===i.state()){if(!!e())return i.resolve(),void clearTimeout(r);n(name)}}),t)}(),i.promise()},bizagi.util.sleepFor=function(e){e=e||200;var t,i=new $.Deferred;return t=setTimeout((function(){"pending"===i.state()&&(i.resolve(),clearTimeout(t))}),e),i.promise()},bizagi.util.browserSupportLocalStorage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},bizagi.util.setItemLocalStorage=function(e,t){return!!bizagi.util.browserSupportLocalStorage()&&(localStorage.setItem(e,t),!0)},bizagi.util.getItemLocalStorage=function(e){return localStorage.getItem(e)},bizagi.util.removeItemLocalStorage=function(e){localStorage.removeItem(e)},bizagi.util.clearLocalStorage=function(){bizagi.util.browserSupportLocalStorage()&&localStorage.clear()},"debug"==("undefined"!=typeof BIZAGI_ENVIRONMENT?BIZAGI_ENVIRONMENT:"release")?"object"!=_typeof(window.console)&&(window.console={log:function(e){}}):"object"!=("undefined"==typeof console?"undefined":_typeof(console))?window.console={log:function(e){}}:bizagiConfig&&!bizagiConfig.showConsoleLog&&(console.log=function(e){}),bizagi.util.startLoading=function(e){(e||$("body")).append('<div class="ui-widget-overlay ui-front" style="z-index: 1001;"><div class="ui-bizagi-loading-message-center" style="position: absolute; top: 48%; left: 48%; display: ;"><div class="ui-bizagi-loading-icon"></div></div></div>')},bizagi.util.stopLoading=function(e){var t=e||$("body");$(".ui-widget-overlay:first",t).remove()},bizagi.util.smartphone.startLoading=function(e){(e||$("body")).append('<div class="bz-util-loading-container"> <div class="ui-bizagi-loading-icon bz-util-loading"></div>  </div>')},bizagi.util.smartphone.stopLoading=function(e){var t=e||$("body");$(".bz-util-loading-container",t).remove()},bizagi.util.isEventSupported=function(e,t){var i,n=!("onblur"in document.documentElement);return!!e&&(t&&"string"!=typeof t||(t=document.createElement(t||"div")),!(i=(e="on"+e)in t)&&n&&(t.setAttribute||(t=document.createElement("div")),t.setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),i="function"==typeof t[e],void 0!==t[e]&&(t[e]=void 0),t.removeAttribute(e))),i)},bizagi.circularDependencies=function(){var e=(new Function).prototype;e.list=[],e.lastNodeAdded,e.addNode=function(t,i){var a=JSON.encode(i),o=n(t,a);if(!o){var s=new r(t,a);return e.list.push({name:t,obj:a,nodeObj:s,timeStamp:(new Date).getTime()}),s}(e.lastNodeAdded||e.list[e.list.length-1]).nodeObj.addChild(o.nodeObj),e.lastNodeAdded=o},e.resolve=function(t,n,r){return t=t||i()||e.list[0].nodeObj,new a(t,n,r)};var t=function(){e.list=[]},i=function(){for(var t=0;t<e.list.length;t++)if(e.list[t].nodeObj.childs.length>0)return e.list[t].nodeObj;return e.list.length>0?e.list[0].nodeObj:{}},n=function(t,i){for(var n=0;n<e.list.length;n++)if(e.list[n].name==t){var r=(new Date).getTime();if(e.list[n].timeStamp+1e3<r)e.list.splice(n,1);else if(e.list[n].obj==i)return e.list[n]}return!1},r=function(e,t){e=e||"",t=t||{};var i=function(e,t){this.name=e,this.obj=t,this.childs=[]};return i.prototype.addChild=function(e){this.childs.push(e)},i}(),a=function(e,i,n){var r=function e(i,n,r){this.node=i||{},this.node.childs=this.node.childs||[],this.resolved=n||[],this.seen=r||[],this.seen.push(this.node);for(var o=0;o<this.node.childs.length;o++)if(!a.hasObject(this.node.childs[o],this.resolved)){if(a.hasObject(this.node.childs[o],this.seen)){t();var s={dependencyFrom:this.node.name,dependencyFromObj:this.node.obj,dependencyTo:this.node.childs[o].name,dependencyToObj:this.node.childs[o].obj,path:this.seen};return{error:$.extend({standardError:{status:"error",responseText:JSON.encode({message:a.makeErrorMessage(s),type:"alert"})},multiactionError:{message:a.makeErrorMessage(s),type:"alert"}},s)}}return e(this.node.childs[o],this.resolved,this.seen)}this.resolved&&this.resolved.push(this.node)},a=r.prototype;return a.hasObject=function(e,t){for(var i=0;i<t.length;i++)if(t[i].name==e.name)return!0;return!1},a.makeErrorMessage=function(e){return printf(bizagi.localization.getResource("render-actions-loop-validation"),e.dependencyFrom,e.dependencyTo)},r}();return e},bizagi.util.cssExtended=function(e,t){var n=t.split(";");for(i=0;i<n.length;i++)""!=n[i]&&bizagi.util.cssExtendedApplyChanges(e,n[i])},bizagi.util.cssExtendedApplyChanges=function(e,t){for(var i=0;i<e.length;i++){var n=$(e[i]),r=t.split(":")[0];if(n.attr("style")){var a=n.attr("style").split(";"),o=[],s="";for(j=0;j<a.length;j++){var l=a[j].split(":");$.trim(l[0])!=r&&""!=$.trim(l[0])&&o.push(l[0]+":"+l[1]+";"),s=JSON.stringify(o).replace(/\","/g," ").replace(/\["/g," ").replace(/\"]/g," ")}s="[]"==s?"":s,n.attr("style",s+t+";")}else if(n.css(r)){a=n.css(r),s="";(o=[]).push(t+";"),s="[]"==s?"":s,n.attr("style",s+t+";")}}},bizagi.util.scrollTop=function(e){if(e&&e[0])for(;"HTML"!==e[0].tagName&&"scroll"!=e.css("overflow-y")&&"auto"!=e.css("overflow-y")&&e.parent().length>0;)e=e.parent();return e},bizagi.util.sortJSON=function(e,t,i){return e.sort((function(e,n){var r=e[t],a=n[t];return"asc"===i?r<a?-1:r>a?1:0:"desc"===i?r>a?-1:r<a?1:0:void 0}))},bizagi.util.shortNumber=function(e){var t=e.toString(),i=t.length;return i>=4&&i<7?t="+"+t.charAt(0)+"K":i>=7&&i<10?t="+"+t.charAt(0)+"M":i>=10&&(t="+"+t.charAt(0)+"B"),"&nbsp;&nbsp;&nbsp;"+t},bizagi.util.replaceLineBreak=function(e){return"string"==typeof e?e.replace(/\r\n|\r|\n|<br>|<br\/>/g,"<br/>"):e},bizagi.util.escapeHtml=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML},bizagi.util.formatMonetaryCell=function(e){return bizagi.util.formatMonetaryValue(e)},bizagi.util.formatDecimalCell=function(e){return bizagi.util.formatDecimalValue(e)},bizagi.util.formatDateValue=function(e){return bizagi.util.formatDateFromInvariantStringDate(e)},bizagi.util.formatMonetaryValue=function(e){return bizagi.util.formatMoney(e,BIZAGI_DEFAULT_CURRENCY_INFO)},bizagi.util.formatDecimalValue=function(e){var t,i={decimalSymbol:BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator,digitGroupSymbol:BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator,roundToDecimalPlace:BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits};t=$.extend({colorize:!1,decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0,negativeFormat:"(%s%n)",positiveFormat:"%s%n",roundToDecimalPlace:"2",symbol:""},i);var n=bizagi.util.formatDecimal(e,t);if(!0===bizagi.override.removeTrailingZeros){var r=!0;-1!=n.toString().indexOf(")")&&(r=!1,n=n.replace("(","").replace(")",""));var a=new RegExp("("+BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator+"\\d*?[1-9])0+$","g");n=n.replace(a,"$1"),a=new RegExp("\\"+BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator+"0+$","g"),n=n.replace(a,""),r||(n="("+n+")")}return n},bizagi.util.showNotification=function(e){e=e||{};var t=$('<div id="sync-notification" class="bz-cm-icon"></div>').text(e.text||"");t.appendTo($("body")),t.fadeIn(1500,(function(){t.stop()})),t.fadeOut(2e3,(function(){t.remove()}))},bizagi.util.isModeOnline=function(){return void 0!==bizagi.context.isOfflineForm&&!bizagi.context.isOfflineForm},bizagi.util.dispose=function(e){for(key in e)"object"==_typeof(e[key])&&delete e[key],"function"==typeof e[key]&&(e[key]=null,delete e[key])},bizagi.util.arrayEach=function(e,t){var i;if(e)if("[object Array]"===Object.prototype.toString.apply(e)&&"[object Function]"===Object.prototype.toString.apply(t)){for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(e[i],i,e[i]))return}else $.each(e,t)},bizagi.util.getStandardNotation=function(e,t){t=t||".";var i="",n=!1,r=!1;e=(e.length>0?e.toString().toLowerCase():"").replace(/ /g,"");for(var a=0;a<e.length;a++)("+"!==e[a]&&"-"!==e[a]||0!==a&&"e"!=e[a-1])&&isNaN(Number(e[a]))?e[a]!==t||n?"e"!==e[a]||r||(i+=e[a],r=!0):(i+=e[a],n=!0):i+=e[a];return i},bizagi.util.scientificNotationFormat=function(e,t,i,n,r){t=t||".",e=bizagi.util.getStandardNotation(e,t),i=i>0?i:38,n=n>0?n:-125,r=r>0?r:125;var a=new RegExp("[0-9]+("+t+"[0-9]+)?(e[+-]?[0-9]+)?"),o=e.match(a),s=0,l="-"===e[0]?e[0]:"",u=0;if(e=e.replace(l,""),o&&o[0]&&o[2]){var c=o[0]?o[0].replace(o[2],"").split(t):"",d="",f="";return c[0]=c[0].replace(/^0+/g,""),c[0].length>1?(u=(d=c[0].slice(1)).length,f=c[0][0]||"",d=d.concat(o[1]||"")):1===c[0].length?(f=c[0][0]||"",d=d.concat(c[1]||"")):(u=c[1].length,c[1]=c[1].replace(/^0+/g,""),u=c[1].length-1-u,f=c[1][0],d=c[1].slice(1)),(d=d.replace(t,"").replace(/0+$/g,"")).length>=i&&(d=d.slice(0,i-1)),l+f+(d?t+d:"")+"e"+((s=(s=Number(o[2].replace("e",""))+u)>r?r:s<n?n:s)>0?"+"+s:s)}if(e){u=e.indexOf(t);var p=0,g=e.length-1;e=e.replace(t,"");for(var h=p;!m;)"0"!==e[h]&&e[h]!==t?(m=!0,p=h):h++;for(var m=!1,b=g;!m;)"0"!==e[b]&&e[b]!==t?(m=!0,g=b+1):b--;if(g=g>i+p?i+p:g,-1!==u){m=!1;return s=u-(p+1),(d=e.slice(p,g)).length>0&&!isNaN(Number(d[0]))?l+d[0]+(d.length>1?t+d.slice(1):"")+"e"+(s>0?"+"+s:s):"0"}var v=e.slice(p,p+1),y=e.slice(p+1,e.length);return s=y.length,(y=y.replace(/0+$/g,"")).length>i&&(y=e.slice(p+1,i+p)),Number(v)?l+v+(y.length>0?t+y:"")+"e"+(s>0?"+"+s:s):"0"}return""},bizagi.util.stripslashes=function(e){return e.replace(/\\'/g,"'").replace(/\"/g,'"').replace(/\\\\/g,"\\").replace(/\\0/g,"\0")},bizagi.util.isHTMLValidText=function(e){return new RegExp(/<(.|\n)*?>/g).test(e)},bizagi.util.resetData=function(){var e=JSON.parse(sessionStorage.getItem("bizagiAuthentication"));sessionStorage.removeItem("bizagiAuthentication"),$.extend(e,{isAuthenticate:"false"}),sessionStorage.setItem("bizagiAuthentication",JSON.encode(e))},bizagi.util.changeData=function(e){var t=JSON.parse(sessionStorage.getItem("bizagiAuthentication"));sessionStorage.removeItem("bizagiAuthentication"),$.extend(t,e),sessionStorage.setItem("bizagiAuthentication",JSON.encode(t))},bizagi.util.isMobileDevice=function(e){return e=e||bizagi.detectDevice(),["smartphone_ios","smartphone_ios_native","smartphone_android","smartphone_android_native","tablet","tablet_ios","tablet_ios_native","tablet_android","tablet_android_native"].indexOf(e)>-1},bizagi.util.isNativeMobileDevice=function(e){return bizagi.util.isMobileDevice(e)&&bizagi.util.isNativePluginSupported()},bizagi.util.isTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),["tablet","tablet_ios","tablet_ios_native","tablet_android","tablet_android_native"].indexOf(e)>-1},bizagi.util.isAndroidTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isTabletDevice()&&-1!==e.indexOf("android")},bizagi.util.isiOSTabletDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isTabletDevice()&&!(-1===e.indexOf("android"))},bizagi.util.isSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),["smartphone_ios","smartphone_ios_native","smartphone_android","smartphone_android_native"].indexOf(e)>-1},bizagi.util.isAndroidSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isSmartphoneDevice()&&-1!==e.indexOf("android")},bizagi.util.isiOSSmartphoneDevice=function(e){return e=e||bizagi.util.detectDevice(),bizagi.util.isSmartphoneDevice()&&-1!==e.indexOf("ios")},bizagi.util.isOfflineForm=function(e){if(!bizagi.util.isMobileDevice()||void 0===e)return!1;var t=e.context||null,i=e.container||null,n=null!==i?i:null!==t?t.getFormContainer():null;if(null===n)return!1;var r=n.getParams()||{};return void 0!==r.isOfflineForm&&bizagi.util.parseBoolean(r.isOfflineForm)},bizagi.util.detectAndroidVersion=function(){var e=navigator.userAgent.toLowerCase().indexOf("android"),t=navigator.userAgent.toLowerCase().substring(e+8,e+13);return t=t.replaceAll(".",""),Number(t)},bizagi.util.getPathUrl=function(e){var t="",i=location.pathname.split("/"),n=location.protocol+"//"+location.host;if("/"==BIZAGI_PATH_TO_BASE[0])t=n+BIZAGI_PATH_TO_BASE+e;else{for(var r=BIZAGI_PATH_TO_BASE.split("../").length,a=0,o=i.length;a<o-r;a++)n+=i[a]+"/";t=(n="/"===n[n.length-1]?n:n+"/")+e}return t},bizagi.util.getAndroidVersion=function(){var e=navigator.userAgent.toLowerCase().match(/android\s([0-9\.]*)/);return!!e&&parseFloat(e[1])},bizagi.util.mobileImagePath=function(e){var t=e,i=bizagi.util.getAndroidVersion();if(!i)return t;if("content://com.android"===t.substring(0,21)&&i<=4.4){var n=t.split("%3A");n.length>1?t="content://media/external/images/media/"+n[1]:(n=t.split("/"),t="content://media/external/images/media/"+n[n.length-1])}return t},bizagi.util.isValidResource=function(e){return!!bizagi.localization&&bizagi.localization.getResource(e)!==e},bizagi.util.b64toBlob=function(e,t,i){t=t||"",i=i||512;for(var n=atob(e),r=[],a=0;a<n.length;a+=i){for(var o=n.slice(a,a+i),s=new Array(o.length),l=0;l<o.length;l++)s[l]=o.charCodeAt(l);var u=new Uint8Array(s);r.push(u)}return new Blob(r,{type:t})},bizagi.util.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=255&e.charCodeAt(i);return t},bizagi.util.hasOfflineFormsEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_OFFLINE_FORMS&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_OFFLINE_FORMS)},bizagi.util.isFlatDesignEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_FLAT&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_FLAT)},bizagi.util.isMobileGridEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_MOBILE_GRID&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_MOBILE_GRID)},bizagi.util.isNativeHeaderEnabled=function(){return"undefined"!=typeof NATIVE_HEADER_ENABLE&&!0===bizagi.util.parseBoolean(NATIVE_HEADER_ENABLE)},bizagi.util.isQuickSearchEnabled=function(){return"undefined"!=typeof BIZAGI_ENABLE_QUICK_SEARCH&&!0===bizagi.util.parseBoolean(BIZAGI_ENABLE_QUICK_SEARCH)},bizagi.util.isOAuth2Enabled=function(){return"undefined"!=typeof BIZAGI_AUTH_TYPE&&"OAuth"===BIZAGI_AUTH_TYPE},bizagi.util.getNativeComponent=function(){return"undefined"!=typeof BIZAGI_NATIVE_COMPONENT?BIZAGI_NATIVE_COMPONENT:""},bizagi.util.isVersionSupported=function(){var e=!0;if("undefined"!=typeof BIZAGI_SERVER_VERSION&&!bizagi.util.isEmpty(BIZAGI_SERVER_VERSION)){var t=BIZAGI_SERVER_VERSION.match(/\d+\.\d+/);e=!t||parseFloat(t.shift())>=11}return e},bizagi.util.isCordovaSupported=function(){return"undefined"!=typeof cordova},bizagi.util.isNativePluginSupported=function(){return"undefined"!=typeof bizagiapp},bizagi.util.isTabletNativeSupported=function(){return"undefined"!=typeof bizagiapp&&bizagi.util.isTabletDevice()},bizagi.util.isSmartphoneNativeSupported=function(){return"undefined"!=typeof bizagiapp&&bizagi.util.isSmartphoneDevice()},bizagi.util.isNativePluginSupported()&&window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),bizagi.util.detectRealDevice=function(){var e="undefined"==typeof BIZAGI_DEFAULT_DEVICE||bizagi.util.isEmpty(BIZAGI_DEFAULT_DEVICE)?null:BIZAGI_DEFAULT_DEVICE;BIZAGI_DEFAULT_DEVICE="";var t=bizagi.detectDevice();return BIZAGI_DEFAULT_DEVICE=e,t},bizagi.util.isAndroid=function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1},bizagi.util.isAndroidDevice=function(){return bizagi.util.detectDevice().indexOf("android")>-1},bizagi.util.isiOSDevice=function(){return-1===bizagi.util.detectDevice().indexOf("android")},bizagi.util.getChannelType=function(){return"undefined"==typeof BIZAGI_SERVER_CHANNEL||bizagi.util.isEmpty(BIZAGI_SERVER_CHANNEL)?bizagi.loader.channel||"":BIZAGI_SERVER_CHANNEL},bizagi.util.isDataUrl=function(e){try{return!!e.toString().match(/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i)}catch(e){}return!1},bizagi.util.getDataUrl=function(e){var t;try{if(void 0===e.value||bizagi.util.isEmpty(e.value))t=e.url||"";else{var i=e.value,n=i.value||i;if(Array.isArray(n)){var r=n.shift();t=Array.isArray(r)?r.join(""):r}else t=n}(t=bizagi.util.isEmpty(t)?"":"data:image/png;base64,"+t.replace(/^data:.*;base64,/,""))&&-1!==t.indexOf("Invalid case id")&&(t="")}catch(e){t=""}return t},bizagi.util.processFailMessage=function(e){var t=e||{};try{t=(t="string"==typeof t?JSON.parse(t):t).responseText||t.message||t}catch(i){t=e}return t},bizagi.util.getErrorFormatted=function(e){var t=e;if(!t)return e;if("string"==typeof t)try{t=JSON.parse(t)}catch(i){t={type:"error",code:"code",message:e}}return"object"==_typeof(t)&&(t.message||t.statusText)?{type:t.type||"error",code:t.code||t.errorCode||t.errorType||t.statusText||"code",message:t.message}:(t&&t.length&&t.length>=1&&(t=t[0]),t.responseText&&(t=t.responseText),t.error&&(t=t.error),bizagi.util.getErrorFormatted(t))};var tmp_block_header="<div class='blockHeaderByLiveProcess'></div>";function initBizagi(){0!=bizagi.loader.initialized?((bizagi=void 0!==bizagi?bizagi:{}).services.ajax=void 0!==bizagi.services.ajax?bizagi.services.ajax:{},bizagi.enableCustomizations="undefined"==typeof BIZAGI_ENABLE_CUSTOMIZATIONS||BIZAGI_ENABLE_CUSTOMIZATIONS,bizagi.enableTrace="undefined"==typeof BIZAGI_ENABLE_LOG||BIZAGI_ENABLE_LOG,bizagi.enableDebug="undefined"!=typeof BIZAGI_ENABLE_LOG&&BIZAGI_ENABLE_LOG,bizagi.enableChrono="undefined"==typeof BIZAGI_ENABLE_LOG||BIZAGI_ENABLE_LOG,bizagi.enableProfiler="undefined"!=typeof BIZAGI_ENABLE_PROFILER?BIZAGI_ENABLE_PROFILER:"true"===bizagi.readQueryString().enableProfiler,bizagi.services.ajax.logSuccess="undefined"==typeof BIZAGI_ENABLE_LOG||BIZAGI_ENABLE_LOG,bizagi.services.ajax.logSubmits="undefined"==typeof BIZAGI_ENABLE_LOG||BIZAGI_ENABLE_LOG,bizagi.proxyPrefix="undefined"!=typeof BIZAGI_PROXY_PREFIX?BIZAGI_PROXY_PREFIX:"",bizagi.UserPreferencesUrl="undefined"!=typeof BIZAGI_USER_PREFERENCES_PAGE?BIZAGI_USER_PREFERENCES_PAGE:"",BIZAGI_PATH_TO_BASE="undefined"!=typeof BIZAGI_PATH_TO_BASE?BIZAGI_PATH_TO_BASE:"",bizagi.resourceDefinitionLocation={custom:bizagi.loader.getResource("l10n","bizagi.custom.resources"),default:bizagi.loader.getResource("l10n","bizagi.resources.default"),ja:bizagi.loader.getResource("l10n","bizagi.resources.ja"),en:bizagi.loader.getResource("l10n","bizagi.resources.en-us"),"en-us":bizagi.loader.getResource("l10n","bizagi.resources.en-us"),es:bizagi.loader.getResource("l10n","bizagi.resources.es"),"es-es":bizagi.loader.getResource("l10n","bizagi.resources.es"),"en-mobile":bizagi.loader.getResource("l10n","bizagi.resources.en-mobile")},bizagi.isMobile()&&(bizagi.resourceDefinitionLocation=$.extend({},bizagi.resourceDefinitionLocation,{default:bizagi.loader.getResource("l10n","bizagi.resources.default-mobile"),ar:bizagi.loader.getResource("l10n","bizagi.resources.ar-mobile"),"cs-cz":bizagi.loader.getResource("l10n","bizagi.resources.cs-cz-mobile"),de:bizagi.loader.getResource("l10n","bizagi.resources.de-mobile"),en:bizagi.loader.getResource("l10n","bizagi.resources.en-mobile"),"en-us":bizagi.loader.getResource("l10n","bizagi.resources.en-mobile"),es:bizagi.loader.getResource("l10n","bizagi.resources.es-mobile"),"es-es":bizagi.loader.getResource("l10n","bizagi.resources.es-mobile"),fr:bizagi.loader.getResource("l10n","bizagi.resources.fr-mobile"),it:bizagi.loader.getResource("l10n","bizagi.resources.it-mobile"),ja:bizagi.loader.getResource("l10n","bizagi.resources.ja-mobile"),nl:bizagi.loader.getResource("l10n","bizagi.resources.nl-mobile"),pt:bizagi.loader.getResource("l10n","bizagi.resources.pt-mobile"),ru:bizagi.loader.getResource("l10n","bizagi.resources.ru-mobile"),zh:bizagi.loader.getResource("l10n","bizagi.resources.zh-mobile")})),$.when($.read(bizagi.proxyPrefix+"Rest/Util/Features")).done((function(e){bizagi.features=e})).fail((function(){})),"boolean"==typeof isWebpart&&!0===isWebpart?$.when($.read(bizagi.proxyPrefix+"Rest/Users/CurrentUserGuid")).done((function(e){assignLanguage(e.language)})).fail((function(){assignLanguage()})):assignLanguage(),bizagi.initialized=!0,bizagi.renderLoginMultiple=function(e,t){bizagi.loader.start(t?"loginexternal_multiple":"login_multiple").then((function(){new bizagi.login_multiple.facade(e).execute()}))}):setTimeout(initBizagi,100)}function assignLanguage(e){return e=(e=(e=e||bizagi.readQueryString().language)||("undefined"!=typeof BIZAGI_LANGUAGE?BIZAGI_LANGUAGE:null))||"default",bizagi.language=e,bizagi.localization=new bizagi.l10n(bizagi.resourceDefinitionLocation),bizagi.localization.setLanguage(bizagi.language),bizagi.templateService=new bizagi.templates.services.service(bizagi.localization),window.onerror=function(){bizagi.logError("Uncaught error",{message:arguments[0],file:arguments[1],line:arguments[2]})},bizagi.localization.readyDeferred}bizagi.util.disableWorkPortalMenu=function(){var e=$("body").find("#ui-bizagi-wp-menu").height();$(tmp_block_header).prependTo("body"),$("body").find(".blockHeaderByLiveProcess").css({position:"absolute",width:"100%",height:e+"px",background:"gray",opacity:"0.9","z-index":"101"})},bizagi.util.enableWorkPortalMenu=function(){$("body").find(".blockHeaderByLiveProcess").detach()},bizagi.util.enableMenuSection=function(e){(new bizagi.workportal.controllers.menu).setActiveSection.apply($("#main_menu li#"+e)[0])},bizagi.util.getURLWithASlashAtTheEnd=function(e){var t;return"/"===(t=e).substr(t.length-1)?e:e+"/"},bizagi.util.downloadFile=function(e,t,i){var n,r=new $.Deferred,a=void 0===i||i,o=(t?"":bizagi.util.getURLWithASlashAtTheEnd(bizagiConfig.applicationUrl))+e,s=0!==$("#iframe-download").length,l=function(){var e=$(this)[0],t=bizagi.localization.getResource("workportal-general-error-message-contact-administrator"),i=bizagi.util.tryCatch((function(){return $(e.contentDocument).text()}),t),n=-1!==i.indexOf("HTTP Error 503"),o=bizagi.util.tryCatch((function(){return JSON.parse(i)}),{code:"error",status:"error",message:""===i?t:i}),s=a&&!n;n&&bizagiConfig.maintenanceWindows.start(),function(e,t){t&&bizagi.modalError.show(e.message,void 0,!1),r.reject(e)}(o,s)};return s||((n=$("<iframe/>")).attr({style:"visibility:hidden;display:none",id:"iframe-download"}).appendTo("body"),n[0].onload=l),$("#iframe-download").attr("src",o),r},bizagi.util.downloadFileByPOST=function(e,t){0!==$("#iframe-download").length&&$("#iframe-download").remove(),$("<iframe/>").attr({style:"visibility:hidden;display:none",id:"iframe-download"}).appendTo("body");for(var i="",n=0;n<t.length;n++)i=i+"<input type='text' name='"+t[n].name+"' value='"+t[n].value+"'>";var r="<form id='formPOST' action='"+e+"' method='POST'>"+i+"</form>";$("#iframe-download").contents().find("body").append(r),bizagi.util.isIE11()?(bizagi.showErrorAlertDialog=!1,$.ajax({type:"POST",url:e,data:t,dataType:"text"}).then((function(){$("#formPOST",$("#iframe-download").contents()).submit()}))):$("#formPOST",$("#iframe-download").contents()).submit()},bizagi.util.executeActionRoutingFromWorkportal=function(e,t){bizagi.workportal.controllers.menu.prototype.publish("executeAction",{action:bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,idCase:e,idWorkItem:t})},bizagi.util.getMessageFromNetworkState=function(e){return e?bizagi.localization.getResource("render-without-globalform-offline-userOnline","The case has been created successfully, please wait until the server synchronizes"):bizagi.localization.getResource("render-without-globalform-offline","Your offline case has been created successfully. It will synchronized as soon as you go online.")},bizagi.util.sanitizeHTML=function(e){var t=null!=e?e.toString():e,i=DOMPurify.sanitize(t),n=document.createElement("div");return n.innerHTML=i,0===n.childNodes.length?"":String(n.childNodes[0].nodeValue)},bizagi.util.arrayUnique=function(e){for(var t=e.concat(),i=0,n=t.length;i<n;++i)for(var r=i+1;r<n;++r)t[i]===t[r]&&t.splice(r-=1,1);return t},bizagi.util.debounce=function(e,t,i){var n;return function(){var r=this,a=arguments,o=function(){if(n=null,!i)return e.apply(r,a)},s=i&&!n;if(clearTimeout(n),n=setTimeout(o,t||200),s)return e.apply(r,a)}},bizagi.util.debounce2=function(e,t,i){var n,r=this,a=function(){var r=this,a=arguments,o=function(){if(n=null,!i)return e.apply(r,a)},s=i&&!n;if(clearTimeout(n),n=setTimeout(o,t||200),s)return e.apply(r,a)};return{timeout:n,cancel:function(){clearTimeout(n)},fire:function(){a.call(r,arguments)}}},bizagi.util.isNativeImageEditorSupported=function(){return bizagi.util.isNativePluginSupported()&&bizagi.util.isiOSDevice()&&bizagi.override.enableImageEditor},bizagi.util.errorMessage=function(e){return'<div class="admin-stakeholder-message"> <i class="bz-wp-empty__img"></i> <p class="bz-wp-empty__info bz-wp-empty__info--first"> '+e+"</p></div>"},bizagi.util.validateUrlWellFormed=function(e){var t=/^((http|https|ftp):\/\/)/.test(e)?e:"http://"+e,i=document.createElement("a");i.setAttribute("href",t);var n=DOMPurify.sanitize(i,{IN_PLACE:!0}),r=e?e.replace(/ /g,""):"";return bizagi.util.isEmpty(r)?null:n.href},bizagi.util.encodeHtmlText=function(e){var t=e||"",i="";if("string"==typeof t){var n=bizagi.util.decodeURI(t);i=bizagi.util.encodeString(n)}return i},bizagi.util.encodeString=function(e){var t=e||"";return t=(t=(t=(t=(t=t.replaceAll("&","&amp;")).replaceAll("$","&#36;")).replaceAll("<","&lt;").replaceAll(">","&gt;")).replaceAll('"',"&#34;").replaceAll("'","&#39;").replaceAll("/","&#47;")).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")},bizagi.util.setCaretPosition=function(e,t){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},bizagi.util.getCaretPosition=function(e){var t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},bizagi.util.escapeRegex=function(e){return(e=e||"").replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},bizagi.util.getFeatureObject=function(e){var t=e.split(".");return this.featureObjectCache=this.featureObjectCache||{},e in this.featureObjectCache?this.featureObjectCache[e]:this.featureObjectCache[e]=function(t){var i=bizagi.util.getConfigFeatures();if("string"==typeof e&&void 0!==i){for(var n=i,r=0,a=t.length;r<a;r++)if(void 0===(n=n[t[r]]))return;return n}}(t)},bizagi.util.getConfigFeatures=function(){var e=window.bizagiConfig||bizagiConfig||{};return bizagi.util.isMobileDevice()&&"undefined"!=typeof BIZAGI_MOBILE_FEATURES&&!bizagi.util.isEmpty(BIZAGI_MOBILE_FEATURES)&&(e.features=JSON.parse(BIZAGI_MOBILE_FEATURES||"{}")),e.features},bizagi.util.resetConfigFeatures=function(){bizagi.util.featureObjectCache=void 0},bizagi.util.isFailResponse=function(e){return e&&(e.type&&"error"===e.type||e.status&&"error"===e.status||e.code&&"UNKNOWN_ERROR"===e.code)},bizagi.util.formatItem=function(e){if(null!=e){if($.isArray(e)){for(var t=0,i=e.length;t<i;t++)null!=e[t]&&"boolean"==typeof e[t]&&(!0===bizagi.util.parseBoolean(e[t])?e[t]=bizagi.localization.getResource("render-boolean-yes"):!1===bizagi.util.parseBoolean(e[t])&&(e[t]=bizagi.localization.getResource("render-boolean-no"))),e[t]=bizagi.util.sanitizeHTML(e[t]);return e.join(" - ")}return bizagi.util.sanitizeHTML(e)}return""},bizagi.util.performTermMatches=function(e,t,i){return"object"===_typeof(e)?bizagi.util.formatItem(e):"string"==typeof e?i?bizagi.util.sanitizeHTML(e):bizagi.util.highlightMatches(e,t):e},bizagi.util.highlightMatches=function(e,t){var i=bizagi.util.escapeRegex(t).replaceAll("%",""),n=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+i+")(?![^<>]*>)(?![^&;]+;)","gi");return bizagi.util.sanitizeHTML(e).replace(n,"<strong>$1</strong>")},bizagi.util.getDesktopResolution=function(){var e="",t=1,i=window.screen.width,n=window.screen.height;return"deviceXDPI"in screen?t=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in window&&(t=window.devicePixelRatio),t=Number(t.toFixed(3)),i&&i>0&&n&&n>0&&(e=i*t+"x"+n*t),e},bizagi.util.getDeviceCode=function(){return bizagi.util.isMobileDevice()?"undefined"==typeof BIZAGI_DEVICE_MARKET_NAME||bizagi.util.isEmpty(BIZAGI_DEVICE_MARKET_NAME)?"":BIZAGI_DEVICE_MARKET_NAME:bizagi.util.getDesktopResolution()},bizagi.util.normalizeType=function(e){return void 0===e?e:e.replace(/smartphone/,"").replace(/tablet/,"").replace(/offline/,"")},bizagi.util.normalizeQueryType=function(e){return void 0===e?e:e.replace(/query/,"").toLowerCase()},bizagi.util.hideOrShowXToCloseDialog=function(e,t){var i=".ui-dialog-titlebar-close";t?$(i,e).show():$(i,e).hide()},bizagi.util.isEnableFeature=function(e){return void 0===bizagi.features&&(bizagi.features=[]),!1!==bizagi.features[e]},bizagi.util.isHtml=function(e){return/<[a-z][\s\S]*>/i.test(e)},bizagi.util.tryCatch=function(e,t){try{return e()}catch(e){return"function"==typeof t?t():t}},bizagi.util.pipe=function(e,t){var i=void 0===t?[]:t;return i.push(e),{next:function(e){return bizagi.util.pipe(e,i)},end:function(e){return i.reduce((function(e,t){return t(e)}),e)}}},function(e){var t=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},i=function(e){return/(auto|scroll)/.test(function(e){return t(e,"overflow")+t(e,"overflow-y")+t(e,"overflow-x")}(e))};e.scrollerParent=function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=function e(t,i){return null===t.parentNode?i:e(t.parentNode,i.concat([t]))}(e.parentNode,[]),n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return document.scrollingElement||document.documentElement}}}(jQuery),bizagi.util.startkendo=function(e){void 0===bizagi.kendoMobileApplication?(bizagi.kendoMobileApplication=new kendo.mobile.Application($("body"),{skin:"flat",browserHistory:!1,init:function(t){kendo.ui.progress($(".km-flat"),!0),e.started&&e.started()}}),bizagi.kendoMobileApplication.bizagiNavigate=function(e,t){this.navigate(e,t)}):e.started&&e.started()},bizagi.util.isMashupContext=function(){return"undefined"!=typeof BIZAGI_MASHUP_CONTEXT&&!0===bizagi.util.parseBoolean(BIZAGI_MASHUP_CONTEXT)},bizagi.util.isSharepointContext=function(){return"undefined"!=typeof BIZAGI_SHAREPOINT_CONTEXT&&!0===bizagi.util.parseBoolean(BIZAGI_SHAREPOINT_CONTEXT)},bizagi.util.isWebpartContext=function(){return"undefined"!=typeof isWebpart&&!0===bizagi.util.parseBoolean(isWebpart)},bizagi.util.startTimeline=function(e){(new bizagi.workportal.widgets.widget).showTimeLine(e)},bizagi.util.startGraphicquery=function(e){(new bizagi.workportal.widgets.widget).showGraphicQuery(e)},bizagi.util.startSelectUser=function(){return function(e,t){var i=$.Deferred();(new bizagi.workportal.widgets.widget).showSelectUser(i),i.done((function(t,i,n){e({userId:t,userName:i,guid:n})})).fail((function(){e({})}))}},bizagi.util.isEmptyValue=function(e){if(0===e)return!1;if(null==e||""===e)return!0;if("Array"==typeof e)return 0===e.length;if("[object Array]"===Object.prototype.toString.apply(e))return 0===e.length;if("[object Object]"===Object.prototype.toString.apply(e)){for(var t in e)if(e.hasOwnProperty(t)&&!bizagi.util.isEmptyValue(e[t]))return!1;return!0}return!1},bizagi.util.initializeReferrerParams=function(){bizagi.referrerParams||(bizagi.referrerParams={})},bizagi.util.getLPQueriesParameters=function(){return bizagi.util.initializeReferrerParams(),bizagi.referrerParams.sidebarData},bizagi.util.getLPQueriesSelectedItemFromTree=function(){return bizagi.util.initializeReferrerParams(),bizagi.referrerParams.selectedTreeItem},bizagi.util.setLPQueriesParameters=function(e,t){bizagi.util.initializeReferrerParams(),bizagi.referrerParams.sidebarData=e,bizagi.referrerParams.selectedTreeItem=t},bizagi.util.cleanLPQueriesParameters=function(){bizagi.referrerParams&&(bizagi.referrerParams.sidebarData=null,bizagi.referrerParams.selectedTreeItem=null)},bizagi.util.setLPQueriesReferrer=function(){bizagi.referrerParams.referrer="LPQueries"},bizagi.util.isConnected=function(){return bizagi.util.isNativeMobileDevice()?!navigator||void 0===navigator.connection||"undefined"==typeof Connection||!(navigator.connection.type==Connection.NONE||"unknown"==navigator.connection.type):!bizagi.util.isMobileDevice()||"debug"!==(""+BIZAGI_ENVIRONMENT).toLowerCase()||(!window.navigator||window.navigator.onLine)},bizagi.util.isRenderingUrlAllowed=function(e){for(var t,i=["Rest/(Handlers|Userfields|DocumentTemplates|(Processes(?!/(RecentProcesses|OfflineProcessTree)))|Cases|Authentication|Users)","Api/(Authentication|Entities|Users)"],n=(e||"").replaceAll("../","").replaceAll("./","");t=i.shift();){var r=new RegExp(t,"i");if(null!==n.match(r))return!0}return!1},bizagi.util.applyEyeFunction=function(e){function t(t){$(t,e).parent().find("svg").remove(),$(t,e).after('<svg  class=\'eye_show_icon\'  xmlns="http://www.w3.org/2000/svg" width="16" height="16">\n<path d="M15 7.8C14.9 7.6 12.7 3 8 3S1.1 7.6 1 7.8v.4c.1.2 2.3 4.8 7 4.8s6.9-4.6 7-4.8v-.4zM8 12c-3.5 0-5.5-3.1-5.9-4 .4-.9 2.4-4 5.9-4 3.5 0 5.5 3.1 5.9 4-.4.9-2.4 4-5.9 4z"/>\n<path d="M8 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 3c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"/></svg>'),$(t,e).parent().find("input[type='text']").attr("type","password"),$(t,e).parent().find("svg").click(n(!0))}function i(t){$(t,e).parent().find("svg").remove(),$(t,e).after('<svg class=\'eye_hide_icon\' xmlns="http://www.w3.org/2000/svg" width="16" height="16">\n<path d="M3.6 10.5l.7-.7a12.1 12.1 0 0 1-2-1.6C3.1 7.3 5.4 5 8 5h1l.8-.8A6 6 0 0 0 8 4C4.3 4 1.4 7.8 1.2 7.9l-.2.3.3.3a12.3 12.3 0 0 0 2.3 2zm8.7-4.9l-.7.7a12.4 12.4 0 0 1 2.1 1.9C12.9 9 10.6 11 8 11H7l-.8.8L8 12c3.7 0 6.6-3.3 6.7-3.5l.3-.3-.2-.3a12.8 12.8 0 0 0-2.5-2.3zM1.5 15h-.4a.5.5 0 0 1 0-.7l13-13a.5.5 0 1 1 .7.7l-13 13h-.3z"/><path d="M6.3 7.8a1.7 1.7 0 0 1 1.5-1.5l.9-.9H8A2.7 2.7 0 0 0 5.3 8a2.7 2.7 0 0 0 .1.7l.9-.9zm3.4.4a1.7 1.7 0 0 1-1.5 1.5l-.9.9H8A2.7 2.7 0 0 0 10.7 8a2.7 2.7 0 0 0-.1-.7l-.9.9z"/></svg>'),$(t,e).parent().find("input[type='password']").attr("type","text"),$(t,e).parent().find("svg").click(n(!0))}function n(n){return function(r){if(n){var a=$(this).attr("class")||"",o=$(this).parent().find("input");"eye_show_icon"===a?i(o):t(o)}else $($(r,e).parent().find("svg")[0]).click((function(e){var n=$(this).attr("class")||"",r=$(this).parent().find("input");"eye_show_icon"===n?i(r):t(r)}))}}$(e).find("input[type='password']").map((function(e,i){e>0&&(t(i),n(!1)(i))}))},bizagi.util.accessibilityEnter=function(e,t,i){if("function"!=typeof t)throw new Error('Error in "accessibilityEnter" function: You must provide a valid callback');-1!==(i=$.isArray(i)?i:[]).indexOf("click")||i.push("click"),e.bind("keypress",(function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),13!==e.which&&32!==e.which||t(e)})),e.bind(i.join(", "),(function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),t(e)}))},bizagi.util.recreateNativeButtons=function(e){var t=e.getFormContainer().getParams();if(bizagi.util.isNativePluginSupported()&&bizagi.util.isiOSSmartphoneDevice()){var i=t.navigation;void 0!==i&&i.setNavigationButtons(e)}},bizagi.util.isOverrideFeatureEnabled=function(e){var t=bizagi.override&&bizagi.override[e]||null;return!0===bizagi.util.parseBoolean(t)},bizagi.util.createDynamicClass=function(nameClass,renderParams){if(nameClass)try{var dynamicFunction="var dynamicFn = function(renderParams){ \r\n";return dynamicFunction+="return new "+nameClass+"(renderParams);\r\n",dynamicFunction+="}\r\n",dynamicFunction+="dynamicFn",dynamicFunction=eval(dynamicFunction),dynamicFunction(renderParams)}catch(e){console.log(e)}return null},bizagi.util.languages={es:"es","es-ES":"es","es-AR":"es","es-BO":"es","es-Cl":"es","es-CO":"es","es-CR":"es","es-DO":"es","es-EC":"es","es-SV":"es","es-GT":"es","es-HN":"es","es-MX":"es","es-NI":"es","es-PA":"es","es-PY":"es","es-PR":"es","es-PE":"es","es-US":"es","es-UY":"es","es-VE":"es",en:"en-US","en-AU":"en-US","en-BZ":"en-US","en-CA":"en-US","en-029":"en-US","en-IN":"en-US","en-IE":"en-US","en-JM":"en-US","en-MY":"en-US","en-NZ":"en-US","en-PH":"en-US","en-SG":"en-US","en-ZA":"en-US","en-TT":"en-US","en-GB":"en-US","en-US":"en-US","en-ZW":"en-US",de:"de","de-AT":"de","de-DE":"de","de-LI":"de","de-LU":"de","de-CH":"de",fr:"fr","fr-BE":"fr","fr-CA":"fr","fr-LU":"fr","fr-MC":"fr","fr-CH":"fr","fr-FR":"fr",it:"it","it-IT":"it","it-CH":"it",ja:"ja","ja-JA":"ja","ja-JP":"ja",nl:"nl","nl-NL":"nl","nl-BE":"nl",pt:"pt-PT","pt-BR":"pt-PT","pt-PT":"pt-PT",ru:"ru","ru-RU":"ru",cs:"cs","cs-CZ":"cs",ar:"ar","ar-DZ":"ar","ar-BH":"ar","ar-EG":"ar","ar-IQ":"ar","ar-JO":"ar","ar-KW":"ar","ar-LB":"ar","ar-LY":"ar","ar-MA":"ar","ar-OM":"ar","ar-QA":"ar","ar-SA":"ar","ar-SY":"ar","ar-TN":"ar","ar-AE":"ar","ar-YE":"ar",zh:"zh","zh-HK":"zh","zh-MO":"zh","zh-CN":"zh","zh-Hans":"zh","zh-SG":"zh","zh-TW":"zh","zh-Hant":"zh"},bizagi.util.getNormalizedDate=function(e,t,i){var n=e;try{e&&"string"==typeof e&&(n=bizagi.util.dateFormatter.getDateFromInvariant(e,i)),n&&0!==n&&null!=n&&(i?n.setMilliseconds(0):n.setHours(0,0,0,0),n=bizagi.util.dateFormatter.formatDate(n,t))}catch(e){}return n},bizagi.util.isFeatureEnabled=function(e){var t=bizagi.override&&bizagi.override[e];return bizagi.util.parseBoolean(t)},bizagi.util.getLastProcessInboxKey=function(){var e="lastProcessInbox";return e=e.concat("_",bizagi.util.getUserHash())},bizagi.util.lastProcessInboxInit=function(){bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(bizagi.util.getLastProcessInboxCreate()))},bizagi.util.getLastProcessInboxCreate=function(){return{processInfo:bizagi.util.createLastProcessInboxProcess(),sortInfo:bizagi.util.createLastProcessInboxSort(),filterInfo:bizagi.util.createLastProcessInboxFilter(),processColumnsInfo:bizagi.util.createLastProcessInboxColumns(),inputTrayInfo:bizagi.util.createLastProcessInboxInputTray()}},bizagi.util.createLastProcessInboxProcess=function(){return{processInfoName:null,idWorkflow:-1}},bizagi.util.createLastProcessInboxSort=function(){return{sortDirection:"asc",sortFieldName:null,sortOrder:null}},bizagi.util.createLastProcessInboxFilter=function(){return{filterValue:null,filterFieldName:null,filterType:"equal"}},bizagi.util.createLastProcessInboxColumns=function(){return{processColumns:[]}},bizagi.util.createLastProcessInboxInputTray=function(){return"inbox"},bizagi.util.getLastProcessInbox=function(){var e=bizagi.util.getItemLocalStorage(bizagi.util.getLastProcessInboxKey());return e||(bizagi.util.lastProcessInboxInit(),e=bizagi.util.getItemLocalStorage(bizagi.util.getLastProcessInboxKey())),JSON.parse(e)},bizagi.util.setLastProcessInbox=function(e,t,i){var n=bizagi.util.getLastProcessInbox();n.processInfo&&(n.processInfo.idWorkflow!=t?n.processColumnsInfo=null:bizagi.util.isEmpty(i)||n.processInfo.smartInboxId==i||(n.processColumnsInfo=null)),n.processInfo.processInfoName=e,n.processInfo.idWorkflow=parseInt(t||-1),n.processInfo.smartInboxId=void 0!==i?i:null,n.filterInfo&&(n.filterInfo=bizagi.util.createLastProcessInboxFilter()),bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(n))},bizagi.util.setLastProcessInboxProcessColumns=function(e){var t=bizagi.util.getLastProcessInbox();t.processColumnsInfo=t.processColumnsInfo||{},t.processColumnsInfo.processColumns=e||[],bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(t))},bizagi.util.getLiveFiltersFromStorage=function(e){var t=[],i=bizagi.util.getItemLocalStorage("livefilters");try{var n=JSON.parse(i);t=void 0!==n[e]?JSON.parse(n[e]):t}catch(e){t=[]}return t},bizagi.util.setLiveFiltersToStorage=function(e,t){var i=bizagi.util.getItemLocalStorage("livefilters")||"[]",n=JSON.parse(i);n[e]=JSON.stringify(t),bizagi.util.setItemLocalStorage("livefilters",JSON.encode(Object.assign({},n)))},bizagi.util.setLastProcessInboxLiveFilter=function(e){var t=bizagi.util.getLastProcessInbox();t.liveFilters=e||[],bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(t))},bizagi.util.setLastProcessInboxSort=function(e,t,i){var n=bizagi.util.getLastProcessInbox();n.sortInfo.sortFieldName=e||null,n.sortInfo.sortDirection=t||"asc",n.sortInfo.sortOrder=i||null,bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(n))},bizagi.util.setLastProcessInboxFilter=function(e,t,i){var n=bizagi.util.getLastProcessInbox();n.filterInfo.filterValue=e||null,n.filterInfo.filterFieldName=t||null,n.filterInfo.filterType=i||"equal",bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(n))},bizagi.util.setLastProcessInboxInputTray=function(e){var t=bizagi.util.getLastProcessInbox();t.inputTrayInfo=e||"",bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(t))},bizagi.util.getLastProcessInboxProcessInfo=function(){var e=bizagi.util.getLastProcessInbox();return bizagi.localization&&null==e.processInfo.processInfoName&&(e.processInfo.processInfoName=bizagi.localization.getResource("workportal-widget-inbox-all-processes")),e.processInfo.allProcesses=-1===e.processInfo.idWorkflow,e.processInfo},bizagi.util.getLastProcessInboxSmartInboxId=function(){return bizagi.util.getLastProcessInbox().processInfo.smartInboxId},bizagi.util.getLastProcessInboxSort=function(){return bizagi.util.getLastProcessInbox().sortInfo},bizagi.util.getLastProcessInboxFilter=function(){return bizagi.util.getLastProcessInbox().filterInfo},bizagi.util.getLastProcessInboxLiveFilter=function(){return bizagi.util.getLastProcessInbox().liveFilters},bizagi.util.getLastProcessInboxProcessColumns=function(){return bizagi.util.getLastProcessInbox().processColumnsInfo},bizagi.util.getLastProcessInboxInputTray=function(){return bizagi.util.getLastProcessInbox().inputTrayInfo},bizagi.util.removeLastProcessInbox=function(){bizagi.util.removeItemLocalStorage(bizagi.util.getLastProcessInboxKey())},bizagi.util.removeLastProcessInboxSort=function(){var e=bizagi.util.getLastProcessInbox();e&&e.sortInfo&&(e.sortInfo=bizagi.util.createLastProcessInboxSort(),bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(e)))},bizagi.util.removeLastProcessLiveFilters=function(){var e=bizagi.util.getLastProcessInbox();e&&e.liveFilters&&(e.liveFilters=[],bizagi.util.setItemLocalStorage(bizagi.util.getLastProcessInboxKey(),JSON.stringify(e)))},bizagi.util.getSyncTimeStampKey=function(){var e="syncTimeStamp";return e=e.concat("_",bizagi.util.getUserHash())},bizagi.util.storeSyncTimeStamp=function(e){bizagi.util.setItemLocalStorage(bizagi.util.getSyncTimeStampKey(),e.toString())},bizagi.util.getSyncTimeStamp=function(){var e=bizagi.util.getItemLocalStorage(bizagi.util.getSyncTimeStampKey());return e?new Date(e):void 0},bizagi.util.getUserHash=function(){return("undefined"!=typeof BIZAGI_USER?(BIZAGI_USER+"-"+BIZAGI_PROXY_PREFIX+"-"+BIZAGI_DOMAIN).toLowerCase():"admon-http://localhost/bizagiR100x-domain").hashCode()},bizagi.util.defaultWidget=function(e){var t=bizagi.services.preferences(),i=bizagi.workportal.widgets.widget,n={set:function(e){bizagi.cookie("bizagiDefaultWidget",e,{expires:30})},get:function(){return bizagi.cookie("bizagiDefaultWidget")}},r={set:function(e){var i="inbox"===e?"DETAIL":"TABLE";t.changePreference(t.name.INBOX_VIEW_TYPE,i)},get:function(){var e=t.getPreference(t.name.INBOX_VIEW_TYPE);return"DETAIL"===e?i.BIZAGI_WORKPORTAL_WIDGET_INBOX:i.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID}},a=bizagi.util.isMobile?n:r;return void 0!==e&&a.set(e),a.get()},bizagi.util.getMobileFeaturesKey=function(){var e="undefined"!=typeof BIZAGI_USER?(BIZAGI_USER+"-"+BIZAGI_PROXY_PREFIX+"-"+BIZAGI_DOMAIN).toLowerCase():"admon-http://localhost/bizagiR100x-domain",t="mobileFeatures";return t=t.concat("_",e)},bizagi.util.getMobileFeatures=function(){var e=bizagi.util.getItemLocalStorage(bizagi.util.getMobileFeaturesKey());return $.extend(bizagi.util.isEmpty(e)?{}:JSON.parse(e),bizagiConfig.features)},bizagi.util.storeMobileFeatures=function(e){var t=bizagi.util.getMobileFeatures(),i=$.extend(t,e);bizagi.util.setItemLocalStorage(bizagi.util.getMobileFeaturesKey(),JSON.stringify(i))},bizagi.util.getCardviewMaxColumsAllowed=function(){var e=100,t=bizagi.util.getMobileFeatures();return t&&t.maxColumnsEnabled&&!0===t.maxColumnsEnabled.enabled&&(e=t.maxColumnsEnabled.value),e},bizagi.util.blobTob64=function(e,t){var i=new $.Deferred,n=new FileReader;return n.readAsDataURL(e),n.onloadend=function(){base64data=n.result,t&&(base64data=base64data.split(",")[1]),i.resolve(base64data)},i},bizagi.util.blobToText=function(e){var t=new $.Deferred,i=new FileReader;return i.readAsText(e),i.onloadend=function(){t.resolve(i.result)},t.promise()},bizagi.util.getDataUrl=function(e){var t;try{if(void 0===e.value||bizagi.util.isEmpty(e.value))t=e.url||"";else{var i=e.value,n=i.value||i;if(Array.isArray(n)){var r=n.shift();t=Array.isArray(r)?r.join(""):r}else t=n}(t=bizagi.util.isEmpty(t)?"":"data:image/png;base64,"+t.replace(/^data:.*;base64,/,""))&&-1!==t.indexOf("Invalid case id")&&(t="")}catch(e){t=""}return t},bizagi.util.getDataUrl=function(e,t){var i;try{if(void 0===e||bizagi.util.isEmpty(e))i=t||"";else{var n=e,r=n.value||n;if(Array.isArray(r)){var a=r.shift();i=Array.isArray(a)?a.join(""):a}else i=r}(i=bizagi.util.isEmpty(i)?"":"data:image/png;base64,"+i.replace(/^data:.*;base64,/,""))&&-1!==i.indexOf("Invalid case id")&&(i="")}catch(e){i=""}return i},bizagi.util.console={},bizagi.util.console.log=function(){if("Bugsee"in window||bizagi.util.isCordovaSupported()){var e=Array.prototype.slice.call(arguments),t=e[0],i=e.length>1?e.slice(1):null;if(i)try{return void console.log("BUGSEE: "+t+" \r\n"+JSON.encode(i))}catch(e){}}console.log.apply(this,arguments)},bizagi.util.console.error=function(){if("Bugsee"in window||bizagi.util.isCordovaSupported()){var e=Array.prototype.slice.call(arguments),t=e[0],i=e.length>1?e.slice(1):null;if(i)try{return void console.error("BUGSEE: "+t+" \r\n"+JSON.encode(i))}catch(e){}}console.error.apply(this,arguments)},bizagi.util.deepExtend=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var n in i)i.hasOwnProperty(n)&&("object"===_typeof(i[n])?i[n]instanceof Array==1?e[n]=i[n].slice(0):e[n]=deepExtend(e[n],i[n]):e[n]=i[n])}return e},bizagi.util.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var i in arguments[t])arguments[t].hasOwnProperty(i)&&(e[i]=arguments[t][i]);return e},bizagi.util.getColumnType=function(e){if(void 0===e)return"default";var t=e.replace("column","").toLowerCase();return bizagi.util.normalizeType(t)},bizagi.util.mapAlignClassName=function(e){return{rigth:"flex-end",left:"flex-start",justify:"flex-start",default:"center",center:"center"}[e]||"center"},bizagi.util.isMobileErrorTracesEnabled=function(){var e=!1,t=bizagi.util.getMobileFeatures();return t&&t.mobileErrorTraces&&!0===t.mobileErrorTraces.enabled&&(e=!0),e&&bizagi.util.isTabletDevice()},bizagi.util.isMobileSmartInboxEnabled=function(){var e=!1,t=bizagi.util.getMobileFeatures();return t&&t.mobileSmartInbox&&!0===t.mobileSmartInbox.enabled&&(e=!0),e&&bizagi.util.isTabletDevice()},bizagi.util.isMobileLiveFiltersEnabled=function(){var e=!1,t=bizagi.util.getMobileFeatures();return t&&t.mobileLiveFilters&&!0===t.mobileLiveFilters.enabled&&(e=!0),e&&bizagi.util.isTabletDevice()},bizagi.util.getColumnType=function(e){if(void 0===e)return"default";var t=e.replace("column","").toLowerCase();return bizagi.util.normalizeType(t)},$.any=function(e,t){if(void 0===e||null==e||0==e.length)return!1;var i=$.grep(e,t);return null!=i&&void 0!==i&&i.length>0},$.first=function(e,t){if(void 0===e||null==e||0==e.length)return null;var i=$.grep(e,t);return null==i||void 0===i||0==i.length?null:i[0]},$.groupBy=function(e,t){if(void 0===e||null==e||0==e.length)return{};var i={};return $.each(e,(function(e,n){void 0!==n&&(void 0===i[n[t]]&&(i[n[t]]=[]),i[n[t]].push(n))})),i},bizagi.util.downloadBlobFile=function(e,t){if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var i=window.URL.createObjectURL(e),n=document.createElement("a");n.style="display: none",document.body.appendChild(n),n.href=i,n.download=t,n.click(),window.URL.revokeObjectURL(i),n.parentNode.removeChild(n)}},bizagi.util.handleJSONResponse=function(e){var t=new $.Deferred;return e&&/application\/json/i.test(e.type)?bizagi.util.blobToText(e).then((function(i){"error"===JSON.parse(i).type?t.reject(i):t.resolve(e)})).fail((function(e){t.reject(e)})):t.resolve(e),t.promise()},bizagi.util.bzValidator=function(e){var t=[],i=[];return{add:function(e,i){return"function"==typeof e?t.push({callback:e,message:i}):console.warn("Callback is not a function"),this},validate:function(n){i=[];try{t&&t.length>0?t.forEach((function(t){var n=t.callback(e);bizagi.util.isBoolean(n)?n||i.push(t.message||"Validation error"):i.push("Callback evaluation is not a function: "+t.message)})):i.push("There are not validators added")}catch(e){console.warn(e)}return n({errors:i}),t=[],this},isValid:function(){return i&&!i.length}}},$.expr.cacheLength=1,bizagi.initialized||initBizagi(),bizagi.util.isIE8&&bizagi.util.isIE8()&&(Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e instanceof Array}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var i=this.length>>>0,n=0;n<i;n++)n in this&&e.call(t,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(e){for(var t=this.length>>>0,i=new Array(t),n=arguments[1],r=0;r<t;r++)r in this&&(i[r]=e.call(n,this[r],r,this));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){for(var t=[],i=arguments[1],n=0;n<this.length;n++)e.call(i,this[n])&&t.push(this[n]);return t}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=this.length>>>0,i=0;if(0===t&&1===arguments.length)throw new TypeError;if(arguments.length>=2)var n=arguments[1];else for(;;){if(i in this){n=this[i++];break}if(++i>=t)throw new TypeError}for(;i<t;i++)i in this&&(n=e.call(null,n,this[i],i,this));return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=arguments[1]||0;if(!t)return-1;if(i>=t)return-1;for(i<0&&(i+=t);i<t;i++)if(Object.prototype.hasOwnProperty.call(this,i)&&e===this[i])return i;return-1}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t})),$.Class.extend("bizagi.login_multiple.message",{},{init:function(e,t){this.wrapper=t||$("<div></div>"),this.messageWrapper=t,this.errorBuffer=[],this.successBuffer=[],this.messageTemplate=e.getTemplate("login-error-message")},addErrorMessage:function(e){this.errorBuffer.push(e)},addSuccessMessage:function(e){this.successBuffer.push(e)},cleanErrorsQueue:function(){this.errorBuffer=[]},cleanSuccessQueue:function(){this.successBuffer=[]},showErrors:function(){var e=$.tmpl(this.messageTemplate,{messages:this.errorBuffer});this.wrapper.empty(),this.wrapper.append(e),this.cleanErrorsQueue(),this.wrapper.show()},showSuccess:function(){var e=$.tmpl(this.messageTemplate,{messages:this.successBuffer});e.addClass("success"),this.wrapper.empty(),this.wrapper.append(e),this.cleanSuccessQueue(),this.wrapper.show()},hideErrors:function(){this.wrapper.hide()},hasErrors:function(){return this.errorBuffer.length>0},hasSuccess:function(){return this.successBuffer.length>0},showWidgetCustomMessage:function(e,t,i,n){var r=bizagi.localization.getMessageFromLocalization(e,t,i,n);this.addErrorMessage(r),this.showErrors()}}),$.Class.extend("bizagi.render.services.context",{},{init:function(e){var t=(e=e||{}).proxyPrefix||"";this.endPoint={generalAuthentication:t+"Rest/Authentication",authenticationUser:t+"Api/Authentication/User",quickLoginUsers:t+"Rest/Authentication/Users",authenticationConfig:t+"Api/Authentication/BizagiConfig",authenticationDomains:t+"Rest/Authentication/Domains",readUserCookies:t+"Api/Authentication/ReadUserCookies",userSamlSession:t+"Rest/Users/SamlSession",oauth2IdPServerLoginPage:t+"Api/Authentication/OAuth2/IdentityProvider/Server/LoginPage",oauth2IdPServerValidateSession:t+"Api/Authentication/OAuth2/IdentityProvider/Server/ValidateSession",oauth2RedirectAuthorizacionData:t+"Api/Authentication/OAuth2/OAuth2RedirectAuthorizacionData",oauth2RedirectAuthorizacionDataAsServer:t+"Api/Authentication/OAuth2/OAuth2RedirectAuthorizacionDataAsServer",oauth2AuthSynctoken:t+"Api/Authentication/OAuth2/AuthenticateWithSyncToken",federateLoginUrl:t+"Api/Authentication/FederateLoginUrl",logo:t+"Api/Theme/Current/Logo",verifyCode:t+"Api/Authentication/OAuth2/IdentityProvider/Server/ValidateCode",resendVerifyCode:t+"Api/Authentication/User/SendCode",multipleAuthenticatorConfig:t+"Api/Authentication/User/MultipleAuthenticator/Config"}},getUrl:function(e){return this.endPoint[e]||""}}),$.Class.extend("bizagi.login_multiple.services.service",{},{init:function(e){this.serviceLocator=new bizagi.render.services.context(e),this.defaultParams=e},getConfiguration:function(){var e=window.sessionStorage.getItem("BizagiConfiguration");if(e){var t=new $.Deferred;return t.resolve(JSON.parse(e)),t.promise()}var i=this.serviceLocator.getUrl("authenticationConfig");return $.read(i)},userLogin:function(e){var t=this.serviceLocator.getUrl("oauth2IdPServerLoginPage"),i=e.type||"";if(i&&("oauth2AsServer"==i||"oauth2AsBridge"==i)){var n=e.oAuth2InternalState||"";n&&(e.oAuth2InternalState=n,t=this.serviceLocator.getUrl("oauth2IdPServerLoginPage"))}return $.create(t,e)},getQuickLoginUserList:function(e){var t=this.serviceLocator.getUrl("quickLoginUsers")+"?domain="+e;return $.read(t)},readUserCookies:function(){var e=this.serviceLocator.getUrl("readUserCookies");return $.read(e)},getLogo:function(){return $.read({url:this.serviceLocator.getUrl("logo")}).pipe((function(e){var t={};if(void 0!==e.logo)try{var i=JSON.parse(e.logo);t.logo=i.login}catch(e){}return t}))},verifyCode:function(e){var t=this.serviceLocator.getUrl("verifyCode");return $.create(t,e)},resendVerifyCode:function(e){var t=this.serviceLocator.getUrl("resendVerifyCode");return $.create(t,e)}}),$.Class.extend("bizagi.login_multiple.widgets.login",{},{init:function(e,t){this.loginFacade=e,this.dataService=t,this.content},renderContent:function(e){var t=this,i=new $.Deferred,n=t.loginFacade.getTemplate("login-wrapper"),r="",a=("release"===BIZAGI_ENVIRONMENT?"jquery/production/"+bizagi.loader.productBuild+"/desktop/css/":"jquery/loginexternal_multiple/css/desktop/")+"images/logo-bizagi-suite.svg";return t.params=e||{},$.when(t.dataService.getLogo()).done((function(e){var o=e.logo,s=void 0!==o&&""!=o?o:a;r=$.tmpl(n,{logo:s}),t.content=r,i.resolve(r)})).fail((function(e){r=$.tmpl(n,{logo:a}),t.content=r,i.resolve(r)})),i.promise()},getContent:function(){return this.content}}),$.Class.extend("bizagi.login_multiple.widgets.requestcode",{},{init:function(e,t){this.loginFacade=e,this.dataService=t,this.content},renderContent:function(e){var t=this,i=new $.Deferred,n=t.loginFacade.getTemplate("login-wrapper"),r="",a=("release"===BIZAGI_ENVIRONMENT?"jquery/production/"+bizagi.loader.productBuild+"/desktop/css/":"jquery/loginexternal_multiple/css/desktop/")+"images/ico-bizagi.png";return t.params=e||{},$.when(t.dataService.getLogo()).done((function(e){var o=e.logo,s=void 0!==o&&""!=o?o:a;r=$.tmpl(n,{logo:s}),t.content=r,i.resolve(r)})).fail((function(e){r=$.tmpl(n,{logo:a}),t.content=r,i.resolve(r)})),i.promise()},getContent:function(){return this.content}}),$.Class.extend("bizagi.login_multiple.widgets.quicklogin",{},{init:function(e,t){this.loginFacade=e,this.dataService=t,this.content},renderContent:function(e){var t=this,i=new $.Deferred,n=t.loginFacade.getTemplate("login-wrapper"),r="",a=("release"===BIZAGI_ENVIRONMENT?"jquery/production/"+bizagi.loader.productBuild+"/desktop/css/":"jquery/loginexternal_multiple/css/desktop/")+"images/logo-bizagi-suite.svg";return t.params=e||{},$.when(t.dataService.getLogo()).done((function(e){var o=e.logo,s=void 0!==o&&""!=o?o:a;r=$.tmpl(n,{logo:s}),t.content=r,i.resolve(r)})).fail((function(e){r=$.tmpl(n,{logo:a}),t.content=r,i.resolve(r)})),i.promise()},getContent:function(){return this.content}}),bizagi.login_multiple.widgets.login.extend("bizagi.login_multiple.widgets.login",{},{init:function(e,t){this._super(e,t)},postRender:function(e){var t=this,i=t.loginFacade.getTemplate("normal-login"),n=t.getContent();if(t.params=e||{},t.params.domains=Object.keys(t.params.multipleAuthenticator).map((function(e){return{value:e,displayName:t.params.multipleAuthenticator[e].domainDisplayName}})),t.params.noDomains=0===t.params.domains.length,t.params.uniqueDomain=1===t.params.domains.length,"BizAgi"==e.authenticationType||"Bizagi"==e.authenticationType||"Mixed"==e.authenticationType||"Windows"==e.authenticationType)var r="true";var a=$.tmpl(i,{loginConfig:t.params,domains:t.params.domains,isBizagiAuthentication:r,isAdminLoginRequired:bizagi.util.parseBoolean(t.params.isAdminLoginRequired),authenticationType:t.params.authenticationType});$("#form-content",n).append(a),t.messageController=new bizagi.login_multiple.message(t.loginFacade,$("#login-message-wrapper",n)),t.whenVisible(a,(function(){if(t.showStep(1),t.getParameterByName("b_username")){var i=t.getParameterByName("b_username").split("\\");switch(t.removeReadOnly($("#user",n),!1),i.length){case 1:$("#user",n).val(decodeURI(i[0]));break;case 2:var r=decodeURI(i[0]);t.isValidDomain(r)&&($("#user",n).val(decodeURI(i[1])),t.selectDomain(t,r))}}else e.user&&$("#user").val(e.user),e.domain&&t.isValidDomain(e.domain)?t.selectDomain(t,e.domain):t.params.selectedDomain&&t.selectDomain(t,t.params.selectedDomain);if(t.getParameterByName("b_origin")&&"native"===t.getParameterByName("b_origin"))$(".bzg-login__options").detach();else if(e.selectedCheck){var a="";"saveAccount"==e.selectedCheck?(a="rbSaveAccount",$("#"+a,".bzg-login__options").attr("checked","checked")):a="rbAskAlways"}t.eventHandler(),t.params.uniqueDomain&&($("#domain",n).get(0).selectedIndex=1,t.selectDomain(t,t.params.domains[0]))}))},whenVisible:function(e,t){var i=setInterval((function(){$(e).is(":visible")&&(clearInterval(i),t())}),1)},eventHandler:function(){var e=this,t=e.getContent(),i=$("#user",t),n=$("#password",t),r=e.loginFacade.oAuthParameters||{};$("#user,#password",t).keypress((function(e){13==e.which&&$("#btn-login",t).click()})),e.interval=setInterval((function(){var e=$("form");e[0].checkValidity()?$("#btn-login",e).addClass("valid"):$("#btn-login",e).removeClass("valid")}),500),$("#btn-login",t).on("click",(function(t){$("#login-message-wrapper").text("");var a=t.target;if($(a).hasClass("valid")){e.generalAuthentication({user:i.val(),password:n.val(),domain:e.params.selectedDomain,loginOption:"alwaysAsk",type:r.type||"",oAuth2InternalState:r.oAuth2InternalState||"",keepAuthentication:r.oauth2sso||"true"})}})),$("#domain",t).change((function(){var t=this.value;e.isValidDomain(t)&&e.selectDomain(e,t)})),$("#action_goto_step1",t).click((function(){e.showStep(1)})),"desktop"!==bizagi.util.detectDevice()&&($("#user,#password",t).on("focus",(function(e){var t=e.target;$(t).closest(".bzg-input-tm").find(".control-label").addClass("valid")})),$("#user,#password",t).on("focusout",(function(e){var t=e.target;""===t.value&&$(t).closest(".bzg-input-tm").find(".control-label").removeClass("valid")}))),i.click((function(){e.removeReadOnly(i,!0)}))},selectDomain:function(e,t){e.dataService.defaultParams.runMultipleAuthenticationType({domain:t}).done((function(i){switch(e.params.selectedDomain=t,i){case"BIZAGI_LOGIN_WIDGET_QUICKLOGIN":e.loginFacade.changeWidget("BIZAGI_LOGIN_WIDGET_QUICKLOGIN",{selectedDomain:e.params.selectedDomain});break;default:console.log("response",i),$("#domain").val(e.params.selectedDomain),e.showStep(2)}})).fail((function(t){e.messageController.showWidgetCustomMessage("generic","error")}))},isValidDomain:function(e){return"string"==typeof e&&e.trim().length>0&&this.params.domains.filter((function(t){return t.value===e})).length>0},showStep:function(e){var t=this;if(!t.params.noDomains){var i=function(e){$(".login-field__title + p",n).text(e)};t.messageController&&(t.messageController.cleanErrorsQueue(),t.messageController.showErrors(),t.messageController.cleanSuccessQueue(),t.messageController.showSuccess());var n=t.getContent();switch(e){case 1:$(".bzg-login_multiple__options",n).hide(),$(".bzg-login_multiple__actions",n).hide(),$("#action_goto_step1",n).style("display","none"),$(".login-external-credentials",n).hide(),$("#domain",n).prop("disabled",!1),i(bizagi.localization.getResource("workportal-widget-login-multiple-first-select-domain")),$("#domain",n).get(0).selectedIndex=0;break;case 2:$(".bzg-login_multiple__options",n).show(),$(".bzg-login_multiple__actions",n).show(),$("#action_goto_step1",n).style("display","flex"),$(".login-external-credentials",n).show();var r=t.params.domains.filter((function(e){return e.value===t.params.selectedDomain}))[0];$("#domain",n).prop("disabled",!0).prop("title",r?r.displayName+" ("+r.value+")":""),i(bizagi.localization.getResource("workportal-widget-login-multiple-enter-username-password"))}}},removeReadOnly:function(e,t){e.length>0&&e[0].hasAttribute("readonly")&&(e.removeAttr("readonly"),void 0!==t&&!0!==t||(e.blur(),e.focus()))},generalAuthentication:function(e){var t=this;""===e.user&&t.messageController.addErrorMessage(bizagi.localization.getResource("login-user-name-empty")),""===e.password&&t.messageController.addErrorMessage(bizagi.localization.getResource("login-user-password-empty")),t.messageController.hasErrors()?t.messageController.showErrors():$.when(t.dataService.userLogin(e)).done((function(i){var n=t.params.authenticationType;if(i&&i.credentialSuccessForMFA&&("bizagi"===n.toLowerCase()||"Mixed"===n||"Windows"===n||"Multiple"===n))return window.clearInterval(t.interval),t.dataService.paramsUser=e,void t.loginFacade.changeWidget("BIZAGI_LOGIN_WIDGET_REQUESTCODE",{selectedDomain:t.params.selectedDomain,response:i});if(bizagi.util.parseBoolean(i.isAuthenticate))window.clearInterval(t.interval),t.loginFacade.setBizagiAuthentication(i);else{var r="";i.paramError?r=i.paramError:e.user&&(r=e.user),t.showError(i.status,"error",[r])}})).fail((function(){t.messageController.showWidgetCustomMessage("generic","error")}))},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},showError:function(e,t,i){switch(e=(e||"").toLowerCase()){case"error":this.messageController.showWidgetCustomMessage("generic",t,i);break;default:this.messageController.showWidgetCustomMessage(e,t,i)}}}),bizagi.login_multiple.widgets.requestcode.extend("bizagi.login_multiple.widgets.requestcode",{},{init:function(e,t){this._super(e,t)},postRender:function(e){var t=this.loginFacade.getTemplate("requestcode");this.content=this.getContent(),this.params=e||{};var i=$.tmpl(t,{});$("#form-content",this.content).append(i),this.messageController=new bizagi.login_multiple.message(this.loginFacade,$("#login-message-wrapper",this.content)),this.eventHandler(),this.initialize()},eventHandler:function(){var e=this,t=e.getContent(),i=$("#code",t),n=$("#btn-validate-code",t),r=$("#btn-send-code",t),a=$("#mfaResendSMS",t),o=$("#mfaResendMail",t);function s(){return $("input[name='choiceSend']:checked").val()||"sms"}function l(){var t=e.params.response||{};if(t.MFAParameters){var i=t.MFAParameters,n=s().toLowerCase();e.valuesMFA={email:i.emailKey,phone:i.phoneKey},u(n,e.valuesMFA.phone,e.valuesMFA.email)}}function u(i,n,r){"sms"===i?$("#messageDestination",t).text(e.resource("workportal-login-multifactor-message-sms-sent",[n])):$("#messageDestination",t).text(e.resource("workportal-login-multifactor-message-email-sent",[r]))}$("#btn-validate-code",t).bind("click",(function(t){var n,r;t.preventDefault(),n=i.val(),r=$.extend({},{verificationCode:n},e.dataService.paramsUser),e.cleanErrors(),$.when(e.dataService.verifyCode(r)).done((function(t){bizagi.util.parseBoolean(t.isAuthenticate)?e.loginFacade.setBizagiAuthentication(t):"123"===t.status||"123"===t.messageStatus?(e.messageController.showWidgetCustomMessage(t.message),setTimeout((function(){e.loginFacade.changeWidget("BIZAGI_LOGIN_WIDGET_LOGIN")}),2500)):e.messageController.showWidgetCustomMessage(t.hasError?t.error||t.message:e.resource("workportal-login-multifactor-invalid-code"))})).fail((function(){e.messageController.showWidgetCustomMessage(e.resource("workportal-general-error-generic"))}))})),r.bind("click",(function(t){t.preventDefault();var i=s();e.cleanErrors(),e.resendVerificationCode(i,(function(t,i){t&&t.success?(e.hide("#templateSelectDestination"),e.show("#templateRequestCode")):t&&t.hasError&&"string"==typeof t.message&&t.message.length>0?e.messageController.showWidgetCustomMessage(t.error||t.message):e.messageController.showWidgetCustomMessage(e.resource("workportal-general-error-generic"))}))})),a.bind("click",(function(t){t.preventDefault(),e.resendVerificationCode("SMS"),u("sms",e.valuesMFA.phone,e.valuesMFA.email)})),o.bind("click",(function(t){t.preventDefault(),e.resendVerificationCode("email"),u("email",e.valuesMFA.phone,e.valuesMFA.email)})),i.bind("change paste keyup",(function(t){e.cleanErrors(),function(e){var t,i=(t=e&&e.target?e.target.value:"",/^[0-9]+$/.test(t));n.toggleClass("btn-verify-disabled",!i),n.toggleClass("valid",i)}(t)})),$("input[name='choiceSend']",t).change((function(){e.cleanErrors(),l()})),$("#action_goto_step1",t).bind("click",(function(){e.cleanErrors(),e.loginFacade.changeWidget("BIZAGI_LOGIN_WIDGET_LOGIN",{goToStep2:!0,selectedDomain:e.params.selectedDomain})})),l()},cleanErrors:function(){this.messageController.cleanErrorsQueue(),this.messageController.cleanSuccessQueue(),this.messageController.hideErrors()},resendVerificationCode:function(e,t){var i=this,n={providerType:e};"function"!=typeof t&&(t=new Function),i.cleanErrors(),$.when(i.dataService.resendVerifyCode(n)).done((function(e){t(e,null)})).fail((function(e){i.messageController.showWidgetCustomMessage(i.resource("workportal-general-error-generic")),t(null,e)}))},initialize:function(){var e=this.getContent(),t=this.params.response||{};if(t.MFAParameters){var i=t.MFAParameters,n=i.emailKey,r=i.phoneKey,a=0;n&&""!==n?$("label[for='inputEmail']",e).text(this.resource("workportal-login-multifactor-option-email",[n])):($("#itemEmail",e).remove(),$("#mfaResendMail",e).remove(),$(".login-verify-code-hr",e).remove(),$("#inputSms",e).prop("checked",!0),a++),r&&""!==r?$("label[for='inputSms']",e).text(this.resource("workportal-login-multifactor-option-sms",[r])):($("#itemSMS",e).remove(),$("#mfaResendSMS",e).remove(),$(".login-verify-code-hr",e).remove(),$("#inputEmail",e).prop("checked",!0),a++),a>=2&&($("#templateSelectDestination > p",e).html("<p>"+this.resource("workportal-login-multifactor-empty-destination")+"</p>"),$("#btn-send-code",e).remove(),$("#templateRequestCode",e).remove())}else console.warn("No existen parametros MFA")},hide:function(e){$(e,this.getContent()).addClass("hide"),$(e).css({display:"none"})},show:function(e){$(e,this.getContent()).removeClass("hide"),$(e).css({display:""})},changeLabelMessage:function(e){var t=this.getContent();$("#spanSegment",t).text(e||"")},resource:function(e,t){var i=bizagi.localization.getResource(e);return t?i.replace(/{(\d+)}/g,(function(e,i){return void 0!==t[i]?t[i]:e})):i}}),bizagi.login_multiple.widgets.quicklogin.extend("bizagi.login_multiple.widgets.quicklogin",{},{init:function(e,t){this._super(e,t)},postRender:function(e){var t=this,i=t.loginFacade.getTemplate("quick-login"),n=t.getContent();t.params=e,$.when(t.dataService.getQuickLoginUserList(t.params.selectedDomain)).done((function(e){if(e.error&&e.error_redirect_uri)window.location.href=e.error_redirect_uri;else{var r={item:e.users.length},a=$.tmpl(i,e,r);$("#form-content",t.content).append(a),t.messageController=new bizagi.login_multiple.message(t.loginFacade,$("#login-message-wrapper",n)),t.eventHandler()}}))},eventHandler:function(){var e=this,t=e.getContent(),i=$("#username",t),n=e.loginFacade.oAuthParameters||{};$("#btn-login",t).bind("click",(function(t){t.preventDefault(),e.quickLogin({domain:e.params.selectedDomain,user:i.val(),password:"",loginOption:"alwaysAsk",type:n.type||"",oAuth2InternalState:n.oAuth2InternalState||"",keepAuthentication:n.oauth2sso||"true"})})),$("#action_goto_step1",t).click((function(){e.loginFacade.changeWidget("BIZAGI_LOGIN_WIDGET_LOGIN",{})}))},quickLogin:function(e){var t=this;""==e.user&&t.messageController.addErrorMessage(bizagi.localization.getResource("login-user-name-empty")),t.messageController.hasErrors()?t.messageController.showErrors():$.when(t.dataService.userLogin(e)).done((function(e){bizagi.util.parseBoolean(e.isAuthenticate)?t.loginFacade.setBizagiAuthentication(e):t.messageController.showWidgetCustomMessage(e.status,"error")})).fail((function(e){t.messageController.showWidgetCustomMessage("generic","error")}))}}),$.Class.extend("bizagi.login_multiple.facade",{},{init:function(e){this.oAuthParameters=e.oAuthParameters||{},this.loginFactory=new bizagi.login_multiple.factory,this.dataService=new bizagi.login_multiple.services.service(e),this.defaultParams=e||{},this.defaultWidget="BIZAGI_LOGIN_WIDGET_LOGIN"},execute:function(e){var t=this,i=this.ownerDocument,n=$("body",i);e=e||$("<div/>").appendTo(n),t.executionDeferred=new $.Deferred,$.when(t.render()).done((function(i){bizagi.util.replaceSelector(n,e,i),t.executionDeferred.resolve()}))},ready:function(){return this.executionDeferred.promise()},getDefaultWidget:function(){var e=new $.Deferred;return e.resolve(this.defaultWidget),e.promise()},render:function(e,t){var i=this,n=new $.Deferred;return i.session={},$.when(i.dataService.getConfiguration()).done((function(r){if(r.redirectErrorPage)window.location.href=r.redirectErrorPage;else{r.isRemoteUser;i.loginConfig=r,i.session.isProduction=r.isProduction;i.oAuthParameters;"BizAgi"==i.loginConfig.authenticationType&&(i.loginConfig.isBizagiAuthentication=!0),$.when(i.dataService.readUserCookies()).done((function(r){"saveAccount"==r.loginOption?(i.session.user=r.userName,i.session.domain=r.domain,i.session.selectedCheck=r.loginOption,i.renderWidget(e,t,n)):(i.session.selectedCheck="rbAskAlways",i.renderWidget(e,t,n))})).fail((function(e){var t=JSON.parse(e.responseText);console.log(t.message+"\n"+t.innerExceptions)}))}})).fail((function(e){if(-1!=e.responseText.indexOf("User Not Valid"))window.location.href="App/Inicio/UserNotValid.aspx";else{var t=JSON.parse(e.responseText);"AUTHENTICATION_ERROR"==t.code?window.location.href="App/Inicio/UserNotValid.aspx":console.log(t.message+"\n"+t.innerExceptions)}})),n},renderWidget:function(e,t,i){var n=this;return e?n.renderWidgetWait(e,t,i):($.when(n.getDefaultWidget()).done((function(r){return e=r,n.renderWidgetWait(e,t,i)})),i.promise())},renderWidgetWait:function(e,t,i){var n=this;return $.when(e,n.loginFactory.loadTemplates()).done((function(e){var r=n.getWidgetObject(e,n,n.dataService);t=t||{},t=$.extend(t,n.loginConfig),t=$.extend(t,n.session),$.when(r.renderContent(t)).done((function(){r.postRender(t),i.resolve(r.getContent())}))})),i.promise()},getWidgetObject:function(e,t,i){switch(e){case"BIZAGI_LOGIN_WIDGET_QUICKLOGIN":return new bizagi.login_multiple.widgets.quicklogin(t,i);case"BIZAGI_LOGIN_WIDGET_REQUESTCODE":return new bizagi.login_multiple.widgets.requestcode(t,i);default:return new bizagi.login_multiple.widgets.login(t,i)}},changeWidget:function(e,t){$.when(this.render(e,t)).done((function(e){var t=$("body");t.empty();var i=$("<div/>").appendTo(t);bizagi.util.replaceSelector($("body"),i,e)}))},getTemplate:function(e){return this.loginFactory.getTemplate(e)},setBizagiAuthentication:function(e,t){void 0===t&&(t=!0);e.isProduction=this.session.isProduction;var i=(this.oAuthParameters||{}).type||"";if(!i||"oauth2AsServer"!=i&&"oauth2AsBridge"!=i){if(sessionStorage.setItem("bizagiAuthentication",JSON.encode(e)),!0!==t)return!1;location.reload()}else{var n=e.code;if(n){bizagiWebView?bizagiWebView.postMessage(e,bizagiWebView.location.origin):window.parent.postMessage(e,window.location.origin);var r=e.callbackUri,a=encodeURIComponent(e.state);"MobileTitleBarBrowser"==e.callbackUriStrategy?window.location=r+"?oAuth2InternalState="+e.internalState:window.location=r+"?code="+n+"&state="+a}else{if(!0!==t)return!1;location.reload()}}},setBizagiAuthenticationSaml:function(e){e.isProduction=this.session.isProduction,sessionStorage.setItem("bizagiAuthentication",JSON.encode(e)),location.reload()},setOAuth2Authentication:function(e){e.isProduction=this.session.isProduction,sessionStorage.setItem("bizagiAuthentication",JSON.encode(e));var t=window.location.href.split("?");window.location.href=t[0]}}),$.Class.extend("bizagi.login_multiple.factory",{},{init:function(){this.templates=[]},loadTemplates:function(){},loadTemplate:function(e,t){var i=this;return bizagi.templateService.getTemplate(t).done((function(t){i.templates[e]=t}))},getTemplate:function(e){return this.templates[e]}}),bizagi.login_multiple.factory.extend("bizagi.login_multiple.factory",{},{loadTemplates:function(){var e=new $.Deferred,t=bizagi.getTemplate("bizagi.loginexternal_multiple.desktop.login");return $.when(this.loadTemplate("login-wrapper",t+"#ui-bizagi-login-wrapper"),this.loadTemplate("normal-login",t+"#ui-bizagi-login-normal-login"),this.loadTemplate("login-error-message",t+"#ui-bizagi-login-error-message"),this.loadTemplate("quick-login",t+"#ui-bizagi-login-quick-login"),this.loadTemplate("requestcode",t+"#ui-bizagi-login-requestcode")).done((function(){e.resolve()})),e.promise()}});
//# sourceMappingURL=../../../../Maps/smartphone_android/loginexternal_multiple.smartphone.production.js.map
