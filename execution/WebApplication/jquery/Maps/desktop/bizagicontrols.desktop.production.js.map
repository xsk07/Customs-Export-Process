{"version":3,"sources":["jquery/workportal/js/base/widget/bizagi.workportal.widgets.widget.js","jquery/rendering/js/plugins/desktop/jquery.timeEntry.js","jquery/common/bizagi.grid/js/bizagi.grid.js","jquery/common/bizagi.grid/js/desktop/bizagi.grid.grouped.desktop.js","jquery/common/bizagi.timepicker/js/jquery.bizagi.timepicker.js","jquery/rendering/js/plugins/desktop/nicEdit.js","jquery/common/bizagi.ui.controls/jquery.ui.controls.definition.js","jquery/workportal/js/bizagi.workportal.facade.js","jquery/workportal/js/base/bizagi.workportal.controllers.controller.js","jquery/common/base/js/lib/jquery.imageZoom.js","jquery/common/jquery.ui/js/desktop/jquery.ui.check.js","jquery/common/jquery.ui/js/desktop/jquery.ui.selectmenu.js","jquery/common/jquery.ui/js/desktop/jquery.ui.selectable2.js","jquery/common/jquery.ui/js/desktop/jquery.ui.option.js","jquery/common/bizagi.pagination/js/jquery.bizagi.pagination.js","jquery/common/bizagi.pagination/js/jquery.bizagi.gridPagination.js","jquery/common/bizagi.grid/js/desktop/bizagi.grid.desktop.js","jquery/common/bizagi.upload/js/jquery.bizagi.upload.js","jquery/common/bizagi.upload/js/jquery.bizagi.fileupload.js","jquery/common/bizagi.filters/js/bizagi.filters.js","jquery/common/bizagi.overflowMenu/js/desktop/bizagi.menuOverflow.js","jquery/common/bizagi.ui.controls/table/js/jquery.ui.table.js","jquery/common/bizagi.ui.controls/combo/js/jquery.ui.combo.js","jquery/common/bizagi.ui.controls/tags/js/jquery.ui.tags.js","jquery/common/bizagi.ui.controls/checkbox/js/jquery.ui.checkbox.js","jquery/common/bizagi.ui.controls/radio/js/jquery.ui.radio.js","jquery/common/jquery.ui/js/desktop/jquery.ui.searchList.js","jquery/common/bizagi.ui.controls/treeview/js/jquery.ui.treeview.js","jquery/common/bizagi.ui.controls/multiselect/js/jquery.ui.multiselect.js","jquery/common/bizagi.ui.controls/multiselect/js/jquery.ui.multiselect.async.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.async.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.asyncecm.upload.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.asyncecm.upload.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.processtree.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.entitiestree.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.userstable.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.tree.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.processtree.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.entitiestree.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.userstable.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.tree.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.entities.js","jquery/common/bizagi.filterNumber/js/bizagi.filterNumber.js","jquery/common/bizagi.filterMoney/js/bizagi.filterMoney.js","jquery/common/bizagi.filterInteger/js/bizagi.filterInteger.js","jquery/common/bizagi.filterDate/js/bizagi.filterDate.js","jquery/common/bizagi.filterText/js/bizagi.filterText.js","jquery/common/bizagi.filterMultiple/js/bizagi.filterMultiple.js","jquery/common/bizagi.filterBoolean/js/bizagi.filterBoolean.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.async.js"],"names":["_bizagi$workportal$co","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_typeof","Symbol","iterator","constructor","prototype","$","bizagi","ui","controls","uitable","namespace","availableComponents","css","tmpl","tmpl2","tmpl3","uicombo","uicheckbox","uiradio","uitreeview","uimultiselect","workportal","currentInboxView","state","Class","extend","init","params","this","deviceFactory","device","factory","dataService","services","service","routing","defaultParams","timeoutID","loadDefaultWidget","defaultWidgetCookie","cookie","defaultWidget","util","isEmpty","window","location","hash","hashParams","getHashParams","search","queryString","getQueryString","widget","isMobileDevice","widgets","BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID","caseLink","BIZAGI_DEFAULT_WIDGET","detectDevice","BIZAGI_WORKPORTAL_WIDGET_INBOX","online","isTabletDevice","execute","canvas","self","doc","ownerDocument","body","_processPromise","Deferred","appendTo","executionDeferred","when","getCurrentUser","loadPreferences","done","data","preferencesWP","currentUser","preferences","changeData","localization","overrideSpecificResource","shortDateFormat","timeFormat","process","content","resolve","replaceSelector","fail","logout","defer","getPreferencesWorkportalCurrentUser","resp","promise","createWebpart","executeWebpart","creating","testWebpartConfiguration","webpartConfiguration","url","webparts","addConfigurationMessage","processWebpart","result","append","ready","facade","getWorkportalFacade","processOfflineData","pipe","workportalFacade","processWorkportal","fetchOfflineData","pushOfflineData","always","webpartController","detectRealDevice","deferTemplates","loadWebpart","getWebpart","webpart","render","controller","mainController","getMainController","then","menu","isRendered","widgetNameToLoad","getWidgetByDataUser","actionObject","action","actions","BIZAGI_WORKPORTAL_ACTION_ROUTING","idCase","guid","idWorkitem","idWorkItem","publish","BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX","undefined","setWidget","widgetName","performResizeLayout","bizagiDefaultWidget","propertyLandingPage","userDisplayOptions","JSON","parse","startPage","sUserProperties","i","j","length","BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL","getWidgetByCookieAndStakeholders","currentUserHaveStakeholderAssociated","getWidgetByCookie","associatedStakeholders","forceInboxOrGrid","resources","componentContainers","subscribers","disposed","templatesDeferred","getWorkportal","eventName","document","triggerHandler","subscribe","callback","bind","push","event","subscribeOneTime","one","unsubscribe","unbind","renderingDeferred","areTemplatedLoaded","renderContent","postRender","getContent","getResource","defaultValue","getComponentSelector","component","getComponentContainer","resizeLayout","dispose","each","item","setTimeout","override","disposeTime","loadTemplates","templates","def","tmplPromises","useNewEngine","name","loadTemplate","path","apply","templateService","getTemplateWidget","getTemplate","hasOwnProperty","controllers","BIZAGI_WORKPORTAL_WIDGET_INTEGRATION","BIZAGI_WORKPORTAL_WIDGET_WEBPART","BIZAGI_WORKPORTAL_WIDGET_ADVANCE_SEARCH","BIZAGI_WORKPORTAL_WIDGET_ACTIVITY","BIZAGI_WORKPORTAL_WIDGET_PROJECT_DASHBOARD","BIZAGI_WORKPORTAL_WIDGET_ROUTING","BIZAGI_WORKPORTAL_WIDGET_SEARCH","BIZAGI_WORKPORTAL_WIDGET_RENDER","BIZAGI_WORKPORTAL_WIDGET_START_FORM","BIZAGI_WORKPORTAL_WIDGET_RENDERFORM","BIZAGI_WORKPORTAL_WIDGET_NEWCASE","BIZAGI_WORKPORTAL_WIDGET_QUERIES","BIZAGI_WORKPORTAL_WIDGET_QUERIES_DEFINITION","BIZAGI_WORKPORTAL_WIDGET_QUERIES_SHORTCUT","BIZAGI_WORKPORTAL_WIDGET_QUERYFORM","BIZAGI_WORKPORTAL_WIDGET_LISTCASES","BIZAGI_WORKPORTAL_WIDGET_ASYNC","BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME","BIZAGI_WORKPORTAL_WIDGET_SUBMENU","BIZAGI_WORKPORTAL_WIDGET_PRINT","BIZAGI_WORKPORTAL_WIDGET_FONTSIZE","BIZAGI_WORKPORTAL_WIDGET_OLDRENDERINTEGRATION","BIZAGI_WORKPORTAL_WIDGET_PAGE","BIZAGI_WORKPORTAL_WIDGET_ENTITIES","BIZAGI_WORKPORTAL_WIDGET_REPORTS","BIZAGI_WORKPORTAL_WIDGET_REPORTS_MENU","BIZAGI_WORKPORTAL_WIDGET_REPORTS_CHART","BIZAGI_WORKPORTAL_WIDGET_SMARTFOLDERS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_CASES","BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE","BIZAGI_WORKPORTAL_WIDGET_ASYNCECM_UPLOAD","BIZAGI_WORKPORTAL_WIDGET_PROCESS_TREE","BIZAGI_WORKPORTAL_WIDGET_ENTITIES_TREE","BIZAGI_WORKPORTAL_WIDGET_USERS_TABLE","BIZAGI_WORKPORTAL_WIDGET_ACTIVITY_LOG","BIZAGI_WORKPORTAL_WIDGET_AUTHENTICATION_LOG","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ENTITIES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ENCRYPT_PASSWORDS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_REQUESTS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_CASE_SEARCH","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ASYNC_ACTIVITIES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_DEFAULTS_ASSIGNATION_USER","BIZAGI_WORKPORTAL_WIDGET_ADMIN_TRANSFER_CASE_SECURITY_PERMISSIONS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_PROFILES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ALARMS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_LICENSES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_DIMENSIONS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_DOCUMENT_TEMPLATES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_PROCESSES","BIZAGI_WORKPORTAL_WIDGET_START_PROCESS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_LANGUAGE","BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_DECISION_TABLE","BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_POLITICS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_RULES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_TABS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_VOCABULARIES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_PREFERENCES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_DISPLAY_OPTIONS","BIZAGI_WORKPORTAL_WIDGET_TREE","BIZAGI_WORKPORTAL_WIDGET_GRAPHIC_QUERY","BIZAGI_WORKPORTAL_WIDGET_PROCESS_MODELER_VIEW","BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_ADMINISTRATION","BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_DELEGATION","BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_DELEGATION_SEARCH_USER","BIZAGI_WORKPORTAL_WIDGET_ADMIN_STAKEHOLDERS","BIZAGI_WORKPORTAL_WIDGET_BIZAGI_EVENTS","BIZAGI_WORKPORTAL_WIDGET_BIZAGI_RELEASE","BIZAGI_WORKPORTAL_WIDGET_PROJECT_PROCESS_DIAGRAM_HELPER","BIZAGI_WORKPORTAL_WIDGET_PROJECT_ACTIVITY_MAP_TOOLTIP","BIZAGI_WORKPORTAL_WIDGET_PROJECT_USERSUMMARY","BIZAGI_WORKPORTAL_WIDGET_MYSEARCHLIST","BIZAGI_WORKPORTAL_WIDGET_LOADFORM","BIZAGI_WORKPORTAL_WIDGET_TEMPLATE_ENGINE","BIZAGI_WORKPORTAL_WIDGET_DIALOGNAV","BIZAGI_WORKPORTAL_WIDGET_ADMIN_HOLIDAYS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_PROJECTNAME","BIZAGI_WORKPORTAL_WIDGET_ADMIN_OAUTH2APPLICATIONS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_PROCESSES","BIZAGI_WORKPORTAL_WIDGET_TIMELINE","BIZAGI_WORKPORTAL_WIDGET_ADHOC_PROCESS_MODELER","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_ENTITIES","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_USER_GROUPS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_CREATE_PROCESS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_BOOLEAN_EXP","BIZAGI_WORKPORTAL_WIDGET_ADHOC_CREATE_PROCESS","BIZAGI_WORKPORTAL_WIDGET_PROFLY","BIZAGI_WORKPORTAL_WIDGET_SESSION_TIMEOUT","BIZAGI_WORKPORTAL_WIDGET_SESSION_TIMEOUT_EXPIRED","BIZAGI_WORKPORTAL_WIDGET_USER_PRIVACY","BIZAGI_WORKPORTAL_WIDGET_ACCESS_DENIED","BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICES","BIZAGI_WORKPORTAL_WIDGET_USERS_MODAL","BIZAGI_WORKPORTAL_WIDGET_QUERIES_MANAGEMENT","BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_PERMISSION_REPORT","BIZAGI_WORKPORTAL_WIDGET_ACTIVITY_DESCRIPTION_CONTENT","BIZAGI_WORKPORTAL_WIDGET_QUICKACTIONS_EXECUTE","BIZAGI_WORKPORTAL_WIDGET_ADMIN_ERROR_LOGS","BIZAGI_WORKPORTAL_WIDGET_ADMIN_SMARTINBOX","BIZAGI_WORKPORTAL_WIDGET_CANCEL_CASE","_super","observableElement","widgetReadyDeferred","isBlocked","referrer","getWidgetName","changeWidget","widgetParams","executeAction","actionName","actionParams","showGraphicQuery","isAdhoc","loader","start","modalParameters","title","refreshInbox","maximizeOnly","onClose","desktop","dialogStack","pop","isProcessOnTheFlyCase","showTimeLine","startAndThen","showSelectUser","closeVisible","maximize","width","id","userLinkLabel","parentDef","showBackButton","reject","userId","userName","element","find","val","idWorkflow","parent","idTask","eventAsTasks","fullName","off","arguments","on","pubDef","pub","queueDef","Array","isArray","events","_data","unsub","format","timeZone","date","moment","Date","tz","jQuery","fn","imageZoom","conf","config","speed","dontFadeIn","hideClicked","imageMargin","className","loading","doubleSpeed","click","e","clickedElement","target","clickedLink","is","parents","clickedImg","oldText","text","setLoadingImg","opacity","setNotLoadingImg","displayImgSrc","attr","preloadOnload","pload","dimElement","offset","imgzoomBefore","outerWidth","height","outerHeight","left","top","imgzoom","imgzoomAfter","windowDim","nWidth","nHeight","scrollLeft","scrollTop","closeButton","hide","addClass","animate","fadeIn","zIndex","hideImgzoom","fadeOut","remove","preload","Image","src","complete","onload","keydown","keyCode","_create","label","options","input","detach","wrap","insertBefore","hover","removeClass","ev","args","triggerChange","_trigger","trigger","focus","blur","alert","checkItem","prop","uncheckItem","check","version","eventPrefix","getter","transferClasses","style","menuWidth","handleWidth","maxHeight","icons","o","ids","_safemouseup","newelement","widgetFullName","insertAfter","tabindex","selectmenuIcon","prependTo","_toggle","ret","ENTER","SPACE","UP","LEFT","list","_moveSelection","open","DOWN","RIGHT","TAB","_typeAhead","mousedown","close","_refreshValue","cornerClass","selectOptionData","_formatText","selected","classes","parentOptGroup","activeClass","thisLi","mouseup","changed","_selectedIndex","index","select","change","_selectedOptionLi","_focusedOptionLi","browser","msie","optGroupName","replace","size","iconClass","icon","prepend","add","clonedSelect","clone","selectWidth","position","visibility","display","_optionLis","HOME","_moveFocus","PAGE_UP","_scrollPage","PAGE_DOWN","END","ESCAPE","disable","_refreshPosition","resize","destroy","removeData","removeAttr","show","code","eventType","_prevChar","C","String","fromCharCode","c","toLowerCase","focusFound","focusOpt","elem","ind","thisText","indexOf","_uiHash","option","get","_closeOthers","activeID","Math","round","random","eq","retainFocus","not","selectmenu","selectedIndex","amt","newIndex","parseInt","isNaN","filter","direction","numPerPage","floor","_setData","_scrollPageInternal","newValue","currentOptionClasses","newOptionClasses","html","menuTop","scrolledAmt","TimeEntry","_disabledInputs","regional","show24Hours","separator","ampmPrefix","ampmNames","spinnerTexts","_defaults","appendText","showSeconds","showZeroInHour","timeSteps","initialField","useMouseWheel","defaultTime","minTime","maxTime","spinnerImage","spinnerSize","spinnerBigImage","spinnerBigSize","spinnerIncDecOnly","spinnerRepeat","beforeShow","beforeSetTime","PROP_NAME","extendRemove","props","markerClassName","setDefaults","_connectTimeEntry","hasClass","inst","_selectedHour","_selectedMinute","_selectedSecond","_field","_get","spinner","mozilla","after","_doFocus","_doBlur","_doClick","_doKeyDown","_doKeyPress","timeEntry","_parseTime","mousewheel","_doMouseWheel","_handleSpinner","_endSpinner","mouseover","_expandSpinner","mouseout","mousemove","_describeSpinner","_enableTimeEntry","_enableDisable","_disableTimeEntry","disabled","nextSibling","nodeName","_changeSpinner","map","_isDisabledTimeEntry","inArray","_changeTimeEntry","currentTime","_extractTime","_setTime","_destroyTimeEntry","$input","unmousewheel","replaceWith","_setTimeTimeEntry","time","getTime","_getTimeTimeEntry","_getOffsetTimeEntry","_lastInput","_focussed","_blurredInput","_showField","fieldSize","selectionStart","field","max","_secondField","_ampmField","end","createTextRange","srcElement","range","offsetX","clientX","documentElement","thin","medium","thick","offsetLeft","collapse","moveEnd","boundingWidth","shiftKey","_changeField","ctrlKey","_setValue","_adjustField","chr","charCode","_handleKeyPress","delta","opera","abs","safari","preventDefault","_getSpinnerTarget","_getInput","_expanded","relative","_endExpand","siblings","_getSpinnerRegion","region","_actionSpinner","_timer","_handlingSpinner","_repeatSpinner","_releaseSpinner","clearTimeout","pos","_findPos","scrolled","_findScroll","clientY","right","bottom","min","curLeft","curTop","offsetParent","offsetTop","origCurLeft","isFixed","parentNode","now","_constrainTime","_lastChr","_showTime","split","substring","isAM","isPM","hour","minute","second","fields","_determineTime","getHours","getMinutes","getSeconds","reset","isNow","_formatNumber","setSelectionRange","moveStart","moveOut","atFirstLast","_normaliseTime","setFullYear","setMonth","setDate","setting","pattern","matches","exec","test","getDate","offsetString","setTime","saveField","getters","otherArgs","slice","call","concat","inlineSettings","metadata","single","mouse","closest","keyboard","multiple","lasso","cancel","delay","distance","tolerance","_init","items","currentFocus","refresh","disableSelection","_mouseInit","_targetIsItem","_selection","_listenForMouseUp","_mouseSelect","selectClosest","next","previous","metaKey","_toggleSelection","helper","createElement","current","overlap","selfOffset","$this","x","offsetWidth","y","offsetHeight","currentIndex","_selectAdjacent","_mouseDestroy","_previousSelection","_mouseCapture","clickedOnItem","_mouseStart","opos","pageX","pageY","startSelected","_removeFromSelection","_mouseDrag","x1","y1","x2","y2","tmp","hit","_addToSelection","_mouseStop","newlySelected","newlyDeselected","wasAlreadyPartOfPreviousSelection","uiHash","added","removed","_select","found","addBack","_endSelection","_triggerDeselection","triggerItems","_clearSelection","triggerEvent","latestSelection","splice","_updateSelectionMouse","updateEvents","latestWithoutModifier","previousFocus","_updateSelection","index2","fromInside","deselect","specialKey","selection","allInputs","orientation","checked","isIE","prev","setValue","optionGroup","bizagiPagination","opt","limInf","totalPages","actualPage","listElement","first","firstClass","prevClass","nextClass","last","lastClass","liClass","arrowClass","selectedFocus","clickCallBack","pagination","previousPage","nextPage","displaceElements","firstElementValue","increment","pageData","disableFirst","disableLast","totalElements","page","trim","bindElements","halfDisplace","bizagiGridPagination","scrolledHover","pageScroll","displace","firstPageValue","lastPageValue","setInterval","clearInterval","back","columns","sortBy","sortType","showSummary","collapseState","indexedData","maxColumns","buttonsPst","tableCssClass","headerStyles","floatingHeader","hasExclusiveCheck","template","grid","waiting","table","emptyTable","column","specialColumn","row","rowButtons","cell","specialCell","pager","buttons","dynamicPager","summary","summaryCell","edit","details","allowMore","enableXlsExport","enablePdfExport","mode","changes","totalRows","selectedRow","components","asyncCells","scrollableArea","columnByIndex","columnByName","columnKeyIndex","tooltip","calculateKeyIndex","startLoading","bUseTimeout","waitingFn","waitingTimeout","fasttmpl","endLoading","empty","setData","getData","rows","getChanges","_cleanComponents","_cleanButtons","draw","refreshSummary","columnIndex","_getComponent","drawing","refreshSummaryCell","drawSummary","postRenderSummary","getCell","cells","children","drawSummaryCell","onCellReady","changeCellValue","deleteCellExclusiveValues","gridRtl","isDesign","drawTable","attachPaginator","attachHandlers","$tableContainer","$table","stickyTableHeaders","fixedOffset","cacheHeaderHeight","_getButton","_replaceElement","drawHeader","drawBody","drawPager","drawButtons","drawGridExportOptions","drawRowButtons","drawDynamicPager","isExactMatch","exactMatch","drawColumn","_canShowButtons","drawSpecialColumn","columnProperties","bizAgiProperties","cssClass","cssclass","header","columntitlealign","columnAlign","isSortable","xpath","initialSortBy","sortActive","controlType","getColumnType","type","isHorizontalRadio","horizontal","isKey","sortOrder","columnCssClass","headerLabelStyles","flexAlign","mapAlignClassName","drawRow","rowData","isNewRow","newRow","rnd","businessKey","drawCell","_canShowRowButtons","drawSpecialCell","cellAlign","hidden","summarizeBy","onDrawCell","calculateSummary","resolveResult","messageValidation","drawGroupHeader","drawFooter","pages","total","number","active","records","tooltips","parameters","buttonsRtl","exportOptions","rtl","postRenderRow","_triggerHandler","asyncResult","selectDynamicPager","onDynamicPager","changePage","currentPage","Number","newPage","onPageRequested","getCurrentPage","isValid","sortAttribute","sortColumn","onSortRequested","selectRow","onRowUnselected","selectedBusinessKey","onRowSelected","unselectRow","operation","defaultvalue","columnValues","columnValue","processAction","onEditRow","onDeleteRow","onShowMore","onShowDetails","onAddRow","onShowExportGridOptions","_buildRefreshParameters","onCollapseGrid","onDrawControl","onDrawGroupHeader","replaceFirstWithoutPatterns","sortColumnIndex","foundComponent","button","bizagi_grid","smartPagination","isPropagationStopped","stopPropagation","pageNumber","context","isOfflineForm","onSaveAddedRows","onCancelEdition","gridExportOptionsContent","mouseleave","disposition","exportType","evt","_deleteDraft","columnComponent","ul","maxElemShow","pdata","nElemToShow","pageToshowRtl","pageToshow","addInlineRow","createAddRowData","ceil","inlineAdd","addFormDialog","keys","getNewRowKeys","newRowKeys","tr","getCellHeader","rowHeader","isNewRecord","updateCollapseState","getDraftRow","newRecords","bizagi_grid_desktop","groupByValues","groupByPreviousValues","rowsGroupData","summaryGroup","isNewGroup","isNewSummarygroup","drawSummaryRows","drawGroupingRows","addRowGroupData","groupByColumns","showColumn","drawEmptyCells","conectorV","bSpecialCellAdded","drawTotalizer","levels","getGroupLevels","setGroupByValues","l","level","drawGroupRow","deep","areIdenticalValues","groupByColumn","getColumnValue","groupLevel","getValidColumns","validColumns","grep","emptyCells","groupData","totalizer","realColumnsData","getRowsGroupData","calculateSummaryGroup","getFormatedValue","headerRow","columnTitle","getColumnTitle","colspan","emptyCell","conectorCorner","conectorH","columnName","getColumnName","displayType","displayTypeHeader","properties","allowDecimals","numDecimals","BIZAGI_DEFAULT_CURRENCY_INFO","decimalDigits","positiveFormat","negativeFormat","decimalSymbol","decimalSeparator","digitGroupSymbol","groupSeparator","groupDigits","colorize","roundToDecimalPlace","symbol","formatCurrency","parseBoolean","dataType","percentage","dateObj","defaultDateFormat","defaultTimeFormat","dateFormat","fullFormat","timePickerFormat","dateFormatter","getDateFromInvariant","showTime","setHours","formatDate","i18n","displayName","getColSpan","valuesGroup","values","getNestedRows","group","drawSummaryRow","drawSummaryGroupCell","summaryKey","dataRowsgroup","postRenderGroupedSummary","nextUntil","groupedLevel","summaryLevel","timepicker","Timepicker","currentText","closeText","amNames","pmNames","timeSuffix","timeOnlyTitle","timeText","hourText","minuteText","secondText","millisecText","microsecText","timezoneText","isRTL","showButtonPanel","timeOnly","showHour","showMinute","showSecond","showMillisec","showMicrosec","showTimezone","stepHour","stepMinute","stepSecond","stepMillisec","stepMicrosec","millisec","microsec","timezone","hourMin","minuteMin","secondMin","millisecMin","microsecMin","hourMax","minuteMax","secondMax","millisecMax","microsecMax","minDateTime","maxDateTime","onSelect","hourGrid","minuteGrid","secondGrid","millisecGrid","microsecGrid","alwaysSetTime","altFieldTimeOnly","altTimeFormat","altSeparator","altTimeSuffix","pickerTimeFormat","pickerTimeSuffix","showTimepicker","timezoneList","addSliderAccess","sliderAccessArgs","$altInput","$timeObj","hour_slider","minute_slider","second_slider","millisec_slider","microsec_slider","timezone_select","hourMinOriginal","minuteMinOriginal","secondMinOriginal","millisecMinOriginal","microsecMinOriginal","hourMaxOriginal","minuteMaxOriginal","secondMaxOriginal","millisecMaxOriginal","microsecMaxOriginal","ampm","formattedDate","formattedTime","formattedDateTime","units","support","control","settings","_newInst","opts","tp_inst","fns","overrides","attrName","attrValue","eval","err","dp_inst","isFunction","evnts","onChangeMonthYear","year","month","_updateDateTime","dateText","timeDefined","toUpperCase","detectSupport","slider","_controls","tzl","tzi","tzv","timezoneOffsetString","iso8601","timezoneOffsetNumber","getTimezoneOffset","altField","cursor","minDate","maxDate","_onFocus","_addTimePicker","currDT","_limitMinMaxDateTime","_injectTimePicker","timeString","withDate","datepicker","_getInst","dp_dateFormat","parseRes","parseDateTimeInternal","_getFormatConfig","timeObj","log","parseTime","$dp","dpDiv","litem","uitem","gridSize","noDisplay","substr","h","tmph","formatTime","m","showTz","$tp","create","marginLeft","marginRight","borderCollapse","$t","n","ap","f","_onTimeChange","_onSelectHandler","textAlign","overflow","idx","selectedYear","selectedMonth","selectedDay","selectLocalTimezone","$buttonPanel","before","sliderAccess","sliderAccessWidth","$g","oldWidth","oldMarginLeft","toString","newWidth","newMarginLeft","adjustSliders","dp_date","minDateTimeDate","getFullYear","getMonth","getMilliseconds","getMicroseconds","maxDateTimeDate","minMax","secMax","hasChanged","inputEl","dtTmp","currentYear","currentMonth","currentDay","dt","_daylightSavingAdjust","dateFmt","formatCfg","timeAvailable","lastVa","altFormattedDateTime","altFormat","lastVal","_updateDatepicker","unit","step","slide","stop","sel","tmp_args","datetimepicker","parseDateTime","dateTimeString","dateSettings","timeSettings","t","setMicroseconds","strictParse","s","treg","regstr","match","markers","ml","charAt","merge","join","order","finds","orders","z","getFormatPositions","resTime","RegExp","d","err2","looseParse","tmptime","ampmName","convert24to12","_base_selectDate","_selectDate","dateStr","inline","stay_open","_notifyChange","_base_updateDatepicker","_curInst","_datepickerShowing","_base_doKeyPress","dateChars","_possibleChars","datetimeChars","_base_updateAlternate","_updateAlternate","_getDate","_base_doKeyUp","_doKeyUp","_base_gotoToday","_gotoToday","_disableTimepickerDatepicker","_enableTimepickerDatepicker","defaults","_setTimeDatepicker","tp_date","_setDateFromField","_base_setDateDatepicker","_setDateDatepicker","timezoneAdjust","_base_getDateDatepicker","_getDateDatepicker","noDefault","_base_parseDate","parseDate","shortYearCutoff","dayNamesShort","dayNames","monthNamesShort","monthNames","_base_formatDate","_formatDate","day","_base_optionDatepicker","_optionDatepicker","name_clone","onselect","isEmptyObject","tf","isIn","computeEffectiveSetting","property","splitDateTime","timePartsLen","allParts","allPartsLen","dateString","parts","parsedTime","tzMinutes","minutes","hours","iso","tzString","normalized","toTimezone","toTz","setMinutes","timeRange","startTime","endTime","handleRange","datetimeRange","dateRange","method","checkDates","other","startdt","enddt","changeddt","setMilliseconds","minInterval","maxInterval","selectedDateTime","console","_util","_extendRemove","_isEmptyObject","_convert24to12","_detectSupport","_selectLocalTimezone","_computeEffectiveSetting","_splitDateTime","_parseDateTimeInternal","microseconds","bizagiUpload","controlReference","EXTENSIONS_INVALID","renderReference","dialogTemplate","uploadedFiles","maxAllowedFiles","isECM","isUpdatingECM","onUploadFileCompletedCallback","onChangeFile","onCheckMaxSize","dialogBox","fileControl","files","maxSize","showError","onValidate","dialogTitle","onUploadFileProcess","onUploadDialogReady","openUploadDialog","reverseButtons","getFormContainer","isClicked","file","fileName","lastIndexOf","extension","replaceAll","validExtensions","stringToCheck","acceptableExtensionsArray","required","endsWith","validateFilenameExtension","checkFileTypes","maxfiles","dialobBox","processUploadFile","response","xPath","idPageCache","filename","idAttrib","idFileUpload","xpathContext","alertAfterUpload","showMessageBox","closeUploadDialog","reverse","dialog","modal","draggable","resizable","contentDialog","timeout","getEstimatedTimeByNetworkSpeed","isIE11","isIE10","$statusElement","xhr","XMLHttpRequest","FormData","upload","addEventListener","progress","percent","loaded","message","payload","responseText","status","bizagiConfig","maintenanceWindows","startValidated","stringify","statusText","isMaintenanceWindow","setRequestHeader","getXSRFToken","isWebpartContext","ajaxSetup","headers","send","processUploadFileModernBrowsers","uploadForm","uploadIFrame","netSpeed","networkSpeed","estimatedTime","$estimatedTime","$statusContainer","interval","timeoutFn","contentWindow","windoFrameObj","isIE8","iframeContent","responseLogin","submit","processUploadFileOldBrowsers","errorContainer","enabled","extensionList","processedFileExtension","formatExtensions","bizagiFileUpload","contentFormUpload","contentForm","formTemplate","onUploadFileFailCallback","onUploadFormReady","extForm","$extForm","formData","ajax","contentType","processData","success","error","delayQuestionFileUpload","alerFailtAfterUpload","bindSubmitButton","entity","filterWrapper","filterString","filterNumber","filterDate","filterBoolean","operators","equals","appliesTo","operator","like","is-null","isUnary","less-equals-than","greater-equals-than","MAX_ENTITY_DATA_LENGTH","CLASS_ENTITY_FILTER_LOADER","testPrivateFunction","nameFunction","_on","buildFilter","filterType","getFilterType","$filter","addOperators","configureHandlers","getPosition","$button","buttonType","applyFilter","$operators","operatorsData","getOperators","initialValue","getInitialValue","combo","initValue","itemValue","itemText","onChange","setControlVisibility","update","getOperator","enableButton","$inputTextControl","disableButton","$parent","validateLimitsNumbersByType","maxValue","sign","buildCurrencyFilter","$control","numeric","numericFormat","collectDataValue","regexString","regex","auxInput","validationNumber","asNumber","updateValue","parseFloat","proxy","configureHandlerInputTypeText","_entityRequestComboFilter","attribute","arrayData","_params","idEntity","idAttribute","displayAttribFilter","overlay","getAdminEntityData","dataResult","_overrideDataSameReference","methods","comboDropDown","_onChangeBuildEntityFilter","isNumeric","entityData","isManyData","_idVal","auxValue","_inputVal","a","displayAttrib","buildEntityFilter","_total","_isManyData","_searchAndEditable","_isNumeric","isEditable","buildRelatedEntityFilter","buildDateTimeFilter","getDateFormatByDatePickerJqueryUI","dateFormatDisplay","displayDate","changeMonth","changeYear","numberOfMonths","yearRange","buildBooleanFilter","optiongroup","buildIntegerFilter","configureDataToAppend","buildNumberFilter","buildTextFilter","buildTextExtendedFilter","oper","keyup","which","nextId","_elements","_iconTemplate","overflowMenu","additionalTop","positionTop","itemId","getAttribute","setAttribute","forEach","li","innerHTML","textContent","appendChild","getZIndex","currentTarget","delegateTarget","originalEvent","$area","yy","xx","client","H","W","removeMenu","clientWidth","clientHeight","el","$context","bkExtend","bkClass","construct","classDef","proto","bkElement","elm","$BK","appendBefore","addEvent","bkLib","setContent","curleft","curtop","b","getStyle","border","noSelect","parentTag","cls","setStyle","st","elmStyle","itm","cssRule","defaultView","nodeType","getComputedStyle","getPropertyValue","currentStyle","camelize","removeChild","setAttributes","at","isMSIE","navigator","appVersion","attachEvent","toArray","iterable","results","childNodes","arr","cancelEvent","domLoad","domLoaded","callee","onDomLoaded","fireThis","write","protocol","onreadystatechange","readyState","getElementById","bkEvent","evType","evFunc","eventList","fireEvent","shift","__","Function","closure","__method","closureListener","object","nicEditorConfig","bold","command","tags","font-weight","italic","font-style","underline","text-decoration","noActive","center","justify","ol","subscript","superscript","strikethrough","removeformat","indent","outdent","hr","iconsPath","buttonList","iconList","bgcolor","forecolor","save","image","link","unlink","arrow","smile","print","nicEditors","nicPlugins","editors","registerPlugin","plugin","p","allTextAreas","nicOptions","textareas","getElementsByTagName","nicEditor","panelInstance","findEditor","instanceById","getFirstEditor","nicInstances","loadedPlugins","plugins","selectCheck","checkReplace","panelElm","setPanel","addInstance","r","removeInstance","removePanel","contentEditable","newInstance","nicEditorInstance","nicEditorIFrameInstance","instances","nicPanel","nicEditorPanel","nicCommand","cmd","selectedInstance","getIcon","iconName","iconFiles","backgroundImage","backgroundPosition","lastSelectedInstance","isSelected","ne","newX","newY","initialHeight","isTextarea","hasPanel","ie7s","compatMode","borderTop","overflowY","overflowX","backgroundColor","editorContain","editorElm","margin","minHeight","copyElm","saveContent","instanceDoc","keyDown","getSel","getSelection","getRng","rangeCount","getRangeAt","createRange","selRng","rng","removeAllRanges","addRange","selElm","startContainer","contain","cloneContents","selectNode","compareBoundaryPoints","Range","START_TO_START","END_TO_END","parentElement","saveRng","savedRange","savedSel","restoreRng","selInstance","isFocused","getElm","execCommand","savedStyles","initialContent","elmFrame","frameBorder","allowTransparency","scrolling","initFrame","fd","designMode","externalCSS","frameDoc","frameWin","frameContent","heightUpdate","panelButtons","panelContain","marginTop","zoom","addButton","reorder","buttonName","noOrder","nicEditorButton","hasButton","fullPanel","findButton","bl","float","hoverOn","hoverOff","mouseClick","onmousedown","onclick","enable","updateState","isDisabled","setBg","isHover","isActive","stateStyle","checkNodes","activate","deactivate","ins","toggleActive","commandArgs","nicInstance","nicPlugin","loadPanel","np","nicPaneOptions","nicEditorPane","openButton","pane","fontSize","padding","noClose","removePane","newLeft","toggle","isVisible","nicEditorAdvancedButton","addPane","addForm","form","inputs","txt","fontWeight","clear","for","lineHeight","onsubmit","findElm","tag","nicButtonTips","timer","nicSelectOptions","fontFamily","fontFormat","nicEditorSelect","selOptions","paddingLeft","setDisplay","borderLeft","borderRight","borderBottom","_setStyle","itmContain","over","out","k","v","nicEditorFontSizeSelect","1","2","3","4","5","6","nicEditorFontFamilySelect","arial","comic sans ms","courier new","georgia","helvetica","impact","times new roman","trebuchet ms","verdana","nicEditorFontFormatSelect","pre","h6","h5","h4","h3","h2","h1","nicLinkOptions","nicLinkButton","ln","","href","_blank","nicColorOptions","nicEditorColorButton","colorList","0","colorItems","g","colorCode","colorSquare","colorBorder","colorInner","colorSelect","nicEditorBgColorButton","nicImageOptions","nicImageButton","im","alt","align","none","nicSaveOptions","nicEditorSaveButton","onSave","smileOptions","nicEditorSmileButton","smileList","smileItems","smileClass","smileElement","smileSquare","smileBorder","smileInner","smileSelect","span","insertNode","pasteHTML","nicPrintOptions","nicEditorPrintButton","container","printElement","printMode","cases","SEARCH_MAX_LENGTH","autocomplete","source","_getLabels","minLength","messages","noResults","_prependCases","_eventRemove","lastElement","labels","plg","cssComponent","asTable","nameTemplate","rowTemplate","cellValue","oddClass","onComplete","headerClick","arr2","op","nData","recursiveRows","fValue","testValue","addHandlers","createComponents","comps","dataComp","validateComponent","datasource","indexCol","indexRow","jquery","outerHTML","comp","rValue","addRow","nPosition","elPos","nPosRow","tmplRow","countCols","addCols","cols","completeTask","addColumn","_self","internalData","ascombo","isSearchable","nameSubTemplate","initializeTemplates","tmpl1","onComboDropDown","IE","appName","userAgent","tmplloader","subTemplateHTML","inputCombo","getControl","findDataByValue","compareValIn","validateValueInDatasource","idDropdown","dropDownDestroy","keyUpFunction","keyDownFunction","internalComboDropDown","selectTmp","objSelected","containerDropdown","containerControl","containerRender","selectedValue","scrollPosition","repositionInterval","selfControl","dropDown","my","of","collision","recalculateComboOffset","onComboItemSelected","makeArray","dropDownReposition","tg","dropDownValidClose","etarget","activeElement","containerForm","selectedKey","setDisplayValue","altKey","selectPreviousElement","selectNextElement","selectFirstElement","selectLastElement","selectFirstPossibleElement","selectItemByKeyUp","actual","valValue","selectedLabel","controlProperties","clearDisplayValue","getSelectedValue","dropDwn","objParent","getInternetExplorerVersion","selectItem","uitags","getTemplateElement","templateDestination","temporalElements","dataSource","placeholderText","titleText","hideSearchResult","isTextType","isIntType","isRealType","isEntityType","onRemove","entityMode","maxValues","maxValuesErrorMessage","showMessageFunction","inputTags","modalViewTags","defaultModalViewTags","defaultInputTags","kendoTmpls","configureInputHandlers","configureModalView","selector","elements","newElement","addTemporalElement","modalViewTemplate","modalView","kendoMobileModalView","useNativeScrolling","configureModalViewHandlers","inputContainer","closeModalViewPromise","searchValue","showNoResultsMessage","appendFoundItem","delegate","removeItem","term","addNewValuesToInput","showResults","suggestions","listTmpl","modalViewList","dataTmpl","isModalViewContainer","defaultElement","getTagsElements","uniqueIds","suggest","newDataTmpl","$newElement","from","reduce","set","Map","tempArray","ele","dataTpml","elementToRemove","defaultOptions","tagClass","itemTitle","freeInput","addOnBlur","maxTags","maxChars","confirmKeys","delimiter","delimiterRegex","cancelConfirmKeysOnEmpty","onTagExists","$tag","trimValue","allowDuplicates","isNumber","TagsInput","itemsArray","$element","isSelect","tagName","hasAttribute","objectItems","inputSize","$container","inputType","build","makeOptionItemFunction","propertyName","makeOptionFunction","dontPushVal","pushVal","existing","maxInputLength","beforeItemAddEvent","Event","htmlEncode","findInputWrapper","encodeURIComponent","$option","$existingTag","beforeItemRemoveEvent","removeAll","contents","nodeValue","typeahead","query","processItems","texts","updater","matcher","sorter","sort","highlighter","typeaheadjs","typeaheadConfig","typeaheadDatasets","datum","valueKey","$inputWrapper","doGetCaretPosition","$prevTag","$nextTag","textLength","keyPressEvent","lookupList","maxLengthReached","keyCombination","ctrl","elt","tagsinput","arg1","arg2","arg3","retVal","Constructor","htmlEncodeContainer","oField","iCaretPos","oSel","itemChecked","checkboxGroup","generateNamecheckboxGroup","checkbox","isChecked","radioGroup","generateNameRadioGroup","radio","_dataItems","_config","_template","_cssClass","_namespace","_setDefaults","_initializeTemplates","_renderContent","_eventHandlers","$target","_slideSubItems","$checkbox","toggleClass","slideToggle","dataItems","getDataItems","setList","_refresh","getList","itemsTemplate","_itemValue","_itemText","renderSubItems","_renderSubItems","subitems","subItemsTemplate","_destroy","_originalRenderItem","_renderItem","customRenderItem","_renderMenu","that","classMenuList","_renderItemData","asyncList","SEARCH_MIN_LENGTH","parentPositionElement","parentElementToFitWidth","parentElementToBorder","classOpenedList","classOpenedParent","classItem","openOnFocus","maxDataItems","errorMaxDataItems","notifierFunction","placeholder","lastSelectedValue","_getDataSource","_prependElements","selfAuto","setDataItems","_settingItems","multiselect","scope","autoFocus","bizagi_multiSelect","_search","searchMultiSelectScope","__getDataSource","raw","ASYNC_CHECK_TIMER","checkAsycnExecutionState","getAsynchExecutionState","errorMessage","asyncecm","async.ecm.upload","async.ecm.pending.jobs","enableUI","renderAsyncECMUpload","asyncECMUploadTypes","NOT_RUNNED","RUNNING","RUN_FINNISHED_OK","RUN_FINNISHED_WITH_ERROR","updateEcmAllScheduledJobs","loadingMessage","getEcmAllScheduledJobs","renderAllScheduledJobs","ecmAsyncTemplate","jobs","failureMessageHoverIn","retryECMPendingScheduledJob","idJob","customMessage","loadtemplates","processtree","showTitle","searchKeyResource","svgIconsMode","processesTreeNew","newDesign","processTree.links","processTree.wrapper","processTree","processTree.selected","setupData","applicationTreeWrapperTmpl","applicationTreeTmpl","applicationTreeSelectedTmpl","treeRouteSelected","treeRouteText","setupInitialData","setupLinks","treeWrapper","processSelected","showSelectedProcessLabelWhenAllApplicationsSelected","selectAllApplications","hideSelectedProcessLabelWhenAllApplicationsNotSelected","selectOneAplication","changeRadioIcon","param","idSelected","getTreeRouteSelected","expandOrCollapseArrows","expand","itemSelected","byUser","getApplicationCategoriesList","applicationList","appTree","svg","setTreeEvents","idApp","parentType","selectedRoute","selectedRouteText","idItem","idParent","idCategory","filterStartEvent","authorizationContext","filterCaseSecurity","categoriesList","processes","down","getTreeRouteText","setParamCanvas","entitiestree","EntitiesTree.wrapper","EntitiesTree.tree","entitiesTreeTmpl","pathNodeType","idNode","nodeDisplayPath","nodePath","idWfClass","entityPathChildNodesAction","entitiesTree","nodes","hasParent","paramsChilds","userstable","SELECTORS","WRAPPER_LOADER","WRAPPER_LIST","filterData","maxRows","maxPages","$canvas","users","orderType","orderField","tableHeaders","fieldValue","usersTable.wrapper","usersTable.form","usersTable.table","usersTable.message","usersTableFormTmpl","usersTableTmpl","usersTableMessage","_makeRequestOrganizationsList","_fromAdminCaseSearch","_fromReassign","getOrganizationsForReassignCases","getOrganizationsList","rps","orgList","resultTemplate","unshift","setupOrgCombo","setupEventsHandler","$content","$userForm","afterSave","domain","organization","pag","pagSize","getUsersTableData","cleanForm","excecuteQuery","_loadingList","_SELECTORS","$list","$loader","_makeRequestGetUsers","getUsersForReassignCases","getUsersForAssignation","getUsersForDefaultAssignation","getUsersForUsersAdministration","getUsersForQueriesPermissionManager","getUsersList","_calcRequestMethod","fillUserInformation","showUsersTable","$wrapperList","pagesArray","getPagesArray","links","setUpPagination","setUpSortColumnLinks","msg","pagesToShow","aux","$pager","assignEventReassign","autoSave","attributes","resultStatus","closeDialogWidget","sortUsersTableByColumn","sortJSON","tree","tree.wrapper","tree.content","decisionTableContent","entities","deferred","getAllAdministrableEntities","idForm","renderEntityData","renderStaticForm","rendering","customHandlers","onGridAdd","showCloseButton","afterFormButtonClick","onGridEdit","surrogateKey","getEntitiesList","showButtonClearFilter","onApply","onClear","xpaths","_type","_addButtonClearFilter","_setReturnObject","_bindContextMenuButtons","_bindContextMenu","_bindTooltip","_bindHandlers","btnRemoveFilter","returnObject","typeSearch","rangeQuery","contextMenu","types","contextMenuButtons","root","$menuContext","$menu","htmlButtons","_addFilterToDisplayName","$opener","_removeFilter","paramsContextMenu","notification","_getFormatOptions","_enableNotification","$minValue","$maxValue","_onClickMinValue","_onClickMaxValue","removeHandlersValuesMinMax","filterValue","_setDisplayValue","_setFormatValue","_getObjectValueByString","stringValue","asFloatType","minVal","maxVal","$displayNameControl","_setDisplayNameToDefault","_resetValue","$minControl","$maxControl","isLowerLimitInvalid","isUpperLimitInvalid","isRangeInvalid","_checkNotification","_disableNotification","showLabel","formatOptions","eventOnDecimalsEntered","getOwnPropertyNames","Widget","bizagi_numberFilter","_setValuesOfReturnObject","_setDisplayTitle","to","_disableApply","_setDisplayLabels","_getFromControl","_getToControl","$minDate","$maxDate","_getDateFromInvariant","defaultDate","selectedDate","_enableApply","_resetValues","formatInvariant","toDefault","$displayTitleControl","displayTitle","minDateObj","maxDateObj","$applyControl","_setFilterToDisplayName","_getTextControl","textValue","isDefaultFilter","_bindDefaultFilter","filtersText","defaultValues","applied","displayText","_buildContextMenuItems","div","stopImmediatePropagation","cont","valueToLocalize","formatBoolean","async"],"mappings":"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","sourcesContent":["var _bizagi$workportal$co;function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}\n/*\r\n                                                                                                                                                                                                                                     *   Name: BizAgi Workportal Widget Controller\r\n                                                                                                                                                                                                                                     *   Author: Diego Parra\r\n                                                                                                                                                                                                                                     *   Comments:\r\n                                                                                                                                                                                                                                     *   -   This script will define a base class to all widgets\r\n                                                                                                                                                                                                                                     */\n\nbizagi.workportal.controllers.controller.extend(\"bizagi.workportal.widgets.widget\", {\n  BIZAGI_WORKPORTAL_WIDGET_INTEGRATION: \"widgetIntegration\",\n  BIZAGI_WORKPORTAL_WIDGET_WEBPART: \"webpart\",\n  BIZAGI_WORKPORTAL_WIDGET_INBOX: \"inbox\",\n  BIZAGI_WORKPORTAL_WIDGET_ADVANCE_SEARCH: \"advanceSearch\",\n  BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL: \"homeportal\",\n  BIZAGI_WORKPORTAL_WIDGET_ACTIVITY: \"project.activity\",\n  BIZAGI_WORKPORTAL_WIDGET_PROJECT_DASHBOARD: \"projectDashboard\",\n  BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID: \"inboxGrid\",\n  BIZAGI_WORKPORTAL_WIDGET_ROUTING: \"routing\",\n  BIZAGI_WORKPORTAL_WIDGET_SEARCH: \"search\",\n  BIZAGI_WORKPORTAL_WIDGET_RENDER: \"activityform\",\n  BIZAGI_WORKPORTAL_WIDGET_START_FORM: \"startForm\",\n  BIZAGI_WORKPORTAL_WIDGET_RENDERFORM: \"renderform\",\n  BIZAGI_WORKPORTAL_WIDGET_NEWCASE: \"newCase\",\n  BIZAGI_WORKPORTAL_WIDGET_QUERIES: \"queries\",\n  BIZAGI_WORKPORTAL_WIDGET_QUERIES_DEFINITION: \"queriesDefinition\",\n  BIZAGI_WORKPORTAL_WIDGET_QUERIES_SHORTCUT: \"queriesShortcut\",\n  BIZAGI_WORKPORTAL_WIDGET_QUERYFORM: \"queryform\",\n  BIZAGI_WORKPORTAL_WIDGET_LISTCASES: \"listCases\",\n  BIZAGI_WORKPORTAL_WIDGET_ASYNC: \"async\",\n  BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME: \"genericiframe\",\n  BIZAGI_WORKPORTAL_WIDGET_SUBMENU: \"subMenu\",\n  BIZAGI_WORKPORTAL_WIDGET_PRINT: \"print\",\n  BIZAGI_WORKPORTAL_WIDGET_FONTSIZE: \"fontsize\",\n  BIZAGI_WORKPORTAL_WIDGET_OLDRENDERINTEGRATION: \"oldrenderintegration\",\n  BIZAGI_WORKPORTAL_WIDGET_PAGE: \"page\",\n  BIZAGI_WORKPORTAL_WIDGET_ENTITIES: \"entities\",\n  BIZAGI_WORKPORTAL_WIDGET_REPORTS: \"reports\",\n  BIZAGI_WORKPORTAL_WIDGET_REPORTS_MENU: \"reportsMenu\",\n  BIZAGI_WORKPORTAL_WIDGET_REPORTS_CHART: \"reportsChart\",\n  BIZAGI_WORKPORTAL_WIDGET_SMARTFOLDERS: \"smartfolders\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_CASES: \"adminReassignCases\",\n  BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE: \"reassignCase\",\n  BIZAGI_WORKPORTAL_WIDGET_ASYNCECM_UPLOAD: \"asyncECMUpload\",\n  BIZAGI_WORKPORTAL_WIDGET_PROCESS_TREE: \"processTree\",\n  BIZAGI_WORKPORTAL_WIDGET_ENTITIES_TREE: \"entitiesTree\",\n  BIZAGI_WORKPORTAL_WIDGET_USERS_TABLE: \"usersTable\",\n  BIZAGI_WORKPORTAL_WIDGET_ACTIVITY_LOG: \"activityLog\",\n  BIZAGI_WORKPORTAL_WIDGET_AUTHENTICATION_LOG: \"authenticationLog\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ENTITIES: \"entityAdmin\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ENCRYPT_PASSWORDS: \"encryptPasswords\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_REQUESTS: \"userPendingRequests\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_CASE_SEARCH: \"adminCaseSearch\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ASYNC_ACTIVITIES: \"asyncActivities\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_DEFAULTS_ASSIGNATION_USER: \"defaultsAssignUser\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_TRANSFER_CASE_SECURITY_PERMISSIONS: \"transferCaseSecurityPermissions\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_PROFILES: \"userProfiles\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ALARMS: \"adminAlarms\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_LICENSES: \"userlicenses\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_DIMENSIONS: \"dimensions\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_DOCUMENT_TEMPLATES: \"documentTemplates\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_PROCESSES: \"processes\",\n  BIZAGI_WORKPORTAL_WIDGET_START_PROCESS: \"startProcess\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES: \"businessPolicies\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_LANGUAGE: \"languageAdmin\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_DECISION_TABLE: \"businessPoliciesDecisionTable\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_POLITICS: \"businessPoliciesPolitics\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_RULES: \"businessPoliciesRules\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_TABS: \"businessPoliciesTabs\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICIES_VOCABULARIES: \"businessPoliciesVocabularies\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_PREFERENCES: \"adminPreferences\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_DISPLAY_OPTIONS: \"adminDisplayOptions\",\n  BIZAGI_WORKPORTAL_WIDGET_TREE: \"tree\",\n  BIZAGI_WORKPORTAL_WIDGET_GRAPHIC_QUERY: \"graphicquery\",\n  BIZAGI_WORKPORTAL_WIDGET_PROCESS_MODELER_VIEW: \"processModeler\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_ADMINISTRATION: \"adminUsers\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_DELEGATION: \"usersDelegation\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_DELEGATION_SEARCH_USER: \"usersDelegationSearchUser\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_STAKEHOLDERS: \"adminStakeholders\",\n  BIZAGI_WORKPORTAL_WIDGET_BIZAGI_EVENTS: \"events\",\n  BIZAGI_WORKPORTAL_WIDGET_BIZAGI_RELEASE: \"release\",\n  BIZAGI_WORKPORTAL_WIDGET_PROJECT_PROCESS_DIAGRAM_HELPER: \"processDiagramHelper\",\n  BIZAGI_WORKPORTAL_WIDGET_PROJECT_ACTIVITY_MAP_TOOLTIP: \"activityMapTooltip\",\n  BIZAGI_WORKPORTAL_WIDGET_PROJECT_USERSUMMARY: \"usersummary\",\n  BIZAGI_WORKPORTAL_WIDGET_MYSEARCHLIST: \"mySearchList\",\n  BIZAGI_WORKPORTAL_WIDGET_LOADFORM: \"loadForm\",\n  BIZAGI_WORKPORTAL_WIDGET_TEMPLATE_ENGINE: \"templates\",\n  BIZAGI_WORKPORTAL_WIDGET_DIALOGNAV: \"dialognav\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_HOLIDAYS: \"holidays\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_PROJECTNAME: \"projectName\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_OAUTH2APPLICATIONS: \"oauth2Applications\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_PROCESSES: \"adhocProcesses\",\n  BIZAGI_WORKPORTAL_WIDGET_TIMELINE: \"timeline\",\n  BIZAGI_WORKPORTAL_WIDGET_ADHOC_PROCESS_MODELER: \"adhocProcessModeler\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_ENTITIES: \"adhocEntities\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_USER_GROUPS: \"adhocUserGroups\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_CREATE_PROCESS: \"adhocCreateProcess\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ADHOC_BOOLEAN_EXP: \"adhocBooleanExp\",\n  BIZAGI_WORKPORTAL_WIDGET_ADHOC_CREATE_PROCESS: \"adhocCreateProcess\",\n  BIZAGI_WORKPORTAL_WIDGET_PROFLY: \"adhocprofly\",\n  BIZAGI_WORKPORTAL_WIDGET_SESSION_TIMEOUT: \"sessionTimeOut\",\n  BIZAGI_WORKPORTAL_WIDGET_SESSION_TIMEOUT_EXPIRED: \"sessionTimeOutExpired\",\n  BIZAGI_WORKPORTAL_WIDGET_USER_PRIVACY: \"userPrivacy\",\n  BIZAGI_WORKPORTAL_WIDGET_ACCESS_DENIED: \"accessDenied\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_BUSINESS_POLICES: \"adminBusinessPolices\",\n  BIZAGI_WORKPORTAL_WIDGET_USERS_MODAL: \"usersModal\",\n  BIZAGI_WORKPORTAL_WIDGET_QUERIES_MANAGEMENT: \"queriesManagement\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_PERMISSION_REPORT: \"userPermissionReport\",\n  BIZAGI_WORKPORTAL_WIDGET_ACTIVITY_DESCRIPTION_CONTENT: \"activityDescriptionContent\",\n  BIZAGI_WORKPORTAL_WIDGET_QUICKACTIONS_EXECUTE: \"quickActionsExecute\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_ERROR_LOGS: \"errorLogs\",\n  BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX: \"smartinbox\",\n  BIZAGI_WORKPORTAL_WIDGET_ADMIN_SMARTINBOX: \"smartinboxAdmin\",\n  BIZAGI_WORKPORTAL_WIDGET_CANCEL_CASE: \"cancelCase\" }, (_bizagi$workportal$co = {\n\n\n  /*\r\n                                                                                   *   Constructor\r\n                                                                                   */\n  init: function init(workportalFacade, dataService, params) {\n    // Call base\n    this._super(workportalFacade, dataService);\n\n    // Set params\n    this.params = params;\n    if (params && params.menu) {\n      this.menu = params.menu;\n    }\n\n    this.observableElement = $({});\n\n    this.widgetReadyDeferred = new $.Deferred();\n\n    this.isBlocked = false;\n  },\n\n  /*\r\n     *   Publish an event so any controller can subscribe to it\r\n     */\n  publish: function publish(eventName, params) {\n    if (this.disposed) return null;\n    // Overrides base method to add referrer\n    $(document).triggerHandler(eventName, $.extend(params, {\n      referrer: this.getWidgetName() }));\n\n  },\n\n\n  /*\r\n     *   Change the current widget\r\n     */\n  changeWidget: function changeWidget(widgetName, params) {\n    var self = this;\n    params = params || {};\n    var widgetParams = $.extend(params, {\n      widgetName: widgetName });\n\n    self.publish(\"changeWidget\", widgetParams);\n  },\n\n  /*\r\n     *   Executes a workportal action\r\n     */\n  executeAction: function executeAction(actionName, params) {\n    var self = this;\n    params = params || {};\n    var actionParams = $.extend(params, {\n      action: actionName });\n\n    self.publish(\"executeAction\", actionParams);\n  },\n\n  /*\r\n     * Show graphic query\r\n     */\n  showGraphicQuery: function showGraphicQuery(data) {\n    var self = this;\n    /*This method is used for validate if the request is referd to process on the fly */\n    var processOnTheFly = data.isAdhoc;\n    if (processOnTheFly === true) {\n      bizagi.loader.start(\"processmodelerview\").then(function () {\n        self.publish(\"showDialogWidget\", {\n          widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROCESS_MODELER_VIEW,\n          data: data,\n          modalParameters: {\n            title: \"Process viewer\",\n            refreshInbox: false },\n\n          maximizeOnly: true,\n          onClose: function onClose() {\n            bizagi.workportal.desktop.dialogStack.pop();\n          } });\n\n      });\n    } else\n    {\n      bizagi.loader.start(\"processviewer\").then(function () {\n        self.publish(\"showDialogWidget\", {\n          widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GRAPHIC_QUERY,\n          data: data,\n          modalParameters: {\n            title: self.getResource(\"render-graphic-query\"),\n            refreshInbox: false },\n\n          maximizeOnly: true,\n          onClose: function onClose() {\n            bizagi.workportal.desktop.dialogStack.pop();\n          } });\n\n      });\n    }\n  },\n\n  isProcessOnTheFlyCase: function isProcessOnTheFlyCase() {\n    return true;\n  },\n\n  showTimeLine: function showTimeLine(data) {\n    var self = this;\n    bizagi.loader.startAndThen(\"timeline\").then(function () {\n      self.publish(\"showDialogWidget\", {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_TIMELINE,\n        data: data,\n        modalParameters: {\n          title: self.getResource(\"workportal-project-casedashboard-timeline\"),\n          refreshInbox: false },\n\n        maximizeOnly: true,\n        onClose: function onClose() {\n          bizagi.workportal.desktop.dialogStack.pop();\n        } });\n\n    });\n  },\n\n\n  /**\r\n      * open modal for selec an user\r\n      * @param {Deffered} def \r\n      */\n  showSelectUser: function showSelectUser(def) {\n    var self = this;\n    bizagi.loader.startAndThen(\"admin\").then(function () {\n      self.publish(\"showDialogWidget\", {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_USERS_TABLE,\n        data: {},\n        closeVisible: false,\n        maximize: true,\n        modalParameters: {\n          title: bizagi.localization.getResource(\"workportal-widget-usertable-search-user\"),\n          width: \"930px\",\n          id: \"SelectUser\" },\n\n        userLinkLabel: [bizagi.localization.getResource(\"workportal-widget-admin-defaults-assignation-select-link\")],\n        parentDef: def,\n        showBackButton: false,\n        onClose: function onClose() {\n          def.reject();\n        } });\n\n\n      $.when(def).done(function (userId, userName, guid) {\n        self.publish(\"closeCurrentDialog\");\n      });\n    });\n  } }, _defineProperty(_bizagi$workportal$co, \"showSelectUser\",\n\n\n\n\n\nfunction showSelectUser(def) {\n  var self = this;\n  bizagi.loader.startAndThen(\"admin\").then(function () {\n    self.publish(\"showDialogWidget\", {\n      widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_USERS_TABLE,\n      data: {},\n      closeVisible: false,\n      maximize: true,\n      modalParameters: {\n        title: bizagi.localization.getResource(\"workportal-widget-usertable-search-user\"),\n        width: \"930px\",\n        id: \"SelectUser\" },\n\n      userLinkLabel: [bizagi.localization.getResource(\"workportal-widget-admin-defaults-assignation-select-link\")],\n      parentDef: def,\n      showBackButton: false,\n      onClose: function onClose() {\n        def.reject();\n      } });\n\n\n    $.when(def).done(function (userId, userName, guid) {\n      self.publish(\"closeCurrentDialog\");\n    });\n  });\n}), _defineProperty(_bizagi$workportal$co, \"routingExecute\",\n\nfunction routingExecute(element) {\n  // Executes routing action\n  if (element == undefined) {\n    return false;\n  }\n\n  var self = this;\n\n  var idCase = element.find(\"#idCase\").val() || self.params.idCase;\n  var idWorkflow = element.find(\"#idWorkflow\").val() || self.params.idWorkflow;\n  var idWorkItem = element.find(\"#idWorkItem\").val() || element.parent().find(\"#idWorkItem\").val();\n  var idTask = element.find(\"#idTask\").val();\n  var eventAsTasks = element.find(\"#eventAsTasks\").val() || false;\n\n  self.publish(\"executeAction\", {\n    action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n    idCase: idCase,\n    idWorkflow: idWorkflow,\n    idWorkItem: idWorkItem,\n    idTask: idTask,\n    eventAsTasks: eventAsTasks });\n\n\n  return true;\n}), _defineProperty(_bizagi$workportal$co, \"getWidgetName\",\n\n\n\n\n\nfunction getWidgetName() {\n  return this.Class.fullName;\n}), _defineProperty(_bizagi$workportal$co, \"sub\",\n\n\n\n\n\nfunction sub(event) {\n  // Gets events registered\n  //var events = $._data(this.observableElement[0], \"events\");\n  // If the events exist, ignore it\n  //if (!events || !events[event]) {\n  this.observableElement.off.apply(this.observableElement, arguments);\n  this.observableElement.on.apply(this.observableElement, arguments);\n  //}\n}), _defineProperty(_bizagi$workportal$co, \"unsub\",\n\n\n\n\nfunction unsub() {\n  this.observableElement.off.apply(this.observableElement, arguments);\n}), _defineProperty(_bizagi$workportal$co, \"pub\",\n\n\n\n\nfunction pub() {\n  return this.observableElement.triggerHandler.apply(this.observableElement, arguments);\n}), _defineProperty(_bizagi$workportal$co, \"pubDeadLockDetection\",\n\n\n\n\nfunction pubDeadLockDetection() {\n  var def = new $.Deferred();\n  if (!self.isBlocked) {\n    self.isBlocked = true;\n    var pubDef = this.pub.apply(this, arguments);\n    var queueDef = Array.isArray(pubDef) ? pubDef : [pubDef];\n    $.when.apply($, queueDef).done(function (data) {\n      self.isBlocked = false;\n      def.resolve();\n    });\n  } else {\n    def.reject();\n  }\n  return def.promise();\n}), _defineProperty(_bizagi$workportal$co, \"clean\",\n\n\n\n\nfunction clean() {\n  var self = this;\n\n  //remove events\n  if (this.observableElement) {\n    var events = $._data(this.observableElement[0], \"events\");\n\n    if (events) {\n      for (var event in events) {\n        if (event != \"notify\" &&\n        event != 'showDialogWidget' &&\n        event != 'showNotification') {\n          self.unsub(event);\n        }\n      }\n    }\n  }\n}), _defineProperty(_bizagi$workportal$co, \"isReady\",\n\nfunction isReady() {\n  return this.widgetReadyDeferred.promise();\n}), _defineProperty(_bizagi$workportal$co, \"setWidgetReady\",\n\nfunction setWidgetReady() {\n  this.widgetReadyDeferred.resolve();\n}), _defineProperty(_bizagi$workportal$co, \"getDateWithTimezone\",\n\n\n\n\n\n\n\nfunction getDateWithTimezone(format, timeZone, date) {\n  var moment = window.bizagi.moment;\n  var _actualDate = function _actualDate() {\n    return new Date(moment().tz(timeZone).format());\n  },\n  _formatDate = function _formatDate() {\n    return new Date(moment.tz(date, format, timeZone).format());\n  };\n  return date ? _formatDate() : _actualDate();\n}), _bizagi$workportal$co));","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /* http://keith-wood.name/timeEntry.html\r\n                                                                                                                                                                                                                                                                                                                                                                               Time entry for jQuery v1.4.8.\r\n                                                                                                                                                                                                                                                                                                                                                                               Written by Keith Wood (kbwood{at}iinet.com.au) June 2007.\r\n                                                                                                                                                                                                                                                                                                                                                                               Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and \r\n                                                                                                                                                                                                                                                                                                                                                                               MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. \r\n                                                                                                                                                                                                                                                                                                                                                                               Please attribute the author if you use it. */\n\n/* Turn an input field into an entry point for a time value.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             The time can be entered via directly typing the value,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             via the arrow keys, or via spinner buttons.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             It is configurable to show 12 or 24-hour time, to show or hide seconds,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             to enforce a minimum and/or maximum time, to change the spinner image,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             and to constrain the time to steps, e.g. only on the quarter hours.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             Attach it with $('input selector').timeEntry(); for default settings,\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             or configure it with options like:\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             $('input selector').timeEntry(\r\n                                                                                                                                                                                                                                                                                                                                                                                                                             {spinnerImage: 'spinnerSquare.png', spinnerSize: [20, 20, 0]}); */\n\n(function ($) {// Hide scope, no $ conflict\n\n  /* TimeEntry manager.\r\n  Use the singleton instance of this class, $.timeEntry, to interact with the time entry\r\n  functionality. Settings for (groups of) fields are maintained in an instance object\r\n  (TimeEntryInstance), allowing multiple different settings on the same page. */\n  function TimeEntry() {\n    this._disabledInputs = []; // List of time entry inputs that have been disabled\n    this.regional = []; // Available regional settings, indexed by language code\n    this.regional[''] = { // Default regional settings\n      show24Hours: false, // True to use 24 hour time, false for 12 hour (AM/PM)\n      separator: ':', // The separator between time fields\n      ampmPrefix: '', // The separator before the AM/PM text\n      ampmNames: ['AM', 'PM'], // Names of morning/evening markers\n      spinnerTexts: ['Now', 'Previous field', 'Next field', 'Increment', 'Decrement']\n      // The popup texts for the spinner image areas\n    };\n    this._defaults = {\n      appendText: '', // Display text following the input box, e.g. showing the format\n      showSeconds: false, // True to show seconds as well, false for hours/minutes only\n      showZeroInHour: true, //True to show 0 when hour < 10\n      timeSteps: [1, 1, 1], // Steps for each of hours/minutes/seconds when incrementing/decrementing\n      initialField: 0, // The field to highlight initially, 0 = hours, 1 = minutes, ...\n      useMouseWheel: true, // True to use mouse wheel for increment/decrement if possible,\n      // false to never use it\n      defaultTime: null, // The time to use if none has been set, leave at null for now\n      minTime: null, // The earliest selectable time, or null for no limit\n      maxTime: null, // The latest selectable time, or null for no limit\n      spinnerImage: 'spinnerDefault.png', // The URL of the images to use for the time spinner\n      // Seven images packed horizontally for normal, each button pressed, and disabled\n      spinnerSize: [20, 20, 8], // The width and height of the spinner image,\n      // and size of centre button for current time\n      spinnerBigImage: '', // The URL of the images to use for the expanded time spinner\n      // Seven images packed horizontally for normal, each button pressed, and disabled\n      spinnerBigSize: [40, 40, 16], // The width and height of the expanded spinner image,\n      // and size of centre button for current time\n      spinnerIncDecOnly: false, // True for increment/decrement buttons only, false for all\n      spinnerRepeat: [500, 250], // Initial and subsequent waits in milliseconds\n      // for repeats on the spinner buttons\n      beforeShow: null, // Function that takes an input field and\n      // returns a set of custom settings for the time entry\n      beforeSetTime: null // Function that runs before updating the time,\n      // takes the old and new times, and minimum and maximum times as parameters,\n      // and returns an adjusted time if necessary\n    };\n    $.extend(this._defaults, this.regional['']);\n  }\n\n  var PROP_NAME = 'timeEntry';\n\n  $.extend(TimeEntry.prototype, {\n    /* Class name added to elements to indicate already configured with time entry. */\n    markerClassName: 'hasTimeEntry',\n\n    /* Override the default settings for all instances of the time entry.\r\n                                     @param  options  (object) the new settings to use as defaults (anonymous object)\r\n                                     @return  (DateEntry) this object */\n    setDefaults: function setDefaults(options) {\n      extendRemove(this._defaults, options || {});\n      return this;\n    },\n\n    /* Attach the time entry handler to an input field.\r\n       @param  target   (element) the field to attach to\r\n       @param  options  (object) custom settings for this instance */\n    _connectTimeEntry: function _connectTimeEntry(target, options) {\n      var input = $(target);\n      if (input.hasClass(this.markerClassName)) {\n        return;\n      }\n      var inst = {};\n      inst.options = $.extend({}, options);\n      inst._selectedHour = 0; // The currently selected hour\n      inst._selectedMinute = 0; // The currently selected minute\n      inst._selectedSecond = 0; // The currently selected second\n      inst._field = 0; // The selected subfield\n      inst.input = $(target); // The attached input field\n      $.data(target, PROP_NAME, inst);\n      var spinnerImage = this._get(inst, 'spinnerImage');\n      var spinnerText = this._get(inst, 'spinnerText');\n      var spinnerSize = this._get(inst, 'spinnerSize');\n      var appendText = this._get(inst, 'appendText');\n      var spinner = !spinnerImage ? null :\n      $('<span class=\"timeEntry_control\" style=\"display: table-cell; bottom: 25%;' +\n      'width: ' + spinnerSize[0] + 'px; height: ' + spinnerSize[1] + 'px;' + (\n      $.browser.mozilla && $.browser.version < '1.9' ? // FF 2- (Win)\n      ' padding-left: ' + spinnerSize[0] + 'px; padding-bottom: ' + (\n      spinnerSize[1] - 18) + 'px;' : '') + '\"></span>');\n      input.wrap('<span class=\"timeEntry_wrap\" style=\"display: table; position: relative\"></span>').\n      after(appendText ? '<span class=\"timeEntry_append\">' + appendText + '</span>' : '').\n      after(spinner || '');\n      input.addClass(this.markerClassName).bind('focus.timeEntry', this._doFocus).\n      bind('blur.timeEntry', this._doBlur).bind('click.timeEntry', this._doClick).\n      bind('keydown.timeEntry', this._doKeyDown).bind('keypress.timeEntry', this._doKeyPress);\n      // Check pastes\n      if ($.browser.mozilla) {\n        input.bind('input.timeEntry', function (event) {$.timeEntry._parseTime(inst);});\n      }\n      if ($.browser.msie) {\n        input.bind('paste.timeEntry',\n        function (event) {setTimeout(function () {$.timeEntry._parseTime(inst);}, 1);});\n      }\n      // Allow mouse wheel usage\n      if (this._get(inst, 'useMouseWheel') && $.fn.mousewheel) {\n        input.mousewheel(this._doMouseWheel);\n      }\n      if (spinner) {\n        spinner.mousedown(this._handleSpinner).mouseup(this._endSpinner).\n        mouseover(this._expandSpinner).mouseout(this._endSpinner).\n        mousemove(this._describeSpinner);\n      }\n    },\n\n    /* Enable a time entry input and any associated spinner.\r\n       @param  input  (element) single input field */\n    _enableTimeEntry: function _enableTimeEntry(input) {\n      this._enableDisable(input, false);\n    },\n\n    /* Disable a time entry input and any associated spinner.\r\n       @param  input  (element) single input field */\n    _disableTimeEntry: function _disableTimeEntry(input) {\n      this._enableDisable(input, true);\n    },\n\n    /* Enable or disable a time entry input and any associated spinner.\r\n       @param  input    (element) single input field\r\n       @param  disable  (boolean) true to disable, false to enable */\n    _enableDisable: function _enableDisable(input, disable) {\n      var inst = $.data(input, PROP_NAME);\n      if (!inst) {\n        return;\n      }\n      input.disabled = disable;\n      if (input.nextSibling && input.nextSibling.nodeName.toLowerCase() == 'span') {\n        $.timeEntry._changeSpinner(inst, input.nextSibling, disable ? 5 : -1);\n      }\n      $.timeEntry._disabledInputs = $.map($.timeEntry._disabledInputs,\n      function (value) {return value == input ? null : value;}); // Delete entry\n      if (disable) {\n        $.timeEntry._disabledInputs.push(input);\n      }\n    },\n\n    /* Check whether an input field has been disabled.\r\n       @param  input  (element) input field to check\r\n       @return  (boolean) true if this field has been disabled, false if it is enabled */\n    _isDisabledTimeEntry: function _isDisabledTimeEntry(input) {\n      return $.inArray(input, this._disabledInputs) > -1;\n    },\n\n    /* Reconfigure the settings for a time entry field.\r\n       @param  input    (element) input field to change\r\n       @param  options  (object) new settings to add or\r\n       (string) an individual setting name\r\n       @param  value    (any) the individual setting's value */\n    _changeTimeEntry: function _changeTimeEntry(input, options, value) {\n      var inst = $.data(input, PROP_NAME);\n      if (inst) {\n        if (typeof options == 'string') {\n          var name = options;\n          options = {};\n          options[name] = value;\n        }\n        var currentTime = this._extractTime(inst);\n        extendRemove(inst.options, options || {});\n        if (currentTime) {\n          this._setTime(inst, new Date(0, 0, 0,\n          currentTime[0], currentTime[1], currentTime[2]));\n        }\n      }\n      $.data(input, PROP_NAME, inst);\n    },\n\n    /* Remove the time entry functionality from an input.\r\n       @param  input  (element) input field to affect */\n    _destroyTimeEntry: function _destroyTimeEntry(input) {\n      $input = $(input);\n      if (!$input.hasClass(this.markerClassName)) {\n        return;\n      }\n      $input.removeClass(this.markerClassName).unbind('.timeEntry');\n      if ($.fn.mousewheel) {\n        $input.unmousewheel();\n      }\n      this._disabledInputs = $.map(this._disabledInputs,\n      function (value) {return value == input ? null : value;}); // Delete entry\n      $input.parent().replaceWith($input);\n      $.removeData(input, PROP_NAME);\n    },\n\n    /* Initialise the current time for a time entry input field.\r\n       @param  input  (element) input field to update\r\n       @param  time   (Date) the new time (year/month/day ignored) or null for now */\n    _setTimeTimeEntry: function _setTimeTimeEntry(input, time) {\n      var inst = $.data(input, PROP_NAME);\n      if (inst) {\n        this._setTime(inst, time ? _typeof(time) == 'object' ?\n        new Date(time.getTime()) : time : null);\n      }\n    },\n\n    /* Retrieve the current time for a time entry input field.\r\n       @param  input  (element) input field to examine\r\n       @return  (Date) current time (year/month/day zero) or null if none */\n    _getTimeTimeEntry: function _getTimeTimeEntry(input) {\n      var inst = $.data(input, PROP_NAME);\n      var currentTime = inst ? this._extractTime(inst) : null;\n      return !currentTime ? null :\n      new Date(0, 0, 0, currentTime[0], currentTime[1], currentTime[2]);\n    },\n\n    /* Retrieve the millisecond offset for the current time.\r\n       @param  input  (element) input field to examine\r\n       @return  (number) the time as milliseconds offset or zero if none */\n    _getOffsetTimeEntry: function _getOffsetTimeEntry(input) {\n      var inst = $.data(input, PROP_NAME);\n      var currentTime = inst ? this._extractTime(inst) : null;\n      return !currentTime ? 0 :\n      (currentTime[0] * 3600 + currentTime[1] * 60 + currentTime[2]) * 1000;\n    },\n\n    /* Initialise time entry.\r\n       @param  target  (element) the input field or\r\n       (event) the focus event */\n    _doFocus: function _doFocus(target) {\n      var input = target.nodeName && target.nodeName.toLowerCase() == 'input' ? target : this;\n      if ($.timeEntry._lastInput == input || $.timeEntry._isDisabledTimeEntry(input)) {\n        $.timeEntry._focussed = false;\n        return;\n      }\n      var inst = $.data(input, PROP_NAME);\n      $.timeEntry._focussed = true;\n      $.timeEntry._lastInput = input;\n      $.timeEntry._blurredInput = null;\n      var beforeShow = $.timeEntry._get(inst, 'beforeShow');\n      extendRemove(inst.options, beforeShow ? beforeShow.apply(input, [input]) : {});\n      $.data(input, PROP_NAME, inst);\n      $.timeEntry._parseTime(inst);\n      setTimeout(function () {$.timeEntry._showField(inst);}, 10);\n    },\n\n    /* Note that the field has been exited.\r\n       @param  event  (event) the blur event */\n    _doBlur: function _doBlur(event) {\n      $.timeEntry._blurredInput = $.timeEntry._lastInput;\n      $.timeEntry._lastInput = null;\n    },\n\n    /* Select appropriate field portion on click, if already in the field.\r\n       @param  event  (event) the click event */\n    _doClick: function _doClick(event) {\n      var input = event.target;\n      var inst = $.data(input, PROP_NAME);\n      if (!$.timeEntry._focussed) {\n        var fieldSize = $.timeEntry._get(inst, 'separator').length + 2;\n        inst._field = 0;\n        if (input.selectionStart != null) {// Use input select range\n          for (var field = 0; field <= Math.max(1, inst._secondField, inst._ampmField); field++) {\n            var end = field != inst._ampmField ? field * fieldSize + 2 :\n            inst._ampmField * fieldSize + $.timeEntry._get(inst, 'ampmPrefix').length +\n            $.timeEntry._get(inst, 'ampmNames')[0].length;\n            inst._field = field;\n            if (input.selectionStart < end) {\n              break;\n            }\n          }\n        } else\n        if (input.createTextRange) {// Check against bounding boxes\n          var src = $(event.srcElement);\n          var range = input.createTextRange();\n          var convert = function convert(value) {\n            return { thin: 2, medium: 4, thick: 6 }[value] || value;\n          };\n          var offsetX = event.clientX + document.documentElement.scrollLeft - (\n          src.offset().left + parseInt(convert(src.css('border-left-width')), 10)) -\n          range.offsetLeft; // Position - left edge - alignment\n          for (var field = 0; field <= Math.max(1, inst._secondField, inst._ampmField); field++) {\n            var end = field != inst._ampmField ? field * fieldSize + 2 :\n            inst._ampmField * fieldSize + $.timeEntry._get(inst, 'ampmPrefix').length +\n            $.timeEntry._get(inst, 'ampmNames')[0].length;\n            range.collapse();\n            range.moveEnd('character', end);\n            inst._field = field;\n            if (offsetX < range.boundingWidth) {// And compare\n              break;\n            }\n          }\n        }\n      }\n      $.data(input, PROP_NAME, inst);\n      $.timeEntry._showField(inst);\n      $.timeEntry._focussed = false;\n    },\n\n    /* Handle keystrokes in the field.\r\n       @param  event  (event) the keydown event\r\n       @return  (boolean) true to continue, false to stop processing */\n    _doKeyDown: function _doKeyDown(event) {\n      if (event.keyCode >= 48) {// >= '0'\n        return true;\n      }\n      var inst = $.data(event.target, PROP_NAME);\n      switch (event.keyCode) {\n        case 9:return event.shiftKey ?\n          // Move to previous time field, or out if at the beginning\n          $.timeEntry._changeField(inst, -1, true) :\n          // Move to next time field, or out if at the end\n          $.timeEntry._changeField(inst, +1, true);\n        case 35:if (event.ctrlKey) {// Clear time on ctrl+end\n            $.timeEntry._setValue(inst, '');\n          } else\n          {// Last field on end\n            inst._field = Math.max(1, inst._secondField, inst._ampmField);\n            $.timeEntry._adjustField(inst, 0);\n          }\n          break;\n        case 36:if (event.ctrlKey) {// Current time on ctrl+home\n            $.timeEntry._setTime(inst);\n          } else\n          {// First field on home\n            inst._field = 0;\n            $.timeEntry._adjustField(inst, 0);\n          }\n          break;\n        case 37:$.timeEntry._changeField(inst, -1, false);break; // Previous field on left\n        case 38:$.timeEntry._adjustField(inst, +1);break; // Increment time field on up\n        case 39:$.timeEntry._changeField(inst, +1, false);break; // Next field on right\n        case 40:$.timeEntry._adjustField(inst, -1);break; // Decrement time field on down\n        case 46:$.timeEntry._setValue(inst, '');break; // Clear time on delete\n      }\n      return false;\n    },\n\n    /* Disallow unwanted characters.\r\n       @param  event  (event) the keypress event\r\n       @return  (boolean) true to continue, false to stop processing */\n    _doKeyPress: function _doKeyPress(event) {\n      var chr = String.fromCharCode(event.charCode == undefined ? event.keyCode : event.charCode);\n      if (chr < ' ') {\n        return true;\n      }\n      var inst = $.data(event.target, PROP_NAME);\n      $.timeEntry._handleKeyPress(inst, chr);\n      return false;\n    },\n\n    /* Increment/decrement on mouse wheel activity.\r\n       @param  event  (event) the mouse wheel event\r\n       @param  delta  (number) the amount of change */\n    _doMouseWheel: function _doMouseWheel(event, delta) {\n      if ($.timeEntry._isDisabledTimeEntry(event.target)) {\n        return;\n      }\n      delta = $.browser.opera ? -delta / Math.abs(delta) :\n      $.browser.safari ? delta / Math.abs(delta) : delta;\n      var inst = $.data(event.target, PROP_NAME);\n      inst.input.focus();\n      if (!inst.input.val()) {\n        $.timeEntry._parseTime(inst);\n      }\n      $.timeEntry._adjustField(inst, delta);\n      event.preventDefault();\n    },\n\n    /* Expand the spinner, if possible, to make it easier to use.\r\n       @param  event  (event) the mouse over event */\n    _expandSpinner: function _expandSpinner(event) {\n      var spinner = $.timeEntry._getSpinnerTarget(event);\n      var inst = $.data($.timeEntry._getInput(spinner), PROP_NAME);\n      var spinnerBigImage = $.timeEntry._get(inst, 'spinnerBigImage');\n      if (spinnerBigImage) {\n        inst._expanded = true;\n        var offset = $(spinner).offset();\n        var relative = null;\n        $(spinner).parents().each(function () {\n          var parent = $(this);\n          if (parent.css('position') == 'relative' ||\n          parent.css('position') == 'absolute') {\n            relative = parent.offset();\n          }\n          return !relative;\n        });\n        var spinnerSize = $.timeEntry._get(inst, 'spinnerSize');\n        var spinnerBigSize = $.timeEntry._get(inst, 'spinnerBigSize');\n        $('<div class=\"timeEntry_expand\" style=\"position: absolute; left: ' + (\n        offset.left - (spinnerBigSize[0] - spinnerSize[0]) / 2 - (\n        relative ? relative.left : 0)) + 'px; top: ' + (offset.top -\n        (spinnerBigSize[1] - spinnerSize[1]) / 2 - (relative ? relative.top : 0)) +\n        'px; width: ' + spinnerBigSize[0] + 'px; height: ' +\n        spinnerBigSize[1] + 'px; background: transparent url(' +\n        spinnerBigImage + ') no-repeat 0px 0px; z-index: 10;\"></div>').\n        mousedown($.timeEntry._handleSpinner).mouseup($.timeEntry._endSpinner).\n        mouseout($.timeEntry._endExpand).mousemove($.timeEntry._describeSpinner).\n        insertAfter(spinner);\n      }\n    },\n\n    /* Locate the actual input field from the spinner.\r\n       @param  spinner  (element) the current spinner\r\n       @return  (element) the corresponding input */\n    _getInput: function _getInput(spinner) {\n      return $(spinner).siblings('.' + $.timeEntry.markerClassName)[0];\n    },\n\n    /* Change the title based on position within the spinner.\r\n       @param  event  (event) the mouse move event */\n    _describeSpinner: function _describeSpinner(event) {\n      var spinner = $.timeEntry._getSpinnerTarget(event);\n      var inst = $.data($.timeEntry._getInput(spinner), PROP_NAME);\n      spinner.title = $.timeEntry._get(inst, 'spinnerTexts')[\n      $.timeEntry._getSpinnerRegion(inst, event)];\n    },\n\n    /* Handle a click on the spinner.\r\n       @param  event  (event) the mouse click event */\n    _handleSpinner: function _handleSpinner(event) {\n      var spinner = $.timeEntry._getSpinnerTarget(event);\n      var input = $.timeEntry._getInput(spinner);\n      if ($.timeEntry._isDisabledTimeEntry(input)) {\n        return;\n      }\n      if (input == $.timeEntry._blurredInput) {\n        $.timeEntry._lastInput = input;\n        $.timeEntry._blurredInput = null;\n      }\n      var inst = $.data(input, PROP_NAME);\n      $.timeEntry._doFocus(input);\n      var region = $.timeEntry._getSpinnerRegion(inst, event);\n      $.timeEntry._changeSpinner(inst, spinner, region);\n      $.timeEntry._actionSpinner(inst, region);\n      $.timeEntry._timer = null;\n      $.timeEntry._handlingSpinner = true;\n      var spinnerRepeat = $.timeEntry._get(inst, 'spinnerRepeat');\n      if (region >= 3 && spinnerRepeat[0]) {// Repeat increment/decrement\n        $.timeEntry._timer = setTimeout(\n        function () {$.timeEntry._repeatSpinner(inst, region);},\n        spinnerRepeat[0]);\n        $(spinner).one('mouseout', $.timeEntry._releaseSpinner).\n        one('mouseup', $.timeEntry._releaseSpinner);\n      }\n    },\n\n    /* Action a click on the spinner.\r\n       @param  inst    (object) the instance settings\r\n       @param  region  (number) the spinner \"button\" */\n    _actionSpinner: function _actionSpinner(inst, region) {\n      if (!inst.input.val()) {\n        $.timeEntry._parseTime(inst);\n      }\n      switch (region) {\n        case 0:this._setTime(inst, undefined, true);break;\n        case 1:this._changeField(inst, -1, false);break;\n        case 2:this._changeField(inst, +1, false);break;\n        case 3:this._adjustField(inst, +1);break;\n        case 4:this._adjustField(inst, -1);break;}\n\n    },\n\n    /* Repeat a click on the spinner.\r\n       @param  inst    (object) the instance settings\r\n       @param  region  (number) the spinner \"button\" */\n    _repeatSpinner: function _repeatSpinner(inst, region) {\n      if (!$.timeEntry._timer) {\n        return;\n      }\n      $.timeEntry._lastInput = $.timeEntry._blurredInput;\n      this._actionSpinner(inst, region);\n      this._timer = setTimeout(\n      function () {$.timeEntry._repeatSpinner(inst, region);},\n      this._get(inst, 'spinnerRepeat')[1]);\n    },\n\n    /* Stop a spinner repeat.\r\n       @param  event  (event) the mouse event */\n    _releaseSpinner: function _releaseSpinner(event) {\n      clearTimeout($.timeEntry._timer);\n      $.timeEntry._timer = null;\n    },\n\n    /* Tidy up after an expanded spinner.\r\n       @param  event  (event) the mouse event */\n    _endExpand: function _endExpand(event) {\n      $.timeEntry._timer = null;\n      var spinner = $.timeEntry._getSpinnerTarget(event);\n      var input = $.timeEntry._getInput(spinner);\n      var inst = $.data(input, PROP_NAME);\n      $(spinner).remove();\n      inst._expanded = false;\n    },\n\n    /* Tidy up after a spinner click.\r\n       @param  event  (event) the mouse event */\n    _endSpinner: function _endSpinner(event) {\n      $.timeEntry._timer = null;\n      var spinner = $.timeEntry._getSpinnerTarget(event);\n      var input = $.timeEntry._getInput(spinner);\n      var inst = $.data(input, PROP_NAME);\n      if (!$.timeEntry._isDisabledTimeEntry(input)) {\n        $.timeEntry._changeSpinner(inst, spinner, -1);\n      }\n      if ($.timeEntry._handlingSpinner) {\n        $.timeEntry._lastInput = $.timeEntry._blurredInput;\n      }\n      if ($.timeEntry._lastInput && $.timeEntry._handlingSpinner) {\n        $.timeEntry._showField(inst);\n      }\n      $.timeEntry._handlingSpinner = false;\n    },\n\n    /* Retrieve the spinner from the event.\r\n       @param  event  (event) the mouse click event\r\n       @return  (element) the target field */\n    _getSpinnerTarget: function _getSpinnerTarget(event) {\n      return event.target || event.srcElement;\n    },\n\n    /* Determine which \"button\" within the spinner was clicked.\r\n       @param  inst   (object) the instance settings\r\n       @param  event  (event) the mouse event\r\n       @return  (number) the spinner \"button\" number */\n    _getSpinnerRegion: function _getSpinnerRegion(inst, event) {\n      var spinner = this._getSpinnerTarget(event);\n      var pos = $.browser.opera || $.browser.safari ?\n      $.timeEntry._findPos(spinner) : $(spinner).offset();\n      var scrolled = $.browser.safari ? $.timeEntry._findScroll(spinner) :\n      [document.documentElement.scrollLeft || document.body.scrollLeft,\n      document.documentElement.scrollTop || document.body.scrollTop];\n      var spinnerIncDecOnly = this._get(inst, 'spinnerIncDecOnly');\n      var left = spinnerIncDecOnly ? 99 : event.clientX + scrolled[0] -\n      pos.left - ($.browser.msie ? 2 : 0);\n      var top = event.clientY + scrolled[1] - pos.top - ($.browser.msie ? 2 : 0);\n      var spinnerSize = this._get(inst, inst._expanded ? 'spinnerBigSize' : 'spinnerSize');\n      var right = spinnerIncDecOnly ? 99 : spinnerSize[0] - 1 - left;\n      var bottom = spinnerSize[1] - 1 - top;\n      if (spinnerSize[2] > 0 && Math.abs(left - right) <= spinnerSize[2] &&\n      Math.abs(top - bottom) <= spinnerSize[2]) {\n        return 0; // Centre button\n      }\n      var min = Math.min(left, top, right, bottom);\n      return min == left ? 1 : min == right ? 2 : min == top ? 3 : 4; // Nearest edge\n    },\n\n    /* Change the spinner image depending on button clicked.\r\n       @param  inst     (object) the instance settings\r\n       @param  spinner  (element) the spinner control\r\n       @param  region   (number) the spinner \"button\" */\n    _changeSpinner: function _changeSpinner(inst, spinner, region) {\n      $(spinner).css('background-position', '-' + (region + 1) *\n      this._get(inst, inst._expanded ? 'spinnerBigSize' : 'spinnerSize')[0] + 'px 0px');\n    },\n\n    /* Find an object's position on the screen.\r\n       @param  obj  (element) the control\r\n       @return  (object) position as .left and .top */\n    _findPos: function _findPos(obj) {\n      var curLeft = curTop = 0;\n      if (obj.offsetParent) {\n        curLeft = obj.offsetLeft;\n        curTop = obj.offsetTop;\n        while (obj = obj.offsetParent) {\n          var origCurLeft = curLeft;\n          curLeft += obj.offsetLeft;\n          if (curLeft < 0) {\n            curLeft = origCurLeft;\n          }\n          curTop += obj.offsetTop;\n        }\n      }\n      return { left: curLeft, top: curTop };\n    },\n\n    /* Find an object's scroll offset on the screen.\r\n       @param  obj  (element) the control\r\n       @return  (number[]) offset as [left, top] */\n    _findScroll: function _findScroll(obj) {\n      var isFixed = false;\n      $(obj).parents().each(function () {\n        isFixed |= $(this).css('position') == 'fixed';\n      });\n      if (isFixed) {\n        return [0, 0];\n      }\n      var scrollLeft = obj.scrollLeft;\n      var scrollTop = obj.scrollTop;\n      while (obj = obj.parentNode) {\n        scrollLeft += obj.scrollLeft || 0;\n        scrollTop += obj.scrollTop || 0;\n      }\n      return [scrollLeft, scrollTop];\n    },\n\n    /* Get a setting value, defaulting if necessary.\r\n       @param  inst  (object) the instance settings\r\n       @param  name  (string) the setting name\r\n       @return  (any) the setting value */\n    _get: function _get(inst, name) {\n      return inst.options[name] != null ?\n      inst.options[name] : $.timeEntry._defaults[name];\n    },\n\n    /* Extract the time value from the input field, or default to now.\r\n       @param  inst  (object) the instance settings */\n    _parseTime: function _parseTime(inst) {\n      var currentTime = this._extractTime(inst);\n      var showSeconds = this._get(inst, 'showSeconds');\n      if (currentTime) {\n        inst._selectedHour = currentTime[0];\n        inst._selectedMinute = currentTime[1];\n        inst._selectedSecond = currentTime[2];\n      } else\n      {\n        var now = this._constrainTime(inst);\n        inst._selectedHour = now[0];\n        inst._selectedMinute = now[1];\n        inst._selectedSecond = showSeconds ? now[2] : 0;\n      }\n      inst._secondField = showSeconds ? 2 : -1;\n      inst._ampmField = this._get(inst, 'show24Hours') ? -1 : showSeconds ? 3 : 2;\n      inst._lastChr = '';\n      inst._field = Math.max(0, Math.min(\n      Math.max(1, inst._secondField, inst._ampmField), this._get(inst, 'initialField')));\n      if (inst.input.val() != '') {\n        this._showTime(inst);\n      }\n    },\n\n    /* Extract the time value from a string as an array of values, or default to null.\r\n       @param  inst   (object) the instance settings\r\n       @param  value  (string) the time value to parse\r\n       @return  (number[3]) the time components (hours, minutes, seconds)\r\n       or null if no value */\n    _extractTime: function _extractTime(inst, value) {\n      value = value || inst.input.val();\n      var separator = this._get(inst, 'separator');\n      var currentTime = value.split(separator);\n      if (separator == '' && value != '') {\n        currentTime[0] = value.substring(0, 2);\n        currentTime[1] = value.substring(2, 4);\n        currentTime[2] = value.substring(4, 6);\n      }\n      var ampmNames = this._get(inst, 'ampmNames');\n      var show24Hours = this._get(inst, 'show24Hours');\n      if (currentTime.length >= 2) {\n        var isAM = !show24Hours && value.indexOf(ampmNames[0]) > -1;\n        var isPM = !show24Hours && value.indexOf(ampmNames[1]) > -1;\n        var hour = parseInt(currentTime[0], 10);\n        hour = isNaN(hour) ? 0 : hour;\n        hour = ((isAM || isPM) && hour == 12 ? 0 : hour) + (isPM ? 12 : 0);\n        var minute = parseInt(currentTime[1], 10);\n        minute = isNaN(minute) ? 0 : minute;\n        var second = currentTime.length >= 3 ?\n        parseInt(currentTime[2], 10) : 0;\n        second = isNaN(second) || !this._get(inst, 'showSeconds') ? 0 : second;\n        return this._constrainTime(inst, [hour, minute, second]);\n      }\n      return null;\n    },\n\n    /* Constrain the given/current time to the time steps.\r\n       @param  inst    (object) the instance settings\r\n       @param  fields  (number[3]) the current time components (hours, minutes, seconds)\r\n       @return  (number[3]) the constrained time components (hours, minutes, seconds) */\n    _constrainTime: function _constrainTime(inst, fields) {\n      var specified = fields != null;\n      if (!specified) {\n        var now = this._determineTime(inst, this._get(inst, 'defaultTime')) || new Date();\n        fields = [now.getHours(), now.getMinutes(), now.getSeconds()];\n      }\n      var reset = false;\n      var timeSteps = this._get(inst, 'timeSteps');\n      for (var i = 0; i < timeSteps.length; i++) {\n        if (reset) {\n          fields[i] = 0;\n        } else\n        if (timeSteps[i] > 1) {\n          fields[i] = Math.round(fields[i] / timeSteps[i]) * timeSteps[i];\n          reset = true;\n        }\n      }\n      return fields;\n    },\n\n    /* Set the selected time into the input field.\r\n       @param  inst  (object) the instance settings */\n    _showTime: function _showTime(inst, isNow) {\n      var isNow = isNow || false;\n      var show24Hours = this._get(inst, 'show24Hours');\n      var separator = this._get(inst, 'separator');\n      var currentTime = this._formatNumber(inst, show24Hours ? inst._selectedHour :\n      (inst._selectedHour + 11) % 12 + 1) + separator +\n      this._formatNumber(inst, inst._selectedMinute) + (\n      this._get(inst, 'showSeconds') ? separator +\n      this._formatNumber(inst, inst._selectedSecond) : '') + (\n      show24Hours ? '' : this._get(inst, 'ampmPrefix') +\n      this._get(inst, 'ampmNames')[inst._selectedHour < 12 ? 0 : 1]);\n      this._setValue(inst, currentTime, isNow);\n      this._showField(inst);\n    },\n\n    /* Highlight the current time field.\r\n       @param  inst  (object) the instance settings */\n    _showField: function _showField(inst) {\n      var input = inst.input[0];\n      if (inst.input.is(':hidden') || $.timeEntry._lastInput != input) {\n        return;\n      }\n      var separator = this._get(inst, 'separator');\n      var fieldSize = separator.length + 2;\n      var start = inst._field != inst._ampmField ? inst._field * fieldSize :\n      inst._ampmField * fieldSize - separator.length + this._get(inst, 'ampmPrefix').length;\n      var end = start + (inst._field != inst._ampmField ? 2 : this._get(inst, 'ampmNames')[0].length);\n      if (input.setSelectionRange) {// Mozilla\n        input.setSelectionRange(start, end);\n      } else\n      if (input.createTextRange) {// IE\n        var range = input.createTextRange();\n        range.moveStart('character', start);\n        range.moveEnd('character', end - inst.input.val().length);\n        range.select();\n      }\n      if (!input.disabled) {\n        input.focus();\n      }\n    },\n\n    /* Ensure displayed single number has a leading zero.\r\n       @param  value  (number) current value\r\n       @return  (string) number with at least two digits */\n    _formatNumber: function _formatNumber(inst, value) {\n      return (value < 10 && this._get(inst, 'showZeroInHour') ? '0' : '') + value;\n    },\n\n    /* Update the input field and notify listeners.\r\n       @param  inst   (object) the instance settings\r\n       @param  value  (string) the new value */\n    _setValue: function _setValue(inst, value, isNow) {\n      var isNow = isNow || false;\n      if (value != inst.input.val() || isNow) {\n        inst.input.val(value).trigger('change', isNow);\n      }\n    },\n\n    /* Move to previous/next field, or out of field altogether if appropriate.\r\n       @param  inst     (object) the instance settings\r\n       @param  offset   (number) the direction of change (-1, +1)\r\n       @param  moveOut  (boolean) true if can move out of the field\r\n       @return  (boolean) true if exitting the field, false if not */\n    _changeField: function _changeField(inst, offset, moveOut) {\n      var atFirstLast = inst.input.val() == '' || inst._field == (\n      offset == -1 ? 0 : Math.max(1, inst._secondField, inst._ampmField));\n      if (!atFirstLast) {\n        inst._field += offset;\n      }\n      this._showField(inst);\n      inst._lastChr = '';\n      $.data(inst.input[0], PROP_NAME, inst);\n      return atFirstLast && moveOut;\n    },\n\n    /* Update the current field in the direction indicated.\r\n       @param  inst    (object) the instance settings\r\n       @param  offset  (number) the amount to change by */\n    _adjustField: function _adjustField(inst, offset) {\n      if (inst.input.val() == '') {\n        offset = 0;\n      }\n      var timeSteps = this._get(inst, 'timeSteps');\n      this._setTime(inst, new Date(0, 0, 0,\n      inst._selectedHour + (inst._field == 0 ? offset * timeSteps[0] : 0) + (\n      inst._field == inst._ampmField ? offset * 12 : 0),\n      inst._selectedMinute + (inst._field == 1 ? offset * timeSteps[1] : 0),\n      inst._selectedSecond + (inst._field == inst._secondField ? offset * timeSteps[2] : 0)));\n    },\n\n    /* Check against minimum/maximum and display time.\r\n       @param  inst  (object) the instance settings\r\n       @param  time  (Date) an actual time or\r\n       (number) offset in seconds from now or\r\n       (string) units and periods of offsets from now */\n    _setTime: function _setTime(inst, time, isNow) {\n      var isNow = isNow || false;\n      time = this._determineTime(inst, time);\n      var fields = this._constrainTime(inst, time ?\n      [time.getHours(), time.getMinutes(), time.getSeconds()] : null);\n      time = new Date(0, 0, 0, fields[0], fields[1], fields[2]);\n      // Normalise to base date\n      var time = this._normaliseTime(time);\n      var minTime = this._normaliseTime(this._determineTime(inst, this._get(inst, 'minTime')));\n      var maxTime = this._normaliseTime(this._determineTime(inst, this._get(inst, 'maxTime')));\n      // Ensure it is within the bounds set\n      time = minTime && time < minTime ? minTime :\n      maxTime && time > maxTime ? maxTime : time;\n      var beforeSetTime = this._get(inst, 'beforeSetTime');\n      // Perform further restrictions if required\n      if (beforeSetTime) {\n        time = beforeSetTime.apply(inst.input[0],\n        [this._getTimeTimeEntry(inst.input[0]), time, minTime, maxTime]);\n      }\n      inst._selectedHour = time.getHours();\n      inst._selectedMinute = time.getMinutes();\n      inst._selectedSecond = time.getSeconds();\n      this._showTime(inst, isNow);\n      $.data(inst.input[0], PROP_NAME, inst);\n    },\n\n    /* Normalise time object to a common date.\r\n       @param  time  (Date) the original time\r\n       @return  (Date) the normalised time */\n    _normaliseTime: function _normaliseTime(time) {\n      if (!time) {\n        return null;\n      }\n      time.setFullYear(1900);\n      time.setMonth(0);\n      time.setDate(0);\n      return time;\n    },\n\n    /* A time may be specified as an exact value or a relative one.\r\n       @param  inst     (object) the instance settings\r\n       @param  setting  (Date) an actual time or\r\n       (number) offset in seconds from now or\r\n       (string) units and periods of offsets from now\r\n       @return  (Date) the calculated time */\n    _determineTime: function _determineTime(inst, setting) {\n      var offsetNumeric = function offsetNumeric(offset) {// E.g. +300, -2\n        var time = new Date();\n        time.setTime(time.getTime() + offset * 1000);\n        return time;\n      };\n      var offsetString = function offsetString(offset) {// E.g. '+2m', '-4h', '+3h +30m' or '12:34:56PM'\n        var fields = $.timeEntry._extractTime(inst, offset); // Actual time?\n        var time = new Date();\n        var hour = fields ? fields[0] : time.getHours();\n        var minute = fields ? fields[1] : time.getMinutes();\n        var second = fields ? fields[2] : time.getSeconds();\n        if (!fields) {\n          var pattern = /([+-]?[0-9]+)\\s*(s|S|m|M|h|H)?/g;\n          var matches = pattern.exec(offset);\n          while (matches) {\n            switch (matches[2] || 's') {\n              case 's':case 'S':\n                second += parseInt(matches[1], 10);break;\n              case 'm':case 'M':\n                minute += parseInt(matches[1], 10);break;\n              case 'h':case 'H':\n                hour += parseInt(matches[1], 10);break;}\n\n            matches = pattern.exec(offset);\n          }\n        }\n        time = new Date(0, 0, 10, hour, minute, second, 0);\n        if (/^!/.test(offset)) {// No wrapping\n          if (time.getDate() > 10) {\n            time = new Date(0, 0, 10, 23, 59, 59);\n          } else\n          if (time.getDate() < 10) {\n            time = new Date(0, 0, 10, 0, 0, 0);\n          }\n        }\n        return time;\n      };\n      return setting ? typeof setting == 'string' ? offsetString(setting) :\n      typeof setting == 'number' ? offsetNumeric(setting) : setting : null;\n    },\n\n    /* Update time based on keystroke entered.\r\n       @param  inst  (object) the instance settings\r\n       @param  chr   (ch) the new character */\n    _handleKeyPress: function _handleKeyPress(inst, chr) {\n      if (chr == this._get(inst, 'separator')) {\n        this._changeField(inst, +1, false);\n      } else\n      if (chr >= '0' && chr <= '9') {// Allow direct entry of time\n        var key = parseInt(chr, 10);\n        var value = parseInt(inst._lastChr + chr, 10);\n        var show24Hours = this._get(inst, 'show24Hours');\n        var hour = inst._field != 0 ? inst._selectedHour :\n        show24Hours ? value < 24 ? value : key :\n        (value >= 1 && value <= 12 ? value :\n        key > 0 ? key : inst._selectedHour) % 12 + (\n        inst._selectedHour >= 12 ? 12 : 0);\n        var minute = inst._field != 1 ? inst._selectedMinute :\n        value < 60 ? value : key;\n        var second = inst._field != inst._secondField ? inst._selectedSecond :\n        value < 60 ? value : key;\n        var fields = this._constrainTime(inst, [hour, minute, second]);\n        this._setTime(inst, new Date(0, 0, 0, fields[0], fields[1], fields[2]));\n        inst._lastChr = chr;\n      } else\n      if (!this._get(inst, 'show24Hours')) {// Set am/pm based on first char of names\n        chr = chr.toLowerCase();\n        var ampmNames = this._get(inst, 'ampmNames');\n        if (chr == ampmNames[0].substring(0, 1).toLowerCase() &&\n        inst._selectedHour >= 12 ||\n        chr == ampmNames[1].substring(0, 1).toLowerCase() &&\n        inst._selectedHour < 12) {\n          var saveField = inst._field;\n          inst._field = inst._ampmField;\n          this._adjustField(inst, +1);\n          inst._field = saveField;\n          this._showField(inst);\n        }\n      }\n    } });\n\n\n  /* jQuery extend now ignores nulls!\r\n          @param  target  (object) the object to update\r\n          @param  props   (object) the new settings \r\n          @return  (object) the updated object */\n  function extendRemove(target, props) {\n    $.extend(target, props);\n    for (var name in props) {\n      if (props[name] == null) {\n        target[name] = null;\n      }\n    }\n    return target;\n  }\n\n  // Commands that don't return a jQuery object\n  var getters = ['getOffset', 'getTime', 'isDisabled'];\n\n  /* Attach the time entry functionality to a jQuery selection.\r\n                                                        @param  command  (string) the command to run (optional, default 'attach')\r\n                                                        @param  options  (object) the new settings to use for these countdown instances (optional)\r\n                                                        @return  (jQuery) for chaining further calls */\n  $.fn.timeEntry = function (options) {\n    var otherArgs = Array.prototype.slice.call(arguments, 1);\n    if (typeof options == 'string' && $.inArray(options, getters) > -1) {\n      return $.timeEntry['_' + options + 'TimeEntry'].apply($.timeEntry, [this[0]].concat(otherArgs));\n    }\n    return this.each(function () {\n      var nodeName = this.nodeName.toLowerCase();\n      if (nodeName == 'input') {\n        if (typeof options == 'string') {\n          $.timeEntry['_' + options + 'TimeEntry'].apply($.timeEntry, [this].concat(otherArgs));\n        } else\n        {\n          // Check for settings on the control itself\n          // DiegoP\": Remove conflict with other plugins using metadata plugin\n          //var inlineSettings = ($.fn.metadata ? $(this).metadata() : {});\n          var inlineSettings = $.fn.metadata ? $(this).metadata({ single: 'timePicker' }) : {};\n\n          $.timeEntry._connectTimeEntry(this, $.extend(inlineSettings, options));\n        }\n      }\n    });\n  };\n\n  /* Initialise the time entry functionality. */\n  $.timeEntry = new TimeEntry(); // Singleton instance\n\n})(jQuery);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: \r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: Diego Parra\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This widget will implement a custom grid for bizagi rendering module\r\n                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Markup: <div></div>\r\n                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Styles:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   - Desktop: css/bizagi/desktop/controls/bizagi.grid.css\r\n                                                                                                                                                                                                                                                                                                                                                                                *   - Tablet: css/bizagi/tablet/controls/bizagi.grid.css\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n// TODO: Create templates\n\n(function ($) {\n  $.widget(\"ui.bizagi_grid\", {\n    options: {\n      id: \"no-id\",\n      columns: [],\n      sortBy: \"\",\n      sortType: \"asc\",\n      showSummary: false,\n      collapse: false,\n      collapseState: false,\n      data: {},\n      indexedData: {},\n      maxColumns: 0,\n      buttonsPst: false,\n      title: '',\n      tableCssClass: '', // Style for entire table              \n      headerStyles: '',\n      floatingHeader: false,\n      hasExclusiveCheck: false,\n      template: {\n        grid: \"\",\n        waiting: \"\",\n        table: \"\",\n        emptyTable: \"\",\n        column: \"\",\n        specialColumn: \"\",\n        row: \"\",\n        rowButtons: \"\",\n        cell: \"\",\n        specialCell: \"\",\n        pager: \"\",\n        buttons: \"\",\n        dynamicPager: \"\",\n        summary: \"\",\n        summaryCell: \"\" },\n\n      actions: {\n        add: true,\n        edit: true,\n        remove: true,\n        details: true,\n        allowMore: false,\n        enableXlsExport: false,\n        enablePdfExport: false },\n\n      mode: \"execution\" },\n\n    /*\r\n                           *   Constructor\r\n                           */\n    _init: function _init() {\n      var self = this;\n      var options = self.options;\n      var element = self.element;\n\n      // Set object variables\n      self.page = 1;\n      self.changes = {};\n      self.totalRows = 0;\n      self.totalPages = 0;\n      self.data = options.data;\n      self.selectedRow = 0;\n      self.components = {};\n      self.buttons = {};\n      self.asyncCells = {};\n      self.scrollableArea = options.scrollableArea || self;\n\n      // Build column indexes\n      self.columnByIndex = {};\n      self.columnByName = {};\n      self.columnKeyIndex = 0;\n      $.each(options.columns, function (i, column) {\n        // Fix non-present properties\n        column.key = typeof column.key !== \"undefined\" ? column.key : false;\n        column.label = typeof column.label !== \"undefined\" ? column.label : column.name;\n        column.sortType = \"asc\";\n        column.tooltip = typeof column.tooltip !== \"undefined\" ? column.tooltip : \"\";\n\n        // Index the column\n        self.columnByIndex[column.index] = column;\n        self.columnByName[column.name] = column;\n        if (column.key) {\n          self.columnKeyIndex = column.index;\n        }\n      });\n\n      // Set sort options\n      options.sortBy = options.sortBy || self.columnByIndex[0].name;\n      if (self.columnByName[options.sortBy]) {\n        self.columnByName[options.sortBy].sortType = options.sortType;\n      } else {\n        if (self.columnByName[options.sortBy.split(\".\")[0]]) {\n          self.columnByName[options.sortBy.split(\".\")[0]].sortType = options.sortType;\n        }\n      }\n\n      // Add base classes\n      element.addClass(\"ui-bizagi-grid-wrapper\");\n      element.attr(\"data-bizagi-id\", options.id);\n\n      // Calculate\n      self.calculateKeyIndex();\n\n      //collapse state\n      self.collapseState = options.collapseState;\n\n      // Start waiting signal \n      self.startLoading(false);\n    },\n    /*\r\n       *   Method to start loading for ajax data and update the ui\r\n       */\n    startLoading: function startLoading(bUseTimeout) {\n      var self = this;\n      bUseTimeout = typeof bUseTimeout !== \"undefined\" ? bUseTimeout : true;\n\n      if (self.options.mode !== \"execution\" || typeof self.options.sortBy === \"undefined\") {\n        return;\n      }\n\n      // Draw the waiting template when the endLoading delays more than 250ms\n      var waitingFn = function waitingFn() {\n        var element = self.element;\n        var options = self.options;\n\n        // Set null to timeout\n        self.waitingTimeout = null;\n\n        element.append($.fasttmpl(options.template.waiting));\n      };\n\n      if (bUseTimeout) {\n        self.waitingTimeout = setTimeout(waitingFn, 250);\n      } else {\n        waitingFn();\n      }\n    },\n\n    /*\r\n       *   Method to remove the loading message\r\n       */\n    endLoading: function endLoading() {\n      var self = this;\n      var element = self.element;\n\n      // Remove waiting timeout\n      if (self.waitingTimeout) {\n        clearTimeout(self.waitingTimeout);\n        self.waitingTimeout = null;\n      }\n\n      // Remove everything\n      element.empty();\n    },\n\n    /*\r\n       *   This method updates the data and refreshes the grid\r\n       */\n    setData: function setData(data) {\n      var self = this;\n\n      // Set internal data\n      self.data = data;\n      self.calculateKeyIndex();\n\n      // Call refresh\n      self.refresh();\n    },\n    /*\r\n       *   This method retrieves the actual data from the grid\r\n       */\n    getData: function getData() {\n      var self = this;\n\n      // Return internal data\n      return self.data;\n    },\n\n    /*\r\n       *   Calculate key index\r\n       */\n    calculateKeyIndex: function calculateKeyIndex() {\n      var self = this;\n      var columns = self.options.columns;\n      var data = self.data;\n\n      indexedData = {};\n\n      if (data.rows) {\n        $.each(data.rows, function (i, row) {\n          var key;\n          var row;\n          $.each(columns, function (j, column) {\n            if (column.key) key = row[j];\n          });\n          indexedData[key] = row;\n        });\n      }\n      self.indexedData = indexedData;\n    },\n\n    /*\r\n       *   This method retrieves the changes made by the user\r\n       */\n    getChanges: function getChanges() {\n    },\n\n    /*\r\n       *   This method refreshes the grid\r\n       */\n    refresh: function refresh() {\n      var self = this;\n\n      // Cleans components\n      self._cleanComponents();\n      self._cleanButtons();\n\n      // Call the draw method\n      self.components = {};\n      self.draw();\n    },\n\n    /*\r\n       *   This method refreshes only the summary\r\n       */\n    refreshSummary: function refreshSummary(columnIndex) {\n      var self = this;\n      var options = self.options;\n      var summary = self._getComponent(\"summary\");\n\n      // Do nothing if the component is drawing or there is no summary\n      if (self.drawing) return;\n      if (!summary) return;\n\n      // Resolve summary\n      if (options.showSummary) {\n\n        if (columnIndex) {\n          // Refresh an specific summary\n          self.refreshSummaryCell(columnIndex);\n\n        } else {\n          // Clean and re-draw summary\n          summary.empty();\n          summary.append(self.drawSummary());\n\n          // Execute post-render\n          self.postRenderSummary(summary);\n        }\n      }\n    },\n\n    /*\r\n       *   Refresh a single summary cell\r\n       */\n    refreshSummaryCell: function refreshSummaryCell(columnIndex) {\n      var self = this;\n      var options = self.options;\n      var summary = self._getComponent(\"summary\");\n      var getCell = function getCell(summary, columnIndex) {\n        var cells = summary.is(\"[data-bizagi-component=summary-cells]\") ? summary.children() : summary.find(\"[data-bizagi-component=summary-cells]\").children();\n        return $(cells[columnIndex]);\n      };\n      var cell = getCell(summary, columnIndex);\n\n      // Omit index key\n      var column = self.columnByIndex[columnIndex];\n      if (column.key) return; // Omit key column\n\n      // Clean and Execute render\n      var html = self.drawSummaryCell(column);\n      cell.replaceWith(html);\n\n      // Recalculate cell\n      cell = getCell(summary, columnIndex);\n\n      // Execute post-render\n      self.onCellReady(column, \"summary\", cell, false);\n    },\n\n    /*\r\n       *   This method changes a cell value in the grid\r\n       */\n    changeCellValue: function changeCellValue(key, columnIndex, value) {\n      var self = this;\n      if (self.indexedData[key]) {\n        self.indexedData[key][columnIndex] = value;\n      }\n    },\n\n    deleteCellExclusiveValues: function deleteCellExclusiveValues(columnIndex) {\n      var self = this;\n      if (self.indexedData) {\n        $.each(self.indexedData, function (key) {\n          self.indexedData[key][columnIndex] = false;\n        });\n      }\n    },\n\n    /*\r\n       *   This method draws the full grid associated with the data\r\n       */\n    draw: function draw() {\n      var self = this;\n      var options = self.options;\n      var element = self.element;\n\n      // Start global drawing flag\n      self.drawing = true;\n\n      // Ends waiting signal\n      self.endLoading();\n\n      if (options.orientation === \"rtl\") {\n\n        // Resolve grid template\n        var html = $.fasttmpl(options.template.gridRtl, {\n          label: options.title,\n          buttonsPst: options.buttonsPst,\n          collapse: options.collapse,\n          collapseState: self.collapseState,\n          isDesign: options.mode === \"design\" });\n\n\n      } else {\n        // Resolve grid template\n        var html = $.fasttmpl(options.template.grid, {\n          label: options.title,\n          buttonsPst: options.buttonsPst,\n          collapse: options.collapse,\n          collapseState: self.collapseState,\n          isDesign: options.mode === \"design\" });\n\n      }\n\n      // Call sub-drawers\n      html = self.drawTable(html);\n      self.grid = $(html).appendTo(element);\n\n      // Post render the grid\n      self.postRender(self.grid);\n\n      if (options.mode !== \"design\") {\n        // Attach paginator desktop\n        self.attachPaginator();\n\n        // Attach handlers\n        self.attachHandlers();\n      }\n\n      if (options.mode === \"execution\" && options.floatingHeader) {\n        var $tableContainer = self._getComponent(\"table\");\n        var $table = $(\"table\", $tableContainer);\n        var offset = parseInt($(self.scrollableArea).css(\"padding-top\").replace(/[^\\d.]/g, '')) || 0;\n\n        $table.stickyTableHeaders({\n          fixedOffset: offset > 0 ? offset - 1 : offset,\n          scrollableArea: self.scrollableArea,\n          zIndex: 1000,\n          cacheHeaderHeight: true });\n\n        $tableContainer.bind(\"scroll\", function () {\n          $table.trigger(\"resize.stickyTableHeaders\");\n        });\n      }\n\n      // Toggle visibility depending from row count\n      if (self.data.rows.length === 0) {\n        self._getComponent(\"table\").hide();\n        self._getComponent(\"pager\").hide();\n        self._getButton(\"remove\").hide();\n        self._getButton(\"edit\").hide();\n        self._getComponent(\"dynamicPager\").hide();\n        self._getComponent(\"emptyTable\").show();\n\n      } else {\n        self._getComponent(\"table\").show();\n        self._getButton(\"remove\").show();\n        self._getButton(\"edit\").show();\n        self._getComponent(\"emptyTable\").hide();\n\n        if (options.actions.allowMore) {\n          self._getComponent(\"dynamicPager\").show();\n          self._getComponent(\"pager\").hide();\n        } else {\n          self._getComponent(\"pager\").show();\n          self._getComponent(\"dynamicPager\").hide();\n        }\n\n        if (options.actions.edit) {\n          self._getButton(\"edit\").show();\n        }\n\n        if (options.actions.enableXlsExport || options.actions.enablePdfExport) {\n          self._getButton('show-grid-export-options').show();\n        } else {\n          self._getButton('show-grid-export-options').css('display', 'none');\n        }\n\n      }\n\n      // End global drawing flag\n      self.drawing = false;\n    },\n\n    attachPaginator: function attachPaginator() {\n    },\n\n    /*\r\n       *   This method draws the table associated with the data\r\n       */\n    drawTable: function drawTable(html) {\n      var self = this;\n      var options = self.options;\n\n      // Resolve table template\n      var table = $.fasttmpl(options.template.table, {\n        showSummary: options.showSummary,\n        tableCssClass: options.tableCssClass,\n        orientation: options.orientation });\n\n      var emptyTable = $.fasttmpl(options.template.emptyTable);\n\n      // Resolve header\n      table = self._replaceElement(table, \"columns\", self.drawHeader());\n\n      // Resolve body\n      table = self._replaceElement(table, \"rows\", self.drawBody());\n\n      // Resolve summary\n      if (options.showSummary) {\n        table = self._replaceElement(table, \"summary\", self.drawSummary());\n      }\n\n      // Resolve pager\n      html = self._replaceElement(html, \"pager\", self.drawPager());\n\n      // Resolve buttons\n      html = self._replaceElement(html, \"buttons\", self.drawButtons());\n\n      //Resolve export options menu\n      html = self._replaceElement(html, \"gridExportOptions\", self.drawGridExportOptions());\n\n      // Resolve row buttons\n      html = self._replaceElement(html, \"rowButtons\", self.drawRowButtons());\n\n      // Resolve dynamic Pager\n      html = self._replaceElement(html, \"dynamicPager\", self.drawDynamicPager());\n\n      // Perform grid replaces\n      html = self._replaceElement(html, \"table\", table);\n      html = self._replaceElement(html, \"emptyTable\", emptyTable);\n      return html;\n    },\n    /*\r\n       * Find if a column has a exact match for sort it\r\n       */\n    isExactMatch: function isExactMatch() {\n      var self = this;\n      var columns = self.options.columns;\n      var sortBy = self.options.sortBy;\n      var i = 0,length = columns.length;\n      for (; i < length;) {\n        if (sortBy == columns[i++].name) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    /*\r\n       *   This method draws the grid header\r\n       */\n    drawHeader: function drawHeader() {\n      var self = this;\n      var options = self.options;\n\n      // Resolve columns\n      var columns = \"\";\n\n      self.exactMatch = self.isExactMatch();\n\n      $.each(options.columns, function (i, column) {\n        if (self.options.maxColumns > 0) {\n          if (i <= self.options.maxColumns) {\n            // Draw normal column\n            columns += self.drawColumn(column);\n          }\n        } else {\n          // Draw normal column\n          columns += self.drawColumn(column);\n        }\n      });\n\n      if (self.options.maxColumns > 0 && self._canShowButtons()) {\n        // Draw special column\n        columns += self.drawSpecialColumn();\n      }\n\n      return columns;\n    },\n\n    /*\r\n       *   This method draws a column header\r\n       */\n    drawColumn: function drawColumn(column) {\n      var self = this;\n      var options = self.options;\n\n      var columnProperties = column.bizAgiProperties || {};\n      var cssClass = columnProperties.cssclass ? columnProperties.cssclass : \"\";\n      var headerStyles = options.headerStyles ? options.headerStyles.header : \"\";\n      headerStyles += (headerStyles !== \"\" ? \"; text-align:\" : \"text-align:\") + (columnProperties.columntitlealign ? columnProperties.columntitlealign : \"center\");\n      var columnAlign = columnProperties.columntitlealign ? columnProperties.columntitlealign : \"center\";\n      var isSortable = options.isSortable && columnProperties.isSortable && typeof columnProperties.xpath !== \"undefined\";\n      var initialSortBy = options.sortBy.split(\".\")[0];\n      var sortActive = false;\n      if (isSortable && (column.name === options.sortBy || column.name === initialSortBy && !self.exactMatch)) sortActive = true;\n      var controlType = bizagi.util.getColumnType(columnProperties.type);\n      var isHorizontalRadio = controlType === \"radio\" && columnProperties.horizontal;\n\n      // Resolve column template\n      return $.fasttmpl(options.template.column, $.extend({}, column, {\n        isKey: column.key,\n        sortActive: sortActive,\n        sortType: options.sortOrder,\n        isSortable: isSortable,\n        tooltip: column.tooltip || \"\",\n        columnCssClass: cssClass,\n        headerLabelStyles: options.headerStyles ? options.headerStyles.label : \"\",\n        headerStyles: headerStyles,\n        controlType: controlType,\n        isHorizontalRadio: isHorizontalRadio,\n        columnAlign: columnAlign,\n        flexAlign: bizagi.util.mapAlignClassName(columnAlign) }));\n\n    },\n    /*\r\n       *   This method draws a special column header that will be drawn when the grid can't show more columns\r\n       */\n    drawSpecialColumn: function drawSpecialColumn() {\n      var self = this;\n      var options = self.options;\n\n      // Resolve column template\n      return $.fasttmpl(options.template.specialColumn);\n    },\n\n    drawDynamicPager: function drawDynamicPager() {\n      var self = this;\n      var options = self.options;\n\n      // Resolve column template\n      return $.fasttmpl(options.template.dynamicPager);\n    },\n\n    /*\r\n       *   This method draws the table body\r\n       */\n    drawBody: function drawBody() {\n      var self = this;\n\n      // Resolve rows\n      var rows = \"\";\n      $.each(self.data.rows, function (i, row) {\n        rows += self.drawRow(row);\n      });\n\n      return rows;\n    },\n\n    /*\r\n       *   This method draws a grid row\r\n       */\n    drawRow: function drawRow(rowData, isNewRow) {\n      var self = this;\n      var options = self.options;\n      var key = rowData[self.columnKeyIndex];\n      var newRow = isNewRow || false;\n      var rnd = Math.floor(Math.random() * 10000);\n      var row = $.fasttmpl(options.template.row, {\n        key: rnd,\n        isNewRow: isNewRow,\n        businessKey: key });\n\n\n      // Resolve cells\n      var cells = \"\";\n      $.each(rowData, function (i, cell) {\n        if (self.options.maxColumns > 0) {\n          if (i < self.options.maxColumns + 1) {\n            // Draw normal cell\n            cells += self.drawCell(i, key, cell, newRow);\n          }\n        } else {\n          // Draw normal cell\n          cells += self.drawCell(i, key, cell, newRow);\n        }\n      });\n\n      if (self.options.maxColumns > 0 && self._canShowRowButtons()) {\n        // Draw special column\n        cells += self.drawSpecialCell(self.options.maxColumns + 1);\n      }\n\n      // Resolve cells template\n      row = self._replaceElement(row, \"cells\", cells);\n      return row;\n    },\n\n    /*\r\n       *   This method draws the cells for summary\r\n       */\n    drawSummary: function drawSummary() {\n      var self = this;\n      var options = self.options;\n      var row = $.fasttmpl(options.template.summary);\n      var cells = \"\";\n\n      // Resolve summary cells\n      $.each(options.columns, function (i, column) {\n        if (self.options.maxColumns > 0) {\n          if (i <= self.options.maxColumns) {\n            // Draw summary column\n            cells += self.drawSummaryCell(column);\n          }\n        } else {\n          // Draw summary column\n          cells += self.drawSummaryCell(column);\n        }\n      });\n\n      // Resolve cells template\n      row = self._replaceElement(row, \"summary-cells\", cells);\n      return row;\n    },\n\n    /*\r\n       *   This method draws a single summary cell\r\n       */\n    drawSummaryCell: function drawSummaryCell(column) {\n      var self = this;\n      var options = self.options;\n\n      var columnProperties = column.bizAgiProperties || {};\n      var cellAlign = columnProperties.columnAlign ? columnProperties.columnAlign : \"center\";\n\n      // Resolve cell template\n      var cell = $.fasttmpl(options.template.summaryCell, {\n        hidden: column.hidden || false,\n        summarizeBy: column.summarizeBy,\n        cellAlign: cellAlign });\n\n\n      var result = self.onDrawCell(column, \"summary\", self.calculateSummary(column), false);\n      result = result != undefined && typeof result != \"number\" ? result.replace(\"summaryValue\", self.calculateSummary(column)) : result;\n\n      if (!result) {\n        result = \"\";\n      }\n\n      var async = _typeof(result) === \"object\" && result.done;\n      if (async) {\n        if (result.state() === \"resolved\") {\n          // Fetch resolved result\n          cell = self._replaceElement(cell, \"cellContent\", self.resolveResult(result));\n        } else {\n          // Wait for result\n          cell = self._replaceElement(cell, \"cellContent\", \"\");\n          self.asyncCells[key + \"-\" + columnIndex] = result;\n        }\n\n      } else {\n        // Resolve cell content\n        cell = self._replaceElement(cell, \"cellContent\", result);\n      }\n\n      return cell;\n    },\n\n    /*\r\n       *   This method draws the grid cell\r\n       */\n    drawCell: function drawCell(columnIndex, key, value, isNewRow) {\n      var self = this;\n      var options = self.options;\n      isNewRow = isNewRow || false;\n      var messageValidation = \"\";\n\n      // Ensure that data is mapped into a column\n      if (!self.columnByIndex[columnIndex]) {\n        return \"\";\n      }\n\n      // Get message\n      if (columnIndex > 0) {\n        messageValidation = self.columnByIndex[columnIndex].bizAgiProperties && self.columnByIndex[columnIndex].bizAgiProperties.messageValidation;\n      }\n\n      var columnProperties = self.columnByIndex[columnIndex].bizAgiProperties || {};\n      var cssClass = columnProperties.cssclass ? columnProperties.cssclass : \"\";\n      var cellAlign = columnProperties.columnAlign ? columnProperties.columnAlign : \"center\";\n      var controlType = bizagi.util.getColumnType(columnProperties.type);\n      var isHorizontalRadio = controlType === \"radio\" && columnProperties.horizontal;\n\n      // Resolve cell template\n      var cell = $.fasttmpl(options.template.cell, {\n        isKey: self.columnByIndex[columnIndex].key,\n        hidden: options.columns[columnIndex].hidden || false,\n        isDesign: options.mode === \"design\",\n        messageValidation: messageValidation,\n        columnCssClass: cssClass,\n        id: options.columns[columnIndex].bizAgiProperties ? options.columns[columnIndex].bizAgiProperties.id : undefined,\n        cellAlign: cellAlign,\n        flexAlign: bizagi.util.mapAlignClassName(cellAlign),\n        controlType: controlType,\n        isHorizontalRadio: isHorizontalRadio });\n\n\n      var result = self.onDrawCell(self.columnByIndex[columnIndex], key, value, isNewRow);\n      if (!result) {\n        result = \"\";\n      }\n      var async = _typeof(result) === \"object\" && result.done;\n      if (async) {\n        if (result.state() === \"resolved\") {\n          // Fetch resolved result\n          cell = self._replaceElement(cell, \"cellContent\", self.resolveResult(result));\n        } else {\n          // Wait for result\n          cell = self._replaceElement(cell, \"cellContent\", \"\");\n          self.asyncCells[key + \"-\" + columnIndex] = result;\n        }\n\n      } else {\n        // Resolve cell content\n        cell = self._replaceElement(cell, \"cellContent\", result);\n      }\n\n      self.columnByIndex[columnIndex]['cell'] = $(cell);\n      return cell;\n    },\n    /*\r\n       *   Returns the resolved result from a promise when the promise has been executed already\r\n       */\n    resolveResult: function resolveResult(promise) {\n      var result;\n\n      promise.done(function (data) {\n        result = data;\n      });\n\n      return result;\n    },\n    /*\r\n       *   This method draws a special cell that will be drawn when the grid can't show more columns\r\n       */\n    drawSpecialCell: function drawSpecialCell(columnIndex) {\n      var self = this;\n      var options = self.options;\n\n      /* // Ensure that data is mapped into a column\r\n                                  if (!self.columnByIndex[columnIndex]) {\r\n                                      return \"\";\r\n                                  } */\n\n      // Resolve cell template\n      var cell = $.fasttmpl(options.template.specialCell);\n\n      return cell;\n    },\n    /*\r\n       *   This method draws a group header\r\n       */\n    drawGroupHeader: function drawGroupHeader() {\n      // TODO: Implement for PC version\n    },\n    /*\r\n       *   This method draws a footer\r\n       */\n    drawFooter: function drawFooter() {\n      // TODO: Implement for PC version\n    },\n    /*\r\n       *   This method draws a grid pager\r\n       */\n    drawPager: function drawPager() {\n      var self = this;\n      var options = self.options;\n\n      // Calculate pages\n      var pages = [];\n      for (var i = 1; i <= self.data.total; i++) {\n        pages.push({\n          number: i,\n          active: i == self.data.page });\n\n      }\n\n      // Resolve pager template\n      return $.fasttmpl(options.template.pager, {\n        page: self.data.page,\n        pages: pages,\n        records: self.data.records });\n\n    },\n    /*\r\n       *   This method draws a grid button actions\r\n       */\n    drawButtons: function drawButtons() {\n      var self = this;\n      var options = self.options;\n      var tooltips = options.tooltips || {};\n\n      var parameters = $.extend(options.actions, tooltips);\n\n      if (self._canShowButtons()) {\n        // Resolve buttons template\n        if (options.orientation === \"rtl\") {\n          return $.fasttmpl(options.template.buttonsRtl, parameters);\n        } else {\n          return $.fasttmpl(options.template.buttons, parameters);\n        }\n      } else {\n        return \"\";\n      }\n    },\n\n    /*\r\n       * This method draws the export options menu\r\n       */\n    drawGridExportOptions: function drawGridExportOptions() {\n      var self = this;\n      var options = self.options;\n      var actions = options.actions;\n      var tooltips = options.tooltips || {};\n\n      var parameters = $.extend({\n        orientation: options.orientation,\n        enableXlsExport: actions.enableXlsExport,\n        enablePdfExport: actions.enablePdfExport },\n      tooltips);\n\n      return $.fasttmpl(options.template.exportOptions, parameters);\n    },\n\n    /*\r\n       *   This method draws a row buttons,\r\n       *   those buttons will be invisible, and will be activated when the user selects a row\r\n       */\n    drawRowButtons: function drawRowButtons() {\n      var self = this;\n      var options = self.options;\n\n      if (self._canShowRowButtons()) {\n        // Resolve row buttons template\n        if (options.orientation === \"rtl\") {\n          return $.fasttmpl(options.template.rowButtons.rtl, options.actions);\n        } else {\n          return $.fasttmpl(options.template.rowButtons, options.actions);\n        }\n      } else {\n        return \"\";\n      }\n    },\n    /*\r\n       *   Execute post-renders in all the grid\r\n       */\n    postRender: function postRender() {\n      var self = this;\n      var options = self.options;\n\n      // Get grid rows\n      var rows = self._getComponent(\"cells\");\n      if (rows) {\n        $.each(rows, function (i, row) {\n          row = $(row);\n          self.postRenderRow(row);\n        });\n      }\n\n      // Get summary row\n      if (options.showSummary) {\n        var summary = self._getComponent(\"summary\");\n        self.postRenderSummary(summary);\n      }\n\n      self._triggerHandler(\"gridControlReady\");\n    },\n\n    /*\r\n       *   Execute post-renders in each cell after the element has been created\r\n       */\n    postRenderRow: function postRenderRow(row) {\n      var self = this;\n      var key = row.attr(\"data-business-key\");\n      var isNewRow = row.attr(\"data-new-row\");\n      var cells = row.is(\"[data-bizagi-component=cells]\") ? row.children() : row.find(\"[data-bizagi-component=cells]\").children();\n\n      $.each(cells, function (i, cell) {\n        var column = self.columnByIndex[i];\n        if (typeof column == \"undefined\" || column.key) return; // Omit key column\n\n        // Check if the cell has an async result\n        var asyncResult = self.asyncCells[key + \"-\" + column.index];\n        if (asyncResult) {\n          $.when(asyncResult).\n          done(function (html) {\n            // Append async result\n            cell = $(cell);\n            cell.append(html);\n            self.onCellReady(column, key, cell, isNewRow);\n          });\n        } else {\n          self.onCellReady(column, key, $(cell), isNewRow);\n        }\n      });\n    },\n\n    /*\r\n       *   Execute post-renders in each summary cell after the element has been created\r\n       */\n    postRenderSummary: function postRenderSummary(summary) {\n      var self = this;\n      var cells = summary.is(\"[data-bizagi-component=summary-cells]\") ? summary.children() : summary.find(\"[data-bizagi-component=summary-cells]\").children();\n\n      $.each(cells, function (i, cell) {\n        var column = self.columnByIndex[i];\n        if (column.key) return; // Omit key column\n\n        // Check if the cell has an async result\n        var asyncResult = self.asyncCells[key + \"-\" + column.index];\n        if (asyncResult) {\n          $.when(asyncResult).\n          done(function (html) {\n            // Append async result\n            cell = $(cell);\n            cell.append(html);\n            self.onCellReady(column, \"summary\", cell, false);\n          });\n        } else {\n          self.onCellReady(column, \"summary\", $(cell), false);\n        }\n      });\n    },\n\n    /*\r\n       *   Method to attach any handler to the grid\r\n       */\n    attachHandlers: function attachHandlers() {},\n\n    //TODO IMPLEMENTANDO\n    selectDynamicPager: function selectDynamicPager() {\n      this.onDynamicPager();\n    },\n\n    /*\r\n       *   Changes the current page in the grid\r\n       */\n    changePage: function changePage(page) {\n      var self = this;\n      var currentPage = Number(self.data.page);\n      var total = self.data.total;\n      var newPage = page;\n\n      // Process previous page\n      if (page === \"previous\") {\n        if (currentPage > 1) {\n          newPage = currentPage - 1;\n        } else {\n          return;\n        }\n      }\n\n      // Process next page\n      if (page === \"next\") {\n        if (currentPage < total) {\n          newPage = currentPage + 1;\n        } else {\n          return;\n        }\n      }\n\n      //refresh components cells and rows\n      self._cleanComponents();\n\n      // Update internal options\n      self.page = Number(newPage);\n\n      // Execute handler\n      self.onPageRequested();\n    },\n\n    /**\r\n        * Get current page of data\r\n        * @returns {*}\r\n        */\n    getCurrentPage: function getCurrentPage() {\n      var data = this.data || {};\n\n      return data.page || 1;\n    },\n\n    /*\r\n       *  Verify cells before sumitonchange\r\n       */\n    isValid: function isValid() {\n      // Trigger handler\n      return this._triggerHandler(\"isValid\");\n    },\n\n    /*\r\n       *   Sort the grid by a column\r\n       */\n    sortBy: function sortBy(columnIndex, sortType) {\n      var self = this;\n      var options = self.options;\n      var column = self.columnByIndex[columnIndex];\n\n      if (typeof options.sortBy === \"undefined\") {\n        return true;\n      }\n\n      // Set new sort type reversed to current, if the sort column has not changed\n      if (typeof column.name === \"undefined\") column.name = column.label;\n      if (column.name == options.sortBy) {\n        sortType = sortType || (options.sortOrder == \"asc\" ? \"desc\" : \"asc\");\n      } else {\n        if (column.name == options.sortBy.split(\".\")[0]) {\n          sortType = sortType || (options.sortType == \"asc\" ? \"desc\" : \"asc\");\n        } else {\n          sortType = sortType || options.sortType;\n        }\n      }\n\n      // Update internal options\n      if (options.sortBy.split(\".\").length > 1) {\n        if (options.sortBy.split(\".\")[0] != column.name) {\n          options.sortBy = column.name;\n        } else {\n          options.sortBy = column.name;\n        }\n      } else {\n        options.sortBy = column.name;\n      }\n\n      if (typeof column.bizAgiProperties.sortAttribute !== \"undefined\" && column.bizAgiProperties.type.indexOf(\"column\") !== -1) {\n        options.sortBy = column.name + \".\" + column.bizAgiProperties.sortAttribute;\n      }\n\n      options.sortColumn = column;\n      options.sortType = sortType;\n      options.sortOrder = sortType;\n\n      //refresh components cells and rows\n      self._cleanComponents();\n\n      // Execute handler\n      self.onSortRequested();\n    },\n\n    /*\r\n       *   Selects a row in the grid\r\n       */\n    selectRow: function selectRow(key, businessKey) {\n      var self = this;\n\n      if (self.selectedRow == key) {\n        // Invoke un-select handler\n        self.onRowUnselected();\n\n        // Update internal options\n        self.selectedRow = 0;\n        self.selectedBusinessKey = 0;\n      } else {\n        if (self.selectedRow != 0) {\n          // Invoke un-select handler\n          self.onRowUnselected();\n        }\n\n        // Update internal options\n        self.selectedRow = key;\n        self.selectedBusinessKey = businessKey;\n\n        // Invoke select handler\n        self.onRowSelected();\n      }\n    },\n\n    /*\r\n       *   Unselects a row in the grid\r\n       */\n    unselectRow: function unselectRow() {\n      var self = this;\n\n      if (self.selectedRow != 0) {\n        // Invoke un-select handler\n        self.onRowUnselected();\n        self.selectedRow = 0;\n        self.selectedBusinessKey = 0;\n      }\n    },\n\n    /*\r\n       *   Calculates the summary for a column given the data\r\n       */\n    calculateSummary: function calculateSummary(column) {\n      var self = this;\n      var operation = column.summarizeBy;\n\n      //Consider the default values in the operations\n      $.each(self.data.rows, function (i, value) {\n        if (typeof self.data.rows[i][column.index] !== \"undefined\" && self.data.rows[i][column.index] == null && column.bizAgiProperties.defaultvalue != null) {\n          self.data.rows[i][column.index] = column.bizAgiProperties.defaultvalue;\n        }\n      });\n      var columnValues = $.map(self.data.rows, function (row, i) {return row[column.index];});\n      var result;\n\n      // Don't calculate anything if there are no rows\n      if (columnValues.length == 0) return 0;\n\n      // Resolve operations\n      if (operation === \"sum\") {\n        result = 0;\n        $.each(columnValues, function (i, value) {if (value != null) result += Number(value);});\n\n      } else if (operation === \"min\") {\n        result = columnValues[0] || 0;\n        $.each(columnValues, function (i, value) {if (typeof value === \"number\" && value != null && value < result) result = Number(value);});\n        if (result === Math.max()) result = null;\n\n      } else if (operation === \"max\") {\n        result = columnValues[0] || 0;\n        $.each(columnValues, function (i, value) {if (typeof value === \"number\" && value != null && value > result) result = Number(value);});\n        if (result === Math.min()) result = null;\n\n      } else if (operation === \"avg\") {\n        result = 0;\n        $.each(columnValues, function (i, value) {if (value != null) result += Number(value);});\n        result = result / columnValues.length;\n\n      } else if (operation === \"count\") {\n        result = 0;\n        columnValues = self.data.rows;\n\n        for (i = 0; i < columnValues.length; i++) {\n          var columnValue = columnValues[i][column.index];\n\n          if (columnValue instanceof Array && columnValue.length > 0) {\n            result += 1;\n          } else\n          if (!(columnValue instanceof Array) && columnValue !== null && columnValue !== \"\") {\n            result += 1;\n          }\n        }\n      }\n      return result;\n    },\n\n    /*\r\n       *   Process an action in order to do something with the grid\r\n       */\n    processAction: function processAction(action, params) {\n      var self = this;\n\n      var key = params && params.key ? params.key : self.selectedBusinessKey;\n      if (action === \"edit\") {\n        self.onEditRow(key);\n      }\n      if (action === \"remove\") {\n        self.onDeleteRow(key);\n      }\n      if (action === \"more\") {\n        self.onShowMore(key);\n      }\n      if (action === \"details\") {\n        self.onShowDetails(key);\n      }\n      if (action === \"add\") {\n        self.onAddRow();\n      }\n\n      if (action === \"show-grid-export-options\") {\n        self.onShowExportGridOptions();\n      }\n    },\n    /*\r\n       *   Executes the page requested handler\r\n       */\n    onPageRequested: function onPageRequested() {\n      var self = this;\n\n      // Start loading signal \n      self.startLoading();\n\n      // Trigger handler\n      return self._triggerHandler(\"pageRequested\", self._buildRefreshParameters());\n    },\n    /*\r\n       *   Executes the sort requested handler\r\n       */\n    onSortRequested: function onSortRequested() {\n      var self = this;\n\n      // Start loading signal \n      self.startLoading();\n\n      // Trigger handler\n      return self._triggerHandler(\"sortRequested\", self._buildRefreshParameters());\n    },\n    /*\r\n       *   Executes the row selected handler\r\n       */\n    onRowSelected: function onRowSelected() {\n      var self = this;\n\n      return self._triggerHandler(\"rowSelected\", { key: self.selectedBusinessKey });\n    },\n    /*\r\n       *   Executes the row un-selected handler\r\n       */\n    onRowUnselected: function onRowUnselected() {\n      var self = this;\n      return self._triggerHandler(\"rowUnselected\", { key: self.selectedBusinessKey });\n    },\n\n    /*\r\n       * Executes collapse grid\r\n       */\n    onCollapseGrid: function onCollapseGrid() {\n      var self = this;\n      return self._triggerHandler(\"performCollapseGrid\");\n    },\n\n    //TODO:llamar\n    onDynamicPager: function onDynamicPager() {\n      var self = this;\n      return self._triggerHandler(\"moreRows\", { key: self.selectedBusinessKey });\n    },\n\n    /*\r\n       *   Executes the on draw cell handler\r\n       */\n    onDrawCell: function onDrawCell(column, key, value, isNewRow) {\n      var self = this;\n      return self._triggerHandler(\"drawCell\", {\n        column: column,\n        key: key,\n        value: value,\n        isNewRow: isNewRow });\n\n    },\n    /*\r\n       *   Executes on cell ready handler\r\n       */\n    onCellReady: function onCellReady(column, key, cell, isNewRow) {\n      var self = this;\n      return self._triggerHandler(\"cellReady\", {\n        column: column,\n        key: key,\n        cell: cell,\n        isNewRow: isNewRow });\n\n    },\n\n    /*\r\n       *   Executes the on draw control handler\r\n       */\n    onDrawControl: function onDrawControl() {\n      //TODO: Implement this\n    },\n    /*\r\n       *   Executes the on draw group header handler\r\n       */\n    onDrawGroupHeader: function onDrawGroupHeader() {\n      //TODO: Implement this\n    },\n    /*\r\n       *   Executes the on add row handler\r\n       */\n    onAddRow: function onAddRow() {\n      var self = this;\n      return self._triggerHandler(\"addRow\");\n    },\n    /*\r\n       *   Executes the on edit row handler\r\n       */\n    onEditRow: function onEditRow(key) {\n      var self = this;\n      return self._triggerHandler(\"editRow\", { key: key });\n    },\n    /*\r\n       *   Executes the on delete row handler\r\n       */\n    onDeleteRow: function onDeleteRow(key) {\n      var self = this;\n      return self._triggerHandler(\"deleteRow\", { key: key });\n    },\n    /*\r\n       *   Executes the on show more handler\r\n       */\n    onShowMore: function onShowMore(key) {\n      var self = this;\n      return self._triggerHandler(\"showMore\", { key: key });\n    },\n    /*\r\n       *   Executes the on show details handler\r\n       */\n    onShowDetails: function onShowDetails(key) {\n      var self = this;\n      return self._triggerHandler(\"showFormDetails\", { key: key });\n    },\n    /*\r\n       * Executes the on show export grid options \r\n       */\n    onShowExportGridOptions: function onShowExportGridOptions() {\n      var self = this;\n      return self._triggerHandler(\"showGridExportOptions\");\n    },\n\n    /*\r\n       *   Replaces a matched element in the container for the specified \"replace\" element\r\n       */\n    _replaceElement: function _replaceElement(html, element, replace) {\n      return html.replaceFirstWithoutPatterns(\"{{element \" + element + \"}}\", replace);\n    },\n\n    /*\r\n       *   Return the event handler parameters object\r\n       */\n    _buildRefreshParameters: function _buildRefreshParameters() {\n      var self = this;\n      var options = self.options;\n      var sortColumn = options.sortColumn != undefined ? options.sortColumn.index : 1;\n      return {\n        page: self.page,\n        sortBy: options.sortBy,\n        sortType: options.sortOrder,\n        sortColumnIndex: sortColumn };\n\n    },\n    /*\r\n       *   Calls directly to handler callback\r\n       */\n    _triggerHandler: function _triggerHandler(type, data) {\n      var callback = this.options[type];\n      if (!callback) {\n        return null;\n      }\n      return callback.call(this.element[0], data);\n    },\n    /*\r\n       *   Gets the component\r\n       */\n    _getComponent: function _getComponent(component) {\n      var self = this;\n      var element = self.element;\n      if (!self.components[component]) {\n        var foundComponent = $(\"[data-bizagi-component=\" + component + \"]\", element);\n        if (foundComponent != null && foundComponent.length > 0) {\n          self.components[component] = foundComponent;\n        }\n      }\n      return self.components[component];\n    },\n    /*\r\n       *   Gets the specific Button\r\n       */\n    _getButton: function _getButton(button) {\n      var self = this;\n      var element = self.element;\n      if (!self.buttons[button])\n      self.buttons[button] = $(\"[data-action=\" + button + \"]\", element);\n      return self.buttons[button];\n    },\n    /*\r\n       * Cleans the components \r\n       */\n    _cleanComponents: function _cleanComponents() {\n      var self = this;\n      self.components = {};\n    },\n    /*\r\n       * Cleans the buttons \r\n       */\n    _cleanButtons: function _cleanButtons() {\n      var self = this;\n      self.buttons = {};\n    },\n    /*\r\n       *  Template method to check if buttons component must be rendered\r\n       */\n    _canShowButtons: function _canShowButtons() {\n      return true;\n    },\n    /*\r\n       *  Template method to check if row buttons must be displayed when the row is selected\r\n       */\n    _canShowRowButtons: function _canShowRowButtons() {\n      return true;\n    } });\n\n\n})(jQuery);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name:\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: Diego Parra\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                               *   -   This widget will extend the bizagi grid widget to specialize into a desktop view\r\n                                                                                                                                                                                                                                                                                                                                                                               *\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Markup: <div></div>\r\n                                                                                                                                                                                                                                                                                                                                                                               *\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Styles:\r\n                                                                                                                                                                                                                                                                                                                                                                               *   - css/bizagi/desktop/controls/bizagi.grid.css\r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\n(function ($) {\n  $.widget('ui.bizagi_grid_grouped_desktop', $.ui.bizagi_grid_desktop, {\n    options: $.extend($.ui.bizagi_grid.prototype.options, {\n      smartPagination: false }),\n\n\n    /*\r\n                                 *   This method draws the table body\r\n                                 */\n    drawBody: function drawBody() {\n      var self = this;\n      self.groupByValues = {};\n      self.groupByPreviousValues = {};\n      self.rowsGroupData = {};\n      self.summaryGroup = 0;\n\n      // Resolve rows\n      self.rows = \"\";\n      $.each(self.data.rows, function (i, row) {\n        if (self.isNewGroup(row)) {\n          // Resolve summary\n          if (self.isNewSummarygroup()) {\n            self.drawSummaryRows(row);\n          }\n\n          self.rows += self.drawGroupingRows(row, false);\n        }\n\n        self.addRowGroupData(row);\n        self.rows += self.drawRow(row);\n      });\n\n      //Replace totalizer value\n      self.groupByValues = {};\n      $.each(self.data.rows, function (i, row) {\n        self.drawGroupingRows(row, true);\n      });\n\n      return self.rows;\n    },\n\n    /*\r\n       *   This method draws the table associated with the data\r\n       */\n    drawTable: function drawTable(html) {\n      var self = this;\n      var options = self.options;\n\n      // Resolve table template\n      var table = $.fasttmpl(options.template.table, {\n        showSummary: options.showSummary,\n        tableCssClass: options.tableCssClass,\n        groupByColumns: options.groupByColumns || [] });\n\n      var emptyTable = $.fasttmpl(options.template.emptyTable);\n\n      // Resolve header\n      table = self._replaceElement(table, \"columns\", self.drawHeader());\n\n      // Resolve body\n      table = self._replaceElement(table, \"rows\", self.drawBody());\n\n      // Resolve summary\n      if (options.showSummary) {\n        table = self._replaceElement(table, \"summary\", self.drawSummary());\n      }\n\n      // Resolve pager\n      html = self._replaceElement(html, \"pager\", self.drawPager());\n\n      // Resolve buttons\n      html = self._replaceElement(html, \"buttons\", self.drawButtons());\n\n      //Resolve export options menu\n      html = self._replaceElement(html, \"gridExportOptions\", self.drawGridExportOptions());\n\n      // Resolve row buttons\n      html = self._replaceElement(html, \"rowButtons\", self.drawRowButtons());\n\n      // Resolve dynamic Pager\n      html = self._replaceElement(html, \"dynamicPager\", self.drawDynamicPager());\n\n      // Perform grid replaces\n      html = self._replaceElement(html, \"table\", table);\n      html = self._replaceElement(html, \"emptyTable\", emptyTable);\n      return html;\n    },\n\n    /*\r\n       *   This method draws a column header\r\n       */\n    drawColumn: function drawColumn(column) {\n      var self = this;\n      var options = self.options;\n\n      var columnProperties = column.bizAgiProperties || {};\n      var cssClass = columnProperties.cssclass ? columnProperties.cssclass : \"\";\n      var headerStyles = options.headerStyles ? options.headerStyles.header : \"\";\n      headerStyles += (headerStyles !== \"\" ? \"; text-align:\" : \"text-align:\") + (columnProperties.columntitlealign ? columnProperties.columntitlealign : \"center\");\n      var isSortable = options.isSortable && columnProperties.isSortable && typeof columnProperties.xpath !== \"undefined\";\n\n      if (self.showColumn(column)) {\n        // Resolve column template\n        return $.fasttmpl(options.template.column, $.extend({}, column, {\n          isKey: column.key,\n          sortActive: column.name == options.sortBy ? column.name == options.sortBy : column.name == options.sortBy.split(\".\")[0] && !self.exactMatch ? column.name == options.sortBy.split(\".\")[0] : false,\n          sortType: options.sortOrder,\n          columnCssClass: cssClass,\n          isSortable: isSortable,\n          headerLabelStyles: options.headerStyles ? options.headerStyles.label : '',\n          headerStyles: headerStyles }));\n\n      } else {\n        return \"\";\n      }\n    },\n\n    /*\r\n       *   This method draws a grid row\r\n       */\n    drawRow: function drawRow(rowData, isNewRow) {\n      var self = this;\n      var options = self.options;\n      var key = rowData[self.columnKeyIndex];\n      var groupByColumns = options.groupByColumns ? options.groupByColumns.length : 0;\n      var newRow = isNewRow || false;\n      var rnd = Math.floor(Math.random() * 10000);\n      var row = $.fasttmpl(options.template.row, {\n        key: rnd,\n        isNewRow: isNewRow,\n        businessKey: key });\n\n\n      row = self._replaceElement(row, \"empty-cells\", self.drawEmptyCells({ cells: groupByColumns, conectorV: true }));\n\n      // Resolve cells\n      var cells = \"\";\n      var bSpecialCellAdded = false;\n      $.each(rowData, function (i, cell) {\n        if (bSpecialCellAdded) {\n          return;\n        }\n\n        if (self.options.maxColumns > 0) {\n          if (i < self.options.maxColumns + 1) {\n            // Draw normal cell\n            cells += self.drawCell(i, key, cell, newRow);\n          } else {\n            // Draw special cell\n            cells += self.drawSpecialCell(i, key, cell);\n            bSpecialCellAdded = true;\n          }\n        } else {\n          // Draw normal cell\n          cells += self.drawCell(i, key, cell, newRow);\n        }\n      });\n\n      // Resolve cells template\n      row = self._replaceElement(row, \"cells\", cells);\n      return row;\n    },\n\n\n    /*\r\n       *   This method draws the grid cell\r\n       */\n    drawCell: function drawCell(columnIndex, key, value, isNewRow) {\n      var self = this;\n\n      if (self.showColumn(self.columnByIndex[columnIndex])) {\n        return self._super(columnIndex, key, value, isNewRow);\n      }\n\n      return \"\";\n    },\n    /*\r\n       * This method draws the rows of grouping\r\n       */\n    drawGroupingRows: function drawGroupingRows(row, drawTotalizer) {\n      var self = this;\n      var levels = self.getGroupLevels(row);\n      var rows = \"\";\n\n      if (drawTotalizer) self.setGroupByValues(row);\n\n      for (var i = 0, l = levels.length; i < l; i++) {\n        var level = levels[i];\n        rows += self.drawGroupRow(level.deep, l - i, level.position, row, drawTotalizer);\n      }\n\n      if (!drawTotalizer) self.setGroupByValues(row);\n      return rows;\n    },\n\n    /*\r\n       * This method returns true if the current row, begins a new row grouped\r\n       */\n    isNewGroup: function isNewGroup(row) {\n      var self = this;\n      var options = self.options;\n      var groupByColumns = options.groupByColumns;\n\n      if (groupByColumns.length == 0) {\n        return false;\n      }\n\n      if (self.areIdenticalValues(row)) {\n        return false;\n      }\n\n      return true;\n    },\n\n\n    /*\r\n       * This method returns true if the current row, begins a new summary row grouped\r\n       */\n    isNewSummarygroup: function isNewSummarygroup() {\n      var self = this,\n      options = self.options;\n\n      if (!options.showSummary) {\n        return false;\n      }\n\n      if (!self.areIdenticalValues(self.groupByPreviousValues)) {\n        return true;\n      }\n      return false;\n    },\n\n    /*\r\n       * This method sets the values for row grouped\r\n       */\n    setGroupByValues: function setGroupByValues(row) {\n      var self = this;\n      var options = self.options;\n      var groupByColumns = options.groupByColumns;\n\n      self.groupByPreviousValues = bizagi.clone(self.groupByValues);\n\n      for (var i = 0, l = groupByColumns.length; i < l; i++) {\n        var groupByColumn = groupByColumns[i];\n        self.groupByValues[groupByColumn] = self.getColumnValue(row[groupByColumn]);\n      }\n    },\n\n    /*\r\n       * This method returns true if the values of current row are identical to values group\r\n       * otherwise it returns false\r\n       */\n    areIdenticalValues: function areIdenticalValues(row) {\n      var self = this;\n      var options = self.options;\n      var result = true;\n      var groupByColumns = options.groupByColumns;\n\n      for (var i = 0, l = groupByColumns.length; i < l; i++) {\n        var groupByColumn = groupByColumns[i];\n        result &= self.groupByValues[groupByColumn] === self.getColumnValue(row[groupByColumn]);\n      }\n\n      return result;\n    },\n\n    /*\r\n       * This method returns an array with the level of grouping\r\n       */\n    getGroupLevels: function getGroupLevels(row) {\n      var self = this,\n      options = self.options,\n      groupLevel = [],\n      reset = false,\n      groupByColumns = options.groupByColumns;\n\n      for (var i = 0, l = groupByColumns.length; i < l; i++) {\n        var groupByColumn = groupByColumns[i];\n\n        if (reset || self.groupByValues[groupByColumn] != self.getColumnValue(row[groupByColumn])) {\n          groupLevel.push({ deep: i, position: groupByColumn });\n          reset = true;\n        }\n      }\n\n      return groupLevel;\n    },\n\n    /*\r\n       * This method returns true id the current columns should be displayed\r\n       */\n    showColumn: function showColumn(column) {\n\n      if (typeof column.bizAgiProperties == \"undefined\") {\n        return true;\n      }\n\n      return column.bizAgiProperties.showColumn;\n\n    },\n\n    /*\r\n       *   This method gets the columns enabled to dispay\r\n       */\n    getValidColumns: function getValidColumns() {\n      var self = this,\n      options = self.options;\n\n      self.validColumns = self.validColumns || [];\n\n      if (self.validColumns.length == 0) {\n        self.validColumns = $.grep(options.columns, function (column) {\n          return self.showColumn(column);\n        });\n      }\n\n      return self.validColumns;\n    },\n\n    /*\r\n       *   This method draws a grid grouped row\r\n       */\n    drawGroupRow: function drawGroupRow(emptyCells, level, position, row, drawTotalizer) {\n      var self = this,\n      options = self.options,\n      result,groupData,totalizer = \"\";\n\n      realColumnsData = self.options.columns.filter(function (obj) {\n        var showColumn = obj.bizAgiProperties ? obj.bizAgiProperties.showColumn : false;\n        return obj.index !== 0 && showColumn;\n      });\n\n      if (drawTotalizer) {\n\n        groupData = self.getRowsGroupData(emptyCells);\n\n        $.each(realColumnsData, function (i, column) {\n          if (column.summarizeBy) {\n            totalizer = self.calculateSummaryGroup(column, groupData);\n            if (column.summarizeBy !== \"count\") {\n              totalizer = self.getFormatedValue(column, totalizer);\n            }\n            self.rows = self._replaceElement(self.rows, \"cellContent\", totalizer);\n          }\n        });\n      } else\n      {\n        var headerRow = $.fasttmpl(options.template.headerRow, {\n          columnTitle: self.getColumnTitle(row, position),\n          colspan: level + 1,\n          columns: realColumnsData,\n          level: emptyCells });\n\n\n        result = self._replaceElement(headerRow, \"empty-cells\", self.drawEmptyCells({ cells: emptyCells, conectorV: true }));\n      }\n\n\n      return result;\n    },\n\n    /*\r\n       * This Method draws empty cells for grouping\r\n       */\n    drawEmptyCells: function drawEmptyCells(params) {\n      var self = this,\n      options = self.options;\n\n      params = params || {};\n      params.cells = params.cells || 0;\n\n      var cells = \"\";\n\n      for (var i = 0; i < params.cells; i++) {\n        cells += $.fasttmpl(options.template.emptyCell, {\n          conectorV: options.showSummary && params.conectorV,\n          conectorCorner: options.showSummary && params.conectorCorner,\n          conectorH: options.showSummary && params.conectorH });\n\n      }\n\n      return cells;\n    },\n\n    /*\r\n       * This method gets a title of column grouped\r\n       */\n    getColumnTitle: function getColumnTitle(row, position) {\n      var self = this,\n      options = self.options;\n\n      var value = self.getFormatedValue(options.columns[position], self.getColumnValue(row[position]));\n      var columnName = self.getColumnName(position);\n      var displayType = options.columns[position] && options.columns[position].bizAgiProperties.displayTypeHeader;\n\n\n      if (displayType == \"label\") {\n        return columnName;\n      }\n\n      if (displayType == \"value\") {\n        return value;\n      }\n\n      if (displayType == \"reversed\") {\n        return value + \": \" + columnName;\n      }\n\n      return columnName + \": \" + value;\n\n    },\n\n    getFormatedValue: function getFormatedValue(column, value) {\n      var properties,type,options = {};\n      if (column) {\n        properties = column.bizAgiProperties;\n        type = properties.type;\n        switch (type) {\n          case \"columnMoney\":\n            var format = bizagi.localization.getResource(\"numericFormat\");\n            properties.allowDecimals = properties.allowDecimals ? properties.numDecimals ? properties.numDecimals : typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits : 2 : 0;\n            properties.numDecimals = properties.allowDecimals ? properties.numDecimals ? properties.numDecimals : typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits : 2 : 0;\n            options.positiveFormat = format.positiveFormat;\n            options.negativeFormat = format.negativeFormat;\n            options.decimalSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator : format.decimalSymbol;\n            options.digitGroupSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator : format.digitGroupSymbol;\n            options.groupDigits = true;\n            options.colorize = false;\n            options.roundToDecimalPlace = properties.numDecimals;\n            options.symbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.symbol : format.symbol;\n            var label = $('<label/>').html(value);\n            label.formatCurrency(options);\n            value = label.text();\n            break;\n          case \"columnBoolean\":\n            if (bizagi.util.parseBoolean(value) == true) {\n              value = bizagi.localization.getResource(\"render-boolean-yes\");\n            } else if (bizagi.util.parseBoolean(value) == false) {\n              value = bizagi.localization.getResource(\"render-boolean-no\");\n            } else {\n              value = \"\";\n            }\n            break;\n          case \"columnSearch\":\n            if (value) {\n              if (value.value) {\n                value = value.value;\n              } else {\n                if (value.label) {\n                  value = value.label;\n                } else {\n                  value = \"\";\n                }\n              }\n            } else {\n              value = \"\";\n            }\n            break;\n          case \"columnNumber\":\n            var format = bizagi.localization.getResource(\"numericFormat\");\n            properties.allowDecimals = properties.allowDecimals ? properties.numDecimals ? properties.numDecimals : typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits : 2 : 0;\n            properties.numDecimals = properties.allowDecimals ? properties.numDecimals ? properties.numDecimals : typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits : 2 : 0;\n            options.positiveFormat = format.positiveFormat;\n            options.negativeFormat = format.negativeFormat;\n            options.decimalSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator : format.decimalSymbol;\n            options.digitGroupSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator : format.digitGroupSymbol;\n            options.groupDigits = true;\n            options.colorize = false;\n            options.symbol = \"\";\n            options.roundToDecimalPlace = properties.numDecimals;\n            var label = $('<label/>').html(value);\n            if (properties.dataType == 6 || properties.dataType == 8 || properties.dataType == 10 || properties.dataType == 11) {\n              label.formatCurrency(options);\n            }\n            value = label.text();\n            if (column.bizAgiProperties.percentage) {\n              value += \"%\";\n            }\n            break;\n          case \"columnDate\":\n            if (value) {\n              var dateObj;\n              var defaultDateFormat = bizagi.localization.getResource(\"dateFormat\");\n              var defaultTimeFormat = bizagi.localization.getResource(\"timeFormat\");\n              properties.dateFormat = properties.dateFormat || defaultDateFormat;\n              properties.timeFormat = properties.timeFormat || defaultTimeFormat;\n              properties.fullFormat = properties.dateFormat;\n              if (properties.timePickerFormat !== undefined) {\n                dateObj = bizagi.util.dateFormatter.getDateFromInvariant(value, true);\n              } else {\n                if (properties.showTime) {\n                  var INVARIANT_FORMAT = \"MM/dd/yyyy H:mm:ss\";\n                  if (properties.fullFormat.search(/[h|H]+/ig) === -1) {\n                    properties.fullFormat = properties.fullFormat + ' ' + properties.timeFormat;\n                  }\n                  if (typeof value == \"string\") {\n                    if (value.length == INVARIANT_FORMAT.length || value.length == INVARIANT_FORMAT.length + 1) {\n                      dateObj = bizagi.util.dateFormatter.getDateFromInvariant(value, true);\n                    } else {\n                      dateObj = bizagi.util.dateFormatter.getDateFromInvariant(value);\n                      dateObj.setHours(0, 0, 0, 0);\n                    }\n                  } else {\n                    dateObj = bizagi.util.dateFormatter.getDateFromInvariant(value, true);\n                  }\n                } else {\n                  dateObj = bizagi.util.dateFormatter.getDateFromInvariant(value);\n                }\n              }\n              value = bizagi.util.dateFormatter.formatDate(dateObj, properties.fullFormat, self.i18n);\n            }\n            break;}\n\n      }\n      return value;\n    },\n\n    /*\r\n       * This method gets displayName of the column grouped\r\n       */\n    getColumnName: function getColumnName(position) {\n      var self = this,\n      options = self.options;\n\n      var column = options.columns[position];\n\n      return column.bizAgiProperties.displayName;\n    },\n\n    /*\r\n       * This method gets the current value of the column grouped\r\n       */\n    getColumnValue: function getColumnValue(value) {\n      var self = this;\n\n      if (_typeof(value) == \"object\" && value != null) {\n        if (value.length == 0) {\n          return \"\";\n        } else if (value.length == 2) {\n          return self.getColumnValue(value[1]);\n        } else if (_typeof(value[0]) == \"object\") {\n          return self.getColumnValue(value[0]);\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    },\n\n\n\n    /*\r\n       * This method return the colspan number, it is necessary to draw the grouped row\r\n       */\n    getColSpan: function getColSpan(level) {\n      var self = this,\n      options = self.options;\n      var length = options.columns.length - 1;\n\n      for (var i = 0, l = options.columns.length; i < l; i++) {\n        var column = options.columns[i];\n        if (!self.showColumn(column)) {\n          length = length - 1;\n        }\n      }\n\n      return length + level;\n    },\n\n    /*\r\n       * This method builds the tree of data used for totalize in subgroups\r\n       */\n    addRowGroupData: function addRowGroupData(row) {\n      var self = this,\n      valuesGroup = self.rowsGroupData,\n      values = self.groupByValues;\n\n      for (var key in values) {\n        var value = values[key];\n        valuesGroup[value] = valuesGroup[value] || {};\n        valuesGroup = valuesGroup[value];\n      }\n\n      valuesGroup.data = valuesGroup.data || [];\n      valuesGroup.data.push(row);\n    },\n\n    /*\r\n       * This method builds a tree with the data\r\n       */\n    getRowsGroupData: function getRowsGroupData(deep) {\n      var self = this,\n      valuesGroup = self.rowsGroupData,\n      i = 0,\n      values = self.groupByValues;\n\n      for (var key in values) {\n        var value = values[key];\n        valuesGroup = valuesGroup[value];\n        if (i == deep) {\n          break;\n        }\n        i++;\n      }\n\n      if (valuesGroup.data) {\n        return valuesGroup.data;\n      }\n\n      return self.getNestedRows(valuesGroup);\n    },\n\n    /*\r\n       *This method builds a tree with the data\r\n       */\n    getNestedRows: function getNestedRows(group, data) {\n      var self = this;\n      data = data || [];\n\n      for (var item in group) {\n        if (group[item].data) {\n          data = data.concat(group[item].data);\n        } else {\n          data = self.getNestedRows(group[item], data);\n        }\n      }\n\n      return data;\n    },\n\n\n    /*\r\n       * This method draws a summary grouped row\r\n       */\n    drawSummaryRows: function drawSummaryRows(row) {\n      var self = this;\n      var levels = self.getGroupLevels(row);\n      var rows = \"\";\n      for (var i = 0, l = levels.length; l > i; l--) {\n        var level = levels[l - 1];\n        rows += self.drawSummaryRow(level.deep);\n      }\n\n      return rows;\n    },\n\n    /*\r\n       * This method draws a summary group\r\n       */\n    drawSummaryRow: function drawSummaryRow(deep) {\n      var self = this,\n      options = self.options,\n      groupByColumns = options.groupByColumns ? options.groupByColumns.length : 0;\n\n      var groupData = self.getRowsGroupData(deep);\n      var row = $.fasttmpl(options.template.summary, {\n        level: deep });\n\n\n      var cells = \"\";\n      var conectorH = false;\n      var conectorCorner;\n\n      for (var i = 0; i < groupByColumns; i++) {\n\n        conectorCorner = i == deep;\n        cells += self.drawEmptyCells({\n          cells: 1,\n          conectorCorner: conectorCorner,\n          conectorH: conectorH,\n          conectorV: !conectorH && !conectorCorner });\n\n\n        if (i == deep) {\n          conectorH = true;\n        }\n      }\n\n      row = self._replaceElement(row, \"empty-cells\", cells);\n      cells = \"\";\n\n      // Resolve summary cells\n      $.each(options.columns, function (i, column) {\n        // Draw summary group column\n        cells += self.drawSummaryGroupCell(column, groupData);\n\n      });\n\n      // Resolve cells template\n      row = self._replaceElement(row, \"summary-cells\", cells);\n      return row;\n\n    },\n\n    /*\r\n       *   This method draws the cells for summary\r\n       */\n    drawSummary: function drawSummary() {\n      var self = this,\n      options = self.options,\n      groupByColumns = options.groupByColumns ? options.groupByColumns.length : 0;\n\n      var row = $.fasttmpl(options.template.summary);\n\n      row = self._replaceElement(row, \"empty-cells\", self.drawEmptyCells({ cells: groupByColumns }));\n\n      var cells = \"\";\n      // Resolve summary cells\n      $.each(options.columns, function (i, column) {\n        if (self.options.maxColumns > 0) {\n          if (i <= self.options.maxColumns) {\n            // Draw summary column\n            cells += self.drawSummaryCell(column);\n          }\n        } else {\n          // Draw summary column\n          cells += self.drawSummaryCell(column);\n        }\n      });\n\n      // Resolve cells template\n      row = self._replaceElement(row, \"summary-cells\", cells);\n      return row;\n    },\n\n    /*\r\n       *   This method draws a single summary cell\r\n       */\n    drawSummaryCell: function drawSummaryCell(column) {\n      var self = this;\n      var options = self.options;\n\n      if (!self.showColumn(column)) {\n        return \"\";\n      }\n\n      // Resolve cell template\n      var cell = $.fasttmpl(options.template.summaryCell, {\n        hidden: column.hidden || false,\n        summarizeBy: column.summarizeBy });\n\n\n      var result = self.onDrawCell(column, \"summary\", self.calculateSummary(column), false);\n      result = result != undefined && typeof result != \"number\" ? result.replace(\"summaryValue\", self.calculateSummary(column)) : result;\n\n      if (!result) {\n        result = \"\";\n      }\n\n      var async = _typeof(result) === \"object\" && result.done;\n      if (async) {\n        if (result.state() === \"resolved\") {\n          // Fetch resolved result\n          cell = self._replaceElement(cell, \"cellContent\", self.resolveResult(result));\n        } else {\n          // Wait for result\n          cell = self._replaceElement(cell, \"cellContent\", \"\");\n          self.asyncCells[key + \"-\" + columnIndex] = result;\n        }\n\n      } else {\n        // Resolve cell content\n        cell = self._replaceElement(cell, \"cellContent\", result);\n      }\n\n      return cell;\n    },\n\n    /*\r\n       * This method draws a grouped cell\r\n       */\n    drawSummaryGroupCell: function drawSummaryGroupCell(column, groupData) {\n      var self = this;\n      var options = self.options;\n      var summaryKey = \"summary \" + self.summaryGroup++;\n\n      if (!self.showColumn(column)) {\n        return \"\";\n      }\n\n      // Resolve cell template\n      var cell = $.fasttmpl(options.template.summaryCell, {\n        hidden: column.hidden || false,\n        summarizeBy: column.summarizeBy,\n        summary: summaryKey });\n\n\n      var result = self.onDrawCell(column, summaryKey, self.calculateSummaryGroup(column, groupData), false);\n      result = result != undefined && typeof result != \"number\" ? result.replace(\"summaryValue\", self.calculateSummaryGroup(column, groupData)) : result;\n\n      if (!result) {\n        result = \"\";\n      }\n\n      var async = _typeof(result) === \"object\" && result.done;\n      if (async) {\n        if (result.state() === \"resolved\") {\n          // Fetch resolved result\n          cell = self._replaceElement(cell, \"cellContent\", self.resolveResult(result));\n        } else {\n          // Wait for result\n          cell = self._replaceElement(cell, \"cellContent\", \"\");\n          self.asyncCells[key + \"-\" + columnIndex] = result;\n        }\n\n      } else {\n        // Resolve cell content\n        cell = self._replaceElement(cell, \"cellContent\", result);\n      }\n\n      return cell;\n\n    },\n\n    /*\r\n       *   Calculates the summary for a column given the data\r\n       */\n    calculateSummaryGroup: function calculateSummaryGroup(column, dataRowsgroup) {\n      var self = this;\n      var operation = column.summarizeBy;\n      dataRowsgroup = dataRowsgroup || [];\n\n      //Consider the default values in the operations\n      $.each(dataRowsgroup, function (i, value) {\n        if (typeof dataRowsgroup[i][column.index] != \"undefined\" && dataRowsgroup[i][column.index] == null && column.bizAgiProperties.defaultvalue != null) {\n          dataRowsgroup[i][column.index] = column.bizAgiProperties.defaultvalue;\n        }\n      });\n      var columnValues = $.map(dataRowsgroup, function (row, i) {return row[column.index];});\n      var result;\n\n      // Don't calculate anything if there are no rows\n      if (columnValues.length == 0) return 0;\n\n      // Resolve operations\n      if (operation == \"sum\") {\n        result = 0;\n        $.each(columnValues, function (i, value) {if (null != value) result += Number(value);});\n\n      } else if (operation == \"min\") {\n        result = columnValues[0] || 0;\n        $.each(columnValues, function (i, value) {if (typeof value == \"number\" && null != value && value < result) result = Number(value);});\n        if (result === Math.max()) result = null;\n\n      } else if (operation == \"max\") {\n        result = columnValues[0] || 0;\n        $.each(columnValues, function (i, value) {if (typeof value == \"number\" && null != value && value > result) result = Number(value);});\n        if (result === Math.min()) result = null;\n\n      } else if (operation == \"avg\") {\n        result = 0;\n        $.each(columnValues, function (i, value) {if (null != value) result += Number(value);});\n        result = result / columnValues.length;\n\n\n      } else if (operation == \"count\") {\n        result = 0;\n        columnValues = dataRowsgroup;\n\n        for (var i = 0; i < columnValues.length; i++) {\n          var columnValue = columnValues[i][column.index];\n\n          if (columnValue instanceof Array && columnValue.length > 0) {\n            result += 1;\n          } else\n          if (!(columnValue instanceof Array) && columnValue != null) {\n            result += 1;\n          }\n        }\n      }\n      return result;\n    },\n\n    /*\r\n       *   Execute post-renders in each cell after the element has been created\r\n       */\n    postRenderRow: function postRenderRow(row) {\n      var self = this;\n      var columns = self.getValidColumns();\n      var key = row.attr(\"data-business-key\");\n      var isNewRow = row.attr(\"data-new-row\");\n      var cells = row.is(\"[data-bizagi-component=cells]\") ? row.children() : row.find(\"[data-bizagi-component=cells]\").children();\n      cells = cells.not(\".ui-bizagi-grid-ignore\");\n      $.each(cells, function (i, cell) {\n        var column = columns[i];\n        if (column.key) return; // Omit key column\n\n        // Check if the cell has an async result\n        var asyncResult = self.asyncCells[key + \"-\" + column.index];\n        if (asyncResult) {\n          $.when(asyncResult).\n          done(function (html) {\n            // Append async result\n            cell = $(cell);\n            cell.append(html);\n            self.onCellReady(column, key, cell, isNewRow);\n          });\n        } else {\n          self.onCellReady(column, key, $(cell), isNewRow);\n        }\n      });\n    },\n\n    /*\r\n       *   Execute post-renders in all the grid\r\n       */\n    postRender: function postRender() {\n      var self = this;\n      var options = self.options;\n\n      self._super();\n\n      // Get grid grouped rows\n      if (options.showSummary) {\n        var rows = self._getComponent(\"grouped-summary-cells\");\n        if (rows) {\n          $.each(rows, function (i, row) {\n            row = $(row);\n            self.postRenderGroupedSummary(row);\n          });\n        }\n      }\n\n    },\n\n    /*\r\n       *   Execute post-renders in each summary cell after the element has been created\r\n       */\n    postRenderGroupedSummary: function postRenderGroupedSummary(row) {\n      var self = this;\n      var columns = self.getValidColumns();\n      var cells = row.is(\"[data-bizagi-component=grouped-summary-cells]\") ? row.children().not(\".ui-bizagi-grid-ignore\") : [];\n      $.each(cells, function (i, cell) {\n        var column = columns[i];\n        if (column.key) return; // Omit key column\n\n        var key = $(cell).attr(\"data-grouped-summary-key\");\n        if (key) {\n          // Check if the cell has an async result\n          var asyncResult = self.asyncCells[key + \"-\" + column.index];\n          if (asyncResult) {\n            $.when(asyncResult).\n            done(function (html) {\n              // Append async result\n              cell = $(cell);\n              cell.append(html);\n              self.onCellReady(column, key, cell, false);\n            });\n          } else {\n            self.onCellReady(column, key, $(cell), false);\n          }\n        }\n      });\n    },\n\n\n    /*\r\n       *   Execute post-renders in each summary cell after the element has been created\r\n       */\n    postRenderSummary: function postRenderSummary(summary) {\n      var self = this;\n      var columns = self.getValidColumns();\n      var cells = summary.is(\"[data-bizagi-component=grouped-summary-cells]\") ? summary.children() : summary.find(\"[data-bizagi-component=grouped-summary-cells]\").children();\n      cells = cells.not(\".ui-bizagi-grid-ignore\");\n      $.each(cells, function (i, cell) {\n        var column = columns[i];\n        if (column.key) return; // Omit key column\n\n        // Check if the cell has an async result\n        var asyncResult = self.asyncCells[key + \"-\" + column.index];\n        if (asyncResult) {\n          $.when(asyncResult).\n          done(function (html) {\n            // Append async result\n            cell = $(cell);\n            cell.append(html);\n            self.onCellReady(column, \"summary\", cell, false);\n          });\n        } else {\n          self.onCellReady(column, \"summary\", $(cell), false);\n        }\n      });\n    },\n\n    /*\r\n       * This method binds events\r\n       */\n    attachHandlers: function attachHandlers() {\n      var self = this;\n\n      self._super();\n\n      // Add selection events\n      self._getComponent(\"rows\").find(\".ui-bizagi-grid-grouped-header\").bind(\"click\", function () {\n        var level = $(this).attr(\"data-grouped-level\");\n        var visibility = $(this).data(\"grouped-visibility\");\n        var group = $(this).\n        nextUntil(\"[data-grouped-level = '\" + level + \"']\").\n        filter(function () {\n          var result = true;\n\n          var groupedLevel = $(this).attr(\"data-grouped-level\");\n          var summaryLevel = $(this).attr(\"data-summary-grouped-level\");\n\n          if (groupedLevel) {\n            if (parseInt(groupedLevel) < level) {\n              result = false;\n            }\n          }\n\n          if (summaryLevel) {\n            if (parseInt(summaryLevel) < level) {\n              result = false;\n            }\n          }\n\n          return result;\n          //return !($(this).attr(\"data-grouped-level\") < level);\n        });\n\n        $(this).data(\"grouped-visibility\", !visibility);\n        if (visibility) {\n          $(\".ui-icon\", this).removeClass(\"ui-icon-triangle-1-s\").addClass(\"ui-icon-triangle-1-e\");\n          $(\".ui-icon\", group).removeClass(\"ui-icon-triangle-1-s\").addClass(\"ui-icon-triangle-1-e\");\n          $(group).hide();\n        } else {\n          $(\".ui-icon\", this).removeClass(\"ui-icon-triangle-1-e\").addClass(\"ui-icon-triangle-1-s\");\n          $(\".ui-icon\", group).removeClass(\"ui-icon-triangle-1-e\").addClass(\"ui-icon-triangle-1-s\");\n          $(group).show();\n        }\n\n      });\n\n\n    } });\n\n\n\n})(jQuery);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*! jQuery Timepicker Addon - v1.4 - 2013-08-11\r\n                                                                                                                                                                                                                                                                                                                                                                               * http://trentrichardson.com/examples/timepicker\r\n                                                                                                                                                                                                                                                                                                                                                                               * Copyright (c) 2013 Trent Richardson; Licensed MIT */\n(function ($) {\n\n  /*\r\n               * Lets not redefine timepicker, Prevent \"Uncaught RangeError: Maximum call stack size exceeded\"\r\n               */\n  $.ui.timepicker = $.ui.timepicker || {};\n  if ($.ui.timepicker.version) {\n    return;\n  }\n\n  /*\r\n    * Extend jQueryUI, get it started with our version number\r\n    */\n  $.extend($.ui, {\n    timepicker: {\n      version: \"1.4\" } });\n\n\n\n  /* \r\n                           * Timepicker manager.\r\n                           * Use the singleton instance of this class, $.timepicker, to interact with the time picker.\r\n                           * Settings for (groups of) time pickers are maintained in an instance object,\r\n                           * allowing multiple different settings on the same page.\r\n                           */\n  var Timepicker = function Timepicker() {\n    this.regional = []; // Available regional settings, indexed by language code\n    this.regional[''] = { // Default regional settings\n      currentText: 'Now',\n      closeText: 'Done',\n      amNames: ['AM', 'A'],\n      pmNames: ['PM', 'P'],\n      timeFormat: 'HH:mm',\n      timeSuffix: '',\n      timeOnlyTitle: 'Choose Time',\n      timeText: 'Time',\n      hourText: 'Hour',\n      minuteText: 'Minute',\n      secondText: 'Second',\n      millisecText: 'Millisecond',\n      microsecText: 'Microsecond',\n      timezoneText: 'Time Zone',\n      isRTL: false };\n\n    this._defaults = { // Global defaults for all the datetime picker instances\n      showButtonPanel: true,\n      timeOnly: false,\n      showHour: null,\n      showMinute: null,\n      showSecond: null,\n      showMillisec: null,\n      showMicrosec: null,\n      showTimezone: null,\n      showTime: true,\n      stepHour: 1,\n      stepMinute: 1,\n      stepSecond: 1,\n      stepMillisec: 1,\n      stepMicrosec: 1,\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisec: 0,\n      microsec: 0,\n      timezone: null,\n      hourMin: 0,\n      minuteMin: 0,\n      secondMin: 0,\n      millisecMin: 0,\n      microsecMin: 0,\n      hourMax: 23,\n      minuteMax: 59,\n      secondMax: 59,\n      millisecMax: 999,\n      microsecMax: 999,\n      minDateTime: null,\n      maxDateTime: null,\n      onSelect: null,\n      hourGrid: 0,\n      minuteGrid: 0,\n      secondGrid: 0,\n      millisecGrid: 0,\n      microsecGrid: 0,\n      alwaysSetTime: true,\n      separator: ' ',\n      altFieldTimeOnly: true,\n      altTimeFormat: null,\n      altSeparator: null,\n      altTimeSuffix: null,\n      pickerTimeFormat: null,\n      pickerTimeSuffix: null,\n      showTimepicker: true,\n      timezoneList: null,\n      addSliderAccess: false,\n      sliderAccessArgs: null,\n      controlType: 'slider',\n      defaultValue: null,\n      parse: 'strict' };\n\n    $.extend(this._defaults, this.regional['']);\n  };\n\n  $.extend(Timepicker.prototype, {\n    $input: null,\n    $altInput: null,\n    $timeObj: null,\n    inst: null,\n    hour_slider: null,\n    minute_slider: null,\n    second_slider: null,\n    millisec_slider: null,\n    microsec_slider: null,\n    timezone_select: null,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisec: 0,\n    microsec: 0,\n    timezone: null,\n    hourMinOriginal: null,\n    minuteMinOriginal: null,\n    secondMinOriginal: null,\n    millisecMinOriginal: null,\n    microsecMinOriginal: null,\n    hourMaxOriginal: null,\n    minuteMaxOriginal: null,\n    secondMaxOriginal: null,\n    millisecMaxOriginal: null,\n    microsecMaxOriginal: null,\n    ampm: '',\n    formattedDate: '',\n    formattedTime: '',\n    formattedDateTime: '',\n    timezoneList: null,\n    units: ['hour', 'minute', 'second', 'millisec', 'microsec'],\n    support: {},\n    control: null,\n\n    /* \r\n                   * Override the default settings for all instances of the time picker.\r\n                   * @param  {Object} settings  object - the new settings to use as defaults (anonymous object)\r\n                   * @return {Object} the manager object\r\n                   */\n    setDefaults: function setDefaults(settings) {\n      extendRemove(this._defaults, settings || {});\n      return this;\n    },\n\n    /*\r\n       * Create a new Timepicker instance\r\n       */\n    _newInst: function _newInst($input, opts) {\n      var tp_inst = new Timepicker(),\n      inlineSettings = {},\n      fns = {},\n      overrides,i;\n\n      for (var attrName in this._defaults) {\n        if (this._defaults.hasOwnProperty(attrName)) {\n          var attrValue = $input.attr('time:' + attrName);\n          if (attrValue) {\n            try {\n              inlineSettings[attrName] = eval(attrValue);\n            } catch (err) {\n              inlineSettings[attrName] = attrValue;\n            }\n          }\n        }\n      }\n\n      overrides = {\n        beforeShow: function beforeShow(input, dp_inst) {\n          if ($.isFunction(tp_inst._defaults.evnts.beforeShow)) {\n            return tp_inst._defaults.evnts.beforeShow.call($input[0], input, dp_inst, tp_inst);\n          }\n        },\n        onChangeMonthYear: function onChangeMonthYear(year, month, dp_inst) {\n          // Update the time as well : this prevents the time from disappearing from the $input field.\n          tp_inst._updateDateTime(dp_inst);\n          if ($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)) {\n            tp_inst._defaults.evnts.onChangeMonthYear.call($input[0], year, month, dp_inst, tp_inst);\n          }\n        },\n        onClose: function onClose(dateText, dp_inst) {\n          if (tp_inst.timeDefined === true && $input.val() !== '') {\n            tp_inst._updateDateTime(dp_inst);\n          }\n          if ($.isFunction(tp_inst._defaults.evnts.onClose)) {\n            tp_inst._defaults.evnts.onClose.call($input[0], dateText, dp_inst, tp_inst);\n          }\n        } };\n\n      for (i in overrides) {\n        if (overrides.hasOwnProperty(i)) {\n          fns[i] = opts[i] || null;\n        }\n      }\n\n      tp_inst._defaults = $.extend({}, this._defaults, inlineSettings, opts, overrides, {\n        evnts: fns,\n        timepicker: tp_inst // add timepicker as a property of datepicker: $.datepicker._get(dp_inst, 'timepicker');\n      });\n      tp_inst.amNames = $.map(tp_inst._defaults.amNames, function (val) {\n        return val.toUpperCase();\n      });\n      tp_inst.pmNames = $.map(tp_inst._defaults.pmNames, function (val) {\n        return val.toUpperCase();\n      });\n\n      // detect which units are supported\n      tp_inst.support = detectSupport(\n      tp_inst._defaults.timeFormat + (\n      tp_inst._defaults.pickerTimeFormat ? tp_inst._defaults.pickerTimeFormat : '') + (\n      tp_inst._defaults.altTimeFormat ? tp_inst._defaults.altTimeFormat : ''));\n\n      // controlType is string - key to our this._controls\n      if (typeof tp_inst._defaults.controlType === 'string') {\n        if (tp_inst._defaults.controlType === 'slider' && typeof $.ui.slider === 'undefined') {\n          tp_inst._defaults.controlType = 'select';\n        }\n        tp_inst.control = tp_inst._controls[tp_inst._defaults.controlType];\n      }\n      // controlType is an object and must implement create, options, value methods\n      else {\n          tp_inst.control = tp_inst._defaults.controlType;\n        }\n\n      // prep the timezone options\n      var timezoneList = [-720, -660, -600, -570, -540, -480, -420, -360, -300, -270, -240, -210, -180, -120, -60,\n      0, 60, 120, 180, 210, 240, 270, 300, 330, 345, 360, 390, 420, 480, 525, 540, 570, 600, 630, 660, 690, 720, 765, 780, 840];\n      if (tp_inst._defaults.timezoneList !== null) {\n        timezoneList = tp_inst._defaults.timezoneList;\n      }\n      var tzl = timezoneList.length,tzi = 0,tzv = null;\n      if (tzl > 0 && _typeof(timezoneList[0]) !== 'object') {\n        for (; tzi < tzl; tzi++) {\n          tzv = timezoneList[tzi];\n          timezoneList[tzi] = { value: tzv, label: $.timepicker.timezoneOffsetString(tzv, tp_inst.support.iso8601) };\n        }\n      }\n      tp_inst._defaults.timezoneList = timezoneList;\n\n      // set the default units\n      tp_inst.timezone = tp_inst._defaults.timezone !== null ? $.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone) :\n      new Date().getTimezoneOffset() * -1;\n      tp_inst.hour = tp_inst._defaults.hour < tp_inst._defaults.hourMin ? tp_inst._defaults.hourMin :\n      tp_inst._defaults.hour > tp_inst._defaults.hourMax ? tp_inst._defaults.hourMax : tp_inst._defaults.hour;\n      tp_inst.minute = tp_inst._defaults.minute < tp_inst._defaults.minuteMin ? tp_inst._defaults.minuteMin :\n      tp_inst._defaults.minute > tp_inst._defaults.minuteMax ? tp_inst._defaults.minuteMax : tp_inst._defaults.minute;\n      tp_inst.second = tp_inst._defaults.second < tp_inst._defaults.secondMin ? tp_inst._defaults.secondMin :\n      tp_inst._defaults.second > tp_inst._defaults.secondMax ? tp_inst._defaults.secondMax : tp_inst._defaults.second;\n      tp_inst.millisec = tp_inst._defaults.millisec < tp_inst._defaults.millisecMin ? tp_inst._defaults.millisecMin :\n      tp_inst._defaults.millisec > tp_inst._defaults.millisecMax ? tp_inst._defaults.millisecMax : tp_inst._defaults.millisec;\n      tp_inst.microsec = tp_inst._defaults.microsec < tp_inst._defaults.microsecMin ? tp_inst._defaults.microsecMin :\n      tp_inst._defaults.microsec > tp_inst._defaults.microsecMax ? tp_inst._defaults.microsecMax : tp_inst._defaults.microsec;\n      tp_inst.ampm = '';\n      tp_inst.$input = $input;\n\n      if (tp_inst._defaults.altField) {\n        tp_inst.$altInput = $(tp_inst._defaults.altField).css({\n          cursor: 'pointer' }).\n        focus(function () {\n          $input.trigger(\"focus\");\n        });\n      }\n\n      if (tp_inst._defaults.minDate === 0 || tp_inst._defaults.minDateTime === 0) {\n        tp_inst._defaults.minDate = new Date();\n      }\n      if (tp_inst._defaults.maxDate === 0 || tp_inst._defaults.maxDateTime === 0) {\n        tp_inst._defaults.maxDate = new Date();\n      }\n\n      // datepicker needs minDate/maxDate, timepicker needs minDateTime/maxDateTime..\n      if (tp_inst._defaults.minDate !== undefined && tp_inst._defaults.minDate instanceof Date) {\n        tp_inst._defaults.minDateTime = new Date(tp_inst._defaults.minDate.getTime());\n      }\n      if (tp_inst._defaults.minDateTime !== undefined && tp_inst._defaults.minDateTime instanceof Date) {\n        tp_inst._defaults.minDate = new Date(tp_inst._defaults.minDateTime.getTime());\n      }\n      if (tp_inst._defaults.maxDate !== undefined && tp_inst._defaults.maxDate instanceof Date) {\n        tp_inst._defaults.maxDateTime = new Date(tp_inst._defaults.maxDate.getTime());\n      }\n      if (tp_inst._defaults.maxDateTime !== undefined && tp_inst._defaults.maxDateTime instanceof Date) {\n        tp_inst._defaults.maxDate = new Date(tp_inst._defaults.maxDateTime.getTime());\n      }\n      tp_inst.$input.bind('focus', function () {\n        tp_inst._onFocus();\n      });\n\n      return tp_inst;\n    },\n\n    /*\r\n       * add our sliders to the calendar\r\n       */\n    _addTimePicker: function _addTimePicker(dp_inst) {\n      var currDT = this.$altInput && this._defaults.altFieldTimeOnly ? this.$input.val() + ' ' + this.$altInput.val() : this.$input.val();\n\n      this.timeDefined = this._parseTime(currDT);\n      this._limitMinMaxDateTime(dp_inst, false);\n      this._injectTimePicker();\n    },\n\n    /*\r\n       * parse the time string from input value or _setTime\r\n       */\n    _parseTime: function _parseTime(timeString, withDate) {\n      if (!this.inst) {\n        this.inst = $.datepicker._getInst(this.$input[0]);\n      }\n\n      if (withDate || !this._defaults.timeOnly) {\n        var dp_dateFormat = $.datepicker._get(this.inst, 'dateFormat');\n        try {\n          var parseRes = parseDateTimeInternal(dp_dateFormat, this._defaults.timeFormat, timeString, $.datepicker._getFormatConfig(this.inst), this._defaults);\n          if (!parseRes.timeObj) {\n            return false;\n          }\n          $.extend(this, parseRes.timeObj);\n        } catch (err) {\n          $.timepicker.log(\"Error parsing the date/time string: \" + err +\n          \"\\ndate/time string = \" + timeString +\n          \"\\ntimeFormat = \" + this._defaults.timeFormat +\n          \"\\ndateFormat = \" + dp_dateFormat);\n          return false;\n        }\n        return true;\n      } else {\n        var timeObj = $.datepicker.parseTime(this._defaults.timeFormat, timeString, this._defaults);\n        if (!timeObj) {\n          return false;\n        }\n        $.extend(this, timeObj);\n        return true;\n      }\n    },\n\n    /*\r\n       * generate and inject html for timepicker into ui datepicker\r\n       */\n    _injectTimePicker: function _injectTimePicker() {\n      var $dp = this.inst.dpDiv,\n      o = this.inst.settings,\n      tp_inst = this,\n      litem = '',\n      uitem = '',\n      show = null,\n      max = {},\n      gridSize = {},\n      size = null,\n      i = 0,\n      l = 0;\n\n      // Prevent displaying twice\n      if ($dp.find(\"div.ui-timepicker-div\").length === 0 && o.showTimepicker) {\n        var noDisplay = ' style=\"display:none;\"',\n        html = '<div class=\"ui-timepicker-div' + (o.isRTL ? ' ui-timepicker-rtl' : '') + '\"><dl>' + '<dt class=\"ui_tpicker_time_label\"' + (o.showTime ? '' : noDisplay) + '>' + o.timeText + '</dt>' +\n        '<dd class=\"ui_tpicker_time\"' + (o.showTime ? '' : noDisplay) + '></dd>';\n\n        // Create the markup\n        for (i = 0, l = this.units.length; i < l; i++) {\n          litem = this.units[i];\n          uitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n          show = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n          // Added by Peter Medeiros:\n          // - Figure out what the hour/minute/second max should be based on the step values.\n          // - Example: if stepMinute is 15, then minMax is 45.\n          max[litem] = parseInt(o[litem + 'Max'] - (o[litem + 'Max'] - o[litem + 'Min']) % o['step' + uitem], 10);\n          gridSize[litem] = 0;\n\n          html += '<dt class=\"ui_tpicker_' + litem + '_label\"' + (show ? '' : noDisplay) + '>' + o[litem + 'Text'] + '</dt>' +\n          '<dd class=\"ui_tpicker_' + litem + '\"><div class=\"ui_tpicker_' + litem + '_slider\"' + (show ? '' : noDisplay) + '></div>';\n\n          if (show && o[litem + 'Grid'] > 0) {\n            html += '<div style=\"padding-left: 1px\"><table class=\"ui-tpicker-grid-label\"><tr>';\n\n            if (litem === 'hour') {\n              for (var h = o[litem + 'Min']; h <= max[litem]; h += parseInt(o[litem + 'Grid'], 10)) {\n                gridSize[litem]++;\n                var tmph = $.datepicker.formatTime(this.support.ampm ? 'hht' : 'HH', { hour: h }, o);\n                html += '<td data-for=\"' + litem + '\">' + tmph + '</td>';\n              }\n            } else\n            {\n              for (var m = o[litem + 'Min']; m <= max[litem]; m += parseInt(o[litem + 'Grid'], 10)) {\n                gridSize[litem]++;\n                html += '<td data-for=\"' + litem + '\">' + (m < 10 ? '0' : '') + m + '</td>';\n              }\n            }\n\n            html += '</tr></table></div>';\n          }\n          html += '</dd>';\n        }\n\n        // Timezone\n        var showTz = o.showTimezone !== null ? o.showTimezone : this.support.timezone;\n        html += '<dt class=\"ui_tpicker_timezone_label\"' + (showTz ? '' : noDisplay) + '>' + o.timezoneText + '</dt>';\n        html += '<dd class=\"ui_tpicker_timezone\" ' + (showTz ? '' : noDisplay) + '></dd>';\n\n        // Create the elements from string\n        html += '</dl></div>';\n        var $tp = $(html);\n\n        // if we only want time picker...\n        if (o.timeOnly === true) {\n          $tp.prepend('<div class=\"ui-widget-header ui-helper-clearfix ui-corner-all\">' + '<div class=\"ui-datepicker-title\">' + o.timeOnlyTitle + '</div>' + '</div>');\n          $dp.find('.ui-datepicker-header, .ui-datepicker-calendar').hide();\n        }\n\n        // add sliders, adjust grids, add events\n        for (i = 0, l = tp_inst.units.length; i < l; i++) {\n          litem = tp_inst.units[i];\n          uitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n          show = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n          // add the slider\n          tp_inst[litem + '_slider'] = tp_inst.control.create(tp_inst, $tp.find('.ui_tpicker_' + litem + '_slider'), litem, tp_inst[litem], o[litem + 'Min'], max[litem], o['step' + uitem]);\n\n          // adjust the grid and add click event\n          if (show && o[litem + 'Grid'] > 0) {\n            size = 100 * gridSize[litem] * o[litem + 'Grid'] / (max[litem] - o[litem + 'Min']);\n            $tp.find('.ui_tpicker_' + litem + ' table').css({\n              width: size + \"%\",\n              marginLeft: o.isRTL ? '0' : size / (-2 * gridSize[litem]) + \"%\",\n              marginRight: o.isRTL ? size / (-2 * gridSize[litem]) + \"%\" : '0',\n              borderCollapse: 'collapse' }).\n            find(\"td\").click(function (e) {\n              var $t = $(this),\n              h = $t.html(),\n              n = parseInt(h.replace(/[^0-9]/g), 10),\n              ap = h.replace(/[^apm]/ig),\n              f = $t.data('for'); // loses scope, so we use data-for\n\n              if (f === 'hour') {\n                if (ap.indexOf('p') !== -1 && n < 12) {\n                  n += 12;\n                } else\n                {\n                  if (ap.indexOf('a') !== -1 && n === 12) {\n                    n = 0;\n                  }\n                }\n              }\n\n              tp_inst.control.value(tp_inst, tp_inst[f + '_slider'], litem, n);\n\n              tp_inst._onTimeChange();\n              tp_inst._onSelectHandler();\n            }).css({\n              cursor: 'pointer',\n              width: 100 / gridSize[litem] + '%',\n              textAlign: 'center',\n              overflow: 'hidden' });\n\n          } // end if grid > 0\n        } // end for loop\n\n        // Add timezone options\n        this.timezone_select = $tp.find('.ui_tpicker_timezone').append('<select></select>').find(\"select\");\n        $.fn.append.apply(this.timezone_select,\n        $.map(o.timezoneList, function (val, idx) {\n          return $(\"<option />\").val(_typeof(val) === \"object\" ? val.value : val).text(_typeof(val) === \"object\" ? val.label : val);\n        }));\n        if (typeof this.timezone !== \"undefined\" && this.timezone !== null && this.timezone !== \"\") {\n          var local_timezone = new Date(this.inst.selectedYear, this.inst.selectedMonth, this.inst.selectedDay, 12).getTimezoneOffset() * -1;\n          if (local_timezone === this.timezone) {\n            selectLocalTimezone(tp_inst);\n          } else {\n            this.timezone_select.val(this.timezone);\n          }\n        } else {\n          if (typeof this.hour !== \"undefined\" && this.hour !== null && this.hour !== \"\") {\n            this.timezone_select.val(o.timezone);\n          } else {\n            selectLocalTimezone(tp_inst);\n          }\n        }\n        this.timezone_select.change(function () {\n          tp_inst._onTimeChange();\n          tp_inst._onSelectHandler();\n        });\n        // End timezone options\n\n        // inject timepicker into datepicker\n        var $buttonPanel = $dp.find('.ui-datepicker-buttonpane');\n        if ($buttonPanel.length) {\n          $buttonPanel.before($tp);\n        } else {\n          $dp.append($tp);\n        }\n\n        this.$timeObj = $tp.find('.ui_tpicker_time');\n\n        if (this.inst !== null) {\n          var timeDefined = this.timeDefined;\n          this._onTimeChange();\n          this.timeDefined = timeDefined;\n        }\n\n        // slideAccess integration: http://trentrichardson.com/2011/11/11/jquery-ui-sliders-and-touch-accessibility/\n        if (this._defaults.addSliderAccess) {\n          var sliderAccessArgs = this._defaults.sliderAccessArgs,\n          rtl = this._defaults.isRTL;\n          sliderAccessArgs.isRTL = rtl;\n\n          setTimeout(function () {// fix for inline mode\n            if ($tp.find('.ui-slider-access').length === 0) {\n              $tp.find('.ui-slider:visible').sliderAccess(sliderAccessArgs);\n\n              // fix any grids since sliders are shorter\n              var sliderAccessWidth = $tp.find('.ui-slider-access:eq(0)').outerWidth(true);\n              if (sliderAccessWidth) {\n                $tp.find('table:visible').each(function () {\n                  var $g = $(this),\n                  oldWidth = $g.outerWidth(),\n                  oldMarginLeft = $g.css(rtl ? 'marginRight' : 'marginLeft').toString().replace('%', ''),\n                  newWidth = oldWidth - sliderAccessWidth,\n                  newMarginLeft = oldMarginLeft * newWidth / oldWidth + '%',\n                  css = { width: newWidth, marginRight: 0, marginLeft: 0 };\n                  css[rtl ? 'marginRight' : 'marginLeft'] = newMarginLeft;\n                  $g.css(css);\n                });\n              }\n            }\n          }, 10);\n        }\n        // end slideAccess integration\n\n        tp_inst._limitMinMaxDateTime(this.inst, true);\n      }\n    },\n\n    /*\r\n       * This function tries to limit the ability to go outside the\r\n       * min/max date range\r\n       */\n    _limitMinMaxDateTime: function _limitMinMaxDateTime(dp_inst, adjustSliders) {\n      var o = this._defaults,\n      dp_date = new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay);\n\n      if (!this._defaults.showTimepicker) {\n        return;\n      } // No time so nothing to check here\n\n      if ($.datepicker._get(dp_inst, 'minDateTime') !== null && $.datepicker._get(dp_inst, 'minDateTime') !== undefined && dp_date) {\n        var minDateTime = $.datepicker._get(dp_inst, 'minDateTime'),\n        minDateTimeDate = new Date(minDateTime.getFullYear(), minDateTime.getMonth(), minDateTime.getDate(), 0, 0, 0, 0);\n\n        if (this.hourMinOriginal === null || this.minuteMinOriginal === null || this.secondMinOriginal === null || this.millisecMinOriginal === null || this.microsecMinOriginal === null) {\n          this.hourMinOriginal = o.hourMin;\n          this.minuteMinOriginal = o.minuteMin;\n          this.secondMinOriginal = o.secondMin;\n          this.millisecMinOriginal = o.millisecMin;\n          this.microsecMinOriginal = o.microsecMin;\n        }\n\n        if (dp_inst.settings.timeOnly || minDateTimeDate.getTime() === dp_date.getTime()) {\n          this._defaults.hourMin = minDateTime.getHours();\n          if (this.hour <= this._defaults.hourMin) {\n            this.hour = this._defaults.hourMin;\n            this._defaults.minuteMin = minDateTime.getMinutes();\n            if (this.minute <= this._defaults.minuteMin) {\n              this.minute = this._defaults.minuteMin;\n              this._defaults.secondMin = minDateTime.getSeconds();\n              if (this.second <= this._defaults.secondMin) {\n                this.second = this._defaults.secondMin;\n                this._defaults.millisecMin = minDateTime.getMilliseconds();\n                if (this.millisec <= this._defaults.millisecMin) {\n                  this.millisec = this._defaults.millisecMin;\n                  this._defaults.microsecMin = minDateTime.getMicroseconds();\n                } else {\n                  if (this.microsec < this._defaults.microsecMin) {\n                    this.microsec = this._defaults.microsecMin;\n                  }\n                  this._defaults.microsecMin = this.microsecMinOriginal;\n                }\n              } else {\n                this._defaults.millisecMin = this.millisecMinOriginal;\n                this._defaults.microsecMin = this.microsecMinOriginal;\n              }\n            } else {\n              this._defaults.secondMin = this.secondMinOriginal;\n              this._defaults.millisecMin = this.millisecMinOriginal;\n              this._defaults.microsecMin = this.microsecMinOriginal;\n            }\n          } else {\n            this._defaults.minuteMin = this.minuteMinOriginal;\n            this._defaults.secondMin = this.secondMinOriginal;\n            this._defaults.millisecMin = this.millisecMinOriginal;\n            this._defaults.microsecMin = this.microsecMinOriginal;\n          }\n        } else {\n          this._defaults.hourMin = this.hourMinOriginal;\n          this._defaults.minuteMin = this.minuteMinOriginal;\n          this._defaults.secondMin = this.secondMinOriginal;\n          this._defaults.millisecMin = this.millisecMinOriginal;\n          this._defaults.microsecMin = this.microsecMinOriginal;\n        }\n      }\n\n      if ($.datepicker._get(dp_inst, 'maxDateTime') !== null && $.datepicker._get(dp_inst, 'maxDateTime') !== undefined && dp_date) {\n        var maxDateTime = $.datepicker._get(dp_inst, 'maxDateTime'),\n        maxDateTimeDate = new Date(maxDateTime.getFullYear(), maxDateTime.getMonth(), maxDateTime.getDate(), 0, 0, 0, 0);\n\n        if (this.hourMaxOriginal === null || this.minuteMaxOriginal === null || this.secondMaxOriginal === null || this.millisecMaxOriginal === null) {\n          this.hourMaxOriginal = o.hourMax;\n          this.minuteMaxOriginal = o.minuteMax;\n          this.secondMaxOriginal = o.secondMax;\n          this.millisecMaxOriginal = o.millisecMax;\n          this.microsecMaxOriginal = o.microsecMax;\n        }\n\n        if (dp_inst.settings.timeOnly || maxDateTimeDate.getTime() === dp_date.getTime()) {\n          this._defaults.hourMax = maxDateTime.getHours();\n          if (this.hour >= this._defaults.hourMax) {\n            this.hour = this._defaults.hourMax;\n            this._defaults.minuteMax = maxDateTime.getMinutes();\n            if (this.minute >= this._defaults.minuteMax) {\n              this.minute = this._defaults.minuteMax;\n              this._defaults.secondMax = maxDateTime.getSeconds();\n              if (this.second >= this._defaults.secondMax) {\n                this.second = this._defaults.secondMax;\n                this._defaults.millisecMax = maxDateTime.getMilliseconds();\n                if (this.millisec >= this._defaults.millisecMax) {\n                  this.millisec = this._defaults.millisecMax;\n                  this._defaults.microsecMax = maxDateTime.getMicroseconds();\n                } else {\n                  if (this.microsec > this._defaults.microsecMax) {\n                    this.microsec = this._defaults.microsecMax;\n                  }\n                  this._defaults.microsecMax = this.microsecMaxOriginal;\n                }\n              } else {\n                this._defaults.millisecMax = this.millisecMaxOriginal;\n                this._defaults.microsecMax = this.microsecMaxOriginal;\n              }\n            } else {\n              this._defaults.secondMax = this.secondMaxOriginal;\n              this._defaults.millisecMax = this.millisecMaxOriginal;\n              this._defaults.microsecMax = this.microsecMaxOriginal;\n            }\n          } else {\n            this._defaults.minuteMax = this.minuteMaxOriginal;\n            this._defaults.secondMax = this.secondMaxOriginal;\n            this._defaults.millisecMax = this.millisecMaxOriginal;\n            this._defaults.microsecMax = this.microsecMaxOriginal;\n          }\n        } else {\n          this._defaults.hourMax = this.hourMaxOriginal;\n          this._defaults.minuteMax = this.minuteMaxOriginal;\n          this._defaults.secondMax = this.secondMaxOriginal;\n          this._defaults.millisecMax = this.millisecMaxOriginal;\n          this._defaults.microsecMax = this.microsecMaxOriginal;\n        }\n      }\n\n      if (adjustSliders !== undefined && adjustSliders === true) {\n        var hourMax = parseInt(this._defaults.hourMax - (this._defaults.hourMax - this._defaults.hourMin) % this._defaults.stepHour, 10),\n        minMax = parseInt(this._defaults.minuteMax - (this._defaults.minuteMax - this._defaults.minuteMin) % this._defaults.stepMinute, 10),\n        secMax = parseInt(this._defaults.secondMax - (this._defaults.secondMax - this._defaults.secondMin) % this._defaults.stepSecond, 10),\n        millisecMax = parseInt(this._defaults.millisecMax - (this._defaults.millisecMax - this._defaults.millisecMin) % this._defaults.stepMillisec, 10),\n        microsecMax = parseInt(this._defaults.microsecMax - (this._defaults.microsecMax - this._defaults.microsecMin) % this._defaults.stepMicrosec, 10);\n\n        if (this.hour_slider) {\n          this.control.options(this, this.hour_slider, 'hour', { min: this._defaults.hourMin, max: hourMax });\n          this.control.value(this, this.hour_slider, 'hour', this.hour - this.hour % this._defaults.stepHour);\n        }\n        if (this.minute_slider) {\n          this.control.options(this, this.minute_slider, 'minute', { min: this._defaults.minuteMin, max: minMax });\n          this.control.value(this, this.minute_slider, 'minute', this.minute - this.minute % this._defaults.stepMinute);\n        }\n        if (this.second_slider) {\n          this.control.options(this, this.second_slider, 'second', { min: this._defaults.secondMin, max: secMax });\n          this.control.value(this, this.second_slider, 'second', this.second - this.second % this._defaults.stepSecond);\n        }\n        if (this.millisec_slider) {\n          this.control.options(this, this.millisec_slider, 'millisec', { min: this._defaults.millisecMin, max: millisecMax });\n          this.control.value(this, this.millisec_slider, 'millisec', this.millisec - this.millisec % this._defaults.stepMillisec);\n        }\n        if (this.microsec_slider) {\n          this.control.options(this, this.microsec_slider, 'microsec', { min: this._defaults.microsecMin, max: microsecMax });\n          this.control.value(this, this.microsec_slider, 'microsec', this.microsec - this.microsec % this._defaults.stepMicrosec);\n        }\n      }\n\n    },\n\n    /*\r\n       * when a slider moves, set the internal time...\r\n       * on time change is also called when the time is updated in the text field\r\n       */\n    _onTimeChange: function _onTimeChange() {\n      if (!this._defaults.showTimepicker) {\n        return;\n      }\n      var hour = this.hour_slider ? this.control.value(this, this.hour_slider, 'hour') : false,\n      minute = this.minute_slider ? this.control.value(this, this.minute_slider, 'minute') : false,\n      second = this.second_slider ? this.control.value(this, this.second_slider, 'second') : false,\n      millisec = this.millisec_slider ? this.control.value(this, this.millisec_slider, 'millisec') : false,\n      microsec = this.microsec_slider ? this.control.value(this, this.microsec_slider, 'microsec') : false,\n      timezone = this.timezone_select ? this.timezone_select.val() : false,\n      o = this._defaults,\n      pickerTimeFormat = o.pickerTimeFormat || o.timeFormat,\n      pickerTimeSuffix = o.pickerTimeSuffix || o.timeSuffix;\n\n      if (_typeof(hour) === 'object') {\n        hour = false;\n      }\n      if (_typeof(minute) === 'object') {\n        minute = false;\n      }\n      if (_typeof(second) === 'object') {\n        second = false;\n      }\n      if (_typeof(millisec) === 'object') {\n        millisec = false;\n      }\n      if (_typeof(microsec) === 'object') {\n        microsec = false;\n      }\n      if (_typeof(timezone) === 'object') {\n        timezone = false;\n      }\n\n      if (hour !== false) {\n        hour = parseInt(hour, 10);\n      }\n      if (minute !== false) {\n        minute = parseInt(minute, 10);\n      }\n      if (second !== false) {\n        second = parseInt(second, 10);\n      }\n      if (millisec !== false) {\n        millisec = parseInt(millisec, 10);\n      }\n      if (microsec !== false) {\n        microsec = parseInt(microsec, 10);\n      }\n\n      var ampm = o[hour < 12 ? 'amNames' : 'pmNames'][0];\n\n      // If the update was done in the input field, the input field should not be updated.\n      // If the update was done using the sliders, update the input field.\n      var hasChanged = hour !== this.hour || minute !== this.minute || second !== this.second || millisec !== this.millisec || microsec !== this.microsec ||\n      this.ampm.length > 0 && hour < 12 !== ($.inArray(this.ampm.toUpperCase(), this.amNames) !== -1) || this.timezone !== null && timezone !== this.timezone;\n\n      if (hasChanged) {\n\n        if (hour !== false) {\n          this.hour = hour;\n        }\n        if (minute !== false) {\n          this.minute = minute;\n        }\n        if (second !== false) {\n          this.second = second;\n        }\n        if (millisec !== false) {\n          this.millisec = millisec;\n        }\n        if (microsec !== false) {\n          this.microsec = microsec;\n        }\n        if (timezone !== false) {\n          this.timezone = timezone;\n        }\n\n        if (!this.inst) {\n          this.inst = $.datepicker._getInst(this.$input[0]);\n        }\n\n        this._limitMinMaxDateTime(this.inst, true);\n      }\n      if (this.support.ampm) {\n        this.ampm = ampm;\n      }\n\n      // Updates the time within the timepicker\n      this.formattedTime = $.datepicker.formatTime(o.timeFormat, this, o);\n      if (this.$timeObj) {\n        if (pickerTimeFormat === o.timeFormat) {\n          this.$timeObj.text(this.formattedTime + pickerTimeSuffix);\n        } else\n        {\n          this.$timeObj.text($.datepicker.formatTime(pickerTimeFormat, this, o) + pickerTimeSuffix);\n        }\n      }\n\n      this.timeDefined = true;\n      if (hasChanged) {\n        this._updateDateTime();\n      }\n    },\n\n    /*\r\n       * call custom onSelect.\r\n       * bind to sliders slidestop, and grid click.\r\n       */\n    _onSelectHandler: function _onSelectHandler() {\n      var onSelect = this._defaults.onSelect || this.inst.settings.onSelect;\n      var inputEl = this.$input ? this.$input[0] : null;\n      if (onSelect && inputEl) {\n        onSelect.apply(inputEl, [this.formattedDateTime, this]);\n      }\n    },\n\n    /*\r\n       * update our input with the new date time..\r\n       */\n    _updateDateTime: function _updateDateTime(dp_inst) {\n      dp_inst = this.inst || dp_inst;\n      var dtTmp = dp_inst.currentYear > 0 ?\n      new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay) :\n      new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay),\n      dt = $.datepicker._daylightSavingAdjust(dtTmp),\n      //dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n      //dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay)),\n      dateFmt = $.datepicker._get(dp_inst, 'dateFormat'),\n      formatCfg = $.datepicker._getFormatConfig(dp_inst),\n      timeAvailable = dt !== null && this.timeDefined;\n      this.formattedDate = $.datepicker.formatDate(dateFmt, dt === null ? new Date() : dt, formatCfg);\n      var formattedDateTime = this.formattedDate;\n\n      // if a slider was changed but datepicker doesn't have a value yet, set it\n      if (dp_inst.lastVa === \"\") {\n        dp_inst.currentYear = dp_inst.selectedYear;\n        dp_inst.currentMonth = dp_inst.selectedMonth;\n        dp_inst.currentDay = dp_inst.selectedDay;\n      }\n\n      /*\r\n        * remove following lines to force every changes in date picker to change the input value\r\n        * Bug descriptions: when an input field has a default value, and click on the field to pop up the date picker. \r\n        * If the user manually empty the value in the input field, the date picker will never change selected value.\r\n        */\n      //if (dp_inst.lastVal !== undefined && (dp_inst.lastVal.length > 0 && this.$input.val().length === 0)) {\n      //\treturn;\n      //}\n\n      if (this._defaults.timeOnly === true) {\n        formattedDateTime = this.formattedTime;\n      } else if (this._defaults.timeOnly !== true && (this._defaults.alwaysSetTime || timeAvailable)) {\n        formattedDateTime += this._defaults.separator + this.formattedTime + this._defaults.timeSuffix;\n      }\n\n      this.formattedDateTime = formattedDateTime;\n\n      if (!this._defaults.showTimepicker) {\n        this.$input.val(this.formattedDate);\n      } else if (this.$altInput && this._defaults.timeOnly === false && this._defaults.altFieldTimeOnly === true) {\n        this.$altInput.val(this.formattedTime);\n        this.$input.val(this.formattedDate);\n      } else if (this.$altInput) {\n        this.$input.val(formattedDateTime);\n        var altFormattedDateTime = '',\n        altSeparator = this._defaults.altSeparator ? this._defaults.altSeparator : this._defaults.separator,\n        altTimeSuffix = this._defaults.altTimeSuffix ? this._defaults.altTimeSuffix : this._defaults.timeSuffix;\n\n        if (!this._defaults.timeOnly) {\n          if (this._defaults.altFormat) {\n            altFormattedDateTime = $.datepicker.formatDate(this._defaults.altFormat, dt === null ? new Date() : dt, formatCfg);\n          } else\n          {\n            altFormattedDateTime = this.formattedDate;\n          }\n\n          if (altFormattedDateTime) {\n            altFormattedDateTime += altSeparator;\n          }\n        }\n\n        if (this._defaults.altTimeFormat) {\n          altFormattedDateTime += $.datepicker.formatTime(this._defaults.altTimeFormat, this, this._defaults) + altTimeSuffix;\n        } else\n        {\n          altFormattedDateTime += this.formattedTime + altTimeSuffix;\n        }\n        this.$altInput.val(altFormattedDateTime);\n      } else {\n        this.$input.val(formattedDateTime);\n      }\n\n      this.$input.trigger(\"change\");\n    },\n\n    _onFocus: function _onFocus() {\n      if (!this.$input.val() && this._defaults.defaultValue) {\n        this.$input.val(this._defaults.defaultValue);\n        var inst = $.datepicker._getInst(this.$input.get(0)),\n        tp_inst = $.datepicker._get(inst, 'timepicker');\n        if (tp_inst) {\n          if (tp_inst._defaults.timeOnly && inst.input.val() !== inst.lastVal) {\n            try {\n              $.datepicker._updateDatepicker(inst);\n            } catch (err) {\n              $.timepicker.log(err);\n            }\n          }\n        }\n      }\n    },\n\n    /*\r\n       * Small abstraction to control types\r\n       * We can add more, just be sure to follow the pattern: create, options, value\r\n       */\n    _controls: {\n      // slider methods\n      slider: {\n        create: function create(tp_inst, obj, unit, val, min, max, step) {\n          var rtl = tp_inst._defaults.isRTL; // if rtl go -60->0 instead of 0->60\n          return obj.prop('slide', null).slider({\n            orientation: \"horizontal\",\n            value: rtl ? val * -1 : val,\n            min: rtl ? max * -1 : min,\n            max: rtl ? min * -1 : max,\n            step: step,\n            slide: function slide(event, ui) {\n              tp_inst.control.value(tp_inst, $(this), unit, rtl ? ui.value * -1 : ui.value);\n              tp_inst._onTimeChange();\n            },\n            stop: function stop(event, ui) {\n              tp_inst._onSelectHandler();\n            } });\n\n        },\n        options: function options(tp_inst, obj, unit, opts, val) {\n          if (tp_inst._defaults.isRTL) {\n            if (typeof opts === 'string') {\n              if (opts === 'min' || opts === 'max') {\n                if (val !== undefined) {\n                  return obj.slider(opts, val * -1);\n                }\n                return Math.abs(obj.slider(opts));\n              }\n              return obj.slider(opts);\n            }\n            var min = opts.min,\n            max = opts.max;\n            opts.min = opts.max = null;\n            if (min !== undefined) {\n              opts.max = min * -1;\n            }\n            if (max !== undefined) {\n              opts.min = max * -1;\n            }\n            return obj.slider(opts);\n          }\n          if (typeof opts === 'string' && val !== undefined) {\n            return obj.slider(opts, val);\n          }\n          return obj.slider(opts);\n        },\n        value: function value(tp_inst, obj, unit, val) {\n          if (tp_inst._defaults.isRTL) {\n            if (val !== undefined) {\n              return obj.slider('value', val * -1);\n            }\n            return Math.abs(obj.slider('value'));\n          }\n          if (val !== undefined) {\n            return obj.slider('value', val);\n          }\n          return obj.slider('value');\n        } },\n\n      // select methods\n      select: {\n        create: function create(tp_inst, obj, unit, val, min, max, step) {\n          var sel = '<select class=\"ui-timepicker-select\" data-unit=\"' + unit + '\" data-min=\"' + min + '\" data-max=\"' + max + '\" data-step=\"' + step + '\">',\n          format = tp_inst._defaults.pickerTimeFormat || tp_inst._defaults.timeFormat;\n\n          for (var i = min; i <= max; i += step) {\n            sel += '<option value=\"' + i + '\"' + (i === val ? ' selected' : '') + '>';\n            if (unit === 'hour') {\n              sel += $.datepicker.formatTime($.trim(format.replace(/[^ht ]/ig, '')), { hour: i }, tp_inst._defaults);\n            } else\n            if (unit === 'millisec' || unit === 'microsec' || i >= 10) {sel += i;} else\n            {sel += '0' + i.toString();}\n            sel += '</option>';\n          }\n          sel += '</select>';\n\n          obj.children('select').remove();\n\n          $(sel).appendTo(obj).change(function (e) {\n            tp_inst._onTimeChange();\n            tp_inst._onSelectHandler();\n          });\n\n          return obj;\n        },\n        options: function options(tp_inst, obj, unit, opts, val) {\n          var o = {},\n          $t = obj.children('select');\n          if (typeof opts === 'string') {\n            if (val === undefined) {\n              return $t.data(opts);\n            }\n            o[opts] = val;\n          } else\n          {o = opts;}\n          return tp_inst.control.create(tp_inst, obj, $t.data('unit'), $t.val(), o.min || $t.data('min'), o.max || $t.data('max'), o.step || $t.data('step'));\n        },\n        value: function value(tp_inst, obj, unit, val) {\n          var $t = obj.children('select');\n          if (val !== undefined) {\n            return $t.val(val);\n          }\n          return $t.val();\n        } } }\n\n    // end _controls\n  });\n\n\n  $.fn.extend({\n    /*\r\n                * shorthand just to use timepicker.\r\n                */\n    timepicker: function timepicker(o) {\n      o = o || {};\n      var tmp_args = Array.prototype.slice.call(arguments);\n\n      if (_typeof(o) === 'object') {\n        tmp_args[0] = $.extend(o, {\n          timeOnly: true });\n\n      }\n\n      return $(this).each(function () {\n        $.fn.datetimepicker.apply($(this), tmp_args);\n      });\n    },\n\n    /*\r\n       * extend timepicker to datepicker\r\n       */\n    datetimepicker: function datetimepicker(o) {\n      o = o || {};\n      var tmp_args = arguments;\n\n      if (typeof o === 'string') {\n        if (o === 'getDate') {\n          return $.fn.datepicker.apply($(this[0]), tmp_args);\n        } else {\n          return this.each(function () {\n            var $t = $(this);\n            $t.datepicker.apply($t, tmp_args);\n          });\n        }\n      } else {\n        return this.each(function () {\n          var $t = $(this);\n          $t.datepicker($.timepicker._newInst($t, o)._defaults);\n        });\n      }\n    } });\n\n\n  /*\r\n          * Public Utility to parse date and time\r\n          */\n  $.datepicker.parseDateTime = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n    var parseRes = parseDateTimeInternal(dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings);\n    if (parseRes.timeObj) {\n      var t = parseRes.timeObj;\n      parseRes.date.setHours(t.hour, t.minute, t.second, t.millisec);\n      parseRes.date.setMicroseconds(t.microsec);\n    }\n\n    return parseRes.date;\n  };\n\n  /*\r\n     * Public utility to parse time\r\n     */\n  $.datepicker.parseTime = function (timeFormat, timeString, options) {\n    var o = extendRemove(extendRemove({}, $.timepicker._defaults), options || {}),\n    iso8601 = timeFormat.replace(/\\'.*?\\'/g, '').indexOf('Z') !== -1;\n\n    // Strict parse requires the timeString to match the timeFormat exactly\n    var strictParse = function strictParse(f, s, o) {\n\n      // pattern for standard and localized AM/PM markers\n      var getPatternAmpm = function getPatternAmpm(amNames, pmNames) {\n        var markers = [];\n        if (amNames) {\n          $.merge(markers, amNames);\n        }\n        if (pmNames) {\n          $.merge(markers, pmNames);\n        }\n        markers = $.map(markers, function (val) {\n          return val.replace(/[.*+?|()\\[\\]{}\\\\]/g, '\\\\$&');\n        });\n        return '(' + markers.join('|') + ')?';\n      };\n\n      // figure out position of time elements.. cause js cant do named captures\n      var getFormatPositions = function getFormatPositions(timeFormat) {\n        var finds = timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),\n        orders = {\n          h: -1,\n          m: -1,\n          s: -1,\n          l: -1,\n          c: -1,\n          t: -1,\n          z: -1 };\n\n\n        if (finds) {\n          for (var i = 0; i < finds.length; i++) {\n            if (orders[finds[i].toString().charAt(0)] === -1) {\n              orders[finds[i].toString().charAt(0)] = i + 1;\n            }\n          }\n        }\n        return orders;\n      };\n\n      var regstr = '^' + f.toString().\n      replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n        var ml = match.length;\n        switch (match.charAt(0).toLowerCase()) {\n          case 'h':\n            return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n          case 'm':\n            return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n          case 's':\n            return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n          case 'l':\n            return '(\\\\d?\\\\d?\\\\d)';\n          case 'c':\n            return '(\\\\d?\\\\d?\\\\d)';\n          case 'z':\n            return '(z|[-+]\\\\d\\\\d:?\\\\d\\\\d|\\\\S+)?';\n          case 't':\n            return getPatternAmpm(o.amNames, o.pmNames);\n          default: // literal escaped in quotes\n            return '(' + match.replace(/\\'/g, \"\").replace(/(\\.|\\$|\\^|\\\\|\\/|\\(|\\)|\\[|\\]|\\?|\\+|\\*)/g, function (m) {return \"\\\\\" + m;}) + ')?';}\n\n      }).\n      replace(/\\s/g, '\\\\s?') +\n      o.timeSuffix + '$',\n      order = getFormatPositions(f),\n      ampm = '',\n      treg;\n\n      treg = s.match(new RegExp(regstr, 'i'));\n\n      var resTime = {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisec: 0,\n        microsec: 0 };\n\n\n      if (treg) {\n        if (order.t !== -1) {\n          if (treg[order.t] === undefined || treg[order.t].length === 0) {\n            ampm = '';\n            resTime.ampm = '';\n          } else {\n            ampm = $.inArray(treg[order.t].toUpperCase(), o.amNames) !== -1 ? 'AM' : 'PM';\n            resTime.ampm = o[ampm === 'AM' ? 'amNames' : 'pmNames'][0];\n          }\n        }\n\n        if (order.h !== -1) {\n          if (ampm === 'AM' && treg[order.h] === '12') {\n            resTime.hour = 0; // 12am = 0 hour\n          } else {\n            if (ampm === 'PM' && treg[order.h] !== '12') {\n              resTime.hour = parseInt(treg[order.h], 10) + 12; // 12pm = 12 hour, any other pm = hour + 12\n            } else {\n              resTime.hour = Number(treg[order.h]);\n            }\n          }\n        }\n\n        if (order.m !== -1) {\n          resTime.minute = Number(treg[order.m]);\n        }\n        if (order.s !== -1) {\n          resTime.second = Number(treg[order.s]);\n        }\n        if (order.l !== -1) {\n          resTime.millisec = Number(treg[order.l]);\n        }\n        if (order.c !== -1) {\n          resTime.microsec = Number(treg[order.c]);\n        }\n        if (order.z !== -1 && treg[order.z] !== undefined) {\n          resTime.timezone = $.timepicker.timezoneOffsetNumber(treg[order.z]);\n        }\n\n\n        return resTime;\n      }\n      return false;\n    }; // end strictParse\n\n    // First try JS Date, if that fails, use strictParse\n    var looseParse = function looseParse(f, s, o) {\n      try {\n        var d = new Date('2012-01-01 ' + s);\n        if (isNaN(d.getTime())) {\n          d = new Date('2012-01-01T' + s);\n          if (isNaN(d.getTime())) {\n            d = new Date('01/01/2012 ' + s);\n            if (isNaN(d.getTime())) {\n              throw \"Unable to parse time with native Date: \" + s;\n            }\n          }\n        }\n\n        return {\n          hour: d.getHours(),\n          minute: d.getMinutes(),\n          second: d.getSeconds(),\n          millisec: d.getMilliseconds(),\n          microsec: d.getMicroseconds(),\n          timezone: d.getTimezoneOffset() * -1 };\n\n      }\n      catch (err) {\n        try {\n          return strictParse(f, s, o);\n        }\n        catch (err2) {\n          $.timepicker.log(\"Unable to parse \\ntimeString: \" + s + \"\\ntimeFormat: \" + f);\n        }\n      }\n      return false;\n    }; // end looseParse\n\n    if (typeof o.parse === \"function\") {\n      return o.parse(timeFormat, timeString, o);\n    }\n    if (o.parse === 'loose') {\n      return looseParse(timeFormat, timeString, o);\n    }\n    return strictParse(timeFormat, timeString, o);\n  };\n\n  /**\r\n     * Public utility to format the time\r\n     * @param {string} format format of the time\r\n     * @param {Object} time Object not a Date for timezones\r\n     * @param {Object} [options] essentially the regional[].. amNames, pmNames, ampm\r\n     * @returns {string} the formatted time\r\n     */\n  $.datepicker.formatTime = function (format, time, options) {\n    options = options || {};\n    options = $.extend({}, $.timepicker._defaults, options);\n    time = $.extend({\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisec: 0,\n      microsec: 0,\n      timezone: null },\n    time);\n\n    var tmptime = format,\n    ampmName = options.amNames[0],\n    hour = parseInt(time.hour, 10);\n\n    if (hour > 11) {\n      ampmName = options.pmNames[0];\n    }\n\n    tmptime = tmptime.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n      switch (match) {\n        case 'HH':\n          return ('0' + hour).slice(-2);\n        case 'H':\n          return hour;\n        case 'hh':\n          return ('0' + convert24to12(hour)).slice(-2);\n        case 'h':\n          return convert24to12(hour);\n        case 'mm':\n          return ('0' + time.minute).slice(-2);\n        case 'm':\n          return time.minute;\n        case 'ss':\n          return ('0' + time.second).slice(-2);\n        case 's':\n          return time.second;\n        case 'l':\n          return ('00' + time.millisec).slice(-3);\n        case 'c':\n          return ('00' + time.microsec).slice(-3);\n        case 'z':\n          return $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, false);\n        case 'Z':\n          return $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, true);\n        case 'T':\n          return ampmName.charAt(0).toUpperCase();\n        case 'TT':\n          return ampmName.toUpperCase();\n        case 't':\n          return ampmName.charAt(0).toLowerCase();\n        case 'tt':\n          return ampmName.toLowerCase();\n        default:\n          return match.replace(/'/g, \"\");}\n\n    });\n\n    return tmptime;\n  };\n\n  /*\r\n     * the bad hack :/ override datepicker so it doesn't close on select\r\n     // inspired: http://stackoverflow.com/questions/1252512/jquery-datepicker-prevent-closing-picker-when-clicking-a-date/1762378#1762378\r\n     */\n  $.datepicker._base_selectDate = $.datepicker._selectDate;\n  $.datepicker._selectDate = function (id, dateStr) {\n    var inst = this._getInst($(id)[0]),\n    tp_inst = this._get(inst, 'timepicker');\n\n    if (tp_inst) {\n      tp_inst._limitMinMaxDateTime(inst, true);\n      inst.inline = inst.stay_open = true;\n      //This way the onSelect handler called from calendarpicker get the full dateTime\n      this._base_selectDate(id, dateStr);\n      inst.inline = inst.stay_open = false;\n      this._notifyChange(inst);\n      this._updateDatepicker(inst);\n    } else {\n      this._base_selectDate(id, dateStr);\n    }\n  };\n\n  /*\r\n     * second bad hack :/ override datepicker so it triggers an event when changing the input field\r\n     * and does not redraw the datepicker on every selectDate event\r\n     */\n  $.datepicker._base_updateDatepicker = $.datepicker._updateDatepicker;\n  $.datepicker._updateDatepicker = function (inst) {\n\n    // don't popup the datepicker if there is another instance already opened\n    var input = inst.input[0];\n    if ($.datepicker._curInst && $.datepicker._curInst !== inst && $.datepicker._datepickerShowing && $.datepicker._lastInput !== input) {\n      return;\n    }\n\n    if (typeof inst.stay_open !== 'boolean' || inst.stay_open === false) {\n\n      this._base_updateDatepicker(inst);\n\n      // Reload the time control when changing something in the input text field.\n      var tp_inst = this._get(inst, 'timepicker');\n      if (tp_inst) {\n        tp_inst._addTimePicker(inst);\n      }\n    }\n  };\n\n  /*\r\n     * third bad hack :/ override datepicker so it allows spaces and colon in the input field\r\n     */\n  $.datepicker._base_doKeyPress = $.datepicker._doKeyPress;\n  $.datepicker._doKeyPress = function (event) {\n    var inst = $.datepicker._getInst(event.target),\n    tp_inst = $.datepicker._get(inst, 'timepicker');\n\n    if (tp_inst) {\n      if ($.datepicker._get(inst, 'constrainInput')) {\n        var ampm = tp_inst.support.ampm,\n        tz = tp_inst._defaults.showTimezone !== null ? tp_inst._defaults.showTimezone : tp_inst.support.timezone,\n        dateChars = $.datepicker._possibleChars($.datepicker._get(inst, 'dateFormat')),\n        datetimeChars = tp_inst._defaults.timeFormat.toString().\n        replace(/[hms]/g, '').\n        replace(/TT/g, ampm ? 'APM' : '').\n        replace(/Tt/g, ampm ? 'AaPpMm' : '').\n        replace(/tT/g, ampm ? 'AaPpMm' : '').\n        replace(/T/g, ampm ? 'AP' : '').\n        replace(/tt/g, ampm ? 'apm' : '').\n        replace(/t/g, ampm ? 'ap' : '') +\n        \" \" + tp_inst._defaults.separator +\n        tp_inst._defaults.timeSuffix + (\n        tz ? tp_inst._defaults.timezoneList.join('') : '') +\n        tp_inst._defaults.amNames.join('') + tp_inst._defaults.pmNames.join('') +\n        dateChars,\n        chr = String.fromCharCode(event.charCode === undefined ? event.keyCode : event.charCode);\n        return event.ctrlKey || chr < ' ' || !dateChars || datetimeChars.indexOf(chr) > -1;\n      }\n    }\n\n    return $.datepicker._base_doKeyPress(event);\n  };\n\n  /*\r\n     * Fourth bad hack :/ override _updateAlternate function used in inline mode to init altField\r\n     * Update any alternate field to synchronise with the main field.\r\n     */\n  $.datepicker._base_updateAlternate = $.datepicker._updateAlternate;\n  $.datepicker._updateAlternate = function (inst) {\n    var tp_inst = this._get(inst, 'timepicker');\n    if (tp_inst) {\n      var altField = tp_inst._defaults.altField;\n      if (altField) {// update alternate field too\n        var altFormat = tp_inst._defaults.altFormat || tp_inst._defaults.dateFormat,\n        date = this._getDate(inst),\n        formatCfg = $.datepicker._getFormatConfig(inst),\n        altFormattedDateTime = '',\n        altSeparator = tp_inst._defaults.altSeparator ? tp_inst._defaults.altSeparator : tp_inst._defaults.separator,\n        altTimeSuffix = tp_inst._defaults.altTimeSuffix ? tp_inst._defaults.altTimeSuffix : tp_inst._defaults.timeSuffix,\n        altTimeFormat = tp_inst._defaults.altTimeFormat !== null ? tp_inst._defaults.altTimeFormat : tp_inst._defaults.timeFormat;\n\n        altFormattedDateTime += $.datepicker.formatTime(altTimeFormat, tp_inst, tp_inst._defaults) + altTimeSuffix;\n        if (!tp_inst._defaults.timeOnly && !tp_inst._defaults.altFieldTimeOnly && date !== null) {\n          if (tp_inst._defaults.altFormat) {\n            altFormattedDateTime = $.datepicker.formatDate(tp_inst._defaults.altFormat, date, formatCfg) + altSeparator + altFormattedDateTime;\n          } else\n          {\n            altFormattedDateTime = tp_inst.formattedDate + altSeparator + altFormattedDateTime;\n          }\n        }\n        $(altField).val(altFormattedDateTime);\n      }\n    } else\n    {\n      $.datepicker._base_updateAlternate(inst);\n    }\n  };\n\n  /*\r\n     * Override key up event to sync manual input changes.\r\n     */\n  $.datepicker._base_doKeyUp = $.datepicker._doKeyUp;\n  $.datepicker._doKeyUp = function (event) {\n    var inst = $.datepicker._getInst(event.target),\n    tp_inst = $.datepicker._get(inst, 'timepicker');\n\n    if (tp_inst) {\n      if (tp_inst._defaults.timeOnly && inst.input.val() !== inst.lastVal) {\n        try {\n          $.datepicker._updateDatepicker(inst);\n        } catch (err) {\n          $.timepicker.log(err);\n        }\n      }\n    }\n\n    return $.datepicker._base_doKeyUp(event);\n  };\n\n  /*\r\n     * override \"Today\" button to also grab the time.\r\n     */\n  $.datepicker._base_gotoToday = $.datepicker._gotoToday;\n  $.datepicker._gotoToday = function (id) {\n    var inst = this._getInst($(id)[0]),\n    $dp = inst.dpDiv;\n    this._base_gotoToday(id);\n    var tp_inst = this._get(inst, 'timepicker');\n    selectLocalTimezone(tp_inst);\n    var now = new Date();\n    this._setTime(inst, now);\n    $('.ui-datepicker-today', $dp).click();\n  };\n\n  /*\r\n     * Disable & enable the Time in the datetimepicker\r\n     */\n  $.datepicker._disableTimepickerDatepicker = function (target) {\n    var inst = this._getInst(target);\n    if (!inst) {\n      return;\n    }\n\n    var tp_inst = this._get(inst, 'timepicker');\n    $(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n    if (tp_inst) {\n      inst.settings.showTimepicker = false;\n      tp_inst._defaults.showTimepicker = false;\n      tp_inst._updateDateTime(inst);\n    }\n  };\n\n  $.datepicker._enableTimepickerDatepicker = function (target) {\n    var inst = this._getInst(target);\n    if (!inst) {\n      return;\n    }\n\n    var tp_inst = this._get(inst, 'timepicker');\n    $(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n    if (tp_inst) {\n      inst.settings.showTimepicker = true;\n      tp_inst._defaults.showTimepicker = true;\n      tp_inst._addTimePicker(inst); // Could be disabled on page load\n      tp_inst._updateDateTime(inst);\n    }\n  };\n\n  /*\r\n     * Create our own set time function\r\n     */\n  $.datepicker._setTime = function (inst, date) {\n    var tp_inst = this._get(inst, 'timepicker');\n    if (tp_inst) {\n      var defaults = tp_inst._defaults;\n\n      // calling _setTime with no date sets time to defaults\n      tp_inst.hour = date ? date.getHours() : defaults.hour;\n      tp_inst.minute = date ? date.getMinutes() : defaults.minute;\n      tp_inst.second = date ? date.getSeconds() : defaults.second;\n      tp_inst.millisec = date ? date.getMilliseconds() : defaults.millisec;\n      tp_inst.microsec = date ? date.getMicroseconds() : defaults.microsec;\n\n      //check if within min/max times.. \n      tp_inst._limitMinMaxDateTime(inst, true);\n\n      tp_inst._onTimeChange();\n      tp_inst._updateDateTime(inst);\n    }\n  };\n\n  /*\r\n     * Create new public method to set only time, callable as $().datepicker('setTime', date)\r\n     */\n  $.datepicker._setTimeDatepicker = function (target, date, withDate) {\n    var inst = this._getInst(target);\n    if (!inst) {\n      return;\n    }\n\n    var tp_inst = this._get(inst, 'timepicker');\n\n    if (tp_inst) {\n      this._setDateFromField(inst);\n      var tp_date;\n      if (date) {\n        if (typeof date === \"string\") {\n          tp_inst._parseTime(date, withDate);\n          tp_date = new Date();\n          tp_date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n          tp_date.setMicroseconds(tp_inst.microsec);\n        } else {\n          tp_date = new Date(date.getTime());\n          tp_date.setMicroseconds(date.getMicroseconds());\n        }\n        if (tp_date.toString() === 'Invalid Date') {\n          tp_date = undefined;\n        }\n        this._setTime(inst, tp_date);\n      }\n    }\n\n  };\n\n  /*\r\n     * override setDate() to allow setting time too within Date object\r\n     */\n  $.datepicker._base_setDateDatepicker = $.datepicker._setDateDatepicker;\n  $.datepicker._setDateDatepicker = function (target, date) {\n    var inst = this._getInst(target);\n    if (!inst) {\n      return;\n    }\n\n    if (typeof date === 'string') {\n      date = new Date(date);\n      if (!date.getTime()) {\n        $.timepicker.log(\"Error creating Date object from string.\");\n      }\n    }\n\n    var tp_inst = this._get(inst, 'timepicker');\n    var tp_date;\n    if (date instanceof Date) {\n      tp_date = new Date(date.getTime());\n      tp_date.setMicroseconds(date.getMicroseconds());\n    } else {\n      tp_date = date;\n    }\n\n    // This is important if you are using the timezone option, javascript's Date \n    // object will only return the timezone offset for the current locale, so we \n    // adjust it accordingly.  If not using timezone option this won't matter..\n    // If a timezone is different in tp, keep the timezone as is\n    if (tp_inst) {\n      // look out for DST if tz wasn't specified\n      if (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n        tp_inst.timezone = tp_date.getTimezoneOffset() * -1;\n      }\n      date = $.timepicker.timezoneAdjust(date, tp_inst.timezone);\n      tp_date = $.timepicker.timezoneAdjust(tp_date, tp_inst.timezone);\n    }\n\n    this._updateDatepicker(inst);\n    this._base_setDateDatepicker.apply(this, arguments);\n    this._setTimeDatepicker(target, tp_date, true);\n  };\n\n  /*\r\n     * override getDate() to allow getting time too within Date object\r\n     */\n  $.datepicker._base_getDateDatepicker = $.datepicker._getDateDatepicker;\n  $.datepicker._getDateDatepicker = function (target, noDefault) {\n    var inst = this._getInst(target);\n    if (!inst) {\n      return;\n    }\n\n    var tp_inst = this._get(inst, 'timepicker');\n\n    if (tp_inst) {\n      // if it hasn't yet been defined, grab from field\n      if (inst.lastVal === undefined) {\n        this._setDateFromField(inst, noDefault);\n      }\n\n      var date = this._getDate(inst);\n      if (date && tp_inst._parseTime($(target).val(), tp_inst.timeOnly)) {\n        date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n        date.setMicroseconds(tp_inst.microsec);\n\n        // This is important if you are using the timezone option, javascript's Date \n        // object will only return the timezone offset for the current locale, so we \n        // adjust it accordingly.  If not using timezone option this won't matter..\n        if (tp_inst.timezone != null) {\n          // look out for DST if tz wasn't specified\n          if (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n            tp_inst.timezone = date.getTimezoneOffset() * -1;\n          }\n          date = $.timepicker.timezoneAdjust(date, tp_inst.timezone);\n        }\n      }\n      return date;\n    }\n    return this._base_getDateDatepicker(target, noDefault);\n  };\n\n  /*\r\n     * override parseDate() because UI 1.8.14 throws an error about \"Extra characters\"\r\n     * An option in datapicker to ignore extra format characters would be nicer.\r\n     */\n  $.datepicker._base_parseDate = $.datepicker.parseDate;\n  $.datepicker.parseDate = function (format, value, settings) {\n    var date;\n    try {\n      date = this._base_parseDate(format, value, settings);\n    } catch (err) {\n      // Hack!  The error message ends with a colon, a space, and\n      // the \"extra\" characters.  We rely on that instead of\n      // attempting to perfectly reproduce the parsing algorithm.\n      if (err.indexOf(\":\") >= 0) {\n        date = this._base_parseDate(format, value.substring(0, value.length - (err.length - err.indexOf(':') - 2)), settings);\n        $.timepicker.log(\"Error parsing the date string: \" + err + \"\\ndate string = \" + value + \"\\ndate format = \" + format);\n      } else {\n        throw err;\n      }\n    }\n    return date;\n  };\n\n  $.datepicker._getFormatConfig = function (inst) {\n    var shortYearCutoff = this._get(inst, \"shortYearCutoff\");\n    shortYearCutoff = typeof shortYearCutoff !== \"string\" ? shortYearCutoff :\n    new Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10);\n    return { shortYearCutoff: shortYearCutoff,\n      dayNamesShort: this._get(inst, \"dayNamesShort\"), dayNames: this._get(inst, \"dayNames\"),\n      monthNamesShort: this._get(inst, \"monthNamesShort\"), monthNames: this._get(inst, \"monthNames\"),\n      date: {\n        currentDay: inst.currentDay,\n        currentMonth: inst.currentMonth,\n        currentYear: inst.currentYear } };\n\n\n  };\n\n  /*\r\n     * override formatDate to set date with time to the input\r\n     */\n  $.datepicker._base_formatDate = $.datepicker._formatDate;\n  $.datepicker._formatDate = function (inst, day, month, year) {\n    var tp_inst = this._get(inst, 'timepicker');\n    if (tp_inst) {\n      tp_inst._updateDateTime(inst);\n      return tp_inst.$input.val();\n    }\n    return this._base_formatDate(inst);\n  };\n\n  /*\r\n     * override options setter to add time to maxDate(Time) and minDate(Time). MaxDate\r\n     */\n  $.datepicker._base_optionDatepicker = $.datepicker._optionDatepicker;\n  $.datepicker._optionDatepicker = function (target, name, value) {\n    var inst = this._getInst(target),\n    name_clone;\n    if (!inst) {\n      return null;\n    }\n\n    var tp_inst = this._get(inst, 'timepicker');\n    if (tp_inst) {\n      var min = null,\n      max = null,\n      onselect = null,\n      overrides = tp_inst._defaults.evnts,\n      fns = {},\n      prop;\n      if (typeof name === 'string') {// if min/max was set with the string\n        if (name === 'minDate' || name === 'minDateTime') {\n          min = value;\n        } else if (name === 'maxDate' || name === 'maxDateTime') {\n          max = value;\n        } else if (name === 'onSelect') {\n          onselect = value;\n        } else if (overrides.hasOwnProperty(name)) {\n          if (typeof value === 'undefined') {\n            return overrides[name];\n          }\n          fns[name] = value;\n          name_clone = {}; //empty results in exiting function after overrides updated\n        }\n      } else if (_typeof(name) === 'object') {//if min/max was set with the JSON\n        if (name.minDate) {\n          min = name.minDate;\n        } else if (name.minDateTime) {\n          min = name.minDateTime;\n        } else if (name.maxDate) {\n          max = name.maxDate;\n        } else if (name.maxDateTime) {\n          max = name.maxDateTime;\n        }\n        for (prop in overrides) {\n          if (overrides.hasOwnProperty(prop) && name[prop]) {\n            fns[prop] = name[prop];\n          }\n        }\n      }\n      for (prop in fns) {\n        if (fns.hasOwnProperty(prop)) {\n          overrides[prop] = fns[prop];\n          if (!name_clone) {name_clone = $.extend({}, name);}\n          delete name_clone[prop];\n        }\n      }\n      if (name_clone && isEmptyObject(name_clone)) {return;}\n      if (min) {//if min was set\n        if (min === 0) {\n          min = new Date();\n        } else {\n          min = new Date(min);\n        }\n        tp_inst._defaults.minDate = min;\n        tp_inst._defaults.minDateTime = min;\n      } else if (max) {//if max was set\n        if (max === 0) {\n          max = new Date();\n        } else {\n          max = new Date(max);\n        }\n        tp_inst._defaults.maxDate = max;\n        tp_inst._defaults.maxDateTime = max;\n      } else if (onselect) {\n        tp_inst._defaults.onSelect = onselect;\n      }\n    }\n    if (value === undefined) {\n      return this._base_optionDatepicker.call($.datepicker, target, name);\n    }\n    return this._base_optionDatepicker.call($.datepicker, target, name_clone || name, value);\n  };\n\n  /*\r\n     * jQuery isEmptyObject does not check hasOwnProperty - if someone has added to the object prototype,\r\n     * it will return false for all objects\r\n     */\n  var isEmptyObject = function isEmptyObject(obj) {\n    var prop;\n    for (prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /*\r\n     * jQuery extend now ignores nulls!\r\n     */\n  var extendRemove = function extendRemove(target, props) {\n    $.extend(target, props);\n    for (var name in props) {\n      if (props[name] === null || props[name] === undefined) {\n        target[name] = props[name];\n      }\n    }\n    return target;\n  };\n\n  /*\r\n     * Determine by the time format which units are supported\r\n     * Returns an object of booleans for each unit\r\n     */\n  var detectSupport = function detectSupport(timeFormat) {\n    var tf = timeFormat.replace(/'.*?'/g, '').toLowerCase(), // removes literals\n    isIn = function isIn(f, t) {// does the format contain the token?\n      return f.indexOf(t) !== -1 ? true : false;\n    };\n    return {\n      hour: isIn(tf, 'h'),\n      minute: isIn(tf, 'm'),\n      second: isIn(tf, 's'),\n      millisec: isIn(tf, 'l'),\n      microsec: isIn(tf, 'c'),\n      timezone: isIn(tf, 'z'),\n      ampm: isIn(tf, 't') && isIn(timeFormat, 'h'),\n      iso8601: isIn(timeFormat, 'Z') };\n\n  };\n\n  /*\r\n     * Converts 24 hour format into 12 hour\r\n     * Returns 12 hour without leading 0\r\n     */\n  var convert24to12 = function convert24to12(hour) {\n    hour %= 12;\n\n    if (hour === 0) {\n      hour = 12;\n    }\n\n    return String(hour);\n  };\n\n  var computeEffectiveSetting = function computeEffectiveSetting(settings, property) {\n    return settings && settings[property] ? settings[property] : $.timepicker._defaults[property];\n  };\n\n  /*\r\n     * Splits datetime string into date and time substrings.\r\n     * Throws exception when date can't be parsed\r\n     * Returns {dateString: dateString, timeString: timeString}\r\n     */\n  var splitDateTime = function splitDateTime(dateTimeString, timeSettings) {\n    // The idea is to get the number separator occurrences in datetime and the time format requested (since time has\n    // fewer unknowns, mostly numbers and am/pm). We will use the time pattern to split.\n    var separator = computeEffectiveSetting(timeSettings, 'separator'),\n    format = computeEffectiveSetting(timeSettings, 'timeFormat'),\n    timeParts = format.split(separator), // how many occurrences of separator may be in our format?\n    timePartsLen = timeParts.length,\n    allParts = dateTimeString.split(separator),\n    allPartsLen = allParts.length;\n\n    if (allPartsLen > 1) {\n      return {\n        dateString: allParts.splice(0, allPartsLen - timePartsLen).join(separator),\n        timeString: allParts.splice(0, timePartsLen).join(separator) };\n\n    }\n\n    return {\n      dateString: dateTimeString,\n      timeString: '' };\n\n  };\n\n  /*\r\n     * Internal function to parse datetime interval\r\n     * Returns: {date: Date, timeObj: Object}, where\r\n     *   date - parsed date without time (type Date)\r\n     *   timeObj = {hour: , minute: , second: , millisec: , microsec: } - parsed time. Optional\r\n     */\n  var parseDateTimeInternal = function parseDateTimeInternal(dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n    var date,\n    parts,\n    parsedTime;\n\n    parts = splitDateTime(dateTimeString, timeSettings);\n    date = $.datepicker._base_parseDate(dateFormat, parts.dateString, dateSettings);\n\n    if (parts.timeString === '') {\n      return {\n        date: date };\n\n    }\n\n    parsedTime = $.datepicker.parseTime(timeFormat, parts.timeString, timeSettings);\n\n    if (!parsedTime) {\n      throw 'Wrong time format';\n    }\n\n    return {\n      date: date,\n      timeObj: parsedTime };\n\n  };\n\n  /*\r\n     * Internal function to set timezone_select to the local timezone\r\n     */\n  var selectLocalTimezone = function selectLocalTimezone(tp_inst, date) {\n    if (tp_inst && tp_inst.timezone_select) {\n      var now = date || new Date();\n      tp_inst.timezone_select.val(-now.getTimezoneOffset());\n    }\n  };\n\n  /*\r\n     * Create a Singleton Instance\r\n     */\n  $.timepicker = new Timepicker();\n\n  /**\r\n                                   * Get the timezone offset as string from a date object (eg '+0530' for UTC+5.5)\r\n                                   * @param {number} tzMinutes if not a number, less than -720 (-1200), or greater than 840 (+1400) this value is returned\r\n                                   * @param {boolean} iso8601 if true formats in accordance to iso8601 \"+12:45\"\r\n                                   * @return {string}\r\n                                   */\n  $.timepicker.timezoneOffsetString = function (tzMinutes, iso8601) {\n    if (isNaN(tzMinutes) || tzMinutes > 840 || tzMinutes < -720) {\n      return tzMinutes;\n    }\n\n    var off = tzMinutes,\n    minutes = off % 60,\n    hours = (off - minutes) / 60,\n    iso = iso8601 ? ':' : '',\n    tz = (off >= 0 ? '+' : '-') + ('0' + Math.abs(hours)).slice(-2) + iso + ('0' + Math.abs(minutes)).slice(-2);\n\n    if (tz === '+00:00') {\n      return 'Z';\n    }\n    return tz;\n  };\n\n  /**\r\n     * Get the number in minutes that represents a timezone string\r\n     * @param  {string} tzString formatted like \"+0500\", \"-1245\", \"Z\"\r\n     * @return {number} the offset minutes or the original string if it doesn't match expectations\r\n     */\n  $.timepicker.timezoneOffsetNumber = function (tzString) {\n    var normalized = tzString.toString().replace(':', ''); // excuse any iso8601, end up with \"+1245\"\n\n    if (normalized.toUpperCase() === 'Z') {// if iso8601 with Z, its 0 minute offset\n      return 0;\n    }\n\n    if (!/^(\\-|\\+)\\d{4}$/.test(normalized)) {// possibly a user defined tz, so just give it back\n      return tzString;\n    }\n\n    return (normalized.substr(0, 1) === '-' ? -1 : 1) * ( // plus or minus\n    parseInt(normalized.substr(1, 2), 10) * 60 + // hours (converted to minutes)\n    parseInt(normalized.substr(3, 2), 10)); // minutes\n  };\n\n  /**\r\n     * No way to set timezone in js Date, so we must adjust the minutes to compensate. (think setDate, getDate)\r\n     * @param  {Date} date\r\n     * @param  {string} toTimezone formatted like \"+0500\", \"-1245\"\r\n     * @return {Date}\r\n     */\n  $.timepicker.timezoneAdjust = function (date, toTimezone) {\n    var toTz = $.timepicker.timezoneOffsetNumber(toTimezone);\n    if (!isNaN(toTz)) {\n      date.setMinutes(date.getMinutes() + -date.getTimezoneOffset() - toTz);\n    }\n    return date;\n  };\n\n  /**\r\n     * Calls `timepicker()` on the `startTime` and `endTime` elements, and configures them to\r\n     * enforce date range limits.\r\n     * n.b. The input value must be correctly formatted (reformatting is not supported)\r\n     * @param  {Element} startTime\r\n     * @param  {Element} endTime\r\n     * @param  {Object} options Options for the timepicker() call\r\n     * @return {jQuery}\r\n     */\n  $.timepicker.timeRange = function (startTime, endTime, options) {\n    return $.timepicker.handleRange('timepicker', startTime, endTime, options);\n  };\n\n  /**\r\n     * Calls `datetimepicker` on the `startTime` and `endTime` elements, and configures them to\r\n     * enforce date range limits.\r\n     * @param  {Element} startTime\r\n     * @param  {Element} endTime\r\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\r\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\r\n     * @param  {string} method Can be used to specify the type of picker to be added\r\n     * @return {jQuery}\r\n     */\n  $.timepicker.datetimeRange = function (startTime, endTime, options) {\n    $.timepicker.handleRange('datetimepicker', startTime, endTime, options);\n  };\n\n  /**\r\n     * Calls `datepicker` on the `startTime` and `endTime` elements, and configures them to\r\n     * enforce date range limits.\r\n     * @param  {Element} startTime\r\n     * @param  {Element} endTime\r\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\r\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\r\n     * @return {jQuery}\r\n     */\n  $.timepicker.dateRange = function (startTime, endTime, options) {\n    $.timepicker.handleRange('datepicker', startTime, endTime, options);\n  };\n\n  /**\r\n     * Calls `method` on the `startTime` and `endTime` elements, and configures them to\r\n     * enforce date range limits.\r\n     * @param  {string} method Can be used to specify the type of picker to be added\r\n     * @param  {Element} startTime\r\n     * @param  {Element} endTime\r\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\r\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\r\n     * @return {jQuery}\r\n     */\n  $.timepicker.handleRange = function (method, startTime, endTime, options) {\n    options = $.extend({}, {\n      minInterval: 0, // min allowed interval in milliseconds\n      maxInterval: 0, // max allowed interval in milliseconds\n      start: {}, // options for start picker\n      end: {} // options for end picker\n    }, options);\n\n    function checkDates(changed, other) {\n      var startdt = startTime[method]('getDate'),\n      enddt = endTime[method]('getDate'),\n      changeddt = changed[method]('getDate');\n\n      if (startdt !== null) {\n        var minDate = new Date(startdt.getTime()),\n        maxDate = new Date(startdt.getTime());\n\n        minDate.setMilliseconds(minDate.getMilliseconds() + options.minInterval);\n        maxDate.setMilliseconds(maxDate.getMilliseconds() + options.maxInterval);\n\n        if (options.minInterval > 0 && minDate > enddt) {// minInterval check\n          endTime[method]('setDate', minDate);\n        } else\n        if (options.maxInterval > 0 && maxDate < enddt) {// max interval check\n          endTime[method]('setDate', maxDate);\n        } else\n        if (startdt > enddt) {\n          other[method]('setDate', changeddt);\n        }\n      }\n    }\n\n    function selected(changed, other, option) {\n      if (!changed.val()) {\n        return;\n      }\n      var date = changed[method].call(changed, 'getDate');\n      if (date !== null && options.minInterval > 0) {\n        if (option === 'minDate') {\n          date.setMilliseconds(date.getMilliseconds() + options.minInterval);\n        }\n        if (option === 'maxDate') {\n          date.setMilliseconds(date.getMilliseconds() - options.minInterval);\n        }\n      }\n      if (date.getTime) {\n        other[method].call(other, 'option', option, date);\n      }\n    }\n\n    $.fn[method].call(startTime, $.extend({\n      onClose: function onClose(dateText, inst) {\n        checkDates($(this), endTime);\n      },\n      onSelect: function onSelect(selectedDateTime) {\n        selected($(this), endTime, 'minDate');\n      } },\n    options, options.start));\n    $.fn[method].call(endTime, $.extend({\n      onClose: function onClose(dateText, inst) {\n        checkDates($(this), startTime);\n      },\n      onSelect: function onSelect(selectedDateTime) {\n        selected($(this), startTime, 'maxDate');\n      } },\n    options, options.end));\n\n    checkDates(startTime, endTime);\n    selected(startTime, endTime, 'minDate');\n    selected(endTime, startTime, 'maxDate');\n    return $([startTime.get(0), endTime.get(0)]);\n  };\n\n  /**\r\n     * Log error or data to the console during error or debugging\r\n     * @param  {Object} err pass any type object to log to the console during error or debugging\r\n     * @return {void}\r\n     */\n  $.timepicker.log = function (err) {\n    if (window.console) {\n      window.console.log(err);\n    }\n  };\n\n  /*\r\n     * Add util object to allow access to private methods for testability.\r\n     */\n  $.timepicker._util = {\n    _extendRemove: extendRemove,\n    _isEmptyObject: isEmptyObject,\n    _convert24to12: convert24to12,\n    _detectSupport: detectSupport,\n    _selectLocalTimezone: selectLocalTimezone,\n    _computeEffectiveSetting: computeEffectiveSetting,\n    _splitDateTime: splitDateTime,\n    _parseDateTimeInternal: parseDateTimeInternal };\n\n\n  /*\r\n                                                     * Microsecond support\r\n                                                     */\n  if (!Date.prototype.getMicroseconds) {\n    Date.prototype.microseconds = 0;\n    Date.prototype.getMicroseconds = function () {return this.microseconds;};\n    Date.prototype.setMicroseconds = function (m) {\n      this.setMilliseconds(this.getMilliseconds() + Math.floor(m / 1000));\n      this.microseconds = m % 1000;\n      return this;\n    };\n  }\n\n  /*\r\n    * Keep up with the version\r\n    */\n  $.timepicker.version = \"1.4\";\n\n})(jQuery);","function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;} /* NicEdit - Micro Inline WYSIWYG\r\n                                                                                                                                                                                                           * Copyright 2007-2008 Brian Kirchoff\r\n                                                                                                                                                                                                           *\r\n                                                                                                                                                                                                           * NicEdit is distributed under the terms of the MIT license\r\n                                                                                                                                                                                                           * For more information visit http://nicedit.com/\r\n                                                                                                                                                                                                           * Do not remove this copyright message\r\n                                                                                                                                                                                                           */\nvar bkExtend = function bkExtend() {\n  var args = arguments;\n  if (args.length == 1) args = [this, args[0]];\n  for (var prop in args[1]) {args[0][prop] = args[1][prop];}\n  return args[0];\n};\nfunction bkClass() {}\nbkClass.prototype.construct = function () {};\nbkClass.extend = function (def) {\n  var classDef = function classDef() {\n    if (arguments[0] !== bkClass) {\n      return this.construct.apply(this, arguments);\n    }\n  };\n  var proto = new this(bkClass);\n  bkExtend(proto, def);\n  classDef.prototype = proto;\n  classDef.extend = this.extend;\n  return classDef;\n};\n\nvar bkElement = bkClass.extend({\n  construct: function construct(elm, d) {\n    if (typeof elm == \"string\") {\n      elm = (d || document).createElement(elm);\n    }\n    elm = $BK(elm);\n    return elm;\n  },\n\n  appendTo: function appendTo(elm) {\n    elm.appendChild(this);\n    return this;\n  },\n\n  appendBefore: function appendBefore(elm) {\n    elm.parentNode.insertBefore(this, elm);\n    return this;\n  },\n\n  addEvent: function addEvent(type, fn) {\n    bkLib.addEvent(this, type, fn);\n    return this;\n  },\n\n  setContent: function setContent(c) {\n    this.innerHTML = c;\n    return this;\n  },\n\n  pos: function pos() {\n    var curleft = curtop = 0;\n    var o = obj = this;\n    if (obj.offsetParent) {\n      do {\n        curleft += obj.offsetLeft;\n        curtop += obj.offsetTop;\n      } while (obj = obj.offsetParent);\n    }\n    var b = !window.opera ? parseInt(this.getStyle('border-width') || this.style.border) || 0 : 0;\n    return [curleft + b, curtop + b + this.offsetHeight];\n  },\n\n  noSelect: function noSelect() {\n    bkLib.noSelect(this);\n    return this;\n  },\n\n  parentTag: function parentTag(t) {\n    var elm = this;\n    do {\n      if (elm && elm.nodeName && elm.nodeName.toUpperCase() == t) {\n        return elm;\n      }\n      elm = elm.parentNode;\n    } while (elm);\n    return false;\n  },\n\n  hasClass: function hasClass(cls) {\n    return this.className.match(new RegExp('(\\\\s|^)nicEdit-' + cls + '(\\\\s|$)'));\n  },\n\n  addClass: function addClass(cls) {\n    if (!this.hasClass(cls)) {\n      this.className += \" nicEdit-\" + cls;\n    };\n    return this;\n  },\n\n  removeClass: function removeClass(cls) {\n    if (this.hasClass(cls)) {\n      this.className = this.className.replace(new RegExp('(\\\\s|^)nicEdit-' + cls + '(\\\\s|$)'), ' ');\n    }\n    return this;\n  },\n\n  setStyle: function setStyle(st) {\n    var elmStyle = this.style;\n    for (var itm in st) {\n      switch (itm) {\n        case 'float':\n          elmStyle['cssFloat'] = elmStyle['styleFloat'] = st[itm];\n          break;\n        case 'opacity':\n          elmStyle.opacity = st[itm];\n          elmStyle.filter = \"alpha(opacity=\" + Math.round(st[itm] * 100) + \")\";\n          break;\n        case 'className':\n          this.className = st[itm];\n          break;\n        default:\n          //if(document.compatMode || itm != \"cursor\") { // Nasty Workaround for IE 5.5\n          try {\n            elmStyle[itm] = st[itm];\n          } catch (e) {}\n        //}\t\t\n      }\n    }\n    return this;\n  },\n\n  getStyle: function getStyle(cssRule, d) {\n    var doc = !d ? document.defaultView : d;\n    if (this.nodeType == 1)\n    return doc && doc.getComputedStyle ? doc.getComputedStyle(this, null).getPropertyValue(cssRule) : this.currentStyle[bkLib.camelize(cssRule)];\n  },\n\n  remove: function remove() {\n    this.parentNode.removeChild(this);\n    return this;\n  },\n\n  setAttributes: function setAttributes(at) {\n    for (var itm in at) {\n      this[itm] = at[itm];\n    }\n    return this;\n  } });\n\n\nvar bkLib = {\n  isMSIE: navigator.appVersion.indexOf(\"MSIE\") != -1,\n\n  addEvent: function addEvent(obj, type, fn) {\n    obj.addEventListener ? obj.addEventListener(type, fn, false) : obj.attachEvent(\"on\" + type, fn);\n  },\n\n  toArray: function toArray(iterable) {\n    var length = iterable.length,results = new Array(length);\n    while (length--) {\n      results[length] = iterable[length];\n    };\n    return results;\n  },\n\n  noSelect: function noSelect(element) {\n    if (element.setAttribute && element.nodeName.toLowerCase() != 'input' && element.nodeName.toLowerCase() != 'textarea') {\n      element.setAttribute('unselectable', 'on');\n    }\n    for (var i = 0; i < element.childNodes.length; i++) {\n      bkLib.noSelect(element.childNodes[i]);\n    }\n  },\n  camelize: function camelize(s) {\n    return s.replace(/\\-(.)/g, function (m, l) {\n      return l.toUpperCase();\n    });\n  },\n  inArray: function inArray(arr, item) {\n    return bkLib.search(arr, item) != null;\n  },\n  search: function search(arr, itm) {\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i] == itm)\n      return i;\n    }\n    return null;\n  },\n  cancelEvent: function cancelEvent(e) {\n    e = e || window.event;\n    if (e.preventDefault && e.stopPropagation) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    return false;\n  },\n  domLoad: [],\n  domLoaded: function domLoaded() {\n    if (arguments.callee.done) return;\n    arguments.callee.done = true;\n    for (i = 0; i < bkLib.domLoad.length; i++) {bkLib.domLoad[i]();}\n  },\n  onDomLoaded: function onDomLoaded(fireThis) {\n    this.domLoad.push(fireThis);\n    if (document.addEventListener) {\n      document.addEventListener(\"DOMContentLoaded\", bkLib.domLoaded, null);\n    } else if (bkLib.isMSIE) {\n      document.write(\"<style>.nicEdit-main p { margin: 0; }</style><scr\" + \"ipt id=__ie_onload defer \" + (location.protocol == \"https:\" ? \"src='javascript:void(0)'\" : \"src=//0\") + \"><\\/scr\" + \"ipt>\");\n      $BK(\"__ie_onload\").onreadystatechange = function () {\n        if (this.readyState == \"complete\") {\n          bkLib.domLoaded();\n        }\n      };\n    }\n    window.onload = bkLib.domLoaded;\n  } };\n\n\nfunction $BK(elm) {\n  if (typeof elm == \"string\") {\n    elm = document.getElementById(elm);\n  }\n  return elm && !elm.appendTo ? bkExtend(elm, bkElement.prototype) : elm;\n}\n\nvar bkEvent = {\n  addEvent: function addEvent(evType, evFunc) {\n    if (evFunc) {\n      this.eventList = this.eventList || {};\n      this.eventList[evType] = this.eventList[evType] || [];\n      this.eventList[evType].push(evFunc);\n    }\n    return this;\n  },\n  fireEvent: function fireEvent() {\n    var args = bkLib.toArray(arguments),evType = args.shift();\n    if (this.eventList && this.eventList[evType]) {\n      for (var i = 0; i < this.eventList[evType].length; i++) {\n        this.eventList[evType][i].apply(this, args);\n      }\n    }\n  } };\n\n\nfunction __(s) {\n  return s;\n}\n\nFunction.prototype.closure = function () {\n  var __method = this,args = bkLib.toArray(arguments),obj = args.shift();\n  return function () {\n    if (typeof bkLib != 'undefined') {\n      return __method.apply(obj, args.concat(bkLib.toArray(arguments)));\n    }\n  };\n};\n\nFunction.prototype.closureListener = function () {\n  var __method = this,args = bkLib.toArray(arguments),object = args.shift();\n  return function (e) {\n    e = e || window.event;\n    if (e.target) {\n      var target = e.target;\n    } else {\n      var target = e.srcElement;\n    };\n    return __method.apply(object, [e, target].concat(args));\n  };\n};\n\n\n/* START CONFIG */\n\nvar nicEditorConfig = bkClass.extend({\n  buttons: {\n    'bold': {\n      name: __('Click to Bold'),\n      command: 'Bold',\n      tags: ['B', 'STRONG'],\n      css: {\n        'font-weight': 'bold' },\n\n      key: 'b' },\n\n    'italic': {\n      name: __('Click to Italic'),\n      command: 'Italic',\n      tags: ['EM', 'I'],\n      css: {\n        'font-style': 'italic' },\n\n      key: 'i' },\n\n    'underline': {\n      name: __('Click to Underline'),\n      command: 'Underline',\n      tags: ['U'],\n      css: {\n        'text-decoration': 'underline' },\n\n      key: 'u' },\n\n    'left': {\n      name: __('Left Align'),\n      command: 'justifyleft',\n      noActive: true },\n\n    'center': {\n      name: __('Center Align'),\n      command: 'justifycenter',\n      noActive: true },\n\n    'right': {\n      name: __('Right Align'),\n      command: 'justifyright',\n      noActive: true },\n\n    'justify': {\n      name: __('Justify Align'),\n      command: 'justifyfull',\n      noActive: true },\n\n    'ol': {\n      name: __('Insert Ordered List'),\n      command: 'insertorderedlist',\n      tags: ['OL'] },\n\n    'ul': {\n      name: __('Insert Unordered List'),\n      command: 'insertunorderedlist',\n      tags: ['UL'] },\n\n    'subscript': {\n      name: __('Click to Subscript'),\n      command: 'subscript',\n      tags: ['SUB'] },\n\n    'superscript': {\n      name: __('Click to Superscript'),\n      command: 'superscript',\n      tags: ['SUP'] },\n\n    'strikethrough': {\n      name: __('Click to Strike Through'),\n      command: 'strikeThrough',\n      css: {\n        'text-decoration': 'line-through' } },\n\n\n    'removeformat': {\n      name: __('Remove Formatting'),\n      command: 'removeformat',\n      noActive: true },\n\n    'indent': {\n      name: __('Indent Text'),\n      command: 'indent',\n      noActive: true },\n\n    'outdent': {\n      name: __('Remove Indent'),\n      command: 'outdent',\n      noActive: true },\n\n    'hr': {\n      name: __('Horizontal Rule'),\n      command: 'insertHorizontalRule',\n      noActive: true } },\n\n\n  iconsPath: '../nicEditorIcons.gif',\n  buttonList: ['save', 'print', 'bold', 'italic', 'underline', 'left', 'center', 'right', 'justify', 'ol', 'ul', 'fontSize', 'fontFamily', 'fontFormat', 'indent', 'outdent', 'image', 'upload', 'link', 'unlink', 'forecolor', 'bgcolor', 'smile'],\n  iconList: {\n    \"bgcolor\": 1,\n    \"forecolor\": 2,\n    \"bold\": 3,\n    \"center\": 4,\n    \"hr\": 5,\n    \"indent\": 6,\n    \"italic\": 7,\n    \"justify\": 8,\n    \"left\": 9,\n    \"ol\": 10,\n    \"outdent\": 11,\n    \"removeformat\": 12,\n    \"right\": 13,\n    \"save\": 24,\n    \"strikethrough\": 15,\n    \"subscript\": 16,\n    \"superscript\": 17,\n    \"ul\": 18,\n    \"underline\": 19,\n    \"image\": 20,\n    \"link\": 21,\n    \"unlink\": 22,\n    \"close\": 23,\n    \"arrow\": 25,\n    \"smile\": 26,\n    \"print\": 27 } });\n\n\n\n/* END CONFIG */\n\n\nvar nicEditors = {\n  nicPlugins: [],\n  editors: [],\n\n  registerPlugin: function registerPlugin(plugin, options) {\n    this.nicPlugins.push({\n      p: plugin,\n      o: options });\n\n  },\n\n  allTextAreas: function allTextAreas(nicOptions) {\n    var textareas = document.getElementsByTagName(\"textarea\");\n    for (var i = 0; i < textareas.length; i++) {\n      nicEditors.editors.push(new nicEditor(nicOptions).panelInstance(textareas[i]));\n    }\n    return nicEditors.editors;\n  },\n\n  findEditor: function findEditor(e) {\n    var editors = nicEditors.editors;\n    for (var i = 0; i < editors.length; i++) {\n      if (editors[i].instanceById(e)) {\n        return editors[i].instanceById(e);\n      }\n    }\n  },\n\n  getFirstEditor: function getFirstEditor() {\n    var editors = nicEditors.editors;\n    if (editors.length >= 1) {\n      return editors[0].instanceById[0];\n    }\n  } };\n\n\n\nvar nicEditor = bkClass.extend({\n  construct: function construct(o) {\n    this.options = new nicEditorConfig();\n    bkExtend(this.options, o);\n    this.nicInstances = new Array();\n    this.loadedPlugins = new Array();\n\n    var plugins = nicEditors.nicPlugins;\n    for (var i = 0; i < plugins.length; i++) {\n      /* DEPL: EDITED TO AVOID PROBLEM WITH CRUNCHING*/\n      this.loadedPlugins.push(new plugins[i].p(this, plugins[i].o));\n    }\n    nicEditors.editors.push(this);\n    bkLib.addEvent(document.body, 'mousedown', this.selectCheck.closureListener(this));\n  },\n\n  panelInstance: function panelInstance(e, o) {\n    e = this.checkReplace($BK(e));\n    var panelElm = new bkElement('DIV').setStyle({\n      width: (parseInt(e.getStyle('width')) || e.clientWidth) + 'px' }).\n    appendBefore(e);\n    this.setPanel(panelElm);\n    return this.addInstance(e, o);\n  },\n\n  checkReplace: function checkReplace(e) {\n    var r = nicEditors.findEditor(e);\n    if (r) {\n      r.removeInstance(e);\n      r.removePanel();\n    }\n    return e;\n  },\n\n  addInstance: function addInstance(e, o) {\n    e = this.checkReplace($BK(e));\n    if (e.contentEditable || !!window.opera) {\n      var newInstance = new nicEditorInstance(e, o, this);\n    } else {\n      var newInstance = new nicEditorIFrameInstance(e, o, this);\n    }\n    this.nicInstances.push(newInstance);\n    return this;\n  },\n\n  removeInstance: function removeInstance(e) {\n    e = $BK(e);\n    var instances = this.nicInstances;\n    for (var i = 0; i < instances.length; i++) {\n      if (instances[i].e == e) {\n        instances[i].remove();\n        this.nicInstances.splice(i, 1);\n      }\n    }\n  },\n\n  removePanel: function removePanel(e) {\n    if (this.nicPanel) {\n      this.nicPanel.remove();\n      this.nicPanel = null;\n    }\n  },\n\n  instanceById: function instanceById(e) {\n    e = $BK(e);\n    var instances = this.nicInstances;\n    for (var i = 0; i < instances.length; i++) {\n      if (instances[i].e == e) {\n        return instances[i];\n      }\n    }\n  },\n\n  setPanel: function setPanel(e) {\n    this.nicPanel = new nicEditorPanel($BK(e), this.options, this);\n    this.fireEvent('panel', this.nicPanel);\n    return this;\n  },\n\n  nicCommand: function nicCommand(cmd, args) {\n    if (this.selectedInstance) {\n      this.selectedInstance.nicCommand(cmd, args);\n    }\n  },\n\n  getIcon: function getIcon(iconName, options) {\n    var icon = this.options.iconList[iconName];\n    var file = options.iconFiles ? options.iconFiles[iconName] : '';\n    return {\n      backgroundImage: \"url('\" + (icon ? this.options.iconsPath : file) + \"')\",\n      backgroundPosition: (icon ? (icon - 1) * -18 : 0) + 'px 0px' };\n\n  },\n\n  selectCheck: function selectCheck(e, t) {\n    var found = false;\n    do {\n      if (t.className && t.className.indexOf('nicEdit') != -1) {\n        return false;\n      }\n    } while (t = t.parentNode);\n    this.fireEvent('blur', this.selectedInstance, t);\n    this.lastSelectedInstance = this.selectedInstance;\n    this.selectedInstance = null;\n    return false;\n  } });\n\n\nnicEditor = nicEditor.extend(bkEvent);\n\n\nvar nicEditorInstance = bkClass.extend({\n  isSelected: false,\n\n  construct: function construct(e, options, nicEditor) {\n    this.ne = nicEditor;\n    this.elm = this.e = e;\n    this.options = options || {};\n\n    newX = parseInt(e.getStyle('width')) || e.clientWidth;\n    newY = parseInt(e.getStyle('height')) || e.clientHeight;\n    this.initialHeight = newY - 8;\n\n    var isTextarea = e.nodeName.toLowerCase() == \"textarea\";\n    if (isTextarea || this.options.hasPanel) {\n      var ie7s = bkLib.isMSIE && !(typeof document.body.style.maxHeight != \"undefined\" && document.compatMode == \"CSS1Compat\");\n      var s = {\n        width: newX + 'px',\n        border: '1px solid #ccc',\n        borderTop: 0,\n        overflowY: 'auto',\n        overflowX: 'hidden',\n        backgroundColor: '#ffffff' };\n\n      s[ie7s ? 'height' : 'maxHeight'] = this.ne.options.maxHeight ? this.ne.options.maxHeight + 'px' : null;\n      this.editorContain = new bkElement('DIV').setStyle(s).appendBefore(e);\n      var editorElm = new bkElement('DIV').setStyle({\n        width: newX - 8 + 'px',\n        margin: '4px',\n        minHeight: newY + 'px' }).\n      addClass('main').appendTo(this.editorContain);\n\n      e.setStyle({\n        display: 'none' });\n\n\n      editorElm.innerHTML = e.innerHTML;\n      if (isTextarea) {\n        editorElm.setContent(e.value);\n        this.copyElm = e;\n        var f = e.parentTag('FORM');\n        if (f) {\n          bkLib.addEvent(f, 'submit', this.saveContent.closure(this));\n        }\n      }\n      editorElm.setStyle(ie7s ? {\n        height: newY + 'px' } :\n      {\n        overflow: 'hidden' });\n\n      this.elm = editorElm;\n    }\n    this.ne.addEvent('blur', this.blur.closure(this));\n\n    this.init();\n    this.blur();\n  },\n\n  init: function init() {\n    this.elm.setAttribute('contentEditable', 'true');\n    if (this.getContent() == \"\") {\n      this.setContent('<br />');\n    }\n    this.instanceDoc = document.defaultView;\n    this.elm.addEvent('mousedown', this.selected.closureListener(this)).addEvent('keypress', this.keyDown.closureListener(this)).addEvent('focus', this.selected.closure(this)).addEvent('blur', this.blur.closure(this)).addEvent('keyup', this.selected.closure(this));\n    this.ne.fireEvent('add', this);\n  },\n\n  remove: function remove() {\n    this.saveContent();\n    if (this.copyElm || this.options.hasPanel) {\n      this.editorContain.remove();\n      this.e.setStyle({\n        'display': 'block' });\n\n      this.ne.removePanel();\n    }\n    this.disable();\n    this.ne.fireEvent('remove', this);\n  },\n\n  disable: function disable() {\n    this.elm.setAttribute('contentEditable', 'false');\n  },\n\n  getSel: function getSel() {\n    return window.getSelection ? window.getSelection() : document.selection;\n  },\n\n  getRng: function getRng() {\n    var s = this.getSel();\n    if (!s) {\n      return null;\n    }\n    return s.rangeCount > 0 ? s.getRangeAt(0) : s.createRange();\n  },\n\n  selRng: function selRng(rng, s) {\n    if (window.getSelection) {\n      s.removeAllRanges();\n      s.addRange(rng);\n    } else {\n      rng.select();\n    }\n  },\n\n  selElm: function selElm() {\n    var r = this.getRng();\n    if (r.startContainer) {\n      var contain = r.startContainer;\n      if (r.cloneContents().childNodes.length == 1) {\n        for (var i = 0; i < contain.childNodes.length; i++) {\n          var rng = contain.childNodes[i].ownerDocument.createRange();\n          rng.selectNode(contain.childNodes[i]);\n          if (r.compareBoundaryPoints(Range.START_TO_START, rng) != 1 &&\n          r.compareBoundaryPoints(Range.END_TO_END, rng) != -1) {\n            return $BK(contain.childNodes[i]);\n          }\n        }\n      }\n      return $BK(contain);\n    } else {\n      return $BK(this.getSel().type == \"Control\" ? r.item(0) : r.parentElement());\n    }\n  },\n\n  saveRng: function saveRng() {\n    this.savedRange = this.getRng();\n    this.savedSel = this.getSel();\n  },\n\n  restoreRng: function restoreRng() {\n    if (this.savedRange) {\n      this.selRng(this.savedRange, this.savedSel);\n    }\n  },\n\n  keyDown: function keyDown(e, t) {\n    if (e.ctrlKey) {\n      this.ne.fireEvent('key', this, e);\n    }\n  },\n\n  selected: function selected(e, t) {\n    if (!t) {\n      t = this.selElm();\n    }\n    if (!e.ctrlKey) {\n      var selInstance = this.ne.selectedInstance;\n      if (selInstance != this) {\n        if (selInstance) {\n          this.ne.fireEvent('blur', selInstance, t);\n        }\n        this.ne.selectedInstance = this;\n        this.ne.fireEvent('focus', selInstance, t);\n      }\n      this.ne.fireEvent('selected', selInstance, t);\n      this.isFocused = true;\n      this.elm.addClass('selected');\n    }\n    return false;\n  },\n\n  blur: function blur() {\n    this.isFocused = false;\n    this.elm.removeClass('selected');\n  },\n\n  saveContent: function saveContent() {\n    if (this.copyElm || this.options.hasPanel) {\n      this.ne.fireEvent('save', this);\n      this.copyElm ? this.copyElm.value = this.getContent() : this.e.innerHTML = this.getContent();\n    }\n  },\n\n  getElm: function getElm() {\n    return this.elm;\n  },\n\n  getContent: function getContent() {\n    this.content = this.getElm().innerHTML;\n    this.ne.fireEvent('get', this);\n    return this.content;\n  },\n\n  setContent: function setContent(e) {\n    this.content = e;\n    this.ne.fireEvent('set', this);\n    this.elm.innerHTML = this.content;\n  },\n\n  nicCommand: function nicCommand(cmd, args) {\n    document.execCommand(cmd, false, args);\n  } });\n\n\nvar nicEditorIFrameInstance = nicEditorInstance.extend({\n  savedStyles: [],\n\n  init: function init() {\n    var c = this.elm.innerHTML.replace(/^\\s+|\\s+$/g, '');\n    this.elm.innerHTML = '';\n    !c ? c = \"<br />\" : c;\n    this.initialContent = c;\n\n    this.elmFrame = new bkElement('iframe').setAttributes({\n      'src': 'javascript:;',\n      'frameBorder': 0,\n      'allowTransparency': 'true',\n      'scrolling': 'no' }).\n    setStyle({\n      height: '100px',\n      width: '100%' }).\n    addClass('frame').appendTo(this.elm);\n\n    if (this.copyElm) {\n      this.elmFrame.setStyle({\n        width: this.elm.offsetWidth - 4 + 'px' });\n\n    }\n\n    var styleList = ['font-size', 'font-family', 'font-weight', 'color'];\n    for (itm in styleList) {\n      this.savedStyles[bkLib.camelize(itm)] = this.elm.getStyle(itm);\n    }\n\n    setTimeout(this.initFrame.closure(this), 50);\n  },\n\n  disable: function disable() {\n    this.elm.innerHTML = this.getContent();\n  },\n\n  initFrame: function initFrame() {\n    var fd = $BK(this.elmFrame.contentWindow.document);\n    fd.designMode = \"on\";\n    fd.open();\n    var css = this.ne.options.externalCSS;\n    fd.write('<html><head>' + (css ? '<link href=\"' + css + '\" rel=\"stylesheet\" type=\"text/css\" />' : '') + '</head><body id=\"nicEditContent\" style=\"margin: 0 !important; background-color: #ffffff !important;\">' + this.initialContent + '</body></html>');\n    fd.close();\n    this.frameDoc = fd;\n\n    this.frameWin = $BK(this.elmFrame.contentWindow);\n    this.frameContent = $BK(this.frameWin.document.body).setStyle(this.savedStyles);\n    this.instanceDoc = this.frameWin.document.defaultView;\n\n    this.heightUpdate();\n    this.frameDoc.addEvent('mousedown', this.selected.closureListener(this)).addEvent('keyup', this.heightUpdate.closureListener(this)).addEvent('keydown', this.keyDown.closureListener(this)).addEvent('keyup', this.selected.closure(this));\n    this.ne.fireEvent('add', this);\n  },\n\n  getElm: function getElm() {\n    return this.frameContent;\n  },\n\n  setContent: function setContent(c) {\n    this.content = c;\n    this.ne.fireEvent('set', this);\n    this.frameContent.innerHTML = this.content;\n    this.heightUpdate();\n  },\n\n  getSel: function getSel() {\n    return this.frameWin ? this.frameWin.getSelection() : this.frameDoc.selection;\n  },\n\n  heightUpdate: function heightUpdate() {\n    this.elmFrame.style.height = Math.max(this.frameContent.offsetHeight, this.initialHeight) + 'px';\n  },\n\n  nicCommand: function nicCommand(cmd, args) {\n    this.frameDoc.execCommand(cmd, false, args);\n    setTimeout(this.heightUpdate.closure(this), 100);\n  } });\n\n\n\nvar nicEditorPanel = bkClass.extend({\n  construct: function construct(e, options, nicEditor) {\n    this.elm = e;\n    this.options = options;\n    this.ne = nicEditor;\n    this.panelButtons = new Array();\n    this.buttonList = bkExtend([], this.ne.options.buttonList);\n\n    this.panelContain = new bkElement('DIV').setStyle({\n      overflow: 'hidden',\n      width: '100%',\n      border: '1px solid #cccccc',\n      backgroundColor: '#efefef' }).\n    addClass('panelContain');\n    this.panelElm = new bkElement('DIV').setStyle({\n      margin: '2px',\n      marginTop: '0px',\n      zoom: 1,\n      overflow: 'hidden' }).\n    addClass('panel').appendTo(this.panelContain);\n    this.panelContain.appendTo(e);\n\n    var opt = this.ne.options;\n    var buttons = opt.buttons;\n    for (button in buttons) {\n      this.addButton(button, opt, true);\n    }\n    this.reorder();\n    e.noSelect();\n  },\n\n  addButton: function addButton(buttonName, options, noOrder) {\n    var button = options.buttons[buttonName];\n    var type = button['type'] ? eval('(typeof(' + button['type'] + ') == \"undefined\") ? null : ' + button['type'] + ';') : nicEditorButton;\n    var hasButton = bkLib.inArray(this.buttonList, buttonName);\n    if (type && (hasButton || this.ne.options.fullPanel)) {\n      this.panelButtons.push(new type(this.panelElm, buttonName, options, this.ne));\n      if (!hasButton) {\n        this.buttonList.push(buttonName);\n      }\n    }\n  },\n\n  findButton: function findButton(itm) {\n    for (var i = 0; i < this.panelButtons.length; i++) {\n      if (this.panelButtons[i].name == itm)\n      return this.panelButtons[i];\n    }\n  },\n\n  reorder: function reorder() {\n    var bl = this.buttonList;\n    for (var i = 0; i < bl.length; i++) {\n      var button = this.findButton(bl[i]);\n      if (button) {\n        this.panelElm.appendChild(button.margin);\n      }\n    }\n  },\n\n  remove: function remove() {\n    this.elm.remove();\n  } });\n\nvar nicEditorButton = bkClass.extend({\n\n  construct: function construct(e, buttonName, options, nicEditor) {\n    this.options = options.buttons[buttonName];\n    this.name = buttonName;\n    this.ne = nicEditor;\n    this.elm = e;\n\n    this.margin = new bkElement('DIV').setStyle({\n      'float': 'left',\n      marginTop: '2px' }).\n    appendTo(e);\n    this.contain = new bkElement('DIV').setStyle({\n      width: '20px',\n      height: '20px' }).\n    addClass('buttonContain').appendTo(this.margin);\n    this.border = new bkElement('DIV').setStyle({\n      backgroundColor: '#efefef',\n      border: '1px solid #efefef' }).\n    appendTo(this.contain);\n    this.button = new bkElement('DIV').setStyle({\n      width: '18px',\n      height: '18px',\n      overflow: 'hidden',\n      zoom: 1,\n      cursor: 'pointer' }).\n    addClass('button').setStyle(this.ne.getIcon(buttonName, options)).appendTo(this.border);\n    this.button.addEvent('mouseover', this.hoverOn.closure(this)).addEvent('mouseout', this.hoverOff.closure(this)).addEvent('mousedown', this.mouseClick.closure(this)).noSelect();\n\n    if (!window.opera) {\n      this.button.onmousedown = this.button.onclick = bkLib.cancelEvent;\n    }\n\n    nicEditor.addEvent('selected', this.enable.closure(this)).addEvent('blur', this.disable.closure(this)).addEvent('key', this.key.closure(this));\n\n    this.disable();\n    this.init();\n  },\n\n  init: function init() {},\n\n  hide: function hide() {\n    this.contain.setStyle({\n      display: 'none' });\n\n  },\n\n  updateState: function updateState() {\n    if (this.isDisabled) {\n      this.setBg();\n    } else\n    if (this.isHover) {\n      this.setBg('hover');\n    } else\n    if (this.isActive) {\n      this.setBg('active');\n    } else\n    {\n      this.setBg();\n    }\n  },\n\n  setBg: function setBg(state) {\n    switch (state) {\n      case 'hover':\n        var stateStyle = {\n          border: '1px solid #666',\n          backgroundColor: '#ddd' };\n\n        break;\n      case 'active':\n        var stateStyle = {\n          border: '1px solid #666',\n          backgroundColor: '#ccc' };\n\n        break;\n      default:\n        var stateStyle = {\n          border: '1px solid #efefef',\n          backgroundColor: '#efefef' };}\n\n\n    this.border.setStyle(stateStyle).addClass('button-' + state);\n  },\n\n  checkNodes: function checkNodes(e) {\n    var elm = e;\n    do {\n      if (this.options.tags && bkLib.inArray(this.options.tags, elm.nodeName)) {\n        this.activate();\n        return true;\n      }\n    } while (elm = elm.parentNode && elm.className != \"nicEdit\");\n    elm = $BK(e);\n    while (elm.nodeType == 3) {\n      elm = $BK(elm.parentNode);\n    }\n    if (this.options.css) {\n      for (itm in this.options.css) {\n        if (elm.getStyle(itm, this.ne.selectedInstance.instanceDoc) == this.options.css[itm]) {\n          this.activate();\n          return true;\n        }\n      }\n    }\n    this.deactivate();\n    return false;\n  },\n\n  activate: function activate() {\n    if (!this.isDisabled) {\n      this.isActive = true;\n      this.updateState();\n      this.ne.fireEvent('buttonActivate', this);\n    }\n  },\n\n  deactivate: function deactivate() {\n    this.isActive = false;\n    this.updateState();\n    if (!this.isDisabled) {\n      this.ne.fireEvent('buttonDeactivate', this);\n    }\n  },\n\n  enable: function enable(ins, t) {\n    this.isDisabled = false;\n    this.contain.setStyle({\n      'opacity': 1 }).\n    addClass('buttonEnabled');\n    this.updateState();\n    this.checkNodes(t);\n  },\n\n  disable: function disable(ins, t) {\n    this.isDisabled = true;\n    this.contain.setStyle({\n      'opacity': 0.6 }).\n    removeClass('buttonEnabled');\n    this.updateState();\n  },\n\n  toggleActive: function toggleActive() {\n    this.isActive ? this.deactivate() : this.activate();\n  },\n\n  hoverOn: function hoverOn() {\n    if (!this.isDisabled) {\n      this.isHover = true;\n      this.updateState();\n      this.ne.fireEvent(\"buttonOver\", this);\n    }\n  },\n\n  hoverOff: function hoverOff() {\n    this.isHover = false;\n    this.updateState();\n    this.ne.fireEvent(\"buttonOut\", this);\n  },\n\n  mouseClick: function mouseClick() {\n    if (this.options.command) {\n      this.ne.nicCommand(this.options.command, this.options.commandArgs);\n      if (!this.options.noActive) {\n        this.toggleActive();\n      }\n    }\n    this.ne.fireEvent(\"buttonClick\", this);\n  },\n\n  key: function key(nicInstance, e) {\n    if (this.options.key && e.ctrlKey && String.fromCharCode(e.keyCode || e.charCode).toLowerCase() == this.options.key) {\n      this.mouseClick();\n      if (e.preventDefault) e.preventDefault();\n    }\n  } });\n\n\n\n\nvar nicPlugin = bkClass.extend({\n\n  construct: function construct(nicEditor, options) {\n    this.options = options;\n    this.ne = nicEditor;\n    this.ne.addEvent('panel', this.loadPanel.closure(this));\n\n    this.init();\n  },\n\n  loadPanel: function loadPanel(np) {\n    var buttons = this.options.buttons;\n    for (var button in buttons) {\n      np.addButton(button, this.options);\n    }\n    np.reorder();\n  },\n\n  init: function init() {} });\n\n\n\n/* START CONFIG */\nvar nicPaneOptions = {};\n/* END CONFIG */\n\nvar nicEditorPane = bkClass.extend({\n  construct: function construct(elm, nicEditor, options, openButton) {\n    this.ne = nicEditor;\n    this.elm = elm;\n    this.pos = elm.pos();\n\n    this.contain = new bkElement('div').setStyle({\n      zIndex: '99999',\n      overflow: 'hidden',\n      position: 'absolute',\n      left: this.pos[0] + 'px',\n      top: this.pos[1] + 'px' });\n\n    this.pane = new bkElement('div').setStyle({\n      fontSize: '12px',\n      border: '1px solid #ccc',\n      'overflow': 'hidden',\n      padding: '4px',\n      textAlign: 'left',\n      backgroundColor: '#ffffc9' }).\n    addClass('pane').setStyle(options).appendTo(this.contain);\n\n    if (openButton && !openButton.options.noClose) {\n      this.close = new bkElement('div').setStyle({\n        'float': 'right',\n        height: '16px',\n        width: '16px',\n        cursor: 'pointer' }).\n      setStyle(this.ne.getIcon('close', nicPaneOptions)).addEvent('mousedown', openButton.removePane.closure(this)).appendTo(this.pane);\n    }\n\n    this.contain.noSelect().appendTo(document.body);\n\n    this.position();\n    this.init();\n  },\n\n  init: function init() {},\n\n  position: function position() {\n    if (this.ne.nicPanel) {\n      var panelElm = this.ne.nicPanel.elm;\n      var panelPos = panelElm.pos();\n      var newLeft = panelPos[0] + parseInt(panelElm.getStyle('width')) - (parseInt(this.pane.getStyle('width')) + 8);\n      if (newLeft < this.pos[0]) {\n        this.contain.setStyle({\n          left: newLeft + 'px' });\n\n      }\n    }\n  },\n\n  toggle: function toggle() {\n    this.isVisible = !this.isVisible;\n    this.contain.setStyle({\n      display: this.isVisible ? 'block' : 'none' });\n\n  },\n\n  remove: function remove() {\n    if (this.contain) {\n      this.contain.remove();\n      this.contain = null;\n    }\n  },\n\n  append: function append(c) {\n    c.appendTo(this.pane);\n  },\n\n  setContent: function setContent(c) {\n    this.pane.setContent(c);\n  } });\n\n\n\n\n\nvar nicEditorAdvancedButton = nicEditorButton.extend({\n\n  init: function init() {\n    this.ne.addEvent('selected', this.removePane.closure(this)).addEvent('blur', this.removePane.closure(this));\n  },\n\n  mouseClick: function mouseClick() {\n    if (!this.isDisabled) {\n      if (this.pane && this.pane.pane) {\n        this.removePane();\n      } else {\n        this.pane = new nicEditorPane(this.contain, this.ne, {\n          width: this.width || '270px',\n          backgroundColor: '#fff' },\n        this);\n        this.addPane();\n        this.ne.selectedInstance.saveRng();\n      }\n    }\n  },\n\n  addForm: function addForm(f, elm) {\n    this.form = new bkElement('form').addEvent('submit', this.submit.closureListener(this));\n    this.pane.append(this.form);\n    this.inputs = {};\n\n    for (itm in f) {\n      var field = f[itm];\n      var val = '';\n      if (elm) {\n        val = elm.getAttribute(itm);\n      }\n      if (!val) {\n        val = field['value'] || '';\n      }\n      var type = f[itm].type;\n\n      if (type == 'title') {\n        new bkElement('div').setContent(field.txt).setStyle({\n          fontSize: '14px',\n          fontWeight: 'bold',\n          padding: '0px',\n          margin: '2px 0' }).\n        appendTo(this.form);\n      } else {\n        var contain = new bkElement('div').setStyle({\n          overflow: 'hidden',\n          clear: 'both' }).\n        appendTo(this.form);\n        if (field.txt) {\n          new bkElement('label').setAttributes({\n            'for': itm }).\n          setContent(field.txt).setStyle({\n            margin: '2px 4px',\n            fontSize: '13px',\n            width: '50px',\n            lineHeight: '20px',\n            textAlign: 'right',\n            'float': 'left' }).\n          appendTo(contain);\n        }\n\n        switch (type) {\n          case 'text':\n            this.inputs[itm] = new bkElement('input').setAttributes({\n              id: itm,\n              'value': val,\n              'type': 'text' }).\n            setStyle({\n              margin: '2px 0',\n              fontSize: '13px',\n              'float': 'left',\n              height: '20px',\n              border: '1px solid #ccc',\n              overflow: 'hidden' }).\n            setStyle(field.style).appendTo(contain);\n            break;\n          case 'select':\n            this.inputs[itm] = new bkElement('select').setAttributes({\n              id: itm }).\n            setStyle({\n              border: '1px solid #ccc',\n              'float': 'left',\n              margin: '2px 0' }).\n            appendTo(contain);\n            for (opt in field.options) {\n              var o = new bkElement('option').setAttributes({\n                value: opt,\n                selected: opt == val ? 'selected' : '' }).\n              setContent(field.options[opt]).appendTo(this.inputs[itm]);\n            }\n            break;\n          case 'content':\n            this.inputs[itm] = new bkElement('textarea').setAttributes({\n              id: itm }).\n            setStyle({\n              border: '1px solid #ccc',\n              'float': 'left' }).\n            setStyle(field.style).appendTo(contain);\n            this.inputs[itm].value = val;}\n\n      }\n    }\n    new bkElement('input').setAttributes({\n      'type': 'submit' }).\n    setStyle({\n      backgroundColor: '#efefef',\n      border: '1px solid #ccc',\n      margin: '3px 0',\n      'float': 'left',\n      'clear': 'both' }).\n    appendTo(this.form);\n    this.form.onsubmit = bkLib.cancelEvent;\n  },\n\n  submit: function submit() {},\n\n  findElm: function findElm(tag, attr, val) {\n    var list = this.ne.selectedInstance.getElm().getElementsByTagName(tag);\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].getAttribute(attr) == val) {\n        return $BK(list[i]);\n      }\n    }\n  },\n\n  removePane: function removePane() {\n    if (this.pane) {\n      this.pane.remove();\n      this.pane = null;\n      this.ne.selectedInstance.restoreRng();\n    }\n  } });\n\n\n\nvar nicButtonTips = bkClass.extend({\n  construct: function construct(nicEditor) {\n    this.ne = nicEditor;\n    nicEditor.addEvent('buttonOver', this.show.closure(this)).addEvent('buttonOut', this.hide.closure(this));\n\n  },\n\n  show: function show(button) {\n    this.timer = setTimeout(this.create.closure(this, button), 400);\n  },\n\n  create: function create(button) {\n    this.timer = null;\n    if (!this.pane) {\n      this.pane = new nicEditorPane(button.button, this.ne, {\n        fontSize: '12px',\n        marginTop: '5px' });\n\n      this.pane.setContent(button.options.name);\n    }\n  },\n\n  hide: function hide(button) {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n    if (this.pane) {\n      this.pane = this.pane.remove();\n    }\n  } });\n\nnicEditors.registerPlugin(nicButtonTips);\n\n/* START CONFIG */\nvar nicSelectOptions = {\n  buttons: {\n    'fontSize': {\n      name: __('Select Font Size'),\n      type: 'nicEditorFontSizeSelect',\n      command: 'fontsize' },\n\n    'fontFamily': {\n      name: __('Select Font Family'),\n      type: 'nicEditorFontFamilySelect',\n      command: 'fontname' },\n\n    'fontFormat': {\n      name: __('Select Font Format'),\n      type: 'nicEditorFontFormatSelect',\n      command: 'formatBlock' } } };\n\n\n\n/* END CONFIG */\nvar nicEditorSelect = bkClass.extend({\n\n  construct: function construct(e, buttonName, options, nicEditor) {\n    this.options = options.buttons[buttonName];\n    this.elm = e;\n    this.ne = nicEditor;\n    this.name = buttonName;\n    this.selOptions = new Array();\n\n    this.margin = new bkElement('div').setStyle({\n      'float': 'left',\n      margin: '2px 1px 0 1px' }).\n    appendTo(this.elm);\n    this.contain = new bkElement('div').setStyle({\n      width: '90px',\n      height: '20px',\n      cursor: 'pointer',\n      overflow: 'hidden' }).\n    addClass('selectContain').addEvent('click', this.toggle.closure(this)).appendTo(this.margin);\n    this.items = new bkElement('div').setStyle({\n      overflow: 'hidden',\n      zoom: 1,\n      border: '1px solid #ccc',\n      paddingLeft: '3px',\n      backgroundColor: '#fff' }).\n    appendTo(this.contain);\n    this.control = new bkElement('div').setStyle({\n      overflow: 'hidden',\n      'float': 'right',\n      height: '18px',\n      width: '16px' }).\n    addClass('selectControl').setStyle(this.ne.getIcon('arrow', options)).appendTo(this.items);\n    this.txt = new bkElement('div').setStyle({\n      overflow: 'hidden',\n      'float': 'left',\n      width: '66px',\n      height: '14px',\n      marginTop: '1px',\n      fontFamily: 'sans-serif',\n      textAlign: 'center',\n      fontSize: '12px' }).\n    addClass('selectTxt').appendTo(this.items);\n\n    if (!window.opera) {\n      this.contain.onmousedown = this.control.onmousedown = this.txt.onmousedown = bkLib.cancelEvent;\n    }\n\n    this.margin.noSelect();\n\n    this.ne.addEvent('selected', this.enable.closure(this)).addEvent('blur', this.disable.closure(this));\n\n    this.disable();\n    this.init();\n  },\n\n  disable: function disable() {\n    this.isDisabled = true;\n    this.close();\n    this.contain.setStyle({\n      opacity: 0.6 });\n\n  },\n\n  enable: function enable(t) {\n    this.isDisabled = false;\n    this.close();\n    this.contain.setStyle({\n      opacity: 1 });\n\n  },\n\n  setDisplay: function setDisplay(txt) {\n    this.txt.setContent(txt);\n  },\n\n  toggle: function toggle() {\n    if (!this.isDisabled) {\n      this.pane ? this.close() : this.open();\n    }\n  },\n\n  open: function open() {\n    this.pane = new nicEditorPane(this.items, this.ne, {\n      width: '88px',\n      padding: '0px',\n      borderTop: 0,\n      borderLeft: '1px solid #ccc',\n      borderRight: '1px solid #ccc',\n      borderBottom: '0px',\n      backgroundColor: '#fff' });\n\n\n    for (var i = 0; i < this.selOptions.length; i++) {var _setStyle;\n      var opt = this.selOptions[i];\n      var itmContain = new bkElement('div').setStyle((_setStyle = {\n        overflow: 'hidden',\n        borderBottom: '1px solid #ccc',\n        width: '88px',\n        textAlign: 'left' }, _defineProperty(_setStyle, \"overflow\",\n      'hidden'), _defineProperty(_setStyle, \"cursor\",\n      'pointer'), _setStyle));\n\n      var itm = new bkElement('div').setStyle({\n        padding: '0px 4px' }).\n      setContent(opt[1]).appendTo(itmContain).noSelect();\n      itm.addEvent('click', this.update.closure(this, opt[0])).addEvent('mouseover', this.over.closure(this, itm)).addEvent('mouseout', this.out.closure(this, itm)).setAttributes('id', opt[0]);\n      this.pane.append(itmContain);\n      if (!window.opera) {\n        itm.onmousedown = bkLib.cancelEvent;\n      }\n    }\n  },\n\n  close: function close() {\n    if (this.pane) {\n      this.pane = this.pane.remove();\n    }\n  },\n\n  over: function over(opt) {\n    opt.setStyle({\n      backgroundColor: '#ccc' });\n\n  },\n\n  out: function out(opt) {\n    opt.setStyle({\n      backgroundColor: '#fff' });\n\n  },\n\n\n  add: function add(k, v) {\n    this.selOptions.push(new Array(k, v));\n  },\n\n  update: function update(elm) {\n    this.ne.nicCommand(this.options.command, elm);\n    this.close();\n  } });\n\n\nvar nicEditorFontSizeSelect = nicEditorSelect.extend({\n  sel: {\n    1: '1&nbsp;(8pt)',\n    2: '2&nbsp;(10pt)',\n    3: '3&nbsp;(12pt)',\n    4: '4&nbsp;(14pt)',\n    5: '5&nbsp;(18pt)',\n    6: '6&nbsp;(24pt)' },\n\n  init: function init() {\n    this.setDisplay('Font&nbsp;Size...');\n    for (itm in this.sel) {\n      this.add(itm, '<font size=\"' + itm + '\">' + this.sel[itm] + '</font>');\n    }\n  } });\n\n\nvar nicEditorFontFamilySelect = nicEditorSelect.extend({\n  sel: {\n    'arial': 'Arial',\n    'comic sans ms': 'Comic Sans',\n    'courier new': 'Courier New',\n    'georgia': 'Georgia',\n    'helvetica': 'Helvetica',\n    'impact': 'Impact',\n    'times new roman': 'Times',\n    'trebuchet ms': 'Trebuchet',\n    'verdana': 'Verdana' },\n\n\n  init: function init() {\n    this.setDisplay('Font&nbsp;Family...');\n    for (itm in this.sel) {\n      this.add(itm, '<font face=\"' + itm + '\">' + this.sel[itm] + '</font>');\n    }\n  } });\n\n\nvar nicEditorFontFormatSelect = nicEditorSelect.extend({\n  sel: {\n    'p': 'Paragraph',\n    'pre': 'Pre',\n    'h6': 'Heading&nbsp;6',\n    'h5': 'Heading&nbsp;5',\n    'h4': 'Heading&nbsp;4',\n    'h3': 'Heading&nbsp;3',\n    'h2': 'Heading&nbsp;2',\n    'h1': 'Heading&nbsp;1' },\n\n\n  init: function init() {\n    this.setDisplay('Font&nbsp;Format...');\n    for (itm in this.sel) {\n      var tag = itm.toUpperCase();\n      this.add('<' + tag + '>', '<' + itm + ' style=\"padding: 0px; margin: 0px;\">' + this.sel[itm] + '</' + tag + '>');\n    }\n  } });\n\n\nnicEditors.registerPlugin(nicPlugin, nicSelectOptions);\n\n\n\n/* START CONFIG */\nvar nicLinkOptions = {\n  buttons: {\n    'link': {\n      name: 'Add Link',\n      type: 'nicLinkButton',\n      tags: ['A'] },\n\n    'unlink': {\n      name: 'Remove Link',\n      command: 'unlink',\n      noActive: true } } };\n\n\n\n/* END CONFIG */\n\nvar nicLinkButton = nicEditorAdvancedButton.extend({\n  addPane: function addPane() {\n    this.ln = this.ne.selectedInstance.selElm().parentTag('A');\n    this.addForm({\n      '': {\n        type: 'title',\n        txt: 'Add/Edit Link' },\n\n      'href': {\n        type: 'text',\n        txt: 'URL',\n        value: 'http://',\n        style: {\n          width: '150px' } },\n\n\n      'title': {\n        type: 'text',\n        txt: 'Title' },\n\n      'target': {\n        type: 'select',\n        txt: 'Open In',\n        options: {\n          '': 'Current Window',\n          '_blank': 'New Window' },\n\n        style: {\n          width: '100px' } } },\n\n\n    this.ln);\n  },\n\n  submit: function submit(e) {\n    var url = this.inputs['href'].value;\n    if (url == \"http://\" || url == \"\") {\n      alert(\"You must enter a URL to Create a Link\");\n      return false;\n    }\n    this.removePane();\n\n    if (!this.ln) {\n      var tmp = 'javascript:nicTemp();';\n      this.ne.nicCommand(\"createlink\", tmp);\n      this.ln = this.findElm('A', 'href', tmp);\n    }\n    if (this.ln) {\n      this.ln.setAttributes({\n        href: this.inputs['href'].value,\n        title: this.inputs['title'].value,\n        target: this.inputs['target'].options[this.inputs['target'].selectedIndex].value });\n\n    }\n  } });\n\n\nnicEditors.registerPlugin(nicPlugin, nicLinkOptions);\n\n\n\n/* START CONFIG */\nvar nicColorOptions = {\n  buttons: {\n    'forecolor': {\n      name: __('Change Text Color'),\n      type: 'nicEditorColorButton',\n      noClose: true },\n\n    'bgcolor': {\n      name: __('Change Background Color'),\n      type: 'nicEditorBgColorButton',\n      noClose: true } } };\n\n\n\n/* END CONFIG */\n\nvar nicEditorColorButton = nicEditorAdvancedButton.extend({\n  addPane: function addPane() {\n    var colorList = {\n      0: '00',\n      1: '33',\n      2: '66',\n      3: '99',\n      4: 'CC',\n      5: 'FF' };\n\n    var colorItems = new bkElement('DIV').setStyle({\n      width: '270px' });\n\n\n    for (var r in colorList) {\n      for (var b in colorList) {\n        for (var g in colorList) {\n          var colorCode = '#' + colorList[r] + colorList[g] + colorList[b];\n\n          var colorSquare = new bkElement('DIV').setStyle({\n            'cursor': 'pointer',\n            'height': '15px',\n            'float': 'left' }).\n          appendTo(colorItems);\n          var colorBorder = new bkElement('DIV').setStyle({\n            border: '2px solid ' + colorCode }).\n          appendTo(colorSquare);\n          var colorInner = new bkElement('DIV').setStyle({\n            backgroundColor: colorCode,\n            overflow: 'hidden',\n            width: '11px',\n            height: '11px' }).\n          addEvent('click', this.colorSelect.closure(this, colorCode)).addEvent('mouseover', this.on.closure(this, colorBorder)).addEvent('mouseout', this.off.closure(this, colorBorder, colorCode)).appendTo(colorBorder);\n\n          if (!window.opera) {\n            colorSquare.onmousedown = colorInner.onmousedown = bkLib.cancelEvent;\n          }\n\n        }\n      }\n    }\n    this.pane.append(colorItems.noSelect());\n  },\n\n  colorSelect: function colorSelect(c) {\n    this.ne.nicCommand('foreColor', c);\n    this.removePane();\n  },\n\n  on: function on(colorBorder) {\n    colorBorder.setStyle({\n      border: '2px solid #000' });\n\n  },\n\n  off: function off(colorBorder, colorCode) {\n    colorBorder.setStyle({\n      border: '2px solid ' + colorCode });\n\n  } });\n\n\nvar nicEditorBgColorButton = nicEditorColorButton.extend({\n  colorSelect: function colorSelect(c) {\n    this.ne.nicCommand('hiliteColor', c);\n    this.removePane();\n  } });\n\n\nnicEditors.registerPlugin(nicPlugin, nicColorOptions);\n\n\n\n/* START CONFIG */\nvar nicImageOptions = {\n  buttons: {\n    'image': {\n      name: 'Add Image',\n      type: 'nicImageButton',\n      tags: ['IMG'] } } };\n\n\n\n\n/* END CONFIG */\n\nvar nicImageButton = nicEditorAdvancedButton.extend({\n  addPane: function addPane() {\n    this.im = this.ne.selectedInstance.selElm().parentTag('IMG');\n    this.addForm({\n      '': {\n        type: 'title',\n        txt: 'Add/Edit Image' },\n\n      'src': {\n        type: 'text',\n        txt: 'URL',\n        'value': 'http://',\n        style: {\n          width: '150px' } },\n\n\n      'alt': {\n        type: 'text',\n        txt: 'Alt Text',\n        style: {\n          width: '100px' } },\n\n\n      'align': {\n        type: 'select',\n        txt: 'Align',\n        options: {\n          none: 'Default',\n          'left': 'Left',\n          'right': 'Right' } } },\n\n\n    this.im);\n  },\n\n  submit: function submit(e) {\n    var src = this.inputs['src'].value;\n    if (src == \"\" || src == \"http://\") {\n      alert(\"You must enter a Image URL to insert\");\n      return false;\n    }\n    this.removePane();\n\n    if (!this.im) {\n      var tmp = 'javascript:nicImTemp();';\n      this.ne.nicCommand(\"insertImage\", tmp);\n      this.im = this.findElm('IMG', 'src', tmp);\n    }\n    if (this.im) {\n      this.im.setAttributes({\n        src: this.inputs['src'].value,\n        alt: this.inputs['alt'].value,\n        align: this.inputs['align'].value });\n\n    }\n  } });\n\n\nnicEditors.registerPlugin(nicPlugin, nicImageOptions);\n\n\n\n\n/* START CONFIG */\nvar nicSaveOptions = {\n  buttons: {\n    'save': {\n      name: __('Save this content'),\n      type: 'nicEditorSaveButton' } } };\n\n\n\n/* END CONFIG */\n\nvar nicEditorSaveButton = nicEditorButton.extend({\n  init: function init() {\n    if (!this.ne.options.onSave) {\n      this.margin.setStyle({\n        'display': 'none' });\n\n    }\n  },\n  mouseClick: function mouseClick() {\n    var onSave = this.ne.options.onSave;\n    var selectedInstance = this.ne.selectedInstance;\n    onSave(selectedInstance.getContent(), selectedInstance.elm.id, selectedInstance);\n  } });\n\n\nnicEditors.registerPlugin(nicPlugin, nicSaveOptions);\n\n\n/**\r\n                                                      * NicEdit Smiles Support\r\n                                                      */\n\n/* SMILES SUPPPORT*/\n/* START CONFIG */\nvar smileOptions = {\n  buttons: {\n    'smile': {\n      name: 'Add Smile',\n      type: 'nicEditorSmileButton',\n      noClose: true,\n      tags: ['Sm'] } } };\n\n\n\n/* END CONFIG */\n\nvar nicEditorSmileButton = nicEditorAdvancedButton.extend({\n  addPane: function addPane() {\n    var smileList = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24];\n    var smileItems = new bkElement('DIV').setStyle({\n      width: '270px' });\n\n    for (var g in smileList) {\n      var smileClass = 'ui-smile ui-smile-' + smileList[g] + '';\n      var smileElement = '<span class=\"' + smileClass + '\" ></span>';\n      var smileSquare = new bkElement('DIV').setStyle({\n        'cursor': 'pointer',\n        'height': '17px',\n        'width': '17px',\n        'float': 'left' }).\n      appendTo(smileItems);\n      var smileBorder = new bkElement('DIV').appendTo(smileSquare);\n      var smileInner = new bkElement('DIV').setStyle({\n        overflow: 'hidden',\n        width: '17px',\n        height: '17px' }).\n      addEvent('click', this.smileSelect.closure(this, smileClass)).addEvent('mouseover', this.on.closure(this, smileBorder)).addEvent('mouseout', this.off.closure(this, smileBorder)).appendTo(smileBorder);\n      smileInner.innerHTML = smileElement;\n      if (!window.opera) {\n        smileSquare.onmousedown = smileInner.onmousedown = bkLib.cancelEvent;\n      }\n    }\n    this.pane.append(smileItems.noSelect());\n  },\n\n  smileSelect: function smileSelect(smileClass) {\n    var sel, range, html;\n    if (window.getSelection) {\n      sel = window.getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        range = sel.getRangeAt(0);\n\n        var span = document.createElement(\"span\");\n        span.setAttribute(\"class\", smileClass);\n        range.insertNode(span);\n      }\n    } else if (document.selection && document.selection.createRange) {\n      range = document.selection.createRange();\n      range.pasteHTML('<span class=\"' + smileClass + '\" />');\n    }\n\n    this.removePane();\n  },\n\n  on: function on(smileBorder) {\n    smileBorder.setStyle({\n      border: '1px solid #000' });\n\n  },\n\n  off: function off(smileBorder) {\n    smileBorder.setStyle({\n      border: 'none' });\n\n  } });\n\nnicEditors.registerPlugin(nicPlugin, smileOptions);\n\n\n/* Print plugin  */\nvar nicPrintOptions = {\n  buttons: {\n    'print': {\n      name: __('Some alt text for the button'),\n      type: 'nicEditorPrintButton' } } };\n\n\n\n\nvar nicEditorPrintButton = nicEditorButton.extend({\n  mouseClick: function mouseClick() {\n    var container = $(\"<div>\");\n    container.append(nicEditors.findEditor('ui-bizagi-rtfeditor').getContent());\n    if ($.browser.msie) {\n      $(container).printElement({\n        printMode: 'popup' });\n\n    } else {\n      $(container).printElement();\n    }\n  } });\n\n\nnicEditors.registerPlugin(nicPlugin, nicPrintOptions);","if (!$.bizagi) {\n  $.bizagi = { ui: {} };\n}\n\n$.bizagi.ui = {\n  controls: {\n    uitable: {\n      namespace: 'bizagi.ui.controls.uitable',\n      availableComponents: ['uicombo', 'uiradio', 'uicheckbox'],\n      css: 'biz-ui-controls-table',\n      tmpl: 'bizagi.ui.controls.table.template',\n      tmpl2: 'bizagi.ui.controls.table.tr.template',\n      tmpl3: 'bizagi.ui.controls.table.list.template' },\n\n    uicombo: {\n      namespace: 'bizagi.ui.controls.uicombo',\n      css: 'biz-ui-controls-combo',\n      tmpl: 'bizagi.ui.controls.combo.template',\n      tmpl2: 'bizagi.ui.controls.combo.list.template' },\n\n    uicheckbox: {\n      namespace: 'bizagi.ui.controls.uicheckbox',\n      css: 'biz-ui-controls-checkbox',\n      tmpl: 'bizagi.ui.controls.checkbox.template' },\n\n    uiradio: {\n      namespace: 'bizagi.ui.controls.uiradio',\n      css: 'biz-ui-controls-radio',\n      tmpl: 'bizagi.ui.controls.radio.template' },\n\n    uitreeview: {\n      namespace: 'bizagi.ui.controls.uitreeview',\n      css: 'biz-ui-controls-treeview',\n      tmpl: 'bizagi.ui.controls.treeview.template' },\n\n    uimultiselect: {\n      namespace: 'bizagi.ui.controls.multiselect',\n      css: 'biz-ui-controls-multiselect',\n      tmpl: 'bizagi.ui.controls.multiselect.template' } } };","/*\r\n *   Name: BizAgi Workportal\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will process a workportal page using a device factory to use the adequate rendering\r\n *       to create the layout\r\n */\n\n// Define BizAgi Workportal namespace\nbizagi.workportal = bizagi.workportal || {};\n\n// Define global variables\nif (!bizagi.workportal.currentInboxView)\nbizagi.workportal.currentInboxView = \"inbox\";\n\n// Define state variables\nbizagi.workportal.state = bizagi.workportal.state || {};\n\n\n/*\r\n                                                          *   Renders the workportal\r\n                                                          */\n$.Class.extend(\"bizagi.workportal.facade\", {}, {\n\n  /*\r\n                                                  *   Constructor\r\n                                                  */\n  init: function init(params) {\n\n    // Defines a device factory for all rendering\n    this.deviceFactory = new bizagi.workportal.device.factory(this);\n\n    // Creates a data service instance\n    this.dataService = new bizagi.workportal.services.service(params);\n\n    // Create instance of routing service\n    this.dataService.routing = new bizagi.workportal.services.routing({ dataService: this.dataService });\n\n    // Set default params\n    this.defaultParams = params || {};\n\n    // Set default params\n    this.timeoutID;\n\n  },\n\n  /*\r\n      *   Loads the default widget when executing the workportal\r\n      */\n  loadDefaultWidget: function loadDefaultWidget() {\n    var defaultWidgetCookie = bizagi.cookie(\"bizagiDefaultWidget\");\n    if (!this.defaultWidget && !bizagi.util.isEmpty(window.location.hash)) {\n      // Check in the hash\n      var hashParams = bizagi.util.getHashParams();\n      if (hashParams[0] != \"/\")\n      this.defaultWidget = hashParams[0];\n    }\n    if (!this.defaultWidget && !bizagi.util.isEmpty(window.location.search)) {\n      // Check in the query string\n      var queryString = bizagi.util.getQueryString();\n      if ((queryString[\"widget\"] === \"activityform\" || this.defaultParams.widget === \"activityform\") &&\n      !bizagi.util.isMobileDevice()) {\n        this.defaultWidget = \"projectDashboard\";\n        this.defaultParams.caseLink = true;\n      } else if (queryString[\"widget\"] === \"smartinbox\") {\n\n        this.defaultWidget = defaultWidgetCookie === \"smartinbox\" ? bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID : defaultWidgetCookie;\n      } else {\n        this.defaultWidget = queryString[\"widget\"];\n      }\n    }\n    if (!this.defaultWidget && !bizagi.util.isEmpty(this.defaultParams.widget)) {\n      // Check in the default params\n      this.defaultWidget = this.defaultParams.widget;\n    }\n    if (!this.defaultWidget && typeof BIZAGI_DEFAULT_WIDGET != \"undefined\" &&\n    !bizagi.util.isEmpty(BIZAGI_DEFAULT_WIDGET)) {\n      // Check with overriding variable in html\n      this.defaultWidget = BIZAGI_DEFAULT_WIDGET;\n    }\n    if (!this.defaultWidget && defaultWidgetCookie) {\n      // Check with cookie\n      this.defaultWidget = defaultWidgetCookie === \"smartinbox\" ? bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID : defaultWidgetCookie;\n    }\n    if (!this.defaultWidget) {\n      // Set a default widget based on the current device\n      this.defaultWidget = bizagi.util.detectDevice() == \"smartphone_ios\" ||\n      bizagi.util.detectDevice() == \"smartphone_android\" ?\n      bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX :\n      bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID;\n    }\n\n    // Save in user preferences for next executions\n    if (this.defaultWidget !== \"projectDashboard\" && this.defaultWidget !== \"homeportal\") {\n      bizagi.util.defaultWidget(this.defaultWidget);\n    }\n\n    if (this.defaultWidget === \"homeportal\") {\n      bizagi.util.defaultWidget(bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID);\n    }\n\n    if (this.dataService && !this.dataService.online && bizagi.util.isTabletDevice()) {\n      bizagi.util.defaultWidget(bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX);\n    }\n  },\n\n  /*\r\n      *   Start point method to use in the main javascript pages\r\n      *   This method will process everything and attach the html directly to the dom\r\n      */\n  execute: function execute(canvas) {\n    var self = this;\n    var doc = this.ownerDocument;\n    var body = $(\"body\", doc),\n    _processPromise = new $.Deferred();\n\n    canvas = canvas || $(\"<div/>\").appendTo(body);\n\n    // Creates ready deferred\n    self.executionDeferred = new $.Deferred();\n\n    $.when(self.dataService.getCurrentUser(), self.loadPreferences()).done(function (data, preferencesWP) {\n\n      // Define Global information to actual user\n      bizagi.currentUser = data[0];\n      bizagi.services.preferences(preferencesWP);\n\n      // Override bizagiAuthentication in session storage and update date and time resources\n      bizagi.util.changeData(data[0]);\n      bizagi.localization.overrideSpecificResource(\"dateFormat\", data[0].shortDateFormat);\n      bizagi.localization.overrideSpecificResource(\"timeFormat\", data[0].timeFormat);\n\n      // Loads the default Widget\n      self.loadDefaultWidget();\n\n      self.process().done(function (content) {\n        _processPromise.resolve(content);\n        // Replace canvas with content\n        bizagi.util.replaceSelector(body, canvas, content);\n        self.executionDeferred.resolve();\n      });\n    }).fail(function () {\n      self.dataService.logout();\n    });\n\n    return _processPromise;\n  },\n\n  /**\r\n      * make request for get userPreferences\r\n      */\n  loadPreferences: function loadPreferences() {\n    var self = this;\n    var defer = new $.Deferred();\n    $.when(self.dataService.getPreferencesWorkportalCurrentUser()).\n    done(function (resp) {\n      defer.resolve(resp);\n    }).\n    fail(function () {\n      defer.resolve();\n    });\n    return defer.promise();\n  },\n\n  /*\r\n      *   Creates a webpart inside a canvas but don't execute it\r\n      */\n  createWebpart: function createWebpart(params) {\n    return this.executeWebpart($.extend(params, {\n      creating: true }));\n\n  },\n  /*\r\n      * Verifies that the webpart configuration parameters are ok, before processing the webpart\r\n      */\n  testWebpartConfiguration: function testWebpartConfiguration(params) {\n\n    var self = this;\n    var webpartConfiguration = params.webpartConfiguration;\n    var doc = this.ownerDocument;\n    var body = $(\"body\", doc);\n    var canvas = params.canvas || $(\"<div/>\").appendTo(body);\n    if (!webpartConfiguration.url || webpartConfiguration.url == \"\") {\n      bizagi.webparts.addConfigurationMessage(params, \"bizagi-sharepoint-configuration-error\");\n      return false;\n    }\n    return true;\n  },\n  /*\r\n      *   Executes a webpart inside a canvas\r\n      */\n  executeWebpart: function executeWebpart(params) {\n    var self = this;\n    var doc = this.ownerDocument;\n    var body = $(\"body\", doc);\n\n    // Creates ready deferred\n    var canvas = params.canvas || $(\"<div/>\").appendTo(body);\n    var processWebpart = true;\n    if (params.webpartConfiguration) {\n      processWebpart = self.testWebpartConfiguration(params);\n    }\n    if (processWebpart) {\n      // Process the webpart asynchonous\n      return self.processWebpart(params).done(function (result) {\n\n        // Append content to canvas\n        canvas.append(result.content);\n      });\n    }\n  },\n\n\n  /*\r\n      *   Returns the execution deferred to determine if the component is ready or not\r\n      */\n  ready: function ready() {\n\n    return this.executionDeferred.promise();\n  },\n\n  /*\r\n      *   Loads a workportal facade to delegate rendering based on device detection\r\n      *   Returns a deferred to set callbacks when the process is done\r\n      */\n  process: function process() {\n    var self = this;\n    var defer = new $.Deferred();\n\n    // Create a workportal facade\n    var facade = this.deviceFactory.getWorkportalFacade(self.dataService);\n    //process offline data\n    self.processOfflineData();\n\n    // Set callback when requests have been done\n    $.when(facade).\n    pipe(function (workportalFacade) {\n      // Creates workportal component\n      return self.processWorkportal(workportalFacade);\n\n    }).done(function (content) {\n      // Resolve deferred\n      defer.resolve(content);\n\n    });\n\n    return defer.promise();\n  },\n\n  processOfflineData: function processOfflineData() {\n    var self = this;\n\n    if (typeof self.dataService.fetchOfflineData != \"undefined\" && self.dataService.online == true) {\n      $.when(self.dataService.pushOfflineData()).always(function () {\n        self.dataService.fetchOfflineData();\n      });\n    }\n\n  },\n\n  /*\r\n      *   Process a webpart\r\n      */\n  processWebpart: function processWebpart(params) {\n    var self = this;\n    var facade;\n    var defer = new $.Deferred();\n    var webpartController;\n    var realDevice = bizagi.detectRealDevice();\n    facade = this.deviceFactory.getWorkportalFacade(self.dataService, false);\n\n    // Combine workportal params with call params\n    $.extend(params, this.defaultParams);\n\n    // Set callback when requests have been done\n    $.when(facade).\n    pipe(function (workportalFacade) {\n\n      var deferTemplates = new $.Deferred();\n\n      // Load webpart templates\n      $.when(workportalFacade.loadWebpart(params)).\n      done(function () {\n        deferTemplates.resolve(workportalFacade);\n      });\n\n      return deferTemplates.promise();\n    }).\n    pipe(function (workportalFacade) {\n      webpartController = workportalFacade.getWebpart(params.webpart, params);\n\n      // Render the full content\n      return webpartController.render(params);\n    }).done(function (content) {\n\n      // Resolve deferred \n      defer.resolve({ webpart: webpartController, content: content });\n\n    });\n    return defer.promise();\n  },\n\n  /**\r\n      * Process the workportal layout\r\n      */\n  processWorkportal: function processWorkportal(workportalFacade) {\n    var self = this;\n    var controller = this.mainController = workportalFacade.getMainController();\n    var defer = new $.Deferred();\n    // Render the full content\n    return controller.render().then(function (result) {\n      $.when(controller.menu.isRendered()).then(function () {\n        var widgetNameToLoad = self.getWidgetByDataUser(self.defaultParams);\n        if (widgetNameToLoad === \"projectDashboard\" && self.defaultParams.caseLink) {\n          var actionObject = {\n            action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n            idCase: bizagi.util.getQueryString().idCase,\n            guid: bizagi.util.getQueryString().guid,\n            caseLink: true };\n\n          if (typeof bizagi.util.getQueryString().idWorkitem != \"undefined\") actionObject.idWorkItem = bizagi.util.getQueryString().idWorkitem;\n          controller.publish(\"executeAction\", actionObject);\n        } else\n        if (widgetNameToLoad === bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX && bizagi.util.getQueryString().action !== undefined) {\n          controller.setWidget($.extend(self.defaultParams, {\n            widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID },\n          bizagi.util.getQueryString()));\n        } else\n        {\n          controller.setWidget($.extend(self.defaultParams, {\n            widgetName: widgetNameToLoad },\n          bizagi.util.getQueryString()));\n        }\n\n        // Perform resize\n        if (controller.menu) {\n          controller.menu.performResizeLayout();\n          if (widgetNameToLoad === bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX ||\n          widgetNameToLoad === bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID) {\n            self.mainController.publish(\"showMainMenu\");\n          }\n        }\n      });\n      return result;\n    });\n  },\n\n  /**\r\n      * Get widget to load\r\n      * @returns {bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID|*}\r\n      */\n  getWidgetByDataUser: function getWidgetByDataUser() {\n    var self = this;\n    var widget = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID;\n    var bizagiDefaultWidget = self.defaultWidget !== \"projectDashboard\" ? bizagi.util.defaultWidget() : \"projectDashboard\";\n\n    var propertyLandingPage = \"\";\n    var userDisplayOptions = JSON.parse(bizagi.cookie(\"bizagiUserDisplayOptions\"));\n    if (userDisplayOptions && userDisplayOptions.startPage) {\n      propertyLandingPage = { key: \"userstartpage\", value: userDisplayOptions.startPage };\n    } else if (bizagi.currentUser.sUserProperties) {\n      for (var i = 0, j = bizagi.currentUser.sUserProperties.length; i < j; i++) {\n        if (bizagi.currentUser.sUserProperties[i].key === \"userstartpage\") {\n          propertyLandingPage = bizagi.currentUser.sUserProperties[i];\n          break;\n        }\n      }\n    }\n\n\n    if (bizagiDefaultWidget != bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX && bizagiDefaultWidget != bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID && bizagiDefaultWidget != bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL) {\n      widget = bizagiDefaultWidget;\n    } else {\n      /*\r\n             Values userstartpage property\r\n             1. \"\" -> El usuario no ha configurado esta opción(usuario viejo).\r\n             2. \"1\" -> Automatic\r\n             3. \"2\" -> Me\r\n             4. \"3\" -> Inbox\r\n             */\n      if (typeof propertyLandingPage === \"undefined\" || propertyLandingPage === \"\" || propertyLandingPage.value === \"\" || propertyLandingPage.value === \"1\") {\n        widget = self.getWidgetByCookieAndStakeholders();\n      } else\n      if (propertyLandingPage.value === \"2\" && self.currentUserHaveStakeholderAssociated()) {\n        widget = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL;\n      } else\n      if (propertyLandingPage.value === \"2\" && !self.currentUserHaveStakeholderAssociated()) {\n        widget = self.getWidgetByCookie(true);\n      } else\n      if (propertyLandingPage.value === \"3\") {\n        widget = self.getWidgetByCookie(true);\n      }\n    }\n    return widget;\n  },\n\n  /**\r\n      * Get widget considering stakeholders\r\n      * @returns {*}\r\n      */\n  getWidgetByCookieAndStakeholders: function getWidgetByCookieAndStakeholders() {\n    var self = this;\n    return self.getWidgetByCookie(false);\n  },\n\n  /**\r\n      * Validate if current user have stakeholder associated\r\n      * @returns {bizagi.currentUser.associatedStakeholders|*|boolean}\r\n      */\n  currentUserHaveStakeholderAssociated: function currentUserHaveStakeholderAssociated() {\n    return bizagi.currentUser.associatedStakeholders && bizagi.currentUser.associatedStakeholders.length > 0;\n  },\n\n  /**\r\n      * Get widget by cookie\r\n      * @param forceInboxOrGrid\r\n      * @returns {*}\r\n      */\n  getWidgetByCookie: function getWidgetByCookie(forceInboxOrGrid) {\n    var self = this;\n    var bizagiDefaultWidget = bizagi.util.defaultWidget();\n    var response;\n    if (forceInboxOrGrid) {\n      if (bizagiDefaultWidget === bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX ||\n      bizagiDefaultWidget === bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID) {\n\n        response = bizagiDefaultWidget;\n\n      } else {\n        response = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID;\n      }\n    } else\n    {\n      if (self.currentUserHaveStakeholderAssociated()) {\n        response = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL;\n      } else\n      {\n        if (bizagiDefaultWidget &&\n        bizagiDefaultWidget === bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX ||\n        bizagiDefaultWidget === bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID) {\n          response = bizagiDefaultWidget;\n        } else\n        {\n          response = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID;\n        }\n      }\n    }\n    return response;\n  },\n\n  /**\r\n      * Returns the main controller\r\n      */\n  getMainController: function getMainController() {\n    return this.mainController;\n  } });","/*\r\n*   Name: BizAgi Workportal Main Controller\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a base class to handle workportal layouts for any device\r\n*/\n\n$.Class.extend(\"bizagi.workportal.controllers.controller\", {}, {\n\n  /**\r\n                                                                 *   Constructor\r\n                                                                 */\n  init: function init(workportalFacade, dataService) {\n    // Set workportal facade\n    this.workportalFacade = workportalFacade;\n\n    // Set data service\n    this.dataService = dataService;\n\n    // Set l10n service\n    this.resources = bizagi.localization;\n\n    // Set a component container hash to use with templates\n    this.componentContainers = {};\n\n    // Define an object to hold the subscribe collection\n    this.subscribers = [];\n\n    // Flag to check if the element is disposed\n    this.disposed = false;\n\n    // Define an object to hold the templates used in the widget\n    this.tmpl = {};\n\n    //Define deferred to know if the templates were loaded\n    this.templatesDeferred = null;\n  },\n\n  /*\r\n     *   Returns the current workportal\r\n     */\n  getWorkportal: function getWorkportal() {\n    return this.workportalFacade.workportal;\n  },\n\n  /**\r\n     *   Publish an event so any controller can subscribe to it\r\n     */\n  publish: function publish(eventName, params) {\n    if (this.disposed) return null;\n    return $(document).triggerHandler(eventName, params);\n  },\n\n  /**\r\n     *   Subscribe to an event that any controller could trigger\r\n     */\n  subscribe: function subscribe(eventName, callback) {\n    if (this.disposed) return null;\n    $(document).bind(eventName, callback);\n    this.subscribers.push({ event: eventName });\n  },\n\n  /**\r\n     *   Subscribe to one time event that any controller could trigger\r\n     */\n  subscribeOneTime: function subscribeOneTime(eventName, callback) {\n    if (this.disposed) return null;\n    $(document).one(eventName, callback);\n    this.subscribers.push({ event: eventName });\n  },\n\n  /**\r\n     *   Un Subscribe to an event that any controller could trigger in this document\r\n     */\n  unsubscribe: function unsubscribe(eventName, callback) {\n    if (this.disposed) return null;\n    if (callback) {\n      $(document).unbind(eventName, callback);\n    } else\n    {$(document).unbind(eventName);}\n  },\n\n  /**\r\n     *   Makes the base processing of the layout (mix templates + data)\r\n     *   after all that processing will call a post-render method to\r\n     *   be implemented in each device to apply custom plugins\r\n     *   Returns a promise because the rendering could be asynchronous\r\n     */\n  render: function render() {\n    var self = this;\n    var defer = new $.Deferred();\n    self.renderingDeferred = new $.Deferred();\n\n    // Render content\n    $.when(self.areTemplatedLoaded()).\n    pipe(function () {\n      return self.renderContent();\n    }).\n    done(function () {\n\n      // Call post-render method\n      self.postRender();\n\n      // Resolve deferred\n      defer.resolve(self.getContent());\n      self.renderingDeferred.resolve();\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Returs the rendered content\r\n     */\n  getContent: function getContent() {\n    return this.content;\n  },\n\n  /*\r\n     *   Returns the mapped resource\r\n     */\n  getResource: function getResource(key, defaultValue) {\n    return this.resources.getResource(key, defaultValue);\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     *\r\n     */\n  renderContent: function renderContent() {\n    // Override on implementations\n    return \"\";\n  },\n\n\n  /*\r\n     *   To be overriden in each device to apply layouts\r\n     */\n  postRender: function postRender() {},\n\n  /*\r\n                                        *   Returns the component replaced tag selector\r\n                                        */\n  getComponentSelector: function getComponentSelector(component) {\n    return \"[data-bizagi-component=\" + component + \"]\";\n  },\n\n  /*\r\n     *   Returns the component replaced tag selector\r\n     */\n  getComponentContainer: function getComponentContainer(component) {\n    var self = this;\n    var content = self.getContent();\n    if (!content || content.length == 0) return null;\n\n    // Find component parent and cache it\n    //var componentElement = self.componentContainers[component];\n    //if (componentElement == null) {\n    // Find the component inside the main content\n    //componentElement = $(self.getComponentSelector(component), content);\n\n    // If still not found, try to check if content element is the component\n    //  if (componentElement.length == 0 && content.is(self.getComponentSelector(component))) {\n    //      componentElement = content;\n    //  }\n\n    // Cache the component\n    // self.componentContainers[component] = componentElement;\n    //}\n    //return self.componentContainers[component];\n    return $(self.getComponentSelector(component), content);\n  },\n\n  /*\r\n     *   Asks for a full resize\r\n     */\n  resizeLayout: function resizeLayout() {\n    this.publish(\"resizeLayout\");\n  },\n\n  /*\r\n     * Do stuff when a resize has been triggered\r\n     */\n  performResizeLayout: function performResizeLayout() {},\n\n  /*\r\n                                                          *   Disposes the widget\r\n                                                          */\n  dispose: function dispose() {\n    var self = this;\n\n    if (self.subscribers != null) {\n      // Remove all subcriptions\n      $.each(self.subscribers, function (i, item) {\n        self.unsubscribe(item.event);\n      });\n    }\n\n    setTimeout(function () {\n      bizagi.util.dispose(self);\n      self.disposed = true;\n    }, bizagi.override.disposeTime || 50);\n  },\n\n\n  /*\r\n     * Loads dinamically a set of templates\r\n     */\n  loadTemplates: function loadTemplates(templates) {\n    var self = this,\n    def = self.templatesDeferred = new $.Deferred(),\n    tmplPromises = [];\n\n    var useNewEngine = templates.useNewEngine != undefined ? templates.useNewEngine : true;\n\n    for (var name in templates) {\n      if (name != \"useNewEngine\") {\n        tmplPromises.push(\n        self.loadTemplate({\n          \"name\": name,\n          \"path\": templates[name],\n          \"useNewEngine\": useNewEngine }));\n\n\n      }\n    }\n\n    $.when.apply($, tmplPromises).\n    done(function () {\n      def.resolve();\n    });\n\n    return def.promise();\n  },\n\n\n  /*\r\n     * Loads template \r\n     */\n  loadTemplate: function loadTemplate(data) {\n    var self = this;\n\n    if (self.tmpl[data.name]) {\n      return self.tmpl[data.name];\n    } else {\n      if (data.useNewEngine) {\n        return bizagi.templateService.getTemplateWidget(data.path).\n        done(function (tmpl) {\n          self.tmpl[data.name] = tmpl;\n        });\n      }\n\n      return bizagi.templateService.getTemplate(data.path).\n      done(function (tmpl) {\n        self.tmpl[data.name] = tmpl;\n      });\n\n    }\n  },\n\n  /*\r\n     * Gets template \r\n     */\n  getTemplate: function getTemplate(name) {\n    if (this.tmpl.hasOwnProperty(name)) {\n      return this.tmpl[name];\n    }\n    return null;\n\n  },\n\n  /*\r\n     * Returns a promise, it is resoved when the widget is rendered\r\n     */\n  isRendered: function isRendered() {\n    var self = this;\n\n    if (!self.renderingDeferred) {\n      return false;\n    }\n    return self.renderingDeferred.promise();\n  },\n\n  /*\r\n     *\r\n     */\n  areTemplatedLoaded: function areTemplatedLoaded() {\n    return this.templatesDeferred;\n  } });","/***\r\n@title:\r\nImage Zoom\r\n\r\n@version:\r\n2.0\r\n\r\n@author:\r\nAndreas Lagerkvist\r\n\r\n@date:\r\n2008-08-31\r\n\r\n@url:\r\nhttp://andreaslagerkvist.com/jquery/image-zoom/\r\n\r\n@license:\r\nhttp://creativecommons.org/licenses/by/3.0/\r\n\r\n@copyright:\r\n2008 Andreas Lagerkvist (andreaslagerkvist.com)\r\n\r\n@requires:\r\njquery, jquery.imageZoom.css, jquery.imageZoom.png\r\n\r\n@does:\r\nThis plug-in makes links pointing to images open in the \"Image Zoom\". Clicking a link will zoom out the clicked image to its target-image. Click anywhere on the image or the close-button to zoom the image back in. Only ~3k minified.\r\n\r\n@howto:\r\njQuery(document.body).imageZoom(); Would make every link pointing to an image in the document open in the zoom.\r\n\r\n@exampleHTML:\r\n<ul>\r\n\t<li><a href=\"http://exscale.se/__files/3d/bloodcells.jpg\">Bloodcells</a></li>\r\n\t<li><a href=\"http://exscale.se/__files/3d/x-wing.jpg\">X-Wing</a></li>\r\n\t<li><a href=\"http://exscale.se/__files/3d/weve-moved.jpg\">We've moved</a></li>\r\n</ul>\r\n\r\n<ul>\r\n\t<li><a href=\"http://exscale.se/__files/3d/lamp-and-mates/lamp-and-mates-01.jpg\"><img src=\"http://exscale.se/__files/3d/lamp-and-mates/lamp-and-mates-01_small.jpg\" alt=\"Lamp and Mates\" /></a></li>\r\n\t<li><a href=\"http://exscale.se/__files/3d/stugan-winter.jpg\"><img src=\"http://exscale.se/__files/3d/stugan-winter_small.jpg\" alt=\"The Cottage - Winter time\" /></a></li>\r\n\t<li><a href=\"http://exscale.se/__files/3d/ps2.jpg\"><img src=\"http://exscale.se/__files/3d/ps2_small.jpg\" alt=\"PS2\" /></a></li>\r\n</ul>\r\n\r\n@exampleJS:\r\n// I don't run it because my site already uses imgZoom\r\n// jQuery(document.body).imageZoom();\r\n***/\njQuery.fn.imageZoom = function (conf) {\n  // Some config. If you set dontFadeIn: 0 and hideClicked: 0 imgzoom will act exactly like fancyzoom\n  var config = jQuery.extend({\n    speed: 200, // Animation-speed of zoom\n    dontFadeIn: 1, // 1 = Do not fade in, 0 = Do fade in\n    hideClicked: 1, // Whether to hide the image that was clicked to bring up the imgzoom\n    imageMargin: 30, // Margin from image-edge to window-edge if image is larger than screen\n    className: 'jquery-image-zoom',\n    loading: 'Loading...' },\n  conf);\n  config.doubleSpeed = config.speed / 4; // Used for fading in the close-button\n\n  return this.click(function (e) {\n    // Make sure the target-element is a link (or an element inside a link)\n    var clickedElement = jQuery(e.target); // The element that was actually clicked\n    var clickedLink = clickedElement.is('a') ? clickedElement : clickedElement.parents('a'); // If it's not an a, check if any of its parents is\n    clickedLink = clickedLink && clickedLink.is('a') ? clickedLink : false; // If it was an a or child of an a, make sure it points to an image\n\n    if (!clickedLink) {\n      // Check if its image with src\n      clickedLink = clickedElement || false;\n    }\n    var clickedImg = clickedElement; // || (clickedLink && clickedLink.find('img').length) ? clickedLink.find('img') : false; // See if the clicked link contains and image\n\n    // Only continue if a link pointing to an image was clicked\n    if (clickedLink) {\n      // These functions are used when the imaeg starts and stops loading (displays either 'loading..' or fades out the clicked img slightly)\n      clickedLink.oldText = clickedLink.text();\n\n      clickedLink.setLoadingImg = function () {\n        if (clickedImg) {\n          clickedImg.css({\n            opacity: '0.5' });\n\n        } else\n        {\n          clickedLink.text(config.loading);\n        }\n      };\n\n      clickedLink.setNotLoadingImg = function () {\n        if (clickedImg) {\n          clickedImg.css({\n            opacity: '1' });\n\n        } else\n        {\n          clickedLink.text(clickedLink.oldText);\n        }\n      };\n\n      // The URI to the image we are going to display\n      var displayImgSrc = clickedLink.attr('href') || clickedLink.attr('src');\n\n      // If an imgzoom wiv this image is already open dont do nathin\n      if (jQuery('div.' + config.className + ' img[src=\"' + displayImgSrc + '\"]').length) {\n        return false;\n      }\n\n      // This function is run once the displayImgSrc-img has loaded (below)\n      var preloadOnload = function preloadOnload(pload) {\n        // The clicked-link is faded out during loading, fade it back in\n        clickedLink.setNotLoadingImg();\n\n        // Now set some vars we need\n        var dimElement = clickedImg ? clickedImg : clickedLink; // The element used to retrieve dimensions of imgzoom before zoom (either clicked link or img inside)\n        var hideClicked = clickedImg ? config.hideClicked : 0; // Whether to hide clicked link (set in config but always true for non-image-links)\n        var offset = dimElement.offset(); // Offset of clicked link (or image inside)\n        var imgzoomBefore = { // The dimensions of the imgzoom _before_ it is zoomed out\n          width: dimElement.outerWidth(),\n          height: dimElement.outerHeight(),\n          left: offset.left,\n          top: offset.top /*, \r\n                          opacity:\tconfig.dontFadeIn*/ };\n\n        var imgzoom = jQuery('<div><img src=\"' + displayImgSrc + '\" alt=\"\"/></div>').css('position', 'absolute').appendTo(document.body); // We don't want any class-name or any other contents part from the image when we calculate the new dimensions of the imgzoom\n        var imgzoomAfter = { // The dimensions of the imgzoom _after_ it is zoomed out\n          width: pload.width,\n          height: pload.height /*, \r\n                               opacity:\t1*/ };\n\n        var windowDim = {\n          width: jQuery(window).width(),\n          height: jQuery(window).height() };\n\n        // Make sure imgzoom isn't wider than screen\n        if (imgzoomAfter.width > windowDim.width - config.imageMargin * 2) {\n          var nWidth = windowDim.width - config.imageMargin * 2;\n          imgzoomAfter.height = nWidth / imgzoomAfter.width * imgzoomAfter.height;\n          imgzoomAfter.width = nWidth;\n        }\n        // Now make sure it isn't taller\n        if (imgzoomAfter.height > windowDim.height - config.imageMargin * 2) {\n          var nHeight = windowDim.height - config.imageMargin * 2;\n          imgzoomAfter.width = nHeight / imgzoomAfter.height * imgzoomAfter.width;\n          imgzoomAfter.height = nHeight;\n        }\n        // Center imgzoom\n        imgzoomAfter.left = (windowDim.width - imgzoomAfter.width) / 2 + jQuery(window).scrollLeft();\n        imgzoomAfter.top = (windowDim.height - imgzoomAfter.height) / 2 + jQuery(window).scrollTop();\n        var closeButton = jQuery('<a href=\"#\">Close</a>').appendTo(imgzoom).hide(); // The button that closes the imgzoom (we're adding this after the calculation of the dimensions)\n\n        // Hide the clicked link if set so in config\n        if (hideClicked) {\n          clickedLink.css('visibility', 'hidden');\n        }\n\n        // Now animate the imgzoom from its small size to its large size, and then fade in the close-button\n        imgzoom.addClass(config.className).css(imgzoomBefore).animate(imgzoomAfter, config.speed, function () {\n          closeButton.fadeIn(config.doubleSpeed);\n        });\n\n        if (typeof config.zIndex === \"number\") {\n          $(imgzoom).css(\"z-index\", config.zIndex);\n        }\n\n        // This function closes the imgzoom\n        var hideImgzoom = function hideImgzoom() {\n          closeButton.fadeOut(config.doubleSpeed, function () {\n            imgzoom.animate(imgzoomBefore, config.speed, function () {\n              $(\"body\", window.document).off(\"click\");\n\n              clickedLink.css('visibility', 'visible');\n              imgzoom.remove();\n            });\n          });\n\n          return false;\n        };\n\n        // Close imgzoom when you click the closeButton or the imgzoom                \n        imgzoom.click(hideImgzoom);\n        closeButton.click(hideImgzoom);\n        $(\"body\", window.document).on(\"click\", hideImgzoom);\n\n      };\n\n      // Preload image\n      var preload = new Image();\n\n      preload.src = displayImgSrc;\n\n      if (preload.complete) {\n        preloadOnload(preload);\n      } else {\n        clickedLink.setLoadingImg();\n\n        preload.onload = function () {\n          preloadOnload(preload);\n        };\n      }\n\n      // Finally return false from the click so the browser doesn't actually follow the link...\n      return false;\n    }\n  });\n};\n\n// Close image zooms when user hits esc\n$(document).keydown(function (e) {\n  if (e.keyCode == 27) {\n    $(\"div.jquery-image-zoom a\").click();\n  }\n});","/*\r\n* jQuery UI Check @VERSION\r\n* Author: Diego Parra\r\n* Based on http://www.filamentgroup.com/lab/accessible_custom_designed_checkbox_radio_button_inputs_styled_css_jquery/ plugin\r\n* Copyright (c) 2010 (http://www.bizagi.com)\r\n*\r\n* Depends:\r\n*  ui.core.js\r\n*/\n(function ($) {\n\n  $.widget('ui.check', {\n    _create: function _create() {\n      var self = this,\n      element = this.element,\n      options = self.options;\n\n      // Get the associated label using the input's id\n      var label = this.element;\n      var input = self.input = $(\"input[type=checkbox]\", label);\n\n      if (label.attr(\"for\") != input.attr(\"id\")) {\n        alert(\"label and input element are not related in label:\" + label.attr(\"id\"));\n        return;\n      }\n\n      // Wrap the input + label in a div \n      input.detach();\n      label.wrap('<div class=\"ui-checkbox\"></div>');\n      input.insertBefore(label);\n\n      // Necessary for browsers that don't support the :hover pseudo class on labels\n      label.hover(\n      function () {\n        $(this).addClass('ui-checkbox-state-hover');\n        if (input.is(':checked')) {\n          $(this).addClass('ui-checkbox-state-checked');\n        }\n      },\n      function () {\n        $(this).removeClass('ui-checkbox-state-hover');\n      });\n\n\n      // Bind custom event, trigger it, bind click,focus,blur events\t\t\t\t\t\n      input.bind('update', function (ev, args) {\n        var triggerChange = args && args.triggerChange !== undefined ? args.triggerChange : true;\n\n        if (input.is(':checked')) {\n          label.addClass('ui-checkbox-state-checked');\n        } else {\n          label.removeClass('ui-checkbox-state-highlight ui-checkbox-state-checked ui-checkbox-state-hover');\n        }\n\n        // Trigger change event\n        if (triggerChange) self._trigger(\"change\", window.event, { value: input.is(':checked') });\n      }).\n      trigger('update').\n      click(function () {\n        $(this).trigger('update');\n      }).\n      focus(function () {\n        if (input.is(':checked')) {\n          label.addClass('ui-checkbox-state-highlight');\n        }\n      }).\n      blur(function () {\n        label.removeClass('ui-checkbox-state-highlight');\n      });\n    },\n\n    checkItem: function checkItem(triggerChange) {\n      var self = this;\n      self.input.attr(\"checked\", true);\n      self.input.prop(\"checked\", true);\n      self.input.trigger('update', { triggerChange: triggerChange });\n    },\n\n    uncheckItem: function uncheckItem(triggerChange) {\n      var self = this;\n      self.input.attr(\"checked\", false);\n      self.input.prop(\"checked\", false);\n      self.input.trigger('update', { triggerChange: triggerChange });\n    } });\n\n\n  $.extend($.ui.check, {\n    version: \"@VERSION\",\n    eventPrefix: \"check\" });\n\n\n})(jQuery);","/*\r\n* jQuery UI selectmenu\r\n*\r\n* Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)\r\n* Dual licensed under the MIT (MIT-LICENSE.txt)\r\n* and GPL (GPL-LICENSE.txt) licenses.\r\n*\r\n* http://docs.jquery.com/UI\r\n*/\n\n\n\n\n\n(function ($) {\n  $.widget(\"ui.selectmenu\", {\n    getter: \"value\",\n    version: \"1.8\",\n    eventPrefix: \"selectmenu\",\n    options: {\n      transferClasses: true,\n      style: 'popup',\n      width: null,\n      menuWidth: null,\n      handleWidth: 26,\n      maxHeight: null,\n      icons: null,\n      format: null },\n\n\n    _create: function _create() {\n      var self = this,o = this.options;\n\n      //quick array of button and menu id's\n      this.ids = [this.element.attr('id') + '-' + 'button', this.element.attr('id') + '-' + 'menu'];\n\n      //define safe mouseup for future toggling\n      this._safemouseup = true;\n\n      //create menu button wrapper\n      this.newelement = $('<a class=\"' + this.widgetFullName + ' ui-widget ui-state-default ui-corner-all\" id=\"' + this.ids[0] + '\" role=\"button\" href=\"#\" aria-haspopup=\"true\" aria-owns=\"' + this.ids[1] + '\"></a>').\n      insertAfter(this.element);\n\n      //transfer tabindex\n      var tabindex = this.element.attr('tabindex');\n      if (tabindex) {this.newelement.attr('tabindex', tabindex);}\n\n      //save reference to select in data for ease in calling methods\n      this.newelement.data('selectelement', this.element);\n\n      //menu icon\n      this.selectmenuIcon = $('<span class=\"' + this.widgetFullName + '-icon ui-icon\"></span>').\n      prependTo(this.newelement).\n      addClass(o.style == \"popup\" ? 'ui-icon-triangle-2-n-s' : 'ui-icon-triangle-1-s');\n\n\n      //make associated form label trigger focus\n\n      $('label[for=' + this.element.attr('id') + ']').\n      attr('for', this.ids[0]).\n      bind('click', function () {\n        try {\n          self.newelement[0].focus();\n        } catch (e) {}\n        return false;\n      });\n\n      //click toggle for menu visibility\n      this.newelement.\n      bind('mousedown', function (event) {\n        self._toggle(event);\n        //make sure a click won't open/close instantly\n        if (o.style == \"popup\") {\n          self._safemouseup = false;\n          setTimeout(function () {self._safemouseup = true;}, 300);\n        }\n        return false;\n      }).\n      bind('click', function () {\n        return false;\n      }).\n      keydown(function (event) {\n        var ret = true;\n        switch (event.keyCode) {\n          case $.ui.keyCode.ENTER:\n            ret = true;\n            break;\n          case $.ui.keyCode.SPACE:\n            ret = false;\n            self._toggle(event);\n            break;\n          case $.ui.keyCode.UP:\n          case $.ui.keyCode.LEFT:\n            ret = false;\n            // Next conditional prevents to close the combo\n            if (self.list.is('.ui-selectmenu-open')) {\n              self._moveSelection(-1);\n              self.open();\n            } else self._moveSelection(-1);\n            break;\n          case $.ui.keyCode.DOWN:\n          case $.ui.keyCode.RIGHT:\n            ret = false;\n            // Next conditional prevents to close the combo\n            if (self.list.is('.ui-selectmenu-open')) {\n              self._moveSelection(1);\n              self.open();\n            } else self._moveSelection(1);\n            break;\n          case $.ui.keyCode.TAB:\n            ret = true;\n            break;\n          default:\n            ret = false;\n            //self._typeAhead(event.keyCode, 'mouseup');\n            // Mouseup creates a problem on the first selectmenuOpen\n            self._typeAhead(event.keyCode, 'focus');\n            break;}\n\n        return ret;\n      }).\n      bind('mouseover focus', function () {\n        $(this).addClass(self.widgetFullName + '-focus ui-state-hover');\n      }).\n      bind('mouseout blur', function () {\n        $(this).removeClass(self.widgetFullName + '-focus ui-state-hover');\n      });\n\n      //document click closes menu\n      $(document).\n      mousedown(function (event) {\n        self.close(event);\n      });\n\n      //change event on original selectmenu\n      this.element.\n      click(function () {this._refreshValue();})\n      // newelement can be null under unclear circumstances in IE8 \n      .focus(function () {if (this.newelement) {this.newelement[0].focus();}});\n\n      //create menu portion, append to body\n      var cornerClass = o.style == \"dropdown\" ? \" ui-corner-bottom\" : \" ui-corner-all\";\n      this.list = $('<ul class=\"' + self.widgetFullName + '-menu ui-widget ui-widget-content' + cornerClass + '\" aria-hidden=\"true\" role=\"listbox\" aria-labelledby=\"' + this.ids[0] + '\" id=\"' + this.ids[1] + '\"></ul>').appendTo('body');\n      //serialize selectmenu element options\t\n      var selectOptionData = [];\n      this.element.\n      find('option').\n      each(function () {\n        selectOptionData.push({\n          value: $(this).attr('value'),\n          text: self._formatText(jQuery(this).text()),\n          selected: $(this).attr('selected'),\n          classes: $(this).attr('class'),\n          parentOptGroup: $(this).parent('optgroup').attr('label') });\n\n      });\n\n      //active state class is only used in popup style\n      var activeClass = self.options.style == \"popup\" ? \" ui-state-active\" : \"\";\n\n      //write li's\n      for (var i = 0; i < selectOptionData.length; i++) {\n        var thisLi = $('<li role=\"presentation\"><a href=\"#\" tabindex=\"-1\" role=\"option\" aria-selected=\"false\">' + selectOptionData[i].text + '</a></li>').\n        data('index', i).\n        addClass(selectOptionData[i].classes).\n        data('optionClasses', selectOptionData[i].classes || '').\n        mouseup(function (event) {\n          if (self._safemouseup) {\n            var changed = $(this).data('index') != self._selectedIndex();\n            self.index($(this).data('index'));\n            self.select(event);\n            if (changed) {self.change(event);}\n            self.close(event, true);\n          }\n          return false;\n        }).\n        click(function () {\n          return false;\n        }).\n        bind('mouseover focus', function () {\n          self._selectedOptionLi().addClass(activeClass);\n          self._focusedOptionLi().removeClass(self.widgetFullName + '-item-focus ui-state-hover');\n          $(this).removeClass('ui-state-active').addClass(self.widgetFullName + '-item-focus ui-state-hover');\n        }).\n        bind('mouseout blur', function () {\n          if ($(this).is(self._selectedOptionLi())) {$(this).addClass(activeClass);}\n          if (!$.browser.msie) $(this).removeClass(self.widgetFullName + '-item-focus ui-state-hover');\n        });\n\n        //optgroup or not...\n        if (selectOptionData[i].parentOptGroup) {\n          // whitespace in the optgroupname must be replaced, otherwise the li of existing optgroups are never found\n          var optGroupName = self.widgetFullName + '-group-' + selectOptionData[i].parentOptGroup.replace(/[^a-zA-Z0-9]/g, \"\");\n          if (this.list.find('li.' + optGroupName).size()) {\n            this.list.find('li.' + optGroupName + ':last ul').append(thisLi);\n          } else\n          {\n            $('<li role=\"presentation\" class=\"' + self.widgetFullName + '-group ' + optGroupName + '\"><span class=\"' + self.widgetFullName + '-group-label\">' + selectOptionData[i].parentOptGroup + '</span><ul></ul></li>').\n            appendTo(this.list).\n            find('ul').\n            append(thisLi);\n          }\n        } else\n        {\n          thisLi.appendTo(this.list);\n        }\n\n        //this allows for using the scrollbar in an overflowed list\n        this.list.bind('mousedown mouseup', function () {return false;});\n\n        //append icon if option is specified\n        if (o.icons) {\n          for (var j in o.icons) {\n            if (thisLi.is(o.icons[j].find)) {\n              thisLi.\n              data('optionClasses', selectOptionData[i].classes + ' ' + self.widgetFullName + '-hasIcon').\n              addClass(self.widgetFullName + '-hasIcon');\n              var iconClass = o.icons[j].icon || \"\";\n\n              thisLi.\n              find('a:eq(0)').\n              prepend('<span class=\"' + self.widgetFullName + '-item-icon ui-icon ' + iconClass + '\"></span>');\n            }\n          }\n        }\n      }\n\n      //add corners to top and bottom menu items\n      this.list.find('li:last').addClass(\"ui-corner-bottom\");\n      if (o.style == 'popup') {this.list.find('li:first').addClass(\"ui-corner-top\");}\n\n      //transfer classes to selectmenu and list\n      if (o.transferClasses) {\n        var transferClasses = this.element.attr('class') || '';\n        this.newelement.add(this.list).addClass(transferClasses);\n      }\n\n      //original selectmenu width\n      var clonedSelect = this.element.clone().appendTo(\"body\");\n      var selectWidth = clonedSelect.css({ position: \"absolute\", visibility: \"hidden\", display: \"block\" }).width();\n      clonedSelect.remove();\n\n      //set menu button width\n      this.newelement.width(o.width ? o.width : selectWidth);\n\n      //set menu width to either menuWidth option value, width option value, or select width \n      if (o.style == 'dropdown') {this.list.width(o.menuWidth ? o.menuWidth : o.width ? o.width : selectWidth);} else\n      {this.list.width(o.menuWidth ? o.menuWidth : o.width ? o.width - o.handleWidth : selectWidth - o.handleWidth);}\n\n      //set max height from option \n      if (o.maxHeight && o.maxHeight < this.list.height()) {this.list.height(o.maxHeight);}\n\n      //save reference to actionable li's (not group label li's)\n      this._optionLis = this.list.find('li:not(.' + self.widgetFullName + '-group)');\n\n      //transfer menu click to menu button\n      this.list.\n      keydown(function (event) {\n        var ret = true;\n        switch (event.keyCode) {\n          case $.ui.keyCode.UP:\n          case $.ui.keyCode.LEFT:\n            ret = false;\n            //self._moveFocus(-1);\n            self._moveSelection(-1);\n            self.open();\n            break;\n          case $.ui.keyCode.DOWN:\n          case $.ui.keyCode.RIGHT:\n            ret = false;\n            //self._moveFocus(1);\n            self._moveSelection(1);\n            self.open();\n            break;\n          case $.ui.keyCode.HOME:\n            ret = false;\n            self._moveFocus(':first');\n            break;\n          case $.ui.keyCode.PAGE_UP:\n            ret = false;\n            self._scrollPage('up');\n            break;\n          case $.ui.keyCode.PAGE_DOWN:\n            ret = false;\n            self._scrollPage('down');\n            break;\n          case $.ui.keyCode.END:\n            ret = false;\n            self._moveFocus(':last');\n            break;\n          case $.ui.keyCode.ENTER:\n          case $.ui.keyCode.SPACE:\n            ret = false;\n            self.close(event, true);\n            $(event.target).parents('li:eq(0)').trigger('mouseup');\n            break;\n          case $.ui.keyCode.TAB:\n            ret = true;\n            self.close(event, true);\n            break;\n          case $.ui.keyCode.ESCAPE:\n            ret = false;\n            self.close(event, true);\n            break;\n          default:\n            ret = false;\n            self._typeAhead(event.keyCode, 'focus');\n            break;}\n\n        return ret;\n      });\n\n      //selectmenu style\n      if (o.style == 'dropdown') {\n        this.newelement.\n        addClass(self.widgetFullName + \"-dropdown\");\n        this.list.\n        addClass(self.widgetFullName + \"-menu-dropdown\");\n      } else\n      {\n        this.newelement.\n        addClass(self.widgetFullName + \"-popup\");\n        this.list.\n        addClass(self.widgetFullName + \"-menu-popup\");\n      }\n\n      //append status span to button\n      if (this._selectedIndex() && this._selectedIndex() != -1) {\n        this.newelement.prepend('<span class=\"' + self.widgetFullName + '-status\">' + selectOptionData[this._selectedIndex()].text + '</span>');\n      } else {\n        this.newelement.prepend('<span class=\"' + self.widgetFullName + '-status\"></span>');\n      }\n\n      //hide original selectmenu element\n      this.element.hide();\n\n      //transfer disabled state\n      if (this.element.attr('disabled') == true) {this.disable();}\n\n      //update value\n      this.index(this._selectedIndex());\n\n      // needed to make menu work when placed at the very bottom of a site\n      setTimeout(function () {self._refreshPosition();}, 200);\n\n      // needed when window is resized\n      $(window).resize(function () {\n        self._refreshPosition();\n      });\n    },\n    destroy: function destroy() {\n      this.element.removeData(this.widgetName).\n      removeClass(this.widgetFullName + '-disabled' + ' ' + this.namespace + '-state-disabled').\n      removeAttr('aria-disabled');\n\n      //unbind click on label, reset its for attr\n      var label = $('label[for=' + this.newelement.attr('id') + ']').\n      attr('for', this.element.attr('id'));\n      if (label) label.unbind('click');\n      this.newelement.remove();\n      this.list.remove();\n      this.element.show();\n    },\n    _typeAhead: function _typeAhead(code, eventType) {\n      var self = this;\n      //define self._prevChar if needed\n      if (!self._prevChar) {self._prevChar = ['', 0];}\n      var C = String.fromCharCode(code);\n      c = C.toLowerCase();\n      var focusFound = false;\n      function focusOpt(elem, ind) {\n        focusFound = true;\n        $(elem).trigger(eventType);\n        self._prevChar[1] = ind;\n      };\n      this.list.find('li a').each(function (i) {\n        if (!focusFound) {\n          var thisText = $(this).text();\n          if (thisText.indexOf(C) == 0 || thisText.indexOf(c) == 0) {\n            if (self._prevChar[0] == C) {\n              if (self._prevChar[1] < i) {focusOpt(this, i);}\n            } else\n            {focusOpt(this, i);}\n          }\n        }\n      });\n      this._prevChar[0] = C;\n    },\n\n    _uiHash: function _uiHash() {\n      var index = this.index();\n      return {\n        index: index,\n        option: $(\"option\", this.element).get(index),\n        value: this.element[0].value };\n\n    },\n\n    open: function open(event) {\n      var self = this;\n      var disabledStatus = this.newelement.attr(\"aria-disabled\");\n      if (disabledStatus != 'true') {\n        this._refreshPosition();\n        this._closeOthers(event);\n        this.newelement.\n        addClass('ui-state-active');\n        this.list.\n        appendTo('body').\n        addClass(self.widgetFullName + '-open').\n        attr('aria-hidden', false);\n        if (this._selectedIndex() > 0) {\n          this.list.find('li:not(.' + self.widgetFullName + '-group):eq(' + this._selectedIndex() + ') a')[0].focus();\n        }\n        if (this.options.style == \"dropdown\") {this.newelement.removeClass('ui-corner-all').addClass('ui-corner-top');}\n        this._refreshPosition();\n        this._trigger(\"open\", event, this._uiHash());\n        // Added to focus the chosen element always you open\n        var activeID = this.widgetFullName + '-item-' + Math.round(Math.random() * 1000);\n        self._optionLis.eq(self._selectedIndex()).find('a:eq(0)').attr('id', activeID).focus();\n      }\n    },\n    close: function close(event, retainFocus) {\n      if (this.newelement.is('.ui-state-active')) {\n        this.newelement.\n        removeClass('ui-state-active');\n        this.list.\n        attr('aria-hidden', true).\n        removeClass(this.widgetFullName + '-open');\n        if (this.options.style == \"dropdown\") {this.newelement.removeClass('ui-corner-top').addClass('ui-corner-all');}\n        if (retainFocus) {this.newelement[0].focus();}\n        this._trigger(\"close\", event, this._uiHash());\n      }\n    },\n    change: function change(event) {\n      this.element.trigger('changeSelection');\n      this._trigger(\"changeSelection\", event, this._uiHash());\n    },\n    select: function select(event) {\n      this._trigger(\"select\", event, this._uiHash());\n    },\n    _closeOthers: function _closeOthers(event) {\n      $('.' + this.widgetFullName + '.ui-state-active').not(this.newelement).each(function () {\n        $(this).data('selectelement').selectmenu('close', event);\n      });\n      $('.' + this.widgetFullName + '.ui-state-hover').trigger('mouseout');\n    },\n    _toggle: function _toggle(event, retainFocus) {\n      if (this.list.is('.' + this.widgetFullName + '-open')) {this.close(event, retainFocus);} else\n      {this.open(event);}\n    },\n    _formatText: function _formatText(text) {\n      return this.options.format ? this.options.format(text) : text;\n    },\n    _selectedIndex: function _selectedIndex() {\n      return this.element[0].selectedIndex;\n    },\n    _selectedOptionLi: function _selectedOptionLi() {\n      // negative indexes are not supported\n      if (this._selectedIndex() < 0)\n      return $();\n\n      return this._optionLis.eq(this._selectedIndex());\n    },\n    _focusedOptionLi: function _focusedOptionLi() {\n      return this.list.find('.' + this.widgetFullName + '-item-focus');\n    },\n    _moveSelection: function _moveSelection(amt) {\n      var currIndex = parseInt(this._selectedOptionLi().data('index'), 10);\n      var newIndex = currIndex + amt;\n      return this._optionLis.eq(newIndex).trigger('mouseup');\n    },\n    _moveFocus: function _moveFocus(amt) {\n      if (!isNaN(amt)) {\n        var currIndex = parseInt(this._focusedOptionLi().data('index'), 10);\n        var newIndex = currIndex + amt;\n      } else\n      {var newIndex = parseInt(this._optionLis.filter(amt).data('index'), 10);}\n\n      if (newIndex < 0) {newIndex = 0;}\n      if (newIndex > this._optionLis.size() - 1) {\n        newIndex = this._optionLis.size() - 1;\n      }\n      var activeID = this.widgetFullName + '-item-' + Math.round(Math.random() * 1000);\n\n      this._focusedOptionLi().find('a:eq(0)').attr('id', '');\n      this._optionLis.eq(newIndex).find('a:eq(0)').attr('id', activeID)[0].focus();\n      this.list.attr('aria-activedescendant', activeID);\n    },\n\n\n    _scrollPage: function _scrollPage(direction) {\n\n      var numPerPage = Math.floor(this.list.outerHeight() / this.list.find('li:first').outerHeight());\n      numPerPage = direction == 'up' ? -numPerPage : numPerPage;\n      this._moveFocus(numPerPage);\n    },\n    _setData: function _setData(key, value) {\n      this.options[key] = value;\n      if (key == 'disabled') {\n        this.close();\n        this.element.\n        add(this.newelement).\n        add(this.list)[\n        value ? 'addClass' : 'removeClass'](\n        this.widgetFullName + '-disabled' + ' ' +\n        this.namespace + '-state-disabled').\n        attr(\"aria-disabled\", value);\n      }\n    },\n    _scrollPageInternal: function _scrollPageInternal()\n    {\n    },\n    index: function index(newValue) {\n      if (arguments.length) {\n        this.element[0].selectedIndex = newValue;\n        this._refreshValue();\n      } else {\n        return this._selectedIndex();\n      }\n    },\n\n    value: function value(newValue) {\n      if (arguments.length) {\n        this.element[0].value = newValue;\n        this._refreshValue();\n        this.select();\n      } else {\n        return this.element[0].value;\n      }\n    },\n\n    _refreshValue: function _refreshValue() {\n      var activeClass = this.options.style == \"popup\" ? \" ui-state-active\" : \"\";\n      var activeID = this.widgetFullName + '-item-' + Math.round(Math.random() * 1000);\n      //deselect previous\n      this.list.\n      find('.' + this.widgetFullName + '-item-selected').\n      removeClass(this.widgetFullName + \"-item-selected\" + activeClass).\n      find('a').\n      attr('aria-selected', 'false').\n      attr('id', '');\n      //select new\n      this._selectedOptionLi().\n      addClass(this.widgetFullName + \"-item-selected\" + activeClass).\n      find('a').\n      attr('aria-selected', 'true').\n      attr('id', activeID);\n\n      //toggle any class brought in from option\n      var currentOptionClasses = this.newelement.data('optionClasses') ? this.newelement.data('optionClasses') : \"\";\n      var newOptionClasses = this._selectedOptionLi().data('optionClasses') ? this._selectedOptionLi().data('optionClasses') : \"\";\n      this.newelement.\n      removeClass(currentOptionClasses).\n      data('optionClasses', newOptionClasses).\n      addClass(newOptionClasses).\n      find('.' + this.widgetFullName + '-status').\n      html(\n      this._selectedOptionLi().\n      find('a:eq(0)').\n      html());\n\n\n      this.list.attr('aria-activedescendant', activeID);\n    },\n    _refreshPosition: function _refreshPosition() {\n      //set left value\n      this.list.css('left', this.newelement.offset().left);\n\n      //set top value\n      var menuTop = this.newelement.offset().top;\n      var scrolledAmt = this.list[0].scrollTop;\n      this.list.find('li:lt(' + this._selectedIndex() + ')').each(function () {\n        scrolledAmt -= $(this).outerHeight();\n      });\n\n      if (this.newelement.is('.' + this.widgetFullName + '-popup')) {\n        menuTop += scrolledAmt;\n        this.list.css('top', menuTop);\n      } else\n      {\n        menuTop += this.newelement.height();\n        this.list.css('top', menuTop);\n      }\n    } });\n\n})(jQuery);","/*\r\n* jQuery UI Selectable @VERSION\r\n*\r\n* Copyright (c) 2009 AUTHORS.txt (http://ui.jquery.com/about)\r\n* Dual licensed under the MIT (MIT-LICENSE.txt)\r\n* and GPL (GPL-LICENSE.txt) licenses.\r\n*\r\n* http://docs.jquery.com/UI/Selectables\r\n*\r\n* Depends:\r\n*\tjquery.ui.core.js\r\n*\tjquery.ui.mouse.js\r\n*\tjquery.ui.widget.js\r\n*/\n(function ($) {\n\n  $.widget('ui.selectable2', $.ui.mouse, {\n\n    options: {\n      closest: true,\n      filter: '> *',\n      keyboard: true,\n      multiple: true,\n      lasso: {\n        cancel: \":input,option\",\n        delay: 0,\n        distance: 1,\n        tolerance: 'touch',\n        appendTo: 'body' } },\n\n\n\n    _init: function _init() {\n\n      var self = this;\n      this.items = $(this.options.filter, this.element);\n\n      this.element.addClass(\"ui-selectable ui-widget\");\n\n      //Set the currentFocus to the first item\n      this.currentFocus = this.items.eq(0).attr('tabindex', 0);\n\n      //Refresh item positions\n      this.refresh(1);\n\n      //Disable text selection\n      this.element.disableSelection();\n\n      //Prepare caret selection\n      if (this.options.lasso) {\n\n        // we need to move the lasso options onto the root options for the mouse class\n        if (this.options.lasso !== true) {\n          $.extend(this.options, this.options.lasso);\n        }\n\n        this._mouseInit();\n      }\n\n      this.element.\n      bind('mousedown.selectable', function (event) {\n\n        if (self.options.disabled)\n        return;\n\n        var item = self._targetIsItem(event.target);\n        if (!item) return;\n\n        // If item is part of current selection and current\n        // selection is multiple, return and allow mouseup\n        // to fire (Windows gets this right too, OSX doesn't)\n        if (self._selection.length > 1 && $(item).hasClass('ui-selected')) {\n          return self._listenForMouseUp = 1;\n        }\n\n        // Select the current item\n        if (self._mouseSelect(event, item) === true)\n        return true;\n\n      }).\n      bind('mouseup.selectable', function (event) {\n\n        if (self._listenForMouseUp) {\n          self._listenForMouseUp = 0;\n          var item = self._targetIsItem(event.target);\n          if (item && self._mouseSelect(event, item) === true)\n          return true;\n        }\n\n      }).\n      bind('focus.selectable', function () {\n\n        if (!self.options.disabled) self.currentFocus.addClass('ui-state-focus');\n\n      }).\n      bind('blur.selectable', function () {\n\n        if (!self.options.disabled) self.currentFocus.removeClass('ui-state-focus');\n\n      }).\n      bind('keydown.selectable', function (event) {\n\n        if (!self.options.keyboard || self.options.disabled || self._trigger('beforeselect', event) === false)\n        return true;\n\n        if (event.keyCode == $.ui.keyCode.DOWN) {\n          self.options.closest ? self.selectClosest('down', event) : self.next(event);\n          event.preventDefault();\n        }\n\n        if (event.keyCode == $.ui.keyCode.RIGHT) {\n          self.options.closest ? self.selectClosest('right', event) : self.next(event);\n          event.preventDefault();\n        }\n\n        if (event.keyCode == $.ui.keyCode.UP) {\n          self.options.closest ? self.selectClosest('up', event) : self.previous(event);\n          event.preventDefault();\n        }\n\n        if (event.keyCode == $.ui.keyCode.LEFT) {\n          self.options.closest ? self.selectClosest('left', event) : self.previous(event);\n          event.preventDefault();\n        }\n\n        if (event.ctrlKey || event.metaKey) {\n\n          if (event.keyCode == $.ui.keyCode.SPACE) {\n            self._toggleSelection(self.currentFocus, event);\n            event.preventDefault();\n          }\n\n          if (event.keyCode == 65) {// A is pressed, for select all\n            self.select('*');\n            event.preventDefault();\n          }\n\n\n        }\n\n      });\n\n      this.helper = $(document.createElement('div')).\n      addClass(\"ui-selectable-lasso\");\n\n    },\n\n    selectClosest: function selectClosest(direction, event) {\n\n      var current = [/(down|right)/.test(direction) ? 10000 : -10000, null],\n      overlap = 10000,\n      selfOffset = this.currentFocus.data('selectable-item');\n\n      this.items.not(this.currentFocus).filter(':visible').each(function () {\n\n        var $this = $(this),\n        offset = $this.data('selectable-item'),\n        distance = {\n          x: Math.abs(selfOffset.left - offset.left) + Math.abs(offset.left + this.offsetWidth - (selfOffset.left + this.offsetWidth)),\n          y: Math.abs(selfOffset.top - offset.top) + Math.abs(offset.top + this.offsetHeight - (selfOffset.top + this.offsetHeight)) };\n\n\n        switch (direction) {\n\n          case 'up':\n            if (selfOffset.top > offset.top && offset.top >= current[0] && (offset.top != current[0] || distance.x < overlap)) {\n              current = [offset.top, $this];\n              overlap = distance.x;\n            }\n            break;\n\n          case 'down':\n            if (selfOffset.top < offset.top && offset.top <= current[0] && (offset.top != current[0] || distance.x < overlap)) {\n              current = [offset.top, $this];\n              overlap = distance.x;\n            }\n            break;\n\n          case 'left':\n            if (selfOffset.left > offset.left && offset.left >= current[0] && (offset.left != current[0] || distance.y < overlap)) {\n              current = [offset.left, $this];\n              overlap = distance.y;\n            }\n            break;\n\n          case 'right':\n            if (selfOffset.left < offset.left && offset.left <= current[0] && (offset.left != current[0] || distance.y < overlap)) {\n              current = [offset.left, $this];\n              overlap = distance.y;\n            }\n            break;}\n\n\n\n      });\n\n      // if nothing close is found, bail\n      if (!current[1])\n      return false;\n\n      //We need to find the index of the current, and the index of the new one to call selectAdjacent\n      // - calling _select doesn't work, since it's only for mouse interaction (no ctrl focus move!)\n      var currentIndex = this.items.index(this.currentFocus[0]);\n      var newIndex = this.items.index(current[1]);\n\n      return this._selectAdjacent(event, newIndex - currentIndex);\n\n    },\n\n    destroy: function destroy() {\n      this.items.removeClass(\"ui-selectable-item ui-selected ui-state-active\");\n      this.element.\n      removeClass(\"ui-selectable ui-selectable-disabled ui-widget\").\n      removeData(\"selectable\").\n      unbind(\".selectable\");\n      this._mouseDestroy();\n      this._selection = [];\n      this._previousSelection = [];\n    },\n\n    _mouseCapture: function _mouseCapture(event) {\n      //If the item we start dragging on is a selectable, we bail (if keyboard is used)\n      this.clickedOnItem = this._targetIsItem(event.target);\n      return true; // TODO: this starts the lasso on items as well - we might want to introduce an option to disable this\n    },\n\n    _mouseStart: function _mouseStart(event) {\n\n      var self = this,o = this.options;\n      this.opos = [event.pageX, event.pageY];\n\n      if (o.disabled)\n      return;\n\n      // cache positions\n      this.refresh(1);\n\n      // trigger start event\n      this._trigger(\"start\", event, this._uiHash());\n\n      // save the current selection as previous\n      this._previousSelection = this._selection.slice();\n\n      // append and position helper (lasso)\n      this.helper.appendTo('body').css({\n        zIndex: 100,\n        position: \"absolute\",\n        left: event.clientX,\n        top: event.clientY,\n        width: 0,\n        height: 0 });\n\n\n      // tell the intersection that some start selected\n      for (var i = this._selection.length - 1; i >= 0; i--) {\n        if (event.metaKey || event.ctrlKey) {\n          if (this != self.clickedOnItem) $(this._selection[i]).data(\"selectable-item\").startSelected = true;\n        } else if (o.multiple) {\n          self._removeFromSelection($(this._selection[i]), event);\n        }\n      };\n\n    },\n\n    _mouseDrag: function _mouseDrag(event) {\n\n      var self = this,o = this.options;\n\n      if (o.disabled || !o.multiple)\n      return;\n\n      // do the lasso magic\n      var x1 = this.opos[0],y1 = this.opos[1],x2 = event.pageX,y2 = event.pageY;\n      if (x1 > x2) {var tmp = x2;x2 = x1;x1 = tmp;}\n      if (y1 > y2) {var tmp = y2;y2 = y1;y1 = tmp;}\n      this.helper.css({ left: x1, top: y1, width: x2 - x1, height: y2 - y1 });\n\n      // loop through all items and check overlaps\n      this.items.each(function () {\n\n        var item = $.data(this, \"selectable-item\");\n\n        //prevent helper from being selected if appendTo: selectable\n        if (!item || item.element == self.element[0])\n        return;\n\n        var hit = false;\n        if (o.lasso && o.lasso.tolerance == 'touch') {\n          hit = !(item.left > x2 || item.right < x1 || item.top > y2 || item.bottom < y1);\n        } else if (o.lasso && o.lasso.tolerance == 'fit') {\n          hit = item.left > x1 && item.right < x2 && item.top > y1 && item.bottom < y2;\n        }\n\n\n        hit ?\n        item.startSelected ? self._removeFromSelection($(this), event) : self._addToSelection($(this), event) :\n        !item.startSelected ? self._removeFromSelection($(this), event) : self._addToSelection($(this), event);\n\n      });\n\n      return false;\n\n    },\n\n    _mouseStop: function _mouseStop(event) {\n\n      var newlySelected = [];\n      var newlyDeselected = [];\n\n      // Find out the delta of the newly selected items\n      for (var i = 0; i < this._selection.length; i++) {\n        var wasAlreadyPartOfPreviousSelection = false;\n        for (var j = 0; j < this._previousSelection.length; j++) {\n          if (this._selection[i][0] == this._previousSelection[j][0])\n          wasAlreadyPartOfPreviousSelection = true;\n        };\n        if (!wasAlreadyPartOfPreviousSelection) newlySelected.push(this._selection[i]);\n      };\n\n      // Find out the delta of the newly unselected items\n      for (var i = this._previousSelection.length - 1; i >= 0; i--) {\n        if (!this._previousSelection[i].data('selectable-item').selected) newlyDeselected.push(this._previousSelection[i]);\n      };\n\n\n      // Transform both deltas into jQuery objects\n      newlySelected = $($.map(newlySelected, function (i) {return i[0];}));\n      newlyDeselected = $($.map(newlyDeselected, function (i) {return i[0];}));\n\n      var uiHash = $.extend(this._uiHash(), {\n        added: newlySelected || [],\n        removed: newlyDeselected || [] });\n\n      this._trigger(\"stop\", event, uiHash);\n\n      // Trigger change event if anything has changed\n      if (newlySelected && newlySelected.length || newlyDeselected && newlyDeselected.length) {\n        this._trigger('change', event, uiHash);\n      }\n\n      this.helper.remove();\n      return false;\n    },\n\n    _mouseSelect: function _mouseSelect(event, item) {\n\n      if (this._trigger('beforeselect', event) === false)\n      return true;\n\n      this._select(event, item);\n      this.element[0].focus();\n      event.preventDefault();\n\n    },\n\n    _targetIsItem: function _targetIsItem(item) {\n      var found = $(item).parents().addBack().filter(':data(selectable-item)');\n      return found.length && found;\n    },\n\n    _selection: [],\n\n    _endSelection: function _endSelection(event, newlySelected) {\n\n      //Only trigger the 'deselect' event if items have been removed from the selection\n      var newlyDeselected = this._triggerDeselection(event);\n\n      //Only trigger 'select' event if items have been added to the selection\n      if (newlySelected && newlySelected.length)\n      this._trigger('select', event, this._uiHash(newlySelected, 'added'));\n\n      // Trigger change event if anything has changed\n      if (newlySelected && newlySelected.length || newlyDeselected && newlyDeselected.length) {\n        var uiHash = $.extend(this._uiHash(), {\n          added: newlySelected || [],\n          removed: newlyDeselected || [] });\n\n        this._trigger('change', event, uiHash);\n      }\n\n    },\n\n    _triggerDeselection: function _triggerDeselection(event) {\n\n      var triggerItems = [];\n\n      for (var i = this._previousSelection.length - 1; i >= 0; i--) {\n        var data = this._previousSelection[i].data('selectable-item');\n        if (!data || !data.selected) triggerItems.push(this._previousSelection[i]);\n      };\n\n      this._previousSelection = [];\n      triggerItems = $($.map(triggerItems, function (i) {return i[0];}));\n      if (triggerItems.length) this._trigger('deselect', event, this._uiHash(triggerItems, 'removed'));\n\n      return triggerItems;\n\n    },\n\n    _clearSelection: function _clearSelection(triggerEvent) {\n\n      var triggerItems = [];\n\n      for (var i = this._selection.length - 1; i >= 0; i--) {\n        if (triggerEvent && this._selection[i].data('selectable-item').selected) triggerItems.push(this._selection[i]);\n        this._selection[i].removeClass('ui-selected ui-state-active');\n        this._selection[i].data('selectable-item').selected = false;\n      };\n\n      this._previousSelection = this._selection.slice();\n      this._selection = [];\n      if (triggerEvent && triggerItems.length) this._trigger('deselect', triggerEvent, this._uiHash($($.map(triggerItems, function (i) {return i[0];})), 'removed'));\n\n    },\n\n    _toggleSelection: function _toggleSelection(item, event) {\n      var selected = item.data('selectable-item').selected;\n      selected ? this._removeFromSelection(item, event) : this._addToSelection(item);\n      return !selected;\n    },\n\n    _addToSelection: function _addToSelection(item, triggerEvent) {\n\n      if (!item.data('selectable-item') || item.data('selectable-item').selected)\n      return null;\n\n      this._selection.push(item);\n      this.latestSelection = item;\n      item.addClass('ui-selected ui-state-active');\n      item.data('selectable-item').selected = true;\n\n      if (triggerEvent) {\n        this._trigger('select', triggerEvent, $.extend({ lasso: true }, this._uiHash(item)));\n      }\n\n      return item;\n\n    },\n\n    _removeFromSelection: function _removeFromSelection(item, triggerEvent) {\n\n      for (var i = 0; i < this._selection.length; i++) {\n        if (this._selection[i][0] == item[0]) {\n          this._selection[i].removeClass('ui-selected ui-state-active');\n          this._selection[i].data('selectable-item').selected = false;\n          this._selection.splice(i, 1);\n          if (triggerEvent) this._trigger('deselect', triggerEvent, this._uiHash($(item), 'removed'));\n          break;\n        }\n      };\n\n    },\n\n    _updateSelectionMouse: function _updateSelectionMouse(event) {\n      var newlySelected = [];\n\n      this.updateEvents(event);\n\n      if (event && event.shiftKey) {\n\n        //Clear the previous selection to make room for a shift selection\n        this._clearSelection();\n\n        var index = this.items.index(this.latestWithoutModifier[0]) > this.items.index(this.currentFocus[0]) ? -1 : 1;\n        var i = this.latestWithoutModifier.data('selectable-item').selected ? this.items.eq(this.items.index(this.latestWithoutModifier[0]) + index) : this.latestWithoutModifier;\n        while (i.length && i[0] != this.currentFocus[0]) {\n          i[0] == this.previousFocus[0] ? this._addToSelection(i) : newlySelected.push(this._addToSelection(i));\n          i = this.items.eq(this.items.index(i[0]) + index);\n        }\n\n        //Readd the item with the current focus\n        newlySelected.push(this._addToSelection(this.currentFocus));\n\n      } else {\n\n        if (event && (event.metaKey || event.ctrlKey)) {\n          var withMetaIsNewlySelected = this._toggleSelection(this.currentFocus, event);\n          if (withMetaIsNewlySelected) newlySelected.push(this.currentFocus);\n        } else {\n          this._clearSelection();\n          newlySelected.push(this._addToSelection(this.currentFocus));\n          this.latestWithoutModifier = this.currentFocus;\n        }\n\n      }\n\n      return $($.map(newlySelected, function (i) {return i[0];}));\n\n    },\n\n    _updateSelection: function _updateSelection(event, index) {\n      var newlySelected = [];\n\n      this.updateEvents(event);\n\n      if (event && event.shiftKey) {\n\n        if (this.currentFocus.data('selectable-item').selected) {\n          this._removeFromSelection(this.previousFocus, event);\n        } else {\n\n          var index2 = this.items.index(this.latestSelection[0]) > this.items.index(this.currentFocus[0]) ? 1 : -1;\n          if (!this.previousFocus.data('selectable-item').selected) {\n            var i = index == index2 ? this.items.eq(this.items.index(this.previousFocus[0]) + index2) : this.previousFocus;\n            while (i.length && !i.data('selectable-item').selected) {\n              newlySelected.push(this._addToSelection(i));\n              i = this.items.eq(this.items.index(i[0]) + index2);\n            }\n          }\n\n          newlySelected.push(this._addToSelection(this.currentFocus));\n\n        }\n\n      } else {\n\n        //If the CTRL or Apple/Win key is pressed, only set focus\n        if (event && (event.metaKey || event.ctrlKey))\n        return;\n\n        this._clearSelection(event);\n        newlySelected.push(this._addToSelection(this.currentFocus));\n        this.latestWithoutModifier = this.currentFocus;\n\n      }\n\n      return $($.map(newlySelected, function (i) {if (i) return i[0];}));\n\n    },\n\n    _select: function _select(event, item) {\n\n      //Set the current selection to the previous/next item\n      this.previousFocus = this.currentFocus.attr('tabindex', -1);\n      this.currentFocus = $(item).attr('tabindex', 0);\n\n      this.previousFocus.removeClass('ui-state-focus');\n      this.currentFocus.addClass('ui-state-focus');\n\n      //Set and update the selection\n      var newlySelected = this._updateSelectionMouse(event);\n\n      // Ending the selection does a diff and then triggers appropriate events\n      this._endSelection(event, newlySelected);\n\n    },\n\n    _selectAdjacent: function _selectAdjacent(event, index) {\n\n      var item = this.items.eq(this.items.index(this.currentFocus[0]) + index);\n\n      //Bail if there's no previous/next item\n      if (!item.length) return;\n\n      //Set the current selection to the previous/next item\n      this.previousFocus = this.currentFocus.attr('tabindex', -1);\n      this.currentFocus = item.attr('tabindex', 0);\n\n      this.previousFocus.removeClass('ui-state-focus');\n      this.currentFocus.addClass('ui-state-focus');\n\n      //Set and update the selection\n      this._previousSelection = this._selection.slice();\n      var newlySelected = this._updateSelection(event, index);\n\n      // Ending the selection does a diff and then triggers appropriate events\n      this._endSelection(event, newlySelected);\n\n    },\n\n    previous: function previous(event) {\n      this._selectAdjacent(event, -1);\n    },\n\n    next: function next(event) {\n      this._selectAdjacent(event, 1);\n    },\n\n    refresh: function refresh(fromInside) {\n\n      var o = this.options,self = this;\n      this.items = $(o.filter, this.element);\n      this.items.addClass('ui-selectable-item');\n      this.items.each(function () {\n\n        var $this = $(this);\n        var pos = $this.offset();\n\n        if (self.currentFocus && self.currentFocus[0] != this)\n        $this.attr('tabindex', -1);\n\n        $.data(this, \"selectable-item\", {\n          left: pos.left,\n          top: pos.top,\n          right: pos.left + $this.width(),\n          bottom: pos.top + $this.height(),\n          startSelected: false,\n          selected: $this.hasClass('ui-selected') });\n\n      });\n\n\n      if (!fromInside) {\n        this._previousSelection = this._selection.slice();\n        this._selection = [];\n        for (var i = 0; i < this._previousSelection.length; i++) {\n          if (this._previousSelection[i][0].parentNode) this._selection.push(this._previousSelection[i]);\n        };\n\n        this._endSelection();\n      }\n\n    },\n\n    select: function select(item) {\n\n      item = !isNaN(parseInt(item)) ? this.items.eq(item) : $(item, this.element);\n      if (!item.length) return;\n\n      // clear the current selection\n      this._clearSelection();\n\n      // select all found\n      var newlySelected = [],self = this;\n      item.each(function (i) {\n        if (i == 0) {//Setting the focus on the first item in the list\n          self.previousFocus = self.currentFocus.attr('tabindex', -1);\n          self.currentFocus = $(this).attr('tabindex', 0);\n          self.previousFocus.removeClass('ui-state-focus');\n          self.currentFocus.addClass('ui-state-focus');\n        }\n        newlySelected.push(self._addToSelection($(this)));\n      });\n\n      // Ending the selection does a diff and then triggers appropriate events\n      this._endSelection(window.event, $($.map(newlySelected, function (i) {return i ? i[0] : false;})));\n\n    },\n\n    deselect: function deselect(item) {\n\n      // if no item was specified, deselect all\n      if (!item)\n      this._clearSelection(true);\n\n      item = !isNaN(parseInt(item)) ? this.items.eq(item) : $(item, this.element);\n      if (!item.length) return;\n\n      //store the current selection\n      this._previousSelection = this._selection.slice();\n\n      // deselect all found\n      var self = this;\n      item.each(function () {\n        self._removeFromSelection($(this));\n      });\n\n      // Ending the selection does a diff and then triggers appropriate events\n      this._endSelection(event);\n\n    },\n\n    _uiHash: function _uiHash(items, specialKey) {\n      var uiHash = {\n        previousFocus: this.previousFocus,\n        currentFocus: this.currentFocus,\n        selection: $($.map(this._selection, function (i) {return i[0];})) };\n\n      if (specialKey) uiHash[specialKey] = items;\n      return uiHash;\n    },\n\n    updateEvents: function updateEvents(event) {\n      var o = this.options;\n\n      event.shiftKey = o.multiple ? event.shiftKey : false;\n      event.metaKey = o.multiple ? event.metaKey : false;\n      event.ctrlKey = o.multiple ? event.ctrlKey : false;\n    } });\n\n\n\n})(jQuery);","/*\r\n* jQuery UI Option @VERSION\r\n* Author: Diego Parra\r\n* Based on http://www.filamentgroup.com/lab/accessible_custom_designed_checkbox_radio_button_inputs_styled_css_jquery/ plugin\r\n* Copyright (c) 2010 (http://www.bizagi.com)\r\n*\r\n* Depends:\r\n*  ui.core.js\r\n*/\n(function ($) {\n\n  $.widget('ui.optiongroup', {\n    _create: function _create() {\n      var self = this,\n      element = this.element,\n      options = self.options;\n\n      // Find all inputs in this set \n      var allInputs = $('input[type=radio]', element);\n\n      // Skin each element\n      $(\"label\", element).each(function (i) {\n        // Get the associated label using the input's id\n        var label = $(this);\n        var text = label.text();\n        var input = $(\"input[type=radio]\", label);\n\n        if (label.attr(\"for\") != input.attr(\"id\")) {\n          alert(\"label and input element are not related in label:\" + label.attr(\"id\"));\n          return;\n        }\n\n        // Wrap the input + label in a div \n        input.detach();\n        self.options.orientation == \"rtl\" ? label.wrap('<div class=\"ui-radio ui-bizagi-rtl\"></div>') : label.wrap('<div class=\"ui-radio\"></div>');\n        // Wrap the input + label in a div \n        self.options.orientation == \"rtl\" ? input.insertAfter(label) : input.insertBefore(label);\n        label.text(text);\n\n        // Necessary for browsers that don't support the :hover pseudo class on labels\n        label.hover(\n        function () {\n          $(this).addClass('ui-radio-state-hover');\n        },\n        function () {\n          $(this).removeClass('ui-radio-state-hover');\n        }).\n        click(function () {\n          var checked = input.prop(\"checked\");\n          input.prop(\"checked\", !checked);\n          !checked ? input.attr(\"checked\", \"checked\") : input.removeAttr(\"checked\");\n          // Alignment fix on Click\n          if (bizagi.util.isIE()) window.setTimeout(function () {\n            label.css(\"display\", \"inline-block\");\n            $(\".ui-bizagi-rtl table .ui-bizagi-render-boolean-yesno .ui-radio input\").css(\"height\", \"1px\");\n          }, 0);\n        });\n\n        // Bind custom event, trigger it, bind click,focus,blur events\t\t\t\t\t\n        input.bind('update', function () {\n          if ($(this).is(':checked')) {\n            allInputs.each(function () {\n              // Remove class from each label\n              var next = self.options.orientation == \"rtl\" ? $(this).prev() : $(this).next();\n              next.removeClass('ui-radio-state-checked');\n            });\n\n            label.addClass('ui-radio-state-checked');\n\n          } else {\n            label.removeClass('ui-radio-state-checked ui-radio-state-hover ui-radio-state-highlight');\n          }\n\n          if ($(this).is(':checked')) {\n            // Trigger change event\n            self._trigger(\"change\", window.event, { value: $(this).val(), text: label.text() });\n          }\n        }).\n        trigger('update').\n        click(function () {\n          $(this).trigger('update');\n          // Alignment fix on Click\n          if (bizagi.util.isIE()) window.setTimeout(function () {\n            label.css(\"display\", \"inline-block\");\n            $(\".ui-bizagi-rtl table .ui-bizagi-render-boolean-yesno .ui-radio input\").css(\"height\", \"1px\");\n          }, 0);\n        }).\n        focus(function () {\n          //label.addClass('ui-radio-state-highlight');TODO: revisar una mejor manera de marcar el foco en el control\n        }).\n        blur(function () {\n          //label.removeClass('ui-radio-state-highlight');TODO: revisar una mejor manera de marcar el foco en el control\n        });\n      });\n    },\n\n    setValue: function setValue(value) {\n      var self = this,\n      element = this.element,\n      options = self.options;\n\n      // Find all inputs in this set \n      var allInputs = $('input[type=radio]', element);\n\n      $.each(allInputs, function (i) {\n        var option = $(this);\n        if (option.val() == value) {\n          option.prop(\"checked\", true);\n          option.attr(\"checked\", \"checked\");\n          option.trigger(\"update\");\n        }\n      });\n    } });\n\n\n  $.extend($.ui.optionGroup, {\n    version: \"@VERSION\",\n    eventPrefix: \"optiongroup\" });\n\n\n})(jQuery);","/*\r\n* Simple Pagination Control for Bizagi Workportal\r\n* @author: Edward J Morales\r\n*/\n\n(function ($) {\n  $.fn.bizagiPagination = function (options) {\n    // define options\n    options = options || {};\n\n    var opt = {\n      limInf: 0,\n      totalPages: 1,\n      actualPage: 1,\n\n      // Controllers elements\n      listElement: $(\"ul\"),\n      first: '&lt;&lt;',\n      firstClass: \"first\",\n      prev: '&lt;',\n      prevClass: 'prev',\n      next: \"&gt;\",\n      nextClass: \"next\",\n      last: \"&gt;&gt;\",\n      lastClass: \"last\",\n\n      // Default class of pagination template, ui-bizagi-workportal-widget-inbox-common-pagination\n      // <li {{if page==pageNumber}} class=\"page active\" {{else}} class=\"page\" {{/if}} data-page=\"${pageNumber}\">\n      // <span class=\"number\">${pageNumber}</span>\n      // </li>\n      liClass: \"bz-page\",\n      arrowClass: \"bz-pageArrow\",\n\n      // Auto focus on selected element\n      selectedFocus: true,\n\n      // Call back methods\n      clickCallBack: function clickCallBack() {} };\n\n\n\n\n    if (options.actualPage > options.totalPages) {\n      options.actualPage = options.totalPages;\n    }\n\n\n    // Extend options\n    $.extend(opt, opt, options);\n\n    var pagination = {\n      previousPage: Math.max(1, parseInt(opt.actualPage) - 1),\n      nextPage: parseInt(opt.actualPage) + 1 };\n\n\n    function init() {\n      // Count total elements\n      opt.totalElements = $(\"li.\" + opt.liClass, opt.listElement[0]).length;\n\n\n      // Add control elements\n      if (opt.totalPages > opt.totalElements && opt.totalElements > 1) {\n        appendControlsArrows();\n      }\n\n      // Add events\n      bindElements();\n\n      // Set focus\n      if (opt.selectedFocus && opt.actualPage >= opt.totalElements && opt.totalPages > opt.totalElements) {\n        var firstElementValue;\n        var halfDisplace = opt.actualPage - Math.round(opt.totalElements / 2);\n\n        if (halfDisplace < 1) {\n          firstElementValue = 1;\n        } else if (halfDisplace + opt.totalElements > opt.totalPages) {\n          firstElementValue = opt.totalPages - opt.totalElements;\n          firstElementValue = firstElementValue < 1 ? 1 : firstElementValue;\n        } else {\n          firstElementValue = halfDisplace;\n        }\n\n        if (opt.listElement.find(\"li.active\").length == 0) {\n          displaceElements(firstElementValue, 1);\n        }\n      }\n    }\n\n    // Append control arrow to list\n    function appendControlsArrows() {\n\n      var disableFirst = pagination.previousPage == opt.actualPage;\n      var disableLast = opt.actualPage == opt.totalPages;\n\n      // add prev arrow\n      opt.listElement.prepend(\"<li/>\").find(\"li:first\").addClass(opt.prevClass).addClass(disableFirst ? \"pagination-disabled\" : \"\").data(\"page\", pagination.previousPage).html(opt.prev);\n\n      // add first arrow\n      opt.listElement.prepend(\"<li/>\").find(\"li:first\").addClass(opt.arrowClass + \" \" + opt.firstClass).addClass(disableFirst ? \"pagination-disabled\" : \"\").data(\"page\", \"1\").html(opt.first);\n\n      // add next arrow\n      opt.listElement.append(\"<li/>\").find(\"li:last\").addClass(opt.nextClass).addClass(disableLast ? \"pagination-disabled\" : \"\").data(\"page\", pagination.nextPage).html(opt.next);\n\n      // add last arrow\n      opt.listElement.append(\"<li/>\").find(\"li:last\").addClass(opt.arrowClass + \" \" + opt.lastClass).addClass(disableLast ? \"pagination-disabled\" : \"\").data(\"page\", opt.totalPages).html(opt.last);\n    }\n\n\n    // Add events\n    function bindElements() {\n      // Click event for list element\n      var options = {};\n      $(\"li:not(.pagination-disabled)\", opt.listElement).click(function () {\n        // Next line now includes a ternary operator in order to confirm last arrow (>>) if going indeed to the last page\n        options.page = $(this).hasClass(opt.lastClass) ? opt.totalPages : $.trim($(this).data(\"page\") + \" \");\n        options.parent = $(this).parent();\n        options.self = $(this);\n        opt.clickCallBack(options);\n      });\n    }\n\n    // Change values of elements\n    function pageScroll(increment) {\n      // if increment its positive, execute right scroll\n      // if increment its negative, execute left scroll\n      increment = increment || 1;\n      var displace = false;\n\n      // Define first element value\n      var firstPageValue = $(\"li.\" + opt.liClass + \":first\", opt.listElement).data(\"page\");\n      var lastPageValue = $(\"li.\" + opt.liClass + \":last\", opt.listElement).data(\"page\");\n\n\n      // Check left scroll - decrement\n      if (increment < 0 && firstPageValue > 1) {\n        displace = true;\n      } else if (increment > 0 && lastPageValue < opt.totalPages) {\n        displace = true;\n      }\n\n      if (displace) {\n        displaceElements(firstPageValue, increment);\n      }\n    }\n\n    // Displace elements\n    function displaceElements(firstElementValue, increment) {\n      firstElementValue = firstElementValue || 1;\n      increment = increment || 0;\n      var pageData;\n\n      if (increment > 0) {\n        // Increment\n        pageData = firstElementValue;\n      } else if (increment < 0) {\n        // Decrement\n        pageData = firstElementValue - 2;\n      } else {\n        return;\n      }\n\n      $.each($(\"li.\" + opt.liClass, opt.listElement), function (key, value) {\n        pageData++;\n        $(this).data(\"page\", pageData);\n        $(this).find(\"span\").html(pageData);\n        // Changes the attribute content of data-page with the current number pageData\n        $(this).attr(\"data-page\", pageData);\n        // Check if selected style\n        if (opt.actualPage == pageData && !$(this).hasClass(\"active\")) {\n          $(this).addClass(\"active\");\n        } else {\n          $(this).removeClass(\"active\");\n        }\n      });\n\n      // Show or hide tooltip pagination\n      if ($(opt.listElement).find(\".active\").length == 1) {\n        $(opt.listElement).parent().find(\"#tooltipPagination\").css(\"visibility\", \"hidden\");\n      } else {\n        $(opt.listElement).parent().find(\"#tooltipPagination\").css(\"visibility\", \"visible\");\n      }\n    }\n\n    // Init plugin\n    init();\n  };\n})(jQuery);","/**\r\n * Simple Pagination Control for Bizagi\r\n * @author: UI Forms Team\r\n */\n\n(function ($) {\n  $.fn.bizagiGridPagination = function (options) {\n    // define options\n    options = options || {};\n\n    var opt = {\n      limInf: 0,\n      totalPages: 1,\n      actualPage: 1,\n\n      // Controllers elements\n      listElement: $(\"ul\"),\n      first: '&lt;&lt;',\n      firstClass: \"first\",\n      prev: '&lt;',\n      prevClass: 'prev',\n      next: \"&gt;\",\n      nextClass: \"next\",\n      last: \"&gt;&gt;\",\n      lastClass: \"last\",\n\n      // Default class of pagination template\n      // <li {{if page==pageNumber}} class=\"page active\" {{else}} class=\"page\" {{/if}} data-page=\"${pageNumber}\">\n      // <span class=\"number\">${pageNumber}</span>\n      // </li>\n      liClass: \"bz-page\",\n      arrowClass: \"bz-pageArrow\",\n\n      // Auto focus on selected element\n      selectedFocus: true,\n\n      // Auto scroll on hover\n      scrolledHover: false,\n\n      // Call back methods\n      clickCallBack: function clickCallBack() {\n      } };\n\n\n\n    if (options.actualPage > options.totalPages) {\n      options.actualPage = options.totalPages;\n    }\n\n    // Extend options\n    $.extend(opt, opt, options);\n\n    var pagination = {\n      previousPage: Math.max(1, parseInt(opt.actualPage) - 1),\n      nextPage: parseInt(opt.actualPage) + 1 };\n\n\n    function init() {\n      // Count total elements\n      opt.totalElements = $(\"li.\" + opt.liClass, opt.listElement[0]).length;\n\n      // Add control elements\n      if (opt.totalPages > opt.totalElements && opt.totalElements > 1) {\n        appendControlsArrows();\n      }\n\n      // Add events\n      bindElements();\n\n      // Set focus\n      if (opt.selectedFocus && opt.actualPage >= opt.totalElements && opt.totalPages > opt.totalElements) {\n        var firstElementValue;\n        var halfDisplace = opt.actualPage - Math.round(opt.totalElements / 2);\n\n        if (halfDisplace < 1) {\n          firstElementValue = 1;\n        } else if (halfDisplace + opt.totalElements > opt.totalPages) {\n          firstElementValue = opt.totalPages - opt.totalElements;\n          firstElementValue = firstElementValue < 1 ? 1 : firstElementValue;\n        } else {\n          firstElementValue = halfDisplace;\n        }\n\n        if (opt.listElement.find(\"li.active\").length == 0) {\n          displaceElements(firstElementValue, 1);\n        }\n      }\n    }\n\n    // Append control arrow to list\n    function appendControlsArrows() {\n      var disableFirst = pagination.previousPage == opt.actualPage;\n      var disableLast = opt.actualPage == opt.totalPages;\n      // add prev arrow\n      opt.listElement.prepend(\"<li/>\").find(\"li:first\").\n      addClass(opt.prevClass).\n      addClass(disableFirst ? \"pagination-disabled\" : \"\").\n      data(\"page\", pagination.previousPage).\n      html(opt.prev);\n\n      // add first arrow\n      opt.listElement.prepend(\"<li/>\").find(\"li:first\").\n      addClass(opt.arrowClass + \" \" + opt.firstClass).\n      addClass(disableFirst ? \"pagination-disabled\" : \"\").\n      data(\"page\", \"1\").\n      html(opt.first);\n\n      // add next arrow\n      opt.listElement.append(\"<li/>\").find(\"li:last\").\n      addClass(opt.nextClass).\n      addClass(disableLast ? \"pagination-disabled\" : \"\").\n      data(\"page\", pagination.nextPage).html(opt.next);\n\n      // add last arrow\n      opt.listElement.append(\"<li/>\").find(\"li:last\").\n      addClass(opt.arrowClass + \" \" + opt.lastClass).\n      addClass(disableLast ? \"pagination-disabled\" : \"\").\n      data(\"page\", opt.totalPages).\n      html(opt.last);\n    }\n\n\n    // Add events\n    function bindElements() {\n      // Click event for list element\n      var options = {};\n\n      $(\"li:not(.pagination-disabled)\", opt.listElement).click(function () {\n        // Next line now includes a ternary operator in order to confirm last arrow (>>) if going indeed to the last page\n        options.page = $(this).hasClass(opt.lastClass) ? opt.totalPages : $.trim($(this).data(\"page\") + \" \");\n        options.parent = $(this).parent();\n        options.self = $(this);\n        opt.clickCallBack(options);\n      });\n\n      if (opt.scrolledHover) {\n        bindNextArrow();\n        bindPrevArrow();\n      }\n    }\n\n\n    // Bind for back scroll\n    function bindPrevArrow() {\n      $(\"li.\" + opt.prevClass, opt.listElement).hover(function () {\n        back = setInterval(function () {\n          pageScroll(-1);\n        }, 300);\n      }, function () {\n        clearInterval(back);\n      });\n    }\n\n    // Bind for next scroll\n    function bindNextArrow() {\n      $(\"li.\" + opt.nextClass, opt.listElement).hover(function () {\n        next = setInterval(function () {\n          pageScroll(1);\n        }, 300);\n      }, function () {\n        clearInterval(next);\n      });\n    }\n\n    // Change values of elements\n    function pageScroll(increment) {\n      // if increment its positive, execute right scroll\n      // if increment its negative, execute left scroll\n      increment = increment || 1;\n      var displace = false;\n\n      // Define first element value\n      var firstPageValue = $(\"li.\" + opt.liClass + \":first\", opt.listElement).data(\"page\");\n      var lastPageValue = $(\"li.\" + opt.liClass + \":last\", opt.listElement).data(\"page\");\n\n\n      // Check left scroll - decrement\n      if (increment < 0 && firstPageValue > 1) {\n        displace = true;\n      } else if (increment > 0 && lastPageValue < opt.totalPages) {\n        displace = true;\n      }\n\n      if (displace) {\n        displaceElements(firstPageValue, increment);\n      }\n    }\n\n    // Displace elements\n    function displaceElements(firstElementValue, increment) {\n      firstElementValue = firstElementValue || 1;\n      increment = increment || 0;\n      var pageData;\n\n      if (increment > 0) {\n        // Increment                \n        pageData = firstElementValue;\n      } else if (increment < 0) {\n        // Decrement  \n        pageData = firstElementValue - 2;\n      } else {\n        return;\n      }\n\n      $.each($(\"li.\" + opt.liClass, opt.listElement), function (key, value) {\n        pageData++;\n        $(this).data(\"page\", pageData);\n        $(this).find(\"span\").html(pageData);\n        // Changes the attribute content of data-page with the current number pageData\n        $(this).attr(\"data-page\", pageData);\n        // Check if selected style\n        if (opt.actualPage == pageData && !$(this).hasClass(\"active\")) {\n          $(this).addClass(\"active\");\n        } else {\n          $(this).removeClass(\"active\");\n        }\n      });\n\n      // Show or hide tooltip pagination\n      if ($(opt.listElement).find(\".active\").length == 1) {\n        $(opt.listElement).parent().\n        find(\"#tooltipPagination\").\n        css(\"visibility\", \"hidden\");\n      } else {\n        $(opt.listElement).parent().\n        find(\"#tooltipPagination\").\n        css(\"visibility\", \"visible\");\n      }\n    }\n\n    // Init plugin\n    init();\n  };\n})(jQuery);","/**\r\n *   Name:\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This widget will extend the bizagi grid widget to specialize into a desktop view\r\n *\r\n *   Markup: <div></div>\r\n *\r\n *   Styles:\r\n *   - css/bizagi/desktop/controls/bizagi.grid.css\r\n */\n\n(function ($) {\n  $.widget('ui.bizagi_grid_desktop', $.ui.bizagi_grid, {\n    options: $.extend($.ui.bizagi_grid.prototype.options, {\n      smartPagination: false }),\n\n\n    /**\r\n                                  * Add event handlers\r\n                                  * @returns {}\r\n                                  */\n    attachHandlers: function attachHandlers() {\n      var self = this;\n\n      // Add paging events\n      self._getComponent(\"pager\").find(\"ul li:not(.prev):not(.next)\").bind(\"click\", function (e) {\n\n        if (e.isPropagationStopped()) {\n          return;\n        }\n\n        e.stopPropagation();\n\n        var pageNumber = $(this).data(\"page\");\n        if (self.isValid()) {\n          self.changePage(pageNumber);\n        }\n\n      });\n\n      // DynamicPager behavior\n      self._getComponent(\"dynamicPager\").find(\"input\").bind(\"click\", function () {\n        self.selectDynamicPager();\n      });\n\n      self._getComponent(\"header\").on(\"click\", function () {\n\n        if ($(this).hasClass(\"bz-rn-grid-header-collapse\") && self.options.mode === \"execution\") {\n          self.onCollapseGrid();\n        }\n\n      });\n\n      // Add sort events if doent have exclusive check\n\n      self._getComponent(\"columns\").find(\".ui-bizagi-grid-column.ui-bizagi-sortable-column\").bind(\"click\", function () {\n\n        var columnIndex = $(this).attr(\"data-column-index\");\n        var xpath;\n\n        try {\n          xpath = columnIndex >= 0 && self.columnByIndex[columnIndex].bizAgiProperties.xpath ? self.columnByIndex[columnIndex].bizAgiProperties.xpath : false;\n        } catch (e) {\n          return;\n        }\n\n        if (typeof bizagi.context.isOfflineForm === \"undefined\" || !bizagi.context.isOfflineForm && xpath) {\n          self.onSaveAddedRows();\n          self.sortBy(columnIndex);\n\n          $(this).unbind(\"click\");\n\n          //Execute cancel edition\n          self.onCancelEdition();\n        }\n      });\n\n\n      // Add selection events\n      self._getComponent(\"rows\").find(\"tr\").bind(\"click\", function () {\n        var key = $(this).attr(\"data-key\");\n        var businessKey = $(this).attr(\"data-business-key\");\n\n        self.selectRow(key, businessKey);\n      }).bind(\"dblclick\", function () {\n        var key = $(this).attr(\"data-key\");\n        var businessKey = $(this).attr(\"data-business-key\");\n\n        self._triggerHandler(\"rowdblclick\", { key: key, businessKey: businessKey });\n      });\n\n      // Bind button actions\n      self._getComponent(\"buttons\").find(\"[data-action]\").bind(\"click\", function () {\n        self.processAction($(this).attr(\"data-action\"));\n        self.unselectRow();\n      });\n\n      //Grid Export Events\n      if (self.options.actions.enableXlsExport || self.options.actions.enablePdfExport) {\n        var className = self.options.orientation == \"rtl\" ? \".ui-bizagi-grid-export-options-content-rtl\" : \".ui-bizagi-grid-export-options-content\";\n\n        var gridExportOptionsContent = self._getComponent(\"gridExportOptions\").find(className);\n\n        self._getComponent(\"gridExportOptions\").find(\"[data-action]\").bind(\"click\", function () {\n          self.processAction($(this).attr(\"data-action\"));\n          self.unselectRow();\n        });\n\n        //bind mouseleave event just in desktop app\n        self._getComponent(\"gridExportOptions\").mouseleave(function () {\n          gridExportOptionsContent.addClass('hidden');\n        });\n\n        if (self.options.actions.enableXlsExport) {\n\n          self._getComponent(\"gridExportOptions\").find('#print-grid-xls').click(function (e) {\n            self._triggerHandler(\"performExportGrid\", { disposition: \"attachment\", exportType: \"xlsExport\" });\n\n            gridExportOptionsContent.hide();\n          });\n\n        }\n\n        if (self.options.actions.enablePdfExport) {\n          self._getComponent(\"gridExportOptions\").find('#print-grid-pdf').click(function (e) {\n            self._triggerHandler(\"performExportGrid\", { disposition: \"inline\", exportType: \"pdfExport\" });\n\n            gridExportOptionsContent.hide();\n          });\n        }\n      }\n\n      // Add selection events for thw draft rows\n      self._getComponent(\"rows\").on(\"delete-row\", \"tr[data-new-row='true']\", function (evt) {\n        var key = $(this).attr(\"data-key\");\n        var businessKey = $(this).attr(\"data-business-key\");\n\n        self._deleteDraft(key, businessKey);\n      });\n\n      // Add tooltips to header\n      var columnComponent = self._getComponent(\"columns\").find(\"th > div[title!='']\");\n      if (columnComponent && columnComponent.length) {\n        columnComponent.tooltip();\n      }\n\n    },\n\n    /**\r\n        * Template method to check if buttons component must be rendered\r\n        * @returns {}\r\n        */\n    _canShowButtons: function _canShowButtons() {\n      var actions = this.options.actions;\n\n      return actions[\"add\"] || actions[\"remove\"] || actions[\"edit\"] || actions[\"inlineAdd\"] || actions[\"details\"] || actions[\"enablePdfExport\"] || actions[\"enableXlsExport\"];\n    },\n    /**\r\n        * Process an action in order to do something with the grid\r\n        * @param {} action\r\n        * @returns {}\r\n        */\n    processAction: function processAction(action) {\n      // Call base\n      $.ui.bizagi_grid.prototype.processAction.apply(this, arguments);\n\n      if (action == \"save\") {\n        this.onSaveAddedRows();\n      }\n      if (action == \"cancel\") {\n        this.onCancelEdition();\n      }\n    },\n\n    /**\r\n        * Events to paginator\r\n        * @returns {}\r\n        */\n    attachPaginator: function attachPaginator() {\n      var self = this;\n\n      //Append navigation buttons for the pager\n      if (self.options.smartPagination) {\n\n        if (self.data.total > 1) {\n\n          var ul = self._getComponent(\"pager\").find(\"ul\");\n\n          // Create pagination control \n          ul.bizagiGridPagination({\n            maxElemShow: 50,\n            totalPages: self.data.total,\n            actualPage: self.data.page,\n            listElement: ul,\n            scrolledHover: true });\n\n        } else {\n          //Makes room to other elements in the grid footer\n          self._getComponent(\"pager\").parent().hide();\n        }\n      } else {\n        if (self.data.total <= 1) {\n          //Makes room to other elements in the grid footer\n          self._getComponent(\"pager\").parent().hide();\n        }\n      }\n    },\n\n    /**\r\n        * Draw Pagination Grid\r\n        * @returns {}\r\n        */\n    drawPager: function drawPager() {\n      var self = this;\n      var options = self.options;\n      var pdata = {};\n\n      if (self.options.smartPagination) {\n        var nElemToShow = 10;\n\n        pdata.pagination = self.data.total > 1 ? true : false;\n        pdata.page = self.data.page;\n\n        if (self.options.orientation == \"rtl\" && self.data.rows.length > 0) {\n          // set total pages\n          pdata.pages = {};\n\n          var pageToshow = nElemToShow > self.data.total ? self.data.total : nElemToShow;\n          var pageToshowRtl = pageToshow;\n\n          for (var i = 1; i <= pageToshow; i++) {\n            pdata.pages[i] = { \"pageNumber\": pageToshowRtl };\n            pageToshowRtl--;\n          }\n\n        } else {\n          // set total pages\n          pdata.pages = {};\n          var pageToshow = nElemToShow > self.data.total ? self.data.total : nElemToShow;\n\n          for (var i = 1; i <= pageToshow; i++) {\n            pdata.pages[i] = { \"pageNumber\": i };\n          }\n        }\n\n        // Set style pagination\n        pdata[\"gridPagination\"] = \"gridCasePagination\";\n        pdata.previousPage = self.data.page > 1 ? self.data.page - 1 : 1;\n        pdata.nextPage = self.data.page < self.data.total ? self.data.page + 1 : self.data.total;\n        pdata.totalPages = self.data.total;\n\n        return $.fasttmpl(options.template.pager, pdata);\n      } else {\n        // Call base\n        return $.ui.bizagi_grid.prototype.drawPager.apply(self, arguments);\n      }\n    },\n\n    /**\r\n        * Add inline row\r\n        * @returns {}\r\n        */\n    addInlineRow: function addInlineRow() {\n      var self = this;\n\n      // Draw the new row\n      self._triggerHandler(\"beforeInlineAdd\");\n      var html = self.drawRow(self.createAddRowData(), true);\n      var newRow = $(html);\n\n      // Execute the postrender\n      self.postRenderRow(newRow);\n\n      // Append to rows component\n      self._getComponent(\"rows\").append(newRow);\n\n      // Show save and cancel buttons\n      var buttons = self._getComponent(\"buttons\");\n      buttons.find(\"[data-action=save]\").css(\"display\", \"inline-block\");\n      buttons.find(\"[data-action=cancel]\").css(\"display\", \"inline-block\");\n      buttons.find(\"[data-action=remove]\").css(\"display\", \"none\");\n\n      // Show table component if there are no rows\n      if (self.data.rows.length == 0) {\n        self._getComponent(\"table\").show();\n        self._getComponent(\"emptyTable\").hide();\n      }\n\n      self._triggerHandler(\"afterInlineAdd\");\n    },\n\n    /**\r\n        * Creates a dummy data for the new row\r\n        * @returns {}\r\n        */\n    createAddRowData: function createAddRowData() {\n      var self = this;\n      var options = self.options;\n      var row = [];\n\n      $.each(options.columns, function (i) {\n\n        if (i == self.columnKeyIndex) {\n          // Add random key so we can identify them later\n          var key = Math.ceil(Math.random() * 100000);\n          row.push(key);\n        } else {\n          // Add null value\n          row.push(null);\n        }\n\n      });\n\n      return row;\n    },\n\n    /**\r\n        * Executes the on add row handler\r\n        * @returns {}\r\n        */\n    onAddRow: function onAddRow() {\n      var self = this;\n\n      // Allow add\n      if (self.options.actions.add) {\n        if (self.options.actions.inlineAdd) {\n          return self.addInlineRow();\n        } else {\n          // Open dialog with addform\n          self.options.addFormDialog = self.options.addFormDialog || {};\n          return self._triggerHandler(\"addRow\", self.options.addFormDialog);\n        }\n      }\n    },\n\n    /**\r\n        * Executes when the user presses the cancel button, after inline add edition\r\n        * @returns {}\r\n        */\n    onCancelEdition: function onCancelEdition() {\n      var self = this;\n\n      // Remove zero key rows\n      var rows = self._getComponent(\"rows\").find(\"[data-new-row]\");\n      rows.detach();\n\n      // Hide buttons\n      var buttons = self._getComponent(\"buttons\");\n      buttons.find(\"[data-action=save]\").hide();\n      buttons.find(\"[data-action=cancel]\").hide();\n\n      // Show table component if there are no rows\n      if (self.data.rows.length == 0) {\n        self._getComponent(\"table\").hide();\n        self._getComponent(\"emptyTable\").show();\n      } else {\n        buttons.find(\"[data-action=remove]\").css(\"display\", \"inline-block\");\n      }\n\n      return self._triggerHandler(\"cancelEdition\", { keys: self.getNewRowKeys(rows) });\n    },\n    /**\r\n        * Executes when the user presses the save button, after inline add edition\r\n        * @returns {}\r\n        */\n    onSaveAddedRows: function onSaveAddedRows() {\n      var self = this;\n\n      // Retrieve key of added rows\n      var newRowKeys = self.getNewRowKeys();\n      var buttons = self._getComponent(\"buttons\");\n\n      // Hide buttons         \n      if (newRowKeys.length >= 1 && self.isValid()) {\n        buttons.find(\"[data-action=save]\").hide();\n        buttons.find(\"[data-action=cancel]\").hide();\n        buttons.find(\"[data-action=remove]\").css(\"display\", \"inline-block\");\n\n        if (typeof bizagi.context.isOfflineForm === \"undefined\" || !bizagi.context.isOfflineForm) {\n          self._triggerHandler(\"saveAddedRows\", { keys: newRowKeys });\n          return self._triggerHandler(\"removeNewRecords\", { keys: newRowKeys });\n        } else {\n          return true;\n        }\n      } else {\n        return;\n      }\n    },\n\n    /**\r\n        * Select row\r\n        * @returns {}\r\n        */\n    onRowSelected: function onRowSelected() {\n      // Call base\n      $.ui.bizagi_grid.prototype.onRowSelected.apply(this, arguments);\n\n      // Add selected style to row\n      var tr = this.element.find(\"[data-bizagi-component=rows] tr[data-key=\" + this.selectedRow + \"]\");\n      tr.addClass(\"ui-bizagi-state-selected\");\n    },\n\n    /**\r\n        * Unselect row\r\n        * @returns {}\r\n        */\n    onRowUnselected: function onRowUnselected() {\n      // Call base\n      $.ui.bizagi_grid.prototype.onRowUnselected.apply(this, arguments);\n\n      // Hide row buttons\n      var tr = this._getComponent(\"rows\").find(\"tr[data-key=\" + this.selectedRow + \"]\");\n      tr.removeClass(\"ui-bizagi-state-selected\");\n    },\n\n    /**\r\n        * Return the new created ids\r\n        * @param {} rows\r\n        * @returns {}\r\n        */\n    getNewRowKeys: function getNewRowKeys(rows) {\n      rows = rows || this._getComponent(\"rows\").find(\"[data-new-row=true]\");\n\n      return $.map(rows, function (row, i) {\n        return $(row).data(\"business-key\");\n      });\n    },\n\n    /**\r\n        * Collapse Grid\r\n        * @returns {}\r\n        */\n    onCollapseGrid: function onCollapseGrid() {\n      $.ui.bizagi_grid.prototype.onCollapseGrid.apply(this, arguments);\n    },\n\n    /**\r\n        * Return cell object\r\n        * @param {} key\r\n        * @param {} xpath\r\n        * @param {} index\r\n        * @returns {}\r\n        */\n    getCell: function getCell(key, xpath, index) {\n      var row = this._getComponent(\"rows\").find(\"[data-business-key=\" + key + \"]\");\n      var allVisibleTd = $(\"td:visible\", $(row));\n      var cell = allVisibleTd[index];\n\n      return $(cell);\n    },\n\n    /**\r\n        * Return cell header object\r\n        * @param {} index\r\n        * @returns {}\r\n        */\n    getCellHeader: function getCellHeader(index) {\n      var rowHeader = this._getComponent(\"columns\");\n      var allVisibleTd = $(\"td:visible\", $(rowHeader));\n      var cell = allVisibleTd[index];\n\n      return $(cell);\n    },\n\n    /**\r\n        * Check if row its new\r\n        * @param {} businessKey\r\n        * @returns {}\r\n        */\n    isNewRecord: function isNewRecord(businessKey) {\n      var row = this._getComponent(\"rows\");\n\n      if (row) {\n        var businessKey = row.find(\"[data-business-key='\" + businessKey + \"']\");\n\n        if ($(businessKey).data('new-row')) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\r\n        * This method allows update the collapse state\r\n        * @param {} collapseState\r\n        * @returns {}\r\n        */\n    updateCollapseState: function updateCollapseState(collapseState) {\n      this.collapseState = collapseState;\n    },\n\n    /**\r\n        * Delete the draft row selected\r\n        * @param {} item\r\n        * @returns {}\r\n        */\n    _deleteDraft: function _deleteDraft(key, businessKey) {\n      var self = this;\n\n      // Retrieve key of added rows\n      var newRowKeys = self.getNewRowKeys();\n\n      // Hide buttons         \n      if (newRowKeys.length > 1) {\n        var draftRow = self.getDraftRow(businessKey);\n        draftRow.detach();\n\n        // Remove pending changes of draft rows\n        if (self.changes && self.changes[key]) {\n          delete self.changes[key];\n        }\n\n        // Remove draft rows\n        if (self.newRecords && self.newRecords[key]) {\n          delete self.newRecords[key];\n        }\n\n        self._triggerHandler(\"removeNewRecords\", { keys: [businessKey] });\n\n      } else {\n        self.onCancelEdition();\n      }\n    },\n\n    /**\r\n        * Get current draft row\r\n        * @param {} key\r\n        * @returns {}\r\n        */\n    getDraftRow: function getDraftRow(businessKey) {\n      var row = this._getComponent(\"rows\").find(\"[data-business-key=\" + businessKey + \"]\");\n\n      return $(row);\n    } });\n\n\n\n})(jQuery);","/*\r\n* Upload control for Bizagi Workportal\r\n* @author: David Andres Niño Villalobos\r\n*/\n\n(function ($) {\n  $.fn.bizagiUpload = function (options) {\n\n    var self = this;\n    var controlReference = this;\n    var EXTENSIONS_INVALID = [\"exe\", \"bat\", \"bash\"];\n\n    // define options\n    options = options || {};\n\n    var opt = {\n      renderReference: {},\n      dialogTemplate: {},\n      properties: {},\n      uploadedFiles: -1,\n      maxAllowedFiles: -1,\n\n      isIE: bizagi.util.isIE,\n      isECM: false,\n      isUpdatingECM: false,\n\n      onUploadFileCompletedCallback: function onUploadFileCompletedCallback() {},\n      onChangeFile: function onChangeFile() {},\n      onCheckMaxSize: checkMaxSize,\n      onValidate: function onValidate() {\n        return true;\n      },\n      dialogTitle: \"\",\n      height: 350,\n      width: 500,\n      onUploadFileProcess: function onUploadFileProcess() {},\n      onUploadDialogReady: function onUploadDialogReady() {} };\n\n\n    // Extend options\n    $.extend(opt, opt, options);\n\n    self.opt = opt;\n\n    function init() {\n\n      bindElements();\n      formatExtensions();\n    }\n\n    // Add events\n    function bindElements() {\n\n      //By default, the control is enabled\n      if (opt.renderReference.enabled === undefined)\n      opt.renderReference.enabled = true;\n\n      // Click event\n      if (opt.isECM && opt.isUpdatingECM) {\n        $(\".modal-ecm .ecm-options-upgrade\", self).click(function () {\n          if (opt.renderReference.enabled) {\n            //Hides the modal control\n            $(\".modal-ecm\", self).hide();\n\n            // Open dialog\n            openUploadDialog();\n          }\n        });\n\n      } else {\n        self.click(function () {\n          if (opt.renderReference.enabled)\n          openUploadDialog(); // Open dialog\n        });\n      }\n    }\n\n    /*\r\n      * Adjust the valid extensions, to keep it in a list wich is used inside the upload dialog template\r\n      */\n    function formatExtensions() {\n\n      if (opt.properties.validExtensions != \"\") {\n        var extensionList = opt.properties.validExtensions.replaceAll(\"*\", \"\");\n        extensionList = extensionList.replaceAll(\";\", \",\");\n\n        opt.properties.processedFileExtension = extensionList;\n      }\n    }\n\n    /*\r\n      * open the upload Dialog\r\n      */\n    function openUploadDialog() {\n      var self = this;\n      var doc = window.document;\n      var dialogBox = self.dialogBox = $(\"<div class='ui-bizagi-component-loading'/>\");\n      var reverseButtons = false;\n\n      if (opt.renderReference.getFormContainer) {\n        reverseButtons = opt.renderReference.getFormContainer().properties.orientation == \"rtl\" ? true : false;\n      }\n\n      // Reset Flag\n      self.isClicked = false;\n\n      var buttons = [];\n\n      // Select button\n      buttons[0] = {\n        text: bizagi.localization.getResource(\"render-upload-dialog-select\"),\n        click: function click(e) {\n\n          var result = false;\n\n          if (!self.isClicked) {\n            self.isClicked = true;\n\n            if (opt.onCheckMaxSize(opt.renderReference) && checkFileTypes() && opt.onValidate(opt.renderReference)) {\n              //Check this parameter exclusive for upload control\n              if (opt.uploadedFiles > 0 && opt.maxAllowedFiles > 0) {\n                result = !maxFilesLimit() ? true : false;\n              } else {\n                result = true;\n              }\n\n              //Separated Logic for ECM upload dialog\n              if (opt.isECM) {\n\n                var fileName = $('input[type=file]', dialogBox).val();\n                fileName = fileName.substring(fileName.lastIndexOf(\"\\\\\") + 1, fileName.length);\n                $('[name=Filename]', self.dialobBox).val(fileName);\n\n                if (opt.isUpdatingECM) {\n                  var extension = \"*\" + fileName.substring(fileName.lastIndexOf(\".\"), fileName.length);\n                  $('[name=fileext]', self.dialobBox).val(extension);\n                }\n              }\n\n\n              if (result) {\n                opt.onUploadFileProcess();\n                $.when(processUploadFile.call(this)).done(function (data) {\n                  if (opt.isECM) {\n                    var response = JSON.parse(data);\n\n                    if (opt.isUpdatingECM) {\n                      //Inserts manually the attributes\n                      if (response.xpath)\n                      result.xPath = result.xpath;\n\n                      if (!response.idPageCache)\n                      response.idPageCache = opt.properties.idPageCache;\n\n                      response.filename = response.fileName;\n\n                      var data = {\n                        fileName: response.fileName,\n                        idAttrib: response.idAttrib,\n                        idFileUpload: response.idFileUpload,\n                        idPageCache: response.idPageCache,\n                        xPath: opt.properties.xPath,\n                        xpathContext: opt.properties.xpathContext };\n\n\n                      opt.onUploadFileCompletedCallback(opt.renderReference, data, controlReference, response);\n                    } else {\n                      opt.onUploadFileCompletedCallback(opt.renderReference, response);\n                    }\n                  } else\n                  opt.onUploadFileCompletedCallback(opt.renderReference, data);\n\n                  if (opt.alertAfterUpload) {\n                    bizagi.showMessageBox(bizagi.localization.getResource(opt.alertAfterUpload), \"Bizagi\", \"info\");\n                  }\n                  closeUploadDialog();\n                });\n              }\n            } else {\n              self.isClicked = false;\n            }\n          }\n        } };\n\n\n\n\n      // Cancel button\n      buttons[1] = {\n        text: bizagi.localization.getResource(\"text-cancel\"),\n        click: function click() {\n          closeUploadDialog();\n        } };\n\n\n      if (reverseButtons)\n      buttons.reverse();\n\n      // Creates a dialog\n      opt.renderReference.dialogBox = dialogBox.dialog({\n        width: opt.width,\n        height: opt.height,\n        title: opt.dialogTitle,\n        modal: true,\n        draggable: false,\n        resizable: false,\n        maximize: false,\n        buttons: buttons,\n        close: function close() {\n          closeUploadDialog();\n        } });\n\n\n      //Creates the element with the required parameters\n\n      var contentDialog = $.tmpl(opt.dialogTemplate, opt.properties, { isIE: opt.isIE, timeout: getEstimatedTimeByNetworkSpeed });\n      contentDialog.appendTo(dialogBox);\n\n      // Fix issue associated to valid file extensions with IE (accept property)\n      $(\"input[type=file]\", contentDialog).click(function (event) {\n        var self = $(this);\n\n        if (self.val() !== \"\") {\n          self.val(\"\");\n        }\n      });\n\n      $(\"input[type=file]\", contentDialog).change(function (event) {\n        opt.onChangeFile(event.target.files);\n      });\n\n      $('.ui-bizagi-loading-message').remove();\n      opt.onUploadDialogReady();\n    }\n\n    /*\r\n      *   Process an upload file into the server\r\n      */\n    function processUploadFile() {\n      if (bizagi.util.isIE() && !(bizagi.util.isIE11() || bizagi.util.isIE10())) {\n        return processUploadFileOldBrowsers();\n      } else {\n        return processUploadFileModernBrowsers();\n      }\n    }\n\n    function processUploadFileOldBrowsers() {\n      var self = this;\n      var defer = new $.Deferred();\n      var dialogBox = opt.renderReference.dialogBox;\n      var uploadForm = $(\"form\", dialogBox);\n      var uploadIFrame = $(\"iframe\", uploadForm);\n\n      var fileControl = $(\"input[type=file]\", dialogBox).get(0) || {};\n      if (typeof fileControl.files !== \"undefined\") {\n        var netSpeed = typeof opt.properties.networkSpeed != \"undefined\" ? opt.properties.networkSpeed : networkSpeed();\n        var estimatedTime = getEstimatedTimeByNetworkSpeed(fileControl.files ? fileControl.files[0].size : 666, netSpeed);\n        var $estimatedTime = $(\"#estimatedtime\", dialogBox);\n        var $statusContainer = $(\"#file-upload-status\", dialogBox);\n        $(\"#file-upload-status .file-upload-latency\").show();\n\n        clearInterval(self.interval);\n        self.interval = window.setInterval(function () {\n          $estimatedTime.html(--estimatedTime + \" s\");\n          if (estimatedTime <= 0) {\n            $statusContainer.html(\"Still working...\");\n            clearInterval(self.interval);\n          }\n        }, 1000);\n      }\n\n      // When the iframe loads the user we need to evaluate the response and close the dialog\n      var timeoutFn = function timeoutFn() {\n        try {\n          var response = \"\";\n          if (uploadIFrame[0].contentWindow || windoFrameObj) {\n\n            if (bizagi.util.isIE8()) {\n              iframeContent = $(uploadIFrame[0].contentWindow.document.body);\n              response = iframeContent.text();\n            } else {\n              iframeContent = $(uploadIFrame[0].contentWindow.eval(\"document.body\"));\n              response = iframeContent.text();\n            }\n          }\n          if (response.length > 0) {\n            defer.resolve(response);\n          } else {\n            setTimeout(timeoutFn, 50);\n          }\n        } catch (e) {\n          // Nothing to do, just close the window and show error message\n          closeUploadDialog();\n          window.alert(e.toString());\n        }\n      };\n\n      ///Due to the server response, is necessary to validate which browser the client is using\n      if (bizagi.util.isIE() || bizagi.util.isIE11()) {\n        //Creates dataService object to call required services\n        if (!self.dataService)\n        self.dataService = new bizagi.workportal.services.service();\n\n        $.when(self.dataService.getCurrentUser(\"\")).done(function (responseLogin) {\n          // Execute the timed function in order to check when the response has arrived\n          timeoutFn();\n\n          // Submit the form\n          uploadForm.submit();\n        }).fail(function (event) {\n        });\n      } else\n      {\n        // Execute the timed function in order to check when the response has arrived\n        timeoutFn();\n\n        // Submit the form\n        uploadForm.submit();\n      }\n\n      return defer.promise();\n    }\n\n    function processUploadFileModernBrowsers() {\n      var fileControl = $(\"input[type=file]\", dialogBox).get(0) || {};\n      var $form = $(\"form\", dialogBox);\n      var def = new $.Deferred();\n      var $statusElement = $(\"#file-upload-status .file-upload-statusbar\");\n      $statusElement.show();\n\n\n      var xhr = new XMLHttpRequest();\n\n      var data = new FormData();\n      data.append($(\"input[type=file]\", dialogBox).prop(\"name\"), fileControl.files[0]);\n\n      $(\"input[type='hidden']\", dialogBox).each(function () {\n        data.append(this.name, this.value);\n      });\n\n      var uploadProgress = function uploadProgress(progress) {\n        var percent = Math.round(progress.loaded * 100 / progress.total);\n        var message = percent >= 99 ? bizagi.localization.getResource(\"render-upload-status-waiting\") : percent + \"%\";\n\n        $(\".statusbar\", $statusElement).css(\"width\", percent + \"%\");\n        $(\".statuspercent\", $statusElement).html(message);\n      };\n\n      var uploadComplete = function uploadComplete(e) {\n        var payload = e.target.responseText;\n\n        if (e.target.status === 503) {\n          bizagiConfig && bizagiConfig.maintenanceWindows &&\n          bizagiConfig.maintenanceWindows.startValidated(e.target, payload);\n\n          payload = JSON.stringify({\n            type: \"error\",\n            message: e.target.statusText,\n            isMaintenanceWindow: true });\n\n        }\n\n        def.resolve(payload);\n      };\n\n      xhr.upload.addEventListener(\"progress\", uploadProgress, false);\n      xhr.addEventListener(\"load\", uploadComplete, false);\n\n      xhr.open(\"POST\", opt.properties.url);\n      xhr.setRequestHeader('X-BZXSRF-TOKEN', bizagi.getXSRFToken());\n      if (bizagi.util.isWebpartContext()) {\n        var sitesContext = location.search.match(/sitesEl=([^&]*)/);\n        if (sitesContext) {\n          xhr.setRequestHeader('Authorization', $.ajaxSetup().headers[\"Authorization\"]);\n        }\n      }\n\n      xhr.send(data);\n\n      return def.promise();\n    }\n\n    /*\r\n      *   Verifies the maximun file size\r\n      */\n    function checkMaxSize() {\n      var self = this;\n      var properties = opt.properties;\n      var dialogBox = opt.renderReference.dialogBox;\n      var fileControl = $(\"input[type=file]\", dialogBox).get(0) || {};\n\n      // Dont exist any way to know file size in IEx, just skip this validation\n      if (fileControl.files != undefined) {\n        if (fileControl.files.length > 0) {\n          if (fileControl.files[0].size > properties.maxSize) {\n            showError(bizagi.localization.getResource(\"render-upload-alert-maxsize\").replace(\"{0}\", properties.maxSize));\n            return false;\n          }\n          return true;\n        } else {\n          showError(bizagi.localization.getResource(\"render-required-upload\").replace(\"#label#\", \"\"));\n          return false;\n        }\n      } else {\n        if (bizagi.util.isIE()) {\n          if (fileControl.value === \"\" || !fileControl.value) {\n            showError(bizagi.localization.getResource(\"render-required-upload\").replace(\"#label#\", \"\"));\n            return false;\n          } else {\n            return true;\n          }\n        } else {\n          return true;\n        }\n      }\n    }\n\n    /*\r\n      *   Verifies the file extension after selecting it from the \"Browse file\" dialog\r\n      */\n    function checkFileTypes() {\n      var self = this;\n      var properties = opt.properties;\n      var dialogBox = self.dialogBox;\n      var file = $(\"input[type=file]\", dialogBox).val();\n\n      // ECM valid extension\n      if (opt.isECM) {\n\n        var fileName = file.substring(file.lastIndexOf(\"\\\\\") + 1, file.length);\n        var extension = fileName.substring(fileName.lastIndexOf(\".\"), fileName.length);\n\n        extension = extension.toLowerCase().replaceAll(\".\", \"\");\n\n        if (EXTENSIONS_INVALID.indexOf(extension) >= 0) {\n          showError(bizagi.localization.getResource(\"render-upload-error-extensions\"));\n          return false;\n        }\n      }\n\n      if (properties.validExtensions && properties.validExtensions.length > 0) {\n        var validExtensions = properties.validExtensions.replaceAll(\"*.\", \"\").split(\";\");\n        if (!validateFilenameExtension(file, validExtensions, true)) {\n          showError(bizagi.localization.getResource(\"render-upload-allowed-extensions\") + properties.validExtensions);\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /*\r\n      *\r\n      */\n    function validateFilenameExtension(stringToCheck, acceptableExtensionsArray, required) {\n      if (required == false && stringToCheck.length == 0) {\n        return true;\n      }\n\n      for (var i = 0; i < acceptableExtensionsArray.length; i++) {\n        if (acceptableExtensionsArray[i].toLowerCase() == \"*\") {\n          return true;\n        }\n        if (stringToCheck.toLowerCase().endsWith(acceptableExtensionsArray[i].toLowerCase())) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /*\r\n      *   Check the maximun file than can be uploaded\r\n      */\n    function maxFilesLimit() {\n      if (opt.uploadedFiles >= opt.maxfiles) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    /*\r\n      *   Display the error inside the control\r\n      */\n    function showError(message) {\n      var self = this;\n      var errorContainer = $(\"#alert-file-upload\", self.dialogBox);\n\n      // Empty container\n      errorContainer.empty();\n      errorContainer.show();\n\n      errorContainer.html(message);\n    }\n\n\n    /*\r\n       *   Close the upload dialog\r\n       */\n    function closeUploadDialog() {\n      var self = this;\n      self.dialogBox.dialog('destroy');\n      self.dialogBox.detach();\n\n      self.isClicked = false;\n    }\n\n    // Init plugin\n    init();\n\n    return self;\n  };\n})(jQuery);","/* \r\n * Upload control for Bizagi Workportal\r\n *\r\n * This control has the same functionality as jquery.bizagi.upload (bizagiUpload)\r\n * except it is NOT shown in a dialog\r\n * @author: Andrés Fernando Muñoz Muñoz\r\n */\n\n(function ($) {\n  $.fn.bizagiFileUpload = function (options) {\n\n    var self = this;\n    var contentFormUpload;\n\n    var controlReference = this;\n\n    // define options\n    options = options || {};\n\n    var opt = {\n      renderReference: {},\n      formTemplate: {},\n      properties: {},\n      uploadedFiles: -1,\n      maxAllowedFiles: -1,\n\n      isIE: bizagi.util.isIE,\n      isECM: false,\n      isUpdatingECM: false,\n\n      onUploadFileCompletedCallback: function onUploadFileCompletedCallback() {},\n      onUploadFileFailCallback: function onUploadFileFailCallback() {},\n      onChangeFile: function onChangeFile() {},\n      onCheckMaxSize: checkMaxSize,\n      height: 200,\n      width: 500,\n      onUploadFileProcess: function onUploadFileProcess() {},\n      onUploadFormReady: function onUploadFormReady() {} };\n\n\n    // Extend options\n    $.extend(opt, opt, options);\n\n    self.opt = opt;\n\n    function init() {\n      formatExtensions();\n      initUploadForm();\n    }\n\n\n    /*\r\n       * open the upload form\r\n       */\n    function initUploadForm() {\n      var contentForm = $.tmpl(opt.formTemplate, opt.properties, { isIE: opt.isIE });\n\n\n      self.width(\"100%\");\n      self.height(\"40px\");\n\n      //this.contentForm = contentForm;\n      contentFormUpload = contentForm;\n      self.html(contentForm);\n      $(\"input[type=file]\", contentForm).change(function (event) {\n        opt.onChangeFile(event.target.files);\n      });\n      bindSubmitButton();\n      $(\".ui-bizagi-loading-message\").remove();\n      opt.onUploadFormReady();\n    }\n\n    /*\r\n       * Adjust the valid extensions, to keep it in a list wich is used inside the upload template\r\n       */\n    function formatExtensions() {\n\n      if (opt.properties.validExtensions !== \"\") {\n        var extensionList = opt.properties.validExtensions.replaceAll(\"*\", \"\");\n        extensionList = extensionList.replaceAll(\";\", \",\");\n\n        opt.properties.processedFileExtension = extensionList;\n      }\n    }\n\n    function bindSubmitButton() {\n      var self = this;\n      var doc = window.document;\n\n      var contentForm = contentFormUpload;\n      var buttons = {};\n\n      // Select button\n      $(\"#upload-file\", contentForm).click(function (e) {\n\n\n        var result = false;\n\n        if (opt.onCheckMaxSize(opt.renderReference) && checkFileTypes()) {\n          //start loading mask\n          opt.onUploadFileProcess();\n          //Check this parameter exclusive for upload control\n          if (opt.uploadedFiles > 0 && opt.maxAllowedFiles > 0) {\n            result = !maxFilesLimit() ? true : false;\n          } else\n          {\n            result = true;\n          }\n\n          //Separated Logic for ECM upload form\n          if (opt.isECM) {\n\n            var fileName = $(\"input[type=file]\", contentForm).val();\n            fileName = fileName.substring(fileName.lastIndexOf(\"\\\\\") + 1, fileName.length);\n            $(\"[name=Filename]\", contentForm).val(fileName);\n\n            if (opt.isUpdatingECM) {\n              var extension = \"*\" + fileName.substring(fileName.lastIndexOf(\".\"), fileName.length);\n              $(\"[name=fileext]\", contentForm).val(extension);\n            }\n          }\n\n          if (result) {\n\n            $.when(processUploadFile()).done(function (data) {\n\n              if (opt.isECM) {\n                var response = JSON.parse(data);\n\n                if (opt.isUpdatingECM) {\n                  //Inserts manually the attributes\n                  if (response.xpath)\n                  result.xPath = result.xpath;\n                  if (!response.idPageCache)\n                  response.idPageCache = opt.properties.idPageCache;\n                  response.filename = response.fileName;\n\n                  var data = { fileName: response.fileName,\n                    idAttrib: response.idAttrib,\n                    idFileUpload: response.idFileUpload,\n                    idPageCache: response.idPageCache,\n                    xPath: opt.properties.xPath,\n                    xpathContext: opt.properties.xpathContext };\n\n\n                  opt.onUploadFileCompletedCallback(opt.renderReference, data, controlReference, response);\n                } else\n                {\n                  opt.onUploadFileCompletedCallback(opt.renderReference, response);\n                }\n              } else\n\n              opt.onUploadFileCompletedCallback(opt.renderReference, data);\n\n              if (opt.alertAfterUpload) {\n                bizagi.showMessageBox(bizagi.localization.getResource(opt.alertAfterUpload), \"Bizagi\", \"info\");\n              }\n\n            }).fail(function (data) {\n              opt.onUploadFileFailCallback(data);\n              if (opt.alerFailtAfterUpload) {\n                bizagi.showMessageBox(bizagi.localization.getResource(opt.alerFailtAfterUpload), \"Bizagi\", \"warning\");\n              }\n            });\n          }\n        }\n\n\n      });\n    }\n\n\n    /*\r\n       *   Process an upload file into the server\r\n       */\n    function processUploadFile() {\n      var self = this;\n      var defer = new $.Deferred();\n      var contentForm = contentFormUpload;\n      var uploadForm = $(\"form\", contentForm);\n\n      if (window.FormData) {\n        var extForm = uploadForm[0];\n        var $extForm = $(extForm);\n        var url = $extForm.attr(\"action\");\n        var method = $extForm.attr(\"method\");\n        var formData = new FormData(extForm);\n\n        $.ajax({\n          url: url,\n          data: formData,\n          type: method,\n          timeout: 24 * 60 * 1000, // 24 minutes\n          contentType: false,\n          processData: false,\n          success: function success(response) {\n            if (response.length > 0) {\n              var responseJSON = JSON.parse(response);\n              if (responseJSON.result) {\n                defer.resolve(response);\n              } else {\n                defer.reject(response);\n              }\n            } else {\n              defer.reject(\"{}\");\n            }\n          },\n          error: function error(err) {\n            defer.reject(\"{}\");\n          } });\n\n      } else {\n        var uploadIFrame = $(\"iframe\", uploadForm);\n        var delay = bizagi.override.delayQuestionFileUpload || 1000;\n        // When the iframe loads the user we need to evaluate the response\n        var timeoutFn = function timeoutFn() {\n          try {\n            var response = \"\";\n            if (uploadIFrame[0].contentWindow) {\n              var iframeContent = bizagi.util.isIE() ? $(uploadIFrame[0].contentWindow.document.body) : $(uploadIFrame[0].contentWindow.eval(\"document.body\"));\n\n              response = iframeContent.text();\n              //response = $(\"pre\", iframeContent).length == 0 ? iframeContent[0].innerHTML : $(\"pre\", iframeContent)[0].innerHTML;\n            }\n            if (response.length > 0) {\n              var responseJSON = JSON.parse(response);\n              if (responseJSON.result) {\n                defer.resolve(response);\n              } else {\n                defer.reject(response);\n              }\n            } else {\n              setTimeout(timeoutFn, delay);\n            }\n          } catch (e) {\n            // Nothing to do, just show error message\n            window.alert(e.toString());\n          }\n        };\n\n        // Execute the timed function in order to check when the response has arrived\n        timeoutFn();\n\n        // Submit the form\n        //console.log(uploadForm);\n        uploadForm.submit();\n      }\n\n\n      return defer.promise();\n    }\n\n    /*\r\n       *   Verifies the maximun file size\r\n       */\n    function checkMaxSize() {\n      var self = this;\n      var properties = opt.properties;\n      var contentForm = contentFormUpload;\n      var fileControl = $(\"input[type=file]\", contentForm).get(0) || {};\n\n      // Dont exist any way to know file size in IEx, just skip this validation\n      if (fileControl.files != undefined) {\n        if (fileControl.files.length > 0) {\n          if (fileControl.files[0].size > properties.maxSize) {\n            showError(bizagi.localization.getResource(\"render-upload-alert-maxsize\").replace(\"{0}\", properties.maxSize));\n            return false;\n          }\n          return true;\n        } else\n        {\n          showError(bizagi.localization.getResource(\"render-required-upload\").replace(\"#label#\", \"\"));\n          return false;\n        }\n      } else {\n        if (bizagi.util.isIE()) {\n          if (fileControl.value === \"\" || !fileControl.value) {\n            showError(bizagi.localization.getResource(\"render-required-upload\").replace(\"#label#\", \"\"));\n            return false;\n          } else {\n            return true;\n          }\n        } else {\n          return true;\n        }\n      }\n    }\n\n    /*\r\n       *   Verifies the file extension after selecting it from the \"Browse file\"\r\n       */\n    function checkFileTypes() {\n      var self = this;\n      var properties = opt.properties;\n      var contentForm = contentFormUpload;\n      var file = $(\"input[type=file]\", contentForm).val();\n      if (properties.validExtensions && properties.validExtensions.length > 0) {\n        var validExtensions = properties.validExtensions.replaceAll(\"*.\", \"\").split(\";\");\n        if (!validateFilenameExtension(file, validExtensions, true)) {\n          showError(bizagi.localization.getResource(\"render-upload-allowed-extensions\") + properties.validExtensions);\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /*\r\n       *\r\n       */\n    function validateFilenameExtension(stringToCheck, acceptableExtensionsArray, required) {\n      if (required == false && stringToCheck.length == 0) {\n        return true;\n      }\n      for (var i = 0; i < acceptableExtensionsArray.length; i++) {\n        if (acceptableExtensionsArray[i].toLowerCase() == \"*\") {\n          return true;\n        }\n        if (stringToCheck.toLowerCase().endsWith(acceptableExtensionsArray[i].toLowerCase())) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /*\r\n       *   Check the maximun file than can be uploaded\r\n       */\n    function maxFilesLimit() {\n      if (opt.uploadedFiles >= opt.maxfiles) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    /*\r\n       *   Display the error inside the control\r\n       */\n    function showError(message) {\n      var self = this;\n      var errorContainer = $(\"#alert-file-upload\", contentFormUpload);\n\n      // Empty container\n      errorContainer.empty();\n      errorContainer.show();\n\n      errorContainer.html(message);\n    }\n\n\n\n\n    // Init plugin\n    init();\n\n    return self;\n  };\n})(jQuery);","/**\r\n *   Author: Alexander Mejia\r\n *   Comments:\r\n *   -   This widget will implement a custom filter for bizagi workportal module\r\n */\n(function ($) {\n  $.widget(\"ui.bizagi_filters\", {\n    options: {\n      type: 1,\n      parent: \"\",\n      data: {},\n      entity: false,\n      dataService: null,\n      templates: {\n        filterWrapper: \"\",\n        filterString: \"\",\n        filterNumber: \"\",\n        filterDate: \"\",\n        filterBoolean: \"\" },\n\n      // Se comentan los filtros porque queryengine no tiene soporte sobre los mismos. Descomentar a la espera de que se soporten\n      operators: {\n        \"equals\": { label: \"workportal-widget-filter-operators-equals-to\", appliesTo: [\"Text\", \"Number\", \"Integer\", \"DateTime\", \"Boolean\", \"RelatedEntity\", \"Entity\", \"Currency\"], operator: \"=\" },\n        //\"not-equals\": { label: \"workportal-widget-filter-operators-different-to\", appliesTo: [\"Text\", \"Number\", \"Integer\", \"DateTime\", \"Entity\", \"Currency\", \"Boolean\"], operator: \"!=\" },\n        \"like\": { label: \"workportal-widget-filter-operators-like\", appliesTo: [\"Text\", \"TextExtended\"], operator: \"LIKE\" },\n        \"is-null\": { label: \"workportal-widget-filter-operators-is-null\", appliesTo: [\"Text\", \"TextExtended\", \"Number\", \"Integer\", \"DateTime\", \"Boolean\", \"Entity\", \"Currency\"], isUnary: true, operator: \"IS NULL\" },\n        //\"is-not-null\": { label: \"workportal-widget-filter-operators-is-not-null\", appliesTo: [\"Text\", \"Number\", \"Integer\", \"DateTime\", \"Boolean\", \"Entity\", \"Currency\"], isUnary: true, operator: \"IS NOT NULL\" },\n        //\"less-than\": { label: \"workportal-widget-filter-operators-less-than\", appliesTo: [\"Number\", \"Integer\", \"DateTime\", \"Currency\"], operator: \"<\" },\n        \"less-equals-than\": { label: \"workportal-widget-filter-operators-less-or-equal-than\", appliesTo: [\"Number\", \"Integer\", \"DateTime\", \"Currency\"], operator: \"<=\" },\n        //\"greater-than\": { label: \"workportal-widget-filter-operators-greater-than\", appliesTo: [\"Number\", \"Integer\", \"DateTime\", \"Currency\"], operator: \">\" },\n        \"greater-equals-than\": { label: \"workportal-widget-filter-operators-greater-or-equal-than\", appliesTo: [\"Number\", \"Integer\", \"DateTime\", \"Currency\"], operator: \">=\" } },\n\n      // callbacks\n      change: null },\n\n\n    /**\r\n                       * limit for data using combo\r\n                       */\n    MAX_ENTITY_DATA_LENGTH: 1000,\n\n    /**\r\n                                   * class for identify if the combo is from entity filter\r\n                                   */\n    CLASS_ENTITY_FILTER_LOADER: \"biz-entity-filter\",\n\n    //Test\n    testPrivateFunction: function testPrivateFunction(nameFunction, params) {\n      var self = this;\n      return self[nameFunction].call(self, params);\n    },\n\n    /**\r\n        * Constructor\r\n        */\n    _create: function _create() {\n      var self = this;\n\n      self._on(self.element, {\n        \"click\": function click() {\n          self.buildFilter();\n        } });\n\n    },\n\n    /**\r\n        * Builds the filter with operators and control to input data\r\n        */\n    buildFilter: function buildFilter() {\n      var self = this,\n      templates = self.options.templates;\n\n      self.filterType = self.getFilterType();\n\n      if ($.isFunction(self[\"build\" + self.filterType + \"Filter\"])) {\n\n        var $filter = self.$filter = $.tmpl(templates.filterWrapper);\n        $filter.appendTo(\"body\", document);\n\n        // Define handler to close the item\n        setTimeout(function () {\n          // Capture all click elements inside the popup\n          $filter.click(function (e) {\n            e.stopPropagation();\n          });\n\n          // Make a document click, if the event bubbles up to here then the click was made outside popup boundaries\n          $(document).one(\"click\", function (ev) {\n            // Given that the previous event is to general, it is necessary to specify that the user do the click outside the jquery date picker\n            if ($(ev.target).closest(\"#ui-datepicker-div\").length === 0 && $(ev.target).closest(\".ui-datepicker-header\").length === 0) {\n              $filter.remove();\n              // If it is a datetime filter the date picker must also be removed from the DOM\n              if (self.filterType === 'DateTime') {\n                $(\"#ui-datepicker-div\").remove();\n              }\n            }\n          });\n        }, 100);\n\n        // Add Operators\n        self.addOperators($filter);\n        self.configureHandlers($filter);\n\n        // Add Control\n        self[\"build\" + self.filterType + \"Filter\"]($filter);\n\n        // Locate the widget\n        $filter.css(self.getPosition());\n      }\n    },\n\n    /**\r\n        * Configure handlers for different elements of the component\r\n        */\n    configureHandlers: function configureHandlers($filter) {\n      var self = this;\n\n      $filter.find(\"#biz-column-filter-buttons\").on(\"click\", \".biz-column-filter-button\", function (ev) {\n        var $target = $(ev.target),\n        $button = $target.closest(\"button\"),\n        data = self.options.data,\n        buttonType = $button.data(\"button\");\n\n        if (buttonType == \"apply\") {\n          self.applyFilter(data);\n        } else\n        if (buttonType == \"clear\") {\n          self.options.data = {};\n          self._trigger(\"change\", \"\", {});\n        }\n\n        $filter.remove();\n        // If it is a datetime filter the date picker must also be removed from the DOM\n        if (self.filterType === 'DateTime') {\n          $(\"#ui-datepicker-div\").remove();\n        }\n      });\n    },\n\n    applyFilter: function applyFilter(data) {\n      var self = this;\n      if (data.key === \"is-null\") {\n        data.value = undefined;\n      }\n      if (data.key === \"is-null\" || data.key !== \"is-null\" && typeof data.value !== \"undefined\" && data.value !== null) {\n        self._trigger(\"change\", \"\", data);\n      }\n    },\n\n    /**\r\n        * Adds operators related with the type of control\r\n        */\n    addOperators: function addOperators($filter) {\n      var self = this;\n      var $operators = $filter.find(\"#biz-column-filter-operators\");\n      var operatorsData = self.getOperators();\n      var initialValue = self.getInitialValue(operatorsData);\n\n      $operators.uicombo({\n        data: { combo: operatorsData },\n        initValue: initialValue,\n        itemValue: function itemValue(item) {\n          return item.id;\n        },\n        itemText: function itemText(item) {\n          return item.displayName;\n        },\n        onChange: function onChange(obj) {\n          self.setControlVisibility(obj.ui.data(\"value\"));\n          self.update({ operator: self.getOperator(obj.ui.data(\"value\")) });\n          self.update({ key: obj.ui.data(\"value\") });\n\n          if (obj.ui.data(\"value\") === \"is-null\") {\n            self.enableButton(\"filter\");\n          } else\n          {\n            var $inputTextControl = self.$filter.find(\"#biz-column-filter-control input[type=text]\");\n            if ($inputTextControl.length > 0 && $inputTextControl.val().length === 0) {\n              self.disableButton(\"filter\");\n            }\n          }\n        } });\n\n    },\n\n    /**\r\n        * Returns the initial operator\r\n        */\n    getInitialValue: function getInitialValue(operatorsData) {\n      var self = this;\n      var data = self.options.data;\n\n      if (data) {\n        for (var i = 0, l = operatorsData.length; i < l; i++) {\n          var item = operatorsData[i];\n          if (item.id == data.key) {\n            self.setControlVisibility(item.id);\n            return item;\n          }\n        }\n      }\n\n      self.setControlVisibility(operatorsData[0].id);\n      self.update({ operator: self.getOperator(operatorsData[0].id) });\n      self.update({ key: operatorsData[0].id });\n\n      return operatorsData[0];\n    },\n\n    /**\r\n        * Returns the properties to locate the filter\r\n        */\n    getPosition: function getPosition() {\n      var self = this;\n      var $parent = self.options.parent;\n      var offset = $parent.offset();\n\n      return {\n        \"top\": offset.top + $parent.height(),\n        \"left\": offset.left };\n\n    },\n\n    /**\r\n        * This method returns the type of filter to build\r\n        */\n    getFilterType: function getFilterType() {\n      var self = this;\n      var type = self.options.type;\n\n      if (self.options.entity) {\n        return \"RelatedEntity\";\n      }\n\n      if (type == 15 || type == 14 || type == 16 || type == 21 || type == 22) {\n        return \"Text\";\n      }\n\n      if (type == 23) {\n        return \"TextExtended\";\n      }\n\n      if (type == 1 || type == 2 || type == 3 || type == 4) {\n        return self.options.entity ? \"Entity\" : \"Integer\";\n      }\n\n      if (type == 6 || type == 7 || type == 10 || type == 11) {\n        return \"Number\";\n      }\n      if (type == 12 || type == 13) {\n        return \"DateTime\";\n      }\n      if (type == 5 || type == 26) {\n        return \"Boolean\";\n      }\n      if (type == 8) {\n        return \"Currency\";\n      }\n    },\n\n    validateLimitsNumbersByType: function validateLimitsNumbersByType(type, value) {\n      var min,max,response = {};\n      /**\r\n                                  * Types Definedin Backend\r\n                                  * None = 0,BigInt = 1,Int = 2,SmallInt = 3,TinyInt = 4,Boolean = 5,Decimal = 6,Numeric = 7,Money = 8,Float = 10,Real = 11,DateTime = 12,SmallDateTime = 13,\r\n                                 Char = 14,VarChar = 15,Text = 16,Binary = 17,VarBinary = 18,Image = 19,Guid = 20,NChar = 21,NVarChar = 22,NText = 23,MxMBidirectionalRelationship = 24,\r\n                                 MxMUnidirectionalRelationship = 25,EntityDisabled = 26,UserAuth = 27,MxMUnidirectionalRelationshipWithoutFilter = 28,OracleNumber = 29,\r\n                                 Stakeholder = 30,ActivityItems = 31\r\n                                 */\n      switch (type) {\n        case 1:\n          min = -9007199254740992;\n          max = min * -1;\n          break;\n        case 2:\n        case 7:\n        case 29:\n          min = -2147483647;\n          max = min * -1;\n          break;\n        case 3:\n          min = -32767;\n          max = min * -1;\n          break;\n        case 4:\n          min = 0;\n          max = 255;\n          break;\n        case 6:\n        case 8:\n          min = -922337203685477;\n          max = min * -1;\n          break;\n        case 10:\n          min = -999999999999999;\n          max = min * -1;\n          break;\n        case 11:\n          min = -9999999;\n          max = min * -1;\n          break;\n        default:\n          min = -2147483647;\n          max = min * -1;\n          break;}\n\n      if (typeof value !== \"undefined\") {\n        response.result = value >= min && value <= max;\n        response.maxValue = max;\n        response.sign = Math.sign(value);\n      }\n      response.message = bizagi.localization.getResource(\"workportal-widget-filter-validator-between-values\").\n      replace(\"{0}\", min).replace(\"{1}\", max);\n      return response;\n    },\n\n    /**\r\n        * Configure the number control\r\n        */\n    buildCurrencyFilter: function buildCurrencyFilter($filter) {\n      var self = this;\n      var data = self.options.data || {};\n      var templates = self.options.templates;\n\n      var $control = $filter.find(\"#biz-column-filter-control\");\n      $control.append($.tmpl(templates.filterNumber, {\n        value: data.value || null,\n        title: self.validateLimitsNumbersByType(self.options.type).message }));\n\n\n      var $input = $control.find(\"input\");\n\n      $input.numeric(bizagi.currentUser.decimalSeparator);\n\n      var numericFormat = bizagi.clone(bizagi.localization.getResource(\"numericFormat\"));\n      if (typeof bizagi.currentUser.symbol != \"undefined\") {\n        numericFormat.symbol = bizagi.currentUser.symbol;\n      }\n      $input.formatCurrency(numericFormat);\n\n      var collectDataValue = function collectDataValue($input) {\n        var value = $input.val(),\n        regexString = \"/[\" + numericFormat.symbol + numericFormat.digitGroupSymbol + \"]/g\",\n        regex = eval(regexString);\n\n        value = value.replace(regex, \"\");\n\n        var auxInput = $(\"<input>\").attr({\n          type: \"text\",\n          value: value });\n\n\n        //validate number and set max value if it exceeds limits\n        var validationNumber = self.validateLimitsNumbersByType(self.options.type, auxInput.asNumber());\n        if (!validationNumber.result && value !== 0) {\n          value = validationNumber.maxValue * validationNumber.sign;\n          $input.val(value);\n          $input.formatCurrency(numericFormat);\n        }\n\n        if (value.length === 0) {\n          value = null;\n        }\n        return value;\n      };\n\n      var updateValue = function updateValue() {\n        var value = collectDataValue($input);\n        value === null ? '' : self.update({ value: parseFloat(value.toString().replace(\",\", \".\")) });\n      };\n\n      updateValue(); //Because the format set automatically value\n\n      $.proxy(self.configureHandlerInputTypeText($input, $filter, data, updateValue), self);\n    },\n\n    /**\r\n        * make request for entities when it's a suggest for many data\r\n        * @param {String} entity guid\r\n        * @param {String} attribute guid\r\n        * @param {Jquery Element} $control combo\r\n        * @param {Array} arrayData memory reference\r\n        * @param {String} text for suggest\r\n        */\n    _entityRequestComboFilter: function _entityRequestComboFilter(entity, attribute, $control, arrayData, text) {\n      var self = this,\n      _params = {\n        idEntity: entity,\n        idAttribute: attribute,\n        displayAttribFilter: text },\n\n      _showLoader = function _showLoader() {\n        $control.\n        addClass(self.CLASS_ENTITY_FILTER_LOADER).\n        startLoading({ delay: 0, overlay: true });\n      },\n      _hideLoader = function _hideLoader() {\n        $control.\n        removeClass(self.CLASS_ENTITY_FILTER_LOADER).\n        endLoading();\n      },\n      _overrideDataSameReference = function _overrideDataSameReference(dataResult) {\n        arrayData.splice(0, arrayData.length);\n        dataResult.map(function (d) {\n          arrayData.push(d);\n        });\n      },\n      _callback = function _callback(dataResult) {\n        _hideLoader();\n        _overrideDataSameReference(dataResult);\n        $control.methods.comboDropDown.call($control);\n      };\n\n      _showLoader();\n      $.when(self.options.dataService.getAdminEntityData(_params)).\n      done(_callback);\n    },\n\n    /**\r\n        * update selected value and make request if is necessary\r\n        * @param {Boolean} isNumeric data id type\r\n        * @param {Array} entityData \r\n        * @param {Boolean} isManyData more than MAX_ENTITY_DATA_LENGTH\r\n        * @param {Jquery Element} $control \r\n        * @param {Event UICombo} obj \r\n        */\n    _onChangeBuildEntityFilter: function _onChangeBuildEntityFilter(isNumeric, entityData, isManyData, $control, obj) {\n      var self = this,\n      _idVal = obj.ui.data(\"value\"),\n      auxValue = isNumeric ? parseInt(_idVal) : _idVal,\n      _inputVal = obj.ui.val(),\n      _clickSelected = function _clickSelected() {\n        return entityData.\n        filter(function (a) {\n          return a.displayAttrib === _inputVal &&\n          a.id === auxValue;\n        }).\n        length > 0;\n      },\n      _makeRequest = isManyData && !_clickSelected();\n\n      if (_makeRequest) {\n        self._entityRequestComboFilter(self.options.entity, self.options.attribute, $control, entityData, _inputVal);\n      }\n\n      self.update({ value: auxValue });\n    },\n\n    /**\r\n        * Configure the Entity control\r\n        */\n    buildEntityFilter: function buildEntityFilter($filter) {\n      var self = this;\n      var data = self.options.data;\n      var dataService = self.options.dataService;\n\n      var $control = $filter.find(\"#biz-column-filter-control\");\n      $control.startLoading({ delay: 0, overlay: true });\n\n      var processEntityData = function processEntityData(entityData) {\n        var _total = entityData.length,\n        _isManyData = self.MAX_ENTITY_DATA_LENGTH < _total,\n        _searchAndEditable = _isManyData;\n\n        if (entityData && _total > 0) {\n          var initialValue = getInitialValue(entityData),\n          _isNumeric = $.isNumeric(entityData[0].id);\n          $control.uicombo({\n            isEditable: _searchAndEditable,\n            data: { combo: entityData },\n            initValue: initialValue,\n            itemValue: function itemValue(item) {\n              return item.id;\n            },\n            itemText: function itemText(item) {\n              return item.displayAttrib;\n            },\n            onChange: self._onChangeBuildEntityFilter.bind(self, _isNumeric, entityData, _isManyData, $control) });\n\n        } else\n        {\n          $control.text(\"No data\");\n          self.disableButton(\"filter\");\n        }\n      };\n\n      var getInitialValue = function getInitialValue(entityData) {\n        if (data && data.value) {\n          for (var i = 0, l = entityData.length; i < l; i++) {\n            var item = entityData[i];\n            if (item.id == data.value) {\n              self.update({ value: item.id });\n              return item;\n            }\n          }\n        }\n\n        var auxValue = entityData[0].id;\n        if ($.isNumeric(entityData[0].id)) {\n          auxValue = parseInt(auxValue);\n        }\n        self.update({ value: auxValue });\n        return entityData[0];\n      },\n      _params = {\n        idEntity: self.options.entity,\n        idAttribute: self.options.attribute,\n        displayAttribFilter: \"\" };\n\n\n      $.when(dataService.getAdminEntityData(_params)).\n      done(processEntityData).\n      always(function () {\n        $control.endLoading();\n      });\n    },\n\n    /**\r\n        * Configure the Related Entity\r\n        */\n    buildRelatedEntityFilter: function buildRelatedEntityFilter($filter) {\n      //This method is necessary because is necessary a new method for each new type and specific filters type\n      var self = this;\n      self.buildEntityFilter($filter);\n    },\n\n    /**\r\n        * Configure the datetime control\r\n        */\n    buildDateTimeFilter: function buildDateTimeFilter($filter) {\n      var self = this;\n      var data = self.options.data || {};\n      var templates = self.options.templates;\n      var dateFormat = bizagi.util.dateFormatter.getDateFormatByDatePickerJqueryUI().toLowerCase();\n      var dateFormatDisplay = bizagi.localization.getResource(\"dateFormat\").replace(/\\b(y{2})\\b/g, \"yyyy\"); // Replace yy for yyyy so the date picker can show the selected date\n      var $control = $filter.find(\"#biz-column-filter-control\");\n      var displayDate = bizagi.util.dateFormatter.formatDate(new Date(data.value), dateFormatDisplay);\n      displayDate = displayDate ? displayDate : undefined;\n      $control.append($.tmpl(templates.filterDate, { value: displayDate }));\n\n      // Parse date\n      var date = null;\n\n      if (data.value) {\n        try {\n          date = new Date(data.value);\n          self.enableButton(\"filter\");\n        }\n        catch (e) {\n          date = null;\n          self.disableButton(\"filter\");\n        }\n      } else\n      {\n        self.disableButton(\"filter\");\n      }\n\n      var $dateControl = $control.find(\"input\");\n      $dateControl.datepicker({\n        //defaultDate: date,\n        dateFormat: dateFormat,\n        changeMonth: true,\n        changeYear: true,\n        numberOfMonths: 1,\n        yearRange: \"-100:+0\",\n        onSelect: function onSelect(dateText, inst) {\n          if (dateText) {\n            var date = new Date(inst.currentMonth + 1 + \"/\" + inst.currentDay + \"/\" + inst.currentYear + \" 00:00\");\n            var value = bizagi.util.dateFormatter.formatDate(date, \"MM/dd/yyyy HH:mm\");\n            self.update({ value: value });\n            self.enableButton(\"filter\");\n          }\n        } });\n\n    },\n\n    /**\r\n        * Configure the datetime control\r\n        */\n    buildBooleanFilter: function buildBooleanFilter($filter) {\n      var self = this;\n      var data = self.options.data || {};\n      var templates = self.options.templates;\n\n      var $control = $filter.find(\"#biz-column-filter-control\");\n      $control.append($.tmpl(templates.filterBoolean, { value: data.value }));\n\n      $control.optiongroup();\n\n      if (data && data.value !== undefined) {\n        $control.optiongroup(\"setValue\", data.value.toString());\n      }\n\n      // Bind change event\n      $control.on(\"optiongroupchange\", function (evt, ui) {\n        var value = bizagi.util.parseBoolean(ui.value);\n        self.update({ value: value });\n      });\n\n    },\n\n    /**\r\n        * Configure the number control\r\n        */\n    buildIntegerFilter: function buildIntegerFilter($filter) {\n      var self = this;\n      var data = self.options.data || {};\n      var templates = self.options.templates;\n\n      var $control = $filter.find(\"#biz-column-filter-control\");\n      $control.append($.tmpl(templates.filterNumber, self.configureDataToAppend(data)));\n\n      var $input = $control.find(\"input\");\n      $input.numeric();\n      var numericFormat = bizagi.clone(bizagi.localization.getResource(\"numericFormat\"));\n\n      $input.formatCurrency($.extend(numericFormat, { symbol: \"\", decimalDigits: 0, roundToDecimalPlace: -1 }));\n\n      var updateValue = function updateValue() {\n        var value = $input.val(),\n        regexString = \"/[\" + numericFormat.digitGroupSymbol + \"]/g\",\n        regex = eval(regexString);\n\n        value = value.replace(regex, \"\");\n\n        var auxInput = $(\"<input>\").attr({\n          type: \"text\",\n          value: value });\n\n\n        //validate number and set max value if it exceeds limits\n        var validationNumber = self.validateLimitsNumbersByType(self.options.type, auxInput.asNumber());\n        if (!validationNumber.result && value !== 0) {\n          value = validationNumber.maxValue * validationNumber.sign;\n          $input.val(value);\n        }\n\n        if (value.length === 0) {\n          value = null;\n        }\n        self.update({ value: parseInt(value, 10) });\n      };\n\n      $.proxy(self.configureHandlerInputTypeText($input, $filter, data, updateValue), self);\n    },\n\n    /**\r\n        * Return json with data to append\r\n        * @param {*} data \r\n        */\n    configureDataToAppend: function configureDataToAppend(data) {\n      var self = this;\n      data = {\n        value: data.value || null,\n        title: self.validateLimitsNumbersByType(self.options.type).message };\n\n      return data;\n    },\n\n    /**\r\n        * Configure the number control\r\n        */\n    buildNumberFilter: function buildNumberFilter($filter) {\n      var self = this;\n      var data = self.options.data || {};\n      var templates = self.options.templates;\n\n      var $control = $filter.find(\"#biz-column-filter-control\");\n      $control.append($.tmpl(templates.filterNumber, self.configureDataToAppend(data)));\n\n      var $input = $control.find(\"input\");\n      $input.numeric(bizagi.currentUser.decimalSeparator);\n\n      var numericFormat = bizagi.clone(bizagi.localization.getResource(\"numericFormat\"));\n\n      $input.formatCurrency($.extend(numericFormat, { symbol: \"\" }));\n\n      var updateValue = function updateValue() {\n        var value = $input.val(),\n        regexString = \"/[\" + numericFormat.digitGroupSymbol + \"]/g\",\n        regex = eval(regexString);\n\n        value = value.replace(regex, \"\");\n\n        var auxInput = $(\"<input>\").attr({\n          type: \"text\",\n          value: value.replace(\",\", \".\") });\n\n\n        //validate number and set max value if it exceeds limits\n        var validationNumber = self.validateLimitsNumbersByType(self.options.type, auxInput.asNumber());\n        if (!validationNumber.result && value !== 0) {\n          value = validationNumber.maxValue * validationNumber.sign;\n          $input.val(value);\n        }\n\n        if (value.length === 0) {\n          value = null;\n        }\n        self.update({ value: parseFloat(value.toString().replace(\",\", \".\")) });\n      };\n\n      $.proxy(self.configureHandlerInputTypeText($input, $filter, data, updateValue), self);\n    },\n\n    /**\r\n        * Configure the text control\r\n        */\n    buildTextFilter: function buildTextFilter($filter) {\n      var self = this;\n      var data = self.options.data || {};\n      var templates = self.options.templates;\n\n      var $control = $filter.find(\"#biz-column-filter-control\");\n      $control.append($.tmpl(templates.filterString, { value: data.value }));\n\n      var $input = $control.find(\"input\");\n\n      var updateValue = function updateValue() {\n        var value = $input.val();\n        if (value.length === 0) {\n          value = null;\n        }\n        self.update({ value: value });\n      };\n\n      self.configureHandlerInputTypeText($input, $filter, data, updateValue);\n    },\n\n    /**\r\n        * Configure the text control extended\r\n        */\n    buildTextExtendedFilter: function buildTextExtendedFilter($filter) {\n      //This method is necessary because is necessary a new method for each new type\n      var self = this;\n      self.buildTextFilter($filter);\n    },\n\n    /**\r\n        *   trigger a callback/event\r\n        */\n    update: function update(newValue) {\n      var self = this;\n      var data = self.options.data;\n\n      $.extend(data, newValue);\n    },\n\n    /**\r\n        * returns an array of operators availables for the current type\r\n        */\n    getOperators: function getOperators() {\n      var self = this;\n      var operators = self.options.operators;\n      var filterType = self.filterType;\n      var result = [];\n\n      for (var oper in operators) {\n        var operator = operators[oper];\n        if ($.inArray(filterType, operator.appliesTo) >= 0) {\n          result.push({\n            displayName: bizagi.localization.getResource(operator.label),\n            id: oper });\n\n        }\n      }\n\n      return result;\n    },\n\n    /**\r\n        * Returns current operator\r\n        */\n    getOperator: function getOperator(item) {\n      var self = this;\n      var operators = self.options.operators;\n\n      return operators[item].operator;\n    },\n\n    /**\r\n        * Configure handlers input type text\r\n        * @param $input\r\n        */\n    configureHandlerInputTypeText: function configureHandlerInputTypeText($input, $filter, data, updateValue) {\n      var self = this;\n      $input.focus();\n\n      $input.keyup(function (ev) {\n        if ($input.val().trim().length > 0) {\n          self.enableButton(\"filter\");\n          if (ev.which == 13) {\n            updateValue();\n            self._trigger(\"change\", \"\", data);\n            $filter.remove();\n          }\n        } else\n        {\n          self.disableButton(\"filter\");\n        }\n      });\n\n      $input.change(function () {\n        if ($input.val().length > 0) {\n          updateValue();\n        }\n      });\n\n      if ($input.val().trim().length > 0) {\n        self.enableButton(\"filter\");\n      } else\n      {\n        self.disableButton(\"filter\");\n      }\n\n    },\n\n    /**\r\n        * Hide or show the control, according to type of operator\r\n        */\n    setControlVisibility: function setControlVisibility(operator) {\n      var self = this;\n      var operators = self.options.operators;\n      var $control = self.$filter.find(\"#biz-column-filter-control\");\n\n      if (operators[operator]) {\n        var isUnary = operators[operator].isUnary === undefined ? false : operators[operator].isUnary;\n        isUnary ? $control.hide() : $control.show();\n      }\n    },\n\n    /**\r\n        * Disable button\r\n        */\n    disableButton: function disableButton(which) {\n      var self = this;\n      var buttons = self.$filter.find(\"#biz-column-filter-buttons  > .ui-bizagi-filter-buttons > button\");\n\n      if (which == \"filter\") {\n        $(buttons[0]).attr(\"disabled\", \"disabled\").addClass(\"ui-state-disabled\");\n\n      } else\n      if (which == \"clear\") {\n        $(buttons[1]).attr(\"disabled\", \"disabled\").addClass(\"ui-state-disabled\");\n      }\n    },\n\n    /**\r\n        * Enable button\r\n        */\n    enableButton: function enableButton(which) {\n      var self = this;\n      var buttons = self.$filter.find(\"#biz-column-filter-buttons  > .ui-bizagi-filter-buttons > button\");\n\n      if (which == \"filter\") {\n        $(buttons[0]).prop(\"disabled\", false).removeClass(\"ui-state-disabled\");\n\n      } else\n      if (which == \"clear\") {\n        $(buttons[1]).prop(\"disabled\", false).removeClass(\"ui-state-disabled\");\n      }\n    } });\n\n})(jQuery);","(function ($) {\n  var nextId = 0;\n  var _elements = [];\n  var _iconTemplate = '<div class=\"bz-overflow-menu-icon\">' +\n  '   <div class=\"bz-overflow-menu-icon bz-btn-icn bz-btn-icn--24\">' +\n  '       <svg class=\"bz-icn\" width=\"16px\" height=\"16px\">' +\n  '           <use xlink:href=\"#{{icon}}\"></use>' +\n  '       </svg>' +\n  '   </div>' +\n  '   <span class=\"bz-overflow-menu__item-text\">{{name}}</span>' +\n  '</div>';\n\n  $.fn.overflowMenu = function (options) {\n\n    return this.each(function () {\n      var self = this;\n\n      self.id = nextId++;\n      options = options || {};\n\n      var items = options.items || [];\n      var target = null;\n      var additionalTop = options.positionTop === true ? -1 : 0; // Up position\n\n      self.menu = document.createElement('ul');\n      self.menu.setAttribute('style', \"position: fixed; display: block;\");\n\n      self.menu.className = 'bz-overflow-menu';\n      self.menu.setAttribute('data-overflowmenu', self.id);\n\n      // Create <li>'s for each menu item\n      items.forEach(function (item, index) {\n        var li = document.createElement('li');\n\n        if (!('name' in item)) {\n          // Insert a divider\n          li.className = 'bz-overflow-menu__divider';\n        } else {\n          li.className = 'bz-overflow-menu__item';\n\n          if (!item.icon) {\n            li.textContent = item.name;\n          } else {\n            li.innerHTML = _iconTemplate.\n            replace(/{{icon}}/g, item.icon).\n            replace(/{{name}}/g, item.name);\n          }\n\n          li.setAttribute('data-overflowmenuitem', index);\n          li.setAttribute('tabindex', 0);\n          li.addEventListener('click', select.bind(this, li));\n        }\n\n        self.menu.appendChild(li);\n      });\n\n      function show(evt) {\n        target = evt.delegateTarget;\n\n        var x = evt.originalEvent.clientX;\n        var y = evt.originalEvent.clientY;\n\n        // Add root element to the <body>\n        setTimeout(function () {\n          var $area = $(self).parent();\n          var height = additionalTop * (parseFloat($area.height(), 0) / 2) || 0;\n          var yy = y;\n          var xx = x;\n\n          document.body.appendChild(self.menu);\n\n          if (client.H() - y < self.menu.offsetHeight) yy = y - self.menu.offsetHeight;\n          if (client.W() - x < self.menu.offsetWidth) xx = x - self.menu.offsetWidth;\n\n          self.menu.style.top = yy + height + 'px';\n          self.menu.style.left = xx + 'px';\n\n          $(self.menu).show();\n\n          // Give overflow menu focus\n          $(self.menu).focus();\n          _elements.push(self.menu);\n\n          // Add binding to global scroll\n          $(\"#content-wrapper\", document).on('scroll.overflow', function (e) {\n            removeMenu();\n\n            $(this, document).off('scroll.overflow');\n\n          });\n\n        }, 100);\n      }\n\n      // Hides overflow menu\n      function hide() {\n        $(self.menu).remove();\n      }\n\n      // Selects the given item and calls its handler\n      function select(item, e) {\n        var itemId = item.getAttribute('data-overflowmenuitem');\n\n        if (items[itemId]) {\n          // Call item handler with target element as parameter\n          items[itemId].fn(target);\n        }\n\n        hide();\n\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      // Listen click event to show menu\n      $(self).bind('click', function (e) {\n        var zIndex = getZIndex($(e.currentTarget));\n        $(self.menu).css(\"z-index\", zIndex);\n\n        show(e);\n      });\n    });\n\n  };\n\n  var client = {\n    W: function W() {\n      return document.documentElement.clientWidth;\n    },\n    H: function H() {\n      return document.documentElement.clientHeight;\n    } };\n\n\n  var removeMenu = function removeMenu() {\n\n    if (_elements && _elements.length > 0) {\n      _elements.forEach(function (el) {\n        $(el).remove();\n      });\n    }\n\n    _elements = [];\n  };\n\n  // Calculate the highest (top-most) zIndex in the document (minimum value returned: 2).\n  var getZIndex = function getZIndex($context) {\n    if ($context.get(0) === $('body').get(0)) return 2;\n\n    var $parent = $($context).parent();\n    var zIndex = parseFloat($parent.css('z-index'), -1);\n\n    if (zIndex > -1) return zIndex;\n\n    return getZIndex($parent);\n  };\n\n  // Returns the highest (top-most) zIndex in the document (minimum value returned: 2).\n  var topZIndex = function topZIndex() {\n    var $group = $(\"body > *\").has(\"div\");\n    var mapper = function mapper(v) {\n      if ($(v).css('position') === 'absolute')\n      return parseFloat($(v).css(\"z-index\")) || null;\n    };\n\n    return Math.max(2, Math.max.apply(null, $.map($group, mapper)));\n  };\n\n  $(document).on('click.overflow', function (e) {\n    removeMenu();\n  });\n\n})(jQuery);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                               Plugin to create WorkPortal Tables...\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   var options = {\r\n                                                                                                                                                                                                                                                                                                                                                                                       data: {},\r\n                                                                                                                                                                                                                                                                                                                                                                                       css:'customCSS'\r\n                                                                                                                                                                                                                                                                                                                                                                                   };\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $('selector').uitable(options);\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $(document).on(\"tableCompleted\", function(obj){\r\n                                                                                                                                                                                                                                                                                                                                                                                       //console.log(obj.message, obj.ui);\r\n                                                                                                                                                                                                                                                                                                                                                                                   });\r\n                                                                                                                                                                                                                                                                                                                                                                                   \r\n                                                                                                                                                                                                                                                                                                                                                                                   $(document).on(\"headerClicked\", function(obj){\r\n                                                                                                                                                                                                                                                                                                                                                                                       //console.log(obj.message, obj.ui);\r\n                                                                                                                                                                                                                                                                                                                                                                                   });\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                               @class $.fn.uitable \r\n                                                                                                                                                                                                                                                                                                                                                                               @constructor uitable\r\n                                                                                                                                                                                                                                                                                                                                                                               **/\n(function ($) {\n  \"use strict\";\n\n  $.fn.uitable = function (options, params) {\n\n    var plg = this;\n    plg.config = {\n      namespace: $.bizagi.ui.controls.uitable.namespace,\n      cssComponent: $.bizagi.ui.controls.uitable.css,\n      availableComponents: $.bizagi.ui.controls.uitable.availableComponents };\n\n\n    plg.settings = {\n      /**\r\n                     DataSource to create a checkbox Control\r\n                           var data = [\r\n                                     {\r\n                                         headers:[\r\n                                                     {value:'header1'}\r\n                                                 ],\r\n                                         rows:   [\r\n                                                     {value:'header1'},\r\n                                                     {value:{component:'uicombo', data:dataforComponent}\r\n                                                 ]\r\n                                     }\r\n                                 ];\r\n                       @property data \r\n                     @type Object\r\n                     @default \"{}\"\r\n                     **/\n\n\n      data: {},\n      asTable: true,\n      nameTemplate: $.bizagi.ui.controls.uitable.tmpl,\n      rowTemplate: $.bizagi.ui.controls.uitable.tmpl2,\n      /**\r\n                                                       Function to modify cell values\r\n                                                         @property cellValue \r\n                                                       @type Function\r\n                                                       @default \"null\"\r\n                                                       **/\n\n      cellValue: null,\n      /**\r\n                       Function to add class in odd rows\r\n                         @property oddClass \r\n                       @type String\r\n                       @default \"null\"\r\n                       **/\n\n      oddClass: null,\n      /**\r\n                      Function to add a custon CSS Class\r\n                        @property css \r\n                      @type String\r\n                      @default \"\"\r\n                      **/\n\n      css: '',\n      getTemplate: function getTemplate(name) {\n        return bizagi.getTemplate(name);\n      },\n      /**\r\n         Function exceute when table is ready\r\n           @property onComplete \r\n         @type Function\r\n         @default \"function(){}\"\r\n         **/\n\n      onComplete: function onComplete() {},\n      /**\r\n                                            Function exceute when each header is clicked\r\n                                              @property headerClick \r\n                                            @type Function\r\n                                            @default \"function(){}\"\r\n                                            **/\n\n      headerClick: function headerClick() {} };\n\n\n    plg.util = {\n      clone: function clone(arr) {\n        var arr2 = [];\n        for (var i = 0; i < arr.length; i++) {\n          arr2.push(arr[i]);\n        }\n        return arr2;\n      } };\n\n\n    plg.methods = {\n      init: function init(op) {\n        var self = $(this);\n        var template = op.getTemplate(op.nameTemplate);\n        var rowTemplate = op.getTemplate(op.rowTemplate);\n\n        self.attr('role', op.namespace);\n        self.addClass(op.cssComponent);\n        self.addClass(op.css);\n\n        $.when($.get(template), $.get(rowTemplate)).done(function (a, b) {\n          var nData = op.data;\n\n          nData = plg.methods.recursiveRows.apply(this, [op]);\n\n          var fValue = op.cellValue ? op.cellValue : plg.methods.cellValue;\n\n          var tmp = $.tmpl(a[0], nData, {\n            testValue: fValue });\n\n\n          op.rowTemplate = b[0];\n\n\n          self.data('cellValue', fValue);\n\n          if (op.onComplete) {\n            self.data('onComplete', op.onComplete);\n          }\n\n          if (plg.settings.oddClass) {\n            tmp.find('.biz-wp-table-row:odd').addClass(plg.settings.oddClass);\n          }\n\n          self.append(tmp);\n          plg.methods.addHandlers.apply(self, [tmp]);\n\n        }).fail(function () {\n          $.error('No se pudo cargar el template para generar las tablas');\n        });\n\n      },\n      addHandlers: function addHandlers(tmp) {\n        var self = $(this);\n\n        tmp.on('click.table', 'th', function (event) {\n          plg.settings.headerClick();\n\n          /**\r\n                                      Fired when header is clicked\r\n                                        @event headerClicked \r\n                                      @param {String} type headerClicked\r\n                                      @param {String} message\r\n                                      @param {Date} time\r\n                                      @param {Object} Jquery Object HTML\r\n                                      **/\n\n          $.event.trigger({\n            type: \"headerClicked\",\n            message: \"Header is Clicked\",\n            time: new Date(),\n            ui: $(event.target) });\n\n        });\n\n        plg.settings.onComplete.apply(self, []);\n\n\n        /**\r\n                                                 Fired when table is ready\r\n                                                   @event tableCompleted \r\n                                                 @param {String} type tableCompleted\r\n                                                 @param {String} message\r\n                                                 @param {Date} time\r\n                                                 @param {Object} Jquery Object HTML\r\n                                                 **/\n\n        $.event.trigger({\n          type: \"tableCompleted\",\n          message: \"Table is Completed\",\n          time: new Date(),\n          ui: self });\n\n\n        var components = $('[role^=\"component:\"]');\n\n        if (components.length > 0) {\n          plg.methods.createComponents.apply(self, [components]);\n        }\n\n        self.data('plg', plg);\n\n      },\n      createComponents: function createComponents(comps) {\n        var self = $(this);\n\n        for (var i = 0; i < comps.length; i++) {\n          var dataComp,el = $(comps[i]);\n          var type = el.attr('role').toLowerCase().replace('component:', '');\n\n          if (plg.methods.validateComponent(type)) {\n\n            if (plg.settings.data.datasource[el.data('position')]) {\n              dataComp = plg.settings.data.datasource[el.data('position')];\n            } else {\n              dataComp = self.data().plg.settings.data.datasource[el.data('position')];\n            }\n\n\n            el[type]({ data: dataComp });\n          } else {\n            $.error('No es un componente valido para tablas');\n          }\n        }\n\n      },\n      recursiveRows: function recursiveRows(op) {\n        var self = this;\n        for (var i = 0; i < op.data.rows.length; i++) {\n          for (var j = 0; j < op.data.rows[i].length; j++) {\n            op.data.rows[i][j].indexCol = j;\n            op.data.rows[i][j].indexRow = i;\n          }\n        }\n\n        return op.data;\n      },\n      cellValue: function cellValue(obj) {\n        var val = '';\n        if (!this.data.datasource) {\n          this.data.datasource = [];\n        }\n        if (obj.cellValue) {\n          val = obj.cellValue(obj);\n          if (_typeof(val) === 'object' && val.jquery) {\n            val = val[0].outerHTML;\n          }\n        } else {\n          if (typeof obj.value === 'string' || typeof obj.value === 'number') {\n            val = obj.value;\n          } else if (_typeof(obj.value) === 'object' && obj.value.hasOwnProperty('component')) {\n            val = '<div role=\"component:' + obj.value.component + '\" data-position=\"' + obj.indexCol + '-' + obj.indexRow + '\"></div>';\n            if (obj.value.data) {\n              this.data.datasource[obj.indexCol + '-' + obj.indexRow] = obj.value.data;\n            } else {\n              this.data.datasource[obj.indexCol + '-' + obj.indexRow] = {};\n            }\n          }\n        }\n\n        return val;\n      },\n      validateComponent: function validateComponent(comp) {\n        var self = this;\n        var rValue = false;\n        for (var i = 0; i < plg.config.availableComponents.length; i++) {\n          if (comp === plg.config.availableComponents[i]) {\n            rValue = true;\n          }\n        }\n\n        return rValue;\n\n      },\n      addRow: function addRow(row, position) {\n        var self = $(this);\n        var plugin = self.data('plg');\n\n        if (self.attr('role') === plugin.settings.namespace) {\n          var nPosition = parseFloat(position) - 1;\n          var elPos = $('.biz-wp-table-body tr:eq( ' + nPosition + ' )', self);\n          var posLength = $('[data-pos^=\"added-\"]', self).length;\n\n          var nPosRow = position + posLength;\n          var tmplRow = self.data('plg').settings.rowTemplate;\n          var countCols = $('td', elPos).length;\n\n          if (countCols < row.length) {\n            row = row.slice(0, countCols);\n\n          } else if (countCols > row.length) {\n\n            var addCols = countCols - row.length;\n            for (var i = 0; i < addCols; i++) {\n              row.push({ value: '' });\n            }\n          }\n\n          for (var j = 0; j < row.length; j++) {\n            row[j].indexCol = j;\n            row[j].indexRow = 'added-' + nPosRow;\n          }\n\n          var data = { cols: row, nPosRow: nPosRow };\n          var tmp = $.tmpl(tmplRow, data, {\n            testValue: self.data('cellValue') ? self.data('cellValue') : plg.methods.cellValue });\n\n          var responseTmp = $(tmp);\n\n\n          responseTmp.insertAfter(elPos);\n\n          var completeTask = self.data('onComplete');\n          completeTask.apply(self, []);\n\n\n          for (var prop in data.datasource) {\n            plugin.settings.data.datasource[prop + ''] = data.datasource[prop];\n          }\n\n\n          var components = $('[role^=\"component:\"]', self);\n\n          if (components.length > 0) {\n            plugin.methods.createComponents.apply(self, [components]);\n          }\n        }\n\n      },\n      addColumn: function addColumn() {\n        var self = this;\n      },\n      /**\r\n         * Destroy Table\r\n         *\r\n         *   $('selector').uitable('destroy');\r\n         *\r\n         * @method destroy\r\n         * @return {Object} Jquery Empty Object\r\n         */\n      destroy: function destroy(op) {\n        var self = $(this);\n        if (self.attr('role') === self.data().plg.settings.namespace) {\n          self.attr('role', '');\n          self.empty();\n\n        } else {\n          $.error('No es posible eliminar un control con un namespace diferente: [role: ' + op.namespace + ']');\n        }\n      } };\n\n\n\n\n    if (_typeof(options) != 'object' && options) {\n\n      var _self = $(this);\n      if (_self.attr('role') === $.bizagi.ui.controls.uitable.namespace) {\n\n        $.extend(plg.settings, params, plg.config);\n        var args = plg.util.clone(arguments);\n        args = args.slice(1, args.length);\n        return plg.methods[arguments[0]].apply(this, args);\n\n      } else {\n        return false;\n      }\n\n    } else if (_typeof(options) === 'object' || !options || options === undefined) {\n\n      $.extend(plg.settings, options, plg.config);\n      return this.each(function () {\n        plg.methods.init.apply(this, [plg.settings]);\n      });\n\n    } else {\n\n      $.error('Method ' + options + ' does not exist on jQuery.table');\n\n    }\n\n  };\n\n  $.bizagi.ui.controls.uitable.plugin = $.fn.uitable;\n\n})(jQuery);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                               Plugin to create WorkPortal Combos...\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   var options = {\r\n                                                                                                                                                                                                                                                                                                                                                                                       data: {},\r\n                                                                                                                                                                                                                                                                                                                                                                                       css:'customCSS'\r\n                                                                                                                                                                                                                                                                                                                                                                                   };\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $('selector').uicombo(options);\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $(document).on(\"comboChange\", function(obj){\r\n                                                                                                                                                                                                                                                                                                                                                                                       console.log(obj.message, obj.ui, obj.ui.val());\r\n                                                                                                                                                                                                                                                                                                                                                                                   });\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                               @class $.fn.uicombo \r\n                                                                                                                                                                                                                                                                                                                                                                               @constructor uicombo\r\n                                                                                                                                                                                                                                                                                                                                                                               **/\n(function ($) {\n  \"use strict\";\n  $.fn.uicombo = function (options, params) {\n\n    var plg = this;\n\n    plg.config = {\n      namespace: $.bizagi.ui.controls.uicombo.namespace,\n      cssComponent: $.bizagi.ui.controls.uicombo.css,\n      internalData: {} };\n\n\n    plg.settings = {\n      /**\r\n                     DataSource to create a uiRadio Control\r\n                       var data = [\r\n                     {   \r\n                     value:value,\r\n                     text:'combo'\r\n                     }\r\n                     ];\r\n                       @property data \r\n                     @type Object\r\n                     @default \"{}\"\r\n                     **/\n\n\n      data: {},\n      ascombo: true,\n\n      /**\r\n                     to disabled combo\r\n                       @property disabled \r\n                     @type bool\r\n                     @default false\r\n                     */\n\n      disabled: false,\n\n      /**\r\n                       Make the combo searchable, on select with keyboard the input text is clean\r\n                         @property isSearchable \r\n                       @type Boolean\r\n                       @default \"false\"\r\n                       **/\n\n      isSearchable: false,\n      /**\r\n                           Make the combo editable\r\n                             @property isEditable \r\n                           @type Boolean\r\n                           @default \"false\"\r\n                           **/\n\n      isEditable: false,\n      nameTemplate: $.bizagi.ui.controls.uicombo.tmpl,\n      nameSubTemplate: $.bizagi.ui.controls.uicombo.tmpl2,\n      /**\r\n                                                           Function to set a initial value\r\n                                                               \r\n                                                           {value:1}\r\n                                                             @property initValue \r\n                                                           @type Object\r\n                                                           @default \"null\"\r\n                                                           **/\n\n      initValue: null,\n      /**\r\n                       Function to modify values\r\n                         @property itemValue \r\n                       @type Function\r\n                       @param {Object} Object with value\r\n                       @default \"null\"\r\n                       **/\n\n      itemValue: null,\n      /**\r\n                       Function to modify output text\r\n                         @property itemText \r\n                       @type Function\r\n                       @param {Object} Object with text\r\n                       @default \"null\"\r\n                       **/\n\n      itemText: null,\n      css: '',\n      orientation: 'biz-o-left',\n      getTemplate: function getTemplate(name) {\n        return bizagi.getTemplate(name);\n      },\n\n      /**\r\n         Function to initialize templates\r\n         @type Function\r\n         @return object\r\n         **/\n      initializeTemplates: function initializeTemplates() {\n\n        var self = this;\n        var deferred = $.Deferred();\n        var tmpl1 = self.nameTemplate;\n        var tmpl2 = self.nameSubTemplate;\n\n        return {\n          \"combo\": bizagi.getTemplate(tmpl1),\n          \"list\": bizagi.getTemplate(tmpl2) };\n\n      },\n\n      /**\r\n         Function exceute when combo is ready\r\n           @property onComplete \r\n         @type Function\r\n         @default \"function(){}\"\r\n         **/\n\n      onComplete: function onComplete() {},\n      /**\r\n                                            Function exceute when combo change\r\n                                              @property onChange \r\n                                            @type Function\r\n                                            @default \"function(){}\"\r\n                                            **/\n\n      onChange: function onChange() {},\n      /**\r\n                                         Function execute when combo DropDown\r\n                                           @property onComboDropDown\r\n                                         @type Function\r\n                                         @default \"function(){}\"\r\n                                         **/\n\n      onComboDropDown: function onComboDropDown() {} };\n\n\n    plg.methods = {\n      init: function init(op) {\n\n        var self = $(this),\n        template = op.getTemplate(op.nameTemplate),\n        subTemplate = op.getTemplate(op.nameSubTemplate),\n        nData;\n\n        //Util functions to detect ie browsers accurately                \n        var isIE = function isIE() {\n          return navigator.appName.indexOf(\"Internet Explorer\") > 0;\n        };\n\n        var isIE11 = function isIE11() {\n          return !!navigator.userAgent.match(/Trident\\/7.0/) && !navigator.userAgent.match(/MSIE/i);\n        };\n\n        op.IE = isIE() ? true : isIE11() ? true : undefined;\n\n        self.attr('role', op.namespace);\n        self.addClass(op.cssComponent);\n        self.addClass(op.css);\n\n        self.loader = new bizagi.ui.controls.tmplloader();\n\n        $.when(self.loader.loadTemplates(op.initializeTemplates())).done(function () {\n\n          var a = self.loader.getTemplate(\"combo\");\n          var b = self.loader.getTemplate(\"list\");\n\n          plg.config.internalData = nData = op.data;\n\n          nData.isEditable = op.isEditable;\n          nData.disabled = op.disabled;\n\n          plg.config.subTemplateHTML = b;\n          op.data.id = Math.guid();\n\n          var tmp = $.tmpl(a, op.data, {\n            itemValue: op.itemValue ? op.itemValue : plg.methods.itemValue,\n            itemText: op.itemText ? op.itemText : plg.methods.itemText });\n\n\n          self.append(tmp);\n\n          plg.config.inputCombo = $('.biz-wp-combo-input', self);\n\n          tmp.find('.biz-wp-combo-option').each(function (index, value) {\n            if (op.data.combo[index].data) {\n              $.extend($(value).data(), op.data.combo[index].data);\n            }\n          });\n\n          plg.settings.onComplete.apply(self, []);\n\n          self.methods = plg.methods;\n          self.config = plg.config;\n          self.settings = plg.settings;\n\n          self.methods.configureHandlers.apply(self, []);\n\n\n          /**\r\n                                                          Fired when a combo is created\r\n                                                            @event comboCompleted \r\n                                                          @param {String} type comboCompleted\r\n                                                          @param {String} message\r\n                                                          @param {Date} time\r\n                                                          @param {Object} Jquery Object HTML \r\n                                                          **/\n\n          $.event.trigger({\n            type: \"comboCompleted\",\n            message: \"combo is Completed\",\n            time: new Date(),\n            ui: self });\n\n\n          if (plg.settings.initValue) {\n            var value = '',\n            text = '';\n\n            if (plg.settings.itemText) {\n              text = plg.settings.itemText(plg.settings.initValue);\n            } else {\n              text = plg.settings.initValue.text;\n            }\n\n            if (plg.settings.itemValue) {\n              value = plg.settings.itemValue(plg.settings.initValue);\n            } else {\n              value = plg.settings.initValue.value;\n            }\n\n            if (text === \"\") {\n              self.config.inputCombo.val('');\n            } else {\n              self.config.inputCombo.val(text);\n            }\n\n            plg.config.inputCombo.data('value', value);\n\n          }\n\n\n          /*     }).fail(function () {\r\n            $.error('No se pudo cargar el template para generar las tablas');\r\n            });*/\n        });\n      },\n\n      getControl: function getControl() {\n        var self = this,\n        $control = $('.biz-wp-combo', self);\n\n        return $control;\n      },\n      getData: function getData() {\n        return plg.config.internalData;\n      },\n      findDataByValue: function findDataByValue(val) {\n        var self = this,\n        result = -1,\n        i = 0;\n\n        if (val !== undefined && val !== null) {\n          var compareValIn = _typeof(val) === 'object' ? val.join(\" - \") : typeof val === 'boolean' ? val.toString() : val,\n          compareVal = $.trim(compareValIn).substring(0, compareValIn.length).toLowerCase(),\n          selfData = self.getData();\n        }\n\n        return result;\n      },\n      /*\r\n         *   Template method to implement in each device to customize the render's behaviour to add handlers\r\n         */\n      configureHandlers: function configureHandlers() {\n        var self = this,\n        control = self.methods.getControl.apply(self, []);\n\n        self.config.inputCombo.focus(function () {\n          //$(this).trigger('click');\n        });\n\n        self.config.inputCombo.blur(function () {\n          if (self.settings.isSearchable) {\n            self.methods.validateValueInDatasource();\n          }\n        });\n\n        self.config.inputCombo.click(function () {\n          var idDropdown = \"dd-\" + self.config.inputCombo.attr(\"id\");\n          if ($(\"#\" + idDropdown, control).length === 0) {\n            self.methods.comboDropDown.apply(self, []);\n          } else {\n            // Close combo if clicked twice \n            self.methods.dropDownDestroy.apply(self, [$(idDropdown)]);\n          }\n          self.config.inputCombo.select();\n        });\n        // Bind clicks to fake UI in order to simulate select clicks\n        $(\".biz-wp-combo-btn\", control).bind(\"click.combo\", function () {\n          self.config.inputCombo.trigger(\"click\").focus();\n        });\n\n        self.config.inputCombo.keyup(function (e) {\n          self.methods.keyUpFunction.apply(self, [e]);\n        });\n\n        self.config.inputCombo.keydown(function (e) {\n          self.methods.keyDownFunction.apply(self, [e]);\n        });\n      },\n      /*\r\n         *   Makes the combo drops down, also fetch the data first if the combo is set to load on demand\r\n         */\n      comboDropDown: function comboDropDown() {\n        var self = this;\n\n        $.when(self.methods.getData()).done(function (data) {\n          self.methods.internalComboDropDown.apply(self, [data]);\n          plg.settings.onComboDropDown();\n        });\n\n      },\n      /*\r\n         *   Draws the mini-popup\r\n         */\n      internalComboDropDown: function internalComboDropDown(data) {\n        $(\".ui-select-dropdown.open\").detach();\n        var self = this,selectTmp,objSelected = {};\n        /** temp templates **/\n        var containerDropdown = $(\"<div class='ui-select-dropdown open'></div>\");\n        /* control reference */\n        var containerControl = self.config.inputCombo.closest('.biz-wp-combo-data-container');\n        var containerRender = containerControl.closest('.biz-wp-combo');\n        var idDropdown = \"dd-\" + self.config.inputCombo.attr(\"id\");\n        var selectedValue = self.methods.findDataByValue(self.config.inputCombo.val());\n        var scrollPosition = 0;\n\n        data = data || self.properties.data;\n\n        self.repositionInterval;\n\n        var height = containerRender.css(\"height\"),\n        selfControl = self.methods.getControl.apply(self, []);\n\n        containerRender.addClass(\"ac-is-visible\");\n\n        containerRender.css(\"height\", height);\n        containerControl.addClass(\"ac-is-visible ac-clear-floats\");\n\n        containerDropdown.attr(\"id\", idDropdown);\n\n        selectTmp = $.tmpl(plg.config.subTemplateHTML, data, {\n          itemValue: self.settings.itemValue ? self.settings.itemValue : self.methods.itemValue,\n          itemText: self.settings.itemText ? self.settings.itemText : self.methods.itemText });\n\n        var dropDown = containerDropdown.append(selectTmp);\n        containerControl.append(dropDown);\n\n\n        dropDown.position({\n          my: \"left top\",\n          at: \"left bottom\",\n          of: $(\".biz-wp-combo-input\", selfControl),\n          collision: \"none\" }).\n        hide();\n\n        dropDown.fadeIn();\n\n        dropDown.width(selfControl.width());\n\n        self.methods.recalculateComboOffset(dropDown, selfControl);\n\n        dropDown.data('formWidth', containerControl.width());\n        dropDown.data('parentCombo', selfControl);\n\n        dropDown.addClass(self.settings.orientation);\n\n        if (selectedValue !== -1) {\n          objSelected = $(\"li[data-value='\" + selectedValue.id + \"']\", dropDown);\n          objSelected.addClass('ui-selected');\n          objSelected.addClass(\"active\");\n          scrollPosition = parseInt(objSelected.position().top);\n          dropDown.scrollTop(scrollPosition);\n        }\n\n        dropDown.on(\"mouseup\", \"li\", function (event) {\n\n          event.stopPropagation();\n\n          var dataValue = $(this).data('value').toString();\n\n          var value = dataValue ? $(this).data('value') : '';\n          var val = { value: value, text: $(this).text() };\n          self.methods.onComboItemSelected.apply(self, [val]);\n          self.config.inputCombo.focus();\n\n          // Animation effect\n          dropDown.fadeOut('slow', function () {\n            self.methods.dropDownDestroy.apply(self, [dropDown]);\n          });\n          $(document).unbind(\"click.closecombo\");\n        });\n\n        // Stop bubbling outside the dropdown\n        $.makeArray(dropDown, self.methods.getControl.apply(self, [])).bind('click', function (e) {\n          e.preventDefault();\n          return false;\n        });\n\n        /*fix for IE*/\n        dropDown.bind('mousedown.closecombo', function () {\n          dropDown.attr('md', true);\n        });\n\n        // Handle dialog resizes\n        // TODO: Change document handlers to \"closest\" ui-dialog -> ui-resizable-handle  handlers\n        $(document).bind(\"mousedown.resizecombo\", function (e) {\n          if ($(e.target).hasClass('ui-resizable-handle')) {\n            if (self.repositionInterval) {\n              clearInterval(self.repositionInterval);\n            }\n            self.repositionInterval = setInterval(function () {\n              self.methods.dropDownReposition.apply(self, [dropDown, containerControl]);\n            }, 10);\n          }\n        });\n        $(document).bind(\"mouseup.resizecombo\", function (e) {\n          clearInterval(self.repositionInterval);\n          var tg = $(e.target);\n          if (!dropDown.attr('md')) {/* <-- fix for IE*/\n            if (!tg.hasClass('ui-select-dropdown')) {\n              self.methods.dropDownValidClose.apply(self, [tg, dropDown]);\n            }\n          } else {\n            dropDown.removeAttr('md');\n          }\n        });\n\n        $(document).on('mouseup.closecombo', function (e) {\n          var etarget;\n          if (self.settings.IE && e.currentTarget.activeElement) {\n            etarget = e.currentTarget.activeElement;\n          } else {\n            etarget = e.target;\n          }\n\n          var tg = $(etarget);\n          if (!dropDown.attr('md')) {\n            if (!tg.hasClass('ui-select-dropdown')) {\n              self.methods.dropDownValidClose.apply(self, [tg, dropDown]);\n            }\n          } else {\n            dropDown.removeAttr('md');\n          }\n        });\n\n        $(window).bind('resize.resizecombo', function () {\n          if (self.repositionInterval) {\n            clearInterval(self.repositionInterval);\n          }\n\n          self.methods.dropDownReposition.apply(self, [dropDown, containerControl]);\n        });\n\n        $(document).one(\"click.closecombo\", function (e) {\n          var tg = $(e.target);\n          if (!dropDown.attr('md')) {\n            self.methods.dropDownValidClose.apply(self, [tg, dropDown]);\n          } else {\n            dropDown.removeAttr('md');\n          }\n        });\n\n      },\n      /*\r\n         * validate when fire event form document and window\r\n         */\n      dropDownValidClose: function dropDownValidClose(target, dropDown) {\n        var self = this;\n        //   if (target.closest(\".biz-wp-combo\", self.element).length === 0) {\n        dropDown.fadeOut('slow', function () {\n          self.methods.dropDownDestroy.apply(self, [dropDown]);\n        });\n        $(document).unbind(\"click.closecombo\");\n        //        }\n      },\n      /*\r\n         * set a new dropdown position\r\n         */\n      dropDownReposition: function dropDownReposition(dropDown, containerForm) {\n        var self = this,\n        selfControl = self.methods.getControl.apply(self, []);\n        if (containerForm.width() != dropDown.data('formWidth')) {\n\n          dropDown.width(selfControl.width() < 100 ? 100 : selfControl.width());\n\n          dropDown.position({\n            my: \"left top\",\n            at: \"left bottom\",\n            of: $(\".biz-wp-combo-input\", selfControl),\n            collision: \"none\" });\n\n          dropDown.data('formWidth', containerForm.width());\n        }\n      },\n      /*\r\n         * destroy dropdown\r\n         */\n      dropDownDestroy: function dropDownDestroy(dropDown) {\n        var self = this;\n        var containerControl = self.config.inputCombo.closest('.ui-bizagi-control');\n        var containerRender = containerControl.closest('.ui-bizagi-render');\n\n        if (containerControl.hasClass(\"ac-is-visible\")) {\n          containerControl.removeClass(\"ac-is-visible\");\n        }\n        if (containerControl.hasClass(\"ac-clear-floats\")) {\n          containerControl.removeClass(\"ac-clear-floats\");\n        }\n        containerRender.css(\"height\", \"auto\");\n        if (containerRender.hasClass(\"ac-is-visible\")) {\n          containerRender.removeClass(\"ac-is-visible\");\n        }\n\n        dropDown.remove();\n        $(document).unbind(\"mousedown.closecombo\");\n        $(document).unbind(\"mouseup.resizecombo\");\n        $(window).unbind('resize.resizecombo');\n        $(window).unbind('mouseup.closecombo');\n        self.repositionInterval;\n        clearInterval(self.repositionInterval);\n      },\n      validateValueInDatasource: function validateValueInDatasource() {\n        var self = this;\n        var selected = plg.config.inputCombo.val();\n        var valText = '';\n        var selectedKey = self.findDataByValue(selected);\n\n\n        if (!self.value) {\n          self.value = { id: '' };\n        }\n\n        if (selectedKey.id > 0) {\n          self.setValue({ id: selectedKey.id }, false);\n          self.setDisplayValue(selectedKey);\n        } else if (selectedKey.id == \"\") {\n          if (self.value.id != selectedKey.id) {\n            self.setValue(selectedKey, false);\n          }\n          self.setDisplayValue(selectedKey);\n        } else {\n          self.setDisplayValue(self.selectedValue);\n        }\n      },\n      /*\r\n         *   Keydown listener\r\n         */\n      keyDownFunction: function keyDownFunction(e) {\n        var self = this;\n        var idDropdown = \"dd-\" + plg.config.inputCombo.attr(\"id\");\n        var dropDown = $(\"#\" + idDropdown);\n        var active = $(\"li.active\", dropDown);\n\n        e = e ? e : window.event;\n\n        // Need to implement hiding select on \"Escape\" and \"Enter\".\n        if (e.altKey || e.ctrlKey || e.metaKey) {\n          return 1;\n        }\n\n\n        if (dropDown.length === 0) {\n          self.methods.comboDropDown.apply(self, []);\n          dropDown = $(\"#\" + idDropdown);\n        }\n\n        if (e.shiftKey && e.keyCode) {\n          dropDown.remove();\n          return 0;\n        }\n\n        if (27 == e.keyCode) {\n          self.methods.setDisplayValue.apply(self, [self.selectedValue]);\n          dropDown.remove();\n        }\n\n        if (9 == e.keyCode || 13 == e.keyCode) {\n          if (active.length > 0) {\n            self.config.inputCombo.val(active.text());\n          }\n          if (self.settings.isSearchable) {\n            self.methods.validateValueInDatasource();\n          } else {\n            self.methods.setValue.apply(self, [active.data('value')]);\n          }\n          dropDown.remove();\n          return 1;\n        }\n\n        if (e.keyCode == '38' || e.keyCode == '37') {\n          // up arrow\n          self.methods.selectPreviousElement.apply(self, [dropDown]);\n          return 0;\n        } else\n        if (e.keyCode == '40' || e.keyCode == '39') {\n          // down arrow\n          self.methods.selectNextElement.apply(self, [dropDown]);\n          return 0;\n        }\n\n        if (e.keyCode == 36) {\n          self.methods.selectFirstElement.apply(self, [dropDown]);\n          return 0;\n\n        } else if (e.keyCode == 35) {\n          self.methods.selectLastElement.apply(self, [dropDown]);\n          return 0;\n\n        }\n\n        // Locate the dropdown in the first possible location\n        var found = self.methods.selectFirstPossibleElement.apply(self, [dropDown, plg.config.inputCombo.val() + e.key]);\n        if (found) return 0;\n\n        return 1;\n      },\n      /*\r\n         *   KeyUp listener\r\n         */\n      keyUpFunction: function keyUpFunction(e) {\n        var self = this;\n        var idDropdown = \"dd-\" + plg.config.inputCombo.attr(\"id\");\n        var dropDown = $(\"#\" + idDropdown);\n\n        e = e ? e : window.event;\n\n        if (e.altKey || e.ctrlKey || e.metaKey || 50 == e.keyCode || 13 == e.keyCode || 9 == e.keyCode || 27 == e.keyCode || e.keyCode == '38' || e.keyCode == '40' || e.shiftKey && e.keyCode || e.keyCode == 36 || e.keyCode == 35 || e.keyCode == 33 || e.keyCode == 34) {\n          return 0;\n        }\n\n        if (dropDown.length === 0) {\n          self.methods.comboDropDown.apply(self, []);\n          dropDown = $(\"#\" + idDropdown);\n        }\n\n        if (self.settings.isSearchable) {\n          self.methods.selectItemByKeyUp.apply(self, []);\n        }\n\n        return 1;\n      },\n      /*\r\n         * Select letter by letter\r\n         */\n      selectItemByKeyUp: function selectItemByKeyUp() {\n        var self = this,objSelected;\n\n        var idDropdown = \"dd-\" + plg.config.inputCombo.attr(\"id\");\n        var dropDown = $(\"#\" + idDropdown);\n\n\n        $('.active', dropDown).removeClass('active');\n\n        var selectedKey = self.settings.isSearchable ? self.methods.findDataByValue(plg.config.inputCombo.val()) : -1;\n\n        if (selectedKey !== -1) {\n          objSelected = $(\"li[data-value='\" + selectedKey.id + \"']\", dropDown);\n          objSelected.addClass(\"active\");\n        } else {\n          objSelected = $('li.ui-selected', dropDown);\n        }\n\n        if (dropDown.length > 0 && objSelected.length > 0) {\n          scrollPosition = parseInt(objSelected.position().top);\n          dropDown.scrollTop(scrollPosition);\n        } else {\n          self.methods.setValue.apply(self, [self.selectedValue]);\n        }\n      },\n      selectFirstElement: function selectFirstElement(dropDown) {\n        var self = this;\n        var actual = $(\"li:first\", dropDown);\n        $('li', dropDown).removeClass(\"active\");\n        actual.addClass(\"active\");\n        scrollPosition = actual.position().top;\n        dropDown.scrollTop(scrollPosition);\n\n        plg.config.inputCombo.val($(actual).text());\n\n\n      },\n      selectLastElement: function selectLastElement(dropDown) {\n        var self = this,\n        actual = $(\"li:last\", dropDown);\n        $('li', dropDown).removeClass(\"active\");\n        actual.addClass(\"active\");\n        scrollPosition = actual.position().top;\n        dropDown.scrollTop(scrollPosition);\n\n        plg.config.inputCombo.val($(actual).text());\n\n      },\n\n      selectFirstPossibleElement: function selectFirstPossibleElement(dropDown, text) {\n        var li = $(\"li\", dropDown);\n        var item = $.first(li, function (item) {return $(item).text().toString().toLowerCase().indexOf(text.toLowerCase()) == 0;});\n        if (item) {\n          $('li', dropDown).removeClass(\"active\");\n          $(item).addClass(\"active\");\n          var scrollPosition = $(item).position().top;\n          dropDown.scrollTop(scrollPosition);\n        }\n      },\n      /*\r\n         * Handler key Up\r\n         */\n      selectPreviousElement: function selectPreviousElement(dropDown) {\n        var self = this;\n        var scrollPosition = 0;\n        var actual = $(\"li.active\", dropDown);\n\n        if (actual.length === 0) {\n          actual = $(\"li:first\", dropDown);\n        }\n        var previous = actual.prev();\n\n        if (previous.length != 0) {\n          actual.removeClass(\"active\");\n          $(previous).addClass(\"active\");\n          scrollPosition = $(previous).position().top;\n\n          dropDown.scrollTop(scrollPosition);\n          plg.config.inputCombo.val($(previous).text());\n        }\n\n      },\n      /*\r\n         *Handler key Down\r\n         */\n      selectNextElement: function selectNextElement(dropDown) {\n        var self = this;\n        var scrollPosition = 0;\n        var actual = $(\"li.active\", dropDown);\n\n        if (actual.length === 0) {\n          actual = $(\"li:first\", dropDown);\n        }\n        var next = actual.next();\n\n        if (next.length != 0) {\n          actual.removeClass(\"active\");\n          $(next).addClass(\"active\");\n          scrollPosition = $(next).position().top;\n\n          dropDown.scrollTop(scrollPosition);\n          plg.config.inputCombo.val($(next).text());\n        }\n\n      },\n      /*\r\n         *   Handler to react when a combo item is selected\r\n         */\n      onComboItemSelected: function onComboItemSelected(val) {\n        var self = this;\n        var valValue = val.value.toString();\n        var selectedLabel = val.text || \"\";\n\n        if (valValue === \"\") {\n          self.config.inputCombo.val(selectedLabel);\n        } else {\n          self.config.inputCombo.val(selectedLabel);\n        }\n\n        self.methods.setValue.apply(self, [valValue, selectedLabel]);\n\n      },\n      setValue: function setValue(val, selectedLabel) {\n        var self = this;\n        self.config.inputCombo.data('value', val);\n        /**\r\n                                                   Fired when a combo change\r\n                                                     @event comboChange \r\n                                                   @param {String} type comboChange\r\n                                                   @param {String} message \r\n                                                   @param {Date} time \r\n                                                   @param {Object} Jquery Object HTML \r\n                                                   **/\n\n        var control = self.config.inputCombo,\n        controlProperties = {\n          type: \"comboChange\",\n          message: \"combo change\",\n          time: new Date(),\n          ui: control,\n          element: $('.biz-wp-combo', self),\n          value: val,\n          text: selectedLabel };\n\n\n        plg.settings.onChange(controlProperties);\n\n        $.event.trigger(controlProperties);\n      },\n      /*\r\n         *   Sets the value in the rendered control\r\n         */\n      setDisplayValue: function setDisplayValue(value) {\n        var self = this;\n        var comboValue = '';\n        var comboValueValid = true;\n\n        value = plg.settings.itemValue ? plg.settings.itemValue : plg.methods.itemValue;\n\n        if (value !== null) {\n          plg.config.inputCombo.val(comboValue);\n        } else if (value === null) {\n          plg.config.inputCombo.val(comboValue);\n        }\n\n      },\n      /*\r\n         *   Sets the value in the rendered control\r\n         */\n      clearDisplayValue: function clearDisplayValue() {\n        var self = this;\n        plg.config.inputCombo.val('');\n        self.value = self.properties.value = self.selectedValue;\n      },\n      /*\r\n         *   Returns the selected value in the template\r\n         */\n      getSelectedValue: function getSelectedValue() {\n        var self = this;\n        return self.selectedValue;\n      },\n      recalculateComboOffset: function recalculateComboOffset(dropDwn, objParent) {\n        if (bizagi.util.isIE() && bizagi.util.getInternetExplorerVersion() == 9) {\n          if (dropDwn.width() !== objParent.width()) {\n            var offset = objParent.width() - dropDwn.width();\n            dropDwn.width(objParent.width() + offset);\n          }\n        }\n      },\n      itemValue: function itemValue(obj) {\n        var val = '';\n        if (obj.itemValue) {\n          val = obj.itemValue(obj);\n        } else {\n          if (typeof obj.value === 'string' || typeof obj.value === 'number') {\n            val = obj.value;\n          }\n        }\n        return val;\n      },\n      itemText: function itemText(obj) {\n        var val = '';\n        if (obj.itemValue) {\n          val = obj.itemText(obj);\n        } else {\n          if (typeof obj.text === 'string') {\n            val = obj.text;\n          }\n        }\n        return val;\n      },\n      /**\r\n         * Destroy ComboBox\r\n         *\r\n         *   $('selector').uicombo('destroy');\r\n         *\r\n         * @method destroy\r\n         * @return {Object} Jquery Empty Object\r\n         */\n      destroy: function destroy(op) {\n        var self = $(this);\n        if (self.attr('role') === op.namespace) {\n          self.empty();\n        } else {\n          $.error('No es posible eliminar un control con un namespace diferente: [role: ' + op.namespace + ']');\n        }\n      },\n      /*\r\n         *   Select the related item (syntax = {text:\"item1\", value:1})\r\n         */\n      selectItem: function selectItem(item) {\n        var self = this;\n        var control = $('.biz-wp-combo-input', self);\n        control.val(item.text);\n        control.data('value', item.value);\n      } };\n\n\n\n\n    if (_typeof(options) != 'object' && options) {\n\n      $.extend(plg.settings, params, plg.config);\n      return plg.methods[options].apply(this, [plg.settings]);\n\n    } else if (_typeof(options) === 'object' || !options || options === undefined) {\n\n      $.extend(plg.settings, options, plg.config);\n      return this.each(function () {\n        plg.methods.init.apply(this, [plg.settings]);\n      });\n\n    } else {\n\n      $.error('Method ' + options + ' does not exist on jQuery.combo');\n\n    }\n\n  };\n\n  $.bizagi.ui.controls.uicombo.plugin = $.fn.uicombo;\n\n})(jQuery);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} // Only use this plugin in mobile, because it uses kendotmpl\n(function ($) {\n  $.fn.uitags = function (facade, options) {\n    var self = this;\n    options = options || {};\n\n    //creating a temporal array to admin the tags\n    self.temporalElements = {};\n\n    //set the plugin templates and styles files\n    self.config = {\n      nameTemplate: \"bizagi.ui.controls.tags.template\",\n      cssComponent: \"bizagi.ui.controls.tags\" };\n\n\n    /**\r\n                                                 * Load and return the template\r\n                                                 **/\n    function getTemplateElement(template, element) {\n      var defer = new $.Deferred();\n      var templateDestination = bizagi.getTemplate(self.config.nameTemplate).concat(element);\n\n      $.when(facade.loadTemplate(template, templateDestination)).done(function () {\n        defer.resolve(facade.getTemplate(template));\n      });\n\n      return defer.promise();\n    }\n\n    var methods = {\n      /**\r\n                    * init the plugin\r\n                    */\n      init: function init(element, options) {\n        var self = this;\n\n        //setting the input to apply the plugin\n        self.input = element;\n\n        //setting the tags array\n        self.tags = options.dataSource || [];\n        //setting the placeholder value\n        self.placeholderText = options.placeholderText;\n        //setting the title of the modal\n        self.titleText = options.titleText;\n        //setting if its needed to hide the search result panel\n        self.hideSearchResult = options.hideSearchResult;\n        //Set data type for input\n        self.isTextType = options.isTextType;\n        self.isIntType = options.isIntType;\n        self.isRealType = options.isRealType;\n        self.isEntityType = options.isEntityType;\n        //Set function OnClose plugin\n        self.onClose = options.onClose;\n        //Set function OnRemove item\n        self.onRemove = options.onRemove;\n        //Entity mode\n        self.entityMode = options.entityMode || false;\n        //Limits\n        self.maxValues = options.maxValues;\n        self.maxValuesErrorMessage = options.maxValuesErrorMessage;\n        self.showMessageFunction = options.showMessageFunction;\n\n        //Load and set the templates\n        $.when(getTemplateElement(\"bizagi.inputTags.container\", \"#ui-bz-mobile-uitags-control\"),\n        getTemplateElement(\"bizagi.inputTags.modalView\", \"#ui-bz-wp-popup-uitags-control\"),\n        getTemplateElement(\"bizagi.inputTags.modalView.default\", \"#ui-bz-wp-uitags-control-modalview-auxiliary-templates\"),\n        getTemplateElement(\"bizagi.imputTags.container.default\", \"#ui-bz-wp-uitags-control-input-auxiliary-templates\")).\n        then(function (inputTags, modalViewTags, defaultModalViewTags, defaultInputTags) {\n          self.inputTags = inputTags;\n          self.modalViewTags = modalViewTags;\n          self.defaultModalViewTags = defaultModalViewTags;\n          self.defaultInputTags = defaultInputTags;\n\n          self.input.html($.kendoTmpls(self.inputTags, { \"value\": options.value || [], \"placeholderText\": self.placeholderText }));\n\n          //trigger click events\n          self.configureInputHandlers();\n          self.configureModalView(\".bz-rn-last-child\");\n        });\n      },\n\n      /**\r\n          * Configure the modal view to select values\r\n          * */\n      configureModalView: function configureModalView(selector) {\n        var self = this;\n        var inputContainer = selector === \"\" ? self.input : $(selector, self.input);\n\n        inputContainer.unbind().bind(\"click\", function () {\n          //Getting the values to show\n          var elements = $(\"ul li.bz-rn-regular-element\", self.input);\n          var values = [];\n\n          //Reset the temporal array\n          self.temporalElements = {};\n\n          for (var i = 0, length = elements.length; i < length; i++) {\n            var id = $(elements[i]).data(\"guid\");\n            var value = $(\"label\", $(elements[i])).text();\n            var newElement = { \"guid\": id, \"tag\": value };\n\n            values.push(newElement);\n\n            //Add element to temporal context array\n            self.addTemporalElement(id, value, false);\n          }\n\n          //Creating modal view\n          var modalViewTemplate = self.modalViewTags;\n          var modalView = $.kendoTmpls(modalViewTemplate, { \"items\": values,\n            \"orientation\": \"\",\n            \"title\": self.titleText,\n            \"placeholderText\": self.placeholderText,\n            \"isTextType\": self.isTextType,\n            \"isIntType\": self.isIntType,\n            \"isRealType\": self.isRealType,\n            \"isEntityType\": self.isEntityType });\n\n          modalView.kendoMobileModalView({\n            close: function close() {\n              this.destroy();\n              this.element.remove();\n            },\n            useNativeScrolling: true,\n            modal: false });\n\n\n          self.configureModalViewHandlers(modalView);\n          modalView.kendoMobileModalView('open');\n        });\n      },\n\n      /**\r\n          * Configure the modalView Handlers for the new combo control.\r\n          * */\n      configureModalViewHandlers: function configureModalViewHandlers(inputContainer) {\n        var self = this;\n        var closeModalViewPromise = new $.Deferred();\n\n        //Hide results panel if self.tags is undefined\n        if (self.hideSearchResult) {\n          inputContainer.find(\"#ui-bizagi-wp-filter-results-uitags-wrapper\").hide();\n        }\n\n        if (self.entityMode) {\n          inputContainer.find(\".bz-wp-uitagsplugin-cancel-icon-list\").remove();\n          inputContainer.find(\".bz-wp-uitagsplugin-add-icon-list\").remove();\n          self.searchValue(\"\", inputContainer);\n        }\n\n        //Hide the clear text icon\n        inputContainer.find(\".bz-wp-uitagsplugin-cancel-icon-list\").hide(500);\n        inputContainer.find(\".bz-wp-uitagsplugin-add-icon-list\").hide(500);\n\n        //Showing found results\n        inputContainer.find(\".input-filter-results-on-uitagsplugin\").bind('keypress keyup', function () {\n          if (this.value !== \"\") {\n            inputContainer.find(\".bz-wp-uitagsplugin-cancel-icon-list\").show(500);\n            inputContainer.find(\".bz-wp-uitagsplugin-add-icon-list\").show(500);\n          } else {\n            inputContainer.find(\".bz-wp-uitagsplugin-cancel-icon-list\").hide(500);\n            inputContainer.find(\".bz-wp-uitagsplugin-add-icon-list\").hide(500);\n          }\n\n          self.searchValue(this.value, inputContainer);\n        }).focus(function () {\n          inputContainer.find(\".filter-searchlist-modal-view-tags\").addClass(\"searching\");\n        }).blur(function () {\n          inputContainer.find(\".filter-searchlist-modal-view-tags\").removeClass(\"searching\");\n        });\n\n        //Cleaning search\n        inputContainer.find(\".bz-wp-uitagsplugin-cancel-icon-list\").bind('click', function () {\n          self.showNoResultsMessage(inputContainer);\n          inputContainer.find(\".input-filter-results-on-uitagsplugin\").val(\"\");\n          $(this).hide(500);\n          inputContainer.find(\".bz-wp-uitagsplugin-add-icon-list\").hide(500);\n        });\n\n        //adding tag\n        inputContainer.find(\".bz-wp-uitagsplugin-add-icon-list\").bind('click', function () {\n          $(this).hide(500);\n          inputContainer.find(\".bz-wp-uitagsplugin-cancel-icon-list\").hide(500);\n\n          //add new element to data control\n          var value = inputContainer.find(\".input-filter-results-on-uitagsplugin\").val();\n          self.appendFoundItem(value, $(\".filter-uitags-modal-view-tags\", inputContainer), false);\n\n          inputContainer.find(\".input-filter-results-on-uitagsplugin\").val(\"\");\n        });\n\n        //when click on apply button\n        inputContainer.delegate(\"#ui-bizagi-apply-button-uitags\", \"click\", function () {\n          closeModalViewPromise.resolve();\n          inputContainer.data(\"kendoMobileModalView\").close();\n        });\n\n        inputContainer.find(\".bz-wp-search-on-uitags-back-icon-list\").bind(\"click\", function () {\n          closeModalViewPromise.reject();\n          inputContainer.data(\"kendoMobileModalView\").close();\n        });\n\n        //Trigger delete event for tags\n        inputContainer.find(\".filter-uitags-modal-view-tags\").on(\"click\", '.bz-rn-remove-tag-on-uitags', function () {\n          self.removeItem($(this), true);\n          var term = inputContainer.find(\".input-filter-results-on-uitagsplugin\").val();\n\n          self.searchValue(term, inputContainer);\n        });\n\n\n        $.when(closeModalViewPromise).done(function () {\n          self.addNewValuesToInput();\n          self.temporalElements = {};\n          if (self.onClose !== undefined) {\n            self.onClose();\n          }\n        }).fail(function () {\n          self.temporalElements = {};\n        });\n      },\n\n      /**\r\n         * serach the value\r\n         */\n      searchValue: function searchValue(value, element) {\n        var self = this;\n\n        //Show splash loader\n        bizagi.loading.start({ \"selector\": \".bz-rn-new-modalview-content-styles\" });\n\n        //Getting and showing the data\n        $.when(self.showResults(value, element)).always(function () {\n          bizagi.loading.stop({ \"selector\": \".bz-rn-new-modalview-content-styles\" });\n        });\n      },\n\n      /**\r\n          * Show finded results\r\n          * */\n      showResults: function showResults(value, inputContainer) {\n        var self = this;\n\n        var suggestions = self.tags.filter(function (tag) {\n          if (self.entityMode)\n          return tag.displayName.toLowerCase().indexOf(value.toLowerCase()) !== -1;else\n          if (tag.displayName !== undefined)\n          return tag.tag.indexOf(value) !== -1;\n        });\n\n        if (suggestions.length === 0) {\n          self.showNoResultsMessage(inputContainer);\n        } else {\n          //Hide current results\n          $(\"#ui-bizagi-wp-filter-results-uitags-wrapper ul li\", inputContainer).remove();\n\n          //Add new results to list\n          var listTmpl = $.kendoTmpls(self.defaultModalViewTags, { \"template\": \"sugestions\", \"items\": suggestions, \"entityMode\": self.entityMode });\n          var newElement = $(\"li\", listTmpl);\n          newElement.appendTo($(\"#ui-bizagi-wp-filter-results-uitags-wrapper ul\", inputContainer));\n\n          //Get list of elements\n          self.modalViewList = $(\".ui-bizagi-render-list-elements\", inputContainer);\n\n          //Setting the initial selected display value\n          self.modalViewList.find(\"li\").unbind().bind(\"click\", function () {\n            //add new element to data control\n\n            self.appendFoundItem(this, $(\".filter-uitags-modal-view-tags\", inputContainer), true);\n\n            if ($(this).siblings().length === 0) {\n              self.showNoResultsMessage(inputContainer);\n            }\n\n            $(this).remove();\n\n            if (self.entityMode) {\n              inputContainer.find(\".input-filter-results-on-uitagsplugin\").val(\"\");\n              self.searchValue(\"\", inputContainer);\n            }\n          });\n        }\n      },\n\n      /**\r\n          * Show the correct message if there are elements to show\r\n          * */\n      showNoResultsMessage: function showNoResultsMessage(inputContainer) {\n        var self = this;\n        var message = bizagi.localization.getResource(\"workportal-widget-inboxcommon-no-results-found\");\n        var dataTmpl = $.kendoTmpls(self.defaultModalViewTags, { 'template': \"modalViewDefaultMessage\", 'message': message });\n        var newElement = $(\"li\", dataTmpl);\n\n        $(\"#ui-bizagi-wp-filter-results-uitags-wrapper ul li\", inputContainer).remove();\n        newElement.appendTo($(\"#ui-bizagi-wp-filter-results-uitags-wrapper ul\", inputContainer));\n      },\n\n      /**\r\n          * Removen a item from the list\r\n          * */\n      removeItem: function removeItem(element, isModalViewContainer) {\n        var self = this;\n        var li = element.parent();\n        var container = element.closest(\".bz-rn-container-uitags\");\n\n        if (container.length === 0) {\n          container = element.closest(\".filter-uitags-modal-view-tags\");\n        }\n\n        if (isModalViewContainer) {\n          delete self.temporalElements[li.data('guid')];\n        }\n\n        // Remove list element\n        li.remove();\n\n        if (container.find(\"li\").length <= 1 && !isModalViewContainer) {\n          $('.bz-rn-click-to-add-span', container).removeClass(\"hidden\");\n          self.configureModalView(\".bz-rn-last-child\");\n        } else if (container.find(\"li\").length === 0 && isModalViewContainer) {\n          var defaultElement = $.kendoTmpls(self.defaultModalViewTags, { 'template': \"modalViewDefaultValue\" });\n          $(\"li\", defaultElement).appendTo($(\"ul\", container));\n        }\n\n        if (self.onRemove !== undefined) {\n          self.onRemove();\n        }\n      },\n\n      /**\r\n          * Append founded item\r\n          * */\n      appendFoundItem: function appendFoundItem(value, container, listElement) {\n        var self = this;\n        var id = \"\";\n        var tag = \"\";\n\n        if (self.getTagsElements().length >= self.maxValues) {\n          self.showMessageFunction(self.maxValuesErrorMessage);\n          return;\n        }\n\n        // Map the ids of the elements to an array\n        var uniqueIds = $.map($(\"li\", container), function (val) {\n          return $(val).data(\"guid\");\n        });\n\n        //in order to determinate if the tag exist in the tags array\n        var suggest = [];\n\n        // Avoid appending duplicated items\n        //if is a clicked element\n        if (listElement) {\n          id = $(value).data(\"guid\");\n          tag = $(\"label\", value).text();\n        }\n        //if is a type element\n        else {\n            //look if the element is in the tags array\n            suggest = self.tags.filter(function (tag) {\n              return tag.tag == value;\n            })[0];\n\n            //if the element exist in the tags array take it!\n            if (suggest) {\n              id = suggest.guid;\n              tag = suggest.tag;\n\n              //if the selected element has simialars sibblings hide them\n              var element = $(\"[data-guid='\" + id + \"']\", self.modalViewList);\n              if (element.siblings().length === 0) {\n                var inputContainer = $(\"#ui-bizagi-wp-filter-results-uitags-wrapper ul li\",\n                self.modalViewList.parents());\n                self.showNoResultsMessage(inputContainer);\n              }\n\n              //remove the element from results list\n              element.remove();\n            }\n            //if the element dont exist in the tags array, create a new element!\n            else {\n                id = Math.guid();\n                tag = value;\n              }\n          }\n\n        if (uniqueIds.indexOf(id) == -1) {\n          var newDataTmpl = $.kendoTmpls(self.defaultModalViewTags, { \"template\": \"fullElement\", \"guid\": id, \"tag\": tag });\n          var $newElement = $(\"li\", newDataTmpl);\n\n          // Get the latest item on list to append new li with match word\n          var lastElement = $(\"li:last\", container);\n          if (lastElement.hasClass(\"bz-rn-any-element\")) {\n            lastElement.remove();\n            $(\"ul\", container).prepend($newElement);\n          } else {\n            $(\"ul\", container).prepend($newElement);\n          }\n\n          self.addTemporalElement(id, tag, false);\n        }\n      },\n\n      /**\r\n         * get all the selectes tags\r\n         */\n      getTagsElements: function getTagsElements() {\n        var elements = $(\"ul li.bz-rn-regular-element\", self.selector);\n        var tags = [];\n        var result = [];\n\n        for (var i = 0; i < elements.length; i++) {\n          var guid = $(elements[i]).data(\"guid\");\n          var value = $(\"label\", $(elements[i])).text();\n          var newElement = { \"guid\": guid, \"tag\": value };\n\n          tags.push(newElement);\n        }\n\n        return Array.from(tags.reduce(function (a, o) {return a.set(o.guid, o);}, new Map()).values());\n      },\n\n      /**\r\n          * Adding new values to input\r\n          * */\n      addNewValuesToInput: function addNewValuesToInput() {\n        var self = this;\n\n        //Create a temporal array\n        var tempArray = [];\n\n        $.each(self.temporalElements, function (i, ele) {\n          tempArray.push(ele.obj);\n        });\n\n        //Clear the input\n        $(\"ul li\", self.input).remove();\n\n        //Get the input content\n        var dataTpml = $.kendoTmpls(self.defaultInputTags, { \"template\": \"inputContainer\", \"value\": tempArray });\n        var inputContainer = $(\"li\", dataTpml);\n\n        //Add the input container\n        inputContainer.appendTo($(\"ul\", self.input));\n\n        //unbind current events\n        $(\"ul\", self.input).unbind();\n        $(\".bz-rn-last-child\", self.input).unbind();\n\n        self.configureModalView(\".bz-rn-last-child\");\n\n        self.configureInputHandlers();\n      },\n\n      configureInputHandlers: function configureInputHandlers() {\n        var self = this;\n        self.input.on(\"click\", \".bz-rn-remove-tag-on-uitags\", function () {\n          self.removeItem($(this));\n        });\n      },\n\n      /**\r\n          * Add new element to the temporal array\r\n          * */\n      addTemporalElement: function addTemporalElement(id, value, elementToRemove) {\n        var self = this;\n\n        if (self.temporalElements[id]) {\n          delete self.temporalElements[id];\n        }\n\n        self.temporalElements[id] = { \"obj\": { \"guid\": id, \"tag\": value }, \"remove\": elementToRemove };\n      } };\n\n\n    methods.init(self, options);\n\n    return methods;\n  };\n\n})($);\n\n// Use the following plugin for desktop\n(function ($) {\n  \"use strict\";\n\n  var defaultOptions = {\n    tagClass: function tagClass(item) {\n      return 'label label-info';\n    },\n    itemValue: function itemValue(item) {\n      return item ? item.toString() : item;\n    },\n    itemText: function itemText(item) {\n      return this.itemValue(item);\n    },\n    itemTitle: function itemTitle(item) {\n      return null;\n    },\n    freeInput: true,\n    addOnBlur: true,\n    maxTags: undefined,\n    maxChars: undefined,\n    confirmKeys: [13, 44],\n    delimiter: ',',\n    delimiterRegex: null,\n    cancelConfirmKeysOnEmpty: true,\n    onTagExists: function onTagExists(item, $tag) {\n      $tag.hide().fadeIn();\n    },\n    trimValue: false,\n    allowDuplicates: false,\n    isNumber: false };\n\n\n  /**\r\n                        * Constructor function\r\n                        */\n  function TagsInput(element, options) {\n    this.itemsArray = [];\n\n    this.$element = $(element);\n    this.$element.hide();\n\n    this.isSelect = element.tagName === 'SELECT';\n    this.multiple = this.isSelect && element.hasAttribute('multiple');\n    this.objectItems = options && options.itemValue;\n    this.placeholderText = element.hasAttribute('placeholder') ? this.$element.attr('placeholder') : '';\n    this.inputSize = Math.max(1, this.placeholderText.length);\n\n    this.$container = $('<div class=\"bootstrap-tagsinput biz-wp-input-combo\"></div>');\n    this.inputType = options.isNumber ? \"number\" : \"text\";\n    this.$input = $('<input type=\"' + this.inputType + '\" placeholder=\"' + this.placeholderText + '\"/>').appendTo(this.$container);\n\n    this.$element.before(this.$container);\n\n    this.build(options);\n  }\n\n  TagsInput.prototype = {\n    constructor: TagsInput,\n\n    /**\r\n                             * Adds the given item as a new tag. Pass true to dontPushVal to prevent\r\n                             * updating the elements val()\r\n                             */\n    add: function add(item, dontPushVal, options) {\n      var self = this;\n\n      if (self.options.maxTags && self.itemsArray.length >= self.options.maxTags)\n      return;\n\n      // Ignore falsey values, except false\n      if (item !== false && !item)\n      return;\n\n      // Trim value\n      if (typeof item === \"string\" && self.options.trimValue) {\n        item = $.trim(item);\n      }\n\n      // Throw an error when trying to add an object while the itemValue option was not set\n      if (_typeof(item) === \"object\" && !self.objectItems)\n      throw \"Can't add objects when itemValue option is not set\";\n\n      // Ignore strings only containg whitespace\n      if (item.toString().match(/^\\s*$/))\n      return;\n\n      // If SELECT but not multiple, remove current tag\n      if (self.isSelect && !self.multiple && self.itemsArray.length > 0)\n      self.remove(self.itemsArray[0]);\n\n      if (typeof item === \"string\" && this.$element[0].tagName === 'INPUT') {\n        var delimiter = self.options.delimiterRegex ? self.options.delimiterRegex : self.options.delimiter;\n        var items = item.split(delimiter);\n        if (items.length > 1) {\n          for (var i = 0; i < items.length; i++) {\n            this.add(items[i], true);\n          }\n\n          if (!dontPushVal)\n          self.pushVal();\n          return;\n        }\n      }\n\n      var itemValue = self.options.itemValue(item),\n      itemText = self.options.itemText(item),\n      tagClass = self.options.tagClass(item),\n      itemTitle = self.options.itemTitle(item);\n\n      // Ignore items allready added\n      var existing = $.grep(self.itemsArray, function (item) {return self.options.itemValue(item) === itemValue;})[0];\n      if (existing && !self.options.allowDuplicates) {\n        // Invoke onTagExists\n        if (self.options.onTagExists) {\n          var $existingTag = $(\".tag\", self.$container).filter(function () {return $(this).data(\"item\") === existing;});\n          self.options.onTagExists(item, $existingTag);\n        }\n        return;\n      }\n\n      // if length greater than limit\n      if (self.items().toString().length + item.length + 1 > self.options.maxInputLength)\n      return;\n\n      // raise beforeItemAdd arg\n      var beforeItemAddEvent = $.Event('beforeItemAdd', { item: item, cancel: false, options: options });\n      self.$element.trigger(beforeItemAddEvent);\n      if (beforeItemAddEvent.cancel)\n      return;\n\n      // register item in internal array and map\n      self.itemsArray.push(item);\n\n      // add a tag element\n\n      var $tag = $('<span class=\"tag ' + htmlEncode(tagClass) + (itemTitle !== null ? '\" title=\"' + itemTitle : '') + '\">' + htmlEncode(itemText) + '<span data-role=\"remove\"></span></span>');\n      $tag.data('item', item);\n      self.findInputWrapper().before($tag);\n      $tag.after(' ');\n\n      // add <option /> if item represents a value not present in one of the <select />'s options\n      if (self.isSelect && !$('option[value=\"' + encodeURIComponent(itemValue) + '\"]', self.$element)[0]) {\n        var $option = $('<option selected>' + htmlEncode(itemText) + '</option>');\n        $option.data('item', item);\n        $option.attr('value', itemValue);\n        self.$element.append($option);\n      }\n\n      if (!dontPushVal)\n      self.pushVal();\n\n      // Add class when reached maxTags\n      if (self.options.maxTags === self.itemsArray.length || self.items().toString().length === self.options.maxInputLength)\n      self.$container.addClass('bootstrap-tagsinput-max');\n\n      self.$element.trigger($.Event('itemAdded', { item: item, options: options }));\n    },\n\n    /**\r\n        * Removes the given item. Pass true to dontPushVal to prevent updating the\r\n        * elements val()\r\n        */\n    remove: function remove(item, dontPushVal, options) {\n      var self = this;\n\n      if (self.objectItems) {\n        if (_typeof(item) === \"object\")\n        item = $.grep(self.itemsArray, function (other) {return self.options.itemValue(other) == self.options.itemValue(item);});else\n\n        item = $.grep(self.itemsArray, function (other) {return self.options.itemValue(other) == item;});\n\n        item = item[item.length - 1];\n      }\n\n      if (item) {\n        var beforeItemRemoveEvent = $.Event('beforeItemRemove', { item: item, cancel: false, options: options });\n        self.$element.trigger(beforeItemRemoveEvent);\n        if (beforeItemRemoveEvent.cancel)\n        return;\n\n        $('.tag', self.$container).filter(function () {return $(this).data('item') === item;}).remove();\n        $('option', self.$element).filter(function () {return $(this).data('item') === item;}).remove();\n        if ($.inArray(item, self.itemsArray) !== -1)\n        self.itemsArray.splice($.inArray(item, self.itemsArray), 1);\n      }\n\n      if (!dontPushVal)\n      self.pushVal();\n\n      // Remove class when reached maxTags\n      if (self.options.maxTags > self.itemsArray.length)\n      self.$container.removeClass('bootstrap-tagsinput-max');\n\n      self.$element.trigger($.Event('itemRemoved', { item: item, options: options }));\n    },\n\n    /**\r\n        * Removes all items\r\n        */\n    removeAll: function removeAll() {\n      var self = this;\n\n      $('.tag', self.$container).remove();\n      $('option', self.$element).remove();\n\n      while (self.itemsArray.length > 0) {\n        self.itemsArray.pop();}\n\n      self.pushVal();\n    },\n\n    /**\r\n        * Refreshes the tags so they match the text/value of their corresponding\r\n        * item.\r\n        */\n    refresh: function refresh() {\n      var self = this;\n      $('.tag', self.$container).each(function () {\n        var $tag = $(this),\n        item = $tag.data('item'),\n        itemValue = self.options.itemValue(item),\n        itemText = self.options.itemText(item),\n        tagClass = self.options.tagClass(item);\n\n        // Update tag's class and inner text\n        $tag.attr('class', null);\n        $tag.addClass('tag ' + htmlEncode(tagClass));\n        $tag.contents().filter(function () {\n          return this.nodeType == 3;\n        })[0].nodeValue = htmlEncode(itemText);\n\n        if (self.isSelect) {\n          var option = $('option', self.$element).filter(function () {return $(this).data('item') === item;});\n          option.attr('value', itemValue);\n        }\n      });\n    },\n\n    /**\r\n        * Returns the items added as tags\r\n        */\n    items: function items() {\n      return this.itemsArray;\n    },\n\n    /**\r\n        * Assembly value by retrieving the value of each item, and set it on the\r\n        * element.\r\n        */\n    pushVal: function pushVal() {\n      var self = this,\n      val = $.map(self.items(), function (item) {\n        return self.options.itemValue(item).toString();\n      });\n\n      self.$element.val(val, true).trigger('change');\n    },\n\n    /**\r\n        * Initializes the tags input behaviour on the element\r\n        */\n    build: function build(options) {\n      var self = this;\n\n      self.options = $.extend({}, defaultOptions, options);\n      // When itemValue is set, freeInput should always be false\n      if (self.objectItems)\n      self.options.freeInput = false;\n\n      makeOptionItemFunction(self.options, 'itemValue');\n      makeOptionItemFunction(self.options, 'itemText');\n      makeOptionFunction(self.options, 'tagClass');\n\n      // Typeahead Bootstrap version 2.3.2\n      if (self.options.typeahead) {\n        var typeahead = self.options.typeahead || {};\n\n        makeOptionFunction(typeahead, 'source');\n\n        self.$input.typeahead($.extend({}, typeahead, {\n          source: function source(query, process) {\n            function processItems(items) {\n              var texts = [];\n\n              for (var i = 0; i < items.length; i++) {\n                var text = self.options.itemText(items[i]);\n                map[text] = items[i];\n                texts.push(text);\n              }\n              process(texts);\n            }\n\n            this.map = {};\n            var map = this.map,\n            data = typeahead.source(query);\n\n            if ($.isFunction(data.success)) {\n              // support for Angular callbacks\n              data.success(processItems);\n            } else if ($.isFunction(data.then)) {\n              // support for Angular promises\n              data.then(processItems);\n            } else {\n              // support for functions and jquery promises\n              $.when(data).\n              then(processItems);\n            }\n          },\n          updater: function updater(text) {\n            self.add(this.map[text]);\n            return this.map[text];\n          },\n          matcher: function matcher(text) {\n            return text.toLowerCase().indexOf(this.query.trim().toLowerCase()) !== -1;\n          },\n          sorter: function sorter(texts) {\n            return texts.sort();\n          },\n          highlighter: function highlighter(text) {\n            var regex = new RegExp('(' + this.query + ')', 'gi');\n            return text.replace(regex, \"<strong>$1</strong>\");\n          } }));\n\n      }\n\n      // typeahead.js\n      if (self.options.typeaheadjs) {\n        var typeaheadConfig = null;\n        var typeaheadDatasets = {};\n\n        // Determine if main configurations were passed or simply a dataset\n        var typeaheadjs = self.options.typeaheadjs;\n        if ($.isArray(typeaheadjs)) {\n          typeaheadConfig = typeaheadjs[0];\n          typeaheadDatasets = typeaheadjs[1];\n        } else {\n          typeaheadDatasets = typeaheadjs;\n        }\n\n        self.$input.typeahead(typeaheadConfig, typeaheadDatasets).on('typeahead:selected', $.proxy(function (obj, datum) {\n          if (typeaheadDatasets.valueKey)\n          self.add(datum[typeaheadDatasets.valueKey]);else\n\n          self.add(datum);\n          self.$input.typeahead('val', '');\n        }, self));\n      }\n\n      self.$container.on('click', $.proxy(function (event) {\n        if (!self.$element.attr('disabled')) {\n          self.$input.removeAttr('disabled');\n        }\n        self.$input.focus();\n      }, self));\n\n      if (self.options.addOnBlur && self.options.freeInput) {\n        self.$input.on('focusout', $.proxy(function (event) {\n          // HACK: only process on focusout when no typeahead opened, to\n          //       avoid adding the typeahead text as tag\n          if ($('.typeahead, .twitter-typeahead', self.$container).length === 0) {\n            self.add(self.$input.val());\n            self.$input.val('');\n          }\n        }, self));\n      }\n\n\n      self.$container.on('keydown', 'input', $.proxy(function (event) {\n        var $input = $(event.target),\n        $inputWrapper = self.findInputWrapper();\n\n        if (self.$element.attr('disabled')) {\n          self.$input.attr('disabled', 'disabled');\n          return;\n        }\n\n        switch (event.which) {\n          // BACKSPACE\n          case 8:\n            if (doGetCaretPosition($input[0]) === 0) {\n              var prev = $inputWrapper.prev();\n              if (prev.length) {\n                self.remove(prev.data('item'));\n              }\n            }\n            break;\n\n          // DELETE\n          case 46:\n            if (doGetCaretPosition($input[0]) === 0) {\n              var next = $inputWrapper.next();\n              if (next.length) {\n                self.remove(next.data('item'));\n              }\n            }\n            break;\n\n          // LEFT ARROW\n          case 37:\n            // Try to move the input before the previous tag\n            var $prevTag = $inputWrapper.prev();\n            if ($input.val().length === 0 && $prevTag[0]) {\n              $prevTag.before($inputWrapper);\n              $input.focus();\n            }\n            break;\n          // RIGHT ARROW\n          case 39:\n            // Try to move the input after the next tag\n            var $nextTag = $inputWrapper.next();\n            if ($input.val().length === 0 && $nextTag[0]) {\n              $nextTag.after($inputWrapper);\n              $input.focus();\n            }\n            break;\n          default:\n          // ignore\n        }\n\n        // Reset internal input's size\n        var textLength = $input.val().length,\n        wordSpace = Math.ceil(textLength / 5),\n        size = textLength + wordSpace + 1;\n        $input.attr('size', Math.max(this.inputSize, $input.val().length));\n      }, self));\n\n      self.$container.on('keypress', 'input', $.proxy(function (event) {\n        var $input = $(event.target);\n\n        if (self.$element.attr('disabled')) {\n          self.$input.attr('disabled', 'disabled');\n          return;\n        }\n\n        var text = $input.val(),\n        maxLengthReached = self.options.maxChars && text.length >= self.options.maxChars;\n        if (self.options.freeInput && (keyCombinationInList(event, self.options.confirmKeys) || maxLengthReached)) {\n          // Only attempt to add a tag if there is data in the field\n          if (text.length !== 0) {\n            self.add(maxLengthReached ? text.substr(0, self.options.maxChars) : text);\n            $input.val('');\n          }\n\n          // If the field is empty, let the event triggered fire as usual\n          if (self.options.cancelConfirmKeysOnEmpty === false) {\n            event.preventDefault();\n          }\n        }\n\n        // Reset internal input's size\n        var textLength = $input.val().length,\n        wordSpace = Math.ceil(textLength / 5),\n        size = textLength + wordSpace + 1;\n        $input.attr('size', Math.max(this.inputSize, $input.val().length));\n      }, self));\n\n      // Remove icon clicked\n      self.$container.on('click', '[data-role=remove]', $.proxy(function (event) {\n        if (self.$element.attr('disabled')) {\n          return;\n        }\n        self.remove($(event.target).closest('.tag').data('item'));\n      }, self));\n\n      // Only add existing value as tags when using strings as tags\n      if (self.options.itemValue === defaultOptions.itemValue) {\n        if (self.$element[0].tagName === 'INPUT') {\n          self.add(self.$element.val());\n        } else {\n          $('option', self.$element).each(function () {\n            self.add($(this).attr('value'), true);\n          });\n        }\n      }\n    },\n\n    /**\r\n        * Removes all tagsinput behaviour and unregsiter all event handlers\r\n        */\n    destroy: function destroy() {\n      var self = this;\n\n      // Unbind events\n      self.$container.off('keypress', 'input');\n      self.$container.off('click', '[role=remove]');\n\n      self.$container.remove();\n      self.$element.removeData('tagsinput');\n      self.$element.show();\n    },\n\n    /**\r\n        * Sets focus on the tagsinput\r\n        */\n    focus: function focus() {\n      this.$input.focus();\n    },\n\n    /**\r\n        * Returns the internal input element\r\n        */\n    input: function input() {\n      return this.$input;\n    },\n\n    /**\r\n        * Returns the element which is wrapped around the internal input. This\r\n        * is normally the $container, but typeahead.js moves the $input element.\r\n        */\n    findInputWrapper: function findInputWrapper() {\n      var elt = this.$input[0],\n      container = this.$container[0];\n      while (elt && elt.parentNode !== container) {\n        elt = elt.parentNode;}\n\n      return $(elt);\n    } };\n\n\n  /**\r\n          * Register JQuery plugin\r\n          */\n  $.fn.tagsinput = function (arg1, arg2, arg3) {\n    var results = [];\n\n    this.each(function () {\n      var tagsinput = $(this).data('tagsinput');\n      // Initialize a new tags input\n      if (!tagsinput) {\n        tagsinput = new TagsInput(this, arg2);\n        $(this).data('tagsinput', tagsinput);\n        results.push(tagsinput);\n\n        if (this.tagName === 'SELECT') {\n          $('option', $(this)).attr('selected', 'selected');\n        }\n\n        // Init tags from $(this).val()\n        $(this).val($(this).val());\n      } else if (!arg1 && !arg2) {\n        // tagsinput already exists\n        // no function, trying to init\n        results.push(tagsinput);\n      } else if (tagsinput[arg1] !== undefined) {\n        // Invoke function on existing tags input\n        if (tagsinput[arg1].length === 3 && arg3 !== undefined) {\n          var retVal = tagsinput[arg1](arg2, null, arg3);\n        } else {\n          var retVal = tagsinput[arg1](arg2);\n        }\n        if (retVal !== undefined)\n        results.push(retVal);\n      }\n    });\n\n    if (typeof arg1 == 'string') {\n      // Return the results from the invoked function calls\n      return results.length > 1 ? results : results[0];\n    } else {\n      return results;\n    }\n  };\n\n  $.fn.tagsinput.Constructor = TagsInput;\n\n  /**\r\n                                           * Most options support both a string or number as well as a function as\r\n                                           * option value. This function makes sure that the option with the given\r\n                                           * key in the given options is wrapped in a function\r\n                                           */\n  function makeOptionItemFunction(options, key) {\n    if (typeof options[key] !== 'function') {\n      var propertyName = options[key];\n      options[key] = function (item) {return item[propertyName];};\n    }\n  }\n  function makeOptionFunction(options, key) {\n    if (typeof options[key] !== 'function') {\n      var value = options[key];\n      options[key] = function () {return value;};\n    }\n  }\n  /**\r\n     * HtmlEncodes the given value\r\n     */\n  var htmlEncodeContainer = $('<div />');\n  function htmlEncode(value) {\n    if (value) {\n      return htmlEncodeContainer.text(value).html();\n    } else {\n      return '';\n    }\n  }\n\n  /**\r\n     * Returns the position of the caret in the given input field\r\n     * http://flightschool.acylt.com/devnotes/caret-position-woes/\r\n     */\n  function doGetCaretPosition(oField) {\n    var iCaretPos = 0;\n    if (document.selection) {\n      oField.focus();\n      var oSel = document.selection.createRange();\n      oSel.moveStart('character', -oField.value.length);\n      iCaretPos = oSel.text.length;\n    } else if (oField.selectionStart || oField.selectionStart == '0') {\n      iCaretPos = oField.selectionStart;\n    }\n    return iCaretPos;\n  }\n\n  /**\r\n      * Returns boolean indicates whether user has pressed an expected key combination.\r\n      * @param object keyPressEvent: JavaScript event object, refer\r\n      *     http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\r\n      * @param object lookupList: expected key combinations, as in:\r\n      *     [13, {which: 188, shiftKey: true}]\r\n      */\n  function keyCombinationInList(keyPressEvent, lookupList) {\n    var found = false;\n    $.each(lookupList, function (index, keyCombination) {\n      if (typeof keyCombination === 'number' && keyPressEvent.which === keyCombination) {\n        found = true;\n        return false;\n      }\n\n      if (keyPressEvent.which === keyCombination.which) {\n        var alt = !keyCombination.hasOwnProperty('altKey') || keyPressEvent.altKey === keyCombination.altKey,\n        shift = !keyCombination.hasOwnProperty('shiftKey') || keyPressEvent.shiftKey === keyCombination.shiftKey,\n        ctrl = !keyCombination.hasOwnProperty('ctrlKey') || keyPressEvent.ctrlKey === keyCombination.ctrlKey;\n        if (alt && shift && ctrl) {\n          found = true;\n          return false;\n        }\n      }\n    });\n\n    return found;\n  }\n\n  /**\r\n     * Initialize tagsinput behaviour on inputs and selects which have\r\n     * data-role=tagsinput\r\n     */\n  $(function () {\n    $(\"input[data-role=tagsinput], select[multiple][data-role=tagsinput]\").tagsinput();\n  });\n})(window.jQuery);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                               Plugin to create WorkPortal RadioButtons...\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   var options = {\r\n                                                                                                                                                                                                                                                                                                                                                                                       data: {},\r\n                                                                                                                                                                                                                                                                                                                                                                                       css:'customCSS'\r\n                                                                                                                                                                                                                                                                                                                                                                                   };\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $('selector').uicheckbox(options);\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $(document).on(\"checkboxChange\", function(obj){\r\n                                                                                                                                                                                                                                                                                                                                                                                       console.log(obj.message, obj.ui, obj.ui.val());\r\n                                                                                                                                                                                                                                                                                                                                                                                   });\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                               @class $.fn.uicheckbox \r\n                                                                                                                                                                                                                                                                                                                                                                               @constructor uicheckbox\r\n                                                                                                                                                                                                                                                                                                                                                                               **/\n(function ($) {\n  \"use strict\";\n\n  $.fn.uicheckbox = function (options, params) {\n\n    var plg = this;\n\n    plg.config = {\n      namespace: $.bizagi.ui.controls.uicheckbox.namespace,\n      cssComponent: $.bizagi.ui.controls.uicheckbox.css };\n\n\n    plg.settings = {\n      /**\r\n                     DataSource to create a checkbox Control\r\n                           var data = [\r\n                                     {   \r\n                                         value:value,\r\n                                         text:'checkbox'\r\n                                     }\r\n                                 ];\r\n                       @property data \r\n                     @type Object\r\n                     @default \"{}\"\r\n                     **/\n\n\n      data: {},\n      nameTemplate: $.bizagi.ui.controls.uicheckbox.tmpl,\n      /**\r\n                                                          Function to modify values\r\n                                                            @property itemValue \r\n                                                          @type Function\r\n                                                          @param {Object} Object with value\r\n                                                                {value:xxx}\r\n                                                            @default \"null\"\r\n                                                          **/\n\n\n\n      itemValue: null,\n      /**\r\n                       Function to modify output text\r\n                         @property itemText \r\n                       @type Function\r\n                       @param {Object} Object with text\r\n                             {text:xxx}\r\n                       \r\n                       @default \"null\"\r\n                       **/\n\n\n      itemText: null,\n      /**\r\n                      Function to modify output text\r\n                        @property css \r\n                      @type String\r\n                      @default \"\"\r\n                      **/\n\n      css: '',\n      itemChecked: 0,\n      getTemplate: function getTemplate(name) {\n        return bizagi.getTemplate(name);\n      },\n      /**\r\n         Function exceute when is ready\r\n           @property onComplete \r\n         @type Function\r\n         @default \"function(){}\"\r\n         **/\n\n      onComplete: function onComplete() {},\n      /**\r\n                                            Function execute when controls is change\r\n                                              @property onChange \r\n                                            @type Function\r\n                                            @default \"function(){}\"\r\n                                            **/\n\n      onChange: function onChange() {} };\n\n\n    plg.methods = {\n      init: function init(op) {\n\n        var self = $(this);\n        var template = op.getTemplate(op.nameTemplate);\n\n        self.attr('role', op.namespace);\n        self.addClass(op.cssComponent);\n        self.addClass(op.css);\n\n        $.when($.get(template)).done(function (a) {\n\n          var nData = op.data;\n\n          op.data.checkboxGroup = op.checkboxGroup ? op.checkboxGroup : plg.methods.generateNamecheckboxGroup();\n\n\n          for (var i = 0; i < nData.checkbox.length; i++) {\n            nData.checkbox[i].isChecked = false;\n          }\n\n          nData.checkbox[op.itemChecked].isChecked = true;\n\n          var tmp = $.tmpl(a, nData, {\n            itemValue: op.itemValue ? op.itemValue : plg.methods.itemValue,\n            itemText: op.itemText ? op.itemText : plg.methods.itemText });\n\n\n          self.append(tmp);\n\n\n          tmp.find('.biz-wp-option-checkbox').each(function (index, value) {\n            if (op.data.checkbox[index].data) {\n              $.extend($(value).data(), op.data.checkbox[index].data);\n            }\n          });\n\n          plg.settings.onComplete.apply(self, []);\n\n          /**\r\n                                                   Fired when a checkbox change\r\n                                                     @event checkboxChange \r\n                                                   @param {String} type checkboxChange\r\n                                                   @param {String} message \r\n                                                   @param {Date} time \r\n                                                   @param {Object} Jquery Object HTML \r\n                                                   **/\n\n          $('input[type=\"checkbox\"]', tmp).on('change', function () {\n            var control = $(this);\n            plg.settings.onChange(control);\n\n            $.event.trigger({\n              type: \"checkboxChange\",\n              message: \"checkbox change\",\n              time: new Date(),\n              ui: control });\n\n          });\n\n          /**\r\n              Fired when a checkbox is created\r\n                @event checkboxCompleted \r\n              @param {String} type checkboxCompleted\r\n              @param {String} message\r\n              @param {Date} time\r\n              @param {Object} Jquery Object HTML \r\n              **/\n\n          $.event.trigger({\n            type: \"checkboxCompleted\",\n            message: \"checkbox is Completed\",\n            time: new Date(),\n            ui: self });\n\n\n        }).fail(function () {\n          $.error('No se pudo cargar el template para generar las tablas');\n        });\n\n      },\n      generateNamecheckboxGroup: function generateNamecheckboxGroup() {\n        var self = this;\n\n        var d = new Date().getTime();\n        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n          var r = (d + Math.random() * 16) % 16 | 0;\n          d = Math.floor(d / 16);\n          return (c == 'x' ? r : r & 0x7 | 0x8).toString(16);\n        });\n        return uuid;\n      },\n\n\n      itemValue: function itemValue(obj) {\n        var val = '';\n        if (obj.itemValue) {\n          val = obj.itemValue(obj);\n        } else {\n          if (typeof obj.value === 'string' || typeof obj.value === 'number') {\n            val = obj.value;\n          }\n        }\n        return val;\n      },\n      itemText: function itemText(obj) {\n        var val = '';\n        if (obj.itemValue) {\n          val = obj.itemText(obj);\n        } else {\n          if (typeof obj.text === 'string') {\n            val = obj.text;\n          }\n        }\n        return val;\n      },\n      /**\r\n         * Destroy Checkboxes\r\n         *\r\n         *   $('selector').uicheckbox('destroy');\r\n         *\r\n         * @method destroy\r\n         * @return {Object} Jquery Empty Object\r\n         */\n      destroy: function destroy(op) {\n        var self = $(this);\n        if (self.attr('role') === op.namespace) {\n          self.empty();\n        } else {\n          $.error('No es posible eliminar un control con un namespace diferente: [role: ' + op.namespace + ']');\n        }\n      } };\n\n\n\n\n    if (_typeof(options) != 'object' && options) {\n\n      $.extend(plg.settings, params, plg.config);\n      return plg.methods[options].apply(this, [plg.settings]);\n\n    } else if (_typeof(options) === 'object' || !options || options === undefined) {\n\n      $.extend(plg.settings, options, plg.config);\n      return this.each(function () {\n        plg.methods.init.apply(this, [plg.settings]);\n      });\n\n    } else {\n\n      $.error('Method ' + options + ' does not exist on jQuery.checkbox');\n\n    }\n\n  };\n\n  $.bizagi.ui.controls.uicheckbox.plugin = $.fn.uicheckbox;\n\n})(jQuery);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                               Plugin to create WorkPortal RadioButtons...\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   var options = {\r\n                                                                                                                                                                                                                                                                                                                                                                                       data: {},\r\n                                                                                                                                                                                                                                                                                                                                                                                       css:'customCSS'\r\n                                                                                                                                                                                                                                                                                                                                                                                   };\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $('selector').uiradio(options);\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $(document).on(\"radioChange\", function(obj){\r\n                                                                                                                                                                                                                                                                                                                                                                                       console.log(obj.message, obj.ui, obj.ui.val());\r\n                                                                                                                                                                                                                                                                                                                                                                                   });\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                               @class $.fn.uiradio \r\n                                                                                                                                                                                                                                                                                                                                                                               @constructor uiradio\r\n                                                                                                                                                                                                                                                                                                                                                                               **/\n(function ($) {\n  \"use strict\";\n\n\n\n  $.fn.uiradio = function (options, params) {\n\n    var plg = this;\n\n    plg.config = {\n      namespace: $.bizagi.ui.controls.uiradio.namespace,\n      cssComponent: $.bizagi.ui.controls.uiradio.css };\n\n\n    plg.settings = {\n      /**\r\n                     DataSource to create a uiradio Control\r\n                           var data = [\r\n                                     {   \r\n                                         value:value,\r\n                                         text:'radio'\r\n                                     }\r\n                                 ];\r\n                       @property data \r\n                     @type Object\r\n                     @default \"{}\"\r\n                     **/\n\n\n      data: {},\n      nameTemplate: $.bizagi.ui.controls.uiradio.tmpl,\n      /**\r\n                                                       Function to modify values\r\n                                                         @property itemValue \r\n                                                       @type Function\r\n                                                       @param {Object} Object with value\r\n                                                             {value:xxx}\r\n                                                         @default \"null\"\r\n                                                       **/\n\n\n\n      itemValue: null,\n      /**\r\n                       Function to modify output text\r\n                         @property itemText \r\n                       @type Function\r\n                       @param {Object} Object with text\r\n                             {text:xxx}\r\n                       \r\n                       @default \"null\"\r\n                       **/\n\n\n      itemText: null,\n      /**\r\n                      Function to modify output text\r\n                        @property css \r\n                      @type String\r\n                      @default \"\"\r\n                      **/\n\n      css: '',\n      getTemplate: function getTemplate(name) {\n        return bizagi.getTemplate(name);\n      },\n      /**\r\n         Function exceute when is ready\r\n           @property onComplete \r\n         @type Function\r\n         @default \"function(){}\"\r\n         **/\n\n      onComplete: function onComplete() {},\n      /**\r\n                                            Function execute when controls is change\r\n                                              @property onChange \r\n                                            @type Function\r\n                                            @default \"function(){}\"\r\n                                            **/\n\n      onChange: function onChange() {} };\n\n\n    plg.methods = {\n      init: function init(op) {\n\n        var self = $(this);\n        var template = op.getTemplate(op.nameTemplate);\n\n        self.attr('role', op.namespace);\n        self.addClass(op.cssComponent);\n        self.addClass(op.css);\n\n        $.when($.get(template)).done(function (a) {\n\n          var nData = op.data;\n\n          op.data.radioGroup = op.radioGroup ? op.radioGroup : plg.methods.generateNameRadioGroup();\n\n          var tmp = $.tmpl(a, nData, {\n            itemValue: op.itemValue ? op.itemValue : plg.methods.itemValue,\n            itemText: op.itemText ? op.itemText : plg.methods.itemText });\n\n\n          self.append(tmp);\n\n\n          tmp.find('.biz-wp-option-radio').each(function (index, value) {\n            if (op.data.radio[index].data) {\n              $.extend($(value).data(), op.data.radio[index].data);\n            }\n          });\n\n          plg.settings.onComplete.apply(self, []);\n\n          $('input[type=\"radio\"]', tmp).on('change', function () {\n            var control = $(this);\n            plg.settings.onChange(control);\n\n\n            /**\r\n                                            Fired when a radio change\r\n                                              @event radioChange \r\n                                            @param {String} type radioChange ...\r\n                                            @param {String} message\r\n                                            @param {Date} time\r\n                                            @param {Object} Jquery Object HTML\r\n                                            **/\n\n            $.event.trigger({\n              type: \"radioChange\",\n              message: \"radio change\",\n              time: new Date(),\n              ui: control });\n\n          });\n\n          /**\r\n              Fired when a radio is created\r\n                @event radioCompleted \r\n              @param {String} type radioCompleted\r\n              @param {String} message\r\n              @param {Date} time\r\n              @param {Object} Jquery Object HTML \r\n              **/\n\n          $.event.trigger({\n            type: \"radioCompleted\",\n            message: \"radio is Completed\",\n            time: new Date(),\n            ui: self });\n\n\n        }).fail(function () {\n          $.error('No se pudo cargar el template para generar las tablas');\n        });\n\n      },\n      generateNameRadioGroup: function generateNameRadioGroup() {\n        var self = this;\n\n        var d = new Date().getTime();\n        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n          var r = (d + Math.random() * 16) % 16 | 0;\n          d = Math.floor(d / 16);\n          return (c == 'x' ? r : r & 0x7 | 0x8).toString(16);\n        });\n        return uuid;\n      },\n\n\n      itemValue: function itemValue(obj) {\n        var val = '';\n        if (obj.itemValue) {\n          val = obj.itemValue(obj);\n        } else {\n          if (typeof obj.value === 'string' || typeof obj.value === 'number') {\n            val = obj.value;\n          }\n        }\n        return val;\n      },\n      itemText: function itemText(obj) {\n        var val = '';\n        if (obj.itemValue) {\n          val = obj.itemText(obj);\n        } else {\n          if (typeof obj.text === 'string') {\n            val = obj.text;\n          }\n        }\n        return val;\n      },\n      /**\r\n         * Destroy Radio Buttons\r\n         *\r\n         *   $('selector').uiradio('destroy');\r\n         *\r\n         * @method destroy\r\n         * @return {Object} Jquery Empty Object\r\n         */\n      destroy: function destroy(op) {\n        var self = $(this);\n        if (self.attr('role') === op.namespace) {\n          self.empty();\n        } else {\n          $.error('No es posible eliminar un control con un namespace diferente: [role: ' + op.namespace + ']');\n        }\n      } };\n\n\n\n\n    if (_typeof(options) != 'object' && options) {\n\n      $.extend(plg.settings, params, plg.config);\n      return plg.methods[options].apply(this, [plg.settings]);\n\n    } else if (_typeof(options) === 'object' || !options || options === undefined) {\n\n      $.extend(plg.settings, options, plg.config);\n      return this.each(function () {\n        plg.methods.init.apply(this, [plg.settings]);\n      });\n\n    } else {\n\n      $.error('Method ' + options + ' does not exist on jQuery.radio');\n\n    }\n\n  };\n\n  $.bizagi.ui.controls.uiradio.plugin = $.fn.uiradio;\n\n})(jQuery);","/*\r\n* jQuery UI SearchList @VERSION\r\n* Author: David Romero\r\n* Copyright (c) 2013 (http://www.bizagi.com)\r\n*\r\n* Depends:\r\n*  ui.core.js\r\n*/\n(function ($) {\n\n  $.widget('ui.searchList', {\n\n    options: {\n      list: [],\n      cases: [],\n      SEARCH_MAX_LENGTH: 1 },\n\n    _create: function _create() {\n\n      var self = this;\n      var element = self.element;\n      var cases = self.options.cases;\n      var input = element.find('input[type=text]');\n\n      input.autocomplete(\n      {\n        source: self._getLabels(),\n        minLength: 0,\n        messages:\n        {\n          noResults: null },\n\n        select: function select(event, ui) {\n          var value = $.map(self.options.list, function (obj) {\n            if (obj.displayName == ui.item.value) return obj;\n          });\n\n          self._prependCases(value[0]);\n          self._eventRemove();\n        },\n        close: function close() {\n          input.val(\"\");\n        } });\n\n\n      element.on(\"click\", function (event) {\n        input.focus();\n      });\n\n      input.on(\"keydown\", function (event) {\n\n        if (event.keyCode == 8 || event.keyCode == 46) {\n\n          var lastElement = element.find('li').not(\":last\").last();\n\n          if ($(this).val().length == 0 && lastElement.hasClass('selected')) {\n\n            var closeButton = lastElement.find('a.closebutton');\n            closeButton.trigger('click');\n            $(this).blur().focus();\n\n          } else if ($(this).val().length == 0) {\n\n            $(lastElement).addClass('selected');\n            $(this).blur().focus();\n          }\n        }\n\n        if (event.keyCode == 13) {\n\n          event.preventDefault();\n        }\n\n      });\n    },\n    _getLabels: function _getLabels() {\n\n      var self = this;\n      var labels = [];\n\n      $.each(self.options.list, function (key, value) {\n        labels.push(value.displayName);\n      });\n\n      return labels;\n    },\n    _prependCases: function _prependCases(value) {\n\n      var self = this;\n      var element = self.element;\n      var cases = self.options.cases;\n      var input = element.find('input[type=text]');\n\n      if ($.inArray(value.id, cases) < 0) {\n        cases.push(value.id);\n        input.parent().before('<li class=\"selected-case\" data-case-value=\"' + value.id + '\"><label>' + value.displayName + '</label><a class=\"closebutton\"></a></li>');\n      }\n\n    },\n    _eventRemove: function _eventRemove() {\n\n      var self = this;\n      var element = self.element;\n      var cases = self.options.cases;\n      var elementRemove = element.find('a.closebutton');\n\n      elementRemove.off('click').on('click', function (e) {\n        e.preventDefault();\n\n        var value = $(this).parent().data('case-value');\n        cases.splice($.inArray(value, cases), 1);\n        $(this).parent().remove();\n      });\n\n    } });\n\n\n})(jQuery);","\n/**\r\nPlugin to create WorkPortal treeviews...\r\n\r\nvar options = {\r\ndata: {},\r\n};\r\n\r\n$('selector').uitreeview(options);\r\n\r\n@class $.fn.uitreeview \r\n@constructor uitreeview\r\n**/\n\n/*\r\n    * jQuery UI MultiSelect @VERSION\r\n    * Author: David Romero\r\n    * Copyright (c) 2013 (http://www.bizagi.com)\r\n    *\r\n    * Depends:\r\n    *  ui.core.js\r\n    */\n(function ($) {\n\n  $.widget('ui.treeview', {\n    options: {\n      list: [],\n      defaults: [],\n      _dataItems: [],\n      _config: {\n        _template: $.bizagi.ui.controls.uitreeview.tmpl,\n        _cssClass: $.bizagi.ui.controls.uitreeview.css,\n        _namespace: $.bizagi.ui.controls.uitreeview.namespace },\n\n      SEARCH_MAX_LENGTH: 1 },\n\n    _create: function _create() {\n\n      var self = this;\n      var element = self.element;\n      var css = self.options._config._cssClass;\n\n      self.options._dataItems = [];\n\n      if (self.options.defaults.length) self._setDefaults();\n\n      element.addClass(css);\n\n      self.loader = new bizagi.ui.controls.tmplloader();\n\n      $.when(self.loader.loadTemplates(self._initializeTemplates())).done(function () {\n\n        element.append(self._renderContent());\n        self._eventHandlers();\n\n      });\n    },\n    _eventHandlers: function _eventHandlers() {\n\n      var self = this,$items = $(\".biz-ui-controls-tree-item\", self.element);\n\n      $items.on('click', \".biz-ui-controls-treeview-row:first-child\", function (event) {\n\n        var $element = $(this);\n        var $target = $(event.target);\n\n        if ($target.is('i.biz-ui-controls-treeview-subitems')) {\n\n          self._slideSubItems($element);\n\n        } else {\n\n          if (!$target.is('input[type=checkbox]')) {\n\n            var $checkbox = $target.siblings(\"input[type=checkbox]\");\n            $checkbox.prop('checked') ? $checkbox.prop('checked', false) : $checkbox.prop('checked', true);\n          }\n\n          $element.toggleClass(\"biz-ui-controls-uitreeview-items-active\");\n          self._setValue($element);\n        }\n\n        event.stopPropagation();\n      });\n    },\n    _slideSubItems: function _slideSubItems($element) {\n\n      var $subitems = $element.siblings(\"ul\");\n      $subitems.slideToggle(300);\n    },\n    _setValue: function _setValue($element) {\n\n      var self = this;\n      var dataItems = self.options._dataItems;\n      var value = $element.data(\"value\");\n      var text = $element.data(\"text\");\n\n      if ($element.hasClass(\"biz-ui-controls-uitreeview-items-active\")) {\n\n        dataItems.push({ text: text, value: value });\n      } else {\n\n        var position = $.map(dataItems, function (obj, i) {\n          if (obj.value == value) {return i;}\n        });\n\n        dataItems.splice(position[0], 1);\n      };\n\n      self._trigger('checkItem');\n    },\n    getDataItems: function getDataItems() {\n\n      var self = this;\n      return self.options._dataItems;\n    },\n    setList: function setList(list) {\n\n      var self = this;\n      self.options.list = list;\n      self.options._dataItems = [];\n\n      self._refresh();\n    },\n    getList: function getList() {\n\n      var self = this;\n      return self.options.list;\n    },\n    _refresh: function _refresh() {\n\n      var self = this;\n\n      self.element.empty().append(self._renderContent());\n      self._eventHandlers();\n    },\n    _renderContent: function _renderContent() {\n\n      var self = this;\n      var list = self.options.list;\n      var itemsTemplate = self.loader.getTemplate(\"items\");\n\n      return $.tmpl(itemsTemplate, { list: list }, {\n        itemValue: $.proxy(self._itemValue, self),\n        itemText: $.proxy(self._itemText, self),\n        renderSubItems: $.proxy(self._renderSubItems, self),\n        setDefaults: $.proxy(self._setDefaults, self) });\n\n\n    },\n    _initializeTemplates: function _initializeTemplates() {\n\n      var self = this;\n      var tmpl = self.options._config._template;\n\n      return {\n        \"items\": bizagi.getTemplate(tmpl) + \"#bizagi-ui-controls-uitreeview-items\",\n        \"subitems\": bizagi.getTemplate(tmpl) + \"#bizagi-ui-controls-uitreeview-subitems\" };\n\n    },\n    _renderSubItems: function _renderSubItems(obj) {\n\n      var self = this;\n\n      var subItemsTemplate = self.loader.getTemplate(\"subitems\");\n\n      var tmp = $.tmpl(subItemsTemplate, obj, {\n        itemValue: $.proxy(self._itemValue, self),\n        itemText: $.proxy(self._itemText, self),\n        renderSubItems: $.proxy(self._renderSubItems, self),\n        setDefaults: $.proxy(self._setDefaults, self) });\n\n\n      return tmp.html();\n    },\n    _destroy: function _destroy() {\n\n      var self = this;\n      self.options._dataItems = [];\n    },\n    _itemValue: function _itemValue(obj) {\n\n      var self = this;\n      var val = '';\n      if (self.options.itemValue) {\n        val = self.options.itemValue(obj);\n      } else {\n        if (typeof obj.value === 'string' || typeof obj.value === 'number') {\n          val = obj.value;\n        }\n      }\n      return val;\n    },\n    _itemText: function _itemText(obj) {\n\n      var self = this;\n      var val = '';\n      if (self.options.itemText) {\n        val = self.options.itemText(obj);\n      } else {\n        if (typeof obj.text === 'string') {\n          val = obj.text;\n        }\n      }\n      return val;\n    },\n    _setDefaults: function _setDefaults(obj) {\n\n      var self = this;\n      var defaults = self.options.defaults;\n      var list = self.options.list;\n\n      var text = self._itemText(obj);\n      var value = self._itemValue(obj);\n\n      self.options._dataItems.push({ text: text, value: value });\n\n      return \"\";\n    } });\n\n\n\n})(jQuery);","/*\r\n* jQuery UI MultiSelect @VERSION\r\n* Author: David Romero\r\n* Copyright (c) 2013 (http://www.bizagi.com)\r\n*\r\n* Depends:\r\n*  ui.core.js\r\n*/\n(function ($) {\n\n  $.widget(\"ui.autocomplete\", $.ui.autocomplete, {\n    _originalRenderItem: $.ui.autocomplete.prototype._renderItem,\n    _renderItem: function _renderItem(ul, item) {\n      if (this.options.customRenderItem !== undefined && this.options.customRenderItem != null && typeof this.options.customRenderItem == \"function\") {\n        return this.options.customRenderItem(ul, item);\n      }\n      return this._originalRenderItem.apply(this, arguments);\n    },\n    _renderMenu: function _renderMenu(ul, items) {\n      var that = this;\n      // TM13900: Avoid the visual effect for suggest on Forms\n      if (this.options && !!this.options.classMenuList) ul.addClass(this.options.classMenuList);\n\n      $.each(items, function (index, item) {\n        that._renderItemData(ul, item);\n      });\n      if (bizagi.localization.isRTL) {\n        ul.addClass(\"ui-rtl\");\n      }\n    } });\n\n\n  $.widget('ui.bizagi_multiSelect', {\n    options: {\n      list: [],\n      asyncList: undefined,\n      label: \"MyLabel\",\n      _dataItems: [],\n      _config: {\n        _template: $.bizagi.ui.controls.uimultiselect.tmpl,\n        _cssClass: $.bizagi.ui.controls.uimultiselect.css,\n        _namespace: $.bizagi.ui.controls.uimultiselect.namespace },\n\n      SEARCH_MIN_LENGTH: 3,\n      iconClass: \"\",\n      onChange: new Function(),\n      parentPositionElement: \"\",\n      parentElementToFitWidth: \"\",\n      parentElementToBorder: \"\",\n      classOpenedList: \"\",\n      classOpenedParent: \"\",\n      classItem: \"\",\n      openOnFocus: false,\n      customRenderItem: null,\n      maxDataItems: undefined,\n      errorMaxDataItems: undefined,\n      notifierFunction: undefined,\n      placeholder: undefined,\n      classMenuList: \"\" },\n\n    _create: function _create() {\n\n      var self = this;\n      var $element = self.element;\n\n      self.options._dataItems = [];\n\n      $.when(self._renderContent()).done(function (content) {\n\n        $element.append(content);\n        var $input = $element.find('input[type=text]');\n        if (self.options.placeholder)\n        $input.attr(\"placeholder\", self.options.placeholder);\n\n        var lastSelectedValue;\n        $input.autocomplete(\n        {\n          source: self._getDataSource(),\n          minLength: self.options.SEARCH_MIN_LENGTH,\n          classMenuList: self.options.classMenuList,\n          messages:\n          {\n            noResults: null },\n\n          select: function select(event, ui) {\n            var value = $.grep(self.options.list, function (obj) {\n              return self._itemValue(obj) == ui.item.id;\n            });\n\n            self._prependElements(value[0]);\n            lastSelectedValue = ui.item.value;\n          },\n          close: function close() {\n            if (lastSelectedValue && $input.val() == lastSelectedValue.toString())\n            $input.val(\"\");\n            if (self.options.parentElementToBorder != \"\" && self.options.classOpenedList != \"\" && self.options.classOpenedParent != \"\") {\n              $(\".ui-menu\").removeClass(self.options.classOpenedList);\n              $(self.options.parentElementToBorder).removeClass(self.options.classOpenedParent);\n            }\n          },\n          open: function open() {\n            if (self.options.parentElementToFitWidth != \"\") {\n              $(\".ui-menu\").width($(self.options.parentElementToFitWidth).width() - 4);\n            }\n            if (self.options.parentElementToBorder != \"\" && self.options.classOpenedList != \"\" && self.options.classOpenedParent != \"\") {\n              $(\".ui-menu\").addClass(self.options.classOpenedList);\n              $(self.options.parentElementToBorder).addClass(self.options.classOpenedParent);\n            }\n            if (bizagi.util.isIE()) {\n              var selfAuto = this;\n              $(selfAuto).autocomplete('widget').css('z-index', '');\n              setTimeout(function () {\n                $(selfAuto).autocomplete('widget').css('z-index', 100);\n              }, 100);\n            }\n          },\n          position: self.options.parentPositionElement != \"\" ? { of: $(self.options.parentPositionElement), my: \"left+0 top-4\" } : { my: \"left top\", at: \"left bottom\", collision: \"none\" },\n          customRenderItem: self.options.customRenderItem });\n\n\n        if (self.options.openOnFocus) {\n          $input.bind('focus', function () {$(this).autocomplete(\"search\");});\n        }\n\n        if (self.options.iconClass != \"\") {\n          $(\"<i class='\" + self.options.iconClass + \"'></i>\").insertBefore($input);\n        }\n\n        self._eventHandlers();\n      });\n\n    },\n    getDataItems: function getDataItems() {\n      var self = this;\n      return self.options._dataItems;\n\n    },\n    setDataItems: function setDataItems(items) {\n      var self = this;\n\n      setTimeout(function () {\n        self._settingItems = true;\n        $.each(items, function (i, item) {\n          self._prependElements(item);\n        });\n        self._settingItems = false;\n      }, 100);\n    },\n    setList: function setList(list) {\n\n      var self = this;\n      self.options.list = list;\n\n      self._refresh();\n    },\n    getList: function getList() {\n\n      var self = this;\n      return self.options.list;\n    },\n    _initializeTemplates: function _initializeTemplates() {\n\n      var self = this;\n      var tmpl = self.options._config._template;\n\n      return {\n        \"multiselect\": bizagi.getTemplate(tmpl) };\n\n    },\n    _renderContent: function _renderContent() {\n\n      var self = this;\n      var $element = self.element;\n      var tmpl = self.options._config._template;\n      var css = self.options._config._cssClass;\n      var label = self.options.label;\n\n      $element.addClass(css);\n      self.loader = new bizagi.ui.controls.tmplloader();\n\n      return $.when(self.loader.loadTemplates(self._initializeTemplates())).pipe(function () {\n        var tmpl = self.loader.getTemplate(\"multiselect\");\n        return $.tmpl(tmpl, { label: label });\n      });\n    },\n    _refresh: function _refresh() {\n\n      var self = this;\n      var $input = self.element.find('input[type=text]');\n\n      $input.parent('li').siblings('li').remove();\n      self.options._dataItems = [];\n      self.options.onChange(self.options._dataItems);\n      $input.autocomplete(\"option\", \"source\", self._getDataSource());\n    },\n    _getDataSource: function _getDataSource() {\n\n      var self = this;\n      var data = [];\n\n      $.each(self.options.list, function (key, val) {\n        data.push({ label: self._itemText(val), value: val, id: self._itemValue(val) });\n      });\n\n      return data;\n    },\n    _prependElements: function _prependElements(value) {\n\n      var self = this;\n      var $element = self.element;\n      var dataItems = self.options._dataItems;\n      var $input = $element.find('input[type=text]');\n\n      var n = $.grep(dataItems, function (obj) {\n        return obj.value == self._itemValue(value);\n      });\n\n      if (!n.length) {\n        if (self.options.maxDataItems !== undefined && dataItems.length == self.options.maxDataItems) {\n          self.options.notifierFunction(self.options.errorMaxDataItems);\n          return;\n        }\n        dataItems.push({ text: self._itemText(value), value: self._itemValue(value) });\n        $input.parent().before('<li class=\"selected-item ' + self.options.classItem + '\" data-value=\"' + self._itemValue(value) + '\"><label>' + self._itemText(value) + '</label><a class=\"closebutton\"></a></li>');\n        if (!self._settingItems) {\n          self.element.trigger('addItem');\n          self.options.onChange(self.options._dataItems);\n        }\n      }\n\n    },\n    _itemValue: function _itemValue(obj) {\n\n      var self = this;\n      var val = '';\n      if (self.options.itemValue) {\n        val = self.options.itemValue(obj);\n      } else {\n        if (typeof obj.value === 'string' || typeof obj.value === 'number') {\n          val = obj.value;\n        }\n      }\n      return val;\n    },\n    _itemText: function _itemText(obj) {\n\n      var self = this;\n      var val = '';\n      if (self.options.itemText) {\n        val = self.options.itemText(obj);\n      } else {\n        if (typeof obj.text === 'string') {\n          val = obj.text;\n        }\n      }\n      return val;\n    },\n    _destroy: function _destroy() {\n\n      var self = this;\n      self.options._dataItems = [];\n      self.options.onChange(self.options._dataItems);\n    },\n    _eventHandlers: function _eventHandlers() {\n\n      var self = this;\n      var $element = self.element;\n      var $input = $element.find('input[type=text]');\n\n      $(\"ul\", $element).on(\"click\", \"a.closebutton\", function (event) {\n\n        event.preventDefault();\n\n        var value = $(event.target).closest(\"li\").data('value');\n\n        var position = $.map(self.options._dataItems, function (obj, i) {\n          if (obj.value == value) {return i;}\n        });\n\n        self.options._dataItems.splice(position[0], 1);\n        self.options.onChange(self.options._dataItems);\n        $(this).parent().remove();\n\n        self.element.trigger('removeItem');\n        return false;\n      });\n\n      $element.on(\"click\", function (event) {\n        $input.focus();\n      });\n\n      $input.on(\"keydown\", function (event) {\n\n        if (event.keyCode == 13) {\n\n          event.preventDefault();\n        }\n\n      });\n\n    } });\n\n\n})(jQuery);","$.widget(\"ui.autocomplete\", $.ui.autocomplete, {\n  options: {\n    scope: undefined,\n    appendTo: null,\n    autoFocus: false,\n    delay: 300,\n    minLength: 1,\n    position: {\n      my: \"left top\",\n      at: \"left bottom\",\n      collision: \"none\" },\n\n    source: null,\n\n    // callbacks\n    change: null,\n    close: null,\n    focus: null,\n    open: null,\n    response: null,\n    search: null } });\n\n\n\n/**\r\n                        * Extend ui.bizagi_multiselect widget in order to provide async list of resources\r\n                        */\n$.widget(\"ui.bizagi_searchMultiSelect\", $.ui.bizagi_multiSelect, {\n  options: {\n    asyncList: undefined,\n    scope: undefined,\n    label: \"MyLabel\",\n    _dataItems: [],\n    _config: {\n      _template: $.bizagi.ui.controls.uimultiselect.tmpl,\n      _cssClass: $.bizagi.ui.controls.uimultiselect.css,\n      _namespace: $.bizagi.ui.controls.uimultiselect.namespace },\n\n    SEARCH_MIN_LENGTH: 3,\n    iconClass: \"\",\n    onChange: new Function(),\n    parentPositionElement: \"\",\n    parentElementToFitWidth: \"\",\n    parentElementToBorder: \"\",\n    classOpenedList: \"\",\n    classOpenedParent: \"\",\n    classItem: \"\",\n    openOnFocus: false,\n    customRenderItem: null,\n    classMenuList: \"\" },\n\n  _search: function _search(term, response) {\n    var self = this;\n    self.options.scope.searchMultiSelectScope.options.asyncList(term, response, self.options.scope);\n  },\n  _create: function _create() {\n\n    var self = this;\n    var $element = self.element;\n\n    self.options._dataItems = [];\n\n    $.when(self._renderContent()).done(function (content) {\n\n      $element.append(content);\n      var $input = $element.find('input[type=text]');\n      self.options.scope.searchMultiSelectScope = self;\n      var lastSelectedValue;\n      $input.autocomplete({\n        scope: self.options.scope,\n        source: self._search,\n        minLength: self.options.SEARCH_MIN_LENGTH,\n        messages:\n        {\n          noResults: null },\n\n        select: function select(event, ui) {\n          var value = $.grep(self.options.list, function (obj) {\n            return self._itemValue(obj) == ui.item.id;\n          });\n\n          self._prependElements(ui.item);\n          lastSelectedValue = ui.item.value;\n        },\n        close: function close() {\n          if (lastSelectedValue && $input.val() == lastSelectedValue.toString())\n          $input.val(\"\");\n          if (self.options.parentElementToBorder != \"\" && self.options.classOpenedList != \"\" && self.options.classOpenedParent != \"\") {\n            $(\".ui-menu\").removeClass(self.options.classOpenedList);\n            $(self.options.parentElementToBorder).removeClass(self.options.classOpenedParent);\n          }\n        },\n        open: function open() {\n          // TM13900: Avoid the visual effect for suggest on Forms\n          if (self.options && !!self.options.classMenuList) {\n            $(\".ui-menu\").addClass(self.options.classMenuList);\n          }\n          if (self.options.parentElementToFitWidth != \"\") {\n            $(\".ui-menu\").width($(self.options.parentElementToFitWidth).width() - 4);\n          }\n          if (self.options.parentElementToBorder != \"\" && self.options.classOpenedList != \"\" && self.options.classOpenedParent != \"\") {\n            $(\".ui-menu\").addClass(self.options.classOpenedList);\n            $(self.options.parentElementToBorder).addClass(self.options.classOpenedParent);\n          }\n          if (bizagi.util.isIE()) {\n            var selfAuto = this;\n            $(selfAuto).autocomplete('widget').css('z-index', '');\n            setTimeout(function () {\n              $(selfAuto).autocomplete('widget').css('z-index', 100);\n            }, 100);\n          }\n        },\n        position: self.options.parentPositionElement != \"\" ? { of: self.options.parentPositionElement, my: \"left+0 top-4\" } : { my: \"left top\", at: \"left bottom\", collision: \"none\" },\n        customRenderItem: self.options.customRenderItem });\n\n\n      if (self.options.openOnFocus) {\n        $input.bind('focus', function () {$(this).autocomplete(\"search\");});\n      }\n\n      if (self.options.iconClass != \"\") {\n        $(\"<i class='\" + self.options.iconClass + \"'></i>\").insertBefore($input);\n      }\n\n      self._eventHandlers();\n    });\n\n  },\n\n  __getDataSource: function __getDataSource() {\n\n    var self = this;\n    var data = [];\n    var def = new $.Deferred();\n\n    if (self.options.asyncList) {\n      $.when(self.options.asyncList()).done(function (response) {\n        $.each(response, function (key, val) {\n          data.push({ label: self._itemText(val), value: self._itemText(val), id: self._itemValue(val) });\n        });\n        def.resolve(data);\n      });\n    } else {\n\n      $.each(self.options.list, function (key, val) {\n        data.push({ label: self._itemText(val), value: self._itemText(val), id: self._itemValue(val) });\n      });\n      def.resolve(data);\n    }\n\n    return def.promise();\n  },\n\n  _prependElements: function _prependElements(value) {\n\n    var self = this;\n    var $element = self.element;\n    var dataItems = self.options._dataItems;\n    var $input = $element.find('input[type=text]');\n\n    var n = $.grep(dataItems, function (obj) {\n      return obj.value == self._itemValue(value);\n    });\n\n    if (!n.length) {\n      dataItems.push({ text: self._itemText(value), value: self._itemValue(value), raw: value });\n      $input.parent().before('<li class=\"selected-item ' + self.options.classItem + '\" data-value=\"' + self._itemValue(value) + '\"><label>' + self._itemText(value) + '</label><a class=\"closebutton\"></a></li>');\n      if (!self._settingItems) {\n        self.element.trigger('addItem');\n        self.options.onChange(self.options._dataItems);\n      }\n    }\n\n  },\n  _refresh: function _refresh() {\n\n    var self = this;\n    var $input = self.element.find('input[type=text]');\n\n    $input.parent('li').siblings('li').remove();\n    self.options._dataItems = [];\n    self.options.onChange(self.options._dataItems);\n  } });","/**\r\n *   Name: BizAgi Workportal Async controller\r\n *   Author: Edward Morales\r\n *   Comments:\r\n *   -   This script will define a base class to Async Controller\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.async\", {\n  ASYNC_CHECK_TIMER: 3000 },\n{\n\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n  },\n\n  /*\r\n      *   Returns the widget name\r\n      */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ASYNC;\n  },\n  /*\r\n      *   Renders the content for the current controller\r\n      *   Returns a deferred because it has to load the current user\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var defer = new $.Deferred();\n\n    // Check the status for the async execution\n    self.checkAsycnExecutionState(defer);\n\n    return defer.promise();\n  },\n  /**\r\n      *  Check execution state every time is called\r\n      */\n  checkAsycnExecutionState: function checkAsycnExecutionState(defer) {\n    var self = this;\n\n    $.when(self.dataService.getAsynchExecutionState({\n      idCase: self.params.idCase })).\n    done(function (response) {\n      var template = self.getTemplate(\"async\");\n\n      // verify errors in response\n      if (response.state == \"Error\" && response.errorMessage != undefined) {\n        // Change default error\n        response.errorMessage = bizagi.localization.getResource(\"render-async-error\");\n      }\n\n      // Render base template\n      self.content = $.tmpl(template, response);\n\n      // Check for finish signal\n      if (response.state == \"Processing\") {\n        // Check for non-error message\n        if (response.errorMessage.length == 0) {\n          setTimeout(function () {\n            // Refresh widget after a timer\n            self.publish(\"changeWidget\", self.params);\n\n          }, self.Class.ASYNC_CHECK_TIMER);\n        }\n\n      } else if (response.state == \"Finished\") {\n\n        // Execute routing\n        self.publish(\"executeAction\", {\n          action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n          idCase: self.params.idCase });\n\n      }\n\n      // Resolve main deferred\n      defer.resolve(self.content);\n    });\n  } });","/**\r\n * Admin module to Asynchronous ECM Upload Jobs\r\n * \r\n * @author David Andrés Niño\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.asyncecm.upload\", {}, {\n  /*\r\n                                                                                            *   Returns the widget name\r\n                                                                                            */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ASYNCECM_UPLOAD;\n  },\n  /*\r\n      *   Renders the content for the current controller\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"async.ecm.upload\");\n    var content = self.content = $.tmpl(template);\n\n    return content;\n  } });","/**\r\n * Admin module to Asynchronous ECM Upload Jobs\r\n * \r\n * @author David Andrés Niño\r\n */\n\n\nbizagi.workportal.widgets.asyncecm.upload.extend(\"bizagi.workportal.widgets.asyncecm.upload\", {}, {\n\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"async.ecm.upload\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.asyncecm.upload\").concat(\"#ui-bizagi-workportal-widget-async-ecm-upload\"),\n      \"async.ecm.pending.jobs\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.asyncecm.upload\").concat(\"#ui-bizagi-workportal-widget-async-ecm-upload-table-pending-jobs\"),\n      useNewEngine: false });\n\n  },\n\n  postRender: function postRender() {\n    var self = this;\n\n    self.enableUI = true;\n\n    self.renderAsyncECMUpload();\n\n    self.asyncECMUploadTypes = {\n      NOT_RUNNED: 1,\n      RUNNING: 2,\n      RUN_FINNISHED_OK: 3,\n      RUN_FINNISHED_WITH_ERROR: 4 };\n\n  },\n\n  updateEcmAllScheduledJobs: function updateEcmAllScheduledJobs() {\n    var self = this,\n    content = self.getContent();\n\n\n    $(\"#async-emc-list-content\", content).empty();\n    $(\"#async-emc-list-content\", content).loadingMessage();\n\n\n    $.when(self.dataService.getEcmAllScheduledJobs()).done(function (result) {\n      self.renderAllScheduledJobs(result);\n    }).fail(function (error) {\n      //console.log(\"getEcmPendingScheduledJobs error\", error);\n    });\n    /**/\n  },\n\n  renderAsyncECMUpload: function renderAsyncECMUpload() {\n    console.log(\"renderAsyncECMUpload ready\");\n\n    var self = this,\n    content = self.getContent();\n\n    self.updateEcmAllScheduledJobs();\n  },\n\n  renderAllScheduledJobs: function renderAllScheduledJobs(result) {\n\n    var self = this,\n    content = self.getContent();\n\n    //Template Vars\n    var ecmAsyncTemplate = self.getTemplate(\"async.ecm.pending.jobs\");\n\n    //Clean the content\n    $(\"#async-emc-list-content\", content).empty();\n\n    //Enable UI\n    self.enableUI = true;\n\n    // Render Form\n    $.tmpl(ecmAsyncTemplate, {\n      jobs: result }).\n    appendTo($(\"#async-emc-list-content\", content));\n\n    // Add class to each even row\n    $('#async-emc-list-content tbody tr', content).each(function () {\n      if ($(this).index() % 2 < 1)\n      $(this).addClass('biz-ui-even');\n    });\n\n    //Add the hover events to the failure message content\n    $(\"#table-content .async-emc-item p\", content).hover(self.failureMessageHoverIn);\n\n    $(\".async-ecm-refresh\", content).click(function () {\n      if (self.enableUI) {\n        self.enableUI = false;\n        self.updateEcmAllScheduledJobs();\n      }\n\n    });\n\n\n\n    //Bind the click event for those elements wich his jobs status is \"Not Runned\" or \"Run finished with error\"\n    $(\"#table-content .async-emc-item .async-ecm-retry\", content).click(\n    function (event) {\n      event.preventDefault();\n      self.retryECMPendingScheduledJob($(this).parent().attr(\"data-idjob\"));\n    });\n\n  },\n\n  retryECMPendingScheduledJob: function retryECMPendingScheduledJob(idJob) {\n    var self = this,\n    content = self.getContent();\n\n    //Clear the content and sets a loading message\n    $(\"#async-emc-list-content\", content).empty();\n    $(\"#async-emc-list-content\", content).loadingMessage({ \"customMessage\": \"Please wait\" });\n\n    /**/\n    $.when(self.dataService.retryECMPendingScheduledJob(idJob)).done(function () {\n\n      //console.log(\"renderAllScheduledJobs\");\n      self.updateEcmAllScheduledJobs();\n\n    }).fail(function (error) {\n      console.log(\"retryECMPendingScheduledJob error\");\n    });\n    /**/\n  },\n\n  failureMessageHoverIn: function failureMessageHoverIn(evt) {\n    if ($(evt.currentTarget).text().length > 0)\n    {\n      $(evt.currentTarget).attr(\"title\", $(evt.currentTarget).text());\n    }\n  } });","/**\r\n * Application / Categories and Process tree\r\n * \r\n * @author Christian Collazos\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.processtree\", {}, {\n\n  /*\r\n                                                                                       *   Returns the widget name\r\n                                                                                       */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROCESS_TREE;\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"processTree.links\");\n    var content;\n\n    content = self.content = $.tmpl(template, {});\n\n    return content;\n  },\n\n  /*\r\n     * childs will implement this method\r\n     */\n  loadtemplates: function loadtemplates() {} });","/**\r\n * Application / Entities tree\r\n * \r\n * @author Christian Collazos\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.entitiestree\", {}, {\n\n  /*\r\n                                                                                        *   Returns the widget name\r\n                                                                                        */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ENTITIES_TREE;\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"EntitiesTree.wrapper\");\n    var content;\n\n    content = self.content = $.tmpl(template, {});\n\n    return content;\n  },\n\n  /*\r\n     * childs will implement this method\r\n     */\n  loadtemplates: function loadtemplates() {} });","/**\r\n* get users table\r\n* \r\n* @author Christian Collazos\r\n*/\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.userstable\", {}, {\n\n  /*\r\n                                                                                      *   Returns the widget name\r\n                                                                                      */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_USERS_TABLE;\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"usersTable.wrapper\");\n    var content;\n\n    content = self.content = $.tmpl(template, {});\n\n    return content;\n  },\n\n  /*\r\n     * childs will implement this method\r\n     */\n  loadtemplates: function loadtemplates() {} });","/**\r\n * Admin / Tree widget\r\n * \r\n * @author Christian Collazos\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.tree\", {}, {\n  /*\r\n                                                                                *   Returns the widget name\r\n                                                                                */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_TREE;\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     */\n  renderContent: function renderContent() {\n\n  },\n\n  /*\r\n     * this will be implemented on each device\r\n     */\n  loadtemplates: function loadtemplates() {} });","/**\r\n * Name: BizAgi Desktop Widget Process Tree\r\n * \r\n * @author Christian Collazos\r\n */\n\n\nbizagi.workportal.widgets.processtree.extend(\"bizagi.workportal.widgets.processtree\", {}, {\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    self.showTitle = params.showTitle != undefined ? params.showTitle : true;\n    self.searchKeyResource = params.searchKeyResource || \"workportal-widget-processTree-search-in\";\n    self.searchKeyResource = bizagi.localization.getResource(self.searchKeyResource);\n    self.svgIconsMode = params.svgIconsMode || false;\n\n    self.processesTreeNew = params.newDesign;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"processTree.links\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.processtree\").concat(\"#ui-bizagi-workportal-widget-processTree-links\"),\n      \"processTree.wrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.processtree\").concat(\"#ui-bizagi-workportal-widget-processTree-wrapper\"),\n      \"processTree\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.processtree\").concat(\"#ui-bizagi-workportal-widget-processTree\"),\n      \"processTree.selected\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.processtree\").concat(\"#ui-bizagi-workportal-widget-processTree-selected\"),\n      useNewEngine: false });\n\n  },\n\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"processTree.links\");\n    var content;\n\n    content = self.content = $.tmpl(template, { showTitle: self.showTitle });\n\n    // Override canvas if it has been defined\n    if (self.params.canvas) {\n      content = self.content = self.params.canvas.html(content);\n    }\n\n    return content;\n  },\n\n  postRender: function postRender() {\n    var self = this;\n\n    //load templates\n    self.loadtemplates();\n    //load initial data\n    self.setupData();\n  },\n\n  /*\r\n     * Load template vars\r\n     */\n  loadtemplates: function loadtemplates() {\n    var self = this;\n    self.applicationTreeWrapperTmpl = self.getTemplate(\"processTree.wrapper\");\n    self.applicationTreeTmpl = self.getTemplate(\"processTree\");\n    self.applicationTreeSelectedTmpl = self.getTemplate(\"processTree.selected\");\n  },\n\n  /*\r\n     * Setup form data\r\n     */\n  setupData: function setupData() {\n    var self = this;\n    self.treeRouteSelected = [];\n    self.treeRouteText = \"\";\n\n    $.when(self.setupInitialData()).done(function () {\n      self.setupLinks();\n    });\n  },\n\n  /*\r\n     * Load form data\r\n     */\n  setupInitialData: function setupInitialData() {\n    var self = this,\n    content = self.getContent(),\n    def = $.Deferred();\n\n    self.treeRouteSelected = [];\n\n    //append tree to wrapper\n    $.when($.tmpl(self.applicationTreeWrapperTmpl, {}), $.tmpl(self.applicationTreeSelectedTmpl, { searchKeyResource: self.searchKeyResource })).done(function (treeWrapper, processSelected) {\n      content.append(treeWrapper);\n      content.append(processSelected);\n      def.resolve();\n    });\n    return def.promise();\n  },\n  /*\r\n     * Implement links behaviour\r\n     */\n  setupLinks: function setupLinks() {\n    var self = this,\n    content = self.getContent();\n\n    var params = { action: \"Applications\" };\n\n    if (self.params.userId) {\n      params.userId = self.params.userId;\n    }\n    self.showSelectedProcessLabelWhenAllApplicationsSelected(); //At the beginning 'all applications' option is selected\n    $(\"#allAppsLink\", content).click(function () {\n      self.showSelectedProcessLabelWhenAllApplicationsSelected();\n      self.selectAllApplications(content);\n    });\n    $(\"#allAppsLinkSelected\", content).click(function () {\n      self.showSelectedProcessLabelWhenAllApplicationsSelected();\n      self.selectAllApplications(content);\n    });\n\n    $(\"#selectAppLink\", content).click(function () {\n      self.hideSelectedProcessLabelWhenAllApplicationsNotSelected();\n      self.selectOneAplication(content, params);\n    });\n    $(\"#selectAppLinkSelected\", content).click(function () {\n      self.hideSelectedProcessLabelWhenAllApplicationsNotSelected();\n      self.selectOneAplication(content, params);\n    });\n  },\n  showSelectedProcessLabelWhenAllApplicationsSelected: function showSelectedProcessLabelWhenAllApplicationsSelected() {\n    var self = this,\n    content = self.getContent();\n    if (self.processesTreeNew === true) {\n      $(\"#allAppsLinkSelected\", content).data('allAppSelected', true); //To know when all applications radio button option has been selected\n      $(\"#searchInLabel\", content).parent().parent().parent().show(); //To show th label that indicates All applications are selected\n    }\n  },\n  hideSelectedProcessLabelWhenAllApplicationsNotSelected: function hideSelectedProcessLabelWhenAllApplicationsNotSelected() {\n    var self = this,\n    content = self.getContent();\n    if (self.processesTreeNew === true) {\n      $(\"#allAppsLinkSelected\", content).data('allAppSelected', false);\n      $(\"#searchInLabel\", content).parent().parent().parent().hide(); //To hide th label that indicates All applications are selected\n    }\n  },\n  changeRadioIcon: function changeRadioIcon(param, content) {\n    if (param == \"all\") {\n      $(\"#allAppsLinkSelected\", content).addClass(\"biz-wp-tree-selected-option\");\n      $(\"#selectAppLinkSelected\", content).removeClass(\"biz-wp-tree-selected-option\");\n      $(\"#selectAppLinkSelected\", content).addClass(\"biz-wp-tree-not-selected-option\");\n    } else\n    if (param == \"one\") {\n      $(\"#selectAppLinkSelected\", content).addClass(\"biz-wp-tree-selected-option\");\n      $(\"#allAppsLinkSelected\", content).removeClass(\"biz-wp-tree-selected-option\");\n      $(\"#allAppsLinkSelected\", content).addClass(\"biz-wp-tree-not-selected-option\");\n    }\n  },\n  selectAllApplications: function selectAllApplications(content) {\n    var self = this;\n    self.changeRadioIcon(\"all\", content);\n\n    $(\"#applicationsTree\", content).removeClass(\"hidden\");\n    $(\"#applicationsTree\", content).css(\"display\", \"none\");\n    $(\"#searchInLabel\", content).html(bizagi.localization.getResource(\"workportal-widget-processTree-all-applications\"));\n    self.treeRouteSelected = [];\n  },\n  selectOneAplication: function selectOneAplication(content, params) {\n    var self = this;\n    if ($(\"#applicationsTree.hidden\", content).length) {\n      var idSelected = self.getTreeRouteSelected()[0];\n      self.changeRadioIcon(\"one\", content);\n\n      $(\"#applicationsTree\", content).removeClass(\"hidden\");\n      var selector = $('a[data-id=' + idSelected + ']', content).closest(\"#applicationsTree > .case-search-app-ul > li.biz-wp-tree-node\").siblings();\n\n      selector.find(\"svg.bz-icon-arrow-down:not([style='display: none;'])\").each(function () {\n        self.expandOrCollapseArrows({\n          expand: false,\n          itemSelected: $(this)[0] });\n\n      });\n      selector.find(\".biz-wp-tree-list\").empty();\n      return false;\n    }\n    if (self.params.byUser == true && (!self.params.userId || self.params.userId == \"\"))\n    {\n      $(\"#applicationsTree\", content).html(\"\");\n      $(\"#applicationsTree\", content).css(\"display\", \"inline-block\");\n      $(\"#applicationsTree\", content).append(\"<strong>Debe Seleccionar un usuario</strong>\");\n    } else {\n      $.when(self.dataService.getApplicationCategoriesList(params)).done(function (applicationList) {\n        self.changeRadioIcon(\"one\", content);\n        var appTree = $.tmpl(\n        self.applicationTreeTmpl,\n        {\n          type: applicationList.type,\n          items: applicationList.items,\n          svg: self.svgIconsMode });\n\n\n        $(\"#applicationsTree\", content).html(\"\");\n        $(\"#applicationsTree\", content).css(\"display\", \"inline-block\");\n        $(\"#applicationsTree\", content).append(appTree);\n\n        //manage events\n        self.setTreeEvents(null, content);\n\n      }).fail(function (error) {\n        bizagi.log(error);\n      });\n    }\n  },\n  /*\r\n     * manage tree behaviour\r\n     */\n  setTreeEvents: function setTreeEvents(idApp, content) {\n    var self = this;\n\n    //when select a process\n    $(\".biz-wp-tree-process\", content).click(function () {\n\n      var parentType = \"\";\n      var selectedRoute = [];\n      var selectedRouteText = \"\";\n      var item = this;\n      self.treeRouteSelected = [];\n      self.treeRouteSelected.push($(this)[0].getAttribute(\"data-id\"));\n\n      //get the route (app / category / process) selected            \n      while (parentType != \"app\") {\n        item = $(item).closest(\".biz-wp-tree-list\").parent().find(\"label\").first();\n        parentType = item[0].getAttribute(\"data-name\");\n        selectedRoute.push(item.html());\n        self.treeRouteSelected.push(item[0].getAttribute(\"data-id\"));\n      }\n\n      for (var i = selectedRoute.length - 1; i >= 0; i--) {\n        selectedRouteText += selectedRoute[i] + \" > \";\n      }\n\n      selectedRouteText += $(this).html();\n      self.treeRouteText = selectedRouteText;\n      //resolve deferred to let parent do something when user select any process\n      if (self.params.parentDef) {\n        self.params.parentDef.resolve();\n      }\n      $(self.params.canvas).trigger(\"processSelected\", 1);\n\n      //update search in label with the selection\n\n      $(\"#searchInLabel\", self.params.canvas).html(selectedRouteText);\n      if (self.processesTreeNew === true) {\n        $(\"#searchInLabel\", self.params.canvas).parent().parent().parent().show(); //Show only when a process is selected\n      }\n      $(\"#applicationsTree\", self.params.canvas).addClass(\"hidden\");\n    });\n\n    //when select a category\n    $(\".biz-wp-tree-expand-icon\", content).click(function () {\n      var itemSelected = this;\n      var idItem = Number(itemSelected.getAttribute(\"data-id\"));\n      var idParent = \"\";\n\n      //when click a category remove the content to append the new content again and avoid repetition of data\n      $(itemSelected).closest(\".biz-wp-tree-node\").find(\".biz-wp-tree-list\").html(\"\");\n\n      //when tree item is closed and can be expanded\n      if ($(\"<b></b>\").addClass($(itemSelected).attr(\"class\")).hasClass(\"biz-wp-tree-expand-icon\")) {\n\n        self.expandOrCollapseArrows({\n          expand: true,\n          itemSelected: itemSelected });\n\n\n        if (idApp == null || itemSelected.getAttribute(\"name\") === \"app\") {\n          idApp = idItem;\n        } else {\n          idParent = idItem;\n        }\n\n        var params = {\n          action: \"getCategories\",\n          idApp: idApp,\n          idCategory: idParent,\n          filterStartEvent: false,\n          authorizationContext: self.params.authorizationContext };\n\n\n        if (self.params.userId) {\n          params.userId = self.params.userId;\n        }\n        if (self.params.filterCaseSecurity) {\n          params.filterCaseSecurity = self.params.filterCaseSecurity;\n        }\n\n        $.when(self.dataService.getApplicationCategoriesList(params)).done(function (categoriesList) {\n          //load children and set events to them\n          var appTree = $.tmpl(\n          self.applicationTreeTmpl,\n          {\n            type: categoriesList.type,\n            items: categoriesList.processes,\n            svg: self.svgIconsMode });\n\n\n          $(itemSelected).closest(\".biz-wp-tree-node\").find(\".biz-wp-tree-list\").append(appTree);\n          self.setTreeEvents(idApp, $(itemSelected).closest(\".biz-wp-tree-node\").find(\".biz-wp-tree-list\"));\n\n        }).fail(function (error) {\n          bizagi.log(error);\n        });\n      }\n      //when tree item is open and can be closed\n      else {\n          self.expandOrCollapseArrows({\n            expand: false,\n            itemSelected: itemSelected });\n\n        }\n    });\n  },\n\n  /**\r\n      * let to expand or collapse arrows dending of the svgIconsMode\r\n      * @param {JSON} params expand and itemSelected\r\n      */\n  expandOrCollapseArrows: function expandOrCollapseArrows(params) {\n    var self = this;\n    var right,down = \"\";\n    if (params.expand) {\n      right = $(params.itemSelected);\n      right.attr(\"class\", $(\"<b></b>\").addClass(right.attr(\"class\")).removeClass(\"biz-wp-tree-expand-icon\").attr(\"class\"));\n      right.attr(\"class\", $(\"<b></b>\").addClass(right.attr(\"class\")).addClass(\"biz-wp-tree-collapse-icon\").attr(\"class\"));\n      if (self.svgIconsMode) {\n        down = $(params.itemSelected).parent().find(\".bz-icon-arrow-down\");\n        down.show();\n        down.attr(\"class\", $(\"<b></b>\").addClass(down.attr(\"class\")).removeClass(\"biz-wp-tree-expand-icon\").attr(\"class\"));\n        down.attr(\"class\", $(\"<b></b>\").addClass(down.attr(\"class\")).addClass(\"biz-wp-tree-collapse-icon\").attr(\"class\"));\n        right.hide();\n      }\n    } else {\n      right = self.svgIconsMode ? $(params.itemSelected).parent().find(\".bz-icon-arrow-right\") : $(params.itemSelected);\n      right.attr(\"class\", $(\"<b></b>\").addClass(right.attr(\"class\")).removeClass(\"biz-wp-tree-collapse-icon\").attr(\"class\"));\n      right.attr(\"class\", $(\"<b></b>\").addClass(right.attr(\"class\")).addClass(\"biz-wp-tree-expand-icon\").attr(\"class\"));\n      if (self.svgIconsMode) {\n        right.show();\n        down = $(params.itemSelected);\n        down.hide();\n        down.attr(\"class\", $(\"<b></b>\").addClass(down.attr(\"class\")).removeClass(\"biz-wp-tree-collapse-icon\").attr(\"class\"));\n        down.attr(\"class\", $(\"<b></b>\").addClass(down.attr(\"class\")).addClass(\"biz-wp-tree-expand-icon\").attr(\"class\"));\n      }\n    }\n  },\n\n  /*\r\n     * Returns the app, category and process selected\r\n     */\n  getTreeRouteSelected: function getTreeRouteSelected() {\n    var self = this;\n    return self.treeRouteSelected;\n  },\n\n  /*\r\n     * Returns the app, category and process text selected\r\n     */\n  getTreeRouteText: function getTreeRouteText() {\n    var self = this;\n    return self.treeRouteText;\n  },\n\n  /**\r\n      *  Set canvas of tree\r\n      */\n  setParamCanvas: function setParamCanvas(canvas) {\n    var self = this;\n    self.params.canvas = canvas;\n  } });","/**\r\n * Name: BizAgi Desktop Widget Entities Tree\r\n * \r\n * @author Christian Collazos\r\n */\n\n\nbizagi.workportal.widgets.entitiestree.extend(\"bizagi.workportal.widgets.entitiestree\", {}, {\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"EntitiesTree.wrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.entitiestree\").concat(\"#ui-bizagi-workportal-widget-entitiestree-wrapper\"),\n      \"EntitiesTree.tree\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.entitiestree\").concat(\"#ui-bizagi-workportal-widget-entitiestree\"),\n      useNewEngine: false });\n\n  },\n\n  renderContent: function renderContent() {\n    var self = this;\n    var content = \"\";\n\n    // Override canvas if it has been defined\n    if (self.params.canvas) {\n      content = self.content = $(self.params.canvas);\n    }\n\n    return content;\n  },\n\n  postRender: function postRender() {\n    var self = this;\n\n    //load templates\n    self.loadtemplates();\n    //load initial data\n    self.setupData();\n  },\n\n  /*\r\n     * Load template vars\r\n     */\n  loadtemplates: function loadtemplates() {\n    var self = this;\n    self.entitiesTreeTmpl = self.getTemplate(\"EntitiesTree.tree\");\n  },\n\n  /*\r\n     * Setup form data\r\n     */\n  setupData: function setupData() {\n    var self = this;\n    self.treeRouteSelected = [];\n    self.setupInitialData();\n  },\n\n  /*\r\n     * Load form data\r\n     */\n  setupInitialData: function setupInitialData() {\n    var self = this,\n    content = self.getContent();\n    var idWfClass = $(\"#processTypeList\").val();\n\n    var pathNodeType = \"\";\n    var idNode = \"\";\n    var nodeDisplayPath = \"\";\n    var nodePath = \"\";\n    var params = { pathNodeType: pathNodeType, idNode: idNode, nodeDisplayPath: nodeDisplayPath, nodePath: nodePath, idWfClass: idWfClass };\n\n    $.when(self.dataService.entityPathChildNodesAction(params)).\n    done(function (result) {\n      var entitiesTree = $.tmpl(self.entitiesTreeTmpl, { items: result.nodes });\n      content.append(entitiesTree);\n      self.setTreeEvents(content);\n    });\n\n  },\n\n  /*\r\n     * manage tree behaviour\r\n     */\n  setTreeEvents: function setTreeEvents(content) {\n    var self = this;\n\n    //when select a process\n    $(\".selectable\", content).click(function () {\n\n      var hasParent = true;\n      var item = this;\n      self.treeRouteSelected = {};\n      self.treeRouteSelected.name = $(item)[0].getAttribute(\"data-name-path\");\n      self.treeRouteSelected.path = $(item)[0].getAttribute(\"data-path\");\n\n      $(\".selectable\").removeClass(\"biz-wp-entities-tree-selected\");\n      $(item).addClass(\"biz-wp-entities-tree-selected\");\n\n\n      //get the route selected            \n      while (hasParent) {\n        item = $(item).closest(\".biz-wp-tree-list\").parent().find(\"a\").first();\n\n        if (item.length == 0) {\n          hasParent = false;\n        } else {\n          if (item[0].getAttribute(\"data-name-path\") != \"\") {\n            self.treeRouteSelected.name = item[0].getAttribute(\"data-name-path\") + \".\" + self.treeRouteSelected.name;\n          }\n          self.treeRouteSelected.path = item[0].getAttribute(\"data-path\") + self.treeRouteSelected.path;\n        }\n      }\n\n    });\n\n    //when select a category\n    $(\".biz-wp-tree-expand-icon\", content).click(function (e) {\n      var itemSelected = this;\n      var idItem = Number(itemSelected.getAttribute(\"data-id\"));\n\n      //when click a category remove the content to append the new content again and avoid repetition of data\n      $(itemSelected).closest(\".biz-wp-tree-node\").find(\".biz-wp-tree-list\").html(\"\");\n\n      //when tree item is closed and can be expanded\n      if ($(itemSelected).hasClass(\"biz-wp-tree-expand-icon\")) {\n\n        $(itemSelected).removeClass(\"biz-wp-tree-expand-icon\");\n        $(itemSelected).addClass(\"biz-wp-tree-collapse-icon\");\n\n        var nodeType = \"\";\n        var nodeDisplayPath = \"\";\n        var nodePath = \"\";\n        var idWfClass = $(\"#processTypeList\").val();\n        var paramsChilds = { nodeType: nodeType, idNode: idItem, nodeDisplayPath: nodeDisplayPath, nodePath: nodePath, idWfClass: idWfClass };\n\n        $.when(self.dataService.entityPathChildNodesAction(paramsChilds)).\n        done(function (result) {\n          var entitiesTree = $.tmpl(self.entitiesTreeTmpl, { items: result.nodes });\n\n          //load children and set events to them\n          $(itemSelected).closest(\".biz-wp-tree-node\").find(\".biz-wp-tree-list\").append(entitiesTree);\n          self.setTreeEvents($(itemSelected).closest(\".biz-wp-tree-node\").find(\".biz-wp-tree-list\"));\n        }).fail(function (error) {\n          bizagi.log(error);\n        });\n      }\n      //when tree item is open and can be closed\n      else {\n          $(itemSelected).removeClass(\"biz-wp-tree-collapse-icon\");\n          $(itemSelected).addClass(\"biz-wp-tree-expand-icon\");\n        }\n    });\n  },\n\n  /*\r\n     * Returns the app, category and process selected\r\n     */\n  getTreeRouteSelected: function getTreeRouteSelected() {\n    var self = this;\n    return self.treeRouteSelected;\n  } });","/**\r\n* Name: BizAgi Desktop Widget Users Table\r\n* \r\n* @author Christian Collazos\r\n*/\n\n\nbizagi.workportal.widgets.userstable.extend(\"bizagi.workportal.widgets.userstable\", {\n\n  SELECTORS: {\n    WRAPPER_LOADER: \"#biz-wp-userstable-wrapperload\",\n    WRAPPER_LIST: \"#biz-wp-userstable-wrapperlist\" } },\n\n\n{\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    self._super(workportalFacade, dataService, params);\n\n    self.filterData = {};\n    self.maxRows = 8;\n    self.maxPages = 10;\n    self.$canvas = params.canvas;\n    self.showBackButton = params.showBackButton;\n    self.users = [];\n    self.totalPages = 0;\n    self.currentPage = 1;\n    self.orderType = \"ASC\";\n    self.orderField = \"\";\n    self.tableHeaders = [\n    { \"displayName\": self.getResource(\"workportal-widget-usertable-id\"), \"fieldValue\": \"idUser\" },\n    { \"displayName\": self.getResource(\"workportal-widget-usertable-user-name\"), \"fieldValue\": \"userName\" },\n    { \"displayName\": self.getResource(\"workportal-widget-usertable-full-name\"), \"fieldValue\": \"fullName\" },\n    { \"displayName\": self.getResource(\"workportal-widget-usertable-domain\"), \"fieldValue\": \"domain\" },\n    { \"displayName\": self.getResource(\"workportal-widget-usertable-email\"), \"fieldValue\": \"contactEmail\" },\n    { \"displayName\": self.getResource(\"workportal-widget-usertable-active-assign\"), \"fieldValue\": \"enabledForAssignation\" },\n    { \"displayName\": self.getResource(\"workportal-widget-usertable-active-column\"), \"fieldValue\": \"enabled\" }];\n\n\n    self.loadTemplates({\n      \"usersTable.wrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.userstable\").concat(\"#ui-bizagi-workportal-widget-usersTable-wrapper\"),\n      \"usersTable.form\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.userstable\").concat(\"#ui-bizagi-workportal-widget-usersTable-form\"),\n      \"usersTable.table\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.userstable\").concat(\"#ui-bizagi-workportal-widget-usersTable-table\"),\n      \"usersTable.message\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.userstable\").concat(\"#ui-bizagi-workportal-widget-usersTable-message\"),\n      useNewEngine: false });\n\n\n  },\n\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"usersTable.wrapper\");\n    var content;\n\n    content = self.content = $.tmpl(template, {});\n\n    // Override canvas if it has been defined\n    if (self.params.canvas) {\n      content = $(self.params.canvas).append(content);\n    }\n\n    return content;\n  },\n\n  postRender: function postRender() {\n    var self = this;\n\n    //load templates\n    self.loadtemplates();\n\n    //load form data\n    self.setupData();\n  },\n\n  /*\r\n     * Load template vars\r\n     */\n  loadtemplates: function loadtemplates() {\n    var self = this;\n\n    self.usersTableFormTmpl = self.getTemplate(\"usersTable.form\");\n    self.usersTableTmpl = self.getTemplate(\"usersTable.table\");\n    self.usersTableMessage = self.getTemplate(\"usersTable.message\");\n  },\n\n  /**\r\n      * make request of get Organizations list depends of widget name in params\r\n      * @returns request\r\n      */\n  _makeRequestOrganizationsList: function _makeRequestOrganizationsList() {\n    var self = this,\n    _fromAdminCaseSearch = self.params.widgetName === self.Class.BIZAGI_WORKPORTAL_WIDGET_ADMIN_CASE_SEARCH,\n    _fromReassign = self.params.widgetName === self.Class.BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE,\n    _forReassign = _fromAdminCaseSearch || _fromReassign,\n    _isUserAdmin = true;\n\n    return _forReassign ? self.dataService.getOrganizationsForReassignCases() : self.dataService.getOrganizationsList(_isUserAdmin);\n  },\n\n  /*\r\n     * Setup form data\r\n     */\n  setupData: function setupData() {\n    var self = this;\n\n    $.when(self._makeRequestOrganizationsList()).done(function (rps) {\n\n      var orgList = rps.response;\n\n      var resultTemplate = $.tmpl(self.usersTableFormTmpl, { orgList: orgList.length, showBackButton: self.showBackButton });\n      $(\"#biz-wp-userstable-wrapperform\", self.content).html(resultTemplate);\n\n      $(\"#btn-users-table-back\", self.content).click(function (e) {\n        if (self.params.parentDef) {\n          self.params.parentDef.resolve();\n        }\n      });\n\n      if (orgList.length) {\n        orgList.unshift({ displayName: \"----------------\", id: \"\" });\n        self.setupOrgCombo(resultTemplate, orgList);\n      }\n\n      self.setupEventsHandler();\n      if (self.$canvas === undefined) {\n        self.$canvas = self.content;\n      }\n      self.$canvas.trigger(\"completeUserForm\");\n\n    }).fail(function (error) {\n      bizagi.log(error);\n    });\n\n  },\n\n  /*\r\n     * Setup organization combo\r\n     */\n  setupOrgCombo: function setupOrgCombo($content, data) {\n\n    var self = this;\n    var $combo = $content.find(\"#biz-wp-usertable-org\");\n\n    $combo.uicombo({\n      data: { combo: data },\n      initValue: data[0],\n      itemValue: function itemValue(item) {\n        return item.id;\n      },\n      itemText: function itemText(item) {\n        return item.displayName;\n      } });\n\n\n  },\n\n  /*\r\n     * Implement main buttons behaviour\r\n     */\n  setupEventsHandler: function setupEventsHandler() {\n    var self = this,\n    content = self.getContent();\n    var $userForm = $(\"#biz-wp-userstable-wrapperform form\", content);\n\n    $userForm.on(\"submit\", function (e) {\n\n      e.preventDefault();\n      if (typeof self.afterSave == \"undefined\") self.currentPage = 1;else\n      {\n        delete self.afterSave;\n        self.currentPage = self.currentPage || 1;\n      }\n      self.orderType = \"ASC\";\n      self.orderField = \"\";\n\n      self.filterData = {\n        domain: this.elements[0].value,\n        userName: this.elements[1].value,\n        fullName: this.elements[2].value,\n        organization: $(this.elements[3]).data('value'),\n        pag: self.currentPage,\n        pagSize: self.maxRows,\n        orderField: self.orderField,\n        orderType: self.orderType };\n\n\n      self.getUsersTableData();\n\n    });\n\n    $userForm.on(\"reset\", function (event) {\n\n      event.preventDefault();\n\n      $(this.elements[3]).data(\"value\", \"\").val(\"----------------\");\n      this.elements[0].value = \"\";\n      this.elements[1].value = \"\";\n      this.elements[2].value = \"\";\n\n      $(\"#biz-wp-userstable-wrapperlist\", content).empty();\n    });\n\n  },\n\n  /*\r\n     * Clean Form\r\n     */\n  cleanForm: function cleanForm() {\n\n    var self = this,\n    content = self.getContent();\n    var $userForm = $(\"#biz-wp-userstable-wrapperform form\", content);\n\n    $userForm.trigger('reset');\n  },\n\n  /*\r\n     * Excecute Query \r\n     */\n  excecuteQuery: function excecuteQuery() {\n\n    var self = this;\n    content = self.getContent();\n    var $userForm = $(\"#biz-wp-userstable-wrapperform form\", content);\n\n    $userForm.trigger('submit');\n  },\n\n  /**\r\n      * show loader while list request is in progress\r\n      * @param {Deferred} defer on finish loader ends\r\n      */\n  _loadingList: function _loadingList(defer) {\n    var self = this,\n    _SELECTORS = this.Class.SELECTORS,\n    $list = $(_SELECTORS.WRAPPER_LIST, self.content),\n    $loader = $(_SELECTORS.WRAPPER_LOADER, self.content),\n    _start = function _start() {\n      $loader.show();\n      $list.hide();\n    },\n    _end = function _end() {\n      $loader.hide();\n      $list.show();\n    };\n\n    _start();\n    defer.always(_end);\n  },\n\n  /**\r\n      * make the request for get users\r\n      * @param {JSON} params \r\n      * @returns request\r\n      */\n  _makeRequestGetUsers: function _makeRequestGetUsers(params) {\n    var self = this,\n    _calcRequestMethod = function _calcRequestMethod() {\n      var method;\n      switch (self.params.widgetName) {\n        case self.Class.BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE:\n        case self.Class.BIZAGI_WORKPORTAL_WIDGET_ADMIN_CASE_SEARCH:\n          method = self.dataService.getUsersForReassignCases;\n          break;\n\n        case self.Class.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USER_PROFILES:\n          method = self.dataService.getUsersForAssignation;\n          break;\n\n        case self.Class.BIZAGI_WORKPORTAL_WIDGET_ADMIN_DEFAULTS_ASSIGNATION_USER:\n          method = self.dataService.getUsersForDefaultAssignation;\n          break;\n\n        case self.Class.BIZAGI_WORKPORTAL_WIDGET_ADMIN_USERS_ADMINISTRATION:\n          method = self.dataService.getUsersForUsersAdministration;\n          break;\n\n        case self.Class.BIZAGI_WORKPORTAL_WIDGET_QUERIES_MANAGEMENT:\n          method = self.dataService.getUsersForQueriesPermissionManager;\n          break;\n\n        default:\n          method = self.dataService.getUsersList;\n          break;}\n\n      return method;\n    };\n\n    return _calcRequestMethod().call(self.dataService, params);\n  },\n\n  /*\r\n     * get users table data\r\n     */\n  getUsersTableData: function getUsersTableData(params) {\n    var self = this;\n\n    var params = params || {};\n    self.orderType = params.orderType || self.orderType;\n    self.orderField = params.orderField || self.orderField;\n    var defer = self._makeRequestGetUsers($.extend(self.filterData, params));\n    self._loadingList(defer);\n    $.when(defer).done(function (data) {\n      self.fillUserInformation(data);\n    }).fail(function (error) {\n      bizagi.log(error);\n    });\n  },\n\n  /*\r\n     * if users returned show the table\r\n     */\n  showUsersTable: function showUsersTable() {\n\n    var self = this;\n    var $wrapperList = $(\"#biz-wp-userstable-wrapperlist\", self.content);\n\n    $wrapperList.empty();\n\n    if (self.users.length > 0) {\n\n      var pagination = self.totalPages > 1 ? true : false;\n      var pagesArray = self.getPagesArray();\n\n      var links = self.params.userLinkLabel && Object.prototype.toString.apply(self.params.userLinkLabel) === \"[object Array]\" ? self.params.userLinkLabel : [self.params.userLinkLabel];\n\n      var usersTableTmpl = $.tmpl(self.usersTableTmpl, { users: self.users, headers: self.tableHeaders, links: links, page: self.currentPage, pagination: pagination, pagesArray: pagesArray, orderField: self.orderField, orderType: self.orderType });\n      $wrapperList.html(usersTableTmpl);\n\n      self.setUpPagination();\n      self.setUpSortColumnLinks();\n    } else {\n\n      var msg = bizagi.localization.getResource(\"workportal-widget-usertable-empty\");\n      $wrapperList.html($.tmpl(self.usersTableMessage, { message: msg }));\n    }\n  },\n\n  /*\r\n     * Get Pages\r\n     */\n  getPagesArray: function getPagesArray() {\n\n    var self = this;\n    var pagesToShow = self.maxPages > self.totalPages ? self.totalPages : self.maxPages;\n    var aux = [];\n\n    for (var a = 0; a < pagesToShow; a++) {\n      aux.push(a + 1);\n    }\n\n    return aux;\n  },\n\n  /*\r\n     * Set pagination\r\n     */\n  setUpPagination: function setUpPagination() {\n    var self = this;\n    var $pager = $(\"#biz-wp-userstable-pager ul\", self.content);\n\n    $pager.bizagiPagination({\n      maxElemShow: self.maxRows,\n      totalPages: self.totalPages,\n      actualPage: self.currentPage,\n      listElement: $pager,\n      clickCallBack: function clickCallBack(options) {\n        self.filterData.pag = self.currentPage = parseInt(options.page);\n        self.getUsersTableData();\n      } });\n\n\n  },\n\n  /*\r\n     * assign click event to each column to order\r\n     */\n  setUpSortColumnLinks: function setUpSortColumnLinks() {\n    var self = this;\n\n    $(\".biz-wp-table-head th\", self.content).click(function () {\n\n      var orderField = $(this).data(\"orderfield\");\n      var orderType = $(this).data(\"ordertype\");\n\n      self.getUsersTableData({ \"orderType\": orderType, \"orderField\": orderField });\n      self.assignEventReassign();\n    });\n\n  },\n\n  assignEventReassign: function assignEventReassign() {\n    var self = this;\n\n    $(\".bizagi-wp-userstable-userlink\", self.content).click(function (e) {\n      var that = this;\n      if (self.params.parentDef) {\n        var done = function done() {\n          $(document).data('auto-save', '');\n          self.params.parentDef.resolve(that.id, that.name, that.attributes.guid.value);\n          if (self.params.widgetName == self.Class.BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE && bizagi.workportal.desktop.dialogStack.length > 0)\n          bizagi.workportal.desktop.dialogStack[bizagi.workportal.desktop.dialogStack.length - 1].dialogBox.on(\"dialogbeforeclose\", function (event, ui) {\n            // Next variable specifies if is redirecting to inbox when the result status does not have errors.\n            if (self.resultStatus === true) {\n              self.publish(\"changeWidget\", {\n                widgetName: bizagi.workportal.currentInboxView });\n\n            }\n          });\n        };\n        var fail = function fail() {\n          self.params.data.closeDialogWidget();\n        };\n        $.when(bizagi.util.autoSave()).done(done).fail(fail);\n      } else {\n        // publish executes twice when create a new instance of userstable\n        self.$canvas.trigger(\"clickUserLink\", { id: this.id, name: this.name, fullName: this.getAttribute(\"fullname\"), type: $(this).data(\"linkname\") });\n      }\n    });\n  },\n\n  /*\r\n     * sort table by a given column\r\n     */\n  sortUsersTableByColumn: function sortUsersTableByColumn(data, column, orderType) {\n\n    return bizagi.util.sortJSON(data, column, orderType);\n\n  },\n\n  fillUserInformation: function fillUserInformation(data) {\n    var self = this;\n    self.users = data.users;\n    self.totalPages = data.total;\n\n    self.showUsersTable();\n    self.assignEventReassign();\n  } });","/**\r\n* Name: BizAgi Desktop Widget - Tree\r\n* \r\n* @author Christian Collazos\r\n*/\n\n\nbizagi.workportal.widgets.tree.extend(\"bizagi.workportal.widgets.tree\", {}, {\n\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"tree.wrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.tree\").concat(\"#ui-bizagi-workportal-widget-tree-wrapper\"),\n      \"tree.content\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.tree\").concat(\"#ui-bizagi-workportal-widget-tree-content\"),\n      useNewEngine: false });\n\n  },\n\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"tree.wrapper\");\n    var content;\n\n    content = self.content = $.tmpl(template, {});\n\n    // Override canvas if it has been defined\n    if (self.params.canvas) {\n      content = $(self.params.canvas).append(content);\n    }\n\n    return content;\n  },\n\n  postRender: function postRender() {\n    var self = this;\n\n    //load templates \n    self.loadtemplates();\n  },\n\n  loadtemplates: function loadtemplates() {\n    var self = this;\n\n    //Template vars \n    self.decisionTableContent = self.getTemplate(\"tree.content\");\n  } });","/*\r\n*   Name: BizAgi Generic Page Widget Implementation\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*/\n\n\n// Extends itself\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.entities\", {}, {\n  /*\r\n                                                                                    *   Returns the widget name\r\n                                                                                    */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ENTITIES;\n  },\n\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"entities\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.entities\").concat(\"#ui-bizagi-workportal-widget-entities\"),\n      useNewEngine: false });\n\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     *   Returns a deferred because it has to load the current user\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n\n    var deferred = new $.Deferred();\n\n    var template = self.getTemplate(\"entities\");\n    /*\r\n                                                 var data = { entitiesURL: self.dataService.getUrl({ \"endPoint\": \"EntityAdmin\" }) };\r\n                                                 \r\n                                                 var content = $.tmpl(template, data);\r\n                                                 \r\n                                                 var iframe = $(\"#entitiesIFrame\", content);\r\n                                                 \r\n                                                 // Wait until the iframe has been loadedpip\r\n                                                 iframe.load(function(){\r\n                                                     iframe.callInside(function(params){\r\n                                                     alert('1');\r\n                                                         // This script will execute inside the iframe context\r\n                                                         this.newentity = function(idEntity){\r\n                                                             self.publish(\"showDialogWidget\", {\r\n                                                              widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PAGE,\r\n                                                              context: \"entitymanagement\",\r\n                                                                 idForm: idForm,\r\n                                                                 idEntity: idEntity,\r\n                                                        modalParameters: {\r\n                                                            title: self.getResource(\"workportal-menu-preferences\"),\r\n                                                            width:\"1020px\",\r\n                                                            showCloseButton: false\r\n                                                        }\r\n                                                             });\r\n                                                         \r\n                                                             params.controller.publish(\"closeCurrentDialog\");\r\n                                                         };\r\n                                                     }, { });\r\n                                                 });\r\n                                                 */\n    $.when(self.dataService.getAllAdministrableEntities()).\n    done(function (data) {\n      var content = self.content = $.tmpl(template, data);\n\n      $(\".bz-wp-widget-entities li\", content).click(function () {\n        var idEntity = $(this).data(\"entity-id\");\n        var idForm = $(this).data(\"entity-form\");\n        self.renderEntityData(content, idEntity, idForm);\n      });\n      deferred.resolve(content);\n    });\n\n    // Return content\n    return deferred.promise();;\n  },\n\n  renderStaticForm: function renderStaticForm(params) {\n    var self = this;\n    var canvas = params.content;\n    var rendering = new bizagi.rendering.facade(params.context);\n\n    // Executes rendering into render container\n    params = params || {};\n    $.extend(params, {\n      canvas: canvas,\n      customHandlers: {\n        onGridAdd: function onGridAdd() {\n          self.publish(\"showDialogWidget\", {\n            widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PAGE,\n            context: \"entitymanagement\",\n            idForm: params.idForm,\n            idEntity: params.idEntity,\n            modalParameters: {\n              title: self.getResource(\"workportal-menu-preferences\"),\n              width: \"1020px\",\n              showCloseButton: false },\n\n            customHandlers: {\n              afterFormButtonClick: function afterFormButtonClick(button) {\n                self.publish(\"closeCurrentDialog\");\n              } } });\n\n\n        },\n        onGridEdit: function onGridEdit(surrogateKey) {\n          self.publish(\"showDialogWidget\", {\n            widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PAGE,\n            context: \"entitymanagement\",\n            idForm: params.idForm,\n            idEntity: params.idEntity,\n            surrogateKey: surrogateKey,\n            modalParameters: {\n              title: self.getResource(\"workportal-menu-preferences\"),\n              width: \"1020px\",\n              showCloseButton: false },\n\n            customHandlers: {\n              afterFormButtonClick: function afterFormButtonClick(button) {\n                self.publish(\"closeCurrentDialog\");\n                self.renderEntityData(params.content, params.idEntity, params.idForm);\n              } } });\n\n\n        } } });\n\n\n\n    rendering.execute(params);\n\n    canvas.bind(\"close\", function () {\n      self.publish(\"closeCurrentDialog\");\n    });\n  },\n\n  renderEntityData: function renderEntityData(content, idEntity, idForm) {\n    var self = this;\n    content.empty();\n    $.when(self.dataService.getEntitiesList({ idEntity: idEntity, page: 1 })).\n    done(function (data) {\n      self.renderStaticForm({ context: \"entitymanagement\", content: content, idEntity: idEntity, idForm: idForm, data: data });\n    });\n\n    /*\r\n        var facade = new bizagi.rendering.facade();\r\n        facade.p\r\n        var renderFactory = facade.renderFactory;\r\n        $.when(renderFactory).done(function(factory) {\r\n                var grid = factory.getRender('grid', data, content);\r\n            });\r\n        });\r\n        */\n\n    /*\r\n                               self.publish(\"showDialogWidget\", {\r\n               \t                widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PAGE,\r\n               \t                context: \"entitymanagement\",\r\n                                   idForm: idForm,\r\n                                   idEntity: idEntity,\r\n               \t\t\t        modalParameters: {\r\n               \t\t\t            title: self.getResource(\"workportal-menu-preferences\"),\r\n               \t\t\t            width:\"1020px\",\r\n               \t\t\t            showCloseButton: false\r\n               \t\t\t        }\r\n                               });\r\n           */\n  } });","/*\r\n Document   : bizagi.filterNumber\r\n Created on : May 21, 2015, 8:24:00 AM\r\n Author     : Andres Felipe Arenas Vargas\r\n Description: This script will define a base class to handle the filter of a number control\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_numberFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpaths) {},\n      setData: function setData() {} },\n\n    _type: \"number\",\n\n    /**\r\n                      *\r\n                      * @private\r\n                      */\n    _create: function _create() {\n      var self = this;\n      self.numericFormat = bizagi.clone(bizagi.localization.getResource(\"numericFormat\"));\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindTooltip();\n      self._bindHandlers();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n\n      self.returnObject = [\n      {\n        properties: {\n          xpath: self.options.properties.attribute + \"@from\",\n          type: self._type,\n          typeSearch: \"range\",\n          rangeQuery: \"from\" } },\n\n\n      {\n        properties: {\n          xpath: self.options.properties.attribute + \"@to\",\n          type: self._type,\n          typeSearch: \"range\",\n          rangeQuery: \"to\" } }];\n\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link\" type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\">' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._setValue();\n            self._addFilterToDisplayName();\n            options.onApply(self.returnObject);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var options = self.options;\n      var $opener = $(self.element);\n      var id = '#' + $('.wgd-my-search-filter-pluggin', $opener).attr('id');\n\n      $opener.on('click', function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      var paramsContextMenu = {\n        selector: id,\n        trigger: 'none',\n        items: {\n          key: {\n            name: options.getResource('workportal-my-search-remove-filter'),\n            className: 'ui-bizagi-clear-filters',\n            callback: function callback() {\n              self._removeFilter();\n\n              return true; // False -> To keep the context menu open\n            } },\n\n          min: {\n            name: options.getResource('bz-rp-components-time-from-label'),\n            type: 'text',\n            className: 'ui-bizagi-' + self._type + '-filter-min' },\n\n          max: {\n            name: options.getResource('bz-rp-components-time-to-label'),\n            type: 'text',\n            className: 'ui-bizagi-' + self._type + '-filter-max' },\n\n          notification: {\n            name: options.getResource('workportal-my-search-limit-notification'),\n            className: 'ui-bizagi-' + self._type + '-filter-notification' },\n\n          buttons: {\n            type: 'contextMenuButtons' // Self structure - see _bindContextMenuButtons\n          } },\n\n        events: {\n          show: function show() {\n            return $.when(self.options.setData()).done(function (data) {\n              var $input = $('<input type=\"text\">');\n              self.options.data = typeof data !== 'undefined' ? data : self.options.data;\n\n              $input.val(self.options.data.min);\n              $input.formatCurrency(self._getFormatOptions());\n              $('.ui-bizagi-' + self._type + '-filter-min span', self.$menuContext).html(options.getResource('bz-rp-components-time-from-label') + \" (<span class='select-value'>\" + $input.val() + \"</span>):\");\n\n              $input.val(self.options.data.max);\n              $input.formatCurrency(self._getFormatOptions());\n              $('.ui-bizagi-' + self._type + '-filter-max span', self.$menuContext).html(options.getResource('bz-rp-components-time-to-label') + \" (<span class='select-value'>\" + $input.val() + \"</span>):\");\n\n              self._enableNotification(false);\n\n              var $minValue = $('.ui-bizagi-' + self._type + '-filter-min .select-value', self.$menuContext);\n              var $maxValue = $('.ui-bizagi-' + self._type + '-filter-max .select-value', self.$menuContext);\n              $minValue.on('click', $.proxy(self._onClickMinValue, self));\n              $maxValue.on('click', $.proxy(self._onClickMaxValue, self));\n\n            });\n          },\n          hide: function hide() {\n            self.removeHandlersValuesMinMax();\n          } } };\n\n\n\n      if (self.options.showButtonClearFilter === true) {\n        paramsContextMenu.items.key = undefined;\n      }\n\n      $opener.contextMenu(paramsContextMenu);\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindTooltip: function _bindTooltip() {\n      var self = this;\n      $(self.element).tooltip({\n        items: \"#\" + $(\"div\", self.element).attr(\"id\"),\n        content: function content() {\n          return self.filterValue;\n        } });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayValue: function _setDisplayValue() {\n      var self = this;\n      var min = typeof self.returnObject[0].value === \"undefined\" ? \"\" : self.returnObject[0].value;\n      var max = typeof self.returnObject[1].value === \"undefined\" ? \"\" : self.returnObject[1].value;\n\n      $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val(min);\n      $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val(max);\n      $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).formatCurrency(self._getFormatOptions());\n      $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).formatCurrency(self._getFormatOptions());\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setFormatValue: function _setFormatValue($input) {\n      var self = this;\n\n      var value = self._getObjectValueByString($input.val());\n\n      if (value !== 0) {\n        $input.val(value);\n        $input.formatCurrency(self._getFormatOptions());\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        * @param stringValue\r\n        * @return {*}\r\n        * @param asFloatType\r\n        */\n    _getObjectValueByString: function _getObjectValueByString(stringValue, asFloatType) {\n      var self = this;\n\n      var value = stringValue,\n      regexString = \"/[\" + self.numericFormat.symbol + self.numericFormat.digitGroupSymbol + \"]/g\",\n      regex = eval(regexString);\n\n      value = value.replace(regex, \"\");\n      if (asFloatType) {\n        value = value.replace(\",\", \".\");\n        value = parseFloat(value);\n      }\n\n      return value;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addFilterToDisplayName: function _addFilterToDisplayName() {\n      var self = this;\n      var minVal = $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val();\n      var maxVal = $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val();\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      self.filterValue = minVal + ' ' + self.options.getResource('bz-rp-components-time-to-label') + ' ' + maxVal;\n      $displayNameControl.text(displayName[0] + ': ' + self.filterValue);\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayNameToDefault: function _setDisplayNameToDefault() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      self.filterValue = \"\";\n      $displayNameControl.text(displayName[0]);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setValue: function _setValue() {\n      var self = this;\n      var minVal = self._getObjectValueByString($('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val(), true);\n      var maxVal = self._getObjectValueByString($('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val(), true);\n\n      self.returnObject[0].value = minVal === '' ? maxVal : minVal;\n      self.returnObject[1].value = maxVal === '' ? minVal : maxVal;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValue: function _resetValue() {\n      var self = this;\n\n      self._setReturnObject();\n      $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val('');\n      $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val('');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n      var options = self.options;\n      var $minControl = $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext);\n      var $maxControl = $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext);\n\n\n      $minControl.keyup(function () {\n        if ($(this).val()) {\n          var maxVal = self._getObjectValueByString($('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val(), true);\n          var minVal = self._getObjectValueByString($(this).val(), true);\n          var isLowerLimitInvalid = isNaN(minVal) ? true : minVal < parseFloat(options.data.min);\n          var isUpperLimitInvalid = isNaN(maxVal) ? true : maxVal > parseFloat(options.data.max);\n          var isRangeInvalid = minVal > maxVal;\n\n          self._checkNotification(isLowerLimitInvalid, isUpperLimitInvalid, isRangeInvalid);\n          self._setFormatValue($(this));\n        }\n      });\n\n      $maxControl.keyup(function () {\n        if ($(this).val()) {\n          var maxVal = self._getObjectValueByString($(this).val(), true);\n          var minVal = self._getObjectValueByString($('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val(), true);\n          var isLowerLimitInvalid = isNaN(minVal) ? true : minVal < parseFloat(options.data.min);\n          var isUpperLimitInvalid = isNaN(maxVal) ? true : maxVal > parseFloat(options.data.max);\n          var isRangeInvalid = minVal > maxVal;\n\n          self._checkNotification(isLowerLimitInvalid, isUpperLimitInvalid, isRangeInvalid);\n          self._setFormatValue($(this));\n        }\n      });\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        * @param event\r\n        */\n    _onClickMinValue: function _onClickMinValue(event) {\n      var self = this;\n      var $minControl = $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext);\n      $minControl.val($(event.target).text());\n      $minControl.keyup();\n    },\n\n    /**\r\n        *\r\n        * @param event\r\n        * @private\r\n        */\n    _onClickMaxValue: function _onClickMaxValue(event) {\n      var self = this;\n      var $maxControl = $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext);\n      $maxControl.val($(event.target).text());\n      $maxControl.keyup();\n    },\n\n    /**\r\n        *\r\n        * @param isLowerLimitInvalid\r\n        * @param isUpperLimitInvalid\r\n        * @param isRangeInvalid\r\n        * @private\r\n        */\n    _checkNotification: function _checkNotification(isLowerLimitInvalid, isUpperLimitInvalid, isRangeInvalid) {\n      var self = this;\n      var options = self.options;\n\n      if (isRangeInvalid || isLowerLimitInvalid || isUpperLimitInvalid) {\n        var notification = options.getResource('workportal-my-search-limit-notification');\n        if (isLowerLimitInvalid) {\n          notification = options.getResource('workportal-my-search-lower-limit-notification');\n        } else\n        if (isUpperLimitInvalid) {\n          notification = options.getResource('workportal-my-search-upper-limit-notification');\n        } else\n        if (isRangeInvalid) {\n          notification = options.getResource('workportal-my-search-max-min-notification');\n        }\n        self._enableNotification(true, notification);\n      } else\n      {\n        self._disableNotification();\n      }\n    },\n\n    /**\r\n        *\r\n        * @param showLabel\r\n        * @param notification\r\n        * @private\r\n        */\n    _enableNotification: function _enableNotification(showLabel, notification) {\n      var self = this;\n\n      if (showLabel) {\n        $('.ui-bizagi-' + self._type + '-filter-notification span', self.$menuContext).text(notification);\n        $('.ui-bizagi-' + self._type + '-filter-notification', self.$menuContext).show();\n      } else\n      {\n        $('.ui-bizagi-' + self._type + '-filter-notification', self.$menuContext).hide();\n      }\n      $(\"#ui-bizagi-apply-filter\", self.$menuContext).attr(\"disabled\", \"disabled\");\n      $(\"#ui-bizagi-apply-filter\", self.$menuContext).addClass(\"ui-state-disabled\");\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableNotification: function _disableNotification() {\n      var self = this;\n\n      $('.ui-bizagi-' + self._type + '-filter-notification', self.$menuContext).hide();\n      $(\"#ui-bizagi-apply-filter\", self.$menuContext).removeAttr(\"disabled\");\n      $(\"#ui-bizagi-apply-filter\", self.$menuContext).removeClass(\"ui-state-disabled\");\n    },\n\n    /**\r\n        *\r\n        * @returns {{symbol: string, roundToDecimalPlace: number, eventOnDecimalsEntered: boolean}}\r\n        * @private\r\n        */\n    _getFormatOptions: function _getFormatOptions() {\n      var self = this;\n      return formatOptions = {\n        symbol: '',\n        roundToDecimalPlace: -1,\n        eventOnDecimalsEntered: true,\n        digitGroupSymbol: self.numericFormat.digitGroupSymbol,\n        decimalSymbol: self.numericFormat.decimalSymbol };\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      self._resetValue();\n      self._enableNotification(false);\n      self._setDisplayNameToDefault();\n      self.options.onClear([self.returnObject[0].properties.xpath, self.returnObject[1].properties.xpath]);\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n\n    /**\r\n        *\r\n        * @param data\r\n        */\n    setData: function setData(data) {\n      var self = this;\n      self.options.data = Object.getOwnPropertyNames(data).length === 0 ? self.options.data : data;\n    },\n\n\n    /**\r\n        * Remove min and max handlers\r\n        */\n    removeHandlersValuesMinMax: function removeHandlersValuesMinMax() {\n      var self = this;\n      var $minValue = $('.ui-bizagi-' + self._type + '-filter-min .select-value', self.$menuContext);\n      var $maxValue = $('.ui-bizagi-' + self._type + '-filter-max .select-value', self.$menuContext);\n      $minValue.off('click', $.proxy(self._onClickMinValue, self));\n      $maxValue.off('click', $.proxy(self._onClickMaxValue, self));\n    },\n\n    destroy: function destroy() {\n      var self = this;\n      self.removeHandlersValuesMinMax();\n      $(this.element).contextMenu(\"destroy\");\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/*\r\n Document   : bizagi.filterMoney\r\n Created on : May 21, 2015, 8:24:00 AM\r\n Author     : Andres Felipe Arenas Vargas\r\n Description: This script will define a base class to handle the filter of a money control\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_moneyFilter', $.filter.bizagi_numberFilter, {\n    _type: \"money\" });\n\n\n})(jQuery);","/*\r\n Document   : bizagi.filterInteger\r\n Created on : May 28, 2021\r\n Author     : Nessler Camargo\r\n Description: This script extends of number filter\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_integerFilter', $.filter.bizagi_numberFilter, {\n\n    /**\r\n                                                                           * Override\r\n                                                                           * @returns {{symbol: string, roundToDecimalPlace: number, eventOnDecimalsEntered: boolean}}\r\n                                                                           * @private\r\n                                                                           */\n    _getFormatOptions: function _getFormatOptions() {\n      var self = this;\n      return formatOptions = {\n        symbol: '',\n        roundToDecimalPlace: -1,\n        eventOnDecimalsEntered: true,\n        digitGroupSymbol: '',\n        decimalSymbol: self.numericFormat.decimalSymbol };\n\n    } });\n\n\n\n\n})(jQuery);","/*\r\n Document   : bizagi.filterDate\r\n Created on : May 21, 2015, 8:24:00 AM\r\n Author     : Andres Felipe Arenas Vargas\r\n Description: This script will define a base class to handle the filter of a date control\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_dateFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpaths) {},\n      setData: function setData() {} },\n\n\n    /**\r\n                                         *\r\n                                         * @private\r\n                                         */\n    _create: function _create() {\n      var self = this;\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindTooltip();\n      self._bindHandlers();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n      var attribute = self.options.properties.attribute;\n\n      self.returnObject = [\n      {\n        properties: {\n          xpath: attribute + '@from',\n          type: 'date',\n          typeSearch: 'range',\n          rangeQuery: 'from' } },\n\n\n      {\n        properties: {\n          xpath: attribute + '@to',\n          type: 'date',\n          typeSearch: 'range',\n          rangeQuery: 'to' } }];\n\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link\" type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\">' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._setValuesOfReturnObject();\n            self._setDisplayTitle(false);\n            options.onApply(self.returnObject, self.element);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var options = self.options;\n      var $opener = $(self.element);\n      var id = '#' + $('.wgd-my-search-filter-pluggin', $opener).attr('id');\n\n      $opener.on('click', function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      var paramsContextMenu = {\n        selector: id,\n        trigger: 'none',\n        items: {\n          key: {\n            name: options.getResource('workportal-my-search-remove-filter'),\n            className: 'ui-bizagi-clear-filters',\n            callback: function callback() {\n              self._removeFilter();\n\n              return true; // False -> To keep the context menu open\n            } },\n\n          from: {\n            name: options.getResource('bz-rp-components-time-from-label'),\n            type: 'text',\n            className: 'ui-bizagi-date-filter-from' },\n\n          to: {\n            name: options.getResource('bz-rp-components-time-to-label'),\n            type: 'text',\n            className: 'ui-bizagi-date-filter-to' },\n\n          buttons: {\n            type: 'contextMenuButtons' // Self structure - see _bindContextMenuButtons\n          } },\n\n        events: {\n          show: function show() {\n            self._disableApply();\n            self._setDisplayLabels();\n          },\n          hide: function hide() {\n            self._getFromControl().datepicker('hide');\n            self._getToControl().datepicker('hide');\n          } } };\n\n\n\n      if (self.options.showButtonClearFilter === true) {\n        paramsContextMenu.items.key = undefined;\n      }\n\n      $opener.contextMenu(paramsContextMenu);\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindTooltip: function _bindTooltip() {\n      var self = this;\n\n      $(self.element).tooltip({\n        items: \"#\" + $(\"div\", self.element).attr(\"id\"),\n        content: function content() {\n          return self.filterValue;\n        } });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n      var $minDate = self._getFromControl();\n      var $maxDate = self._getToControl();\n      var minDate = new Date(self._getDateFromInvariant(self.options.properties.data.min));\n      var maxDate = new Date(self._getDateFromInvariant(self.options.properties.data.max));\n      var dateFormat = bizagi.util.dateFormatter.getDateFormatByDatePickerJqueryUI().toLowerCase();\n\n      $minDate.datepicker({\n        defaultDate: minDate,\n        dateFormat: dateFormat,\n        changeMonth: true,\n        changeYear: true,\n        numberOfMonths: 1,\n        yearRange: '-100:+0',\n        minDate: minDate,\n        maxDate: maxDate,\n        onClose: function onClose(selectedDate) {\n          if (selectedDate) {\n            $maxDate.datepicker('option', 'minDate', selectedDate);\n            if ($maxDate.datepicker(\"getDate\")) {\n              self._enableApply();\n            }\n          } else\n          {\n            self._disableApply();\n          }\n        } });\n\n      $maxDate.datepicker({\n        defaultDate: maxDate,\n        dateFormat: dateFormat,\n        changeMonth: true,\n        changeYear: true,\n        numberOfMonths: 1,\n        yearRange: '-100:+0',\n        minDate: minDate,\n        maxDate: maxDate,\n        onSelect: function onSelect(selectedDate) {\n          if (selectedDate) {\n            $minDate.datepicker('option', 'maxDate', selectedDate);\n            if ($minDate.datepicker(\"getDate\")) {\n              self._enableApply();\n            }\n          } else\n          {\n            self._disableApply();\n          }\n        } });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValues: function _resetValues() {\n      var self = this;\n\n      self._getFromControl().datepicker(\"setDate\", null);\n      self._getToControl().datepicker(\"setDate\", null);\n      self._setReturnObject();\n      self._disableApply();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setValuesOfReturnObject: function _setValuesOfReturnObject() {\n      var self = this;\n      var minDate = self._getFromControl().datepicker(\"getDate\"); //returns null when there is no date\n      var maxDate = self._getToControl().datepicker(\"getDate\"); //returns null when there is no date\n      var dateFormatter = bizagi.util.dateFormatter;\n\n      self.returnObject[0].value = minDate !== null ? dateFormatter.formatInvariant(minDate, false) : dateFormatter.formatInvariant(maxDate, false);\n      self.returnObject[1].value = maxDate !== null ? dateFormatter.formatInvariant(maxDate, false) : dateFormatter.formatInvariant(minDate, false);\n    },\n\n    /**\r\n        *\r\n        * @param toDefault\r\n        * @private\r\n        */\n    _setDisplayTitle: function _setDisplayTitle(toDefault) {\n      var self = this;\n      var $displayTitleControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayTitle = $displayTitleControl.text().split(':');\n\n      if (toDefault) {\n        self.filterValue = \"\";\n        $displayTitleControl.text(displayTitle[0]);\n      } else\n      {\n        var options = self.options;\n        var minDateObj = self._getDateFromInvariant(self.returnObject[0].value);\n        var maxDateObj = self._getDateFromInvariant(self.returnObject[1].value);\n\n        self.filterValue =\n        self._formatDate(minDateObj, options.getResource(\"dateFormat\")) + ' ' +\n        options.getResource('bz-rp-components-time-to-label') + ' ' +\n        self._formatDate(maxDateObj, options.getResource(\"dateFormat\"));\n        $displayTitleControl.text(displayTitle[0] + ': ' + self.filterValue);\n      }\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayLabels: function _setDisplayLabels() {\n      var self = this;\n      var options = self.options;\n      var minDateObj = self._getDateFromInvariant(self.options.properties.data.min);\n      var maxDateObj = self._getDateFromInvariant(self.options.properties.data.max);\n\n      $('.ui-bizagi-date-filter-from span', self.$menuContext).text(\n      options.getResource('bz-rp-components-time-from-label') + ' (' + self._formatDate(minDateObj, options.getResource(\"dateFormat\")) + '):');\n\n      $('.ui-bizagi-date-filter-to span', self.$menuContext).text(\n      options.getResource('bz-rp-components-time-to-label') + ' (' + self._formatDate(maxDateObj, options.getResource(\"dateFormat\")) + '):');\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _enableApply: function _enableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.removeAttr('disabled');\n      $applyControl.removeClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableApply: function _disableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.attr('disabled', 'disabled');\n      $applyControl.addClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @param dateObj\r\n        * @param dateFormat\r\n        * @private\r\n        */\n    _formatDate: function _formatDate(dateObj, dateFormat) {\n      return bizagi.util.dateFormatter.formatDate(dateObj, dateFormat);\n    },\n\n    /**\r\n        *\r\n        * @returns {*|HTMLElement}\r\n        * @private\r\n        */\n    _getFromControl: function _getFromControl() {\n      var self = this;\n      return $('.ui-bizagi-date-filter-from input', self.$menuContext);\n    },\n\n    /**\r\n        *\r\n        * @returns {*|HTMLElement}\r\n        * @private\r\n        */\n    _getToControl: function _getToControl() {\n      var self = this;\n      return $('.ui-bizagi-date-filter-to input', self.$menuContext);\n    },\n\n    /**\r\n        *\r\n        * @param date\r\n        * @param date\r\n        * @private\r\n        */\n    _getDateFromInvariant: function _getDateFromInvariant(date) {\n      return bizagi.util.dateFormatter.getDateFromInvariant(date);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      self.options.onClear([self.returnObject[0].properties.xpath, self.returnObject[1].properties.xpath]);\n      self._setDisplayTitle(true);\n      self._resetValues();\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n    /**\r\n        *\r\n        * @param data\r\n        */\n    setData: function setData(data) {\n      var self = this;\n      self.options.properties.data = Object.getOwnPropertyNames(data).length === 0 ? self.options.properties.data : data;\n\n      var $minDate = self._getFromControl();\n      var $maxDate = self._getToControl();\n      var minDate = new Date(self._getDateFromInvariant(self.options.properties.data.min));\n      var maxDate = new Date(self._getDateFromInvariant(self.options.properties.data.max));\n\n      $minDate.datepicker('option', 'minDate', minDate);\n      $minDate.datepicker('option', 'maxDate', maxDate);\n      $maxDate.datepicker('option', 'minDate', minDate);\n      $maxDate.datepicker('option', 'maxDate', maxDate);\n    },\n\n    /**\r\n        *\r\n        */\n    destroy: function destroy() {\n      $(this.element).contextMenu(\"destroy\");\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/*\r\n Document   : bizagi.filterMoney\r\n Created on : May 21, 2015, 8:24:00 AM\r\n Author     : Andr�s Felipe Arenas Vargas\r\n Description: This script will define a base class to handle the filter of a money control\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_textFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpath) {} },\n\n\n    /**\r\n                                              *\r\n                                              * @private\r\n                                              */\n    _create: function _create() {\n      var self = this;\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindHandlers();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link\" type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\">' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._setValue();\n            self._setFilterToDisplayName();\n            options.onApply(self.returnObject, self.element);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var options = self.options;\n      var $opener = $('.wgd-my-search-filter-pluggin', self.element);\n      var id = '#' + $opener.attr('id');\n\n      $opener.on('click', function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      var paramsContextMenu = {\n        selector: id,\n        trigger: 'none',\n        items: {\n          key: { name: options.getResource('workportal-my-search-remove-filter'), className: 'ui-bizagi-clear-filters',\n            callback: function callback() {\n              self._removeFilter();\n\n              return true; // False -> To keep the context menu open\n            } },\n\n          min: { name: options.getResource('workportal-my-search-text'), type: 'text', className: 'ui-bizagi-text-filter' },\n          buttons: { type: 'contextMenuButtons' } },\n\n        events: {\n          show: function show() {\n            self._disableApply();\n          },\n          hide: function hide() {\n          } } };\n\n\n\n      if (self.options.showButtonClearFilter === true) {\n        paramsContextMenu.items.key = undefined;\n      }\n\n      $(self.element).contextMenu(paramsContextMenu);\n\n    },\n\n    /**\r\n        *\r\n        * @returns {*|HTMLElement}\r\n        * @private\r\n        */\n    _getTextControl: function _getTextControl() {\n      var self = this;\n\n      return $('.ui-bizagi-text-filter input', self.$menuContext);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n\n      self._getTextControl().keyup(function () {\n        if ($(this).val() && $(this).val().indexOf(' ') != 0)\n        self._enableApply();else\n\n        self._disableApply();\n      });\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n      self.returnObject = {\n        'properties': {\n          'xpath': self.options.properties.attribute,\n          'type': 'text',\n          'typeSearch': 'approx' } };\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValue: function _resetValue() {\n      var self = this;\n\n      self._setReturnObject();\n      self._disableApply();\n      self._getTextControl().val('');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setValue: function _setValue() {\n      var self = this;\n      var textValue = self._getTextControl().val();\n\n      if (textValue) {\n        self.returnObject.value = textValue;\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _enableApply: function _enableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.removeAttr('disabled');\n      $applyControl.removeClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableApply: function _disableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.attr('disabled', 'disabled');\n      $applyControl.addClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setFilterToDisplayName: function _setFilterToDisplayName() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      $displayNameControl.text(displayName[0] + ': ' + self.returnObject.value);\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayNameToDefault: function _setDisplayNameToDefault() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      $displayNameControl.text(displayName[0]);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      self._resetValue();\n      var xpaths = [self.returnObject.properties.xpath];\n      self._setDisplayNameToDefault();\n      self.options.onClear(xpaths);\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n\n    /**\r\n        *\r\n        * @param data\r\n        */\n    setData: function setData(data) {\n      console.log(data);\n    },\n\n    /**\r\n        *\r\n        */\n    destroy: function destroy() {\n      $(this.element).contextMenu('destroy');\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/**\r\n * Filter multiple plugin creates a tooltip control to show related entity information and select multiple values\r\n *\r\n * @author Andrés Fernando Muñoz\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_multipleFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpath) {},\n      setData: function setData() {} },\n\n\n    /**\r\n                                         *\r\n                                         * @private\r\n                                         */\n    _create: function _create() {\n      var self = this;\n      self.isDefaultFilter = false;\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindTooltip();\n      self._bindDefaultFilter();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindDefaultFilter: function _bindDefaultFilter() {\n      var self = this;\n      var data = self.options.data || [];\n      var filtersText = ': ';\n      var a,i = -1;\n\n      while (a = data.defaultValues[++i]) {\n        if (a.applied) {\n          self.isDefaultFilter = true;\n          self.returnObject.value.push({ \"id\": a.id });\n          filtersText += a.displayName;\n        }\n      }\n\n      if (self.isDefaultFilter) {\n        var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n        var displayText = $displayNameControl.text().split(':');\n\n        $displayNameControl.text(displayText[0] + filtersText);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n      self.returnObject = {\n        properties: {\n          xpath: self.options.properties.attribute,\n          type: \"entity\",\n          typeSearch: \"exact\" },\n\n        value: [] };\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.container = function (item, opt, root) {\n        $('<div id=\"' + item.id + '\" class=\"menu-container\"></div>').appendTo(this);\n      };\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\" disabled>' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._addFilterToDisplayName();\n            options.onApply([self.returnObject]);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @returns {{}}\r\n        * @private\r\n        */\n    _buildContextMenuItems: function _buildContextMenuItems() {\n      var self = this;\n      var options = self.options;\n      var items = {};\n\n      if (self.options.showButtonClearFilter !== true) {\n        items[\"key\"] = {\n          name: options.getResource(\"workportal-my-search-remove-filter\"),\n          className: \"ui-bizagi-clear-filters\",\n          callback: function callback() {\n            self._removeFilter();\n            return true; // False -> To keep the context menu open\n          } };\n\n      }\n      items[\"container\"] = {\n        id: \"checks_container_\" + options.properties.attribute.replaceAll(\".\", \"_\"),\n        type: \"container\" };\n\n      items[\"buttons\"] = {\n        type: \"contextMenuButtons\" };\n\n\n      return items;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var options = self.options;\n      var $opener = $(self.element);\n      var id = \"#\" + $(\".wgd-my-search-filter-pluggin\", $opener).attr(\"id\");\n      var items = self._buildContextMenuItems();\n\n      $opener.click(function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      $opener.contextMenu({\n        selector: id,\n        className: 'context-menu-list-checks-container',\n        trigger: \"none\",\n        items: items,\n        events: {\n          show: function show() {\n            var div = $(\"#checks_container_\" + options.properties.attribute.replaceAll(\".\", \"_\"), self.$menuContext);\n            self._disableApply();\n            div.empty();\n            div.addClass(\"checks_container_overflow\");\n\n            return $.when(options.setData()).done(function (data) {\n              var data = typeof data !== 'undefined' ? data.defaultValues : options.data.defaultValues;\n              var i = -1,a;\n\n              while (a = data[++i]) {\n                var id = self.returnObject.value.find(function (el) {return el.id == a.id;});\n                var checked = id || a.applied ? \"checked\" : \"\";\n                if (a.id != '' && a.displayName != '' && (!self.isDefaultFilter || self.isDefaultFilter && checked === \"checked\")) {\n                  var checkbox = \"<li class='checks_container_children'>\";\n                  checkbox += \"<input data-displayname='\" + a.displayName + \"' type='checkbox' value='\" + a.id + \"'\" + \" \" + checked + \">\";\n                  checkbox += \"<span class='context-menu-item-label-check'>\" + a.displayName + \"</span>\";\n                  checkbox += \"</li>\";\n\n                  div.append(checkbox);\n                }\n              }\n              self._bindHandlers();\n            });\n          },\n          hide: function hide() {\n          } } });\n\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindTooltip: function _bindTooltip() {\n      var self = this;\n      self.filterValue = self.filterValue || [];\n\n      $(self.element).tooltip({\n        items: \"#\" + $(\"div\", self.element).attr(\"id\"),\n        content: function content() {\n          if (self.filterValue.length !== 0) {\n            var $container = $(\"<div>\");\n            $.each(self.filterValue, function (index, value) {\n              $container.append($(\"<div><label>\" + value + \"</label></div>\"));\n            });\n            return $container;\n          } else\n          {\n            return \"\";\n          }\n        } });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n\n      $(\"input:checkbox\", self.$menuContext).on(\"click\", function (ev) {\n        ev.stopImmediatePropagation(); //stopping jquery click event handler to be call twice for a checkbox\n        var $target = $(ev.target);\n        var id = $target.attr(\"value\");\n        var isChecked = $target.is(':checked');\n\n        if (isChecked) {\n          self.returnObject.value.push({ \"id\": id });\n          self._enableApply();\n        } else\n        {\n          var val = self.returnObject.value.find(function (el) {return el.id == id;});\n          if (val) {\n            self.returnObject.value.splice(self.returnObject.value.indexOf(val), 1);\n          }\n          if (self.returnObject.value.length === 0) {\n            self._disableApply();\n          } else\n          {\n            self._enableApply();\n          }\n        }\n      });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValue: function _resetValue() {\n      var self = this;\n      self.returnObject.value = [];\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addFilterToDisplayName: function _addFilterToDisplayName() {\n      var self = this;\n      var $displayNameControl = $(\".wgd-my-search-filter-pluggin span\", self.element);\n      var displayText = $displayNameControl.text().split(\":\");\n      var filtersText = displayText[0] + \": \";\n      var cont = self.returnObject.value.length;\n      self.filterValue = [];\n\n      $(\"input:checked\", self.$menuContext).each(function () {\n        cont--;\n        self.filterValue.push($(this).data(\"displayname\"));\n        filtersText = filtersText + $(this).data(\"displayname\") + (cont == 0 ? '' : \", \");\n      });\n\n      $displayNameControl.text(filtersText);\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayNameToDefault: function _setDisplayNameToDefault() {\n      var self = this;\n      var $displayNameControl = $(\".wgd-my-search-filter-pluggin span\", self.element);\n      var displayName = $displayNameControl.text().split(\":\");\n\n      self.isDefaultFilter = false;\n      self.filterValue = [];\n      $displayNameControl.text(displayName[0]);\n    },\n\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _enableApply: function _enableApply() {\n      var self = this;\n      var $applyControl = $(\"#ui-bizagi-apply-filter\", self.$menuContext);\n\n      $applyControl.removeAttr(\"disabled\");\n      $applyControl.removeClass(\"ui-state-disabled\");\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableApply: function _disableApply() {\n      var self = this;\n      var $applyControl = $(\"#ui-bizagi-apply-filter\", self.$menuContext);\n\n      $applyControl.attr(\"disabled\", \"disabled\");\n      $applyControl.addClass(\"ui-state-disabled\");\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      self.options.onClear([self.returnObject.properties.xpath]);\n      self._setDisplayNameToDefault();\n      self._resetValue();\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n    /**\r\n        *\r\n        * @param filterData\r\n        */\n    setData: function setData(data) {\n      var self = this;\n\n      self.options.data = Object.getOwnPropertyNames(data).length === 0 ? self.options.data : data;\n    },\n\n    /**\r\n        *\r\n        */\n    destroy: function destroy() {\n      $(this.element).contextMenu(\"destroy\");\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/**\r\n * Filter multiple plugin creates a tooltip control to show related entity information and select multiple values\r\n *\r\n * @author Andres Fernando Munoz\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_booleanFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpath) {},\n      setData: function setData() {} },\n\n\n    /**\r\n                                         *\r\n                                         * @private\r\n                                         */\n    _create: function _create() {\n      var self = this;\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindTooltip();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n      self.returnObject =\n      {\n        properties: {\n          xpath: self.options.properties.attribute,\n          type: \"boolean\",\n          typeSearch: \"exact\" },\n\n        value: [] };\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.container = function (item, opt, root) {\n        $('<div id=\"' + item.id + '\" class=\"menu-container\"></div>').appendTo(this);\n      };\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\" disabled>' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._addFilterToDisplayName();\n            options.onApply([self.returnObject], self.element);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @returns {{}}\r\n        * @private\r\n        */\n    _buildContextMenuItems: function _buildContextMenuItems() {\n      var self = this;\n      var options = self.options;\n      var items = {};\n\n      if (self.options.showButtonClearFilter !== true) {\n        items['key'] = {\n          name: options.getResource('workportal-my-search-remove-filter'),\n          className: 'ui-bizagi-clear-filters',\n          callback: function callback() {\n            self._removeFilter();\n            return true; // False -> To keep the context menu open\n          } };\n      }\n      items['container'] = {\n        'id': 'checks_container',\n        type: 'container' };\n\n      items['buttons'] = {\n        type: \"contextMenuButtons\" };\n\n\n      return items;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var $opener = $(self.element);\n      var id = '#' + $('.wgd-my-search-filter-pluggin', $opener).attr('id');\n      var items = self._buildContextMenuItems();\n\n      $opener.on('click', function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      $opener.contextMenu({\n        selector: id,\n        trigger: 'none',\n        items: items,\n        events: {\n          show: function show() {\n            self._disableApply();\n            var div = $('#checks_container', self.$menuContext);\n            div.empty();\n            return $.when(self.options.setData()).done(function (data) {\n              var data = typeof data !== 'undefined' ? data.defaultValues : self.options.data.defaultValues;\n              var i = -1,a;\n\n              while (a = data[++i]) {\n                var id = self.returnObject.value === a.id;\n                if (a.id != '' && a.displayName != '') {\n                  div.append('<li><input data-displayname=\"' + a.displayName + '\" type=\"radio\" name=\"boolFilter\" value=\"' + a.id + '\" ' + (id ? 'checked' : '') + '><span class=\"context-menu-item-label-check\">' + self.parseBoolean(a.displayName) + '</span></li>');\n                }\n              }\n              self._bindHandlers();\n            });\n          },\n          hide: function hide() {\n          } } });\n\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindTooltip: function _bindTooltip() {\n      var self = this;\n      self.filterValue = self.filterValue || [];\n      $(self.element).tooltip({\n        items: \"#\" + $(\"div\", self.element).attr(\"id\"),\n        content: function content() {\n          if (self.filterValue.length !== 0) {\n            var $container = $(\"<div>\");\n            $.each(self.filterValue, function (index, value) {\n              $container.append($('<div><label>' + self.parseBoolean(value) + '</label></div>'));\n            });\n            return $container;\n          } else\n          {\n            return \"\";\n          }\n        } });\n\n    },\n\n    parseBoolean: function parseBoolean(value) {\n      var valueToLocalize = bizagi.clone(value);\n\n      if (valueToLocalize === 0) {\n        valueToLocalize = \"0\";\n      }\n      if (valueToLocalize === 1) {\n        valueToLocalize = \"1\";\n      }\n\n      if (!valueToLocalize.toLowerCase) {\n        valueToLocalize = valueToLocalize.toString();\n      }\n\n      switch (valueToLocalize.toLowerCase()) {\n        case \"not specified\":\n          valueToLocalize = bizagi.localization.getResource(\"workportal-general-value-undefined\");\n          break;\n        default:\n          valueToLocalize = bizagi.util.formatBoolean(valueToLocalize);\n          break;}\n\n      return valueToLocalize;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n\n      $('input:radio', self.$menuContext).on('click', function (ev) {\n        ev.stopImmediatePropagation(); //stopping jquery click event handler to be call twice for a checkbox\n        var $target = $(ev.target);\n\n        self.returnObject.value = $target.attr(\"value\");\n        self._enableApply();\n      });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValue: function _resetValue() {\n      var self = this;\n      self.returnObject.value = [];\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addFilterToDisplayName: function _addFilterToDisplayName() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayText = $displayNameControl.text().split(':');\n      var filtersText = displayText[0] + ': ';\n      self.filterValue = [];\n\n      $(\"input:checked\", self.$menuContext).each(function () {\n        self.filterValue.push($(this).data(\"displayname\"));\n        filtersText = filtersText + self.parseBoolean($(this).data('displayname'));\n      });\n\n      $displayNameControl.text(filtersText);\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayNameToDefault: function _setDisplayNameToDefault() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      self.filterValue = [];\n      $displayNameControl.text(displayName[0]);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _enableApply: function _enableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.removeAttr('disabled');\n      $applyControl.removeClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableApply: function _disableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.attr('disabled', 'disabled');\n      $applyControl.addClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      var xpath = self.returnObject.properties.xpath;\n      self.options.onClear([xpath]);\n      self._setDisplayNameToDefault();\n      self._resetValue();\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n    /**\r\n        *\r\n        * @param data\r\n        */\n    setData: function setData(data) {\n      var self = this;\n\n      self.options.data = Object.getOwnPropertyNames(data).length === 0 ? self.options.data : data;\n    },\n\n    /**\r\n        *\r\n        */\n    destroy: function destroy() {\n      $(this.element).contextMenu(\"destroy\");\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/**\r\n*   Name: BizAgi Workportal Desktop Async Widget Controller\r\n*   Author: Edward Morales\r\n*   Comments:\r\n*   -   This script will define a asyncronous activities\r\n*/\n\n// Auto extend\nbizagi.workportal.widgets.async.extend(\"bizagi.workportal.widgets.async\", {}, {\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"async\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.async\"),\n      useNewEngine: false });\n\n  },\n\n  /**\r\n     *   To be overriden in each device to apply layouts\r\n     */\n  postRender: function postRender() {\n    var self = this;\n    var content = self.getContent();\n\n    // Bind inbox click link\n    $(\".ui-bizagi-wp-async-goToInbox a\", content).click(function () {\n      self.publish(\"changeWidget\", {\n        widgetName: bizagi.workportal.currentInboxView });\n\n    });\n  } });"]}