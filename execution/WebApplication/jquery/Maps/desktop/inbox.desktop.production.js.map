{"version":3,"sources":["jquery/common/base/js/lib/purify.min.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.listCases.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.inbox.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.inboxGrid.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.quickActions.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.quickActionsExecute.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.collapsible.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.checkboxGroup.js","jquery/common/bizagi.pagination/js/jquery.bizagi.pagination.js","jquery/workportal/js/plugins/jquery.bizagi.pagination.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.inboxes.decorator.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.inbox.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.inboxGrid.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.integration.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.folders.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.smartfolders.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.folders.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.smartfolders.js","jquery/workportal/js/desktop/widget/bizagi.workportal.results.per.page.js","jquery/workportal/desktop/widget/project.caseState/cancelCase/bizagi.workportal.desktop.widgets.project.cancelCase.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","$","fn","bizagiPagination","options","opt","limInf","totalPages","actualPage","listElement","first","firstClass","prev","prevClass","next","nextClass","last","lastClass","liClass","arrowClass","selectedFocus","clickCallBack","extend","pagination","previousPage","Math","max","parseInt","nextPage","displaceElements","firstElementValue","increment","pageData","each","this","data","find","html","attr","hasClass","removeClass","addClass","length","parent","css","disableFirst","disableLast","totalElements","prepend","append","click","page","trim","self","bindElements","halfDisplace","round","init","jQuery","e","t","DOMPurify","hasOwnProperty","setPrototypeOf","n","isFrozen","r","keys","o","freeze","i","seal","a","Reflect","l","apply","c","construct","Function","bind","concat","Array","isArray","from","s","S","forEach","u","indexOf","d","join","f","pop","p","push","m","slice","y","String","toLowerCase","g","match","h","replace","v","b","T","RegExp","test","A","k","x","TypeError","arguments","L","_","E","M","D","R","N","O","w","H","C","F","z","I","U","j","P","G","W","B","q","window","K","createPolicy","currentScript","hasAttribute","getAttribute","createHTML","console","warn","version","removed","document","nodeType","isSupported","DocumentFragment","HTMLTemplateElement","Node","V","NodeFilter","Y","NamedNodeMap","X","MozNamedAttrMap","Text","J","Comment","Q","DOMParser","Z","trustedTypes","ee","createElement","content","ownerDocument","te","ne","re","oe","implementation","ie","createNodeIterator","ae","getElementsByTagName","le","createDocumentFragment","ce","importNode","se","createHTMLDocument","documentMode","ue","de","fe","pe","me","ye","ge","he","ve","be","Te","Ae","xe","Se","ke","Le","_e","Ee","Me","De","Re","Ne","Oe","we","He","Ce","Fe","ze","Ie","Ue","je","Pe","Ge","We","Be","qe","Ke","ALLOWED_TAGS","ALLOWED_ATTR","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","FORBID_TAGS","FORBID_ATTR","USE_PROFILES","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","RETURN_TRUSTED_TYPE","FORCE_BODY","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","ALLOWED_URI_REGEXP","svg","svgFilters","mathMl","ADD_TAGS","ADD_ATTR","table","tbody","Ve","element","parentNode","removeChild","outerHTML","Ye","attribute","getAttributeNode","removeAttribute","Xe","parseFromString","documentElement","body","firstElementChild","insertBefore","createTextNode","childNodes","call","querySelector","innerHTML","$e","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","FILTER_ACCEPT","Je","nodeName","textContent","attributes","setAttribute","namespaceURI","Qe","Ze","et","tagName","allowedTags","querySelectorAll","insertAdjacentHTML","cloneNode","tt","nt","attrName","attrValue","keepAttr","allowedAttributes","name","forceKeepAttr","id","setAttributeNS","rt","nextNode","sanitize","toString","toStaticHTML","appendChild","firstChild","setConfig","clearConfig","isValidAttribute","addHook","removeHook","removeHooks","removeAllHooks","Class","inboxInstance","_addDecorators","internalService","_showSmartInboxMenu","event","stopPropagation","srcElement","closest","tmpl","smartInboxTemplate","settingName","settingname","owner","smartInboxId","smartinboxid","position","my","at","of","action","parameters","actionName","_editSmartInbox","_deleteSmartInbox","_shareSmartInbox","on","empty","publish","selectedInboxData","modalParameters","title","bizagi","localization","getResource","width","showCloseButton","refreshInbox","showBackButton","closeVisible","widgetName","workportal","widgets","widget","BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX","buttons","dialog","maximize","modal","text","when","dataService","deleteSmartInbox","done","storeWidget","grid","BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID","homeportal","BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL","isFunction","cookie","shareMode","height","renderSummary","smartfoldersParameters","taskState","params","onlyFavorites","urlParameters","getFullInboxSummary","response","updateSummary","summary","inboxSummary","resizeLayout","undefined","selectedSmartInboxId","changeTaskState","processes","smartInbox","storedQueries","configureSmartInbox","getContent","off","configureViewControl","eyeIcon","eyeIconParent","desktop","popup","closePopupInstance","popupOpened","currentPopup","workportalFacade","sourceElement","offset","arrowPosition","left","template","getTemplate","render","closed","then","popupContent","BIZAGI_WORKPORTAL_WIDGET_INBOX","restoreStatus","close","All","Red","Green","Yellow","taskStateTo","changeTaskStateDebounce","cancel","util","debounce2","fire","processesContainer","_prepareServiceParameters","processesService","isEmpty","getAllProcesses","smartInboxService","getAllSmartInbox","smartinboxes","_sortInboxItems","hasSmartInboxPermission","menuSecurity","SmartInbox","_prepareDataForRendering","processesContent","processesTemplate","isEnableFeature","hide","appendTo","_configureSortableForInboxes","categories","_renderStoredQueries","_onInboxItemClick","_onFavoritesItemClick","_onCategoryItemClick","proxy","_onClickPinOrUnpinProcess","_restoreDefaultInbox","bizagiScrollbar","changeProcess","_addFilteredItems","_addPinnedItems","_addAllCasesItem","smartInboxEnable","allCases","inboxType","filters","getSmartFiltersFromStorage","filtered","pinned","preferences","services","getPreferences","category","workflows","item","defaultOpenInboxWorkflowId","idworkflow","defaultOpenInboxSmartInboxId","previewTaskState","referrerParams","openLiveFilterDialog","workflowId","idWorkflow","smartInboxGuid","model","_createLiveFilterModel","filterWidget","smartinbox","filter","setCustomizedColumns","liveFilterColumns","$container","filterContent","setModel","minimize","class","_onLiveFilterDialogApply","remove","isRTL","siblings","type","modelStorage","getItemLocalStorage","serialize","JSON","parse","trigger","count","setSmartFiltersToStorage","stringify","setItemLocalStorage","encode","assign","isValidFilter","smartFilter","customizedColumnsAvailable","column","any","fieldFilterName","injectFilter","smartInboxModel","container","arrayMessagesErrors","validateFilterForSave","getModel","applyLiveFilters","ind","elem","notifier","showErrorMessage","encodeLiveFilter","serializeFilter","encoded","CryptoJS","enc","Utf8","Base64","decodeLiveFilter","unserializeFilter","decoded","jsonFilter","liveFilters","processHeaderLiveFilters","map","columnTitle","fieldName","displayName","field","fieldFilterDataType","entity","entityGuid","sortable","cursor","items","handle","start","ui","index","update","target","toIndex","fromIndex","Number","removeAttr","changeInboxOrder","json","inboxItemsOrder","orderedItems","notOrderedItems","grep","guidCategory","storedQueriesService","getStoredQueryFormList","storedQueryForm","storedQueryForms","getWidget","pipe","result","el","process","currentTarget","originalEvent","val","inboxName","elmnt","idObject","favoriteType","addFavorite","favoritesData","updateCountProcess","delFavorite","arrow","is","show","inbox","RESTORE_FROM_BACK_BUTTON","parents","_pinProcessByContainerPin","_unpinProcessByContainerPin","setDefaultInboxInUserPreferences","modifiedJSON","overridePreferences","smartinboxId","to","ids","fromItem","splice","getWidgetName","renderContent","enableFolders","override","enableFolder","enableSmartFolders","currentInboxView","renderSummaryForm","def","Deferred","proxyPrefix","serviceLocator","loader","rendering","facade","execute","canvas","summaryForm","idCase","renderingFacade","setTimeout","ready","resolve","promise","routingExecute","idWorkItem","idTask","eventAsTasks","actions","BIZAGI_WORKPORTAL_ACTION_ROUTING","BIZAGI_WORKPORTAL_WIDGET_LISTCASES","setTableHeadFixed","TableElement","floatThead","floatOptions","groupByCaseNumber","isIE","_startQuickActions","_QActionsStared","quickActionsInstance","_params","getContainerSelector","getQuickActionContainerSelector","checkAllSelector","getQuickActionCheckAllContainerSelector","refreshShowedResults","updateResults","quickActions","tryCatch","changeProcessOptions","_QuickActionsRenderIn","parentTemplate","workItemsInfo","_QActionsContainer","setDataToExecute","renderIn","renderCheckboxGroup","_getWorkItemsInfo","headers","rows","_finalWorkItems","indexWorkItems","_getIndexFromTableColumn","indexCaseNumber","_rowInfo","fields","_rowWorkItems","workitems","_workItem","caseNumber","columnName","findIndex","toUpperCase","showCase","caseSummaryContainer","cache","htmlContent","summaryCaseDetails","adhocProcessId","isAdhoc","isAdhocProcess","idAdhocProcess","hasComments","security","command","graphicQuery","checkSecurityPerm","enableFeatureShowTimelineButton","enableTimelineByProcessType","isAvailableTimelineByProcessType","currentState","state","processPath","renderedTemplate","caseSummaryTemplate","callTaskDescription","formatInvariantDate","delegate","caseSummaryDialog","tabs","active","create","activate","newPanel","comments","readOnly","renderComments","setContext","commentsFocus","isPropagationStopped","oldrenderevent","eventMethod","addEventListener","eventer","getWorkitems","onlyUserWorkItems","workItems","idWorkitem","url","getUrl","iframeOldRender","getCaseFormsRenderVersion","formsVersion","formsRenderVersion","summarySubProcess","subprocess","caseSummaryTemplateSubprocess","summaryAssigness","preview","assignees","eventsUniqueList","events","split","inArray","caseSummaryTemplateAssigness","summaryCaseEvents","caseSummaryTemplateEvents","button","showTimeLine","radNumber","showGraphicQuery","idProcess","_getIdCase","draggable","resizable","workItemId","_parent","taskDescriptionParams","classNeedsModal","task","description","renderManyTasksDescription","listCases","liveFiltersEnable","module","selector","BIZAGI_WORKPORTAL_WIDGET_INTEGRATION","postRender","clean","_super","SET_CHANGE_PROCESS_REFERRER_PARAMS","newValue","haveProcessOptions","found","_gotoDefaultInbox","goToAllCases","_openFirstWorkflowOrSmartInbox","liElementSelected","inboxes","decorator","icoTaskState","adhocCases","loadTemplates","inbox-cases","inbox-cases-list","inbox-cases-personalized-list","inbox-common-processes","inbox-common-smartinbox","inbox-common-noresults","inbox-common-header-view","inbox-common-case-summary","inbox-common-case-summary-form","inbox-common-case-summary-subprocess","inbox-common-case-summary-assignees","inbox-common-case-summary-events","inbox-common-case-summary-oldrender","useNewEngine","inboxWidget","casesTemplate","casesTemplateList","caseSummaryTemplateForm","noResults","paginationTemplate","configureSmartFolders","comboRowsPerPage","results","per","bizagiConfig","inboxRowsPerPage","renderNumberRowsCombo","initCombo","$elm","comboDataSource","combo","comboWrapper","onChange","setRowValue","getRowValue","storedValue","inboxItemsPerPage","BIZAGI_WORKPORTAL_WIDGET_SMARTFOLDERS","modalClass","max-height","activeScroll","foldersView","setFiltersOnChangeProcess","res","orderFieldName","orderType","order","casesContainer","pageSelector","descContainer","nElemToShow","storedFilter","updateCallBack","workflowName","showErrorAlertDialog","customizedColumnsParams","eval","pageSize","getCasesByWorkflow","lstIdCases","hasLiveFilters","isFiltered","createLiveFilterButtonSet","authorized","createNewCasesButtonSet","processName","pages","totPages","pageToshow","pageNumber","paginationHtml","replaceLineBreak","string","search","replaceAll","formatMonetaryCell","formatMoney","BIZAGI_DEFAULT_CURRENCY_INFO","formatDecimalCell","decimalFormat","externalDecimalFormat","decimalSymbol","decimalSeparator","digitGroupSymbol","groupSeparator","roundToDecimalPlace","decimalDigits","colorize","groupDigits","negativeFormat","positiveFormat","symbol","formatDecimal","formatBoolean","parseBoolean","cAse","children","changeCase","BIZAGI_WORKPORTAL_WIDGET_FOLDERS","onlyFolderMode","favoriteOptions","cloneStoredFilter","clone","fail","error","message","errorTemplate","responseText","errorHtml","contextualized","performResizeLayout","activitiesUniqueList","activities","referrer","autohide","casesPagination","listContainer","resize","forceResize","assigned","key2","value2","iframe","queryString","readQueryString","load","contents","cssLocation","browser","mozilla","webkit","inboxGrid","SELECTOR_QUICK_ACTIONS_CONTAINER","adhocIds","injector","get","templatesLoaded","inbox-grid","inbox-grid-rubik","inbox-grid-cases","setPersistCheckboxGroup","_ref","procContainer","group","getCustomizedColumnsData","_retryRequest","cases","_refererChangeProcess","caseId","processId","TaskName","State","pdata","formatDecimalAndMoneyCell","timeLine","haveQuickActions","enableSmartFilter","showMagicButton","enableAdhocProcess","setFormat","formatValue","formatCategories","isDate","getRadNumberColumnIndex","showColumn","columnIndex","createGroupedHeader","rowIndex","getRadNumber","row","isIEAndFirstRowAndGroupCases","isIE9","expr","tbhtml","ShowTimeInInboxDates","maxElemShow","tooltip","preventDefault","isfiltered","operator","queryTableElement","zIndex","scrollContainer","formatRequest","dispose","getEventListener","folders","folders-elements","folders-empty-elements","folders-query-tree","folders-query-confirm","folders-default","folders-input-new","folders-add-case","folders-elements-node","folders-query-edit","smartfolders","smartfolders-elements","smartfolders-empty-elements","smartfolders-query-confirm","smartfolders-default","smartfolders-add-case","smartfolders-elements-node","smartfolders-query-tree","smartfolders-query-edit","smartfolders-input-new","configureTreeNavigation","configureBackButton","renderFolders","scrollVertical","renderDefaultFolders","appendElement","queryContent","mergeData","emptyTemplate","mergeNewFolder","getFolders","idParent","childs","categoryWithLink","countChilds","configureNavTree","queriesContainer","confirm","headerTemplate","categoryTree","queriesListDisplay","idParentQuery","queryDisplayName","makeFolder","listElements","getCasesByFolder","customized","casesGroupedByFolder","idFolder","BIZAGI_WORKPORTAL_WIDGET_SEARCH","beforeElement","style","idParentDone","editFolder","idCustomFolder","deleteFolder","ico","associateCaseToFolder","btnBack","nodeTemplate","newElement","insertAfter","focus","folderName","checkRepeatFolderName","idParentFolder","keyCode","args","folderNameAvailable","not","replaceWith","updateFolder","nextAll","showQueryFormPopup","arg","idQuery","idStoredQuery","queryFormAction","BIZAGI_WORKPORTAL_WIDGET_QUERYFORM","idQueryForm","getSmartFolders","widgetRedirect","viewSmartFoldersAsSearch","idSmartFolder","deleteSmartFolder","idUser","currentUser","endPoint","BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME","widgetURL","bizagiConfigProperty","values","sort","_findValue","finding","initialValueCombo","initValueCombo","preferencesItemsPerPage","defaultValue","deferred","lastValue","uicombo","isEditable","itemValue","itemText","onComplete","initValue","CLASS_ACTIVE_MORE_BUTTON","SELECTOR_NUMBER_SELECTED","SELECTOR_BUTTONS_CONTAINER","SELECTOR_BUTTON_LAUNCH","SELECTOR_SUMMARY_EXECUTED_ACTIONS","SELECTOR_HIDDEN_BUTTON_LAUNCH","SELECTOR_MORE_BUTTON","SELECTOR_HIDDEN_BUTTONS_CONTAINER","SELECTOR_INBOX_GRID_TITLE","DATA_PROPERTIES","TOTAL_SELECTED","SHOW","BUTTONS","BUTTONS_TO_SHOW","BUTTONS_HIDDEN","WIDTH_BUTTONS_CONTAINER","SHOW_MORE_BUTTON","SHOW_HIDDEN_BUTTONS","callback","callbackCheckboxGroup","checkboxGroup","quick-actions-container","quick-actions-button","quick-actions-modal-confirm","quick-actions-more-button","quick-actions-button-hidden","_setInitialData","_template","_events","_updateView","persistCheckboxGroup","itemsInfo","setAvailableButtons","itemsSelected","getChecked","_updateButtonsToShow","_setItemsSelected","_buttonsToShow","getButtonsToShow","_showCurrentButtons","_buttons","_labels","quickActionsPerName","_label","_buttonQuickActions","_shouldShowButton","buttonQuickActions","_showButton","_compareFunction","qa","_idWorkItem","_idTask","some","itemsToShow","_newButtons","_addButtons","context","_idWorkItemsToShow","_filterItemsToShowCheckbox","_workItems","idTasksWithQuickActions","label","addItemToShowCheckbox","_renderButton","hidden","_templeateToUse","_renderMoreButton","unsubscribe","_clickOnAction","_clickOnMore","subscribe","_adjustButtonsWidth","_prop","_title","_num","_getNumberOfSelected","_textToShow","getResourceByElementsNumber","_message","numberActivities","_modalParams","_buildParamsForModalConfirm","_buttonClicked","_setProperty","showConfirmationBox","setInitialDataForModal","showResultDialog","_data","_buttonActions","_itemInfo","_quickAction","_newTask","taskId","activityName","icon","quickActionGuid","guid","ruleGuid","guidRule","itemIsChecked","selected","titleModal","dialogClass","_showHidden","_getProperty","prop","setOnly","_setOnly","_changed","_valToReturn","_cloneWith","_updateViewSelected","_element","_eContainer","_eFirstButton","_buttons_all","_buttons_shown","_buttons_hidden","_container_width","_newContainer_width","outerWidth","_resized","_isOverLapped","outerHeight","_existsButtonsShown","_lastButtonShown","_buttonsShown_exceptLast","_newButtonsHidden","_updateViewButtons","_buttonsShown","_buttonsHidden","_moreButton","_containerToShow","_containerToHide","_newButton","_updateViewMoreButton","_show","_isActive","toggleClass","_updateViewContainer","_inboxGridTitle","_updateViewHiddenButtons","num","_selectedVal","_showVal","instanceQuickActionsExecute","triggerHandler","BIZAGI_WORKPORTAL_WIDGET_QUICKACTIONS_EXECUTE","maximizeOnly","showStopConfirmModal","closeOnEscape","onClose","getRenderWidget","instance","registerDialog","prependTo","SELECTOR_BUTTON_STOP_ALL","SELECTOR_BUTTON_CLOSE","SELECTOR_ONE_RESULT","TYPE_ROW_DEFAULT","TYPE_ROW_ONLY_DEFAULT_TEXT","TYPE_ROW_ONLY_ERROR_TEXT","ACTIVITIES","END_ALL_REQUESTS","STOP_BY_USER","NUMBER_EXECUTED_ACTIONS","DIALOG","RESULT_SUCCESS","RESULT_EXECUTED","RESULT_WARNING","RESULT_ERROR","quickActions-execute","quick-actions-stop-all-modal-confirm","summaryText","_getSummaryText","requesterService","quickActionsRequester","_processResponseOfExecuteQuickActions","startAllRequests","_showDefaultWarningMessageBrowser","_configureHandlers","_updateViewSummaryExecutionActions","_activities","_numberExecutedActions","_onClickFilterButton","_target","correspondingUseElement","$button","filterBy","_showFilterResults","_completeText","_noResultsText","_elementsToShow","dataResponse","_disableBtnStopAll","itemToShow","_addRowToResultsWithType","activityToAdd","activity","paramsRequest","details","status","statusAndDataResponseToShow","_getStatusByBackResponse","backResponse","_setResultToActionRequest","numberSkipActions","_hideBtnStopAllAndShowClose","_manageExecuteModalCloseButton","stopAllRequests","paramsItem","paramsToCreateItem","itemInstance","collapsible","getView","itemContent","_changeProperties","setStatus","setIcon","setDescription","_status","_description","tag","messages","statusText","_getFinalDataResponse","_getIcon","dialogBox","SELECTOR_TITLE","SELECTOR_SUBTITLE","SELECTOR_STATUS","SELECTOR_ICON","SELECTOR_DESCRIPTION","SELECTOR_ARROW","SELECTOR_COLLAPSIBLE_LINK","SELECTOR_COLLAPSIBLE_DESCRIPTION","SELECTOR_COLLAPSIBLE_ITEM","RESULT_IN_PROCESS","TYPE_ROW","ID","TITLE","SUBTITLE","STATUS","ICON","DESCRIPTION","quick-actions-items","quick-actions-item-only-default-text","quick-actions-item-only-error-text","rendered","slideToggle","_changeArrow","add","_setId","_text","_selectorStatus","_selectorArrow","newIcon","_selectorIcon","newDescription","_updateViewAll","_subtitle","_icon","_selectorTitle","_selectorSubtitle","_selectorDescription","_defer","CHECKBOX_CLASS","CHECKBOX_CHECKED_CLASS","CHECK_ALL","quick-actions-checkbox","_CHECK_ALL_CHECKBOX_CONTAINER","_CHECK_ALL_CHECKBOX","_getContainerSelector","_onItemsCheckedChange","checkedItems","_checkboxTemplate","checkboxContent","persistCheckbox","_items","_context","_renderCheckbox","_configureCheckAllCheckbox","loadStoredItems","stillChecked","substr","_refreshCheckAllCheckbox","clearCheckedItems","_toggleCheckAllCheckbox","_containerSelector","_checkboxSelector","_content","_updateCheckedItems","_addDataToCheckbox","checkbox","_getDataFormCheckbox","_itemWasChecked","_removeItemChecked","_addItemChecked","_newCheckedAll","_getNumberOfItemsChecked","checkAllNewValue","_checkAll","_newCheckAll","_refreshAllCheckboxes","checkAll","_checkboxNotPrincipal","_updateViewCheckAll","_checked","project-cancel-case-wrapper","project-cancel-case-wrapper-error","defineButtons","cancelCaseRequest","reason","$loader","cancelCase","deleted","showSucessMessage","goToBack","showToastError","environment","message_error","log","showTextIsRequired","register","project"],"mappings":"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","sourcesContent":["function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */\n!function (e, t) {/*\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):*/(e = e || self).DOMPurify = t();}(this, function () {\"use strict\";var e = Object.hasOwnProperty,t = Object.setPrototypeOf,n = Object.isFrozen,r = Object.keys,o = Object.freeze,i = Object.seal,a = \"undefined\" != typeof Reflect && Reflect,l = a.apply,c = a.construct;l || (l = function l(e, t, n) {return e.apply(t, n);}), o || (o = function o(e) {return e;}), i || (i = function i(e) {return e;}), c || (c = function c(e, t) {return new (Function.prototype.bind.apply(e, [null].concat(function (e) {if (Array.isArray(e)) {for (var t = 0, n = Array(e.length); t < e.length; t++) {n[t] = e[t];}return n;}return Array.from(e);}(t))))();});var s = S(Array.prototype.forEach),u = S(Array.prototype.indexOf),d = S(Array.prototype.join),f = S(Array.prototype.pop),p = S(Array.prototype.push),m = S(Array.prototype.slice),y = S(String.prototype.toLowerCase),g = S(String.prototype.match),h = S(String.prototype.replace),v = S(String.prototype.indexOf),b = S(String.prototype.trim),T = S(RegExp.prototype.test),A = k(RegExp),x = k(TypeError);function S(e) {return function (t) {for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) {r[o - 1] = arguments[o];}return l(e, t, r);};}function k(e) {return function () {for (var t = arguments.length, n = Array(t), r = 0; r < t; r++) {n[r] = arguments[r];}return c(e, n);};}function L(e, r) {t && t(e, null);for (var o = r.length; o--;) {var i = r[o];if (\"string\" == typeof i) {var a = y(i);a !== i && (n(r) || (r[o] = a), i = a);}e[i] = !0;}return e;}function _(t) {var n = {},r = void 0;for (r in t) {l(e, t, [r]) && (n[r] = t[r]);}return n;}var E = o([\"a\", \"abbr\", \"acronym\", \"address\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"bdi\", \"bdo\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"content\", \"data\", \"datalist\", \"dd\", \"decorator\", \"del\", \"details\", \"dfn\", \"dir\", \"div\", \"dl\", \"dt\", \"element\", \"em\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"img\", \"input\", \"ins\", \"kbd\", \"label\", \"legend\", \"li\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meter\", \"nav\", \"nobr\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"picture\", \"pre\", \"progress\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"section\", \"select\", \"shadow\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\"]),M = o([\"svg\", \"a\", \"altglyph\", \"altglyphdef\", \"altglyphitem\", \"animatecolor\", \"animatemotion\", \"animatetransform\", \"audio\", \"canvas\", \"circle\", \"clippath\", \"defs\", \"desc\", \"ellipse\", \"filter\", \"font\", \"g\", \"glyph\", \"glyphref\", \"hkern\", \"image\", \"line\", \"lineargradient\", \"marker\", \"mask\", \"metadata\", \"mpath\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialgradient\", \"rect\", \"stop\", \"style\", \"switch\", \"symbol\", \"text\", \"textpath\", \"title\", \"tref\", \"tspan\", \"video\", \"view\", \"vkern\"]),D = o([\"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\"]),R = o([\"math\", \"menclose\", \"merror\", \"mfenced\", \"mfrac\", \"mglyph\", \"mi\", \"mlabeledtr\", \"mmultiscripts\", \"mn\", \"mo\", \"mover\", \"mpadded\", \"mphantom\", \"mroot\", \"mrow\", \"ms\", \"mspace\", \"msqrt\", \"mstyle\", \"msub\", \"msup\", \"msubsup\", \"mtable\", \"mtd\", \"mtext\", \"mtr\", \"munder\", \"munderover\"]),N = o([\"#text\"]),O = o([\"accept\", \"action\", \"align\", \"alt\", \"autocapitalize\", \"autocomplete\", \"autopictureinpicture\", \"autoplay\", \"background\", \"bgcolor\", \"border\", \"capture\", \"cellpadding\", \"cellspacing\", \"checked\", \"cite\", \"class\", \"clear\", \"color\", \"cols\", \"colspan\", \"controls\", \"controlslist\", \"coords\", \"crossorigin\", \"datetime\", \"decoding\", \"default\", \"dir\", \"disabled\", \"disablepictureinpicture\", \"disableremoteplayback\", \"download\", \"draggable\", \"enctype\", \"enterkeyhint\", \"face\", \"for\", \"headers\", \"height\", \"hidden\", \"high\", \"href\", \"hreflang\", \"id\", \"inputmode\", \"integrity\", \"ismap\", \"kind\", \"label\", \"lang\", \"list\", \"loading\", \"loop\", \"low\", \"max\", \"maxlength\", \"media\", \"method\", \"min\", \"minlength\", \"multiple\", \"muted\", \"name\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"optimum\", \"pattern\", \"placeholder\", \"playsinline\", \"poster\", \"preload\", \"pubdate\", \"radiogroup\", \"readonly\", \"rel\", \"required\", \"rev\", \"reversed\", \"role\", \"rows\", \"rowspan\", \"spellcheck\", \"scope\", \"selected\", \"shape\", \"size\", \"sizes\", \"span\", \"srclang\", \"start\", \"src\", \"srcset\", \"step\", \"style\", \"summary\", \"tabindex\", \"title\", \"translate\", \"type\", \"usemap\", \"valign\", \"value\", \"width\", \"xmlns\"]),w = o([\"accent-height\", \"accumulate\", \"additive\", \"alignment-baseline\", \"ascent\", \"attributename\", \"attributetype\", \"azimuth\", \"basefrequency\", \"baseline-shift\", \"begin\", \"bias\", \"by\", \"class\", \"clip\", \"clip-path\", \"clip-rule\", \"color\", \"color-interpolation\", \"color-interpolation-filters\", \"color-profile\", \"color-rendering\", \"cx\", \"cy\", \"d\", \"dx\", \"dy\", \"diffuseconstant\", \"direction\", \"display\", \"divisor\", \"dur\", \"edgemode\", \"elevation\", \"end\", \"fill\", \"fill-opacity\", \"fill-rule\", \"filter\", \"filterunits\", \"flood-color\", \"flood-opacity\", \"font-family\", \"font-size\", \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-variant\", \"font-weight\", \"fx\", \"fy\", \"g1\", \"g2\", \"glyph-name\", \"glyphref\", \"gradientunits\", \"gradienttransform\", \"height\", \"href\", \"id\", \"image-rendering\", \"in\", \"in2\", \"k\", \"k1\", \"k2\", \"k3\", \"k4\", \"kerning\", \"keypoints\", \"keysplines\", \"keytimes\", \"lang\", \"lengthadjust\", \"letter-spacing\", \"kernelmatrix\", \"kernelunitlength\", \"lighting-color\", \"local\", \"marker-end\", \"marker-mid\", \"marker-start\", \"markerheight\", \"markerunits\", \"markerwidth\", \"maskcontentunits\", \"maskunits\", \"max\", \"mask\", \"media\", \"method\", \"mode\", \"min\", \"name\", \"numoctaves\", \"offset\", \"operator\", \"opacity\", \"order\", \"orient\", \"orientation\", \"origin\", \"overflow\", \"paint-order\", \"path\", \"pathlength\", \"patterncontentunits\", \"patterntransform\", \"patternunits\", \"points\", \"preservealpha\", \"preserveaspectratio\", \"primitiveunits\", \"r\", \"rx\", \"ry\", \"radius\", \"refx\", \"refy\", \"repeatcount\", \"repeatdur\", \"restart\", \"result\", \"rotate\", \"scale\", \"seed\", \"shape-rendering\", \"specularconstant\", \"specularexponent\", \"spreadmethod\", \"startoffset\", \"stddeviation\", \"stitchtiles\", \"stop-color\", \"stop-opacity\", \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\", \"stroke-miterlimit\", \"stroke-opacity\", \"stroke\", \"stroke-width\", \"style\", \"surfacescale\", \"tabindex\", \"targetx\", \"targety\", \"transform\", \"text-anchor\", \"text-decoration\", \"text-rendering\", \"textlength\", \"type\", \"u1\", \"u2\", \"unicode\", \"values\", \"viewbox\", \"visibility\", \"version\", \"vert-adv-y\", \"vert-origin-x\", \"vert-origin-y\", \"width\", \"word-spacing\", \"wrap\", \"writing-mode\", \"xchannelselector\", \"ychannelselector\", \"x\", \"x1\", \"x2\", \"xmlns\", \"y\", \"y1\", \"y2\", \"z\", \"zoomandpan\"]),H = o([\"accent\", \"accentunder\", \"align\", \"bevelled\", \"close\", \"columnsalign\", \"columnlines\", \"columnspan\", \"denomalign\", \"depth\", \"dir\", \"display\", \"displaystyle\", \"encoding\", \"fence\", \"frame\", \"height\", \"href\", \"id\", \"largeop\", \"length\", \"linethickness\", \"lspace\", \"lquote\", \"mathbackground\", \"mathcolor\", \"mathsize\", \"mathvariant\", \"maxsize\", \"minsize\", \"movablelimits\", \"notation\", \"numalign\", \"open\", \"rowalign\", \"rowlines\", \"rowspacing\", \"rowspan\", \"rspace\", \"rquote\", \"scriptlevel\", \"scriptminsize\", \"scriptsizemultiplier\", \"selection\", \"separator\", \"separators\", \"stretchy\", \"subscriptshift\", \"supscriptshift\", \"symmetric\", \"voffset\", \"width\", \"xmlns\"]),C = o([\"xlink:href\", \"xml:id\", \"xlink:title\", \"xml:space\", \"xmlns:xlink\"]),F = i(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm),z = i(/<%[\\s\\S]*|[\\s\\S]*%>/gm),I = i(/^data-[\\-\\w.\\u00B7-\\uFFFF]/),U = i(/^aria-[\\-\\w]+$/),j = i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),P = i(/^(?:\\w+script|data):/i),G = i(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g),W = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (e) {return _typeof(e);} : function (e) {return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : _typeof(e);};function B(e) {if (Array.isArray(e)) {for (var t = 0, n = Array(e.length); t < e.length; t++) {n[t] = e[t];}return n;}return Array.from(e);}var q = function q() {return \"undefined\" == typeof window ? null : window;},K = function K(e, t) {if (\"object\" !== (void 0 === e ? \"undefined\" : W(e)) || \"function\" != typeof e.createPolicy) return null;var n = null;t.currentScript && t.currentScript.hasAttribute(\"data-tt-policy-suffix\") && (n = t.currentScript.getAttribute(\"data-tt-policy-suffix\"));var r = \"dompurify\" + (n ? \"#\" + n : \"\");try {return e.createPolicy(r, { createHTML: function createHTML(e) {return e;} });} catch (e) {return console.warn(\"TrustedTypes policy \" + r + \" could not be created.\"), null;}};return function e() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : q(),n = function n(t) {return e(t);};if (n.version = \"2.0.11\", n.removed = [], !t || !t.document || 9 !== t.document.nodeType) return n.isSupported = !1, n;var i = t.document,a = !1,l = t.document,c = t.DocumentFragment,S = t.HTMLTemplateElement,k = t.Node,V = t.NodeFilter,Y = t.NamedNodeMap,X = void 0 === Y ? t.NamedNodeMap || t.MozNamedAttrMap : Y,$ = t.Text,J = t.Comment,Q = t.DOMParser,Z = t.trustedTypes;if (\"function\" == typeof S) {var ee = l.createElement(\"template\");ee.content && ee.content.ownerDocument && (l = ee.content.ownerDocument);}var te = K(Z, i),ne = te ? te.createHTML(\"\") : \"\",re = l,oe = re.implementation,ie = re.createNodeIterator,ae = re.getElementsByTagName,le = re.createDocumentFragment,ce = i.importNode,se = {};n.isSupported = oe && void 0 !== oe.createHTMLDocument && 9 !== l.documentMode;var ue = F,de = z,fe = I,pe = U,me = P,ye = G,ge = j,he = null,ve = L({}, [].concat(B(E), B(M), B(D), B(R), B(N))),be = null,Te = L({}, [].concat(B(O), B(w), B(H), B(C))),Ae = null,xe = null,Se = !0,ke = !0,Le = !1,_e = !1,Ee = !1,Me = !1,De = !1,Re = !1,Ne = !1,Oe = !1,we = !1,He = !1,Ce = !0,Fe = !0,ze = !1,Ie = {},Ue = L({}, [\"annotation-xml\", \"audio\", \"colgroup\", \"desc\", \"foreignobject\", \"head\", \"iframe\", \"math\", \"mi\", \"mn\", \"mo\", \"ms\", \"mtext\", \"noembed\", \"noframes\", \"plaintext\", \"script\", \"style\", \"svg\", \"template\", \"thead\", \"title\", \"video\", \"xmp\"]),je = null,Pe = L({}, [\"audio\", \"video\", \"img\", \"source\", \"image\", \"track\"]),Ge = null,We = L({}, [\"alt\", \"class\", \"for\", \"id\", \"label\", \"name\", \"pattern\", \"placeholder\", \"summary\", \"title\", \"value\", \"style\", \"xmlns\"]),Be = null,qe = l.createElement(\"form\"),Ke = function Ke(e) {Be && Be === e || (e && \"object\" === (void 0 === e ? \"undefined\" : W(e)) || (e = {}), he = \"ALLOWED_TAGS\" in e ? L({}, e.ALLOWED_TAGS) : ve, be = \"ALLOWED_ATTR\" in e ? L({}, e.ALLOWED_ATTR) : Te, Ge = \"ADD_URI_SAFE_ATTR\" in e ? L(_(We), e.ADD_URI_SAFE_ATTR) : We, je = \"ADD_DATA_URI_TAGS\" in e ? L(_(Pe), e.ADD_DATA_URI_TAGS) : Pe, Ae = \"FORBID_TAGS\" in e ? L({}, e.FORBID_TAGS) : {}, xe = \"FORBID_ATTR\" in e ? L({}, e.FORBID_ATTR) : {}, Ie = \"USE_PROFILES\" in e && e.USE_PROFILES, Se = !1 !== e.ALLOW_ARIA_ATTR, ke = !1 !== e.ALLOW_DATA_ATTR, Le = e.ALLOW_UNKNOWN_PROTOCOLS || !1, _e = e.SAFE_FOR_JQUERY || !1, Ee = e.SAFE_FOR_TEMPLATES || !1, Me = e.WHOLE_DOCUMENT || !1, Ne = e.RETURN_DOM || !1, Oe = e.RETURN_DOM_FRAGMENT || !1, we = e.RETURN_DOM_IMPORT || !1, He = e.RETURN_TRUSTED_TYPE || !1, Re = e.FORCE_BODY || !1, Ce = !1 !== e.SANITIZE_DOM, Fe = !1 !== e.KEEP_CONTENT, ze = e.IN_PLACE || !1, ge = e.ALLOWED_URI_REGEXP || ge, Ee && (ke = !1), Oe && (Ne = !0), Ie && (he = L({}, [].concat(B(N))), be = [], !0 === Ie.html && (L(he, E), L(be, O)), !0 === Ie.svg && (L(he, M), L(be, w), L(be, C)), !0 === Ie.svgFilters && (L(he, D), L(be, w), L(be, C)), !0 === Ie.mathMl && (L(he, R), L(be, H), L(be, C))), e.ADD_TAGS && (he === ve && (he = _(he)), L(he, e.ADD_TAGS)), e.ADD_ATTR && (be === Te && (be = _(be)), L(be, e.ADD_ATTR)), e.ADD_URI_SAFE_ATTR && L(Ge, e.ADD_URI_SAFE_ATTR), Fe && (he[\"#text\"] = !0), Me && L(he, [\"html\", \"head\", \"body\"]), he.table && (L(he, [\"tbody\"]), delete Ae.tbody), o && o(e), Be = e);},Ve = function Ve(e) {p(n.removed, { element: e });try {e.parentNode.removeChild(e);} catch (t) {e.outerHTML = ne;}},Ye = function Ye(e, t) {try {p(n.removed, { attribute: t.getAttributeNode(e), from: t });} catch (e) {p(n.removed, { attribute: null, from: t });}t.removeAttribute(e);},Xe = function Xe(e) {var t = void 0,n = void 0;if (Re) e = \"<remove></remove>\" + e;else {var r = g(e, /^[\\r\\n\\t ]+/);n = r && r[0];}var o = te ? te.createHTML(e) : e;try {t = new Q().parseFromString(o, \"text/html\");} catch (e) {}if (a && L(Ae, [\"title\"]), !t || !t.documentElement) {var i = (t = oe.createHTMLDocument(\"\")).body;i.parentNode.removeChild(i.parentNode.firstElementChild), i.outerHTML = o;}return e && n && t.body.insertBefore(l.createTextNode(n), t.body.childNodes[0] || null), ae.call(t, Me ? \"html\" : \"body\")[0];};n.isSupported && function () {try {var e = Xe(\"<x/><title>&lt;/title&gt;&lt;img&gt;\");T(/<\\/title/, e.querySelector(\"title\").innerHTML) && (a = !0);} catch (e) {}}();var $e = function $e(e) {return ie.call(e.ownerDocument || e, e, V.SHOW_ELEMENT | V.SHOW_COMMENT | V.SHOW_TEXT, function () {return V.FILTER_ACCEPT;}, !1);},Je = function Je(e) {return !(e instanceof $ || e instanceof J) && !(\"string\" == typeof e.nodeName && \"string\" == typeof e.textContent && \"function\" == typeof e.removeChild && e.attributes instanceof X && \"function\" == typeof e.removeAttribute && \"function\" == typeof e.setAttribute && \"string\" == typeof e.namespaceURI);},Qe = function Qe(e) {return \"object\" === (void 0 === k ? \"undefined\" : W(k)) ? e instanceof k : e && \"object\" === (void 0 === e ? \"undefined\" : W(e)) && \"number\" == typeof e.nodeType && \"string\" == typeof e.nodeName;},Ze = function Ze(e, t, r) {se[e] && s(se[e], function (e) {e.call(n, t, r, Be);});},et = function et(e) {var t = void 0;if (Ze(\"beforeSanitizeElements\", e, null), Je(e)) return Ve(e), !0;var r = y(e.nodeName);if (Ze(\"uponSanitizeElement\", e, { tagName: r, allowedTags: he }), (\"svg\" === r || \"math\" === r) && 0 !== e.querySelectorAll(\"p, br\").length) return Ve(e), !0;if (!he[r] || Ae[r]) {if (Fe && !Ue[r] && \"function\" == typeof e.insertAdjacentHTML) try {var o = e.innerHTML;e.insertAdjacentHTML(\"AfterEnd\", te ? te.createHTML(o) : o);} catch (e) {}return Ve(e), !0;}return \"noscript\" === r && T(/<\\/noscript/i, e.innerHTML) || \"noembed\" === r && T(/<\\/noembed/i, e.innerHTML) ? (Ve(e), !0) : (!_e || e.firstElementChild || e.content && e.content.firstElementChild || !T(/</g, e.textContent) || (p(n.removed, { element: e.cloneNode() }), e.innerHTML ? e.innerHTML = h(e.innerHTML, /</g, \"&lt;\") : e.innerHTML = h(e.textContent, /</g, \"&lt;\")), Ee && 3 === e.nodeType && (t = e.textContent, t = h(t, ue, \" \"), t = h(t, de, \" \"), e.textContent !== t && (p(n.removed, { element: e.cloneNode() }), e.textContent = t)), Ze(\"afterSanitizeElements\", e, null), !1);},tt = function tt(e, t, n) {if (Ce && (\"id\" === t || \"name\" === t) && (n in l || n in qe)) return !1;if (ke && T(fe, t)) ;else if (Se && T(pe, t)) ;else {if (!be[t] || xe[t]) return !1;if (Ge[t]) ;else if (T(ge, h(n, ye, \"\"))) ;else if (\"src\" !== t && \"xlink:href\" !== t && \"href\" !== t || \"script\" === e || 0 !== v(n, \"data:\") || !je[e]) {if (Le && !T(me, h(n, ye, \"\"))) ;else if (n) return !1;} else ;}return !0;},nt = function nt(e) {var t = void 0,o = void 0,i = void 0,a = void 0,l = void 0;Ze(\"beforeSanitizeAttributes\", e, null);var c = e.attributes;if (c) {var s = { attrName: \"\", attrValue: \"\", keepAttr: !0, allowedAttributes: be };for (l = c.length; l--;) {var p = t = c[l],g = p.name,v = p.namespaceURI;if (o = b(t.value), i = y(g), s.attrName = i, s.attrValue = o, s.keepAttr = !0, s.forceKeepAttr = void 0, Ze(\"uponSanitizeAttribute\", e, s), o = s.attrValue, !s.forceKeepAttr) {if (\"name\" === i && \"IMG\" === e.nodeName && c.id) a = c.id, c = m(c, []), Ye(\"id\", e), Ye(g, e), u(c, a) > l && e.setAttribute(\"id\", a.value);else {if (\"INPUT\" === e.nodeName && \"type\" === i && \"file\" === o && s.keepAttr && (be[i] || !xe[i])) continue;\"id\" === g && e.setAttribute(g, \"\"), Ye(g, e);}if (s.keepAttr) if (_e && T(/\\/>/i, o)) Ye(g, e);else if (T(/svg|math/i, e.namespaceURI) && T(A(\"</(\" + d(r(Ue), \"|\") + \")\", \"i\"), o)) Ye(g, e);else {Ee && (o = h(o, ue, \" \"), o = h(o, de, \" \"));var x = e.nodeName.toLowerCase();if (tt(x, i, o)) try {v ? e.setAttributeNS(v, g, o) : e.setAttribute(g, o), f(n.removed);} catch (e) {}}}}Ze(\"afterSanitizeAttributes\", e, null);}},rt = function e(t) {var n = void 0,r = $e(t);for (Ze(\"beforeSanitizeShadowDOM\", t, null); n = r.nextNode();) {Ze(\"uponSanitizeShadowNode\", n, null), et(n) || (n.content instanceof c && e(n.content), nt(n));}Ze(\"afterSanitizeShadowDOM\", t, null);};return n.sanitize = function (e, r) {var o = void 0,a = void 0,l = void 0,s = void 0,u = void 0;if (e || (e = \"\\x3c!--\\x3e\"), \"string\" != typeof e && !Qe(e)) {if (\"function\" != typeof e.toString) throw x(\"toString is not a function\");if (\"string\" != typeof (e = e.toString())) throw x(\"dirty is not a string, aborting\");}if (!n.isSupported) {if (\"object\" === W(t.toStaticHTML) || \"function\" == typeof t.toStaticHTML) {if (\"string\" == typeof e) return t.toStaticHTML(e);if (Qe(e)) return t.toStaticHTML(e.outerHTML);}return e;}if (De || Ke(r), n.removed = [], \"string\" == typeof e && (ze = !1), ze) ;else if (e instanceof k) 1 === (a = (o = Xe(\"\\x3c!--\\x3e\")).ownerDocument.importNode(e, !0)).nodeType && \"BODY\" === a.nodeName || \"HTML\" === a.nodeName ? o = a : o.appendChild(a);else {if (!Ne && !Ee && !Me && He && -1 === e.indexOf(\"<\")) return te ? te.createHTML(e) : e;if (!(o = Xe(e))) return Ne ? null : ne;}o && Re && Ve(o.firstChild);for (var d = $e(ze ? e : o); l = d.nextNode();) {3 === l.nodeType && l === s || et(l) || (l.content instanceof c && rt(l.content), nt(l), s = l);}if (s = null, ze) return e;if (Ne) {if (Oe) for (u = le.call(o.ownerDocument); o.firstChild;) {u.appendChild(o.firstChild);} else u = o;return we && (u = ce.call(i, u, !0)), u;}var f = Me ? o.outerHTML : o.innerHTML;return Ee && (f = h(f, ue, \" \"), f = h(f, de, \" \")), te && He ? te.createHTML(f) : f;}, n.setConfig = function (e) {Ke(e), De = !0;}, n.clearConfig = function () {Be = null, De = !1;}, n.isValidAttribute = function (e, t, n) {Be || Ke({});var r = y(e),o = y(t);return tt(r, o, n);}, n.addHook = function (e, t) {\"function\" == typeof t && (se[e] = se[e] || [], p(se[e], t));}, n.removeHook = function (e) {se[e] && f(se[e]);}, n.removeHooks = function (e) {se[e] && (se[e] = []);}, n.removeAllHooks = function () {se = {};}, n;}();});","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name: BizAgi Desktop List Cases implementation\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: Kevin Alvarado\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Used for Search, Queries Result and InboxGrid Desktop\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Because they share show cases as list \r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.listCases\", {}, {\n  /*\r\n                                                                                     *   Returns the widget name\r\n                                                                                     */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_LISTCASES;\n  },\n\n  /**\r\n     * Set the table with the fixed thead\r\n     * @param {Json} params TableElement,groupByCaseNumber,floatOptions\r\n     */\n  setTableHeadFixed: function setTableHeadFixed(params) {\n    params.TableElement.floatThead(params.floatOptions);\n\n    if (params.groupByCaseNumber && bizagi.util.isIE()) {\n      params.TableElement.find(\"tbody > tr.ui-bizagi-wp-app-inbox-grouped-trtag-hide\").hide();\n    }\n  },\n  /**\r\n     * create a new instance and start to show the checkboxGroup for each activity\r\n     */\n  _startQuickActions: function _startQuickActions() {\n    var self = this,\n    _QActionsStared = self.quickActionsInstance !== undefined,\n    _params = {\n      getContainerSelector: self.getQuickActionContainerSelector.bind(self),\n      checkAllSelector: self.getQuickActionCheckAllContainerSelector(),\n      refreshShowedResults: self.updateResults.bind(self) };\n\n    if (!_QActionsStared)\n    self.quickActionsInstance = new bizagi.workportal.widgets.quickActions(self.workportalFacade, self.dataService, _params);\n  },\n\n  /**\r\n      * Refresh page results\r\n      */\n  updateResults: function updateResults() {\n    var self = this;\n    var _params = bizagi.util.tryCatch(function () {return bizagi.referrerParams.changeProcessOptions;}, {});\n    self.changeProcess(_params);\n  },\n\n  /**\r\n      * render quickActions in parentTemplate\r\n      * @param {Jquery Template} parentTemplate \r\n      */\n  _QuickActionsRenderIn: function _QuickActionsRenderIn(parentTemplate, workItemsInfo, quickActions) {\n    var self = this,\n    _QActionsContainer = parentTemplate.find(\"#contentQuickActions\");\n\n    self.quickActionsInstance.setDataToExecute(workItemsInfo, quickActions);\n    self.quickActionsInstance.renderIn(_QActionsContainer);\n    self.quickActionsInstance.renderCheckboxGroup(parentTemplate);\n  },\n\n  /**\r\n      * Filter the data from the workItems to send to QuickAction Widget.\r\n      * Return a dictionary by the workItem id as key and its information as value.\r\n      * @param {*} headers\r\n      * @param {*} rows\r\n      */\n  _getWorkItemsInfo: function _getWorkItemsInfo(headers, rows) {\n    var self = this,\n    _finalWorkItems = {};\n\n    var indexWorkItems = self._getIndexFromTableColumn(headers, \"order\", \"T_IDTASK\");\n    var indexCaseNumber = self._getIndexFromTableColumn(headers, \"order\", \"T_RADNUMBER\");\n\n    for (var j = 0; j < rows.length && indexWorkItems !== -1; j++) {\n      var _rowInfo = rows[j].fields,\n      _rowWorkItems = _rowInfo[indexWorkItems].workitems;\n\n      for (var k = 0; k < _rowWorkItems.length && indexCaseNumber !== -1; k++) {\n        var _workItem = _rowWorkItems[k];\n\n        _workItem.idCase = rows[j].id;\n        _workItem.caseNumber = _rowInfo[indexCaseNumber];\n        _finalWorkItems[_workItem.idWorkItem] = _workItem;\n      }\n    }\n\n    return _finalWorkItems;\n  },\n\n  /**\r\n      * Get the index of the column for workItems\r\n      */\n  _getIndexFromTableColumn: function _getIndexFromTableColumn(columnTitle, columnName, name) {\n    return columnTitle.findIndex(function (column) {\n      return column[columnName].toUpperCase() === name;\n    });\n  },\n\n  /**\r\n      * Return the selector of the quick action checkbox\r\n      * @param {*} workItem \r\n      */\n  getQuickActionCheckAllContainerSelector: function getQuickActionCheckAllContainerSelector() {\n    return \"#ui-quickActions-all-processes\";\n  },\n\n  /**\r\n      * Return the selector of the quick action checkbox\r\n      * @param {*} workItem \r\n      */\n  getQuickActionContainerSelector: function getQuickActionContainerSelector(id) {\n    return \"#ui-quickActions-checkbox-\" + id;\n  },\n\n  /*\r\n     *   Shows a popup with the case information\r\n     */\n  showCase: function showCase(idCase, idWorkflow) {\n    var self = this;\n    var content = self.getContent();\n    var caseSummaryContainer = $(\"#contentDesc\", content);\n    var cache = {};\n    var htmlContent = \"\";\n\n    // Update internal variable\n    self.idCase = idCase;\n\n    caseSummaryContainer.empty();\n\n    // Don't search data when there is no case\n    if (self.idCase == 0) {\n      return;\n    }\n\n    // Render Form Tab\n    $.when(self.dataService.summaryCaseDetails({\n      idCase: self.idCase })).\n\n    done(function (data) {\n      var adhocProcessId = null;\n      var isAdhoc = false;\n      if (!data.isAdhocProcess || typeof data.isAdhocProcess === 'undefined') data.isAdhocProcess = false;\n      if (data.isAdhocProcess) {\n        adhocProcessId = data.idAdhocProcess;\n        isAdhoc = true;\n      }\n      data.hasComments = data.hasComments == 'true' ? true : false;\n\n      // Get security\n      var security = new bizagi.workportal.command.security(self.dataService);\n      data.graphicQuery = security.checkSecurityPerm(\"GraphicQuery\");\n\n      data.enableFeatureShowTimelineButton = bizagi.override.enableFeatureShowTimelineButton;\n      data.enableTimelineByProcessType = self.isAvailableTimelineByProcessType(data.isAdhocProcess);\n\n      if (data.currentState && data.currentState.length > 0) {\n        data.currentState.forEach(function (currentState) {\n          if (!currentState.idTask) {\n            currentState.idTask = 0;\n          }\n          if (!currentState.state) {\n            currentState.state = currentState.displayName || \" \";\n          }\n        });\n      }\n\n      if (data.process === \"undefined\" || data.process === \"\" || typeof data.process === \"undefined\") {\n        data.process = false;\n      }\n\n      if (data.processPath === \"undefined\" || data.processPath === \"\" || typeof data.processPath === \"undefined\") {\n        data.processPath = false;\n      }\n\n\n      var renderedTemplate = $.tmpl(self.caseSummaryTemplate, $.extend(data, { security: bizagi.menuSecurity })).appendTo(caseSummaryContainer);\n      self.callTaskDescription(data, renderedTemplate);\n\n      // Format invariant dates\n      bizagi.util.formatInvariantDate(content, self.getResource(\"dateFormat\") + \" \" + self.getResource(\"timeFormat\"));\n\n\n      // Delegate events for parent process\n      $(\"#details\", renderedTemplate).delegate(\".summaryLink\", \"click\", function () {\n        self.routingExecute($(this));\n        caseSummaryDialog.dialog('close');\n      });\n\n      var caseSummaryDialog = renderedTemplate;\n\n      // jQuery-ui tabs\n      $(\"#ui-bizagi-details-tabs\", content).tabs({\n        active: -1,\n        create: function create(event, ui) {\n          $(this).tabs(\"option\", \"active\", 0);\n        },\n        \"activate\": function activate(event, ui) {\n          var panel = ui == undefined ? \"formSummary\" : ui.newPanel.attr('id');\n          switch (panel) {\n            case \"comments\":\n              if (cache[\"comments\"] == undefined) {\n                // Extend render with comments\n                $.extend(self, {}, bizagi.workportal.comments);\n\n                // Define canvas\n                data.canvas = $(\"#comments\");\n                data.readOnly = true;\n\n                $.when(self.renderComments(data)).\n                done(function (htmlContent) {\n                  cache[\"comments\"] = htmlContent;\n                });\n              }\n              bizagi.util.setContext({\n                commentsFocus: true });\n\n              break;\n            case \"formSummary\":\n              if (cache[\"formSummary\"] == undefined) {\n                var canvas = $(\"#formSummary\", caseSummaryContainer);\n\n                // Define action when render form has not been migrated\n                canvas.bind(\"oldrenderintegration\", function (e) {\n                  if (e.isPropagationStopped()) {\n                    return;\n                  }\n                  e.stopPropagation();\n\n                  var template = self.getTemplate(\"inbox-common-case-summary-oldrender\");\n                  var data = {};\n\n                  bizagi.oldrenderevent = true; // has been loaded\n                  var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n                  var eventer = window[eventMethod];\n                  var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\";\n\n                  // Listen to message from child window\n                  eventer(messageEvent, function (e) {\n                    e.stopPropagation();\n                    self.publish(\"executeAction\", {\n                      action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n                      idCase: e.data });\n\n                  }, false);\n\n                  // Define wirkitem and idtask\n                  $.when(self.dataService.getWorkitems({\n                    idCase: self.idCase,\n                    onlyUserWorkItems: true,\n                    eventAsTasks: true })).\n                  done(function (getWorkitems) {\n                    // verify workitem, in some cases these variables are not available\n                    if (_typeof(getWorkitems.workItems) == \"object\" && getWorkitems.workItems.length >= 1) {\n                      // Case Open\n                      var idWorkitem = getWorkitems.workItems[0]['idWorkItem'];\n                      var idTask = getWorkitems.workItems[0]['idTask'];\n\n                      for (i = 0; i < getWorkitems.workItems.length; i++) {\n                        if (getWorkitems.workItems[i]['idCase'] == self.idCase) {\n                          idWorkitem = getWorkitems.workItems[i]['idWorkItem'];\n                          idTask = getWorkitems.workItems[i]['idTask'];\n                          break;\n                        }\n                      }\n\n                      data.url = self.dataService.serviceLocator.getUrl(\"old-render\") + \"?PostBack=1&idCase=\" + self.idCase + \"&idWorkitem=\" + idWorkitem + \"&idTask=\" + idTask + \"&isSummary=1\";\n                    } else {\n                      // Case closed\n                      data.url = self.dataService.serviceLocator.getUrl(\"old-render\") + \"?PostBack=1&idCase=\" + self.idCase + \"&isSummary=1\";\n                    }\n\n                    // Render content\n                    canvas.empty();\n                    $.tmpl(template, data).appendTo(canvas);\n                    //Set styles\n                    self.iframeOldRender($(\"iframe\", canvas));\n                  });\n                });\n\n                var params = {\n                  idCase: self.idCase };\n\n\n                $.when(self.dataService.getCaseFormsRenderVersion(params)).\n                done(function (formsVersion) {\n                  if (formsVersion.formsRenderVersion == 1) {\n                    canvas.trigger(\"oldrenderintegration\");\n                  } else {\n                    $.when(\n                    self.renderSummaryForm($(\"#formSummary\", renderedTemplate))).\n                    done(function () {\n                      htmlContent = $(\"#formSummary\", renderedTemplate).html();\n                      cache[\"formSummary\"] = htmlContent;\n                    });\n                  }\n                });\n              }\n              break;\n            case \"subprocess\":\n              if (cache[\"subprocess\"] == undefined) {\n                $.when(\n                self.dataService.summarySubProcess({\n                  idCase: self.idCase })).\n\n                done(function (subprocess) {\n                  htmlContent = $.tmpl(self.caseSummaryTemplateSubprocess, subprocess);\n                  htmlContent.appendTo($(\"#subprocess\", renderedTemplate));\n                  cache[\"subprocess\"] = htmlContent;\n\n                  // Define Events for subprocess tab\n                  htmlContent.delegate(\".summaryLink\", \"click\", function () {\n                    self.routingExecute($(this));\n                    caseSummaryDialog.dialog('close');\n                  });\n                });\n              }\n              break;\n            case \"assignees\":\n              if (cache[\"assignees\"] == undefined) {\n                $.when(\n                self.dataService.summaryAssigness({\n                  idCase: self.idCase,\n                  preview: true })).\n\n                done(function (assignees) {\n                  // Generates  lists of unique assignees for Events\n                  var eventsUniqueList = [];\n                  $.each(assignees.events.split(\", \"), function (i, el) {\n                    if ($.inArray(el, eventsUniqueList) === -1) eventsUniqueList.push(el);\n                  });\n                  assignees.events = eventsUniqueList.join(\", \");\n\n                  htmlContent = $.tmpl(self.caseSummaryTemplateAssigness, assignees);\n                  htmlContent.appendTo($(\"#assignees\", renderedTemplate));\n                  cache[\"assignees\"] = htmlContent;\n                });\n              }\n              break;\n            case \"events\":\n              if (cache[\"events\"] == undefined) {\n                $.when(\n                self.dataService.summaryCaseEvents({\n                  idCase: self.idCase })).\n\n                done(function (events) {\n                  htmlContent = $.tmpl(self.caseSummaryTemplateEvents, events);\n                  htmlContent.appendTo($(\"#events\", renderedTemplate));\n                  cache[\"events\"] = htmlContent;\n\n                  htmlContent.delegate(\".summaryLink\", \"click\", function () {\n                    self.routingExecute($(this));\n                    caseSummaryDialog.dialog('close');\n                  });\n                });\n              }\n              break;}\n\n        } });\n\n\n\n      // jquery UI Button work on it button\n      $(\".workonitRow\", renderedTemplate).button();\n\n      // Add click to timeline icon\n      $(\".js-show-timeline\", renderedTemplate).click(function (event) {\n        var caseNumber = $.trim($(this).closest(\"div.ui-bizagi-wp-app-inbox-processes-title\").find(\"span.js-case-number\").text());\n        self.showTimeLine({ radNumber: caseNumber, idCase: idCase });\n      });\n\n      // Add click to view workflow\n      $(\"#ui-bizagi-wp-app-inbox-description-container .ui-bizagi-wp-app-inbox-cases-ico-view\", content).click(function () {\n        if (isAdhoc) {\n          self.showGraphicQuery({ idCase: idCase, idWorkflow: idWorkflow, isAdhoc: true, idProcess: adhocProcessId });\n        } else {\n          self.showGraphicQuery({ idCase: idCase, idWorkflow: idWorkflow });\n        }\n      });\n\n\n\n      // Bind events for events and process on summary case\n      $(\".workonitRow\", renderedTemplate).click(function () {\n        // Executes routing action\n        caseSummaryDialog.dialog('close');\n        var idWorkItem = $(this).parent().find(\"#idWorkItem\").val();\n        self.publish(\"executeAction\", {\n          action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n          idCase: self._getIdCase(data, idWorkItem),\n          idWorkflow: idWorkflow,\n          idTask: $(this).parent().find(\"#idTask\").val(),\n          idWorkItem: idWorkItem });\n\n      });\n\n      // Set buttons\n      var buttons = {};\n      buttons[bizagi.localization.getResource(\"workportal-case-dialog-box-close\")] = function () {\n        caseSummaryContainer.empty();\n        renderedTemplate.remove();\n        $(\"#ui-bizagi-wp-app-inbox-description-container\").remove();\n      };\n\n      caseSummaryDialog.dialog({\n        modal: true,\n        title: data.process,\n        width: 1000,\n        height: 600,\n        draggable: true,\n        resizable: true,\n        buttons: buttons,\n        close: function close() {\n          caseSummaryContainer.empty();\n          renderedTemplate.remove();\n          $(\"#ui-bizagi-wp-app-inbox-description-container\").remove();\n        } });\n\n\n    });\n  },\n\n  /**\r\n      * Returns the idCase or the parent idCase\r\n      * @param {JSON} data \r\n      * @param {String} workItemId \r\n      * @returns \r\n      */\n  _getIdCase: function _getIdCase(data, workItemId) {\n    var _parent = $.grep(data.currentState, function (item) {\n      return item.idWorkItem == workItemId;\n    })[0],\n    _hasParent = _parent && _parent.idCase !== undefined;\n\n    return _hasParent ? _parent.idCase : data.idCase;\n  },\n\n  /**\r\n      * \r\n      * Call task description widget \r\n      */\n\n  callTaskDescription: function callTaskDescription(data, summary) {\n    var self = this;\n    var width = 720;\n    var taskDescriptionParams = {\n      classNeedsModal: \"task_description_needs_modal\",\n      width: width };\n\n    new bizagi.workportal.widgets.task.description(self.workportalFacade, self.dataService, taskDescriptionParams).renderManyTasksDescription(data.currentState, summary);\n  },\n\n\n  /*\r\n     *   Renders the summary form inside a given container\r\n     */\n  renderSummaryForm: function renderSummaryForm(container) {\n    var self = this;\n\n    var proxyPrefix = typeof self.dataService.serviceLocator.proxyPrefix !== \"undefined\" ?\n    self.dataService.serviceLocator.proxyPrefix : \"\";\n\n    bizagi.loader.start(\"rendering\").then(function () {\n      // Load render page\n      var rendering = new bizagi.rendering.facade({ \"proxyPrefix\": proxyPrefix });\n\n      // Executes rendering into render container\n      rendering.execute({\n        canvas: container,\n        summaryForm: true,\n        idCase: self.idCase });\n\n\n      // Keep reference to rendering facade\n      self.renderingFacade = rendering;\n\n      // Resize layout\n      setTimeout(function () {\n        self.resizeLayout();\n      }, 1000);\n    });\n  },\n\n  /**\r\n      * Validate if the timeline icon should be shown or not, depending on features endpoint\r\n      */\n  isAvailableTimelineByProcessType: function isAvailableTimelineByProcessType(isAdhocProcess) {\n    return !isAdhocProcess ||\n    isAdhocProcess && bizagi.util.isEnableFeature(\"enableTimelineOnLiveProcesses\");\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   Name: BizAgi Workportal Desktop Inbox Widget Controller\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   Author: Diego Parra (based on  Edward Morales version)\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   -   This script will provide desktop overrides to implement the inbox widget\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         */\n\n// Extends itself\nbizagi.workportal.widgets.inbox.extend(\"bizagi.workportal.widgets.inbox\", {\n\n  /**\r\n                                                                             * set the options params for changeProcess\r\n                                                                             * @param {JSON} newValue \r\n                                                                             */\n  SET_CHANGE_PROCESS_REFERRER_PARAMS: function SET_CHANGE_PROCESS_REFERRER_PARAMS(newValue) {\n    bizagi.referrerParams.changeProcessOptions = newValue;\n  },\n\n  /**\r\n      * restore the case results state when the user click back button on a case\r\n      * @param {bizagi.workportal.widgets.inbox | bizagi.workportal.widgets.inboxGrid} inboxInstance \r\n      * @param {Jquery Element} processesContainer \r\n      */\n  RESTORE_FROM_BACK_BUTTON: function RESTORE_FROM_BACK_BUTTON(inboxInstance, processesContainer) {\n    var _restore = function _restore() {\n      var haveProcessOptions = bizagi.referrerParams.changeProcessOptions !== undefined;\n      var idWorkflow = haveProcessOptions ? bizagi.referrerParams.changeProcessOptions.idWorkflow : \"\";\n      var smartInboxId = haveProcessOptions ? bizagi.referrerParams.changeProcessOptions.smartInboxGuid : \"\";\n      var found = haveProcessOptions && _openFirstWorkflowOrSmartInbox(idWorkflow, smartInboxId);\n      inboxInstance.params.restoreStatus = false;\n\n      return found;\n    };\n\n    var _gotoDefaultInbox = function _gotoDefaultInbox() {\n      var goToAllCases = function goToAllCases() {\n        $(\"li:first\", processesContainer).addClass(\"selected\").trigger(\"click\");\n      };\n\n      var defaultOpenInboxWorkflowId = bizagi.services.preferences().getPreferences().defaultOpenInboxWorkflowId;\n      var defaultOpenInboxSmartInboxId = bizagi.services.preferences().getPreferences().defaultOpenInboxSmartInboxId;\n      if (defaultOpenInboxWorkflowId > 0 || !bizagi.util.isEmpty(defaultOpenInboxSmartInboxId)) {\n        var elementFound = _openFirstWorkflowOrSmartInbox(defaultOpenInboxWorkflowId, defaultOpenInboxSmartInboxId);\n        if (!elementFound) {\n          goToAllCases();\n        }\n\n      } else {\n        goToAllCases();\n      }\n    };\n\n    var _openFirstWorkflowOrSmartInbox = function _openFirstWorkflowOrSmartInbox(idWorkflow, smartInboxId) {\n      if (idWorkflow > 0) {\n        liElementSelected = $(\"li[idworkflow='\" + idWorkflow + \"']:first\", processesContainer);\n      } else if ((bizagi.util.isEmpty(idWorkflow) || idWorkflow == -1) && bizagi.util.isEmpty(smartInboxId)) {\n        // All cases scenario: idworkflow and smartinboxid are blank, null or undefined\n        // Select all cases element\n        liElementSelected = $(\"li[idworkflow='']:first\", processesContainer);\n      } else {\n        liElementSelected = $(\"li[data-guid='\" + smartInboxId + \"']:first\", processesContainer);\n      }\n\n      if (liElementSelected.length > 0) {\n\n        // open process Category Container\n        var container = liElementSelected.closest(\"ul\").prev(\".ui-bizagi-wp-app-inbox-processes-title\");\n        if (container.siblings(\"ul\").css(\"display\") == \"none\")\n        container.siblings(\"ul\").removeClass(\"nodisplay\");\n\n        // Select and trigger process for loading cases\n        liElementSelected.addClass(\"selected\").trigger(\"click\");\n        return true;\n      }\n      return false;\n    };\n\n    if (inboxInstance.params.restoreStatus) {\n      // Go to last inbox\n      _restore() || _gotoDefaultInbox();\n    } else {\n      // Go to default inbox\n      _gotoDefaultInbox();\n    }\n  } },\n\n{\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    // Set decorator\n    new bizagi.workportal.widgets.inboxes.decorator(self);\n\n    // Declare widget variables\n    self.taskState = \"all\"; // general taskState from tabs\n    self.icoTaskState = \"\"; // real staskState from list cases\n    self.idWorkflow = 0;\n    self.idCase = 0;\n    self.adhocCases = [];\n    self.type = \"\";\n    self.smartInboxGuid = \"\";\n    self.smartInboxModel = new smartInboxModel();\n    self.liveFilters;\n\n    //Load templates\n    self.loadTemplates({\n      \"inbox\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox\").concat(\"#ui-bizagi-workportal-widget-inbox\"),\n      \"inbox-cases\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox\").concat(\"#ui-bizagi-workportal-widget-inbox-cases\"),\n      \"inbox-cases-list\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox\").concat(\"#ui-bizagi-workportal-widget-inbox-cases-list\"),\n      \"inbox-cases-personalized-list\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox\").concat(\"#ui-bizagi-workportal-widget-inbox-cases-personalized-list\"),\n      \"inbox-common-processes\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-processes\"),\n      \"inbox-common-smartinbox\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-smartinbox-menu\"),\n      \"inbox-common-noresults\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-noresults\"),\n      \"inbox-common-header-view\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-header-view\"),\n      \"inbox-common-case-summary\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description\"),\n      \"inbox-common-case-summary-form\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description-form\"),\n      \"inbox-common-case-summary-subprocess\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description-subprocess\"),\n      \"inbox-common-case-summary-assignees\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description-assignees\"),\n      \"inbox-common-case-summary-events\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description-events\"),\n      \"inbox-common-case-summary-oldrender\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-oldrender\"),\n      useNewEngine: false });\n\n\n    bizagi.inboxWidget = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX;\n  },\n  /*\r\n     *   To be overriden in each device to apply layouts\r\n     */\n  postRender: function postRender() {\n    var self = this;\n    var content = self.getContent();\n    bizagi.referrerParams = self.params.restoreStatus ? bizagi.referrerParams || {} : {};\n    self.params.taskState = self.params.taskState || bizagi.referrerParams.taskState || \"all\";\n\n\n    // Set templates\n    self.processesTemplate = self.getTemplate(\"inbox-common-processes\");\n    self.smartInboxTemplate = self.getTemplate(\"inbox-common-smartinbox\");\n    self.casesTemplate = self.getTemplate(\"inbox-cases\");\n    //self.casesTemplateList = self.getTemplate(\"inbox-cases-list\");   // original template\n    self.casesTemplateList = self.getTemplate(\"inbox-cases-personalized-list\"); // personalized columns\n    self.caseSummaryTemplate = self.getTemplate(\"inbox-common-case-summary\");\n    self.caseSummaryTemplateForm = self.getTemplate(\"inbox-common-case-summary-form\");\n    self.caseSummaryTemplateSubprocess = self.getTemplate(\"inbox-common-case-summary-subprocess\");\n    self.caseSummaryTemplateAssigness = self.getTemplate(\"inbox-common-case-summary-assignees\");\n    self.caseSummaryTemplateEvents = self.getTemplate(\"inbox-common-case-summary-events\");\n\n    self.noResults = self.getTemplate(\"inbox-common-noresults\");\n    self.paginationTemplate = self.workportalFacade.getTemplate(\"inbox-common-pagination-inbox\");\n\n\n    // Loads inbox summary\n    self.renderSummary();\n\n    // Configure view control\n    self.configureViewControl();\n\n    // Configure folders\n    // Check if its avalible\n    if (bizagi.override.enableSmartFolders) {\n      self.configureSmartFolders();\n    }\n    self.comboRowsPerPage = new bizagi.workportal.results.per.page(bizagiConfig.inboxRowsPerPage);\n    self.renderNumberRowsCombo(self.comboRowsPerPage.initCombo());\n\n    $(\"#contentItemsPaginationInbox .filterColumns\", content).bind(\"click\", function (e) {\n      e.stopPropagation();\n      self.openLiveFilterDialog();\n    });\n\n    $(\"#contentItemsPaginationInbox .filterColumns\", content).bind(\"UPDATEFILTERSCOUNTER\", function (e, value) {\n      var $elm = $(this);\n      if (value == \"\" || value == 0) {\n        $elm.removeClass(\"active\");\n      } else {\n        $elm.addClass(\"active\");\n      }\n      this.setAttribute(\"data-value\", value);\n    });\n  },\n\n  renderNumberRowsCombo: function renderNumberRowsCombo(comboDataSource) {\n    var self = this;\n    var content = self.getContent();\n    return self.comboRowsPerPage.renderNumberRowsCombo({\n      combo: comboDataSource,\n      content: content,\n      comboWrapper: $(\"#select-pagination\", content),\n      onChange: function onChange() {\n        self.changeProcess(\n        self.type == 'smartinbox' ? { type: 'smartinbox', smartInboxGuid: self.smartInboxGuid } : {});\n\n      },\n      setRowValue: self.setRowValue,\n      getRowValue: self.getRowValue });\n\n  },\n  getRowValue: function getRowValue() {\n    // Get Preferences Values\n    var preferences = bizagi.services.preferences().getPreferences();\n    storedValue = preferences && preferences.inboxItemsPerPage ? preferences.inboxItemsPerPage : null;\n    return storedValue;\n  },\n  setRowValue: function setRowValue(value) {\n    var self = this;\n    var modifiedJSON = bizagi.services.preferences().getPreferences();\n    modifiedJSON.inboxItemsPerPage = value;\n    // Set Preference value\n    bizagi.services.preferences().overridePreferences(modifiedJSON);\n  },\n  /**\r\n     * Modal menu with folder actions\r\n     */\n  configureSmartFolders: function configureSmartFolders() {\n    var self = this;\n    var content = self.getContent();\n    var inboxArrow = $(\"#innerContentInbox>h2, #innerContentInbox .smartfolders\", content);\n\n    inboxArrow.click(function () {\n      // If the same popup is opened close it\n      if (self.currentPopup == \"folders\") {\n        bizagi.workportal.desktop.popup.closePopupInstance();\n        return;\n      }\n\n      // Creates popup\n      self.popupOpened = true;\n      self.currentPopup = \"folders\";\n      self.publish(\"popupWidget\", {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTFOLDERS,\n        options: {\n          sourceElement: \"#innerContentInbox>h2\",\n          modalClass: \"folders\",\n          'max-height': '346',\n          height: 'auto',\n          width: '110',\n          offset: \"88 0\",\n          activeScroll: true,\n          foldersView: 'inboxdetails',\n          closed: function closed() {\n            self.currentPopup = null;\n          } } });\n\n\n    });\n  },\n\n  /**\r\n      * validate needed params for the self.changeProcess request, return json with the params\r\n      * @param {ClassReference} self this class reference\r\n      * @param {JSON} options taskState,idWorkflow,orderType,order,orderFieldName,page,\r\n      */\n  setFiltersOnChangeProcess: function setFiltersOnChangeProcess(self, options) {\n    var res = {};\n    res.page = options[\"page\"] && options[\"page\"] > 0 ? options[\"page\"] : 1;\n    res.taskState = options.taskState || self.taskState;\n    res.idWorkflow = options.idWorkflow != undefined ? options.idWorkflow : self.idWorkflow || \"\";\n    // Set order vars\n    res.orderFieldName = options[\"orderFieldName\"] || (options.idWorkflow == self.idWorkflow || options.idWorkflow == undefined ? self.orderFieldName : \"\");\n    res.orderType = options[\"orderType\"] != undefined ? options[\"orderType\"] : options.idWorkflow == self.idWorkflow || options.idWorkflow == undefined ? self.orderType : \"0\";\n    res.order = options[\"order\"] || (options.idWorkflow == self.idWorkflow || options.idWorkflow == undefined ? self.order : \"\");\n\n    // Update internal variable\n    self.idWorkflow = options.idWorkflow != undefined ? options.idWorkflow : undefined;;\n    self.orderFieldName = res.orderFieldName;\n    self.orderType = res.orderType;\n    self.order = res.order;\n    self.type = options.type != undefined ? options.type : undefined;\n    self.smartInboxGuid = options.smartInboxGuid != undefined ? options.smartInboxGuid : undefined;\n    self.liveFilters = options.liveFilters != undefined ? options.liveFilters : undefined;\n    return res;\n  },\n\n  /**\r\n      * Validate if the timeline icon should be shown or not, depending on features endpoint\r\n      */\n  isAvailableTimelineByProcessType: function isAvailableTimelineByProcessType(isAdhocProcess) {\n    return !isAdhocProcess ||\n    isAdhocProcess && bizagi.util.isEnableFeature(\"enableTimelineOnLiveProcesses\");\n  },\n  /*\r\n     *   Changes selected process and updates the content\r\n     */\n  changeProcess: function changeProcess(options) {\n    var self = this;\n    var content = self.getContent();\n    var casesContainer = $(\"#contentCases\", content);\n    var pageSelector = $(\"#footer #casesPagination\");\n    var descContainer = $(\"#contentDesc\", content);\n    var nElemToShow = 14;\n    var smartfoldersParameters = \"\";\n    self.Class.SET_CHANGE_PROCESS_REFERRER_PARAMS(options);\n    options = options || {};\n\n    // Verify inbox name parameter\n    if (bizagi.util.isEmpty(options.inboxName)) {\n      options.inboxName = $(\"#ui-bizagi-wp-app-inbox-cases-container .ui-bizagi-wp-app-inbox-processes-title\").text().trim();\n    }\n\n    if (self.params.smartfoldersParameters && self.params.smartfoldersParameters.urlParameters) {\n      smartfoldersParameters = self.params.smartfoldersParameters.urlParameters;\n    }\n\n    var res = self.setFiltersOnChangeProcess(self, options);\n    var page = res.page;\n    var taskState = res.taskState;\n    var idWorkflow = res.idWorkflow;\n    var orderFieldName = res.orderFieldName;\n    var orderType = res.orderType;\n    var order = res.order;\n    var liveFilters, storedFilter, updateCallBack;\n    if (!bizagi.util.isEmpty(options.smartInboxGuid)) {\n      storedFilter = self.getSmartFiltersFromStorage(\"smartinbox\", options.smartInboxGuid);\n      liveFilters = self.encodeLiveFilter(storedFilter);\n      updateCallBack = function updateCallBack(filters) {\n        self.setSmartFiltersToStorage(\"smartinbox\", options.smartInboxGuid, filters);\n      };\n    } else if (!bizagi.util.isEmpty(options.idWorkflow)) {\n      storedFilter = self.getSmartFiltersFromStorage(\"process\", options.idWorkflow);\n      liveFilters = self.encodeLiveFilter(storedFilter);\n      updateCallBack = function updateCallBack(filters) {\n        self.setSmartFiltersToStorage(\"process\", options.idWorkflow, filters);\n      };\n    } else if (bizagi.util.isEmpty(options.idWorkflow)) {\n      storedFilter = self.getSmartFiltersFromStorage(\"process\", -1);\n      liveFilters = self.encodeLiveFilter(storedFilter);\n      updateCallBack = function updateCallBack(filters) {\n        self.setSmartFiltersToStorage(\"process\", -1, filters);\n      };\n    }\n\n    bizagi.referrerParams.page = page;\n\n    var idWorkflow = options.idWorkflow != undefined ? options.idWorkflow : self.idWorkflow;\n    options.workflowName = options.workflowName || self.workflowName;\n    // Update internal variable\n    self.idWorkflow = idWorkflow;\n    self.workflowName = options.workflowName;\n\n    // Clear content\n    casesContainer.empty();\n    //casesContainer.empty();\n    descContainer.empty();\n    pageSelector.empty();\n\n    bizagi.showErrorAlertDialog = false;\n\n    var customizedColumnsParams = self.type == 'smartinbox' ? _defineProperty({\n\n      type: self.type,\n      smartInboxGuid: self.smartInboxGuid,\n      order: order,\n      orderFieldName: orderFieldName,\n      orderType: orderType,\n      liveFilters: liveFilters,\n      idWorkflow: self.idWorkflow,\n      taskState: self.taskState,\n      // Filter by favorites  only when we are searching all processes and favorites\n      onlyFavorites: eval(self.onlyFavorites),\n      page: page,\n      pageSize: self.getRowValue() || 10,\n      smartfoldersParameters: smartfoldersParameters }, \"taskState\",\n    taskState) : _defineProperty({\n\n\n\n      idWorkflow: self.idWorkflow,\n      taskState: self.taskState,\n      // Filter by favorites  only when we are searching all processes and favorites\n      onlyFavorites: eval(self.onlyFavorites),\n      // Sort and order parameters\n      order: order,\n      orderFieldName: orderFieldName,\n      orderType: orderType,\n      page: page,\n      pageSize: self.getRowValue() || 10,\n      smartfoldersParameters: smartfoldersParameters,\n      liveFilters: liveFilters }, \"taskState\",\n    taskState);\n\n\n\n    // Load cases by process and task state\n    $.when(self.dataService.getCasesByWorkflow(customizedColumnsParams)).\n    done(function (data) {\n      bizagi.showErrorAlertDialog = true;\n      // Set list of cases for global purpose\n      bizagi.lstIdCases = data.lstIdCases;\n\n      self.processHeaderLiveFilters(data);\n      $(data.rows).each(function (index, elem) {\n        if (!elem.isAdhocProcess || typeof elem.isAdhocProcess === 'undefined') {\n          elem.isAdhocProcess = false;\n        } else {\n          elem.isAdhocProcess = true;\n          self.adhocCases.push(elem);\n        }\n        elem.enableTimelineByProcessType = self.isAvailableTimelineByProcessType(elem.isAdhocProcess);\n      });\n      // add idWorkFlow\n      data.idWorkflow = idWorkflow;\n      data.hasLiveFilters = $.any(data.columnTitle, function (item) {return item.isFiltered == \"true\";});\n\n      // Get security\n      var security = new bizagi.workportal.command.security(self.dataService);\n      data.graphicQuery = security.checkSecurityPerm(\"GraphicQuery\");\n\n      // Shows no-cases placeholder if there are nocases\n      if (data.rows.length == 0) {\n        $(\".bz-wp-content-detail-cases\").hide();\n        $(\"#ui-bizagi-wp-app-inbox-caselist-noresults\").show();\n        if (!data.hasLiveFilters) {\n          $(\"#ui-bizagi-wp-app-inbox-caselist-nocases\").show();\n          security.checkSecurityPerm(\"NewCase\").then(function (authorized) {\n            if (authorized) {\n              if (!self.createNewCasesButtonSet) {\n                $(\"#ui-bizagi-wp-app-inbox-caselist-nocases #bz-create-new-cases\").click(function () {$(\"#menuListNew\").trigger(\"click\");});\n                self.createNewCasesButtonSet = true;\n              }\n            } else {\n              $(\"#ui-bizagi-wp-app-inbox-caselist-nocases #bz-create-new-cases\").hide();\n            }\n          });\n        } else {\n          $(\"#ui-bizagi-wp-app-inbox-caselist-nocases-when-filtered\").show();\n          if (!self.createLiveFilterButtonSet) {\n            $(\"#ui-bizagi-wp-app-inbox-caselist-nocases-when-filtered #bz-create-live-filter\").click(function () {$(\".filterColumns \").trigger(\"click\");});\n            self.createLiveFilterButtonSet = true;\n          }\n        }\n      } else {\n        $(\".bz-wp-content-detail-cases\").show();\n        $(\"#ui-bizagi-wp-app-inbox-caselist-noresults\").hide();\n      }\n\n      // If cases container has no elements append something to hide spinner\n      if (!data.rows.length) {\n        casesContainer.append(\"&nbsp;\");\n        descContainer.append(\"&nbsp;\");\n        return;\n      }\n\n      // Extend data\n      data.processName = options.inboxName || \"\";\n\n      // show or hide \"load more\" button\n      data.pagination = data[\"totalPages\"] > 1 ? true : false;\n\n      // set total pages\n      data.pages = {};\n      var totPages = data[\"totalPages\"];\n      var pageToshow = nElemToShow > data[\"totalPages\"] ? data[\"totalPages\"] : nElemToShow;\n      // Next couple Lines to ensure enough space in the pager area\n      if (totPages > 9) pageToshow--;\n      if (totPages > 99) pageToshow--;\n      for (var i = 1; i <= pageToshow; i++) {\n        data[\"pages\"][i] = {\n          \"pageNumber\": i };\n\n      }\n\n      data.enableFolders = bizagi.override.enableFolder || false;\n      var paginationHtml = $.tmpl(self.paginationTemplate, data).html();\n\n      // when show summary form from inbox grid\n      data.enableFeatureShowTimelineButton = bizagi.override.enableFeatureShowTimelineButton;\n      data.liveFiltersEnable = bizagi.util.isEnableFeature(\"enableLiveFilters\");\n\n      // Get template\n      $(pageSelector).append(paginationHtml);\n\n      // Render template\n      $.tmpl(self.casesTemplate, data, {\n        replaceLineBreak: function replaceLineBreak(string) {\n          return typeof string === \"string\" ? string.search(/\\n/) !== -1 ? string.replaceAll(\"\\n\", \"<br/>\") : string : string;\n        },\n        formatMonetaryCell: function formatMonetaryCell(value) {\n          return bizagi.util.formatMoney(value, BIZAGI_DEFAULT_CURRENCY_INFO);\n        },\n        formatDecimalCell: function formatDecimalCell(value) {\n          var decimalFormat;\n          var externalDecimalFormat = {\n            decimalSymbol: BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator,\n            digitGroupSymbol: BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator,\n            roundToDecimalPlace: BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits };\n\n          var defaultDecimalFormat = {\n            colorize: false,\n            decimalSymbol: \".\",\n            digitGroupSymbol: \",\",\n            groupDigits: true,\n            negativeFormat: \"(%s%n)\",\n            positiveFormat: \"%s%n\",\n            roundToDecimalPlace: \"2\",\n            symbol: \"\" };\n\n          decimalFormat = $.extend(defaultDecimalFormat, externalDecimalFormat);\n          return bizagi.util.formatDecimal(value, decimalFormat);\n        },\n        formatBoolean: function formatBoolean(value) {\n          if (bizagi.util.parseBoolean(value) == true) {\n            return self.getResource(\"render-boolean-yes\");\n          } else if (bizagi.util.parseBoolean(value) == false) {\n            return self.getResource(\"render-boolean-no\");\n          } else {\n            return \"\";\n          }\n        } }).\n      appendTo(casesContainer);\n\n      // Format invariant dates\n      bizagi.util.formatInvariantDate(content, self.getResource(\"dateFormat\") + \" \" + self.getResource(\"timeFormat\"));\n\n      // set total number pages\n      $(\".scrollCases\").data(\"totalPage\", data[\"totalPages\"]);\n      $(\".scrollCases\").data(\"page\", 1);\n\n      // Crate pagination control\n      $(\"ul\").bizagiPagination({\n        totalPages: data.totalPages,\n        actualPage: data.page,\n        listElement: $(\"ul\", pageSelector),\n        clickCallBack: function clickCallBack(options) {\n          self.changeProcess(\n          self.type == 'smartinbox' ?\n          {\n            type: 'smartinbox',\n            smartInboxGuid: self.smartInboxGuid,\n            page: options.page,\n            order: options.parent.data(\"order\"),\n            orderFieldName: options.parent.data(\"orderFieldName\"),\n            orderType: options.parent.data(\"orderType\") } :\n\n\n          {\n            idWorkflow: idWorkflow,\n            page: options.page });\n\n        } });\n\n\n      // Binds click handler for cases\n      $(\"li\", casesContainer).click(function () {\n        var cAse = $(this);\n        // set real taskState\n        self.icoTaskState = $(this).children(\"#caseName\").children(\"#taskState\").val();\n\n        // Remove all selected elements\n        $(\".selected\", casesContainer).removeClass(\"selected\");\n\n        // Add selected class\n        cAse.addClass(\"selected\");\n\n        // Change the current process\n        var idCase = $(\"#idCase\", cAse).val();\n        var idWorkflow = $(\"#idWorkflowGQ\", cAse).val();\n        self.changeCase(idCase, idWorkflow);\n      });\n\n      // Bind Folders\n      $(\".ui-bizagi-inbox-folder\", casesContainer).click(function (e) {\n        e.stopPropagation();\n        var idCase = $(this).data(\"idcase\");\n\n        // If the same popup is opened close it\n        if (self.currentPopup == \"folders\") {\n          bizagi.workportal.desktop.popup.closePopupInstance();\n          return;\n        }\n\n        bizagi.workportal.desktop.popup.closePopupInstance();\n        // Creates popup\n        self.popupOpened = false;\n        self.currentPopup = \"folders\";\n        self.publish(\"popupWidget\", {\n          widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_FOLDERS,\n          options: {\n            sourceElement: $(this),\n            modalClass: \"folders\",\n            'max-height': '146',\n            height: 'auto',\n            width: '110',\n            offset: \"88 0\",\n            activeScroll: true,\n            onlyFolderMode: true,\n            idCase: idCase,\n            closed: function closed() {\n              self.currentPopup = null;\n            } } });\n\n\n      });\n\n      // Bind favorites start\n      $(\".ui-bizagi-wp-app-inbox-cases-start\", casesContainer).click(function (e) {\n        e.stopPropagation();\n        var favoriteOptions;\n        var elmnt = this;\n\n        $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-cases-start\").addClass(\"ui-bizagi-wp-app-inbox-cases-start-wait\");\n\n        // check if its favorite\n        if ($(elmnt).parent().find(\"#isFavorite\").val() == \"false\") {\n          favoriteOptions = {\n            idObject: $(elmnt).parent().parent().find(\"#idCase\").val(),\n            favoriteType: \"CASES\" };\n\n          $.when(\n          self.dataService.addFavorite(favoriteOptions)).\n          done(function (favoritesData) {\n            $(elmnt).parent().find(\"#guidFavorite\").val(favoritesData[\"idFavorites\"]);\n            $(elmnt).removeClass(\"bz-icon-star-outline\").addClass(\"bz-icon-star\");\n            $(elmnt).parent().find(\"#isFavorite\").val(\"true\");\n            $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-cases-start-wait\").addClass(\"ui-bizagi-wp-app-inbox-cases-start\");\n\n            self.updateCountProcess(idWorkflow, true);\n          });\n        } else {\n          favoriteOptions = {\n            idObject: $(elmnt).parent().find(\"#guidFavorite\").val(),\n            favoriteType: \"CASES\" };\n\n          $.when(\n          self.dataService.delFavorite(favoriteOptions)).\n          done(function (favoritesData) {\n            if (favoritesData[\"deleted\"] == \"true\" || favoritesData[\"deleted\"] == true) {\n              $(elmnt).parent().find(\"#guidFavorite\").val(\"\");\n              $(elmnt).removeClass(\"bz-icon-star\").addClass(\"bz-icon-star-outline\");\n              $(elmnt).parent().find(\"#isFavorite\").val(\"false\");\n              $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-cases-start-wait\").addClass(\"ui-bizagi-wp-app-inbox-cases-start\");\n              self.updateCountProcess(idWorkflow, false);\n            }\n          });\n        }\n      });\n\n      if (data.rows.length > 0) {\n        // Make first item selected\n        self.icoTaskState = $(\"li:first\", casesContainer).children(\"#taskState\").val();\n        $(\"li:first\", casesContainer).addClass(\"selected\").trigger(\"click\");\n\n      } else {\n        self.changeCase(0);\n      }\n\n      $(casesContainer).bizagiScrollbar();\n\n      // Validate livefilters\n      var cloneStoredFilter = bizagi.clone(storedFilter);\n      $.each(storedFilter, function (key, value) {\n        if (!self.isValidFilter(value, data.columnTitle)) {\n          // Remove invalid filter\n          cloneStoredFilter.splice(key, 1);\n          updateCallBack(cloneStoredFilter);\n          $(\"#contentItemsPaginationInbox .filterColumns\").trigger(\"UPDATEFILTERSCOUNTER\", cloneStoredFilter.count());\n        }\n      });\n\n    }).fail(function (error) {\n      var message;\n      var errorTemplate = self.workportalFacade.getTemplate(\"info-message\");\n      var caseSummaryContainer = $(\"#contentDesc\", content);\n\n      try {\n        error = JSON.parse(error.responseText) || {};\n        message = error.message || error;\n\n      } catch (e) {\n        message = bizagi.localization.getResource(\"workportal-general-error-message-contact-administrator\");\n      }\n\n      var errorHtml = $.tmpl(errorTemplate, {\n        message: message,\n        css: 'ui-bizagi-info-inbox-detail' });\n\n      // Remove loading icon from summary container\n      caseSummaryContainer.append('&nbsp;');\n\n      errorHtml.appendTo(casesContainer);\n\n      // Recall custom columns without filters in order to get list of columns for livefilter \n      customizedColumnsParams.liveFilters = undefined;\n      $.when(self.dataService.getCasesByWorkflow(customizedColumnsParams)).done(function (data) {\n        self.processHeaderLiveFilters(data);\n      });\n    });\n  },\n\n  /*\r\n     *   Changes the selected case and updates the content\r\n     */\n  changeCase: function changeCase(idCase, idWorkflow) {\n    var self = this;\n    var content = self.getContent();\n    var caseSummaryContainer = $(\"#contentDesc\", content);\n    var cache = {};\n    var htmlContent = \"\";\n    var isAdhoc = false;\n    var idProcess = null;\n    // Clear content\n    caseSummaryContainer.empty();\n    for (var i = 0; i < this.adhocCases.length; i++) {\n      if (idCase == this.adhocCases[i].id) {\n        isAdhoc = true;\n        idProcess = this.adhocCases[i].idAdhocProcess;\n      }\n    }\n    // Update internal variable\n    self.idCase = idCase;\n\n    // Don't search data when there is no case\n    if (self.idCase == 0) {\n      return;\n    }\n\n    // Render Form Tab\n    $.when(\n    self.dataService.summaryCaseDetails({\n      idCase: self.idCase })).\n\n    done(function (data) {\n      data.hasComments = data.hasComments == 'true' ? true : false;\n\n      // Get security\n      var security = new bizagi.workportal.command.security(self.dataService);\n      data.graphicQuery = security.checkSecurityPerm(\"GraphicQuery\");\n\n      // when inbox is showed in details mode.\n      data.enableFeatureShowTimelineButton = bizagi.override.enableFeatureShowTimelineButton;\n      data.enableTimelineByProcessType = self.isAvailableTimelineByProcessType(data.isAdhocProcess);\n\n      if (typeof data.contextualized === \"undefined\") {\n        data.contextualized = true;\n      }\n\n      if (data.currentState && data.currentState.length > 0) {\n        data.currentState.forEach(function (currentState) {\n          if (!currentState.idTask) {\n            currentState.idTask = 0;\n          }\n          if (!currentState.state) {\n            currentState.state = currentState.displayName || \" \";\n          }\n        });\n      }\n\n      if (data.process === \"undefined\" || data.process === \"\" || typeof data.process === \"undefined\") {\n        data.process = false;\n      }\n\n      if (data.processPath === \"undefined\" || data.processPath === \"\" || typeof data.processPath === \"undefined\") {\n        data.processPath = false;\n      }\n      var summary = $.tmpl(self.caseSummaryTemplate, $.extend(data, { security: bizagi.menuSecurity })).appendTo(caseSummaryContainer);\n      self.callTaskDescription(data, summary);\n\n      // Format invariant dates\n      bizagi.util.formatInvariantDate(content, self.getResource(\"dateFormat\") + \" \" + self.getResource(\"timeFormat\"));\n\n      // Delegate events for parent process\n      $(\"#details\", summary).delegate(\".summaryLink\", \"click\", function () {\n        self.routingExecute($(this));\n      });\n\n      // jQuery-ui\n      $(\"#ui-bizagi-details-tabs\", content).tabs({\n        active: -1,\n        create: function create(event, ui) {\n          $(this).tabs(\"option\", \"active\", 0);\n        },\n        activate: function activate(event, ui) {\n          var panel = ui == undefined ? \"formSummary\" : ui.newPanel.attr('id');\n          switch (panel) {\n\n            case \"comments\":\n              if (cache[\"comments\"] == undefined) {\n                // Extend render with comments\n                $.extend(self, {}, bizagi.workportal.comments);\n\n                // Define canvas\n                data.canvas = $(\"#comments\", caseSummaryContainer);\n                data.readOnly = true;\n\n                $.when(self.renderComments(data)).\n                done(function (htmlContent) {\n                  cache[\"comments\"] = htmlContent;\n                });\n              }\n              bizagi.util.setContext({\n                commentsFocus: true });\n\n              break;\n            case \"formSummary\":\n              if (cache[\"formSummary\"] == undefined) {\n                var canvas = $(\"#formSummary\", caseSummaryContainer);\n\n                // Define action when render form has not been migrated\n                canvas.bind(\"oldrenderintegration\", function (e) {\n                  if (e.isPropagationStopped()) {\n                    return;\n                  }\n                  e.stopPropagation();\n\n                  var template = self.getTemplate(\"inbox-common-case-summary-oldrender\");\n                  var data = {};\n\n                  bizagi.oldrenderevent = true; // has been loaded\n                  var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n                  var eventer = window[eventMethod];\n                  var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\";\n\n                  // Listen to message from child window\n                  eventer(messageEvent, function (e) {\n                    e.stopPropagation();\n                    self.publish(\"executeAction\", {\n                      action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n                      idCase: e.data });\n\n                  }, false);\n\n                  // Define wirkitem and idtask\n                  $.when(self.dataService.getWorkitems({\n                    idCase: self.idCase,\n                    onlyUserWorkItems: true })).\n                  done(function (getWorkitems) {\n                    // verify workitem, in some cases these variables are not available\n                    if (_typeof(getWorkitems.workItems) == \"object\" && getWorkitems.workItems.length >= 1) {\n                      // Case Open\n                      var idWorkitem = getWorkitems.workItems[0]['idWorkItem'];\n                      var idTask = getWorkitems.workItems[0]['idTask'];\n                      data.url = self.dataService.serviceLocator.getUrl(\"old-render\") + \"?PostBack=1&idCase=\" + self.idCase + \"&idWorkitem=\" + idWorkitem + \"&idTask=\" + idTask + \"&isSummary=1\";\n                    } else {\n                      // Case closed\n                      data.url = self.dataService.serviceLocator.getUrl(\"old-render\") + \"?PostBack=1&idCase=\" + self.idCase + \"&isSummary=1\";\n                    }\n\n                    // Render content\n                    canvas.empty();\n                    $.tmpl(template, data).appendTo(canvas);\n                    //Set styles\n                    self.iframeOldRender($(\"iframe\", canvas));\n                    // Recalculate size panel\n                    self.performResizeLayout();\n                  });\n                });\n\n                var params = {\n                  idCase: self.idCase };\n\n\n                $.when(self.dataService.getCaseFormsRenderVersion(params)).\n                done(function (formsVersion) {\n                  if (formsVersion.formsRenderVersion == 1) {\n                    canvas.trigger(\"oldrenderintegration\");\n                  } else {\n                    $.when(self.renderSummaryForm(canvas)).\n                    done(function () {\n                      htmlContent = $(\"#formSummary\", caseSummaryContainer).html();\n                      cache[\"formSummary\"] = htmlContent;\n                    });\n                  }\n                });\n              }\n              break;\n            case \"subprocess\":\n              if (cache[\"subprocess\"] == undefined) {\n                $.when(\n                self.dataService.summarySubProcess({\n                  idCase: self.idCase })).\n\n                done(function (subprocess) {\n                  htmlContent = $.tmpl(self.caseSummaryTemplateSubprocess, subprocess);\n                  htmlContent.appendTo($(\"#subprocess\", caseSummaryContainer));\n                  cache[\"subprocess\"] = htmlContent;\n\n                  // Define Events for subprocess tab\n                  htmlContent.delegate(\".summaryLink\", \"click\", function () {\n                    self.routingExecute($(this));\n                  });\n                });\n              }\n              break;\n            case \"assignees\":\n              if (cache[\"assignees\"] == undefined) {\n                $.when(\n                self.dataService.summaryAssigness({\n                  idCase: self.idCase,\n                  preview: true })).\n\n                done(function (assignees) {\n                  // Generates  lists of unique assignees for Events\n                  var eventsUniqueList = [];\n                  $.each(assignees.events.split(\", \"), function (i, el) {\n                    if ($.inArray(el, eventsUniqueList) === -1) eventsUniqueList.push(el);\n                  });\n                  assignees.events = eventsUniqueList.join(\", \");\n\n                  // Generates  lists of unique assignees for activities\n                  var activitiesUniqueList = [];\n                  $.each(assignees.activities.split(\", \"), function (i, el) {\n                    if ($.inArray(el, activitiesUniqueList) === -1) activitiesUniqueList.push(el);\n                  });\n                  assignees.activities = activitiesUniqueList.join(\", \");\n                  htmlContent = $.tmpl(self.caseSummaryTemplateAssigness, assignees);\n                  htmlContent.appendTo($(\"#assignees\", caseSummaryContainer));\n                  cache[\"assignees\"] = htmlContent;\n                });\n              }\n              break;\n            case \"events\":\n              if (cache[\"events\"] == undefined) {\n                $.when(\n                self.dataService.summaryCaseEvents({\n                  idCase: self.idCase })).\n\n                done(function (events) {\n                  htmlContent = $.tmpl(self.caseSummaryTemplateEvents, events);\n                  htmlContent.appendTo($(\"#events\", caseSummaryContainer));\n                  cache[\"events\"] = htmlContent;\n\n                  htmlContent.delegate(\".summaryLink\", \"click\", function () {\n                    self.routingExecute($(this));\n                  });\n                });\n              }\n              break;}\n\n        } });\n\n\n      // set even style for process and cases\n      $.each($(\"#ui-bizagi-wp-app-inbox-processes-container li:even, #ui-bizagi-wp-app-inbox-cases-container li:even\"), function () {\n        $(this).addClass(\"ui-bizagi-wp-app-inbox-evenColor\");\n      });\n\n      // Add click to timeline icon\n      $(\".js-show-timeline\", content).click(function (event) {\n        var caseNumber = $.trim($(this).closest(\"div.ui-bizagi-wp-app-inbox-processes-title\").find(\"span.js-case-number\").text());\n        self.showTimeLine({ radNumber: caseNumber, idCase: idCase });\n      });\n\n      // Add click to view workflow\n      $(\".ui-bizagi-wp-app-inbox-cases-ico-view\", content).click(function () {\n        if (isAdhoc) {\n          self.showGraphicQuery({ idCase: idCase, idWorkflow: idWorkflow, isAdhoc: true, idProcess: idProcess });\n        } else {\n          self.showGraphicQuery({ idCase: idCase, idWorkflow: idWorkflow });\n        }\n      });\n\n\n      //Work on it button\n      $(\".workonitRow\", content).button();\n\n      // Bind work on it button\n      $(\".workonitRow\", content).click(function () {\n        // Executes routing action\n        var idWorkItem = $(this).parent().find(\"#idWorkItem\").val();\n        var referrerParams = {\n          taskState: self.params.taskState,\n          idWorkItem: idWorkItem,\n          idCase: self.idCase,\n          idTask: $(this).parent().find(\"#idTask\").val(),\n          onlyFavorites: self.onlyFavorites,\n          idWorkflow: self.idWorkflow,\n          referrer: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX };\n\n\n        $.extend(bizagi.referrerParams, bizagi.referrerParams, referrerParams);\n        self.publish(\"executeAction\", {\n          action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n          idCase: self.idCase,\n          idTask: $(this).parent().find(\"#idTask\").val(),\n          idWorkItem: idWorkItem,\n          idWorkflow: idWorkflow //idWorkflow for graphic query bucause self.idworkflow is a wfClass\n        });\n      });\n\n      self.resizeLayout();\n      $(\".scrollProcess\").bizagiScrollbar();\n      $(\".scrollSummary\").bizagiScrollbar({\n        autohide: false });\n\n    });\n  },\n\n  /**\r\n      * \r\n      * Call task description widget \r\n      */\n\n  callTaskDescription: function callTaskDescription(data, summary) {\n    var self = this;\n    var width = 230;\n    var taskDescriptionParams = {\n      classNeedsModal: \"task_description_needs_modal\",\n      width: width };\n\n    new bizagi.workportal.widgets.task.description(self.workportalFacade, self.dataService, taskDescriptionParams).renderManyTasksDescription(data.currentState, summary);\n  },\n\n  /**\r\n     * Load more cases when scroll controler reach button position\r\n     */\n  casesPagination: function casesPagination(options) {\n    var self = this;\n    var content = self.getContent();\n    var casesContainer = $(\"#contentCases\", content);\n    var listContainer = $(\"#contentCases .scrollCases ul\", content);\n    var def = new $.Deferred();\n\n    // Update internal variable\n    self.idWorkflow = options['idWorkflow'];\n    self.page = options['page'] || 2;\n\n    bizagi.showErrorAlertDialog = false;\n    // Load cases by process and task state\n    $.when(self.dataService.getCasesByWorkflow({\n      idWorkflow: self.idWorkflow,\n      taskState: self.taskState,\n      page: self.page })).\n\n    done(function (data) {\n      bizagi.showErrorAlertDialog = true;\n      data.processName = \"\";\n      // Get template\n      $.tmpl(self.casesTemplateList, data).appendTo(listContainer);\n\n      // Binds click handler for cases\n      $(\"li\", casesContainer).click(function () {\n        var cAse = $(this);\n\n        // Remove all selected elements\n        $(\".selected\", casesContainer).removeClass(\"selected\");\n\n        // Add selected class\n        cAse.addClass(\"selected\");\n\n        // Change the current process\n        var idCase = $(\"#idCase\", cAse).val();\n        var idWorkflow = $(\"#idWorkflowGQ\", cAse).val();\n\n        self.changeCase(idCase, idWorkflow);\n      });\n\n      // Resolve deferred\n      def.resolve();\n    }).fail(function (error) {\n      error = JSON.parse(error.responseText) || {};\n      var errorTemplate = self.workportalFacade.getTemplate(\"info-message\");\n      var message = error.message || error;\n      var errorHtml = $.tmpl(errorTemplate, {\n        message: message });\n\n\n      $('.ui-bizagi-error', errorHtml).width(\"50%\");\n\n      errorHtml.appendTo(casesContainer);\n      def.resolve();\n    });\n\n    return def.promise();\n\n  },\n  /*\r\n     *   When the window resizes, runs this method to adjust stuff in each controller or widget\r\n     *   Override when needed\r\n     */\n  performResizeLayout: function performResizeLayout() {\n    var self = this;\n\n    // Call base\n    this._super();\n\n    // Trigger render resize\n    if (self.renderingFacade) {\n      self.renderingFacade.resize({\n        forceResize: true });\n\n    }\n  },\n  /**\r\n     *  Change total processes indicator, when start favorites view and user select or deselect\r\n     *  favorite cases.\r\n     *\r\n     *  @param increment  {true || false }, true= increment +1 , false = decrement -1, default true.\r\n     */\n  updateCountProcess: function updateCountProcess(idWorkflow, increment) {\n    var self = this;\n    var content = self.getContent();\n    var processesContainer = $(\"#contentProc\", content);\n    var assigned = false;\n\n    increment = increment ? true : false;\n\n    // Check if task state is diferent to Favorites\n    if (self.params.taskState != \"Favorites\" || idWorkflow == \"\") {\n      return true;\n    }\n\n\n    // Get all process and verify new favorites count\n    // Loads processes by task state\n    $.when(self.dataService.getAllProcesses({\n      taskState: self.taskState,\n      onlyFavorites: self.onlyFavorites })).\n\n    done(function (data) {\n      data.categories = data.categories || {};\n      $.each(data.categories, function (key, value) {\n        $.each(value.workflows, function (key2, value2) {\n          if (value2.idworkflow == idWorkflow) {\n            // update value\n            // Find list elements\n            $('li > input[value=\"' + idWorkflow + '\"][id=\"idWorkflow\"]', processesContainer).parent().find(\".ui-bizagi-wp-app-inbox-processes-ncase\").html(value2.count);\n            assigned = true;\n          }\n        });\n      });\n\n      //Remove title All processes on inbox\n      data.categories[bizagi.localization.getResource('workportal-widget-inbox-all-processes')].key = \"\";\n\n      // If element reach 0 cases, set 0\n      if (!assigned) {\n        if (increment) {\n          $('li > input[value=\"' + idWorkflow + '\"][id=\"idWorkflow\"]', processesContainer).parent().find(\".ui-bizagi-wp-app-inbox-processes-ncase\").html(1);\n        } else {\n          $('li > input[value=\"' + idWorkflow + '\"][id=\"idWorkflow\"]', processesContainer).parent().find(\".ui-bizagi-wp-app-inbox-processes-ncase\").html(0);\n        }\n      }\n    });\n  },\n  /**\r\n     * Inject styles and js into the iframe\r\n     */\n  iframeOldRender: function iframeOldRender(canvas) {\n    var self = this;\n    var iframe;\n    var content = self.getContent();\n    var theme = \"bizagiDefault\";\n    var queryString = bizagi.readQueryString();\n\n    $.each(canvas, function () {\n      if ($(this).is(\"iframe\")) {\n        iframe = $(this);\n      }\n    });\n\n    iframe.load(function () {\n      // inject css\n      var content = $(this).contents();\n\n      // Fixed problem with relative path across the different browsers\n      var cssLocation = $.browser.mozilla || $.browser.webkit ? \"../../css/render_%theme%.css\" : \"css/render_%theme%.css\";\n\n      // Append javascript\n      $('head', content).append(\"<script type='text/javascript' src='../../js/renderintegration.js'></script>\");\n\n      // Define theme\n      cssLocation = cssLocation.replace(\"%theme%\", queryString[\"theme\"] || theme);\n\n      // Append css\n      $('body', content).append(\"<link type='text/css' rel='stylesheet' href='\" + cssLocation + \"'>\");\n    });\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   Name: BizAgi Workportal Desktop Inbox grid Widget Controller\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   Author: Diego Parra (based on  Edward Morales version)\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         *   -   This script will provide desktop overrides to implement the inbox grid widget\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         */\n\n// Extends itself\nbizagi.workportal.widgets.inboxGrid.extend(\"bizagi.workportal.widgets.inboxGrid\", {\n\n  /**\r\n                                                                                     * quick actions container\r\n                                                                                     */\n  SELECTOR_QUICK_ACTIONS_CONTAINER: \"#contentQuickActions\" },\n\n{\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    // Set decorator\n    new bizagi.workportal.widgets.inboxes.decorator(self);\n\n    // Declare widget variables\n    self.taskState = \"all\"; // general taskState from tabs\n    self.icoTaskState = \"\"; // real staskState from list cases\n    self.idWorkflow = 0;\n    self.isAdhocProcess = true;\n    self.idCase = 0;\n    self.page = 0;\n    self.adhocIds = [];\n    self.type = \"\";\n    self.smartInboxGuid = \"\";\n    self.smartInboxModel = new smartInboxModel();\n    self.liveFilters;\n\n    // Notifier\n    self.notifier = bizagi.injector.get('notifier');\n    //Load templates\n    self.templatesLoaded = self.loadTemplates({\n      \"inbox-grid\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.grid\").concat(\"#ui-bizagi-workportal-widget-inbox-grid\"),\n      \"inbox-grid-rubik\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.grid\").concat(\"#ui-bizagi-workportal-widget-inbox-grid-rubik\"),\n      \"inbox-grid-cases\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.grid\").concat(\"#ui-bizagi-workportal-widget-inbox-grid-cases\"),\n      \"inbox-common-processes\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-processes\"),\n      \"inbox-common-smartinbox\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-smartinbox-menu\"),\n      \"inbox-common-header-view\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-header-view\"),\n      \"inbox-common-case-summary\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description\"),\n      \"inbox-common-case-summary-subprocess\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description-subprocess\"),\n      \"inbox-common-case-summary-assignees\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description-assignees\"),\n      \"inbox-common-case-summary-events\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-case-description-events\"),\n      \"inbox-common-case-summary-oldrender\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.inbox.common\").concat(\"#ui-bizagi-workportal-widget-inbox-common-oldrender\"),\n      useNewEngine: false });\n\n    self._startQuickActions();\n\n    bizagi.inboxWidget = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID;\n  },\n\n  /*\r\n     *   To be overriden in each device to apply layouts\r\n     */\n  postRender: function postRender() {\n    var self = this;\n    var content = self.getContent();\n\n    bizagi.referrerParams = self.params.restoreStatus ? bizagi.referrerParams || {} : {};\n    self.params.taskState = self.params.taskState || bizagi.referrerParams.taskState || \"all\";\n\n    // Set templates\n    self.processesTemplate = self.getTemplate(\"inbox-common-processes\");\n    self.smartInboxTemplate = self.getTemplate(\"inbox-common-smartinbox\");\n    self.casesTemplate = self.getTemplate(\"inbox-grid-cases\");\n    self.caseSummaryTemplate = self.getTemplate(\"inbox-common-case-summary\");\n    self.caseSummaryTemplateSubprocess = self.getTemplate(\"inbox-common-case-summary-subprocess\");\n    self.caseSummaryTemplateAssigness = self.getTemplate(\"inbox-common-case-summary-assignees\");\n    self.caseSummaryTemplateEvents = self.getTemplate(\"inbox-common-case-summary-events\");\n    self.paginationTemplate = self.workportalFacade.getTemplate(\"inbox-common-pagination-grid\");\n\n    var security = new bizagi.workportal.command.security(self.dataService);\n    security.checkSecurityPerm(\"Inbox\").done(function (inbox) {\n\n      if (inbox) {\n        self.renderSummary();\n\n        // Configure view control\n        self.configureViewControl();\n\n        // Configure folders\n        // Check if its avalible\n        if (bizagi.override.enableSmartFolders) {\n          self.configureSmartFolders();\n        }\n      } else\n      {\n        $(\"#contentInbox\").remove();\n        $(\"#contentFramework\").remove();\n        $(\"#footer\").remove();\n        self.content = $(\"<div class=\\\"wp-empty\\\"></div>\");\n      }\n      self.comboRowsPerPage = new bizagi.workportal.results.per.page(bizagiConfig.inboxRowsPerPage);\n      self.renderNumberRowsCombo(self.comboRowsPerPage.initCombo());\n    });\n\n    //Load smartinbox modal according to the params\n    if (self.params.widget === bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX && self.params.action === \"create\") {\n      self.publish(\"showDialogWidget\", {\n        selectedInboxData: {\n          smartInboxId: self.params.id,\n          owner: self.params.owner,\n          actionName: self.params.action },\n\n        modalParameters: {\n          title: bizagi.localization.getResource(\"workportal-widget-smartinbox-title-new\", \"New Smart Inbox\"),\n          width: \"800px\",\n          showCloseButton: false,\n          refreshInbox: false },\n\n        showBackButton: false,\n        closeVisible: false,\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX,\n        buttons: {} });\n\n    }\n\n    $(\"#contentItemsPaginationInbox .filterColumns\", content).bind(\"click\", function (e) {\n      e.stopPropagation();\n      self.openLiveFilterDialog();\n    });\n\n    $(\"#contentItemsPaginationInbox .filterColumns\", content).bind(\"UPDATEFILTERSCOUNTER\", function (e, value) {\n      var $elm = $(this);\n      if (value == \"\" || value == 0) {\n        $elm.removeClass(\"active\");\n      } else {\n        $elm.addClass(\"active\");\n      }\n      this.setAttribute(\"data-value\", value);\n    });\n  },\n\n  /**\r\n      * Render the combo of results per page\r\n      * @param {*} comboDataSource \r\n      */\n  renderNumberRowsCombo: function renderNumberRowsCombo(comboDataSource) {\n    var self = this;\n    var content = self.getContent();\n    return self.comboRowsPerPage.renderNumberRowsCombo({\n      combo: comboDataSource,\n      content: content,\n      comboWrapper: $(\"#select-pagination\", content),\n      onChange: function onChange() {\n        if (self.quickActionsInstance) {\n          self.quickActionsInstance.setPersistCheckboxGroup(true);\n        }\n        self.changeProcess(\n        self.type == 'smartinbox' ? { type: 'smartinbox', smartInboxGuid: self.smartInboxGuid } : {});\n\n      },\n      setRowValue: self.setRowValue,\n      getRowValue: self.getRowValue });\n\n  },\n\n  /**\r\n      * Get user preference queriesItemsPerPage value\r\n      */\n  getRowValue: function getRowValue() {\n    var preferences = bizagi.services.preferences().getPreferences();\n    storedValue = preferences && preferences.inboxItemsPerPage ? preferences.inboxItemsPerPage : null;\n    return storedValue;\n  },\n\n  /**\r\n      * Set user preference queriesItemsPerPage value\r\n      * @param {*} value new value\r\n      */\n  setRowValue: function setRowValue(value) {\n    var self = this;\n    var modifiedJSON = bizagi.services.preferences().getPreferences();\n    modifiedJSON.inboxItemsPerPage = Number(value);\n    bizagi.services.preferences().overridePreferences(modifiedJSON);\n    if (self.renderNumberRowsCombo) {\n      self.comboRowsPerPage = new bizagi.workportal.results.per.page(bizagiConfig.inboxRowsPerPage);\n      self.renderNumberRowsCombo(self.comboRowsPerPage.initCombo());\n    }\n  },\n  /**\r\n     * Modal menu with folder actions\r\n     */\n  configureSmartFolders: function configureSmartFolders() {\n    var self = this;\n    var content = self.getContent();\n    var inboxArrow = $(\"#innerContentInbox>h2, #innerContentInbox .smartfolders\", content);\n\n    inboxArrow.click(function () {\n      // If the same popup is opened close it\n      if (self.currentPopup == \"folders\") {\n        bizagi.workportal.desktop.popup.closePopupInstance();\n        return;\n      }\n\n      // Creates popup\n      self.popupOpened = true;\n      self.currentPopup = \"folders\";\n      self.publish(\"popupWidget\", {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTFOLDERS,\n        options: {\n          sourceElement: \"#innerContentInbox>h2\",\n          modalClass: \"folders\",\n          'max-height': '346',\n          height: 'auto',\n          width: '110',\n          offset: \"88 0\",\n          activeScroll: true,\n          foldersView: 'inboxgrid',\n          closed: function closed() {\n            self.currentPopup = null;\n          } } });\n\n\n    });\n  },\n\n  /**\r\n      * validate needed params for the self.changeProcess request, return json with the params\r\n      * @param {ClassReference} self this class reference\r\n      * @param {JSON} options taskState,idWorkflow,orderType,order,orderFieldName,page,\r\n      */\n  setFiltersOnChangeProcess: function setFiltersOnChangeProcess(self, options) {\n    var res = {};\n    res.page = options[\"page\"] && options[\"page\"] > 0 ? options[\"page\"] : 1;\n    res.taskState = options.taskState || self.taskState;\n    res.idWorkflow = options.idWorkflow != undefined ? options.idWorkflow : self.idWorkflow || \"\";\n    // Set order vars\n    res.orderFieldName = options[\"orderFieldName\"] || (options.idWorkflow == self.idWorkflow || options.idWorkflow == undefined ? self.orderFieldName : \"\");\n    res.orderType = options[\"orderType\"] != undefined ? options[\"orderType\"] : options.idWorkflow == self.idWorkflow || options.idWorkflow == undefined ? self.orderType : \"0\";\n    res.order = options[\"order\"] || (options.idWorkflow == self.idWorkflow || options.idWorkflow == undefined ? self.order : \"\");\n\n    // Update internal variable\n    self.idWorkflow = options.idWorkflow != undefined ? options.idWorkflow : undefined;;\n    self.orderFieldName = res.orderFieldName;\n    self.orderType = res.orderType;\n    self.order = res.order;\n    self.type = options.type != undefined ? options.type : undefined;\n    self.smartInboxGuid = options.smartInboxGuid != undefined ? options.smartInboxGuid : undefined;\n    self.liveFilters = options.liveFilters != undefined ? options.liveFilters : undefined;\n    return res;\n  },\n  /*\r\n     *   Changes selected process and updates the content\r\n     */\n  changeProcess: function changeProcess(options) {var _ref;\n    var self = this;\n    var content = self.getContent();\n    var casesContainer = $(\"#contentCases\", content);\n    var procContainer = $(\"#contentProc\", content);\n    var pageSelector = $(\"#footer #casesPagination\");\n    var nElemToShow = 14;\n    options = options || {};\n    bizagi.workportal.widgets.inbox.SET_CHANGE_PROCESS_REFERRER_PARAMS(options);\n\n    // Verify inbox name parameter\n    if (bizagi.util.isEmpty(options.inboxName)) {\n      options.inboxName = $(\"#contentInboxName\").text();\n    }\n\n    var res = self.setFiltersOnChangeProcess(self, options);\n    var page = res.page;\n    var taskState = res.taskState;\n    var idWorkflow = res.idWorkflow;\n    var orderFieldName = res.orderFieldName;\n    var orderType = res.orderType;\n    var order = res.order;\n    var liveFilters, storedFilter, updateCallBack;\n    if (!bizagi.util.isEmpty(options.smartInboxGuid)) {\n      storedFilter = self.getSmartFiltersFromStorage(\"smartinbox\", options.smartInboxGuid);\n      liveFilters = self.encodeLiveFilter(storedFilter);\n      updateCallBack = function updateCallBack(filters) {\n        self.setSmartFiltersToStorage(\"smartinbox\", options.smartInboxGuid, filters);\n      };\n    } else if (!bizagi.util.isEmpty(options.idWorkflow)) {\n      storedFilter = self.getSmartFiltersFromStorage(\"process\", options.idWorkflow);\n      liveFilters = self.encodeLiveFilter(storedFilter);\n      updateCallBack = function updateCallBack(filters) {\n        self.setSmartFiltersToStorage(\"process\", options.idWorkflow, filters);\n      };\n    } else if (bizagi.util.isEmpty(options.idWorkflow)) {\n      storedFilter = self.getSmartFiltersFromStorage(\"process\", -1);\n      liveFilters = self.encodeLiveFilter(storedFilter);\n      updateCallBack = function updateCallBack(filters) {\n        self.setSmartFiltersToStorage(\"process\", -1, filters);\n      };\n    }\n\n    bizagi.referrerParams.page = page;\n\n    var smartfoldersParameters = \"\";\n\n    if (self.params.smartfoldersParameters && self.params.smartfoldersParameters.urlParameters) {\n      smartfoldersParameters = self.params.smartfoldersParameters.urlParameters;\n    }\n    // Clear content\n    casesContainer.empty();\n    pageSelector.hide().empty();\n    // Load cases by process and task state\n    bizagi.showErrorAlertDialog = false;\n\n    var customizedColumnsParams = self.type == 'smartinbox' ? (_ref = {\n\n      type: self.type,\n      smartInboxGuid: self.smartInboxGuid,\n      pageSize: self.getRowValue() || 10,\n      order: order,\n      orderFieldName: orderFieldName,\n      orderType: orderType,\n      page: page }, _defineProperty(_ref, \"pageSize\",\n    self.getRowValue() || 10), _defineProperty(_ref, \"smartfoldersParameters\",\n    smartfoldersParameters), _defineProperty(_ref, \"liveFilters\",\n    liveFilters), _defineProperty(_ref, \"taskState\",\n    taskState), _ref) :\n\n\n    {\n      idWorkflow: idWorkflow,\n      taskState: taskState,\n      // Filter by favorites  only when we are searching all processes and favorites\n      onlyFavorites: eval(self.onlyFavorites),\n      // Sort and order parameters\n      order: order,\n      orderFieldName: orderFieldName,\n      orderType: orderType,\n      page: page,\n      pageSize: self.getRowValue() || 10,\n      smartfoldersParameters: smartfoldersParameters,\n      liveFilters: liveFilters,\n      group: bizagiConfig.groupByCaseNumber ? \"T_RADNUMBER\" : null };\n\n\n    $.when(self.dataService.getCustomizedColumnsData(customizedColumnsParams)).done(function (data) {\n      var _retryRequest = bizagi.util.tryCatch(\n      function () {return page != 1 && data.cases.rows.length === 0 && data.cases.page === 0;},\n      false),\n\n      _refererChangeProcess = bizagi.util.tryCatch(\n      function () {return bizagi.referrerParams.changeProcessOptions;},\n      {});\n\n\n      self.processHeaderLiveFilters(data.cases);\n\n      if (_retryRequest === true) {\n        _refererChangeProcess.page = 1;\n        self.changeProcess(_refererChangeProcess);\n        return false;\n      }\n      bizagi.showErrorAlertDialog = true;\n      $(data.cases.rows).each(function (key, value) {\n        if (!value.isAdhocProcess || typeof value.isAdhocProcess === 'undefined') value.isAdhocProcess = false;\n        if (value.isAdhocProcess) {\n          self.adhocIds.push({\n            'caseId': value.id,\n            'processId': value.idAdhocProcess });\n\n        }\n        value.enableTimelineByProcessType = self.isAvailableTimelineByProcessType(value.isAdhocProcess);\n      });\n      // Define list of cases\n      bizagi.lstIdCases = data.cases.lstIdCases;\n\n      //  Hack json data :(\n      var i = 0;\n      $(data.cases.columnTitle).each(function (key, value) {\n        if (value.order == \"T_idTask\") {\n          $(data.cases.rows).each(function (key2, value2) {\n            if (!self.isArray(value2[\"fields\"][i])) {\n              data[\"cases\"][\"rows\"][key2][\"fields\"][i] = {\n                \"workitems\": [{\n                  \"TaskName\": value2[\"fields\"][i],\n                  \"State\": data[\"cases\"][\"rows\"][key2][\"taskState\"] }] };\n\n\n            }\n          });\n        }\n        i++;\n      });\n\n      // Show or hide \"load more\" button\n      var pdata = {};\n      pdata.pagination = data[\"cases\"][\"totalPages\"] > 1 ? true : false;\n      pdata.page = bizagi.referrerParams.page || data[\"cases\"][\"page\"];\n\n      // set total pages\n      pdata.pages = {};\n      var pageToshow = nElemToShow > data[\"cases\"][\"totalPages\"] ? data[\"cases\"][\"totalPages\"] : nElemToShow;\n      for (i = 1; i <= pageToshow; i++) {\n        pdata.pages[i] = {\n          \"pageNumber\": i };\n\n      }\n\n      // Set style pagination\n      pdata[\"gridPagination\"] = \"gridCasePagination\";\n      pdata.previousPage = data.cases.page > 1 ? data.cases.page - 1 : 1;\n      pdata.nextPage = data.cases.page < data.cases.totalPages ? data.cases.page + 1 : data.cases.totalPages;\n      pdata.totalPages = data.cases.totalPages;\n      $(pageSelector).empty();\n      if (pdata.totalPages > 1) {\n        var paginationHtml = $.tmpl(self.paginationTemplate, pdata).html();\n\n        // Get template\n        if ($(pageSelector).html().length == 0)\n        $(pageSelector).show().append(paginationHtml);\n      }\n      data.cases.enableFolders = bizagi.override.enableFolder || false;\n      data.cases.inboxName = options.inboxName;\n      data.cases = bizagi.util.formatDecimalAndMoneyCell(data.cases, BIZAGI_DEFAULT_CURRENCY_INFO);\n\n      // Get security\n      var security = new bizagi.workportal.command.security(self.dataService);\n      $.when(security.checkSecurityPerm(\"GraphicQuery\"),\n      security.checkSecurityPerm(\"TimeLine\")).done(function (graphicQuery, timeLine) {\n        data.cases.graphicQuery = graphicQuery;\n        data.cases.timeLine = timeLine && bizagi.override.enableFeatureShowTimelineButton;\n        data.cases.groupByCaseNumber = bizagiConfig.groupByCaseNumber;\n        data.cases.haveQuickActions = data.cases.quickActions && data.cases.quickActions.length > 0;\n        data.cases.hasLiveFilters = $.any(data.cases.columnTitle, function (item) {return item.isFiltered == \"true\";});\n        data.cases.liveFiltersEnable = bizagi.util.isEnableFeature(\"enableLiveFilters\");\n\n        // Get template\n        var renderedTemplate = $.tmpl(self.casesTemplate, data.cases, {\n          enableSmartFilter: self.smartInboxGuid,\n          showMagicButton: function showMagicButton() {return bizagi.override.enableAdhocProcess;},\n          setFormat: self.formatValue,\n          isArray: self.isArray,\n          formatCategories: self.formatCategories,\n          isDate: bizagi.util.isDate,\n          isFiltered: false,\n          replaceLineBreak: function replaceLineBreak(string) {\n            return typeof string === \"string\" ? string.search(/\\n/) !== -1 ? string.replaceAll(\"\\n\", \"<br/>\") : string : string;\n          },\n          getRadNumberColumnIndex: function getRadNumberColumnIndex() {\n            var data = this.data;\n            var index = -1;\n            for (var i = 0, l = data.columnTitle.length; i < l; i++) {\n              if (data.columnTitle[i].fieldName == \"I_RadNumber\") {\n                index = i;\n              }\n            }\n            return index;\n          },\n          showColumn: function showColumn(columnIndex) {\n            var index = this.getRadNumberColumnIndex();\n            return this.data.groupByCaseNumber && index == columnIndex ? \" style=display:none; \" : \"\";\n          },\n          createGroupedHeader: function createGroupedHeader(rowIndex) {\n            var data = this.data;\n            var result = false;\n            var radNumber = this.getRadNumber(data.rows[rowIndex]);\n            if (data.groupByCaseNumber) {\n              if (rowIndex == 0) {\n                result = true;\n              } else {\n                var previousRadNumber = this.getRadNumber(data.rows[rowIndex - 1]);\n                if (radNumber != previousRadNumber) {\n                  result = true;\n                }\n              }\n            }\n            return result;\n          },\n          getRadNumber: function getRadNumber(row) {\n            var index = this.getRadNumberColumnIndex();\n            return index >= 0 ? row.fields[index] : \"\";\n          },\n          /**\r\n              * validate if in the first row and group by cases and if is IE necessary for bug QAF-1883 fixed head table\r\n              * @param {Int} rowIndex row index item of case\r\n              */\n          isIEAndFirstRowAndGroupCases: function isIEAndFirstRowAndGroupCases(rowIndex) {\n            return rowIndex == 0 && this.data.groupByCaseNumber && bizagi.util.isIE();\n          } }).\n        appendTo(casesContainer);\n\n        if (data.cases.haveQuickActions) {\n          var workItemsInfo = self._getWorkItemsInfo(data.cases.columnTitle, data.cases.rows);\n          self._QuickActionsRenderIn(renderedTemplate, workItemsInfo, data.cases.quickActions);\n        }\n\n        //There is an issue with ie9 and long tables, its removes the space between closed td and next opened td\n        if (bizagi.util.isIE9()) {\n          var expr = new RegExp('>[ \\t\\r\\n\\v\\f]*<', 'g');\n          var tbhtml = $(\"#ui-bizagi-wp-app-inbox-grid-cases\", casesContainer).html();\n\n          $(\"#ui-bizagi-wp-app-inbox-grid-cases\", casesContainer).html(tbhtml.replace(expr, \"><\"));\n        }\n\n        // Format invariant dates\n        if (bizagi.override.ShowTimeInInboxDates == 1 || bizagi.override.ShowTimeInInboxDates == undefined)\n        bizagi.util.formatInvariantDate(content, self.getResource(\"dateFormat\") + \" \" + self.getResource(\"timeFormat\"));else\n\n        bizagi.util.formatInvariantDate(content, self.getResource(\"dateFormat\"));\n\n        // Set data for pagination\n        $(\"li\", pageSelector).parent().data(\"order\", order);\n        $(\"li\", pageSelector).parent().data(\"orderFieldName\", orderFieldName);\n        $(\"li\", pageSelector).parent().data(\"orderType\", orderType);\n        // Crate pagination control\n        $(\"ul\").bizagiPagination({\n          maxElemShow: 50,\n          totalPages: pdata.totalPages,\n          actualPage: pdata.page,\n          listElement: $(\"ul\", pageSelector),\n          clickCallBack: function clickCallBack(options) {\n            self.changeProcess(\n            self.type == 'smartinbox' ?\n            {\n              type: 'smartinbox',\n              smartInboxGuid: self.smartInboxGuid,\n              page: options.page,\n              order: options.parent.data(\"order\"),\n              orderFieldName: options.parent.data(\"orderFieldName\"),\n              orderType: options.parent.data(\"orderType\") } :\n\n\n            {\n              idWorkflow: idWorkflow,\n              page: options.page,\n              order: options.parent.data(\"order\"),\n              orderFieldName: options.parent.data(\"orderFieldName\"),\n              orderType: options.parent.data(\"orderType\") });\n\n          } });\n\n\n\n        //Work on it button\n        // My Folders\n        $(\"#btn-show-smartinbox\", content).click(function (e) {\n          self.publish(\"showDialogWidget\", {\n            modalParameters: {\n              title: bizagi.localization.getResource(\"workportal-widget-smartinbox-title-new\", \"New Smart Inbox\"),\n              width: \"800px\",\n              showCloseButton: false,\n              refreshInbox: false },\n\n            showBackButton: false,\n            closeVisible: false,\n            widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX,\n            buttons: {} });\n\n        });\n\n        //$(\".workonitRow\", content).button();\n        $(\".inbox-grid-tooltip-button\", content).tooltip();\n\n        // Set even style\n        $(\"#ui-bizagi-wp-app-inbox-grid-cases tr:nth-child(even)\", renderedTemplate).addClass(\"event\");\n\n        // Add click event for activities\n        $(\".ui-bizagi-wp-app-inbox-activity-name\", renderedTemplate).click(function () {\n          var referrerParams = {\n            taskState: self.params.taskState,\n            idWorkItem: $(this).find(\"#idWorkItem\").val(),\n            idCase: $(this).find(\"#idCase\").val(),\n            idTask: $(this).find(\"#idTask\").val(),\n            onlyFavorites: self.onlyFavorites,\n            idWorkflow: self.idWorkflow,\n            referrer: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID };\n\n\n          $.extend(bizagi.referrerParams, bizagi.referrerParams, referrerParams);\n\n          // Call routing action\n          var idCase = $(this).find(\"#idCase\").val();\n          var idTask = $(this).find(\"#idTask\").val();\n          var idWorkItem = $(this).find(\"#idWorkItem\").val();\n          var idWorkflow = $(this).closest('tr').data(\"idworkflow\");\n\n          self.publish(\"executeAction\", {\n            action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n            idCase: idCase,\n            idWorkItem: idWorkItem,\n            idTask: idTask,\n            idWorkflow: idWorkflow });\n\n        });\n\n        $(\".ui-bizagi-wp-app-inbox-grouped\", renderedTemplate).bind(\"click\", function () {\n          var radNumber = $(this).data(\"radnumber\");\n          var referrerParams = {\n            taskState: self.params.taskState,\n            idWorkItem: $(this).find(\"#idWorkItem\").val(),\n            idCase: $(this).find(\"#idCase\").val(),\n            idTask: $(this).find(\"#idTask\").val(),\n            onlyFavorites: self.onlyFavorites,\n            idWorkflow: self.idWorkflow,\n            referrer: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID };\n\n          $.extend(bizagi.referrerParams, bizagi.referrerParams, referrerParams);\n\n          var idCase = $(this).find(\"#idCase\").val();\n\n          self.publish(\"executeAction\", {\n            action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n            idCase: idCase });\n\n        });\n\n        // Bind favorites start\n        $(renderedTemplate).delegate(\".ui-bizagi-wp-app-inbox-cases-start\", \"click\", function (e) {\n          e.stopPropagation();\n          var favoriteOptions;\n          var elmnt = this;\n          $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-cases-start\").addClass(\"ui-bizagi-wp-app-inbox-cases-start-wait\");\n\n          // check if its favorite\n          if ($(elmnt).parent().find(\"#isFavorite\").val() == \"false\") {\n            favoriteOptions = {\n              idObject: $(elmnt).parent().find(\"#idCase\").val(),\n              favoriteType: \"CASES\" };\n\n            $.when(\n            self.dataService.addFavorite(favoriteOptions)).\n            done(function (favoritesData) {\n              $(elmnt).parent().find(\"#guidFavorite\").val(favoritesData[\"idFavorites\"]);\n              $(elmnt).removeClass(\"bz-icon-star-outline\").addClass(\"bz-icon-star\");\n              $(elmnt).parent().find(\"#isFavorite\").val(\"true\");\n              $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-cases-start-wait\").addClass(\"ui-bizagi-wp-app-inbox-cases-start\");\n              self.updateCountProcess(idWorkflow, true);\n            });\n          } else {\n            favoriteOptions = {\n              idObject: $(elmnt).parent().find(\"#guidFavorite\").val(),\n              favoriteType: \"CASES\" };\n\n            $.when(\n            self.dataService.delFavorite(favoriteOptions)).\n            done(function (favoritesData) {\n              if (favoritesData[\"deleted\"] == \"true\" || favoritesData[\"deleted\"] == true) {\n                $(elmnt).parent().find(\"#guidFavorite\").val(\"\");\n                $(elmnt).removeClass(\"bz-icon-star\").addClass(\"bz-icon-star-outline\");\n                $(elmnt).parent().find(\"#isFavorite\").val(\"false\");\n                $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-cases-start-wait\").addClass(\"ui-bizagi-wp-app-inbox-cases-start\");\n                self.updateCountProcess(idWorkflow, false);\n              }\n            });\n          }\n        });\n\n        // show case summary\n        $(\"i.bz-icon-search-outline\", renderedTemplate).click(function () {\n          // Call routing action\n          var idCase = $(this).parents(\"td\").first().find(\"#idCase\").val();\n          var idWorkflow = $(this).closest(\"tr\").data(\"idworkflow\");\n          self.showCase(idCase, idWorkflow);\n        });\n\n\n\n        // Add click to view workflow\n        $(\".ui-bizagi-wp-app-inbox-cases-ico-view\", renderedTemplate).click(function (event) {\n          var idCase = $(this).parent().children(\"#idCase\").val();\n          var idWorkflow = $(this).closest(\"tr\").data(\"idworkflow\");\n          var isAdhoc = $(this).closest(\"tr\").data(\"isadhoc\");\n          var processId = null;\n          if (isAdhoc) {\n            for (var i = 0; i < self.adhocIds.length; i++) {\n              if (parseInt(idCase) == self.adhocIds[i].caseId) {\n                processId = self.adhocIds[i].processId;\n                self.showGraphicQuery({ idCase: idCase, idWorkflow: idWorkflow, isAdhoc: true, idProcess: processId });\n                break;\n              }\n            }\n          } else {\n            self.showGraphicQuery({ idCase: idCase, idWorkflow: idWorkflow });\n          }\n\n          event.preventDefault();\n        });\n\n        // Add click to timeline icon\n        $(\".js-show-timeline\", renderedTemplate).click(function (event) {\n          var idCase = $(this).parent().children(\"#idCase\").val();\n          var caseNumber = $.trim($(this).closest(\"tr\").find(\".I_RadNumber\").text());\n          self.showTimeLine({ radNumber: caseNumber, idCase: idCase });\n        });\n        // bind for sort columns\n        $(\".sortColumnsData\", casesContainer).click(function () {\n          self.changeProcess(\n          self.type == 'smartinbox' ?\n          {\n            type: self.type,\n            smartInboxGuid: self.smartInboxGuid,\n            orderFieldName: $(this).find(\"#orderFieldName\").val(),\n            orderType: $(this).find(\"#orderType\").val() == 0 ? 1 : 0,\n            order: $(this).find(\"#order\").val() } :\n\n\n          {\n            idWorkflow: idWorkflow,\n            orderFieldName: $(this).find(\"#orderFieldName\").val(),\n            orderType: $(this).find(\"#orderType\").val() == 0 ? 1 : 0,\n            order: $(this).find(\"#order\").val() });\n\n        });\n\n        $(\".filterColumnsHover\", casesContainer).click(function (e) {\n          e.stopPropagation();\n\n          var data = $(e.currentTarget).data();\n          if (!data.isfiltered) {\n            self.openLiveFilterDialog({\n              injectFilter: {\n                \"column\": data.column,\n                \"operator\": \"\",\n                \"type\": \"\" } });\n\n\n          } else {\n            self.openLiveFilterDialog();\n          }\n\n        });\n\n\n        // Add scroll bars\n        $(casesContainer).bizagiScrollbar({\n          \"autohide\": false });\n\n\n        // Bind Folders\n        $(\".ui-bizagi-inbox-folder\", renderedTemplate).click(function (e) {\n          e.stopPropagation();\n          var idCase = $(this).data(\"idcase\");\n\n          // If the same popup is opened close it\n          if (self.currentPopup == \"folders\") {\n            bizagi.workportal.desktop.popup.closePopupInstance();\n            return;\n          }\n\n          // Creates popup\n          self.popupOpened = true;\n          self.currentPopup = \"folders\";\n          self.publish(\"popupWidget\", {\n            widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_FOLDERS,\n            options: {\n              sourceElement: $(this),\n              modalClass: \"folders\",\n              'max-height': '146',\n              height: 'auto',\n              width: '110',\n              offset: \"88 0\",\n              activeScroll: true,\n              onlyFolderMode: true,\n              idCase: idCase,\n              closed: function closed() {\n                self.currentPopup = null;\n              } } });\n\n\n        });\n\n        $(\".ui-bizagi-wp-app-magic-button\", casesContainer).bind(\"click\", function () {\n          self.publish(\"changeWidget\", {\n            widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INTEGRATION,\n            module: \"adhocProcess\",\n            selector: \"app-root\" });\n\n\n        });\n        security.checkSecurityPerm(\"NewCase\").then(function (authorized) {\n          if (authorized) {\n            $(\"#ui-bizagi-wp-app-inbox-grid-nocases #bz-create-new-cases\", casesContainer).click(function () {$(\"#menuListNew\").trigger(\"click\");});\n          } else {\n            $(\"#ui-bizagi-wp-app-inbox-grid-nocases #bz-create-new-cases\", casesContainer).hide();\n          }\n        });\n        $(\"#ui-bizagi-wp-app-inbox-grid-nocases #bz-create-live-filter\").click(function () {$(\".filterColumns \").trigger(\"click\");});\n\n\n        $(procContainer).bizagiScrollbar();\n      });\n\n      var queryTableElement = $(\"li#contentCases > .ui-bizagi-wp-app-inbox-grid-cases-container-parent-tableHeadFixed > .ui-bizagi-wp-app-inbox-grid-cases-container-tableHeadFixed > table\");\n      self.setTableHeadFixed({\n        TableElement: queryTableElement,\n        groupByCaseNumber: data.cases.groupByCaseNumber,\n        floatOptions: {\n          position: 'fixed',\n          zIndex: 1,\n          scrollContainer: function scrollContainer() {\n            return $(\"li#contentCases > .ui-bizagi-wp-app-inbox-grid-cases-container-parent-tableHeadFixed > .ui-bizagi-wp-app-inbox-grid-cases-container-tableHeadFixed\");\n          } } });\n\n\n      queryTableElement.find(\"thead > tr\").height(queryTableElement.prev().height());\n\n      // Validate livefilters\n      var cloneStoredFilter = bizagi.clone(storedFilter);\n      $.each(storedFilter, function (key, value) {\n        if (!self.isValidFilter(value, data.cases.columnTitle)) {\n          // Remove invalid filter\n          cloneStoredFilter.splice(key, 1);\n          updateCallBack(cloneStoredFilter);\n          $(\"#contentItemsPaginationInbox .filterColumns\").trigger(\"UPDATEFILTERSCOUNTER\", cloneStoredFilter.count());\n        }\n      });\n\n    }).fail(function (error) {\n      var message;\n      var errorTemplate = self.workportalFacade.getTemplate(\"info-message\");\n\n      try {\n        error = JSON.parse(error.responseText) || {};\n        message = error.message || error;\n      } catch (e) {\n        message = bizagi.localization.getResource(\"workportal-general-error-message-contact-administrator\");\n      }\n      var errorHtml = $.tmpl(errorTemplate, {\n        message: message });\n\n\n      errorHtml.appendTo(casesContainer);\n\n      // Recall custom columns without filters in order to get list of columns for livefilter \n      customizedColumnsParams.liveFilters = undefined;\n      $.when(self.dataService.getCustomizedColumnsData(customizedColumnsParams)).done(function (data) {\n        self.processHeaderLiveFilters(data.cases);\n      });\n    });\n  },\n\n  /*\r\n     *   Misc method to format cell values\r\n     */\n  formatRequest: function formatRequest(value) {\n    return value;\n  },\n  /**\r\n     * Misc method to render categories\r\n     */\n  formatCategories: function formatCategories(value) {\n    return value;\n\n  },\n  isArray: function isArray(value) {\n    if (_typeof(value) == 'object') {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  /**\r\n     *  Change total processes indicator, when start favorites view and user select or deselect\r\n     *  favorite cases.\r\n     *\r\n     *  @augments increment  {true || false }, true= increment +1 , false = decrement -1, default true.\r\n     */\n  updateCountProcess: function updateCountProcess(idWorkflow, increment) {\n    var self = this;\n    var content = self.getContent();\n    var processesContainer = $(\"#contentProc\", content);\n    var assigned = false;\n\n    increment = increment ? true : false;\n\n    // Check if task state is diferent to Favorites\n    if (self.params.taskState != \"Favorites\" || idWorkflow == \"\") {\n      return true;\n    }\n\n    // Get all process and verify new favorites count\n    // Loads processes by task state\n    $.when(self.dataService.getAllProcesses({\n      taskState: self.taskState,\n      onlyFavorites: self.onlyFavorites })).\n\n    done(function (data) {\n      data.categories = data.categories || {};\n      $.each(data.categories, function (key, value) {\n        $.each(value.workflows, function (key2, value2) {\n          if (value2.idworkflow == idWorkflow) {\n            // update value\n            // Find list elements\n            $('li > input[value=\"' + idWorkflow + '\"][id=\"idWorkflow\"]', processesContainer).parent().find(\".ui-bizagi-wp-app-inbox-processes-ncase\").html(value2.count);\n            assigned = true;\n          }\n        });\n      });\n\n      // If element reach 0 cases, set 0\n      if (!assigned) {\n        if (increment) {\n          $('li > input[value=\"' + idWorkflow + '\"][id=\"idWorkflow\"]', processesContainer).parent().find(\".ui-bizagi-wp-app-inbox-processes-ncase\").html(1);\n        } else {\n          $('li > input[value=\"' + idWorkflow + '\"][id=\"idWorkflow\"]', processesContainer).parent().find(\".ui-bizagi-wp-app-inbox-processes-ncase\").html(0);\n        }\n      }\n    });\n  },\n  /**\r\n     * Inject styles and js into the iframe\r\n     */\n  iframeOldRender: function iframeOldRender(canvas) {\n    var self = this;\n    var iframe;\n    var content = self.getContent();\n    var theme = \"bizagiDefault\";\n    var queryString = bizagi.readQueryString();\n\n    $.each(canvas, function () {\n      if ($(this).is(\"iframe\")) {\n        iframe = $(this);\n      }\n    });\n\n    iframe.load(function () {\n      // inject css\n      var content = $(this).contents();\n\n      // Fixed problem with relative path across the different browsers\n      var cssLocation = $.browser.mozilla || $.browser.webkit ? \"../../css/render_%theme%.css\" : \"css/render_%theme%.css\";\n\n      // Define theme\n      cssLocation = cssLocation.replace(\"%theme%\", queryString[\"theme\"] || theme);\n\n      // Append css\n      $('body', content).append(\"<link type='text/css' rel='stylesheet' href='\" + cssLocation + \"'>\");\n\n      // Append javascript\n      //  $('head',content).append(\"<script type='text/javascript' src='../../js/renderintegration.js'></script>\");\n    });\n  },\n\n  /*\r\n     *   Disposes the widget\r\n     */\n  dispose: function dispose() {\n    var self = this;\n    var content = self.getContent();\n\n\n\n    // Call base\n    self._super();\n  } });\n\n\n\nbizagi.workportal.widgets.inboxGrid.extend(\"bizagi.workportal.widgets.inboxGridRubik\", {}, {\n  /**\r\n                                                                                              * Overrite of renderContent\r\n                                                                                              *\r\n                                                                                              * @return {*}\r\n                                                                                              */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"inbox-grid-rubik\");\n\n    // Render content\n    var content = self.content = $.tmpl(template, {\n      enableSmartFilter: self.smartInboxGuid });\n\n\n    // Set inbox view variable\n    bizagi.workportal.currentInboxView = self.getWidgetName();\n\n    return content;\n  },\n\n  /**\r\n      * Override of postRender\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    bizagi.referrerParams = self.params.restoreStatus ? bizagi.referrerParams || {} : {};\n\n    self.changeProcess({ idWorkflow: \"\", workflowName: \"All Cases \", smartfoldersParameters: \"\" });\n\n    /**\r\n                                                                                                     * Publish event to list cases\r\n                                                                                                     *\r\n                                                                                                     * @param {idWorkflow, page, orderFieldName, orderType, order, taskState}\r\n                                                                                                     */\n    self.getEventListener().on(\"PROCESS-VIEW-UPDATE\", function (e, params) {\n      self.changeProcess(params);\n    });\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name: BizAgi Workportal QuickAction principal\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: Kvn Alvarado (based on  Edward Morales version)\r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.quickActions\", {\n\n  /**\r\n                                                                                     * class for more button when is active, showing hidden buttons\r\n                                                                                     */\n  CLASS_ACTIVE_MORE_BUTTON: \"active\",\n\n  /**\r\n                                       * total items selected\r\n                                       */\n  SELECTOR_NUMBER_SELECTED: \"#ui-bizagi-workportal-widget-quick-actions-details > .quick-actions-details-activities-selected\",\n\n  /**\r\n                                                                                                                                * container for quick actions buttons\r\n                                                                                                                                */\n  SELECTOR_BUTTONS_CONTAINER: \"#ui-bizagi-workportal-widget-quick-actions-buttons\",\n\n  /**\r\n                                                                                     * buttons for quick actions\r\n                                                                                     */\n  SELECTOR_BUTTON_LAUNCH: \"button.quick-actions-details-button-launch\",\n\n  /**\r\n                                                                         * selector where the summary is shown\r\n                                                                         */\n  SELECTOR_SUMMARY_EXECUTED_ACTIONS: \".summary-quick-actions-executed\",\n\n  /**  \r\n                                                                         * buttons for quick actions\r\n                                                                         */\n  SELECTOR_HIDDEN_BUTTON_LAUNCH: \"div.quick-actions-details-button-launch-hidden\",\n\n  /**\r\n                                                                                    * button for show more\r\n                                                                                    */\n  SELECTOR_MORE_BUTTON: \"button#quick-actions-details-more-button\",\n\n  /**\r\n                                                                     * button for show more\r\n                                                                     */\n  SELECTOR_HIDDEN_BUTTONS_CONTAINER: \"div#quick-actions-details-buttons-hidden-container\",\n\n  /**\r\n                                                                                            * Title for inbox grid \r\n                                                                                            */\n  SELECTOR_INBOX_GRID_TITLE: \"div#contentInboxName\",\n\n  /**\r\n                                                      * data for widget\r\n                                                      */\n  DATA_PROPERTIES: {\n    // Int : total activities selected for quickActions\n    TOTAL_SELECTED: \"TOTAL_SELECTED\",\n\n    // Boolean : show principal container\n    SHOW: \"SHOW\",\n\n    // Array : list data for all buttons\n    BUTTONS: \"BUTTONS\",\n\n    // Array : list data for buttons to show in top\n    BUTTONS_TO_SHOW: \"BUTTONS_TO_SHOW\",\n\n    // Array : list data for hide for more button\n    BUTTONS_HIDDEN: \"BUTTONS_HIDDEN\",\n\n    // Int : width buttons container\n    WIDTH_BUTTONS_CONTAINER: \"WIDTH_BUTTONS_CONTAINER\",\n\n    // Boolean : if true then show the more button\n    SHOW_MORE_BUTTON: \"SHOW_MORE_BUTTON\",\n\n    // Boolean : if true then show the hidden buttons\n    SHOW_HIDDEN_BUTTONS: \"SHOW_HIDDEN_BUTTONS\" } },\n\n\n{\n  /**\r\n   *   Constructor\r\n   */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this,\n    _params = {\n      callback: self.callbackCheckboxGroup.bind(self),\n      getContainerSelector: params.getContainerSelector,\n      checkAllSelector: params.checkAllSelector };\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.checkboxGroup = new bizagi.workportal.widgets.checkboxGroup(self.workportalFacade, self.dataService, _params);\n    self.checkboxGroup.render({});\n\n    self.params = {\n      refreshShowedResults: params.refreshShowedResults };\n\n\n    //Load templates\n    self.loadTemplates({\n      \"quick-actions-container\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.quickActions\").concat(\"#ui-bizagi-workportal-widget-quick-actions\"),\n      \"quick-actions-button\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.quickActions\").concat(\"#ui-bizagi-workportal-widget-quick-actions-button\"),\n      \"quick-actions-modal-confirm\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.quickActions\").concat(\"#ui-bizagi-workportal-widget-quick-actions-modal-confirm\"),\n      \"quick-actions-more-button\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.quickActions\").concat(\"#ui-bizagi-workportal-widget-quick-actions-more-button\"),\n      \"quick-actions-button-hidden\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.quickActions\").concat(\"#ui-bizagi-workportal-widget-quick-actions-button-hidden\"),\n      useNewEngine: false });\n\n    self._setInitialData();\n    self.setPersistCheckboxGroup(false);\n  },\n\n  /**\r\n      * @override\r\n      */\n  renderContent: function renderContent() {\n    var self = this,\n    _template = self.getTemplate(\"quick-actions-container\"),\n    _content = self.content = $.tmpl(_template, {});\n\n    _content.appendTo(self.container);\n    self._events();\n  },\n\n  /**\r\n      * set the container where we have to render in\r\n      * @param {Jquery Element} container parent of this quickAction\r\n      */\n  renderIn: function renderIn(container) {\n    var self = this;\n    self.container = container;\n    self.render();\n  },\n\n  /**\r\n      * @override\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self._updateView();\n  },\n\n  /**\r\n      * Set the persist checkbox property\r\n      * @param {*} newValue\r\n      */\n  setPersistCheckboxGroup: function setPersistCheckboxGroup(newValue) {\n    var self = this;\n    self.persistCheckboxGroup = newValue;\n  },\n\n  /**\r\n      * Set the items information to execute\r\n      * @param {*} itemsInfo a dictionary with the workItems info,\r\n      * where the id workItem is the key and iis information (idTask, idCase, etc) the value\r\n      */\n  setDataToExecute: function setDataToExecute(itemsInfo, quickActions) {\n    var self = this;\n    self.itemsInfo = itemsInfo;\n    self.setAvailableButtons(quickActions);\n  },\n\n  /**\r\n      * Callback when the checked Items change\r\n      */\n  callbackCheckboxGroup: function callbackCheckboxGroup() {\n    var self = this;\n    self.itemsSelected = self.checkboxGroup.getChecked();\n    self._updateButtonsToShow();\n    self._setItemsSelected(self.itemsSelected.length);\n  },\n\n  /**\r\n      * Update the buttons to be showed depending on the selected  items\r\n      */\n  _updateButtonsToShow: function _updateButtonsToShow() {\n    var self = this,\n    _buttonsToShow = self.getButtonsToShow();\n    self._showCurrentButtons(_buttonsToShow);\n  },\n\n  /**\r\n      * Filter the buttons to show depending on selected items\r\n      */\n  getButtonsToShow: function getButtonsToShow() {\n    var self = this,\n    _buttons = [];\n    _labels = Object.keys(self.quickActionsPerName);\n\n    for (var i = 0; i < _labels.length; i++) {\n      var _label = _labels[i],\n      _buttonQuickActions = self.quickActionsPerName[_label],\n      _show = self._shouldShowButton(_buttonQuickActions);\n\n      if (_show) {\n        _buttons.push(_label);\n      }\n    }\n    return _buttons;\n  },\n\n  /**\r\n      * Check if a button should be showed\r\n      * Return true if all the selected items are in the quickActions of the button\r\n      * @param {*} quickActions \r\n      */\n  _shouldShowButton: function _shouldShowButton(buttonQuickActions) {\n    var self = this,\n    _itemsLength = self.itemsSelected.length,\n    _showButton = _itemsLength > 0 ? true : false,\n    _compareFunction = function _compareFunction(qa) {\n      var _idWorkItem = self.itemsSelected[i].id,\n      _idTask = self.itemsInfo[_idWorkItem].idTask;\n      return qa.idTask === _idTask;\n    };\n    for (var i = 0; i < self.itemsSelected.length && _showButton; i++) {\n      if (!buttonQuickActions.some(_compareFunction)) {\n        _showButton = false;\n      }\n    }\n    return _showButton;\n  },\n\n  /**\r\n      * Display the buttons depending on the selected items\r\n      * @param {*} itemsToShow \r\n      */\n  _showCurrentButtons: function _showCurrentButtons(itemsToShow) {\n    var self = this;\n\n    var _newButtons = itemsToShow.map(function (item) {\n      return {\n        id: item,\n        text: item };\n\n    });\n\n    self._addButtons(_newButtons);\n  },\n\n  /**\r\n      * Render the checkboxes group, including the All Processes checkbox\r\n      * @param {*} context in which the checkboxes will be rendered\r\n      */\n  renderCheckboxGroup: function renderCheckboxGroup(context) {\n    var self = this,\n    _idWorkItemsToShow = self._filterItemsToShowCheckbox();\n    self.checkboxGroup.renderCheckboxGroup(context, _idWorkItemsToShow, self.persistCheckboxGroup);\n    self.setPersistCheckboxGroup(false);\n  },\n\n  /**\r\n      * Filter the idWorkItems of the items that have quickActions.\r\n      * It search if the idTask of the workItem have a quickAction.\r\n      */\n  _filterItemsToShowCheckbox: function _filterItemsToShowCheckbox() {\n    var self = this,\n    _idWorkItemsToShow = [];\n    _workItems = Object.keys(self.itemsInfo);\n\n    for (var i = 0; i < _workItems.length; i++) {\n      var _workItem = self.itemsInfo[_workItems[i]];\n\n      if (self.idTasksWithQuickActions.indexOf(_workItem.idTask) !== -1) {\n        _idWorkItemsToShow.push(_workItem.idWorkItem);\n      }\n    }\n    return _idWorkItemsToShow;\n  },\n\n  /**\r\n      * Set the value of buttons available depending on the quick actions\r\n      * It initialize an array with the available quick actions by Name,\r\n      * and an array with the idTask that have an associated quickAction.\r\n      * @param {*} quickActions \r\n      */\n  setAvailableButtons: function setAvailableButtons(quickActions) {\n    var self = this;\n    self.quickActionsPerName = {};\n    self.idTasksWithQuickActions = [];\n\n    for (var i = 0; quickActions && i < quickActions.length; i++) {\n      var label = quickActions[i].label;\n      if (!self.quickActionsPerName[label]) {\n        self.quickActionsPerName[label] = [];\n      }\n      self.quickActionsPerName[label].push(quickActions[i]);\n      self.addItemToShowCheckbox(quickActions[i].idTask);\n    }\n  },\n\n  /**\r\n      * Add an idTask that have quick actions\r\n      * @param {*} id \r\n      */\n  addItemToShowCheckbox: function addItemToShowCheckbox(id) {\n    var self = this;\n    if (self.idTasksWithQuickActions.indexOf(id) === -1) {\n      self.idTasksWithQuickActions.push(id);\n    }\n  },\n\n  /**\r\n      * render the button template for quick actions\r\n      * @param {String} text of the button\r\n      * @param {Boolean} hidden template to use, normal button or hidden\r\n      */\n  _renderButton: function _renderButton(id, text, hidden) {\n    var self = this,\n    _templeateToUse = hidden ? \"quick-actions-button-hidden\" : \"quick-actions-button\",\n    _template = self.getTemplate(_templeateToUse),\n    _params = {\n      text: text,\n      id: id };\n\n\n    return $.tmpl(_template, _params);\n  },\n\n  /**\r\n      * render the more button and return the content\r\n      */\n  _renderMoreButton: function _renderMoreButton() {\n    var self = this,\n    _template = self.getTemplate(\"quick-actions-more-button\"),\n    _params = {};\n\n    return $.tmpl(_template, _params);\n  },\n\n  /**\r\n      * create or remove the events for this widget\r\n      * @param {Boolean} dispose true if want to dispose events\r\n      */\n  _events: function _events(dispose) {\n    var self = this;\n    if (dispose === true) {\n      self.content.off(\"click\", self.Class.SELECTOR_BUTTON_LAUNCH);\n      self.content.off(\"click\", self.Class.SELECTOR_HIDDEN_BUTTON_LAUNCH);\n      self.content.off(\"click\", self.Class.SELECTOR_MORE_BUTTON);\n      self.unsubscribe(\"resizeLayout\");\n    } else {\n      self.content.on(\"click\", self.Class.SELECTOR_BUTTON_LAUNCH, self._clickOnAction.bind(self));\n      self.content.on(\"click\", self.Class.SELECTOR_HIDDEN_BUTTON_LAUNCH, self._clickOnAction.bind(self));\n      self.content.on(\"click\", self.Class.SELECTOR_MORE_BUTTON, self._clickOnMore.bind(self));\n      self.subscribe(\"resizeLayout\", self._adjustButtonsWidth.bind(self));\n    }\n  },\n\n  /**\r\n      * show confirmation message for start quick action selected\r\n      * close the hidden buttons\r\n      */\n  _clickOnAction: function _clickOnAction(e) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _title = e.currentTarget.textContent,\n    _num = self._getNumberOfSelected();\n    _textToShow = bizagi.localization.getResourceByElementsNumber(\"workportal-quick-actions-confirm-execute-detail\", _num).replace(\"{0}\", _num),\n    _message = $.tmpl(self.getTemplate(\"quick-actions-modal-confirm\"), { numberActivities: _textToShow }).html(),\n    _modalParams = self._buildParamsForModalConfirm(_title, _message),\n    _buttonClicked = e.target.id;\n\n    self._setProperty(_prop.SHOW_HIDDEN_BUTTONS, false);\n\n    $.when(bizagi.showConfirmationBox.apply(self, _modalParams)).done(function () {\n      var data = self.setInitialDataForModal(_buttonClicked);\n      self.showResultDialog(_title, data);\n    });\n\n  },\n\n  /**\r\n      * Map the data that modal needs when yes is clicked to start execution\r\n      */\n  setInitialDataForModal: function setInitialDataForModal(button) {\n    var self = this,\n    _data = { activities: [] },\n    _buttonActions = self.quickActionsPerName[button];\n\n    for (var i = 0; i < self.itemsSelected.length; i++) {\n      var _workItem = self.itemsSelected[i].id,\n      _itemInfo = self.itemsInfo[_workItem];\n\n      for (var j = 0; j < _buttonActions.length; j++) {\n        var _quickAction = _buttonActions[j];\n\n        if (_itemInfo.idTask === _quickAction.idTask) {\n          var _newTask = {\n            workItemId: _itemInfo.idWorkItem,\n            taskId: _itemInfo.idTask,\n            activityName: _itemInfo.TaskName,\n            caseNumber: _itemInfo.caseNumber,\n            caseId: _itemInfo.idCase,\n            icon: \"gray\",\n            quickActionGuid: _quickAction.guid,\n            ruleGuid: _quickAction.guidRule,\n            actions: _quickAction.actions };\n\n\n          _data.activities.push(_newTask);\n        }\n      }\n    }\n    return _data;\n  },\n\n  /**\r\n      * Check if the item es checked\r\n      * @param {*} item \r\n      */\n  itemIsChecked: function itemIsChecked(item) {\n    var self = this,\n    _compareFunction = function _compareFunction(selected) {\n      return selected.id === item;\n    };\n    return self.itemsSelected.some(_compareFunction);\n  },\n\n  /**\r\n      * build params for showConfirmationBox\r\n      */\n  _buildParamsForModalConfirm: function _buildParamsForModalConfirm(titleModal, message) {\n    var self = this;\n    return [\n    // message\n    message,\n    // title\n    titleModal,\n    // showIcon\n    false,\n    // buttons\n    [\n    {\n      label: bizagi.localization.getResource('workportal-general-word-no'),\n      action: \"reject\",\n      \"class\": \"biz-wp-btn-secondary-real\" },\n    {\n      label: bizagi.localization.getResource(\"workportal-general-word-yes\"),\n      action: \"resolve\",\n      \"class\": \"biz-wp-btn-warning\" }],\n\n\n    // customOptions\n    {\n      dialogClass: \"ui-quick-action-modal-confirm\",\n      width: 500 }];\n\n\n  },\n\n  /**\r\n      * toggle hidden buttons container\r\n      */\n  _clickOnMore: function _clickOnMore() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _showHidden = self._getProperty(_prop.SHOW_HIDDEN_BUTTONS);\n\n    self._setProperty(_prop.SHOW_HIDDEN_BUTTONS, !_showHidden);\n  },\n\n  /**\r\n      * set the value of the property and update the view, if exists else throw exception\r\n      * @param {DATA_PROPERTIES} prop \r\n      * @param {any} newValue \r\n      * @param {Boolean} setOnly if is true the view is not updated\r\n      */\n  _setProperty: function _setProperty(prop, newValue, setOnly) {\n    var self = this,\n    _setOnly = setOnly !== undefined ? setOnly : false,\n    _prop = self.Class.DATA_PROPERTIES[prop],\n    _changed = self.data[_prop] !== newValue,\n    _updateView = !_setOnly && _changed;\n\n    if (_prop === undefined)\n    throw \"Property does not exist: \" + prop;\n\n    self.data[_prop] = newValue;\n    if (_updateView)\n    self._updateView();\n  },\n\n  /**\r\n       * return the value of the property, if exists else throw exception\r\n       * @param {DATA_PROPERTIES} prop \r\n       */\n  _getProperty: function _getProperty(prop) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES[prop],\n    _valToReturn = self.data[_prop],\n    _cloneWith = Array.isArray(_valToReturn) ? [] : {};\n\n    if (_prop === undefined)\n    throw \"Property does not exist: \" + prop;\n    if (_typeof(_valToReturn) === \"object\")\n    _valToReturn = jQuery.extend(_cloneWith, _valToReturn);\n\n    return _valToReturn;\n  },\n\n  /**\r\n      * default initial data when widget starts\r\n      */\n\n  _setInitialData: function _setInitialData() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    self.data = {};\n    self.data[_prop.TOTAL_SELECTED] = 0;\n    self.data[_prop.SHOW] = false;\n    self.data[_prop.BUTTONS] = [];\n    self.data[_prop.BUTTONS_TO_SHOW] = [];\n    self.data[_prop.BUTTONS_HIDDEN] = [];\n    self.data[_prop.WIDTH_BUTTONS_CONTAINER] = 0;\n    self.data[_prop.SHOW_MORE_BUTTON] = false;\n    self.data[_prop.SHOW_HIDDEN_BUTTONS] = false;\n  },\n\n  /**\r\n      * set the items number selected in selector\r\n      */\n  _updateViewSelected: function _updateViewSelected() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _num = self._getProperty(_prop.TOTAL_SELECTED),\n    _element = self.content.find(self.Class.SELECTOR_NUMBER_SELECTED);\n    _textToShow = bizagi.localization.getResourceByElementsNumber(\"workportal-quick-actions-selected-activities\", _num).\n    replace(\"{0}\", _num);\n\n    _element.text(_textToShow);\n  },\n\n  /**\r\n      * review if the buttons fill the space then show the more buttons\r\n      * and set the overflow buttons in hidden array (one by call)\r\n      * this method validate if the container has changed the width\r\n      */\n  _adjustButtonsWidth: function _adjustButtonsWidth() {\n    var self = this,\n    _SET_ONLY = true,\n    _prop = self.Class.DATA_PROPERTIES,\n    _eContainer = self.content.find(self.Class.SELECTOR_BUTTONS_CONTAINER),\n    _eFirstButton = self.content.find(self.Class.SELECTOR_BUTTON_LAUNCH + \":first\"),\n    _buttons_all = self._getProperty(_prop.BUTTONS),\n    _buttons_shown = self._getProperty(_prop.BUTTONS_TO_SHOW),\n    _buttons_hidden = self._getProperty(_prop.BUTTONS_HIDDEN),\n    _container_width = self._getProperty(_prop.WIDTH_BUTTONS_CONTAINER),\n    _newContainer_width = _eContainer.outerWidth(),\n    _resized = _container_width !== _newContainer_width,\n    _heightButton = _eFirstButton.outerHeight(),\n    _isOverLapped = _heightButton * 1.5 < _eContainer.outerHeight(),\n    _existsButtonsShown = _buttons_shown.length > 0,\n    _lastButtonShown = _buttons_shown.slice(-1),\n    _buttonsShown_exceptLast = _buttons_shown.slice(0, -1),\n    _newButtonsHidden = _resized ? [] : _lastButtonShown.concat(_buttons_hidden),\n    _start = function _start() {\n      self._setProperty(_prop.SHOW_MORE_BUTTON, false, _SET_ONLY);\n      self._setProperty(_prop.SHOW_HIDDEN_BUTTONS, false, _SET_ONLY);\n      self._setProperty(_prop.BUTTONS_HIDDEN, _newButtonsHidden, _SET_ONLY);\n      self._setProperty(_prop.WIDTH_BUTTONS_CONTAINER, _newContainer_width, _SET_ONLY);\n      self._setProperty(_prop.BUTTONS_TO_SHOW, _buttons_all);\n    },\n    _removeOneButton = function _removeOneButton() {\n      self._setProperty(_prop.SHOW_MORE_BUTTON, true, _SET_ONLY);\n      self._setProperty(_prop.BUTTONS_HIDDEN, _newButtonsHidden, _SET_ONLY);\n      self._setProperty(_prop.BUTTONS_TO_SHOW, _buttonsShown_exceptLast);\n    };\n\n    if (_resized) {\n      _start();\n    } else if (_isOverLapped && _existsButtonsShown) {\n      _removeOneButton();\n    }\n  },\n\n  /**\r\n      * show list buttons saved in data\r\n      */\n  _updateViewButtons: function _updateViewButtons() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _buttonsShown = self._getProperty(_prop.BUTTONS_TO_SHOW),\n    _buttonsHidden = self._getProperty(_prop.BUTTONS_HIDDEN),\n    _moreButton = self._renderMoreButton(),\n    _containerToShow = self.content.find(self.Class.SELECTOR_BUTTONS_CONTAINER),\n    _containerToHide = _moreButton.find(self.Class.SELECTOR_HIDDEN_BUTTONS_CONTAINER),\n    _newButton = function _newButton(hidden, container, b) {\n      var buttonHtml = self._renderButton(b.id, b.text, hidden);\n      buttonHtml.appendTo(container);\n    };\n\n    _containerToShow.empty();\n    _buttonsShown.map(_newButton.bind(null, false, _containerToShow));\n    _moreButton.appendTo(_containerToShow);\n    _buttonsHidden.map(_newButton.bind(null, true, _containerToHide));\n    self._adjustButtonsWidth();\n  },\n\n  /**\r\n      * update active class for more button and its visibility\r\n      */\n  _updateViewMoreButton: function _updateViewMoreButton() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _show = self._getProperty(_prop.SHOW_MORE_BUTTON),\n    _isActive = self._getProperty(_prop.SHOW_HIDDEN_BUTTONS),\n    _moreButton = self.content.find(self.Class.SELECTOR_MORE_BUTTON);\n\n    _moreButton.toggleClass(self.Class.CLASS_ACTIVE_MORE_BUTTON, _isActive);\n    _show ? _moreButton.show() : _moreButton.hide();\n  },\n\n  /**\r\n      * show or hide container\r\n      */\n  _updateViewContainer: function _updateViewContainer() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _show = self._getProperty(_prop.SHOW),\n    _element = self.content,\n    _inboxGridTitle = $(self.Class.SELECTOR_INBOX_GRID_TITLE);\n\n    _show ? _element.css('display', 'grid') : _element.css('display', 'none');\n    _show ? _inboxGridTitle.css('display', 'none') : _inboxGridTitle.css('display', 'inline-block');\n  },\n\n  /**\r\n      * show or hide hidden buttons container\r\n      */\n  _updateViewHiddenButtons: function _updateViewHiddenButtons() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _show = self._getProperty(_prop.SHOW_HIDDEN_BUTTONS),\n    _element = self.content.find(self.Class.SELECTOR_HIDDEN_BUTTONS_CONTAINER);\n\n    _show ? _element.show() : _element.hide();\n  },\n\n  /**\r\n      * principal method to update all views\r\n      */\n  _updateView: function _updateView() {\n    var self = this;\n    self._updateViewContainer();\n    self._updateViewSelected();\n    self._updateViewButtons();\n    self._updateViewMoreButton();\n    self._updateViewHiddenButtons();\n  },\n\n  /**\r\n      * apply the total items selected and the show of container\r\n      * @param {Int} num items selected\r\n       */\n  _setItemsSelected: function _setItemsSelected(num) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _selectedVal = typeof num === \"number\" ? num : 0,\n    _buttons = self._getProperty(_prop.BUTTONS),\n    _showVal = num > 0 && _buttons.length > 0;\n\n    self._setProperty(_prop.SHOW, _showVal, true);\n    self._setProperty(_prop.TOTAL_SELECTED, _selectedVal);\n  },\n\n  /**\r\n      * Get the number of selected items\r\n      */\n  _getNumberOfSelected: function _getNumberOfSelected() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _selectedVal = self._getProperty(_prop.TOTAL_SELECTED);\n    return _selectedVal;\n  },\n\n  /**\r\n      * Change all the buttons\r\n      * @param {*} buttons for button\r\n      */\n  _addButtons: function _addButtons(buttons) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    // Do not update data to avoid overload\n    self._setProperty(_prop.SHOW_MORE_BUTTON, false, true);\n    self._setProperty(_prop.BUTTONS_HIDDEN, [], true);\n    self._setProperty(_prop.BUTTONS_TO_SHOW, buttons, true);\n    self._setProperty(_prop.BUTTONS, buttons, true);\n  },\n\n  /**\r\n      *  show a modal with the quick actions results\r\n      */\n  showResultDialog: function showResultDialog(title, data) {\n    var self = this;\n    bizagi.loader.start(\"entity-engine-view\").then(function () {\n      var instanceQuickActionsExecute;\n      var dialog = $(document).triggerHandler(\"showDialogWidget\", {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_QUICKACTIONS_EXECUTE,\n        data: data,\n        dialogClass: \"ui-quick-action-modal-confirm\",\n        modalParameters: {\n          title: title,\n          width: \"900px\" },\n\n        maximizeOnly: false,\n        buttons: [\n        {\n          text: bizagi.localization.getResource('workportal-quick-actions-stop-all'),\n          click: function click() {\n            //TODO: Pending validate if all activities were finished\n            instanceQuickActionsExecute.showStopConfirmModal();\n          },\n          \"class\": \"biz-wp-btn-secondary-real btn-stop-all\" }],\n\n\n        closeOnEscape: false,\n        closeVisible: true,\n        onClose: function onClose() {\n          self.params.refreshShowedResults();\n        } });\n\n\n      $.when(dialog.getRenderWidget()).done(function (instance) {\n        instanceQuickActionsExecute = instance;\n        instanceQuickActionsExecute.registerDialog(dialog);\n        //Move the all element to specific place of the dialog\n        $(self.Class.SELECTOR_SUMMARY_EXECUTED_ACTIONS).prependTo(\".ui-quick-action-modal-confirm .ui-dialog-buttonpane .ui-dialog-buttonset\");\n      });\n    });\n  },\n\n  /**\r\n      *   Disposes the widget\r\n      */\n  dispose: function dispose() {\n    var self = this;\n    // Call base\n    self._super();\n    self._events(true);\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name: BizAgi Workportal QuickAction principal\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: Nessler Camargo \r\n                                                                                                                                                                                                                                                                                                                                                                               *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                               *   -   N/A\r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.quickActionsExecute\", {\n\n  /**\r\n                                                                                            * container for quick actions buttons\r\n                                                                                            */\n  SELECTOR_BUTTON_STOP_ALL: \".ui-dialog.ui-quick-action-modal-confirm button.btn-stop-all\",\n\n  /**\r\n                                                                                            * close button selector\r\n                                                                                            */\n  SELECTOR_BUTTON_CLOSE: \".ui-dialog.ui-quick-action-modal-confirm button.bz-dialog-btn-close\",\n\n  /**\r\n                                                                                                 * selector where show the summary the executed actions\r\n                                                                                                 */\n  SELECTOR_SUMMARY_EXECUTED_ACTIONS: \".summary-quick-actions-executed\",\n\n  /**\r\n                                                                         * One specific result of the list of results, identify by id\r\n                                                                         */\n  SELECTOR_ONE_RESULT: \"div[collapsibleitem][id={0}]\",\n\n  /**\r\n                                                        * Type of Row on results\r\n                                                        */\n  TYPE_ROW_DEFAULT: \"TYPE_ROW_DEFAULT\",\n  TYPE_ROW_ONLY_DEFAULT_TEXT: \"TYPE_ROW_ONLY_DEFAULT_TEXT\",\n  TYPE_ROW_ONLY_ERROR_TEXT: \"TYPE_ROW_ONLY_ERROR_TEXT\",\n\n  /**\r\n                                                         * data for widget\r\n                                                         */\n  DATA_PROPERTIES: {\n    // Array : List of activities\n    ACTIVITIES: \"ACTIVITIES\",\n\n    // Boolean : End of all executions\n    END_ALL_REQUESTS: \"END_ALL_REQUESTS\",\n\n    // Boolean : Stop by user\n    STOP_BY_USER: \"STOP_BY_USER\",\n\n    // Number: Executed actions\n    NUMBER_EXECUTED_ACTIONS: \"NUMBER_EXECUTED_ACTIONS\",\n\n    // Object: Dialog\n    DIALOG: \"DIALOG\" },\n\n\n  RESULT_SUCCESS: \"success\",\n  RESULT_EXECUTED: \"executed\",\n  RESULT_WARNING: \"warning\",\n  RESULT_ERROR: \"error\" },\n{\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"quickActions-execute\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.quickActionsExecute\").concat(\"#ui-bizagi-workportal-widget-quickActions-execute\"),\n      \"quick-actions-stop-all-modal-confirm\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.quickActionsExecute\").concat(\"#ui-bizagi-workportal-widget-quick-actions-stop-all-modal-confirm\"),\n      useNewEngine: false });\n\n\n    self._setInitialData(params.data.activities);\n  },\n\n  /**\r\n      * override\r\n      */\n  renderContent: function renderContent() {\n    var self = this,\n    _template = self.getTemplate(\"quickActions-execute\");\n    self.content = $.tmpl(_template, { summaryText: self._getSummaryText() });\n\n    return self.content;\n  },\n\n  /**\r\n      * @override\r\n      */\n  postRender: function postRender() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;;\n\n    self.requesterService = new bizagi.workportal.services.quickActionsRequester(self.dataService, {\n      callback: function callback(response) {\n        self._processResponseOfExecuteQuickActions(response);\n      } });\n\n\n    self._updateView();\n    self.requesterService.startAllRequests(self._getProperty(_prop.ACTIVITIES));\n    $(window).on(\"beforeunload\", $.proxy(self._showDefaultWarningMessageBrowser, self));\n\n    self._configureHandlers();\n  },\n\n  /**\r\n      * set the value of the property and update the view, if exists else throw exception\r\n      * @param {DATA_PROPERTIES} prop \r\n      * @param {any} newValue \r\n      * @param {Boolean} setOnly if is true the view is not updated\r\n      */\n  _setProperty: function _setProperty(prop, newValue, setOnly) {\n    var self = this,\n    _setOnly = setOnly !== undefined ? setOnly : false,\n    _prop = self.Class.DATA_PROPERTIES[prop],\n    _changed = self.data[_prop] !== newValue,\n    _updateView = !_setOnly && _changed;\n\n    if (_prop === undefined)\n    throw \"Property does not exist: \" + prop;\n\n    self.data[_prop] = newValue;\n    if (_updateView)\n    self._updateView();\n  },\n\n  /**\r\n       * return the value of the property, if exists else throw exception\r\n       * @param {DATA_PROPERTIES} prop \r\n       */\n  _getProperty: function _getProperty(prop) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES[prop],\n    _valToReturn = self.data[_prop],\n    _cloneWith = Array.isArray(_valToReturn) ? [] : {};\n\n    if (_prop === undefined)\n    throw \"Property does not exist: \" + prop;\n    if (_typeof(_valToReturn) === \"object\")\n    _valToReturn = bizagi.util.extend(_cloneWith, _valToReturn);\n\n    return _valToReturn;\n  },\n\n  /**\r\n      * default initial data when widget starts\r\n      */\n  _setInitialData: function _setInitialData(data) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    self.data = {};\n    self.data[_prop.END_ALL_REQUESTS] = false;\n    self.data[_prop.STOP_BY_USER] = false;\n    self.data[_prop.ACTIVITIES] = data;\n    self.data[_prop.NUMBER_EXECUTED_ACTIONS] = 0;\n  },\n\n  /**\r\n      * principal method to update all views\r\n      */\n  _updateView: function _updateView() {\n    var self = this;\n    self._updateViewSummaryExecutionActions();\n  },\n\n  /**\r\n      * Update the summary by one execution\r\n      */\n  _updateViewSummaryExecutionActions: function _updateViewSummaryExecutionActions() {\n    var self = this;\n\n    $(self.Class.SELECTOR_SUMMARY_EXECUTED_ACTIONS + \" span\").text(\n    self._getSummaryText());\n\n  },\n\n  /**\r\n      * get summary message\r\n      */\n  _getSummaryText: function _getSummaryText() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _activities = self._getProperty(_prop.ACTIVITIES),\n    _numberExecutedActions = self._getProperty(_prop.NUMBER_EXECUTED_ACTIONS);\n    return bizagi.localization.getResourceByElementsNumber(\n    \"workportal-quick-actions-summary-number-actions-executed\",\n    _activities.length).\n    replace(\"{0}\", _numberExecutedActions).replace(\"{1}\", _activities.length);\n  },\n\n  /**\r\n      * Configure handlers of buttons and other elements\r\n      */\n  _configureHandlers: function _configureHandlers() {\n    var self = this;\n    $(self.content).find('.filter-button').on('click', $.proxy(self._onClickFilterButton, self));\n  },\n\n  /**\r\n      * Click on button filter\r\n      */\n  _onClickFilterButton: function _onClickFilterButton(event) {\n    var self = this,\n    _target = event.target;\n\n    // So the click work on IE svg\n    if (_target.correspondingUseElement) {\n      _target = _target.correspondingUseElement;\n    }\n\n    var $button = $(_target).closest('.filter-button');\n    $button.addClass('selected').siblings().removeClass('selected');\n\n    var filterBy = $button.attr('filter-by');\n    self._showFilterResults(filterBy);\n  },\n\n  /**\r\n      * Filter the results\r\n      * @param {*} filterBy \r\n      */\n  _showFilterResults: function _showFilterResults(filterBy) {\n    var self = this,\n    _completeText = bizagi.localization.getResource(\"workportal-quick-actions-completed-actions\"),\n    _noResultsText = bizagi.localization.getResource(\"workportal-widget-inboxcommon-no-results-found\"),\n    _elementsToShow = $(self.content).find('.filter-row.' + filterBy);\n\n    if (filterBy === \"all\") {\n      $(self.content).find('.filter-row').show();\n      $('.quickActionsContainer .default-text span').text(_completeText);\n    } else\n    {\n      var _textToShow = _elementsToShow.length === 0 ? _noResultsText : _completeText;\n      $(self.content).find('.filter-row').hide();\n      _elementsToShow.show();\n      $('.quickActionsContainer .default-text span').text(_textToShow);\n    }\n  },\n\n  /**\r\n      * Process the response when finish one request or all requests\r\n      * @param {object} response \r\n      */\n  _processResponseOfExecuteQuickActions: function _processResponseOfExecuteQuickActions(dataResponse) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _activities = self._getProperty(_prop.ACTIVITIES);\n\n    if (dataResponse.type === \"all\") {//when finish all executions\n      self._setProperty(_prop.END_ALL_REQUESTS, true);\n      self._disableBtnStopAll();\n      var itemToShow = { title: bizagi.localization.getResource(\"workportal-quick-actions-completed-actions\") };\n      self._addRowToResultsWithType(itemToShow, self.Class.TYPE_ROW_ONLY_DEFAULT_TEXT);\n    } else\n    if (dataResponse.type === \"one-start\") {// when start new execution\n      var activityToAdd = _activities.filter(function (activity) {\n        return activity.workItemId === dataResponse.response.paramsRequest.workItemId;\n      })[0];\n      var itemToShow = {\n        workItemId: activityToAdd.workItemId,\n        activityName: activityToAdd.activityName,\n        caseNumber: activityToAdd.caseNumber,\n        details: activityToAdd.details,\n        icon: 'gray',\n        status: \"inProcess\" };\n\n      self.instance = self._addRowToResultsWithType(itemToShow, self.Class.TYPE_ROW_DEFAULT);\n    } else if (dataResponse.type === \"one-end\") {// when end an execution\n\n      self._setProperty(_prop.NUMBER_EXECUTED_ACTIONS,\n      self._getProperty(_prop.NUMBER_EXECUTED_ACTIONS) + 1);\n\n      var statusAndDataResponseToShow = self._getStatusByBackResponse(dataResponse.response.backResponse);\n      self._setResultToActionRequest(dataResponse.response.paramsRequest.workItemId, statusAndDataResponseToShow, self.instance);\n    } else if (dataResponse.type === \"stop-by-user\") {\n      if (!self._getProperty(_prop.END_ALL_REQUESTS)) {\n        self._setProperty(_prop.STOP_BY_USER, true);\n        var itemToShow = {\n          title: bizagi.localization.getResourceByElementsNumber(\n          \"workportal-quick-actions-confirm-stop-all-message\",\n          dataResponse.response.numberSkipActions).\n          replace(\"{0}\", dataResponse.response.numberSkipActions) };\n        self._addRowToResultsWithType(itemToShow, self.Class.TYPE_ROW_ONLY_ERROR_TEXT);\n      }\n      self._disableBtnStopAll();\n    }\n\n    // Check if everything is finished\n    if (self._getProperty(_prop.NUMBER_EXECUTED_ACTIONS) == self._getProperty(_prop.ACTIVITIES).length) {\n      self._hideBtnStopAllAndShowClose();\n    }\n  },\n\n  /**\r\n      * Control the before close event of Dialog\r\n      */\n  _manageExecuteModalCloseButton: function _manageExecuteModalCloseButton() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    if (self._getProperty(_prop.END_ALL_REQUESTS) || self._getProperty(_prop.STOP_BY_USER)) {\n      return true;\n    } else\n    {\n      self.showStopConfirmModal();\n      return false;\n    }\n  },\n\n  /**\r\n     * Show default warning message when any quick actions is executing\r\n     */\n  _showDefaultWarningMessageBrowser: function _showDefaultWarningMessageBrowser() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    if (!self._getProperty(_prop.END_ALL_REQUESTS)) {\n      return \"\"; // show warning message\n    }\n  },\n\n  /**\r\n      * build params for showConfirmationBox\r\n      */\n  _buildParamsForModalConfirm: function _buildParamsForModalConfirm(titleModal, message, numberActivities) {\n    var self = this;\n    return [\n    // message\n    message,\n    // title\n    titleModal,\n    // showIcon\n    false,\n    // buttons\n    [\n    {\n      label: bizagi.localization.getResource('workportal-general-word-no'),\n      action: \"reject\",\n      \"class\": \"biz-wp-btn-secondary-real\" },\n    {\n      label: bizagi.localization.getResource(\"workportal-general-word-yes\"),\n      action: \"resolve\",\n      \"class\": \"biz-wp-btn-warning\" }],\n\n\n    // customOptions\n    {\n      dialogClass: \"ui-quick-action-modal-confirm\" }];\n\n\n  },\n\n  /**\r\n      * Disable stop all button. The owner is the dialog, and We don't have the reference\r\n      */\n  _disableBtnStopAll: function _disableBtnStopAll() {\n    var self = this,\n    _element = $(document).find(self.Class.SELECTOR_BUTTON_STOP_ALL);\n\n    $(_element).prop(\"disabled\", true);\n  },\n\n  /**\r\n      * Hide stop all button and enables close button\r\n      */\n  _hideBtnStopAllAndShowClose: function _hideBtnStopAllAndShowClose() {\n    var self = this;\n\n    $(document).find(self.Class.SELECTOR_BUTTON_STOP_ALL).hide();\n    $(document).find(self.Class.SELECTOR_BUTTON_CLOSE).show();\n  },\n\n\n  /**\r\n      * Show stop confirmation modal\r\n      */\n  showStopConfirmModal: function showStopConfirmModal() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _message = $.tmpl(self.getTemplate(\"quick-actions-stop-all-modal-confirm\")).html(),\n    _title = bizagi.localization.getResource(\"workportal-general-word-message\"),\n    _modalParams = self._buildParamsForModalConfirm(_title, _message);\n\n    $.when(bizagi.showConfirmationBox.apply(self, _modalParams)).done(function () {\n      self.requesterService.stopAllRequests();\n    });\n  },\n\n  /**\r\n      * Add row to container results\r\n      * @param {object} item \r\n      * @param {string} type \r\n      */\n  _addRowToResultsWithType: function _addRowToResultsWithType(paramsItem, type) {\n    var self = this;\n\n    var paramsToCreateItem = {\n      item: paramsItem,\n      type: type };\n\n\n    var itemInstance = new bizagi.workportal.widgets.collapsible(self.workportalFacade, self.dataService, paramsToCreateItem);\n\n    itemInstance.getView().then(function (itemContent) {\n      itemContent.prependTo(self.content.find(\".quickActionsContainer\"));\n    });\n\n    return itemInstance;\n  },\n\n  /**\r\n      * Change properties of a row\r\n      * @param {instanceRow} instance \r\n      * @param {object} data \r\n      */\n  _changeProperties: function _changeProperties(instance, data) {\n    instance.setStatus(data.status);\n    instance.setIcon(data.icon);\n    instance.setDescription(data.description);\n  },\n\n\n  /**\r\n      * Get the data of the final response to be updated on modal\r\n      * @param {object} backResponse \r\n      */\n  _getStatusByBackResponse: function _getStatusByBackResponse(backResponse) {\n    var self = this,\n    _status = self.Class.RESULT_SUCCESS,\n    _description = \"\";\n\n    for (var i = 0; i < backResponse.length && _status === self.Class.RESULT_SUCCESS; i++) {\n      tag = backResponse[i];\n      if (tag.error) {\n        _status = self.Class.RESULT_ERROR;\n        _description = tag.error.message;\n      } else if (tag.result.type !== self.Class.RESULT_SUCCESS) {\n        _status = self.Class.RESULT_WARNING;\n        _description = tag.result.messages[0];\n      }\n    }\n\n    if (backResponse.status === 0) {\n      _status = self.Class.RESULT_ERROR;\n      _description = backResponse.statusText;\n    }\n\n    return self._getFinalDataResponse(_status, _description);\n  },\n\n  /**\r\n      * Map the final data to change the properties\r\n      * @param {*} status \r\n      * @param {*} description \r\n      */\n  _getFinalDataResponse: function _getFinalDataResponse(status, description) {\n    var self = this;\n\n    status = status === self.Class.RESULT_SUCCESS ? self.Class.RESULT_EXECUTED : status;\n    var response = {\n      status: status,\n      icon: self._getIcon(status),\n      description: description };\n\n\n    return response;\n  },\n\n  /**\r\n      * Get the icon depending on the status of the response\r\n      * @param {*} status \r\n      * @param {*} description \r\n      */\n  _getIcon: function _getIcon(status) {\n    var icon;\n    switch (status) {\n      case 'warning':\n        icon = 'yellow';\n        break;\n      case 'error':\n        icon = 'red';\n        break;\n      case 'executed':\n        icon = 'green';\n        break;\n      default:\n        icon = 'gray';\n        break;}\n\n    return icon;\n  },\n  /**\r\n      * Set result when finish a request\r\n      * @param {number} workItemId \r\n      * @param {object} statusAndDataResponseToShow \r\n      * @param {instanceRow} itemInstance \r\n      */\n  _setResultToActionRequest: function _setResultToActionRequest(workItemId, statusAndDataResponseToShow, itemInstance) {\n    var self = this;\n    var data = statusAndDataResponseToShow;\n    self._changeProperties(itemInstance, data);\n  },\n\n  /**\r\n      * Register dialog because we need to hide or show close button\r\n      * @param {Object Jquery Dialog} dialog \r\n      */\n  registerDialog: function registerDialog(dialog) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    self._setProperty(_prop.DIALOG, dialog.dialogBox);\n\n    dialog.dialogBox.bind('dialogbeforeclose', $.proxy(self._manageExecuteModalCloseButton, self));\n  },\n\n  /*\r\n     *   Disposes the widget\r\n     */\n  dispose: function dispose() {\n    var self = this;\n    self._super();\n\n    $(window).off(\"beforeunload\", $.proxy(self._showDefaultWarningMessageBrowser, self));\n    $(self.content).find('.filter-button').on('click', $.proxy(self._onClickFilterButton, self));\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name: BizAgi Workportal QuickAction principal\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: Nessler Camargo \r\n                                                                                                                                                                                                                                                                                                                                                                               *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                               *   -   N/A\r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.collapsible\", {\n\n  SELECTOR_TITLE: \".collapsible-title\",\n  SELECTOR_SUBTITLE: \".collapsible-subtitle\",\n  SELECTOR_STATUS: \".collapsible-status\",\n  SELECTOR_ICON: \"div.collapsible-icon > svg\",\n  SELECTOR_DESCRIPTION: \".collapsible-description\",\n  SELECTOR_ARROW: \" div.collapsible-arrow > i\",\n  SELECTOR_COLLAPSIBLE_LINK: \".collapsible-link\",\n  SELECTOR_COLLAPSIBLE_DESCRIPTION: \".collapsible-description\",\n  SELECTOR_COLLAPSIBLE_ITEM: \"div[collapsibleItem]\",\n\n\n  /**\r\n                                                      * Type of results of actions\r\n                                                      */\n  RESULT_EXECUTED: \"executed\",\n  RESULT_WARNING: \"warning\",\n  RESULT_ERROR: \"error\",\n  RESULT_IN_PROCESS: \"inProcess\",\n\n  /**\r\n                                   * Type of row\r\n                                   */\n  TYPE_ROW_DEFAULT: 'TYPE_ROW_DEFAULT',\n  TYPE_ROW_ONLY_DEFAULT_TEXT: 'TYPE_ROW_ONLY_DEFAULT_TEXT',\n  TYPE_ROW_ONLY_ERROR_TEXT: 'TYPE_ROW_ONLY_ERROR_TEXT',\n\n  /**\r\n                                                         * data for widget\r\n                                                         */\n  DATA_PROPERTIES: {\n    // String : title of collapsible\n    TYPE_ROW: \"TYPE_ROW\",\n    ID: \"ID\",\n    TITLE: \"TITLE\",\n    SUBTITLE: \"SUBTITLE\",\n    STATUS: \"STATUS\",\n    ICON: \"ICON\",\n    DESCRIPTION: \"DESCRIPTION\" } },\n\n\n{\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n    //Load templates\n    self.loadTemplates({\n      \"quick-actions-items\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.collapsible\").concat(\"#ui-bizagi-workportal-widget-collapsible\"),\n      \"quick-actions-item-only-default-text\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.collapsible\").concat(\"#ui-bizagi-workportal-widget-collapsible-only-default-text\"),\n      \"quick-actions-item-only-error-text\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.collapsible\").concat(\"#ui-bizagi-workportal-widget-collapsible-only-error-text\"),\n      useNewEngine: false });\n\n\n    self.rendered = new $.Deferred();\n    self._setInitialData(params.item, params.type);\n    self.render();\n  },\n\n  /**\r\n      * override\r\n      */\n  renderContent: function renderContent() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n    var _template;\n    switch (self._getProperty(_prop.TYPE_ROW)) {\n      case self.Class.TYPE_ROW_ONLY_DEFAULT_TEXT:\n        _template = self.getTemplate(\"quick-actions-item-only-default-text\");\n        break;\n      case self.Class.TYPE_ROW_ONLY_ERROR_TEXT:\n        _template = self.getTemplate(\"quick-actions-item-only-error-text\");\n        break;\n      default:\n        _template = self.getTemplate(\"quick-actions-items\");}\n\n\n    self.content = $.tmpl(_template, {});\n    self.rendered.resolve();\n  },\n\n  /**\r\n      * @override\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self._updateView();\n    self._events();\n\n  },\n\n  /**\r\n     * create or remove the events for this widget\r\n     * @param {Boolean} dispose true if want to dispose events\r\n     */\n  _events: function _events(dispose) {\n    var self = this;\n    if (dispose === true) {\n      self.content.off(\"click\", self.Class.SELECTOR_COLLAPSIBLE_LINK);\n    } else {\n      self.content.on(\"click\", self.Class.SELECTOR_COLLAPSIBLE_LINK, function () {\n        $(this).closest(self.Class.SELECTOR_COLLAPSIBLE_ITEM).find(self.Class.SELECTOR_COLLAPSIBLE_DESCRIPTION).slideToggle('slow');\n        var arrow = $(this).find(self.Class.SELECTOR_ARROW);\n        if ($(this).find(self.Class.SELECTOR_ARROW).hasClass('down')) {\n          self._changeArrow(arrow, 'up', 'down');\n          self._changeArrow(arrow.parent(), 'up', 'down');\n        } else {\n          self._changeArrow(arrow, 'down', 'up');\n          self._changeArrow(arrow.parent(), 'down', 'up');\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Allow change the arrow in collapsible element\r\n      * @param {} add \r\n      * @param {*} remove \r\n      */\n  _changeArrow: function _changeArrow(arrow, add, remove) {\n    arrow.addClass(add);\n    arrow.removeClass(remove);\n  },\n\n  /**\r\n      * set the value of the property and update the view, if exists else throw exception\r\n      * @param {DATA_PROPERTIES} prop \r\n      * @param {any} newValue \r\n      * @param {Boolean} setOnly if is true the view is not updated\r\n      */\n  _setProperty: function _setProperty(prop, newValue, setOnly) {\n    var self = this,\n    _setOnly = setOnly !== undefined ? setOnly : false,\n    _prop = self.Class.DATA_PROPERTIES[prop],\n    _changed = self.data[_prop] !== newValue,\n    _updateView = !_setOnly && _changed;\n\n    if (_prop === undefined)\n    throw \"Property does not exist: \" + prop;\n\n    self.data[_prop] = newValue;\n    if (_updateView)\n    self._updateView();\n  },\n\n  /**\r\n       * return the value of the property, if exists else throw exception\r\n       * @param {DATA_PROPERTIES} prop \r\n       */\n  _getProperty: function _getProperty(prop) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES[prop],\n    _valToReturn = self.data[_prop],\n    _cloneWith = Array.isArray(_valToReturn) ? [] : {};\n\n    if (_prop === undefined)\n    throw \"Property does not exist: \" + prop;\n    if (_typeof(_valToReturn) === \"object\")\n    _valToReturn = jQuery.extend(_cloneWith, _valToReturn);\n\n    return _valToReturn;\n  },\n\n  /**\r\n      * default initial data when widget starts\r\n      */\n  _setInitialData: function _setInitialData(data, type) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    self.data = {};\n    self.data[_prop.ID] = data.workItemId;\n    self.data[_prop.TITLE] = data.activityName || data.title;\n    self.data[_prop.SUBTITLE] = data.caseNumber;\n    self.data[_prop.STATUS] = data.status;\n    self.data[_prop.DESCRIPTION] = data.details;\n    self.data[_prop.ICON] = data.icon;\n    self.data[_prop.TYPE_ROW] = type || self.Class.TYPE_ROW_DEFAULT;\n  },\n\n  /**\r\n      * Set id to collapsable item\r\n      */\n  _setId: function _setId() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    $(self.content).prop('id', self._getProperty(_prop.ID));\n  },\n\n  /**\r\n      * Set or hide the status\r\n      */\n  setStatus: function setStatus(status) {\n    var self = this,\n    _status = status,\n    _text = '',\n    _selectorStatus = self.content.find(self.Class.SELECTOR_STATUS),\n    _selectorArrow = self.content.find(self.Class.SELECTOR_ARROW);\n    _selectorStatus.show();\n\n    switch (_status) {\n      case self.Class.RESULT_IN_PROCESS:\n        _text = bizagi.localization.getResource(\"workportal-general-word-in-process\");\n        _selectorStatus.text(_text + '...');\n        break;\n      case self.Class.RESULT_EXECUTED:\n        _selectorStatus.text(\"\");\n        $(self.content).addClass('filter-row');\n        $(self.content).addClass(self.Class.RESULT_EXECUTED);\n        break;\n      case self.Class.RESULT_WARNING:\n        _text = bizagi.localization.getResource(\"workportal-general-word-details\");\n        _selectorStatus.text(_text);\n        _selectorArrow.addClass(\"down\");\n        $(self.content).addClass('filter-row');\n        $(self.content).addClass(self.Class.RESULT_WARNING);\n        break;\n      case self.Class.RESULT_ERROR:\n        _text = bizagi.localization.getResource(\"workportal-general-word-details\");\n        _selectorStatus.text(_text);\n        _selectorArrow.addClass(\"down\");\n        $(self.content).addClass('filter-row');\n        $(self.content).addClass(self.Class.RESULT_ERROR);\n        break;\n      default:\n        _selectorStatus.hide();}\n\n  },\n  /**\r\n      * Set the icon depending of status\r\n      */\n  setIcon: function setIcon(newIcon) {\n    var self = this,\n    _selectorIcon = self.content.find(self.Class.SELECTOR_ICON);\n    _selectorIcon.hide();\n    self.content.find(_selectorIcon.selector + \".\" + newIcon).show();\n  },\n\n  /**\r\n      * Set the description\r\n      */\n  setDescription: function setDescription(newDescription) {\n    var self = this,\n    _selectorDescription = self.content.find(self.Class.SELECTOR_DESCRIPTION);\n    _selectorDescription.text(newDescription);\n  },\n\n  /**\r\n      * Update all views\r\n      */\n  _updateViewAll: function _updateViewAll() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _title = self._getProperty(_prop.TITLE),\n    _subtitle = self._getProperty(_prop.SUBTITLE),\n    _description = self._getProperty(_prop.DESCRIPTION),\n    _status = self._getProperty(_prop.STATUS),\n    _icon = self._getProperty(_prop.ICON),\n    _selectorTitle = self.content.find(self.Class.SELECTOR_TITLE);\n    _selectorSubtitle = self.content.find(self.Class.SELECTOR_SUBTITLE);\n    _selectorDescription = self.content.find(self.Class.SELECTOR_DESCRIPTION);\n\n    _selectorTitle.text(_title);\n    _selectorSubtitle.text(_subtitle);\n    _selectorDescription.hide();\n\n    self._setId();\n    self.setStatus(_status);\n    self.setIcon(_icon);\n    self.setDescription(_description);\n  },\n  /**\r\n      * Obtain the view\r\n      */\n  getView: function getView() {\n    var self = this,\n    _defer = new $.Deferred();\n\n    self.rendered.then(function () {\n      _defer.resolve(self.getContent());\n    });\n    return _defer;\n  },\n\n\n  /**\r\n      * principal method to update all views\r\n      */\n  _updateView: function _updateView() {\n    var self = this;\n    self._updateViewAll();\n  },\n\n  /*\r\n     *   Disposes the widget\r\n     */\n  dispose: function dispose() {\n    var self = this;\n    self._events(true);\n    // Call base\n    self._super();\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name: BizAgi Workportal Checkbox Group principal\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: Valeria Vanegas (based on  Edward Morales version)\r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.checkboxGroup\", {\n  CHECKBOX_CLASS: \".quick-actions-checkbox\",\n  CHECKBOX_CHECKED_CLASS: \".quick-actions-checkbox-checked\",\n\n  /**\r\n                                                              * data for widget\r\n                                                              */\n  DATA_PROPERTIES: {\n    // Boolean : show checkAll checked\n    CHECK_ALL: \"CHECK_ALL\" } },\n\n{\n  /*\r\n  *  Constructor\r\n  */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    self._super(workportalFacade, dataService, params);\n\n    self.loadTemplates({\n      \"quick-actions-checkbox\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.checkboxGroup\").concat(\"#ui-bizagi-quickActions-checkbox\"),\n      useNewEngine: false });\n\n\n    self._CHECK_ALL_CHECKBOX_CONTAINER = params.checkAllSelector;\n    self._CHECK_ALL_CHECKBOX = params.checkAllSelector + \" div\";\n    self._getContainerSelector = params.getContainerSelector;\n    self._onItemsCheckedChange = params.callback;\n\n    self.checkedItems = [];\n    self._setInitialData();\n  },\n\n  /**\r\n      * @override\r\n      */\n  postRender: function postRender() {\n    var self = this,\n    _checkboxTemplate = self.getTemplate(\"quick-actions-checkbox\");\n    self.checkboxContent = $.tmpl(_checkboxTemplate, {});\n  },\n\n  /**\r\n      *  Return the checked items\r\n      */\n  getChecked: function getChecked() {\n    var self = this;\n    return self.checkedItems;\n  },\n\n  /**\r\n      * Render the checkbox group\r\n      * @param {*} context where the checkboxes will be rendered\r\n      * @param {*} cases for which checkbox group is rendered \r\n      */\n  renderCheckboxGroup: function renderCheckboxGroup(context, items, persistCheckbox) {\n    var self = this;\n\n    self._items = items;\n    self._context = context;\n\n    for (var i = 0; i < self._items.length; i++) {\n      self._renderCheckbox(self._items[i]);\n    }\n\n    self._configureCheckAllCheckbox();\n    self.loadStoredItems(persistCheckbox);\n  },\n\n  /**\r\n      * Called when the view is updated and\r\n      * the checkbox could preserve its last state\r\n      */\n  loadStoredItems: function loadStoredItems(persistCheckbox) {\n    var self = this;\n\n    if (self.checkedItems.length > 0 && persistCheckbox) {\n      var stillChecked = [];\n      for (var i = 0; i < self.checkedItems.length; i++) {\n        var item = self.checkedItems[i];\n        var selector = self._getContainerSelector(item.id) + \" div\";\n        var element = $(selector, self._context);\n\n        if (element.length !== 0) {\n          element.toggleClass(self.Class.CHECKBOX_CHECKED_CLASS.substr(1), true);\n          stillChecked.push(item);\n        }\n      }\n      self.checkedItems = stillChecked;\n      self._refreshCheckAllCheckbox(true);\n      self._onItemsCheckedChange();\n      self._updateView();\n    } else {\n      self.clearCheckedItems();\n    }\n  },\n\n  /**\r\n      * Clear checked items\r\n      */\n  clearCheckedItems: function clearCheckedItems() {\n    var self = this;\n    self.checkedItems = [];\n    self._toggleCheckAllCheckbox(false);\n  },\n\n  /**\r\n      * Render a checkbox\r\n      * @param {*} containerSelector the container in which the checkbox is rendered\r\n      */\n  _renderCheckbox: function _renderCheckbox(item) {\n    var self = this,\n    _containerSelector = self._getContainerSelector(item),\n    _checkboxSelector = _containerSelector + \" div\",\n    _content = self.checkboxContent.clone();\n\n    $(_containerSelector, self._context).append(_content);\n\n    $(_checkboxSelector, self._context).on(\"click\", function () {\n      var that = this;\n      $(that).toggleClass(self.Class.CHECKBOX_CHECKED_CLASS.substr(1));\n      self._updateCheckedItems($(that));\n      self._refreshCheckAllCheckbox(false);\n      self._onItemsCheckedChange();\n    });\n\n    self._addDataToCheckbox(item, _checkboxSelector);\n  },\n  /**\r\n      * Update the checked Items \r\n      * If the item was\r\n      * @param {*} checkbox the clicked checkbox\r\n      */\n  _updateCheckedItems: function _updateCheckedItems(checkbox) {\n    var self = this,\n    _data = self._getDataFormCheckbox(checkbox);\n\n    if (!self._itemWasChecked(_data)) {\n      self._addItemChecked(_data);\n    } else {\n      self._removeItemChecked(_data);\n    }\n  },\n  /**\r\n      * Add an item \r\n      * @param {*} checkbox \r\n      */\n  _addItemChecked: function _addItemChecked(data) {\n    var self = this;\n    self.checkedItems.push(data);\n  },\n  /**\r\n      * Remove an item \r\n      * @param {*} checkbox \r\n      */\n  _removeItemChecked: function _removeItemChecked(data) {\n    var self = this;\n    self.checkedItems = self.checkedItems.filter(function (item) {\n      return JSON.stringify(item) !== JSON.stringify(data);\n    });\n  },\n  /**\r\n      * Add data to a checkbox\r\n      */\n  _addDataToCheckbox: function _addDataToCheckbox(item, selector) {\n    var self = this;\n    $(selector, self._context).data('id', item);\n  },\n  /**\r\n      * Get data from a checkbox\r\n      */\n  _getDataFormCheckbox: function _getDataFormCheckbox(checkbox) {\n    return checkbox.data();\n  },\n  /**\r\n      * Return if an item was checked\r\n      */\n  _itemWasChecked: function _itemWasChecked(data) {\n    var self = this;\n    return self.checkedItems.some(function (item) {\n      return JSON.stringify(item) === JSON.stringify(data);\n    });\n  },\n\n  /**\r\n      * Render and configure the all processes checkbox\r\n      * @param {*} containerSelector the container in which the checkbox is rendered\r\n      */\n  _configureCheckAllCheckbox: function _configureCheckAllCheckbox() {\n    var self = this,\n    _content = self.checkboxContent.clone();\n\n    $(self._CHECK_ALL_CHECKBOX_CONTAINER, self._context).append(_content);\n    $(self._CHECK_ALL_CHECKBOX, self._context).\n    attr('title', self.getResource(\"workportal-widget-query-form-check-all\")).\n    on(\"click\", function (event) {\n      event = event ? event : window.event;\n      event.stopPropagation();\n      self._toggleCheckAllCheckbox();\n    });\n  },\n\n  /**\r\n      * Check if the all processes checkbox should be checked and apply the changes\r\n      */\n  _refreshCheckAllCheckbox: function _refreshCheckAllCheckbox(setOnly) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _newCheckedAll = self._getNumberOfItemsChecked() === self._items.length;\n    self._setProperty(_prop.CHECK_ALL, _newCheckedAll, setOnly);\n  },\n\n  /**\r\n      * Get the number of items checked for the execution of quick actions\r\n      */\n  _getNumberOfItemsChecked: function _getNumberOfItemsChecked() {\n    var self = this;\n    return self.checkedItems.length;\n  },\n\n  /**\r\n      * Toggle the all processes checkbox and depending on its value refresh the other checkboxes\r\n      * @param {*} checkAllNewValue if should refresh all checkboxes or only the all processes. \r\n      * If the parameter is undefined, it toggles the last value\r\n      */\n  _toggleCheckAllCheckbox: function _toggleCheckAllCheckbox(checkAllNewValue) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _checkAll = self._getProperty(_prop.CHECK_ALL),\n    _newCheckAll = checkAllNewValue !== undefined ? checkAllNewValue : !_checkAll;\n\n    self._refreshAllCheckboxes(_newCheckAll);\n    self._setProperty(_prop.CHECK_ALL, _newCheckAll);\n\n    self._onItemsCheckedChange();\n  },\n\n  /**\r\n      * Refresh all checkboxes when the all processes selector change\r\n      */\n  _refreshAllCheckboxes: function _refreshAllCheckboxes(checkAll) {\n    var self = this,\n    _checkboxNotPrincipal = $(self.Class.CHECKBOX_CLASS, self._context).not(self._CHECK_ALL_CHECKBOX);\n\n    _checkboxNotPrincipal.toggleClass(self.Class.CHECKBOX_CHECKED_CLASS.substr(1), checkAll);\n\n    self.checkedItems = [];\n\n    if (checkAll) {\n      _checkboxNotPrincipal.each(function () {\n        var that = this,\n        _data = self._getDataFormCheckbox($(that));\n\n        self._addItemChecked(_data);\n      });\n    }\n  },\n\n  /**\r\n      * Set the value of the property and update the view, if exists else throw exception\r\n      * @param {DATA_PROPERTIES} prop \r\n      * @param {any} newValue \r\n      * @param {Boolean} setOnly if is true the view is not updated\r\n      */\n  _setProperty: function _setProperty(prop, newValue, setOnly) {\n    var self = this,\n    _setOnly = setOnly !== undefined ? setOnly : false,\n    _prop = self.Class.DATA_PROPERTIES[prop],\n    _changed = self.data[_prop] !== newValue,\n    _updateView = !_setOnly && _changed;\n\n    if (_prop === undefined)\n    throw \"Property does not exist: \" + prop;\n\n    self.data[_prop] = newValue;\n    if (_updateView)\n    self._updateView();\n  },\n\n  /**\r\n      * Return the value of the property, if exists else throw exception\r\n      * @param {DATA_PROPERTIES} prop \r\n      */\n  _getProperty: function _getProperty(prop) {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES[prop],\n    _valToReturn = self.data[_prop],\n    _cloneWith = Array.isArray(_valToReturn) ? [] : {};\n\n    if (_prop === undefined)\n    throw \"Property does not exist: \" + prop;\n    if (_typeof(_valToReturn) === \"object\")\n    _valToReturn = jQuery.extend(_cloneWith, _valToReturn);\n\n    return _valToReturn;\n  },\n\n  /**\r\n      * Default initial data when widget starts\r\n      */\n  _setInitialData: function _setInitialData() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES;\n\n    self.data = {};\n    self.data[_prop.CHECK_ALL] = false;\n  },\n\n  /**\r\n      * Principal method to update all views\r\n      */\n  _updateView: function _updateView() {\n    var self = this;\n    self._updateViewCheckAll();\n  },\n\n  /**\r\n      * Update the checkAll checkbox view\r\n      */\n  _updateViewCheckAll: function _updateViewCheckAll() {\n    var self = this,\n    _prop = self.Class.DATA_PROPERTIES,\n    _checked = self._getProperty(_prop.CHECK_ALL);\n    $(self._CHECK_ALL_CHECKBOX, self._context).toggleClass(self.Class.CHECKBOX_CHECKED_CLASS.substr(1), _checked);\n  } });","/*\r\n* Simple Pagination Control for Bizagi Workportal\r\n* @author: Edward J Morales\r\n*/\n\n(function ($) {\n  $.fn.bizagiPagination = function (options) {\n    // define options\n    options = options || {};\n\n    var opt = {\n      limInf: 0,\n      totalPages: 1,\n      actualPage: 1,\n\n      // Controllers elements\n      listElement: $(\"ul\"),\n      first: '&lt;&lt;',\n      firstClass: \"first\",\n      prev: '&lt;',\n      prevClass: 'prev',\n      next: \"&gt;\",\n      nextClass: \"next\",\n      last: \"&gt;&gt;\",\n      lastClass: \"last\",\n\n      // Default class of pagination template, ui-bizagi-workportal-widget-inbox-common-pagination\n      // <li {{if page==pageNumber}} class=\"page active\" {{else}} class=\"page\" {{/if}} data-page=\"${pageNumber}\">\n      // <span class=\"number\">${pageNumber}</span>\n      // </li>\n      liClass: \"bz-page\",\n      arrowClass: \"bz-pageArrow\",\n\n      // Auto focus on selected element\n      selectedFocus: true,\n\n      // Call back methods\n      clickCallBack: function clickCallBack() {} };\n\n\n\n\n    if (options.actualPage > options.totalPages) {\n      options.actualPage = options.totalPages;\n    }\n\n\n    // Extend options\n    $.extend(opt, opt, options);\n\n    var pagination = {\n      previousPage: Math.max(1, parseInt(opt.actualPage) - 1),\n      nextPage: parseInt(opt.actualPage) + 1 };\n\n\n    function init() {\n      // Count total elements\n      opt.totalElements = $(\"li.\" + opt.liClass, opt.listElement[0]).length;\n\n\n      // Add control elements\n      if (opt.totalPages > opt.totalElements && opt.totalElements > 1) {\n        appendControlsArrows();\n      }\n\n      // Add events\n      bindElements();\n\n      // Set focus\n      if (opt.selectedFocus && opt.actualPage >= opt.totalElements && opt.totalPages > opt.totalElements) {\n        var firstElementValue;\n        var halfDisplace = opt.actualPage - Math.round(opt.totalElements / 2);\n\n        if (halfDisplace < 1) {\n          firstElementValue = 1;\n        } else if (halfDisplace + opt.totalElements > opt.totalPages) {\n          firstElementValue = opt.totalPages - opt.totalElements;\n          firstElementValue = firstElementValue < 1 ? 1 : firstElementValue;\n        } else {\n          firstElementValue = halfDisplace;\n        }\n\n        if (opt.listElement.find(\"li.active\").length == 0) {\n          displaceElements(firstElementValue, 1);\n        }\n      }\n    }\n\n    // Append control arrow to list\n    function appendControlsArrows() {\n\n      var disableFirst = pagination.previousPage == opt.actualPage;\n      var disableLast = opt.actualPage == opt.totalPages;\n\n      // add prev arrow\n      opt.listElement.prepend(\"<li/>\").find(\"li:first\").addClass(opt.prevClass).addClass(disableFirst ? \"pagination-disabled\" : \"\").data(\"page\", pagination.previousPage).html(opt.prev);\n\n      // add first arrow\n      opt.listElement.prepend(\"<li/>\").find(\"li:first\").addClass(opt.arrowClass + \" \" + opt.firstClass).addClass(disableFirst ? \"pagination-disabled\" : \"\").data(\"page\", \"1\").html(opt.first);\n\n      // add next arrow\n      opt.listElement.append(\"<li/>\").find(\"li:last\").addClass(opt.nextClass).addClass(disableLast ? \"pagination-disabled\" : \"\").data(\"page\", pagination.nextPage).html(opt.next);\n\n      // add last arrow\n      opt.listElement.append(\"<li/>\").find(\"li:last\").addClass(opt.arrowClass + \" \" + opt.lastClass).addClass(disableLast ? \"pagination-disabled\" : \"\").data(\"page\", opt.totalPages).html(opt.last);\n    }\n\n\n    // Add events\n    function bindElements() {\n      // Click event for list element\n      var options = {};\n      $(\"li:not(.pagination-disabled)\", opt.listElement).click(function () {\n        // Next line now includes a ternary operator in order to confirm last arrow (>>) if going indeed to the last page\n        options.page = $(this).hasClass(opt.lastClass) ? opt.totalPages : $.trim($(this).data(\"page\") + \" \");\n        options.parent = $(this).parent();\n        options.self = $(this);\n        opt.clickCallBack(options);\n      });\n    }\n\n    // Change values of elements\n    function pageScroll(increment) {\n      // if increment its positive, execute right scroll\n      // if increment its negative, execute left scroll\n      increment = increment || 1;\n      var displace = false;\n\n      // Define first element value\n      var firstPageValue = $(\"li.\" + opt.liClass + \":first\", opt.listElement).data(\"page\");\n      var lastPageValue = $(\"li.\" + opt.liClass + \":last\", opt.listElement).data(\"page\");\n\n\n      // Check left scroll - decrement\n      if (increment < 0 && firstPageValue > 1) {\n        displace = true;\n      } else if (increment > 0 && lastPageValue < opt.totalPages) {\n        displace = true;\n      }\n\n      if (displace) {\n        displaceElements(firstPageValue, increment);\n      }\n    }\n\n    // Displace elements\n    function displaceElements(firstElementValue, increment) {\n      firstElementValue = firstElementValue || 1;\n      increment = increment || 0;\n      var pageData;\n\n      if (increment > 0) {\n        // Increment\n        pageData = firstElementValue;\n      } else if (increment < 0) {\n        // Decrement\n        pageData = firstElementValue - 2;\n      } else {\n        return;\n      }\n\n      $.each($(\"li.\" + opt.liClass, opt.listElement), function (key, value) {\n        pageData++;\n        $(this).data(\"page\", pageData);\n        $(this).find(\"span\").html(pageData);\n        // Changes the attribute content of data-page with the current number pageData\n        $(this).attr(\"data-page\", pageData);\n        // Check if selected style\n        if (opt.actualPage == pageData && !$(this).hasClass(\"active\")) {\n          $(this).addClass(\"active\");\n        } else {\n          $(this).removeClass(\"active\");\n        }\n      });\n\n      // Show or hide tooltip pagination\n      if ($(opt.listElement).find(\".active\").length == 1) {\n        $(opt.listElement).parent().find(\"#tooltipPagination\").css(\"visibility\", \"hidden\");\n      } else {\n        $(opt.listElement).parent().find(\"#tooltipPagination\").css(\"visibility\", \"visible\");\n      }\n    }\n\n    // Init plugin\n    init();\n  };\n})(jQuery);","/* \r\n* Simple Pagination Control for Bizagi Workportal\r\n* @author: Edward J Morales\r\n*/\n\n(function ($) {\n  $.fn.bizagiPagination = function (options) {\n    // define options\n    options = options || {};\n\n    var opt = {\n      limInf: 0,\n      totalPages: 1,\n      actualPage: 1,\n\n      // Controllers elements\n      listElement: $(\"ul\"),\n      first: '&lt;&lt;',\n      firstClass: \"first\",\n      prev: '&lt;',\n      prevClass: 'prev',\n      next: \"&gt;\",\n      nextClass: \"next\",\n      last: \"&gt;&gt;\",\n      lastClass: \"last\",\n\n      // Default class of pagination template, ui-bizagi-workportal-widget-inbox-common-pagination\n      // <li {{if page==pageNumber}} class=\"page active\" {{else}} class=\"page\" {{/if}} data-page=\"${pageNumber}\">\n      // <span class=\"number\">${pageNumber}</span>\n      // </li>\n      liClass: \"bz-page\",\n      arrowClass: \"bz-pageArrow\",\n\n      // Auto focus on selected element\n      selectedFocus: true,\n\n      // Call back methods\n      clickCallBack: function clickCallBack() {} };\n\n\n\n\n    if (options.actualPage > options.totalPages) {\n      options.actualPage = options.totalPages;\n    }\n\n\n    // Extend options\n    $.extend(opt, opt, options);\n\n    var pagination = {\n      previousPage: Math.max(1, parseInt(opt.actualPage) - 1),\n      nextPage: parseInt(opt.actualPage) + 1 };\n\n\n    function init() {\n      // Count total elements\n      opt.totalElements = $(\"li.\" + opt.liClass, opt.listElement[0]).length;\n\n\n      // Add control elements\n      if (opt.totalPages > opt.totalElements && opt.totalElements > 1) {\n        appendControlsArrows();\n      }\n\n      // Add events\n      bindElements();\n\n      // Set focus\n      if (opt.selectedFocus && opt.actualPage >= opt.totalElements && opt.totalPages > opt.totalElements) {\n        var firstElementValue;\n        var halfDisplace = opt.actualPage - Math.round(opt.totalElements / 2);\n\n        if (halfDisplace < 1) {\n          firstElementValue = 1;\n        } else if (halfDisplace + opt.totalElements > opt.totalPages) {\n          firstElementValue = opt.totalPages - opt.totalElements;\n          firstElementValue = firstElementValue < 1 ? 1 : firstElementValue;\n        } else {\n          firstElementValue = halfDisplace;\n        }\n\n        if (opt.listElement.find(\"li.active\").length == 0) {\n          displaceElements(firstElementValue, 1);\n        }\n      }\n    }\n\n    // Append control arrow to list\n    function appendControlsArrows() {\n\n      var disableFirst = pagination.previousPage == opt.actualPage;\n      var disableLast = opt.actualPage == opt.totalPages;\n\n      // add prev arrow\n      opt.listElement.prepend(\"<li/>\").find(\"li:first\").addClass(opt.prevClass).addClass(disableFirst ? \"pagination-disabled\" : \"\").data(\"page\", pagination.previousPage).html(opt.prev);\n\n      // add first arrow\n      opt.listElement.prepend(\"<li/>\").find(\"li:first\").addClass(opt.arrowClass + \" \" + opt.firstClass).addClass(disableFirst ? \"pagination-disabled\" : \"\").data(\"page\", \"1\").html(opt.first);\n\n      // add next arrow\n      opt.listElement.append(\"<li/>\").find(\"li:last\").addClass(opt.nextClass).addClass(disableLast ? \"pagination-disabled\" : \"\").data(\"page\", pagination.nextPage).html(opt.next);\n\n      // add last arrow\n      opt.listElement.append(\"<li/>\").find(\"li:last\").addClass(opt.arrowClass + \" \" + opt.lastClass).addClass(disableLast ? \"pagination-disabled\" : \"\").data(\"page\", opt.totalPages).html(opt.last);\n    }\n\n\n    // Add events\n    function bindElements() {\n      // Click event for list element\n      var options = {};\n      $(\"li:not(.pagination-disabled)\", opt.listElement).click(function () {\n        // Next line now includes a ternary operator in order to confirm last arrow (>>) if going indeed to the last page\n        options.page = $(this).hasClass(opt.lastClass) ? opt.totalPages : $.trim($(this).data(\"page\") + \" \");\n        options.parent = $(this).parent();\n        options.self = $(this);\n        opt.clickCallBack(options);\n      });\n    }\n\n    // Change values of elements\n    function pageScroll(increment) {\n      // if increment its positive, execute right scroll\n      // if increment its negative, execute left scroll\n      increment = increment || 1;\n      var displace = false;\n\n      // Define first element value\n      var firstPageValue = $(\"li.\" + opt.liClass + \":first\", opt.listElement).data(\"page\");\n      var lastPageValue = $(\"li.\" + opt.liClass + \":last\", opt.listElement).data(\"page\");\n\n\n      // Check left scroll - decrement\n      if (increment < 0 && firstPageValue > 1) {\n        displace = true;\n      } else if (increment > 0 && lastPageValue < opt.totalPages) {\n        displace = true;\n      }\n\n      if (displace) {\n        displaceElements(firstPageValue, increment);\n      }\n    }\n\n    // Displace elements\n    function displaceElements(firstElementValue, increment) {\n      firstElementValue = firstElementValue || 1;\n      increment = increment || 0;\n      var pageData;\n\n      if (increment > 0) {\n        // Increment                \n        pageData = firstElementValue;\n      } else if (increment < 0) {\n        // Decrement  \n        pageData = firstElementValue - 2;\n      } else {\n        return;\n      }\n\n      $.each($(\"li.\" + opt.liClass, opt.listElement), function (key, value) {\n        pageData++;\n        $(this).data(\"page\", pageData);\n        $(this).find(\"span\").html(pageData);\n        // Changes the attribute content of data-page with the current number pageData\n        $(this).attr(\"data-page\", pageData);\n        // Check if selected style\n        if (opt.actualPage == pageData && !$(this).hasClass(\"active\")) {\n          $(this).addClass(\"active\");\n        } else {\n          $(this).removeClass(\"active\");\n        }\n      });\n\n      // Show or hide tooltip pagination\n      if ($(opt.listElement).find(\".active\").length == 1) {\n        $(opt.listElement).parent().find(\"#tooltipPagination\").css(\"visibility\", \"hidden\");\n      } else {\n        $(opt.listElement).parent().find(\"#tooltipPagination\").css(\"visibility\", \"visible\");\n      }\n    }\n\n    // Init plugin\n    init();\n  };\n})(jQuery);","/** \r\n*   Name: Decorator for inboxes\r\n*   Reason: The inboxGrid and normal inbox have independent inherence\r\n*/\n\n$.Class.extend(\"bizagi.workportal.widgets.inboxes.decorator\", {},\n{\n  /*\r\n  *  Constructor\r\n  */\n  init: function init(inboxInstance) {\n    var self = this;\n    self._addDecorators(inboxInstance);\n  },\n\n  /*\r\n     *   Create a proxied multiaction version for service calls\r\n     */\n  _addDecorators: function _addDecorators(inboxInstance) {\n    var self = this;\n    this.internalService = inboxInstance;\n    for (var key in self.Class.prototype) {\n      if (key == \"init\" || key == \"constructor\" || key == \"Class\" || key == \"proxyMethod\" || key == \"_addDecorators\") continue;\n      inboxInstance[key] = self[key];\n    }\n  },\n\n  /**\r\n      * COMMON METHODS FOR INBOX AND INBOXGRID\r\n     */\n\n  /**\r\n         * Show relative menu to configure a smart inbox\r\n         */\n  _showSmartInboxMenu: function _showSmartInboxMenu(event) {\n    event.stopPropagation();\n    var self = this;\n    var $parent = $(event.srcElement).closest(\"div\");\n    var data = $parent.data();\n\n    var content = $.tmpl(self.smartInboxTemplate, {\n      settingName: data.settingname,\n      owner: data.owner,\n      smartInboxId: data.smartinboxid });\n\n\n    $(\".ui-bizagi-workportal-widget-inbox-common-smartinbox-menucontainer\").position({\n      my: \"right bottom\",\n      at: \"right bottom\",\n      of: $(event.srcElement) });\n\n\n    $(\"li\", content).bind(\"click\", function (e) {\n      var action = $(e.srcElement).data(\"action\");\n      var $parent = $(e.srcElement).closest(\"ul\");\n      var data = $parent.data();\n      var parameters = {\n        settingName: data.settingname,\n        owner: data.owner,\n        smartInboxId: data.smartinboxid,\n        actionName: action };\n\n\n      switch (action) {\n        case \"edit\":\n          self._editSmartInbox(parameters);\n          break;\n        case \"delete\":\n          self._deleteSmartInbox(parameters);\n          break;\n        case \"share\":\n          self._shareSmartInbox(parameters);\n          break;}\n\n    });\n\n    $(document).on('click.overflow', function (e) {\n      $(\".ui-bizagi-workportal-widget-inbox-common-smartinbox-menucontainer\").empty();\n    });\n\n    $(\".ui-bizagi-workportal-widget-inbox-common-smartinbox-menucontainer\").append(content);\n\n  },\n\n  _editSmartInbox: function _editSmartInbox(parameters) {\n    var self = this;\n    self.publish(\"showDialogWidget\", {\n      selectedInboxData: parameters,\n      modalParameters: {\n        title: bizagi.localization.getResource(\"workportal-widget-myfolders-title-edit\", \"Edit Smart Inbox\"),\n        width: \"800px\",\n        showCloseButton: false,\n        refreshInbox: false },\n\n      showBackButton: false,\n      closeVisible: false,\n      widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX,\n      buttons: {} });\n\n  },\n\n  _deleteSmartInbox: function _deleteSmartInbox(parameters) {\n    var self = this;\n    var content = \"<div>\" + bizagi.localization.getResource(\"workportal-process-modeler-deleteConfirmationMessage\") + \"</div>\";\n\n    $(content).dialog({\n      title: bizagi.localization.getResource(\"confirmation-box-title\"),\n      maximize: false,\n      modal: true,\n      buttons: [\n      {\n        text: bizagi.localization.getResource(\"workportal-widget-queries-confirm-delete\"),\n        click: function click() {\n          $.when(self.dataService.deleteSmartInbox(parameters)).done(function () {\n            var storeWidget;\n            var grid = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID;\n            var homeportal = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_HOMEPORTAL;\n            if ($.isFunction(bizagi.cookie) && bizagi.cookie(\"bizagiDefaultWidget\") !== null && bizagi.cookie(\"bizagiDefaultWidget\") !== homeportal) {\n              storeWidget = bizagi.cookie(\"bizagiDefaultWidget\");\n            } else {\n              storeWidget = grid;\n            }\n\n            self.publish(\"changeWidget\", {\n              widgetName: storeWidget });\n\n          });\n          $(this).dialog(\"destroy\");\n        } },\n\n      {\n        text: bizagi.localization.getResource(\"workportal-widget-queries-confirm-cancel\"),\n        click: function click() {\n          $(this).dialog(\"destroy\");\n        } }] });\n\n\n\n  },\n\n  _shareSmartInbox: function _shareSmartInbox(parameters) {\n    var self = this;\n\n    self.publish(\"showDialogWidget\", {\n      shareMode: true,\n      selectedInboxData: parameters,\n      modalParameters: {\n        title: bizagi.localization.getResource(\"workportal-widget-smartinbox-title-share\", \"Share Smart Inbox\"),\n        width: 600,\n        height: 400,\n        showCloseButton: false,\n        refreshInbox: false },\n\n      showBackButton: false,\n      closeVisible: false,\n      widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX,\n      buttons: {} });\n\n  },\n\n  /**\r\n      * Invokes full summary method and render left pane\r\n      */\n  renderSummary: function renderSummary() {\n    var self = this;\n\n    var taskState = self.params.taskState;\n    var onlyFavorites = \"\";\n    var smartfoldersParameters;\n    // Build parameters\n    if (taskState == \"Favorites\") {\n      taskState = \"all\";\n      onlyFavorites = \"true\";\n    }\n    if (self.params.smartfoldersParameters && self.params.smartfoldersParameters.urlParameters) {\n      smartfoldersParameters = self.params.smartfoldersParameters.urlParameters;\n    }\n    var params = { taskState: taskState || \"all\", onlyFavorites: onlyFavorites, smartfoldersParameters: smartfoldersParameters };\n\n    // Loads inbox summary\n    $.when(self.dataService.getFullInboxSummary(params)).\n    done(function (response) {\n      self.updateSummary(response.summary.inboxSummary);\n      self.resizeLayout();\n      // Init with default task state\n      if (self.params.selectedSmartInboxId === undefined)\n      self.changeTaskState({ taskState: self.params.taskState, processes: response.processes, smartInbox: response.smartInbox, storedQueries: response.storedQueries });else\n\n      self.changeTaskState({ taskState: self.params.taskState, processes: response.processes, smartInbox: response.smartInbox, storedQueries: response.storedQueries, selectedSmartInboxId: self.params.selectedSmartInboxId });\n    });\n  },\n\n  /**\r\n      * Adds a handler for smart inbox nutton\r\n      */\n  configureSmartInbox: function configureSmartInbox() {\n    var self = this;\n    var content = self.getContent();\n\n    //SmartFolders\n    $(\".ui-bizagi-wp-app-inbox-smart-inbox-new\", content).off().bind(\"click\", function (e) {\n      self.publish(\"showDialogWidget\", {\n        modalParameters: {\n          title: bizagi.localization.getResource(\"workportal-widget-smartinbox-title-new\", \"New Smart Inbox\"),\n          width: \"800px\",\n          showCloseButton: false,\n          refreshInbox: false },\n\n        showBackButton: false,\n        closeVisible: false,\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SMARTINBOX,\n        buttons: {} });\n\n\n    });\n  },\n\n\n  /*\r\n     *   Configures the view control for the widget\r\n     */\n  configureViewControl: function configureViewControl() {\n    var self = this;\n    var content = self.getContent();\n    var eyeIcon = $(\"#ui-bizagi-wp-app-inbox-bt-eye\", content);\n    var eyeIconParent = $(\"#ui-bizagi-wp-app-inbox-bt-eye\", content).parent();\n\n    // Bind view handler\n    eyeIcon.click(function () {\n\n      bizagi.workportal.desktop.popup.closePopupInstance();\n      // Creates popup\n      self.popupOpened = false;\n      eyeIconParent.addClass(\"active\");\n      self.currentPopup = \"eyeDetails\";\n      var offset = \"0 0\";\n      var at = \"left bottom\";\n      var height = 60;\n      var width = 129;\n      var arrowPosition = {\n        left: \"64%\" };\n\n\n      var popup = new bizagi.workportal.desktop.popup(self.dataService, self.workportalFacade, {\n        sourceElement: \"#ui-bizagi-wp-app-inbox-bt-eye\",\n        offset: offset,\n        at: at,\n        height: height,\n        width: width,\n        arrowPosition: arrowPosition });\n\n\n      // Render popup\n      var template = self.getTemplate(\"inbox-common-header-view\");\n      popup.render($.tmpl(template));\n\n      // Checks for close signal to change the class again\n      $.when(popup.closed()).\n      then(function () {\n        self.popupOpened = false;\n        eyeIconParent.removeClass(\"active\");\n      });\n\n      // Details view\n      var popupContent = popup.getContent();\n      $(\"#viewDetailsEvent\", popupContent).click(function () {\n        self.publish(\"changeWidget\", {\n          widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX,\n          restoreStatus: true });\n\n        popup.close();\n      });\n\n      // Grid view\n      $(\"#viewGridEvent\", popupContent).click(function () {\n        self.publish(\"changeWidget\", {\n          widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID,\n          restoreStatus: true });\n\n        popup.close();\n      });\n    });\n  },\n\n  /*\r\n     *   Updates inbox summary\r\n     */\n  updateSummary: function updateSummary(summary) {\n    var self = this;\n    var content = self.getContent();\n\n    // Update values\n    $(\".ui-bizagi-wp-app-inbox-tab#red\", content).data(\"taskState\", \"Red\");\n    $(\".ui-bizagi-wp-app-inbox-tab#green\", content).data(\"taskState\", \"Green\");\n    $(\".ui-bizagi-wp-app-inbox-tab#yellow\", content).data(\"taskState\", \"Yellow\");\n    $(\".ui-bizagi-wp-app-inbox-tab#favourites\", content).data(\"taskState\", \"Favorites\");\n\n    // set number of cases for each category\n    //{\"inboxSummary\":{\"All\":1151,\"Green\":85,\"Red\":1055,\"Black\":0,\"Yellow\":11}}\n    if (self.params.taskState != \"all\") {\n      $(\".ui-bizagi-wp-app-inbox-tab\", content).each(function (k, e) {\n        if ($(e).data(\"taskState\") == self.params.taskState) {\n          $(e).addClass(\"active\");\n        } else {\n          $(e).removeClass(\"active\");\n        }\n      });\n    }\n\n    $(\".ui-bizagi-wp-app-inbox-tab#all\", content).find(\".toolTip\").html(summary.All);\n    $(\".ui-bizagi-wp-app-inbox-tab#red\", content).find(\".toolTip\").html(summary.Red);\n    $(\".ui-bizagi-wp-app-inbox-tab#green\", content).find(\".toolTip\").html(summary.Green);\n    $(\".ui-bizagi-wp-app-inbox-tab#yellow\", content).find(\".toolTip\").html(summary.Yellow);\n\n    var handlerSet = $(\"#footer #ui-bizagi-wp-app-inbox-tab-container\").data(\"handlerSet\") || false;\n    if (!handlerSet) {\n      $(\".ui-bizagi-wp-app-inbox-tab\", content).click(function () {\n        //remove selected style\n        $(\".ui-bizagi-wp-app-inbox-tab\", content).removeClass(\"active\");\n        //set selected style\n        $(this).addClass(\"active\");\n        var taskStateTo = $(this).data(\"taskState\");\n\n        // get content\n        if (self.changeTaskStateDebounce != null) {\n          self.changeTaskStateDebounce.cancel();\n          self.changeTaskStateDebounce = null;\n        }\n\n        self.changeTaskStateDebounce = bizagi.util.debounce2(function () {\n          self.changeTaskState({ taskState: taskStateTo, restoreStatus: true });\n        }, 200, false);\n\n        self.changeTaskStateDebounce.fire();\n      });\n      $(\"#footer #ui-bizagi-wp-app-inbox-tab-container\").data(\"handlerSet\", \"true\");\n    }\n  },\n\n\n  /*\r\n     *   Changes the task state and updates the content\r\n     */\n  changeTaskState: function changeTaskState(params) {\n    var self = this;\n    var content = self.getContent();\n    var processesContainer = $(\"#contentProc\", content);\n    var smartfoldersParameters = \"\";\n    var params = params || {};\n    var taskState = params.taskState;\n\n    self._prepareServiceParameters(params);\n\n    // Clear content\n    $(\"#ui-bizagi-wp-app-inbox-tap-selector\", content).removeClass().addClass(taskState);\n    processesContainer.empty();\n\n    // Prepare services or reuse data from params\n    var processesService = !bizagi.util.isEmpty(params.processes) ? params.processes : self.dataService.getAllProcesses({ taskState: self.taskState || \"all\", onlyFavorites: self.onlyFavorites, smartfoldersParameters: smartfoldersParameters });\n    var smartInboxService = !bizagi.util.isEmpty(params.smartInbox) ? params.smartInbox : self.dataService.getAllSmartInbox();\n\n    // Loads processes by task state\n    $.when(processesService, smartInboxService).\n    then(function (data, smartinboxes) {\n      data.smartinboxes = smartinboxes;\n\n      // Sort inbox items\n      self._sortInboxItems(data);\n\n      // Render template\n      data.hasSmartInboxPermission = bizagi.menuSecurity.SmartInbox || false;\n      data = self._prepareDataForRendering(data, data.hasSmartInboxPermission);\n      var processesContent = $.tmpl(self.processesTemplate, data);\n      if (bizagi.util.isEnableFeature(\"enableDefaultInbox\") === false) {\n        $(\".ui-bizagi-wp-app-inbox-processes-pin\", processesContent).hide();\n      }\n      processesContent.appendTo(processesContainer);\n\n      // Add sortable behaviour\n      self._configureSortableForInboxes(processesContainer, data);\n\n      if (data && data.smartinboxes && data.smartinboxes.length == 0 && data.categories && data.categories.length == 0) {\n        processesContainer.hide();\n      }\n\n      // Render stored queries\n      self._renderStoredQueries(params);\n\n      // Add handlers\n      $(\"li\", processesContainer).bind(\"click\", function (event) {self._onInboxItemClick(event, processesContainer, smartfoldersParameters, this);});\n      $(\".ui-bizagi-wp-app-inbox-processes-start\", processesContainer).click(function (event) {self._onFavoritesItemClick(event, this);});\n      $(\".ui-bizagi-wp-app-inbox-processes-title\", processesContainer).click(function () {self._onCategoryItemClick(this);});\n      $(\".ui-bizagi-wp-app-inbox-processes-pin\", processesContainer).click($.proxy(self._onClickPinOrUnpinProcess, self));\n      $(\".ui-bizagi-wp-app-inbox-processes-smartinbox-settings\", processesContainer).click($.proxy(self._showSmartInboxMenu, self));\n\n      // Restore default inbox\n      self._restoreDefaultInbox(params, processesContainer);\n\n      // Add scrollbar\n      $(processesContainer).bizagiScrollbar();\n\n      // Open first process\n      if (data.categories === undefined || data.categories.length == 0) {\n        self.changeProcess();\n      }\n\n      // Configure smartinbox button\n      self.configureSmartInbox();\n    });\n  },\n\n  _prepareDataForRendering: function _prepareDataForRendering(data, hasSmartInboxPermission) {\n    var self = this;\n\n    data = self._addFilteredItems(data, hasSmartInboxPermission);\n    data = self._addPinnedItems(data, hasSmartInboxPermission);\n    data = self._addAllCasesItem(data);\n    data.smartInboxEnable = bizagi.util.isEnableFeature(\"enableSmartInbox\");\n    return data;\n  },\n\n  _addAllCasesItem: function _addAllCasesItem(data) {\n    var self = this;\n\n    if (data.allCases) {\n      data.allCases.inboxType = \"process\";\n      var filters = self.getSmartFiltersFromStorage(\"process\", \"-1\");\n      data.allCases.filtered = !bizagi.util.isEmpty(filters) && filters.length > 0 ? true : false;\n    }\n\n    return data;\n  },\n\n  _addPinnedItems: function _addPinnedItems(data, hasSmartInboxPermission) {\n    data.pinned = [];\n    var preferences = bizagi.services.preferences().getPreferences();\n\n    $.each(data.categories, function (_, category) {\n      $.each(category.workflows, function (_, item) {\n        if (preferences.defaultOpenInboxWorkflowId == item.idworkflow) {\n          item.pinned = true;\n          item.inboxType = \"process\";\n          data.pinned.push(item);\n        } else {\n          item.pinned = false;\n        }\n      });\n    });\n\n    $.each(data.smartinboxes, function (_, item) {\n      if (preferences.defaultOpenInboxSmartInboxId == item.id) {\n        item.pinned = true;\n        item.inboxType = \"smartinbox\";\n        item.hasSmartInboxPermission = hasSmartInboxPermission;\n        data.pinned.push(item);\n      } else {\n        item.pinned = false;\n      }\n    });\n\n    return data;\n  },\n\n  _addFilteredItems: function _addFilteredItems(data, hasSmartInboxPermission) {\n    var self = this;\n\n    $.each(data.smartinboxes, function (i, item) {\n      var filters = self.getSmartFiltersFromStorage(\"smartinbox\", item.id);\n      item.hasSmartInboxPermission = hasSmartInboxPermission;\n      item.filtered = !bizagi.util.isEmpty(filters) && filters.length > 0 ? true : false;\n    });\n    $.each(data.categories, function (i, category) {\n      $.each(category.workflows, function (i, item) {\n        var filters = self.getSmartFiltersFromStorage(\"process\", item.idworkflow);\n        item.filtered = !bizagi.util.isEmpty(filters) && filters.length > 0 ? true : false;\n      });\n    });\n\n    return data;\n  },\n\n  _prepareServiceParameters: function _prepareServiceParameters(params) {\n    var self = this;\n    var taskState = params.taskState;\n\n    if (self.params.smartfoldersParameters && self.params.smartfoldersParameters.urlParameters) {\n      smartfoldersParameters = self.params.smartfoldersParameters.urlParameters;\n    }\n\n    var previewTaskState = self.params.taskState;\n    self.params.taskState = taskState;\n\n    // Update internal variable\n    if (taskState == \"Favorites\") {\n      self.taskState = \"all\";\n      self.onlyFavorites = \"true\";\n      if (previewTaskState !== taskState) {\n        bizagi.referrerParams.page = \"1\";\n      }\n    } else {\n      self.taskState = taskState;\n      self.onlyFavorites = \"\";\n    }\n  },\n\n  /* LIVE FILTERS METHODS */\n  openLiveFilterDialog: function openLiveFilterDialog(params) {\n    var self = this;\n    params = params || {};\n    self.params.workflowId = self.idWorkflow;\n    self.params.smartInboxId = self.smartInboxGuid;\n\n    // Create widget & model\n    var model = self._createLiveFilterModel(params);\n    var filterWidget = new bizagi.workportal.widgets.smartinbox.filter(self.workportalFacade, self.dataService, self.params);\n    filterWidget.setCustomizedColumns(self.liveFilterColumns);\n\n    // Render container\n    var $container = $(\"<div>\");\n    $.when(filterWidget.render()).\n    then(function (filterContent) {\n      filterWidget.setModel(model);\n      $container.append(filterContent);\n    });\n\n    bizagi.dialog;\n    $container.dialog({\n      maximize: true,\n      minimize: false,\n      width: 900,\n      height: 600,\n      title: bizagi.localization.getResource(\"workportal-widget-smartinbox-live-filters-title\", \"Filters for\"),\n      modal: true,\n      buttons: [{\n        text: bizagi.localization.getResource(\"workportal-widget-smartinbox-live-filters-cancel\", \"Cancel\"),\n        \"class\": 'bz-btn--secondary',\n        click: function click() {\n          $(this).dialog(\"close\");\n        } },\n      {\n        text: bizagi.localization.getResource(\"workportal-widget-smartinbox-live-filters-apply\", \"Apply\"),\n        click: function click() {self._onLiveFilterDialogApply($(this), filterWidget);} }],\n\n\n      close: function close() {\n        $(this).dialog('destroy').remove();\n      } });\n\n    if (bizagi.localization.isRTL)\n    $container.siblings(\".ui-dialog-buttonpane\").addClass(\"bz-smartfilters-rtl\");\n  },\n\n  getSmartFiltersFromStorage: function getSmartFiltersFromStorage(type, id) {\n    var filters = [];\n    var modelStorage = bizagi.util.getItemLocalStorage(\"smartfilters\");\n    var key = type + \"-\" + id;\n    try {\n      var serialize = JSON.parse(modelStorage);\n      filters = typeof serialize[key] != \"undefined\" ? JSON.parse(serialize[key]) : filters;\n    } catch (e) {\n      filters = [];\n    }\n\n    $(\"#contentItemsPaginationInbox .filterColumns\").trigger(\"UPDATEFILTERSCOUNTER\", filters.count());\n\n    return filters;\n  },\n\n  setSmartFiltersToStorage: function setSmartFiltersToStorage(type, id, value) {\n    var modelStorage = bizagi.util.getItemLocalStorage(\"smartfilters\") || \"[]\";\n    var serialize = JSON.parse(modelStorage);\n    var key = type + \"-\" + id;\n\n    serialize[key] = JSON.stringify(value);\n    bizagi.util.setItemLocalStorage(\"smartfilters\", JSON.encode(Object.assign({}, serialize)));\n\n    // Update filter mark\n    if (type == \"smartinbox\") {\n      var item = $(\".ul-processes-list li[data-item-type='smartinbox'][data-guid='\" + id + \"']\");\n      if (value.length > 0) {\n        $(\".ui-bizagi-wp-inbox-filtered\", item).css(\"display\", \"inline-block\");\n      } else {\n        $(\".ui-bizagi-wp-inbox-filtered\", item).css(\"display\", \"none\");\n      }\n    } else {\n      var item = $(\".ul-processes-list li[idworkflow='\" + (id > 0 ? id : \"\") + \"']\");\n      if (value.length > 0) {\n        $(\".ui-bizagi-wp-inbox-filtered\", item).css(\"display\", \"inline-block\");\n        $(\".ui-bizagi-wp-app-inbox-processes-ncase\", item).css(\"display\", \"none\");\n      } else {\n        $(\".ui-bizagi-wp-inbox-filtered\", item).css(\"display\", \"none\");\n        $(\".ui-bizagi-wp-app-inbox-processes-ncase\", item).css(\"display\", \"inline-block\");\n      }\n    }\n  },\n\n  isValidFilter: function isValidFilter(smartFilter, customizedColumnsAvailable) {\n    var self = this;\n    if (smartFilter.column === undefined) return false;\n    return $.any(customizedColumnsAvailable, function (column) {return column.fieldFilterName == smartFilter.column;});\n  },\n\n  _createLiveFilterModel: function _createLiveFilterModel(params) {\n    var self = this;\n    var model;\n    if (!bizagi.util.isEmpty(self.idWorkflow)) {\n      model = self.getSmartFiltersFromStorage(\"process\", self.idWorkflow);\n    } else if (!bizagi.util.isEmpty(self.smartInboxGuid)) {\n      model = self.getSmartFiltersFromStorage(\"smartinbox\", self.smartInboxGuid);\n    } else if (bizagi.util.isEmpty(self.idWorkflow)) {\n      model = self.getSmartFiltersFromStorage(\"process\", -1);\n    }\n\n    if (params.injectFilter) {\n      $.each(self.liveFilterColumns, function (_, value) {\n        if (params.injectFilter.column == value.name) {\n          params.injectFilter.type = value.type;\n        }\n      });\n      model.push(params.injectFilter);\n    }\n    self.smartInboxModel.setModel(model);\n\n    return model;\n  },\n\n  _onLiveFilterDialogApply: function _onLiveFilterDialogApply(container, filterWidget) {\n    var self = this;\n    var arrayMessagesErrors = [];\n    if (filterWidget.validateFilterForSave(arrayMessagesErrors)) {\n\n      if (!bizagi.util.isEmpty(self.idWorkflow)) {\n        self.setSmartFiltersToStorage(\"process\", self.idWorkflow, filterWidget.getModel());\n      } else if (!bizagi.util.isEmpty(self.smartInboxGuid)) {\n        self.setSmartFiltersToStorage(\"smartinbox\", self.smartInboxGuid, filterWidget.getModel());\n      } else {\n        self.setSmartFiltersToStorage(\"process\", -1, filterWidget.getModel());\n      }\n\n      self.applyLiveFilters(filterWidget.getModel());\n      container.dialog(\"close\");\n    } else\n    {\n      $.each(arrayMessagesErrors, function (ind, elem) {\n        self.notifier.showErrorMessage(elem);\n      });\n    }\n  },\n\n  /**\r\n      * Encode json filter to base64\r\n      * @param {json} filter \r\n      */\n  encodeLiveFilter: function encodeLiveFilter(filter) {\n    var serializeFilter = \"\";\n\n    try {\n      serializeFilter = JSON.encode(filter);\n    } catch (e) {\n      serializeFilter = JSON.encode(\"[]\");\n    }\n\n    var encoded = CryptoJS.enc.Utf8.parse(serializeFilter);\n\n    return CryptoJS.enc.Base64.stringify(encoded);;\n  },\n\n  /**\r\n      * Decode base64 filter\r\n      * @param {base64} filter \r\n      */\n  decodeLiveFilter: function decodeLiveFilter(filter) {\n    var unserializeFilter = \"\";\n    var decoded = CryptoJS.enc.Base64.parse(filter);\n    var jsonFilter = CryptoJS.enc.Utf8.stringify(decoded);\n\n    try {\n      unserializeFilter = JSON.parse(jsonFilter);\n    } catch (e) {\n      unserializeFilter = JSON.parse(\"[]\");\n    }\n\n    return unserializeFilter;\n\n  },\n\n  /**\r\n      * Apply a filter and refresh the view\r\n      * @param {json} model \r\n      */\n  applyLiveFilters: function applyLiveFilters(model) {\n    var self = this;\n\n    if (!bizagi.util.isEmpty(self.smartInboxGuid)) {\n      self.changeProcess({\n        type: \"smartinbox\",\n        smartInboxGuid: self.smartInboxGuid,\n        liveFilters: self.encodeLiveFilter(model) });\n\n    } else {\n      self.changeProcess({\n        type: \"process\",\n        idWorkflow: self.idWorkflow,\n        liveFilters: self.encodeLiveFilter(model) });\n\n    }\n\n    $(\"#contentItemsPaginationInbox .filterColumns\").trigger(\"UPDATEFILTERSCOUNTER\", model.count());\n  },\n\n  /*\r\n     *  Configures the live filters metadata for process headers\r\n     */\n  processHeaderLiveFilters: function processHeaderLiveFilters(data) {\n    var self = this;\n    self.liveFilterColumns = $.map(data.columnTitle, function (column) {\n      if (column.fieldName !== \"I_idCategory\" && column.fieldName !== \"I_CurrentUserFullName\" &&\n      column.fieldName !== \"I_UserLocation\" && column.fieldName !== \"I_CurrentUserName\")\n      {\n        return {\n          displayName: column.displayName,\n          name: column.fieldFilterName || column.displayName,\n          field: column.fieldName,\n          type: column.fieldFilterDataType,\n          entity: column.entityGuid };\n\n      }\n    });\n  },\n\n  _configureSortableForInboxes: function _configureSortableForInboxes(container, data) {\n    var self = this;\n    var sortContainer = $(\".ul-processes-list[data-sort-container]\", container);\n    sortContainer.sortable({\n      cursor: \"grabbing\",\n      items: \"> li\",\n      handle: \".ui-bizagi-wp-app-inbox-processes-drag\",\n      start: function start(e, ui) {\n        $(this).attr('data-previndex', ui.item.index());\n      },\n      update: function update(e, ui) {\n        var category = $(e.target).data(\"sort-container\");\n        var toIndex = ui.item.index();\n        var fromIndex = Number($(this).attr('data-previndex'));\n        $(this).removeAttr('data-previndex');\n        data = self.changeInboxOrder(data, category, fromIndex, toIndex);\n      } });\n\n  },\n\n  _sortInboxItems: function _sortInboxItems(data) {\n    var json = bizagi.services.preferences().getPreferences();\n\n    if (json.inboxItemsOrder) {\n\n      // Sort smartinbox items\n      if (data.smartinboxes) {\n        var orderedItems = json.inboxItemsOrder[\"smartinbox\"];\n        if (orderedItems) {\n          var notOrderedItems = $.grep(data.smartinboxes, function (item) {return orderedItems.indexOf(item.id) == -1;});\n          data.smartinboxes = $.map(orderedItems, function (id) {\n            var smartinbox = $.first(data.smartinboxes, function (item) {return item.id == id;});\n            return smartinbox;\n          });\n          if (notOrderedItems && notOrderedItems.length > 0)\n          Array.prototype.push.apply(data.smartinboxes, notOrderedItems);\n        }\n      }\n\n      // Sort categories processes\n      if (data.categories) {\n        data.categories.map(function (_, i) {\n          var guidCategory = data.categories[i].guidCategory;\n          var orderedItems = json.inboxItemsOrder[guidCategory];\n          var workflows = data.categories[i].workflows;\n          if (orderedItems) {\n            var notOrderedItems = $.grep(workflows, function (item) {return orderedItems.indexOf(item.idworkflow) == -1;});\n            data.categories[i].workflows = $.map(orderedItems, function (id) {\n              var workflow = $.first(workflows, function (item) {return item.idworkflow == id;});\n              return workflow;\n            });\n            if (notOrderedItems && notOrderedItems.length > 0)\n            Array.prototype.push.apply(data.categories[i].workflows, notOrderedItems);\n          }\n        });\n      }\n    }\n  },\n\n  _renderStoredQueries: function _renderStoredQueries(params) {\n    var self = this;\n    var storedQueriesService = !bizagi.util.isEmpty(params.storedQueries) ? params.storedQueries : self.dataService.getStoredQueryFormList();\n    $.when(storedQueriesService).then(function (storedQueryForm) {\n      if (storedQueryForm.storedQueryForms.length > 0) {\n        $.when(\n        self.workportalFacade.getWidget(\"queriesShortcut\", {})).\n        pipe(function (result) {\n          widget = result;\n          return widget.render();\n        }).done(function () {\n          var content = widget.getContent();\n          $(\"#queryFormShortcut\").html(content);\n        });\n      }\n    });\n  },\n\n  _onInboxItemClick: function _onInboxItemClick(event, processesContainer, smartfoldersParameters, el) {\n    var self = this;\n    var process = $(el);\n\n    event.stopPropagation();\n    $(document).trigger(\"click.overflow\");\n    // Remove all selected elements\n    $(\".selected\", processesContainer).removeClass(\"selected\");\n\n    // Add selected class\n    process.addClass(\"selected\");\n\n    //if click for human, restore page to 1\n    if (event.currentTarget && event.currentTarget.tagName && event.originalEvent) {\n      bizagi.referrerParams.page = \"1\";\n    }\n\n    // Change the current process\n    var idWorkflow = $(\"#idWorkflow\", process).val();\n    var inboxName = $(\".ui-bizagi-wp-app-inbox-processes-name\", process).text().trim();\n\n    if (process.data('item-type') == \"smartinbox\") {\n      self.changeProcess({\n        type: process.data('item-type'),\n        smartInboxGuid: process.data('guid'),\n        inboxName: inboxName,\n        page: bizagi.referrerParams ? bizagi.referrerParams.page : undefined });\n\n    } else\n    {\n      self.changeProcess({\n        idWorkflow: idWorkflow,\n        smartfoldersParameters: smartfoldersParameters,\n        page: bizagi.referrerParams ? bizagi.referrerParams.page : undefined,\n        inboxName: inboxName });\n\n    }\n  },\n\n  _onFavoritesItemClick: function _onFavoritesItemClick(e, elmnt) {\n    var self = this;\n    var options;\n    var idWorkflow = $(\"#idWorkflow\", $(elmnt).parent()).val();\n\n    e.stopPropagation();\n    $(document).trigger(\"click.overflow\");\n    $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-processes-start\").addClass(\"ui-bizagi-wp-app-inbox-processes-start-wait\");\n\n    // check if its favorite\n    if ($(elmnt).parent().find(\"#isFavorite\").val() == \"false\") {\n      options = {\n        idObject: $(elmnt).parent().find(\"#guidWFClass\").val(),\n        favoriteType: \"WFCLASS\" };\n\n      $.when(self.dataService.addFavorite(options)).\n      then(function (favoritesData) {\n        $(elmnt).parent().find(\"#guidFavorite\").val(favoritesData[\"idFavorites\"]);\n        $(elmnt).removeClass(\"bz-icon-star-outline\").addClass(\"bz-icon-star\");\n        $(elmnt).parent().find(\"#isFavorite\").val(\"true\");\n        $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-processes-start-wait\").addClass(\"ui-bizagi-wp-app-inbox-processes-start\");\n        self.updateCountProcess(idWorkflow, true);\n      });\n\n    } else {\n      options = {\n        idObject: $(elmnt).parent().find(\"#guidFavorite\").val(),\n        favoriteType: \"WFCLASS\" };\n\n      $.when(self.dataService.delFavorite(options)).\n      then(function (favoritesData) {\n        if (favoritesData[\"deleted\"] == \"true\" || favoritesData[\"deleted\"] == true) {\n          $(elmnt).parent().find(\"#guidFavorite\").val(\"\");\n          $(elmnt).removeClass(\"bz-icon-star\").addClass(\"bz-icon-star-outline\");\n          $(elmnt).parent().find(\"#isFavorite\").val(\"false\");\n          $(elmnt).removeClass(\"ui-bizagi-wp-app-inbox-processes-start-wait\").addClass(\"ui-bizagi-wp-app-inbox-processes-start\");\n          self.updateCountProcess(idWorkflow, false);\n        }\n      });\n    }\n\n    // Update case list\n    if (self.params.taskState == \"Favorites\" && $(elmnt).parent().hasClass(\"selected\")) {\n      $(elmnt).parent().trigger(\"click\");\n    }\n  },\n\n  _onCategoryItemClick: function _onCategoryItemClick(el) {\n    var process = $(el).next(\"ul\");\n    var arrow = $(el).find(\"span\");\n    var isHidden = process.is(\":hidden\") ? true : false;\n    // Check if element has been hidden\n    if (isHidden) {\n      process.show();\n      arrow.removeClass(\"Right\");\n      arrow.addClass(\"Down\");\n    } else {\n      process.hide();\n      arrow.removeClass(\"Down\");\n      arrow.addClass(\"Right\");\n    }\n  },\n\n  _restoreDefaultInbox: function _restoreDefaultInbox(params, processesContainer) {\n    var self = this;\n    self.params.restoreStatus = params.restoreStatus || self.params.restoreStatus;\n    if (params.selectedSmartInboxId == \"\" || params.selectedSmartInboxId === undefined) {\n      bizagi.workportal.widgets.inbox.RESTORE_FROM_BACK_BUTTON(self, processesContainer);\n\n    } else {\n      // When a smartinbox was created, then smartInboxGuid is set\n      var item = $(\"li[data-guid='\" + params.selectedSmartInboxId + \"'][data-item-type='smartinbox']\", processesContainer);\n      if (item.length > 0) {\n        var container = item.parents(\".ul-processes-list\");\n        if (container.css(\"display\") == \"none\") {\n          container.removeClass(\"nodisplay\");\n        }\n        item.addClass(\"selected\").trigger(\"click\");\n\n      } else {\n        bizagi.workportal.widgets.inbox.RESTORE_FROM_BACK_BUTTON(self, processesContainer);\n      }\n    }\n  },\n\n  /**\r\n      * Pin a process\r\n      * @param {JQuery element} containerPin \r\n      */\n  _pinProcessByContainerPin: function _pinProcessByContainerPin() {\n    var self = this;\n    self.renderSummary();\n  },\n\n  /**\r\n      * Unpin a process\r\n      * @param {JQuery element} containerPin \r\n      */\n  _unpinProcessByContainerPin: function _unpinProcessByContainerPin() {\n    var self = this;\n    self.renderSummary();\n  },\n\n  /**\r\n      * OnClick event on Pin icon, pin or unpin actions\r\n      * @param {clickEvent} event \r\n      */\n  _onClickPinOrUnpinProcess: function _onClickPinOrUnpinProcess(event) {\n    var self = this;\n    event.stopPropagation();\n    $(document).trigger(\"click.overflow\");\n    var setDefaultInboxInUserPreferences = function setDefaultInboxInUserPreferences(type, id) {\n      var modifiedJSON = bizagi.services.preferences().getPreferences();\n      if (type == \"process\") {\n        modifiedJSON.defaultOpenInboxWorkflowId = Number(id);\n        modifiedJSON.defaultOpenInboxSmartInboxId = undefined;\n      } else {\n        modifiedJSON.defaultOpenInboxSmartInboxId = id;\n        modifiedJSON.defaultOpenInboxWorkflowId = undefined;\n      }\n      bizagi.services.preferences().overridePreferences(modifiedJSON);\n    };\n\n    var containerPin = $(event.target).closest(\".container-bz-icon-svg\");\n    if (containerPin.hasClass(\"pinned\")) {\n      self._unpinProcessByContainerPin();\n      setDefaultInboxInUserPreferences(-1);\n    } else\n    {\n      self._pinProcessByContainerPin();\n      var smartinboxId = $(event.target).closest(\"li\").data(\"guid\");\n      var idWorkflow = $(event.target).closest(\"li\").find(\"#idWorkflow\").val();\n      setDefaultInboxInUserPreferences(smartinboxId != null ? \"smartinbox\" : \"process\", smartinboxId || idWorkflow);\n    }\n  },\n\n  /**\r\n      * Method that allow us to override the current order of a specific category in the inbox summary\r\n      * @param {clickEvent} event \r\n      */\n  changeInboxOrder: function changeInboxOrder(data, category, from, to) {\n    var self = this;\n    var json = bizagi.services.preferences().getPreferences();\n\n    json.inboxItemsOrder = json.inboxItemsOrder || {};\n    if (category == \"smartinbox\") {\n      var smartinboxes = data.smartinboxes;\n      ids = $.map(smartinboxes, function (item) {return item.id;});\n      var fromItem = ids.splice(from, 1)[0];\n      ids.splice(to, 0, fromItem);\n      json.inboxItemsOrder[category] = ids;\n\n    } else {\n      var processCategory = $.first(data.categories, function (item) {return item.guidCategory == category;});\n      var workflows = processCategory.workflows;\n      ids = $.map(workflows, function (item) {return item.idworkflow;});\n      var fromItem = ids.splice(from, 1)[0];\n      ids.splice(to, 0, fromItem);\n      json.inboxItemsOrder[category] = ids;\n    }\n\n    bizagi.services.preferences().overridePreferences(json);\n    self._sortInboxItems(data);\n    return data;\n  } });","/*\r\n*   Name: BizAgi Workportal Inbox Widget Controller\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a base class to to define the inbox widget\r\n*/\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.inbox\", {}, {\n\n  /*\r\n                                                                                 *   Returns the widget name\r\n                                                                                 */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX;\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     *   Returns a deferred because it has to load the current user\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"inbox\");\n    var data = {};\n\n    // Enable or disable functionality\n    data.enableFolders = bizagi.override != undefined && bizagi.override.enableFolder ? true : false;\n    data.enableSmartFolders = bizagi.override != undefined && bizagi.override.enableSmartFolders ? true : false;\n\n    // Render content\n    var content = self.content = $.tmpl(template, data);\n\n    // Set inbox view variable\n    bizagi.workportal.currentInboxView = self.getWidgetName();\n\n    return content;\n  },\n\n  /*\r\n     *   Renders the summary form inside a given container\r\n     */\n  renderSummaryForm: function renderSummaryForm(container) {\n    var self = this;\n    var def = new $.Deferred();\n\n    var proxyPrefix = typeof self.dataService.serviceLocator.proxyPrefix !== \"undefined\" ?\n    self.dataService.serviceLocator.proxyPrefix : \"\";\n\n    bizagi.loader.start(\"rendering\").then(function () {\n      // Load render page\n      var rendering = new bizagi.rendering.facade({ \"proxyPrefix\": proxyPrefix });\n\n      // Executes rendering into render container\n      rendering.execute({\n        canvas: container,\n        summaryForm: true,\n        idCase: self.idCase });\n\n\n      // Keep reference to rendering facade\n      self.renderingFacade = rendering;\n\n      // Resize layout\n      setTimeout(function () {\n        self.resizeLayout();\n      }, 1000);\n\n      // Resolve main deferred\n      $.when(rendering.ready()).\n      done(function () {\n        def.resolve();\n      });\n    });\n\n    return def.promise();\n  },\n\n  routingExecute: function routingExecute(element) {\n    // Executes routing action\n    if (element == undefined) {\n      return false;\n    }\n\n    var self = this;\n\n    var idCase = element.find(\"#idCase\").val();\n    var idWorkflow = element.find(\"#idWorkflow\").val();\n    var idWorkItem = element.find(\"#idWorkItem\").val();\n    var idTask = element.find(\"#idTask\").val();\n    var eventAsTasks = element.find(\"#eventAsTasks\").val() || false;\n\n    self.publish(\"executeAction\", {\n      action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n      idCase: idCase,\n      idWorkflow: idWorkflow,\n      idWorkItem: idWorkItem,\n      idTask: idTask,\n      eventAsTasks: eventAsTasks });\n\n  } });","\n/*\r\n*   Name: BizAgi Workportal Inbox Grid Widget Controller\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a base class to to define the inbox grid widget\r\n*/\n\nbizagi.workportal.widgets.listCases.extend(\"bizagi.workportal.widgets.inboxGrid\", {}, {\n\n  /*\r\n                                                                                        *   Returns the widget name\r\n                                                                                        */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID;\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     *   Returns a deferred because it has to load the current user\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"inbox-grid\");\n    var data = {};\n\n    // Enable or disable functionality\n    data.enableFolders = bizagi.override != undefined && bizagi.override.enableFolder ? true : false;\n    data.enableSmartFolders = bizagi.override != undefined && bizagi.override.enableSmartFolders ? true : false;\n    data.liveFiltersEnable = bizagi.util.isEnableFeature(\"enableLiveFilters\");\n    // Render content\n    var content = self.content = $.tmpl(template, $.extend(data, { security: bizagi.menuSecurity }));\n\n    // Set inbox view variable\n    bizagi.workportal.currentInboxView = self.getWidgetName();\n\n    return content;\n  } });","\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.integration\", {}, {\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    self.module = params.module || null;\n    self.selector = params.selector || \"\";\n  },\n\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INTEGRATION;\n  },\n\n  renderContent: function renderContent() {\n    var self = this;\n    var selector = document.createElement(self.selector);\n    var content = self.content = $(selector);\n\n    return content;\n  },\n  postRender: function postRender() {\n    var self = this;\n    //Load module\n    if (self.module) {\n      bizagi.loader.start(self.module).then(function () {\n      });\n    }\n  },\n\n  clean: function clean() {\n    var self = this;\n    $(self.selector).empty();\n\n    self._super();\n  } });","/*\r\n*   Name: BizAgi Workportal Folder Widget Controller\r\n*   Author: Edward Morales\r\n*   Comments:\r\n*   -   This script will define a base class to to define the folders widget\r\n*/\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.folders\", {}, {\n  /*\r\n                                                                                   *   Returns the widget name\r\n                                                                                   */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_FOLDERS;\n  },\n\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"folders\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders\"),\n      \"folders-elements\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-elements\"),\n      \"folders-empty-elements\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-empty-elements\"),\n      \"folders-query-tree\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-query-tree\"),\n      \"folders-query-confirm\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-confirm\"),\n      \"folders-default\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-default\"),\n      \"folders-input-new\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-input-new\"),\n      \"folders-add-case\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-add-case\"),\n      \"folders-elements-node\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-element-node\"),\n      \"folders-query-edit\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.folders\").concat(\"#ui-bizagi-workportal-widget-folders-edit\"),\n      useNewEngine: false });\n\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     *   Returns a deferred because it has to load the current user\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"folders\");\n    var content = self.content = $.tmpl(template);\n\n    return content;\n  } });","/*\r\n*   Name: BizAgi Workportal Smart Folder Widget Controller\r\n*   Author: Edward Morales\r\n*   Comments:\r\n*   -   This script will define a base class to to define the smart folders widget\r\n*/\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.smartfolders\", {}, {\n  /*\r\n                                                                                        *   Returns the widget name\r\n                                                                                        */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_FOLDERS;\n  },\n\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"smartfolders\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders\"),\n      \"smartfolders-elements\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-elements\"),\n      \"smartfolders-empty-elements\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-empty-elements\"),\n      \"smartfolders-query-confirm\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-confirm\"),\n      \"smartfolders-default\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-default\"),\n      \"smartfolders-add-case\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-add-case\"),\n      \"smartfolders-elements-node\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-element-node\"),\n      \"smartfolders-query-tree\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-query-tree\"),\n      \"smartfolders-query-edit\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-edit\"),\n      \"smartfolders-input-new\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.smartfolders\").concat(\"#ui-bizagi-workportal-widget-smartfolders-input-new\"),\n      useNewEngine: false });\n\n  },\n\n  /*\r\n     *   Renders the content for the current controller\r\n     *   Returns a deferred because it has to load the current user\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"smartfolders\");\n    var content = self.content = $.tmpl(template);\n\n    return content;\n  } });","/*\r\n *   Name: BizAgi Workportal Desktop Folders Widget Controller\r\n *   Author: Edward Morales\r\n *   Comments:\r\n *   -   This script will provide desktop overrides to implement the folder widget\r\n */\n\n// Auto extend\nbizagi.workportal.widgets.folders.extend(\"bizagi.workportal.widgets.folders\", {}, {\n\n  /**\r\n                                                                                     *   To be overriden in each device to apply layouts\r\n                                                                                     */\n  postRender: function postRender() {\n    var self = this;\n\n    self.params.options.onlyFolderMode = self.params.options.onlyFolderMode || false;\n\n    // Set bind event for last element\n    self.configureTreeNavigation();\n\n    // Bind back button\n    self.configureBackButton();\n\n    // Render default folders\n    // self.renderDefaultFolders();\n\n    // Render base categories\n    self.renderFolders(self.params.options.onlyFolderMode ? \"-1\" : \"\");\n\n    // set vertical scroll\n    self.scrollVertical({\n      \"autohide\": false });\n\n  },\n\n  renderDefaultFolders: function renderDefaultFolders() {\n    var self = this;\n    var content = self.getContent();\n    var template = self.getTemplate(\"folders-default\");\n    var container = $(\"#queries\", content);\n\n    container.empty();\n    $.tmpl(template).appendTo(container);\n\n  },\n\n  /**\r\n      * Render List categories for each idCategory\r\n      */\n  renderFolders: function renderFolders(id, appendElement) {\n    var self = this;\n    var content = self.getContent();\n    var template = self.params.options.onlyFolderMode != undefined && self.params.options.onlyFolderMode ? self.getTemplate(\"folders-add-case\") : self.getTemplate(\"folders-elements\");\n    var emptyTemplate = self.getTemplate(\"folders-empty-elements\");\n    var container = $(\"#queries\", content);\n    var queryContent;\n    var mergeData;\n    var mergeNewFolder = {};\n\n    id = id || \"\";\n\n    $.when(self.dataService.getFolders(id)).\n    done(function (data) {\n\n      container.empty();\n\n      // check if service have nodes\n      data = data || undefined;\n      var idParent = \"\";\n      try {\n        if (data.folders != undefined && data.folders.length > 0) {\n          idParent = data.folders[0][\"idParent\"];\n        }\n      } catch (e) {}\n\n\n      if (data.folders != undefined && data.folders != \"\") {\n        // Check if have appendElement\n        if (appendElement != undefined) {\n          mergeData = {\n            folders:\n            data != undefined ? appendElement.concat(data.folders) : appendElement };\n\n          //$.merge({folders:appendElement},data)\n          //$.merge(appendElement, data); //appendElement.concat(data.folders)\n        } else {\n          mergeData = data;\n        }\n        // Count number of childs\n        $.each(mergeData.folders, function (key, value) {\n          if (value != undefined && value.childs.folders != undefined) {\n            mergeData.folders[key][\"countChilds\"] = mergeData.folders[key][\"childs\"][\"folders\"].length;\n          } else {\n            mergeData.folders[key][\"countChilds\"] = 0;\n          }\n        });\n\n        // Append \"new folder\"element\n        if (id != \"\" && !self.params.options.onlyFolderMode) {\n          mergeNewFolder.folders = mergeData.folders.concat({\n            \"name\": self.getResource(\"workportal-widget-folders-new\"),\n            \"id\": 'newFolder',\n            \"idParent\": idParent,\n            \"childs\": [],\n            \"categoryWithLink\": \"true\",\n            \"countChilds\": 0 });\n\n        } else {\n          mergeNewFolder = mergeData;\n        }\n\n        queryContent = $.tmpl(template, mergeNewFolder);\n      } else if (!self.params.options.onlyFolderMode) {\n        //Don't have results\n        mergeNewFolder.folders = [{\n          \"name\": self.getResource(\"workportal-widget-folders-new\"),\n          \"id\": 'newFolder',\n          \"idParent\": idParent,\n          \"childs\": [],\n          \"categoryWithLink\": \"true\",\n          \"countChilds\": 0 }];\n\n        queryContent = $.tmpl(template, mergeNewFolder);\n      } else {\n        queryContent = $.tmpl(emptyTemplate);\n      }\n      queryContent.appendTo(container);\n\n      // set actions to rendered html\n      self.configureNavTree(container);\n    });\n  },\n\n\n  configureNavTree: function configureNavTree(queriesContainer) {\n    var self = this;\n    var confirm = self.getTemplate(\"folders-query-confirm\");\n\n    // Bind for list elements\n    $(\"li\", \"#queries\").click(function (e) {\n      e.stopPropagation();\n      var id = $(this).data(\"id\");\n      var countChilds = $(this).data(\"childslength\");\n      var name = $(this).data(\"name\");\n      var urlParameters = $(this).data(\"urlparameters\");\n      var idParent = $(this).data(\"idparent\");\n\n      var headerTemplate = self.getTemplate(\"folders-query-tree\");\n      var categoryTree = $(\"#categoryTree\");\n      var queriesListDisplay = $(\".queriesListDisplay li\");\n\n      // Config inbox view\n      if (countChilds == 0 && self.params.options.onlyFolderMode) {\n        return;\n      }\n\n      // If the node is base folder\n      if (id == \"-1\") {\n        // Is category\n        // Append query header\n        $.tmpl(headerTemplate, {\n          idParentQuery: -1,\n          queryDisplayName: name }).\n        appendTo(categoryTree);\n\n        // Set bind event for last element\n        self.configureTreeNavigation(idParent);\n\n        // Render sub-categories\n        self.renderFolders(id);\n      } else if (id == \"newFolder\") {\n        // Create new folder\n        self.makeFolder({\n          listElements: queriesListDisplay,\n          idParent: idParent });\n\n\n      } else if (countChilds > 0) {\n        // Is category with link\n\n        // Add element for tree navigation\n        $.tmpl(headerTemplate, {\n          idParentQuery: id,\n          queryDisplayName: name }).\n        appendTo(categoryTree);\n\n        // Set bind event for last element\n        self.configureTreeNavigation(idParent);\n\n        // Apend this object to children\n        self.renderFolders(id,\n        self.params.options.onlyFolderMode ? [] :\n        [{\n          \"name\": name,\n          \"id\": id,\n          \"idParent\": '',\n          \"childs\": [],\n          \"categoryWithLink\": true,\n          \"urlParameters\": urlParameters }]);\n\n\n      } else {\n        // Is Process\n        bizagi.workportal.desktop.popup.closePopupInstance();\n        if (countChilds == 0 && urlParameters) {\n          $.when(self.dataService.getCasesByFolder(urlParameters)).\n          done(function (data) {\n            bizagi.lstIdCases = data.lstIdCases;\n            // Define radnumber for render actions bottons\n            bizagi.referrerParams = bizagi.referrerParams || {};\n            bizagi.referrerParams.radNumber = \"\"; //params.radNumber;\n            bizagi.referrerParams.page = \"\"; //params.page;\n            bizagi.referrerParams.referrer = \"folders\";\n            bizagi.referrerParams.urlParameters = urlParameters;\n            bizagi.referrerParams.name = name;\n            bizagi.referrerParams.id = id;\n\n            // Define widget customized for pagination purposes\n            data.customized = true;\n            data.urlParameters = urlParameters;\n\n            // Define title of widget\n            data.title = name;\n\n            // Set a flag here to tell the search widget that must show the ungroup case from folder (icon).\n            data.casesGroupedByFolder = true;\n            data.idFolder = id;\n\n            self.publish(\"changeWidget\", {\n              widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SEARCH,\n              data: data,\n              referrerParams: {} });\n\n          });\n        }\n      }\n    });\n\n\n    // Bind for action elements (Edit and delete buttons)\n    $(\".addButton\", \"#queries\").click(function (e) {\n      e.stopPropagation();\n      var queriesListDisplay = $(\".queriesListDisplay li\");\n      var id = $(this).data(\"id\");\n      var idParent = $(this).data(\"idparent\");\n      self.makeFolder({\n        listElements: queriesListDisplay,\n        idParent: id,\n        beforeElement: $(this).parent(),\n        style: \"newSubFolder\",\n        idParentDone: idParent });\n\n    });\n\n    $(\".editButton\", \"#queries\").click(function (e) {\n      e.stopPropagation();\n      self.editFolder($(this).parent());\n    });\n\n\n    $(\".deleteButton\", \"#queries\").click(function (e) {\n      e.stopPropagation();\n\n      var content = $.tmpl(confirm);\n      var idCustomFolder = $(this).data(\"id\");\n      var idParent = $(this).data(\"idparent\");\n\n      // Open dialog with confirm message\n      $(content).dialog({\n        resizable: true,\n        modal: true,\n        title: self.getResource(\"workportal-widget-queries-confirm-title\"),\n        buttons: [\n        {\n          text: self.getResource(\"workportal-widget-queries-confirm-delete\"),\n          click: function click() {\n            self.dataService.deleteFolder({\n              idCustomFolder: idCustomFolder });\n\n\n            $(this).dialog(\"close\");\n            self.renderFolders(idParent);\n            //bizagi.workportal.desktop.popup.closePopupInstance();\n          } },\n\n        {\n          text: self.getResource(\"workportal-widget-queries-confirm-cancel\"),\n          click: function click() {\n            $(this).dialog(\"close\");\n          } }] });\n\n\n\n    });\n\n    $(\".addIco\", \"#queries\").click(function (e) {\n      e.stopPropagation();\n      var ico = $(this);\n      var parent = ico.parent();\n      var idFolder = ico.data(\"id\");\n\n      ico.addClass(\"wait\");\n      // Associate case to folder\n      $.when(self.dataService.associateCaseToFolder({\n        idCustomFolder: idFolder,\n        idCase: self.params.options.idCase })).\n      done(function (data) {\n        if (data.message == \"\") {\n          bizagi.workportal.desktop.popup.closePopupInstance();\n        } else {\n          // Show error message \n          ico.removeClass(\"wait\");\n          if ($(\".errorMessage\", parent).text() == \"\") {\n            parent.append($(\"<div class='errorMessage'></div>\").html(data.message));\n            setTimeout(function () {\n              $(\".errorMessage\", parent).hide('blind', 'slow', function () {\n                $(this).remove();\n              });\n            }, 5000);\n          }\n        }\n      });\n    });\n  },\n\n  /**\r\n      *   Binds the back buttons so we can navigate back\r\n      */\n  configureBackButton: function configureBackButton() {\n    var self = this;\n    var content = self.getContent();\n    var btnBack = $(\"#bt-back\", content);\n    var categoryTree = $(\"#categoryTree\", content);\n\n    // Bind click\n    btnBack.click(function () {\n      if ($(\"li\", categoryTree).length > 1) {\n        // Removes last child\n        $(\"li:last-child\", categoryTree).remove();\n        var idParentQuery = $(\"li:last-child\").children(\"#idParent\").val();\n\n        // Render Querie again\n        self.renderFolders(idParentQuery);\n      }\n    });\n  },\n\n  /**\r\n      * Configure Edit input field\r\n      * @param options{listElements,idParent,beforeElement,style,idParentDone}\r\n      */\n  makeFolder: function makeFolder(options) {\n    var self = this;\n    var nodeTemplate = options.template || self.getTemplate(\"folders-input-new\");\n    options.beforeElement = options.beforeElement != undefined && options.beforeElement.length >= 1 ? options.beforeElement : options.listElements;\n    var newElement = $.tmpl(nodeTemplate, {\n      name: \"\",\n      idParent: options.idParent,\n      style: options.style }).\n    insertAfter(options.beforeElement.length == 1 ? options.beforeElement : options.beforeElement.last().prev());\n\n    // Set focus on input element\n    $(\".newInput\", newElement).focus();\n\n    // Bind event to checkin botton\n    $(\".checkico\", newElement).click(function () {\n      var folderName = $(\".newInput\", newElement).val();\n      var parent = $(this).parent();\n\n      // Check if folderName already exists   \n      $.when(self.checkRepeatFolderName({\n        parent: parent,\n        options: options,\n        folderName: folderName })).\n\n      done(function (result) {\n        if (result) {\n          // Create folder\n          $.when(self.dataService.makeFolder({\n            idParentFolder: options.idParent,\n            folderName: folderName })).\n\n          done(function (result) {\n            // Update View\n            self.renderFolders(options.idParentDone || options.idParent);\n          });\n        } else {\n          // Display notification - folder name already in use\n          parent.append($(\"<div class='errorMessage'></div>\").html(self.getResource(\"workportal-widget-folders-name-repeated\")));\n          setTimeout(function () {\n            $(\".errorMessage\", parent).hide('blind', 'slow', function () {\n              $(\".errorMessage\", parent).remove();\n            });\n          }, 5000);\n        }\n      });\n    });\n\n    $(\".newInput\", newElement).bind(\"keypress\", function (e) {\n      if (e.keyCode == 13) {\n        $(\".checkico\", newElement).click();\n      }\n    });\n  },\n\n  /**\r\n      * Check if folder name already exist\r\n      */\n  checkRepeatFolderName: function checkRepeatFolderName(args) {\n    var def = new $.Deferred();\n    var self = this;\n    args = args || {};\n    var folderNameAvailable = true;\n    if (args.parent.hasClass(\"newSubFolder\")) {// Check if new folder in subcategory\n      $.when(self.dataService.getFolders(\n      args.options.idParent)).\n      done(function (data) {\n        if (data.folders != undefined) {\n          $.each(data.folders, function (key, value) {\n            if (value.name != undefined && args.folderName == value.name) {\n              folderNameAvailable = false;\n              def.resolve(folderNameAvailable);\n            }\n          });\n        }\n        def.resolve(folderNameAvailable);\n      });\n    } else {\n      // it is principal tree\n      $('.queriesListDisplay li').\n      not(':last-child') // Do not include the last item\n      .each(function () {\n        // Compare each value\n        if (args.folderName == $(this).data('name')) {\n          // Sorry the name of the folder is already taken\n          folderNameAvailable = false;\n        }\n      });\n      def.resolve(folderNameAvailable);\n    }\n    //def.resolve(folderNameAvailable);\n    return def.promise();\n  },\n  /**\r\n      * Edit folder\r\n      */\n  editFolder: function editFolder(element) {\n    var self = this;\n    var idParent = $(element).data(\"idparent\");\n    var value = $(element).find(\"h3\").html();\n    var id = $(element).data(\"id\");\n    var nodeTemplate = self.getTemplate(\"folders-input-new\");\n\n    var newElement = $.tmpl(nodeTemplate, {\n      name: value,\n      idParent: idParent });\n\n\n    element.replaceWith(newElement);\n\n    // Set focus on input element\n    $(\".newInput\", newElement).focus();\n\n    // Bind event to checkin botton\n\n\n    $(\".checkico\", newElement).click(function () {\n      var folderName = $(\".newInput\", newElement).val();\n\n      $.when(self.dataService.updateFolder({\n        idFolder: id,\n        folderName: folderName })).\n\n      done(function (result) {\n        // Update View\n        self.renderFolders(idParent);\n      });\n    });\n\n    $(\".newInput\", newElement).bind(\"keypress\", function (e) {\n      if (e.keyCode == 13) {\n        $(\".checkico\", newElement).click();\n      }\n    });\n  },\n\n\n  /**\r\n      * Bind tree navigation\r\n      */\n  configureTreeNavigation: function configureTreeNavigation(idParent) {\n    var self = this;\n    var content = self.getContent();\n    var categoryTree = $(\"#categoryTree\", content);\n\n    // Bind header events\n    $(\"li:last-child\", categoryTree).click(function () {\n      idParent = idParent || $(this).children(\"#idParent\").val();\n\n      if (self.params.options.onlyFolderMode && idParent == \"\") {\n        self.renderFolders(-1);\n      }\n      // Remove all elements\n      $(this).nextAll().remove();\n      // Render query tree again\n      self.renderFolders(idParent);\n    });\n  },\n\n  scrollVertical: function scrollVertical() {\n    var self = this;\n    var content = self.getContent();\n\n    $(\"#queries\", content).bizagiScrollbar({\n      \"autohide\": false });\n\n  },\n\n  /*\r\n      *   Show new case popup to create a case\r\n      */\n  showQueryFormPopup: function showQueryFormPopup(arg) {\n    var self = this;\n\n    var idQuery = arg.idQuery || \"\";\n    var idStoredQuery = arg.idStoredQuery || \"\";\n    var queryFormAction = arg.queryFormAction || \"\";\n    var title = arg.title || \"\";\n\n    // If the same popup is opened close it\n    if (self.currentPopup == \"queryform\") {\n      bizagi.workportal.desktop.popup.closePopupInstance();\n      return;\n    }\n\n    // Shows a popup widget\n    self.currentPopup = \"queryform\";\n    self.publish(\"showDialogWidget\", {\n      widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_QUERYFORM,\n      idQueryForm: idQuery,\n      idStoredQuery: idStoredQuery,\n      queryFormAction: queryFormAction,\n      modalParameters: {\n        title: title } });\n\n\n  } });","/*\r\n *   Name: BizAgi Workportal Desktop Smart Folders Widget Controller\r\n *   Author: Edward Morales\r\n *   Comments:\r\n *   -   This script will provide desktop overrides to implement the smart folder widget\r\n */\n\n// Auto extend\nbizagi.workportal.widgets.smartfolders.extend(\"bizagi.workportal.widgets.smartfolders\", {}, {\n\n  /**\r\n                                                                                               *   To be overriden in each device to apply layouts\r\n                                                                                               */\n  postRender: function postRender() {\n    var self = this;\n\n    self.params.options = self.params.options || {};\n    self.params.options.onlyFolderMode = self.params.options.onlyFolderMode || false;\n\n    // Set bind event for last element\n    self.configureTreeNavigation();\n\n    // Bind back button\n    self.configureBackButton();\n\n    // Render default folders\n    // self.renderDefaultFolders();\n\n    // Render base categories\n    self.renderFolders(self.params.options.onlyFolderMode ? \"-1\" : \"\");\n\n    // set vertical scroll\n    self.scrollVertical({\n      \"autohide\": false });\n\n  },\n\n  renderDefaultFolders: function renderDefaultFolders() {\n    var self = this;\n    var content = self.getContent();\n    var template = self.getTemplate(\"smartfolders-default\");\n    var container = $(\"#queries\", content);\n\n    container.empty();\n    $.tmpl(template).appendTo(container);\n\n  },\n\n  /**\r\n      * Render List categories for each idCategory\r\n      */\n  renderFolders: function renderFolders(id, appendElement) {\n    var self = this;\n    var content = self.getContent();\n    var template = self.params.options.onlyFolderMode != undefined && self.params.options.onlyFolderMode ? self.getTemplate(\"smartfolders-add-case\") : self.getTemplate(\"smartfolders-elements\");\n    var emptyTemplate = self.getTemplate(\"smartfolders-empty-elements\");\n    var container = $(\"#queries\", content);\n    var queryContent;\n    var mergeData;\n    var mergeNewFolder = {};\n\n    id = id || \"\";\n\n    $.when(self.dataService.getSmartFolders(id)).\n    done(function (data) {\n\n      container.empty();\n\n      // check if service it has nodes\n      data = data || undefined;\n      var idParent = \"\";\n      try {\n        if (data.folders != undefined && data.folders.length > 0) {\n          idParent = data.folders[0][\"idParent\"];\n        }\n      } catch (e) {}\n\n\n      if (data.folders != undefined && data.folders != \"\") {\n        // Check if it has appendElement\n        if (appendElement != undefined) {\n          mergeData = {\n            folders:\n            data != undefined ? appendElement.concat(data.folders) : appendElement };\n\n          //$.merge({folders:appendElement},data)\n          //$.merge(appendElement, data); //appendElement.concat(data.folders)\n        } else {\n          mergeData = data;\n        }\n        // Count number of childs\n        $.each(mergeData.folders, function (key, value) {\n          if (value != undefined && value.childs.folders != undefined) {\n            mergeData.folders[key][\"countChilds\"] = mergeData.folders[key][\"childs\"][\"folders\"].length;\n          } else {\n            mergeData.folders[key][\"countChilds\"] = 0;\n          }\n        });\n\n        // Append \"new folder\"element\n        if (!self.params.options.onlyFolderMode) {\n          mergeNewFolder.folders = mergeData.folders.concat({\n            \"name\": self.getResource(\"workportal-widget-folders-new\"),\n            \"id\": 'newFolder',\n            \"idParent\": idParent,\n            \"childs\": [],\n            \"categoryWithLink\": \"true\",\n            \"countChilds\": 0 });\n\n        } else {\n          mergeNewFolder = mergeData;\n        }\n\n        queryContent = $.tmpl(template, mergeNewFolder);\n      } else if (!self.params.options.onlyFolderMode) {\n        //Don't have results\n        mergeNewFolder.folders = [{\n          \"name\": self.getResource(\"workportal-widget-folders-new\"),\n          \"id\": 'newFolder',\n          \"idParent\": idParent,\n          \"childs\": [],\n          \"categoryWithLink\": \"true\",\n          \"countChilds\": 0 }];\n\n        queryContent = $.tmpl(template, mergeNewFolder);\n      } else {\n        queryContent = $.tmpl(emptyTemplate);\n      }\n      queryContent.appendTo(container);\n\n      // set actions to rendered html\n      self.configureNavTree();\n    });\n  },\n\n\n  configureNavTree: function configureNavTree() {\n    var self = this;\n    var confirm = self.getTemplate(\"smartfolders-query-confirm\");\n\n    // Bind for list elements\n    $(\"li\", \"#queries\").click(function (e) {\n      e.stopPropagation();\n      var id = $(this).data(\"id\");\n      var countChilds = $(this).data(\"childslength\");\n      var name = $(this).data(\"name\");\n      var urlParameters = $(this).data(\"urlparameters\");\n      var idParent = $(this).data(\"idparent\");\n\n      //            var categoryTree = $(\"#categoryTree\");\n      var queriesListDisplay = $(\".queriesListDisplay li\");\n\n      // Config inbox view\n      if (countChilds == 0 && self.params.options.onlyFolderMode) {\n        return;\n      }\n\n      // If the node is base folder\n      if (id == \"-1\") {\n        // Is category\t\t\n\n        // Set bind event for last element\n        self.configureTreeNavigation(idParent);\n\n        // Render sub-categories\n        self.renderFolders(id);\n      } else if (id == \"newFolder\") {\n        // Create new folder\n        self.makeFolder({\n          listElements: queriesListDisplay,\n          idParent: idParent });\n\n\n      } else if (countChilds > 0) {\n        // Is category with link\n\n\n        // Set bind event for last element\n        self.configureTreeNavigation(idParent);\n\n        // Apend this object to children\n        self.renderFolders(id,\n        self.params.options.onlyFolderMode ? [] :\n        [{\n          \"name\": name,\n          \"id\": id,\n          \"idParent\": '',\n          \"childs\": [],\n          \"categoryWithLink\": true,\n          \"urlParameters\": urlParameters }]);\n\n\n      } else {\n        // Is Process\n        bizagi.workportal.desktop.popup.closePopupInstance();\n        if (countChilds == 0 && urlParameters) {\n          if (bizagi.override.viewSmartFoldersAsSearch) {\n            $.when(\n            self.dataService.getCustomizedColumnsData({\n              smartfoldersParameters: urlParameters })).\n\n            done(function (data) {\n              bizagi.lstIdCases = data.lstIdCases;\n              // Define radnumber for render actions bottons\n              bizagi.referrerParams = bizagi.referrerParams || {};\n              bizagi.referrerParams.radNumber = \"\"; //params.radNumber;\n              bizagi.referrerParams.page = \"\"; //params.page;\n              bizagi.referrerParams.referrer = \"folders\";\n              bizagi.referrerParams.urlParameters = urlParameters;\n              bizagi.referrerParams.name = name;\n              bizagi.referrerParams.id = id;\n\n              // Define widget customized for pagination purposes\n              data.customized = true;\n              data.urlParameters = urlParameters;\n\n              // Define title of widget\n              data.title = name;\n\n              // Set a flag here to tell the search widget that must show the ungroup case from folder (icon).\n              data.casesGroupedByFolder = true;\n              data.idFolder = id;\n\n              self.publish(\"changeWidget\", {\n                widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_SEARCH,\n                data: data,\n                referrerParams: {} });\n\n            });\n          } else {\n            bizagi.referrerParams = bizagi.referrerParams || {};\n            var widgetRedirect;\n            if (self.params.options.foldersView == 'inboxgrid') {\n              widgetRedirect = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID;\n              bizagi.referrerParams = {\n                urlParameters: urlParameters,\n                referrer: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX_GRID };\n\n            } else {\n              widgetRedirect = bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX;\n              bizagi.referrerParams = {\n                urlParameters: urlParameters,\n                referrer: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_INBOX };\n\n            }\n\n            self.publish(\"changeWidget\", {\n              widgetName: widgetRedirect,\n              smartfoldersParameters: {\n                urlParameters: urlParameters },\n\n              referrerParams: {} });\n\n          }\n        }\n      }\n    });\n\n\n    // Bind for action elements (Edit and delete buttons)\n\n    $(\".editButton\", \"#queries\").click(function (e) {\n      e.stopPropagation();\n      self.editFolder($(this).parent());\n    });\n\n\n    $(\".deleteButton\", \"#queries\").click(function (e) {\n      e.stopPropagation();\n\n      var content = $.tmpl(confirm);\n      var idSmartFolder = $(this).data(\"id\");\n      var idParent = $(this).data(\"idparent\");\n\n      // Open dialog with confirm message\n      $(content).dialog({\n        resizable: true,\n        modal: true,\n        title: self.getResource(\"workportal-widget-queries-confirm-title\"),\n        buttons: [\n        {\n          text: self.getResource(\"workportal-widget-queries-confirm-delete\"),\n          click: function click() {\n            self.dataService.deleteSmartFolder({\n              idSmartFolder: idSmartFolder,\n              idUser: bizagi.currentUser.idUser || 0 });\n\n\n            $(this).dialog(\"close\");\n            self.renderFolders(idParent);\n            //bizagi.workportal.desktop.popup.closePopupInstance();\n          } },\n\n        {\n          text: self.getResource(\"workportal-widget-queries-confirm-cancel\"),\n          click: function click() {\n            $(this).dialog(\"close\");\n          } }] });\n\n\n\n    });\n\n  },\n\n  /**\r\n     *   Binds the back buttons so we can navigate back\r\n     */\n  configureBackButton: function configureBackButton() {\n    var self = this;\n    var content = self.getContent();\n    var btnBack = $(\"#bt-back\", content);\n    var categoryTree = $(\"#categoryTree\", content);\n\n    // Bind click\n    btnBack.click(function () {\n      if ($(\"li\", categoryTree).length > 1) {\n        // Removes last child\n        $(\"li:last-child\", categoryTree).remove();\n        var idParentQuery = $(\"li:last-child\").children(\"#idParent\").val();\n\n        // Render Querie again\n        self.renderFolders(idParentQuery);\n      }\n    });\n  },\n\n  /**\r\n     * Configure Edit input field\r\n     */\n  makeFolder: function makeFolder() {\n    var self = this;\n    var url = self.dataService.getUrl({\n      endPoint: \"smartfolders-integration\" }) +\n    \"?ParentQueryId=-1\";\n\n    self.publish(\"showDialogWidget\", {\n      widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME,\n      widgetURL: url,\n      modalParameters: {\n        title: self.getResource(\"workportal-widget-folders-new\"),\n        width: \"1020px\" } });\n\n\n\n  },\n\n\n  /**\r\n     * Edit folder\r\n     */\n  editFolder: function editFolder(element) {\n    var self = this;\n    var value = $(element).find(\"h3\").html();\n    var id = $(element).data(\"id\");\n    var url = self.dataService.getUrl({\n      endPoint: \"smartfolders-integration\" }) +\n    \"?iQueryFormId=\" + id;\n\n    self.publish(\"showDialogWidget\", {\n      widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME,\n      widgetURL: url,\n      modalParameters: {\n        title: value,\n        width: \"1020px\" } });\n\n\n  },\n\n\n  /**\r\n     * Bind tree navigation\r\n     */\n  configureTreeNavigation: function configureTreeNavigation(idParent) {\n    var self = this;\n    var content = self.getContent();\n    var categoryTree = $(\"#categoryTree\", content);\n\n    // Bind header events\n    $(\"li:last-child\", categoryTree).click(function () {\n      idParent = idParent || $(this).children(\"#idParent\").val();\n\n      if (self.params.options.onlyFolderMode && idParent == \"\") {\n        self.renderFolders(-1);\n      }\n      // Remove all elements\n      $(this).nextAll().remove();\n      // Render query tree again\n      self.renderFolders(idParent);\n    });\n  },\n\n  scrollVertical: function scrollVertical() {\n    var self = this;\n    var content = self.getContent();\n\n    $(\"#queries\", content).bizagiScrollbar({\n      \"autohide\": false });\n\n  } });","/*\r\n*   Name: BizAgi Workportal Rows Per Page (Inbox and Queries)\r\n*   Author: Kevin Alvarado  \r\n*/\n\n// Extends itself\n$.Class.extend(\"bizagi.workportal.results.per.page\", {}, {\n\n  /**\r\n                                                            * Init the class\r\n                                                            * @param {*} bizagiConfigProperty optional parameter if the rows per page property is configured in BizagiConfig\r\n                                                            */\n  init: function init(bizagiConfigProperty) {\n    var self = this;\n    self.bizagiConfigProperty = bizagiConfigProperty;\n  },\n\n  /**\r\n      * Return the combo DataSource with the default values and self.bizagiConfigProperty\r\n      */\n  initCombo: function initCombo() {\n    var self = this;\n    var comboDataSource = {\n      combo: [],\n      id: \"numberRows\" };\n\n    var values = Array(10, 20, 30, 40, 50, 100);\n    if (self.bizagiConfigProperty && values.indexOf(self.bizagiConfigProperty) == -1) {\n      values.push(self.bizagiConfigProperty);\n      values.sort(function (a, b) {return a - b;});\n    }\n    values.map(function (v) {\n      comboDataSource.combo.push({\n        id: v,\n        name: v });\n\n    });\n    return comboDataSource;\n  },\n\n  /**\r\n      * Busca el valor finding en el combo[i].id si no lo encuentra retorna false, de lo contrario retorna el elemento combo[i]\r\n      * @param {Array} combo array de valores del combo\r\n      * @param {Number} finding valor que se busca\r\n      */\n  _findValue: function _findValue(combo, finding) {\n    var value = false;\n    combo.map(function (c) {\n      if (c.id == finding) {\n        value = c;\n      }\n    });\n    return value;\n  },\n\n  /**\r\n      * Revisa el valor inicial que debe tener el combo, revisando preferencias de usuario, web.config y casos null, retorna un elemento del combo\r\n      * @param {JSON} params contenido del comboDataSource\r\n      */\n  initialValueCombo: function initialValueCombo(params) {\n    var self = this;\n    var initValueCombo = params.comboDataSource.combo[0];\n    var preferencesItemsPerPage = params.getRowValue();\n    if (preferencesItemsPerPage || self.bizagiConfigProperty) {\n      var defaultValue = preferencesItemsPerPage && self._findValue(params.comboDataSource.combo, preferencesItemsPerPage) !== false ? preferencesItemsPerPage : self.bizagiConfigProperty;\n      if (defaultValue) {\n        initValueCombo = self._findValue(params.comboDataSource.combo, defaultValue);\n      }\n    }\n    return initValueCombo;\n  },\n\n  /**\r\n      * Agrega la interacción al comboBox y define los listeners, retorna el deferred\r\n      * @param {*} params combo, content, comboWrapper, onChange\r\n      */\n  renderNumberRowsCombo: function renderNumberRowsCombo(params) {\n    var self = this;\n    var deferred = $.Deferred();\n    params.comboWrapper.empty();\n    var initValueCombo = self.initialValueCombo({\n      comboDataSource: params.combo,\n      getRowValue: params.getRowValue });\n\n    var lastValue = initValueCombo.id;\n    params.comboWrapper.uicombo({\n      isEditable: false,\n      data: params.combo,\n      itemValue: function itemValue(obj) {\n        return obj.id;\n      },\n      itemText: function itemText(obj) {\n        return obj.name;\n      },\n      onComplete: function onComplete() {\n        deferred.resolve();\n      },\n      onChange: function onChange(obj) {\n        var value = obj.ui.data('value');\n        if (value != lastValue) {\n          lastValue = value;\n          params.setRowValue(value);\n          params.onChange();\n        }\n      },\n      initValue: initValueCombo });\n\n    return deferred;\n  } });","/*\r\n *   Name: Bizagi Workportal Project Cancel Case\r\n *   Author: Yesid Alberto Ochoa Luque\r\n */\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.desktop.widgets.project.cancelCase\", {}, {\n  /*\r\n                                                                                                      *   Constructor\r\n                                                                                                      */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.notifier = bizagi.injector.get('notifier');\n    params = params || {};\n    //Load templates\n    self.loadTemplates({\n      \"project-cancel-case-wrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.cancelCase\").concat(\"#project-caseState-cancel-case-wrapper\"),\n      \"project-cancel-case-wrapper-error\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.cancelCase\").concat(\"#project-caseState-cancel-case-wrapper-error\") });\n\n  },\n\n  /*\r\n     * Renders the template defined in the widget\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"project-cancel-case-wrapper\");\n    self.content = template.render({});\n    self.defineButtons();\n    return self.content;\n  },\n  /*\r\n     * Define modal buttons\r\n     */\n  defineButtons: function defineButtons() {\n    var self = this;\n    self.params.buttons = [{\n      text: bizagi.localization.getResource(\"workportal-general-word-no\"),\n      \"class\": \"bz-cancel-case__btn biz-wp-button-secondary\",\n      click: function click() {\n        $(this).dialog('close');\n      } },\n    {\n      text: bizagi.localization.getResource(\"workportal-general-word-yes\"),\n      \"class\": \"bz-cancel-case__btn\",\n      click: function click() {self.cancelCaseRequest();} }];\n\n  },\n  /**\r\n      * Execute request to cancel case\r\n      */\n  cancelCaseRequest: function cancelCaseRequest() {\n    var self = this,\n    reason = \"\",\n    $loader = $(\"#bz-wp-cancelcase-wrapperload\", self.content);\n    reason = $(\"textarea#cancel-case-reason\").val();\n    var params = {\n      idWorkitem: self.params.idWorkitem,\n      action: \"abort\",\n      cases: JSON.stringify({\n        cases: [{ idCase: self.params.idCase }] }),\n\n      reason: reason };\n\n\n    bizagi.showErrorAlertDialog = false;\n\n    if (reason != \"\") {\n      $loader.show();\n      $.when(self.dataService.cancelCase(params)).done(function (result) {\n        if (result.response[0].deleted) {\n          $loader.hide();\n          self.notifier.showSucessMessage(bizagi.localization.getResource(\"workportal-widget-cancel-case-the-case-was-cancelled-successfully\"));\n          $('.ui-dialog-content').dialog('close');\n          bizagi.injector.get(\"bizagi.workportal.widgets.navigator\", {}).goToBack();\n        } else {\n          $loader.hide();\n          bizagi.showToastError(bizagiConfig.environment, result.response[0].idCase);\n        }\n      }).fail(function (error) {\n        var message_error = error.status + \" - \" + error.statusText;\n        bizagi.showToastError(bizagiConfig.environment, message_error);\n        $loader.hide();\n        bizagi.log(error);\n      });\n    } else {\n      $(\"textarea#cancel-case-reason\").css(\"border-color\", \"#F50E0E\");\n      $(\".bz-cancel-case__help-text\").text(bizagi.localization.getResource(\"workportal-widget-cancel-case-the-cancellation-reason-is-mandatory\")).css(\"color\", \"#F50E0E\");\n      self.showTextIsRequired();\n    }\n  },\n\n  /**\r\n      * If the text area is empty, it shows alert that the text is required\r\n      */\n  showTextIsRequired: function showTextIsRequired() {\n    $('textarea#cancel-case-reason').bind('input propertychange', function () {\n      $(\"textarea#cancel-case-reason\").css(\"border-color\", \"#F50E0E\");\n      $(\".bz-cancel-case__help-text\").text(bizagi.localization.getResource(\"workportal-widget-cancel-case-the-cancellation-reason-is-mandatory\")).css(\"color\", \"#F50E0E\");\n      if (this.value.length) {\n        $(\"textarea#cancel-case-reason\").css(\"border-color\", \"#\");\n        $(\".bz-cancel-case__help-text\").text(bizagi.localization.getResource(\"workportal-widget-cancel-case-max-characters\")).css(\"color\", \"##757575\");\n      }\n    });\n  } });\n\n\nbizagi.injector.register('bizagi.workportal.desktop.widgets.project.cancelCase', ['workportalFacade', 'dataService', bizagi.workportal.desktop.widgets.project.cancelCase], true);"]}