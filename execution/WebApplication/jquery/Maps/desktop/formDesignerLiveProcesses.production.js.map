{"version":3,"sources":["jquery/editor/liveprocessesApp/index.js"],"names":["loader","bizagi","init","start","then","formVars","window","parent","iframeComunication","getFormVars","$","when","loadLanguageExtension","done","bizagiConfig","getBizagiConfig","locationParent","form","modeler","initialize","urlRestServices","applicationUrl","environment","canvas","taskOrForm","task","isSummary","sumary","idProcess","id","editor","communicationprotocol","factory","setContext","loadFormProtocol","createProtocol","protocol","loadByParent","adhocProcessId","isAdhocSummaryForm","processRequest","data","createForm","context","isActivityForm","adhocTaskId","reviewMode","ReviewMode","_editor","setTimeout","loaded"],"mappings":"AAAA,IAAIA,OAASC,OAAOD,OACpBA,OAAOE,MAAK,WACVF,OAAOG,MAAM,UAAUC,MAAK,WAC1BJ,OAAOG,MAAM,eAAeC,MAAK,WAC/B,IAAIC,EAAWC,OAAOC,OAAOC,mBAAmBC,cAChDC,EAAEC,KAAKN,EAASO,uBAAuBC,MAAK,WAC1C,IAAIC,EAAeT,EAASU,kBACPV,EAASW,gBAE5Bf,OAAOgB,KAAKC,QAAQC,WAAW,CAC7BC,gBACAd,OAAOC,OAAOA,OAAOO,aAAaO,eAClC,IACAC,YAAaR,EAAaQ,cAG9B,IACIC,EAASb,EAAE,yBAEXc,EAAanB,EAASoB,KACtBC,EAAYrB,EAASsB,OACrBC,EAAYvB,EAASwB,GAEzB5B,OAAO6B,OAAOC,sBAAsBC,QAAQC,WAP1B,aAUlB,IAAIC,EAAmBjC,OAAO6B,OAAOC,sBAAsBC,QAAQG,eACnE,CACEC,SAAU,WACVnB,KAAMO,EACNa,cAAc,EACdC,eAAgBV,EAChBW,mBAAoBb,IAGtBhB,EAAEC,KAAKuB,EAAiBM,kBAAkB3B,MAAK,SAAU4B,GAEvD/B,EAAEC,KACFV,OAAOgB,KAAKC,QAAQwB,WAAW,CAC7BC,QAvBc,YAwBdC,gBAAgB,EAChBrB,OAAQA,EACRsB,YAAarB,EACbiB,KAAMA,EAAKxB,KACXqB,eAAgBV,EAChBW,mBAAoBb,EACpBoB,WAAYzC,EAAS0C,cAEvBlC,MAAK,SAAUmC,GACbC,YAAW,WACT3C,OAAOC,OAAOC,mBAAmB0C,OACjCF,EACA1C,OAAOL,OAAOgB,QAEb","sourcesContent":["var loader = bizagi.loader;\nloader.init(function () {\n  loader.start(\"common\").then(function () {\n    loader.start(\"formModeler\").then(function () {\n      var formVars = window.parent.iframeComunication.getFormVars();\n      $.when(formVars.loadLanguageExtension).done(function () {\n        var bizagiConfig = formVars.getBizagiConfig();\n        var locationParent = formVars.locationParent;\n        if (locationParent) {\n          bizagi.form.modeler.initialize({\n            urlRestServices:\n            window.parent.parent.bizagiConfig.applicationUrl +\n            \"/\",\n            environment: bizagiConfig.environment });\n\n        }\n        var formContext = \"adhocform\";\n        var canvas = $(\"#wrapper-formdesigner\");\n\n        var taskOrForm = formVars.task;\n        var isSummary = formVars.sumary;\n        var idProcess = formVars.id;\n\n        bizagi.editor.communicationprotocol.factory.setContext(\n        formContext);\n\n        var loadFormProtocol = bizagi.editor.communicationprotocol.factory.createProtocol(\n        {\n          protocol: \"loadform\",\n          form: taskOrForm,\n          loadByParent: true,\n          adhocProcessId: idProcess,\n          isAdhocSummaryForm: isSummary });\n\n\n        $.when(loadFormProtocol.processRequest()).done(function (data) {\n          // Load form modeler\n          $.when(\n          bizagi.form.modeler.createForm({\n            context: formContext,\n            isActivityForm: false,\n            canvas: canvas,\n            adhocTaskId: taskOrForm,\n            data: data.form,\n            adhocProcessId: idProcess,\n            isAdhocSummaryForm: isSummary,\n            reviewMode: formVars.ReviewMode })).\n\n          done(function (_editor) {\n            setTimeout(function () {\n              window.parent.iframeComunication.loaded(\n              _editor,\n              window.bizagi.form);\n\n            }, 1500);\n          });\n        });\n      });\n    });\n  });\n});"]}