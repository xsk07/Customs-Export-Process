{"version":3,"sources":["jquery/common/bizagi.ui.controls/combo/js/jquery.ui.combo.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","$","fn","uicombo","options","params","plg","this","config","namespace","bizagi","ui","controls","cssComponent","css","internalData","settings","data","ascombo","disabled","isSearchable","isEditable","nameTemplate","tmpl","nameSubTemplate","tmpl2","initValue","itemValue","itemText","orientation","getTemplate","name","initializeTemplates","Deferred","tmpl1","combo","list","onComplete","onChange","onComboDropDown","methods","init","op","nData","self","IE","navigator","appName","indexOf","userAgent","match","undefined","attr","addClass","loader","tmplloader","when","loadTemplates","done","a","b","subTemplateHTML","id","Math","guid","tmp","append","inputCombo","find","each","index","value","extend","apply","configureHandlers","event","trigger","type","message","time","Date","text","val","getControl","getData","findDataByValue","compareValIn","join","toString","trim","substring","length","toLowerCase","control","focus","blur","validateValueInDatasource","click","idDropdown","comboDropDown","dropDownDestroy","select","bind","keyup","e","keyUpFunction","keydown","keyDownFunction","internalComboDropDown","detach","selectTmp","objSelected","containerDropdown","containerControl","closest","containerRender","selectedValue","scrollPosition","properties","repositionInterval","height","selfControl","dropDown","position","my","at","of","collision","hide","fadeIn","width","recalculateComboOffset","parseInt","top","scrollTop","on","stopPropagation","onComboItemSelected","fadeOut","document","unbind","makeArray","preventDefault","target","hasClass","clearInterval","setInterval","dropDownReposition","tg","removeAttr","dropDownValidClose","etarget","currentTarget","activeElement","window","one","containerForm","removeClass","remove","selected","selectedKey","setValue","setDisplayValue","active","altKey","ctrlKey","metaKey","shiftKey","keyCode","selectPreviousElement","selectNextElement","selectFirstElement","selectLastElement","selectFirstPossibleElement","key","selectItemByKeyUp","actual","li","item","first","previous","prev","next","valValue","selectedLabel","controlProperties","element","clearDisplayValue","getSelectedValue","dropDwn","objParent","util","isIE","getInternetExplorerVersion","offset","destroy","empty","error","selectItem","plugin","jQuery"],"mappings":"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","sourcesContent":["function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                               Plugin to create WorkPortal Combos...\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   var options = {\r\n                                                                                                                                                                                                                                                                                                                                                                                       data: {},\r\n                                                                                                                                                                                                                                                                                                                                                                                       css:'customCSS'\r\n                                                                                                                                                                                                                                                                                                                                                                                   };\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $('selector').uicombo(options);\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                                   $(document).on(\"comboChange\", function(obj){\r\n                                                                                                                                                                                                                                                                                                                                                                                       console.log(obj.message, obj.ui, obj.ui.val());\r\n                                                                                                                                                                                                                                                                                                                                                                                   });\r\n                                                                                                                                                                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                                                                                                               @class $.fn.uicombo \r\n                                                                                                                                                                                                                                                                                                                                                                               @constructor uicombo\r\n                                                                                                                                                                                                                                                                                                                                                                               **/\n(function ($) {\n  \"use strict\";\n  $.fn.uicombo = function (options, params) {\n\n    var plg = this;\n\n    plg.config = {\n      namespace: $.bizagi.ui.controls.uicombo.namespace,\n      cssComponent: $.bizagi.ui.controls.uicombo.css,\n      internalData: {} };\n\n\n    plg.settings = {\n      /**\r\n                     DataSource to create a uiRadio Control\r\n                       var data = [\r\n                     {   \r\n                     value:value,\r\n                     text:'combo'\r\n                     }\r\n                     ];\r\n                       @property data \r\n                     @type Object\r\n                     @default \"{}\"\r\n                     **/\n\n\n      data: {},\n      ascombo: true,\n\n      /**\r\n                     to disabled combo\r\n                       @property disabled \r\n                     @type bool\r\n                     @default false\r\n                     */\n\n      disabled: false,\n\n      /**\r\n                       Make the combo searchable, on select with keyboard the input text is clean\r\n                         @property isSearchable \r\n                       @type Boolean\r\n                       @default \"false\"\r\n                       **/\n\n      isSearchable: false,\n      /**\r\n                           Make the combo editable\r\n                             @property isEditable \r\n                           @type Boolean\r\n                           @default \"false\"\r\n                           **/\n\n      isEditable: false,\n      nameTemplate: $.bizagi.ui.controls.uicombo.tmpl,\n      nameSubTemplate: $.bizagi.ui.controls.uicombo.tmpl2,\n      /**\r\n                                                           Function to set a initial value\r\n                                                               \r\n                                                           {value:1}\r\n                                                             @property initValue \r\n                                                           @type Object\r\n                                                           @default \"null\"\r\n                                                           **/\n\n      initValue: null,\n      /**\r\n                       Function to modify values\r\n                         @property itemValue \r\n                       @type Function\r\n                       @param {Object} Object with value\r\n                       @default \"null\"\r\n                       **/\n\n      itemValue: null,\n      /**\r\n                       Function to modify output text\r\n                         @property itemText \r\n                       @type Function\r\n                       @param {Object} Object with text\r\n                       @default \"null\"\r\n                       **/\n\n      itemText: null,\n      css: '',\n      orientation: 'biz-o-left',\n      getTemplate: function getTemplate(name) {\n        return bizagi.getTemplate(name);\n      },\n\n      /**\r\n         Function to initialize templates\r\n         @type Function\r\n         @return object\r\n         **/\n      initializeTemplates: function initializeTemplates() {\n\n        var self = this;\n        var deferred = $.Deferred();\n        var tmpl1 = self.nameTemplate;\n        var tmpl2 = self.nameSubTemplate;\n\n        return {\n          \"combo\": bizagi.getTemplate(tmpl1),\n          \"list\": bizagi.getTemplate(tmpl2) };\n\n      },\n\n      /**\r\n         Function exceute when combo is ready\r\n           @property onComplete \r\n         @type Function\r\n         @default \"function(){}\"\r\n         **/\n\n      onComplete: function onComplete() {},\n      /**\r\n                                            Function exceute when combo change\r\n                                              @property onChange \r\n                                            @type Function\r\n                                            @default \"function(){}\"\r\n                                            **/\n\n      onChange: function onChange() {},\n      /**\r\n                                         Function execute when combo DropDown\r\n                                           @property onComboDropDown\r\n                                         @type Function\r\n                                         @default \"function(){}\"\r\n                                         **/\n\n      onComboDropDown: function onComboDropDown() {} };\n\n\n    plg.methods = {\n      init: function init(op) {\n\n        var self = $(this),\n        template = op.getTemplate(op.nameTemplate),\n        subTemplate = op.getTemplate(op.nameSubTemplate),\n        nData;\n\n        //Util functions to detect ie browsers accurately                \n        var isIE = function isIE() {\n          return navigator.appName.indexOf(\"Internet Explorer\") > 0;\n        };\n\n        var isIE11 = function isIE11() {\n          return !!navigator.userAgent.match(/Trident\\/7.0/) && !navigator.userAgent.match(/MSIE/i);\n        };\n\n        op.IE = isIE() ? true : isIE11() ? true : undefined;\n\n        self.attr('role', op.namespace);\n        self.addClass(op.cssComponent);\n        self.addClass(op.css);\n\n        self.loader = new bizagi.ui.controls.tmplloader();\n\n        $.when(self.loader.loadTemplates(op.initializeTemplates())).done(function () {\n\n          var a = self.loader.getTemplate(\"combo\");\n          var b = self.loader.getTemplate(\"list\");\n\n          plg.config.internalData = nData = op.data;\n\n          nData.isEditable = op.isEditable;\n          nData.disabled = op.disabled;\n\n          plg.config.subTemplateHTML = b;\n          op.data.id = Math.guid();\n\n          var tmp = $.tmpl(a, op.data, {\n            itemValue: op.itemValue ? op.itemValue : plg.methods.itemValue,\n            itemText: op.itemText ? op.itemText : plg.methods.itemText });\n\n\n          self.append(tmp);\n\n          plg.config.inputCombo = $('.biz-wp-combo-input', self);\n\n          tmp.find('.biz-wp-combo-option').each(function (index, value) {\n            if (op.data.combo[index].data) {\n              $.extend($(value).data(), op.data.combo[index].data);\n            }\n          });\n\n          plg.settings.onComplete.apply(self, []);\n\n          self.methods = plg.methods;\n          self.config = plg.config;\n          self.settings = plg.settings;\n\n          self.methods.configureHandlers.apply(self, []);\n\n\n          /**\r\n                                                          Fired when a combo is created\r\n                                                            @event comboCompleted \r\n                                                          @param {String} type comboCompleted\r\n                                                          @param {String} message\r\n                                                          @param {Date} time\r\n                                                          @param {Object} Jquery Object HTML \r\n                                                          **/\n\n          $.event.trigger({\n            type: \"comboCompleted\",\n            message: \"combo is Completed\",\n            time: new Date(),\n            ui: self });\n\n\n          if (plg.settings.initValue) {\n            var value = '',\n            text = '';\n\n            if (plg.settings.itemText) {\n              text = plg.settings.itemText(plg.settings.initValue);\n            } else {\n              text = plg.settings.initValue.text;\n            }\n\n            if (plg.settings.itemValue) {\n              value = plg.settings.itemValue(plg.settings.initValue);\n            } else {\n              value = plg.settings.initValue.value;\n            }\n\n            if (text === \"\") {\n              self.config.inputCombo.val('');\n            } else {\n              self.config.inputCombo.val(text);\n            }\n\n            plg.config.inputCombo.data('value', value);\n\n          }\n\n\n          /*     }).fail(function () {\r\n            $.error('No se pudo cargar el template para generar las tablas');\r\n            });*/\n        });\n      },\n\n      getControl: function getControl() {\n        var self = this,\n        $control = $('.biz-wp-combo', self);\n\n        return $control;\n      },\n      getData: function getData() {\n        return plg.config.internalData;\n      },\n      findDataByValue: function findDataByValue(val) {\n        var self = this,\n        result = -1,\n        i = 0;\n\n        if (val !== undefined && val !== null) {\n          var compareValIn = _typeof(val) === 'object' ? val.join(\" - \") : typeof val === 'boolean' ? val.toString() : val,\n          compareVal = $.trim(compareValIn).substring(0, compareValIn.length).toLowerCase(),\n          selfData = self.getData();\n        }\n\n        return result;\n      },\n      /*\r\n         *   Template method to implement in each device to customize the render's behaviour to add handlers\r\n         */\n      configureHandlers: function configureHandlers() {\n        var self = this,\n        control = self.methods.getControl.apply(self, []);\n\n        self.config.inputCombo.focus(function () {\n          //$(this).trigger('click');\n        });\n\n        self.config.inputCombo.blur(function () {\n          if (self.settings.isSearchable) {\n            self.methods.validateValueInDatasource();\n          }\n        });\n\n        self.config.inputCombo.click(function () {\n          var idDropdown = \"dd-\" + self.config.inputCombo.attr(\"id\");\n          if ($(\"#\" + idDropdown, control).length === 0) {\n            self.methods.comboDropDown.apply(self, []);\n          } else {\n            // Close combo if clicked twice \n            self.methods.dropDownDestroy.apply(self, [$(idDropdown)]);\n          }\n          self.config.inputCombo.select();\n        });\n        // Bind clicks to fake UI in order to simulate select clicks\n        $(\".biz-wp-combo-btn\", control).bind(\"click.combo\", function () {\n          self.config.inputCombo.trigger(\"click\").focus();\n        });\n\n        self.config.inputCombo.keyup(function (e) {\n          self.methods.keyUpFunction.apply(self, [e]);\n        });\n\n        self.config.inputCombo.keydown(function (e) {\n          self.methods.keyDownFunction.apply(self, [e]);\n        });\n      },\n      /*\r\n         *   Makes the combo drops down, also fetch the data first if the combo is set to load on demand\r\n         */\n      comboDropDown: function comboDropDown() {\n        var self = this;\n\n        $.when(self.methods.getData()).done(function (data) {\n          self.methods.internalComboDropDown.apply(self, [data]);\n          plg.settings.onComboDropDown();\n        });\n\n      },\n      /*\r\n         *   Draws the mini-popup\r\n         */\n      internalComboDropDown: function internalComboDropDown(data) {\n        $(\".ui-select-dropdown.open\").detach();\n        var self = this,selectTmp,objSelected = {};\n        /** temp templates **/\n        var containerDropdown = $(\"<div class='ui-select-dropdown open'></div>\");\n        /* control reference */\n        var containerControl = self.config.inputCombo.closest('.biz-wp-combo-data-container');\n        var containerRender = containerControl.closest('.biz-wp-combo');\n        var idDropdown = \"dd-\" + self.config.inputCombo.attr(\"id\");\n        var selectedValue = self.methods.findDataByValue(self.config.inputCombo.val());\n        var scrollPosition = 0;\n\n        data = data || self.properties.data;\n\n        self.repositionInterval;\n\n        var height = containerRender.css(\"height\"),\n        selfControl = self.methods.getControl.apply(self, []);\n\n        containerRender.addClass(\"ac-is-visible\");\n\n        containerRender.css(\"height\", height);\n        containerControl.addClass(\"ac-is-visible ac-clear-floats\");\n\n        containerDropdown.attr(\"id\", idDropdown);\n\n        selectTmp = $.tmpl(plg.config.subTemplateHTML, data, {\n          itemValue: self.settings.itemValue ? self.settings.itemValue : self.methods.itemValue,\n          itemText: self.settings.itemText ? self.settings.itemText : self.methods.itemText });\n\n        var dropDown = containerDropdown.append(selectTmp);\n        containerControl.append(dropDown);\n\n\n        dropDown.position({\n          my: \"left top\",\n          at: \"left bottom\",\n          of: $(\".biz-wp-combo-input\", selfControl),\n          collision: \"none\" }).\n        hide();\n\n        dropDown.fadeIn();\n\n        dropDown.width(selfControl.width());\n\n        self.methods.recalculateComboOffset(dropDown, selfControl);\n\n        dropDown.data('formWidth', containerControl.width());\n        dropDown.data('parentCombo', selfControl);\n\n        dropDown.addClass(self.settings.orientation);\n\n        if (selectedValue !== -1) {\n          objSelected = $(\"li[data-value='\" + selectedValue.id + \"']\", dropDown);\n          objSelected.addClass('ui-selected');\n          objSelected.addClass(\"active\");\n          scrollPosition = parseInt(objSelected.position().top);\n          dropDown.scrollTop(scrollPosition);\n        }\n\n        dropDown.on(\"mouseup\", \"li\", function (event) {\n\n          event.stopPropagation();\n\n          var dataValue = $(this).data('value').toString();\n\n          var value = dataValue ? $(this).data('value') : '';\n          var val = { value: value, text: $(this).text() };\n          self.methods.onComboItemSelected.apply(self, [val]);\n          self.config.inputCombo.focus();\n\n          // Animation effect\n          dropDown.fadeOut('slow', function () {\n            self.methods.dropDownDestroy.apply(self, [dropDown]);\n          });\n          $(document).unbind(\"click.closecombo\");\n        });\n\n        // Stop bubbling outside the dropdown\n        $.makeArray(dropDown, self.methods.getControl.apply(self, [])).bind('click', function (e) {\n          e.preventDefault();\n          return false;\n        });\n\n        /*fix for IE*/\n        dropDown.bind('mousedown.closecombo', function () {\n          dropDown.attr('md', true);\n        });\n\n        // Handle dialog resizes\n        // TODO: Change document handlers to \"closest\" ui-dialog -> ui-resizable-handle  handlers\n        $(document).bind(\"mousedown.resizecombo\", function (e) {\n          if ($(e.target).hasClass('ui-resizable-handle')) {\n            if (self.repositionInterval) {\n              clearInterval(self.repositionInterval);\n            }\n            self.repositionInterval = setInterval(function () {\n              self.methods.dropDownReposition.apply(self, [dropDown, containerControl]);\n            }, 10);\n          }\n        });\n        $(document).bind(\"mouseup.resizecombo\", function (e) {\n          clearInterval(self.repositionInterval);\n          var tg = $(e.target);\n          if (!dropDown.attr('md')) {/* <-- fix for IE*/\n            if (!tg.hasClass('ui-select-dropdown')) {\n              self.methods.dropDownValidClose.apply(self, [tg, dropDown]);\n            }\n          } else {\n            dropDown.removeAttr('md');\n          }\n        });\n\n        $(document).on('mouseup.closecombo', function (e) {\n          var etarget;\n          if (self.settings.IE && e.currentTarget.activeElement) {\n            etarget = e.currentTarget.activeElement;\n          } else {\n            etarget = e.target;\n          }\n\n          var tg = $(etarget);\n          if (!dropDown.attr('md')) {\n            if (!tg.hasClass('ui-select-dropdown')) {\n              self.methods.dropDownValidClose.apply(self, [tg, dropDown]);\n            }\n          } else {\n            dropDown.removeAttr('md');\n          }\n        });\n\n        $(window).bind('resize.resizecombo', function () {\n          if (self.repositionInterval) {\n            clearInterval(self.repositionInterval);\n          }\n\n          self.methods.dropDownReposition.apply(self, [dropDown, containerControl]);\n        });\n\n        $(document).one(\"click.closecombo\", function (e) {\n          var tg = $(e.target);\n          if (!dropDown.attr('md')) {\n            self.methods.dropDownValidClose.apply(self, [tg, dropDown]);\n          } else {\n            dropDown.removeAttr('md');\n          }\n        });\n\n      },\n      /*\r\n         * validate when fire event form document and window\r\n         */\n      dropDownValidClose: function dropDownValidClose(target, dropDown) {\n        var self = this;\n        //   if (target.closest(\".biz-wp-combo\", self.element).length === 0) {\n        dropDown.fadeOut('slow', function () {\n          self.methods.dropDownDestroy.apply(self, [dropDown]);\n        });\n        $(document).unbind(\"click.closecombo\");\n        //        }\n      },\n      /*\r\n         * set a new dropdown position\r\n         */\n      dropDownReposition: function dropDownReposition(dropDown, containerForm) {\n        var self = this,\n        selfControl = self.methods.getControl.apply(self, []);\n        if (containerForm.width() != dropDown.data('formWidth')) {\n\n          dropDown.width(selfControl.width() < 100 ? 100 : selfControl.width());\n\n          dropDown.position({\n            my: \"left top\",\n            at: \"left bottom\",\n            of: $(\".biz-wp-combo-input\", selfControl),\n            collision: \"none\" });\n\n          dropDown.data('formWidth', containerForm.width());\n        }\n      },\n      /*\r\n         * destroy dropdown\r\n         */\n      dropDownDestroy: function dropDownDestroy(dropDown) {\n        var self = this;\n        var containerControl = self.config.inputCombo.closest('.ui-bizagi-control');\n        var containerRender = containerControl.closest('.ui-bizagi-render');\n\n        if (containerControl.hasClass(\"ac-is-visible\")) {\n          containerControl.removeClass(\"ac-is-visible\");\n        }\n        if (containerControl.hasClass(\"ac-clear-floats\")) {\n          containerControl.removeClass(\"ac-clear-floats\");\n        }\n        containerRender.css(\"height\", \"auto\");\n        if (containerRender.hasClass(\"ac-is-visible\")) {\n          containerRender.removeClass(\"ac-is-visible\");\n        }\n\n        dropDown.remove();\n        $(document).unbind(\"mousedown.closecombo\");\n        $(document).unbind(\"mouseup.resizecombo\");\n        $(window).unbind('resize.resizecombo');\n        $(window).unbind('mouseup.closecombo');\n        self.repositionInterval;\n        clearInterval(self.repositionInterval);\n      },\n      validateValueInDatasource: function validateValueInDatasource() {\n        var self = this;\n        var selected = plg.config.inputCombo.val();\n        var valText = '';\n        var selectedKey = self.findDataByValue(selected);\n\n\n        if (!self.value) {\n          self.value = { id: '' };\n        }\n\n        if (selectedKey.id > 0) {\n          self.setValue({ id: selectedKey.id }, false);\n          self.setDisplayValue(selectedKey);\n        } else if (selectedKey.id == \"\") {\n          if (self.value.id != selectedKey.id) {\n            self.setValue(selectedKey, false);\n          }\n          self.setDisplayValue(selectedKey);\n        } else {\n          self.setDisplayValue(self.selectedValue);\n        }\n      },\n      /*\r\n         *   Keydown listener\r\n         */\n      keyDownFunction: function keyDownFunction(e) {\n        var self = this;\n        var idDropdown = \"dd-\" + plg.config.inputCombo.attr(\"id\");\n        var dropDown = $(\"#\" + idDropdown);\n        var active = $(\"li.active\", dropDown);\n\n        e = e ? e : window.event;\n\n        // Need to implement hiding select on \"Escape\" and \"Enter\".\n        if (e.altKey || e.ctrlKey || e.metaKey) {\n          return 1;\n        }\n\n\n        if (dropDown.length === 0) {\n          self.methods.comboDropDown.apply(self, []);\n          dropDown = $(\"#\" + idDropdown);\n        }\n\n        if (e.shiftKey && e.keyCode) {\n          dropDown.remove();\n          return 0;\n        }\n\n        if (27 == e.keyCode) {\n          self.methods.setDisplayValue.apply(self, [self.selectedValue]);\n          dropDown.remove();\n        }\n\n        if (9 == e.keyCode || 13 == e.keyCode) {\n          if (active.length > 0) {\n            self.config.inputCombo.val(active.text());\n          }\n          if (self.settings.isSearchable) {\n            self.methods.validateValueInDatasource();\n          } else {\n            self.methods.setValue.apply(self, [active.data('value')]);\n          }\n          dropDown.remove();\n          return 1;\n        }\n\n        if (e.keyCode == '38' || e.keyCode == '37') {\n          // up arrow\n          self.methods.selectPreviousElement.apply(self, [dropDown]);\n          return 0;\n        } else\n        if (e.keyCode == '40' || e.keyCode == '39') {\n          // down arrow\n          self.methods.selectNextElement.apply(self, [dropDown]);\n          return 0;\n        }\n\n        if (e.keyCode == 36) {\n          self.methods.selectFirstElement.apply(self, [dropDown]);\n          return 0;\n\n        } else if (e.keyCode == 35) {\n          self.methods.selectLastElement.apply(self, [dropDown]);\n          return 0;\n\n        }\n\n        // Locate the dropdown in the first possible location\n        var found = self.methods.selectFirstPossibleElement.apply(self, [dropDown, plg.config.inputCombo.val() + e.key]);\n        if (found) return 0;\n\n        return 1;\n      },\n      /*\r\n         *   KeyUp listener\r\n         */\n      keyUpFunction: function keyUpFunction(e) {\n        var self = this;\n        var idDropdown = \"dd-\" + plg.config.inputCombo.attr(\"id\");\n        var dropDown = $(\"#\" + idDropdown);\n\n        e = e ? e : window.event;\n\n        if (e.altKey || e.ctrlKey || e.metaKey || 50 == e.keyCode || 13 == e.keyCode || 9 == e.keyCode || 27 == e.keyCode || e.keyCode == '38' || e.keyCode == '40' || e.shiftKey && e.keyCode || e.keyCode == 36 || e.keyCode == 35 || e.keyCode == 33 || e.keyCode == 34) {\n          return 0;\n        }\n\n        if (dropDown.length === 0) {\n          self.methods.comboDropDown.apply(self, []);\n          dropDown = $(\"#\" + idDropdown);\n        }\n\n        if (self.settings.isSearchable) {\n          self.methods.selectItemByKeyUp.apply(self, []);\n        }\n\n        return 1;\n      },\n      /*\r\n         * Select letter by letter\r\n         */\n      selectItemByKeyUp: function selectItemByKeyUp() {\n        var self = this,objSelected;\n\n        var idDropdown = \"dd-\" + plg.config.inputCombo.attr(\"id\");\n        var dropDown = $(\"#\" + idDropdown);\n\n\n        $('.active', dropDown).removeClass('active');\n\n        var selectedKey = self.settings.isSearchable ? self.methods.findDataByValue(plg.config.inputCombo.val()) : -1;\n\n        if (selectedKey !== -1) {\n          objSelected = $(\"li[data-value='\" + selectedKey.id + \"']\", dropDown);\n          objSelected.addClass(\"active\");\n        } else {\n          objSelected = $('li.ui-selected', dropDown);\n        }\n\n        if (dropDown.length > 0 && objSelected.length > 0) {\n          scrollPosition = parseInt(objSelected.position().top);\n          dropDown.scrollTop(scrollPosition);\n        } else {\n          self.methods.setValue.apply(self, [self.selectedValue]);\n        }\n      },\n      selectFirstElement: function selectFirstElement(dropDown) {\n        var self = this;\n        var actual = $(\"li:first\", dropDown);\n        $('li', dropDown).removeClass(\"active\");\n        actual.addClass(\"active\");\n        scrollPosition = actual.position().top;\n        dropDown.scrollTop(scrollPosition);\n\n        plg.config.inputCombo.val($(actual).text());\n\n\n      },\n      selectLastElement: function selectLastElement(dropDown) {\n        var self = this,\n        actual = $(\"li:last\", dropDown);\n        $('li', dropDown).removeClass(\"active\");\n        actual.addClass(\"active\");\n        scrollPosition = actual.position().top;\n        dropDown.scrollTop(scrollPosition);\n\n        plg.config.inputCombo.val($(actual).text());\n\n      },\n\n      selectFirstPossibleElement: function selectFirstPossibleElement(dropDown, text) {\n        var li = $(\"li\", dropDown);\n        var item = $.first(li, function (item) {return $(item).text().toString().toLowerCase().indexOf(text.toLowerCase()) == 0;});\n        if (item) {\n          $('li', dropDown).removeClass(\"active\");\n          $(item).addClass(\"active\");\n          var scrollPosition = $(item).position().top;\n          dropDown.scrollTop(scrollPosition);\n        }\n      },\n      /*\r\n         * Handler key Up\r\n         */\n      selectPreviousElement: function selectPreviousElement(dropDown) {\n        var self = this;\n        var scrollPosition = 0;\n        var actual = $(\"li.active\", dropDown);\n\n        if (actual.length === 0) {\n          actual = $(\"li:first\", dropDown);\n        }\n        var previous = actual.prev();\n\n        if (previous.length != 0) {\n          actual.removeClass(\"active\");\n          $(previous).addClass(\"active\");\n          scrollPosition = $(previous).position().top;\n\n          dropDown.scrollTop(scrollPosition);\n          plg.config.inputCombo.val($(previous).text());\n        }\n\n      },\n      /*\r\n         *Handler key Down\r\n         */\n      selectNextElement: function selectNextElement(dropDown) {\n        var self = this;\n        var scrollPosition = 0;\n        var actual = $(\"li.active\", dropDown);\n\n        if (actual.length === 0) {\n          actual = $(\"li:first\", dropDown);\n        }\n        var next = actual.next();\n\n        if (next.length != 0) {\n          actual.removeClass(\"active\");\n          $(next).addClass(\"active\");\n          scrollPosition = $(next).position().top;\n\n          dropDown.scrollTop(scrollPosition);\n          plg.config.inputCombo.val($(next).text());\n        }\n\n      },\n      /*\r\n         *   Handler to react when a combo item is selected\r\n         */\n      onComboItemSelected: function onComboItemSelected(val) {\n        var self = this;\n        var valValue = val.value.toString();\n        var selectedLabel = val.text || \"\";\n\n        if (valValue === \"\") {\n          self.config.inputCombo.val(selectedLabel);\n        } else {\n          self.config.inputCombo.val(selectedLabel);\n        }\n\n        self.methods.setValue.apply(self, [valValue, selectedLabel]);\n\n      },\n      setValue: function setValue(val, selectedLabel) {\n        var self = this;\n        self.config.inputCombo.data('value', val);\n        /**\r\n                                                   Fired when a combo change\r\n                                                     @event comboChange \r\n                                                   @param {String} type comboChange\r\n                                                   @param {String} message \r\n                                                   @param {Date} time \r\n                                                   @param {Object} Jquery Object HTML \r\n                                                   **/\n\n        var control = self.config.inputCombo,\n        controlProperties = {\n          type: \"comboChange\",\n          message: \"combo change\",\n          time: new Date(),\n          ui: control,\n          element: $('.biz-wp-combo', self),\n          value: val,\n          text: selectedLabel };\n\n\n        plg.settings.onChange(controlProperties);\n\n        $.event.trigger(controlProperties);\n      },\n      /*\r\n         *   Sets the value in the rendered control\r\n         */\n      setDisplayValue: function setDisplayValue(value) {\n        var self = this;\n        var comboValue = '';\n        var comboValueValid = true;\n\n        value = plg.settings.itemValue ? plg.settings.itemValue : plg.methods.itemValue;\n\n        if (value !== null) {\n          plg.config.inputCombo.val(comboValue);\n        } else if (value === null) {\n          plg.config.inputCombo.val(comboValue);\n        }\n\n      },\n      /*\r\n         *   Sets the value in the rendered control\r\n         */\n      clearDisplayValue: function clearDisplayValue() {\n        var self = this;\n        plg.config.inputCombo.val('');\n        self.value = self.properties.value = self.selectedValue;\n      },\n      /*\r\n         *   Returns the selected value in the template\r\n         */\n      getSelectedValue: function getSelectedValue() {\n        var self = this;\n        return self.selectedValue;\n      },\n      recalculateComboOffset: function recalculateComboOffset(dropDwn, objParent) {\n        if (bizagi.util.isIE() && bizagi.util.getInternetExplorerVersion() == 9) {\n          if (dropDwn.width() !== objParent.width()) {\n            var offset = objParent.width() - dropDwn.width();\n            dropDwn.width(objParent.width() + offset);\n          }\n        }\n      },\n      itemValue: function itemValue(obj) {\n        var val = '';\n        if (obj.itemValue) {\n          val = obj.itemValue(obj);\n        } else {\n          if (typeof obj.value === 'string' || typeof obj.value === 'number') {\n            val = obj.value;\n          }\n        }\n        return val;\n      },\n      itemText: function itemText(obj) {\n        var val = '';\n        if (obj.itemValue) {\n          val = obj.itemText(obj);\n        } else {\n          if (typeof obj.text === 'string') {\n            val = obj.text;\n          }\n        }\n        return val;\n      },\n      /**\r\n         * Destroy ComboBox\r\n         *\r\n         *   $('selector').uicombo('destroy');\r\n         *\r\n         * @method destroy\r\n         * @return {Object} Jquery Empty Object\r\n         */\n      destroy: function destroy(op) {\n        var self = $(this);\n        if (self.attr('role') === op.namespace) {\n          self.empty();\n        } else {\n          $.error('No es posible eliminar un control con un namespace diferente: [role: ' + op.namespace + ']');\n        }\n      },\n      /*\r\n         *   Select the related item (syntax = {text:\"item1\", value:1})\r\n         */\n      selectItem: function selectItem(item) {\n        var self = this;\n        var control = $('.biz-wp-combo-input', self);\n        control.val(item.text);\n        control.data('value', item.value);\n      } };\n\n\n\n\n    if (_typeof(options) != 'object' && options) {\n\n      $.extend(plg.settings, params, plg.config);\n      return plg.methods[options].apply(this, [plg.settings]);\n\n    } else if (_typeof(options) === 'object' || !options || options === undefined) {\n\n      $.extend(plg.settings, options, plg.config);\n      return this.each(function () {\n        plg.methods.init.apply(this, [plg.settings]);\n      });\n\n    } else {\n\n      $.error('Method ' + options + ' does not exist on jQuery.combo');\n\n    }\n\n  };\n\n  $.bizagi.ui.controls.uicombo.plugin = $.fn.uicombo;\n\n})(jQuery);"]}