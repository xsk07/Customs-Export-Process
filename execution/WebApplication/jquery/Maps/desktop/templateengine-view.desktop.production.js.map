{"version":3,"sources":["jquery/common/bizagi.filterMultiple/js/bizagi.filterMultiple.js","jquery/common/bizagi.filterNumber/js/bizagi.filterNumber.js","jquery/common/bizagi.filterMoney/js/bizagi.filterMoney.js","jquery/common/bizagi.filterInteger/js/bizagi.filterInteger.js","jquery/common/bizagi.filterDate/js/bizagi.filterDate.js","jquery/common/bizagi.filterText/js/bizagi.filterText.js","jquery/common/bizagi.filterBoolean/js/bizagi.filterBoolean.js","jquery/common/bizagi.searchuser/js/bizagi.searchuser.js","jquery/workportal/desktop/widget/paginator/bizagi.workportal.desktop.widgets.paginator.js","jquery/workportal/desktop/widget/sortbar/bizagi.workportal.desktop.widgets.sortbar.js","jquery/workportal/desktop/widget/mysearchfilter/bizagi.workportal.desktop.widgets.mysearchfilter.js"],"names":["$","widget","options","showButtonClearFilter","properties","onApply","data","onClear","xpath","setData","_create","this","isDefaultFilter","_addButtonClearFilter","_setReturnObject","_bindContextMenuButtons","_bindContextMenu","_bindTooltip","_bindDefaultFilter","a","filtersText","i","defaultValues","applied","returnObject","value","push","id","displayName","$displayNameControl","element","displayText","text","split","btnRemoveFilter","bizagi","localization","getResource","append","attribute","type","typeSearch","self","contextMenu","types","container","item","opt","root","appendTo","contextMenuButtons","$menuContext","$menu","htmlButtons","on","_addFilterToDisplayName","trigger","_buildContextMenuItems","items","name","className","callback","_removeFilter","replaceAll","$opener","attr","click","event","target","hasClass","is","selector","events","show","div","_disableApply","empty","addClass","when","done","checked","find","el","checkbox","_bindHandlers","hide","filterValue","tooltip","content","length","$container","each","index","ev","stopImmediatePropagation","$target","_enableApply","val","splice","indexOf","_resetValue","cont","_setDisplayNameToDefault","$applyControl","removeAttr","removeClass","Object","getOwnPropertyNames","destroy","Widget","prototype","call","jQuery","xpaths","_type","numericFormat","clone","rangeQuery","_setValue","paramsContextMenu","key","min","max","notification","buttons","$input","formatCurrency","_getFormatOptions","html","_enableNotification","$minValue","$maxValue","proxy","_onClickMinValue","_onClickMaxValue","removeHandlersValuesMinMax","undefined","_setDisplayValue","_setFormatValue","_getObjectValueByString","stringValue","asFloatType","regexString","symbol","digitGroupSymbol","regex","eval","replace","parseFloat","minVal","maxVal","$minControl","$maxControl","keyup","isLowerLimitInvalid","isNaN","isUpperLimitInvalid","isRangeInvalid","_checkNotification","_disableNotification","showLabel","formatOptions","roundToDecimalPlace","eventOnDecimalsEntered","decimalSymbol","off","filter","bizagi_numberFilter","_setValuesOfReturnObject","_setDisplayTitle","from","to","_setDisplayLabels","_getFromControl","datepicker","_getToControl","$minDate","$maxDate","minDate","Date","_getDateFromInvariant","maxDate","dateFormat","util","dateFormatter","getDateFormatByDatePickerJqueryUI","toLowerCase","defaultDate","changeMonth","changeYear","numberOfMonths","yearRange","onClose","selectedDate","onSelect","_resetValues","formatInvariant","toDefault","$displayTitleControl","displayTitle","minDateObj","maxDateObj","_formatDate","dateObj","formatDate","date","getDateFromInvariant","_setFilterToDisplayName","_getTextControl","textValue","console","log","parseBoolean","valueToLocalize","toString","formatBoolean","fn","bizagiSearchUser","filterData","usersResults","currentPage","totalPages","dBox","editingUser","renderFactoryReference","getResourceReference","methods","init","bindElements","openUploadDialog","window","document","dialogBox","dialog","width","maximize","resize","draggable","height","title","modal","showFilters","showButtons","addHandlers","defaultParams","setDefaultParams","_loadResultsTemplate","pagination","pagesArray","filtersContainer","filters","displayNames","buttonsContainer","searchButtonName","clearButtonName","allowAddUser","newUserBtn","bizagiCreateUser","dataService","renderFactory","canvas","onCreate","selectItem","onCancel","getUsersTableData","clickClearPluginValues","remove","updateFiltersInformation","deferred","searchUsers","_loadingList","Array","isArray","users","total","showUsersTable","showMessageBox","message","status","fail","error","showError","getPagesArray","usersTableTmpl","addTableHandlers","setUpPagination","getTemplate","tmpl","links","page","buttonSelf","itemSelected","valuesToSelect","resolve","pagesToShow","aux","$pager","bizagiPagination","maxElemShow","actualPage","listElement","clickCallBack","pag","parseInt","defer","$loader","$list","always","workportal","widgets","extend","workportalFacade","params","_super","loadTemplates","paginator","concat","renderContent","referenceType","template","getSuffixWidget","render","postRender","sub","updateView","configureHandlers","args","$content","getContent","renderTemplate","totalRecords","setModel","fromActionLauncher","clean","histName","action","reference","surrogateKey","guidSearch","getModel","stopNavigation","onPageBreak","disabledPaginatorButtonsByLimits","pub","$buttonFastRewind","$buttonRewind","$buttonFordward","$buttonFastFordward","calculateNewPage","newItemsPerPage","previousItemsPerPage","previousPage","currentFirstItem","newPage","Math","ceil","injector","register","processActionService","accumulatedcontext","sortbar","right-content","addButton","sortMenu","actions","recordsPerPage","recordsMenu","enableFilter","$checkAll","setVisibleSortbar","configureAfterPaintHandlers","initializeAndProcessFilterButton","setFiltersSortData","hideFilterButtonAndBar","hideSortButtons","enableBatchActions","updateCounterByFilterApplied","showingFiltering","setVisibleCheckAll","validActions","actionsData","onCheckUncheck","showSortMenu","showRecordsMenu","sortSelection","setIconSortType","_sortType","orderType","onRemoveSelectedItemsCollections","visible","closest","showingCheckAll","showSelectedItems","numberCheckedItems","keywordSelected","button","sortTypeBeforeChanged","onClickBatchAction","$buttonLI","guidAction","getAction","requestsInProgressActionGuid","addLoadingButtonAction","executeBatchAction","commonActionsmodel","quitLoadingButtonAction","$button","prepend","commonActions","$parent","_filters","displayValue","e","stopPropagation","one","currentTarget","display","pop","oldPageSize","pageSize","Number","trim","textContent","get","restoreOrderSelected","processAddButton","$buttonContainer","_lastReferenceEntity","children","_haveAddButton","startLoading","delay","overlay","getProcessAddAction","referenceEntity","guidEntity","renderButton","endLoading","$addButton","clickAddButton","getMapping","accumulatedContext","getContext","xpathContext","collectionId","collectionType","mappingData","onExecuteProcess","onExecuteForm","isChecked","commonActionsModel","showBatchActions","checkAll","prop","typeActions","keys","itemsSelected","moreActions","slice","$actions","tooltipClass","open","ui","uiTooltip","originalEvent","$id","keyActionGuid","not","$buttonAction","focus","close","hover","stop","fadeTo","fadeOut","filtersAppliedCounter","calculateFilters","filterCounter","sortCounter","showFilterButton","hideFilterButton","showSortButtons","updateCounter","showingSorting","$sortbarIcon","filtersApplied","counter","$counter","showingFilter","startForm","hasStartForm","executeProcessAction","refreshTemplateData","loadTemplateData","isRefresh","executeFormAction","refresh","grep","multiplicity","mode","isEvent","unsub","mysearchfilter","mysearchfilter-item","filterItem","initializeMySearchFilter","criteriaSearchApplied","filterControlArray","orderBy","toggleWidget","openCloseWidget","setFiltersData","setOrderBy","setRecordsPerPage","defaultFilterApplied","filtersAppliedWithProperties","$listContent","defaultFilter","tmplid","filterApplied","buildFilter","setFilterData","$element","buildFilterMultiple","buildFilterNumber","buildFilterMoney","buildFilterDate","buildFilterBoolean","isInteger","subType","bizagi_multipleFilter","bizagi_integerFilter","bizagi_moneyFilter","bizagi_dateFilter","bizagi_booleanFilter","moneyFilter","addFilterSelection","triggerFilter","removeFilterApplied","numberFilter","dateFilter","multipleFilter","booleanFilter","len","filtersToSend","filterBarFilters","defineFilterObject","_setPageSize","filterParams","level","_getPageSize"],"mappings":"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","sourcesContent":["/**\r\n * Filter multiple plugin creates a tooltip control to show related entity information and select multiple values\r\n *\r\n * @author Andrs Fernando Muoz\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_multipleFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpath) {},\n      setData: function setData() {} },\n\n\n    /**\r\n                                         *\r\n                                         * @private\r\n                                         */\n    _create: function _create() {\n      var self = this;\n      self.isDefaultFilter = false;\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindTooltip();\n      self._bindDefaultFilter();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindDefaultFilter: function _bindDefaultFilter() {\n      var self = this;\n      var data = self.options.data || [];\n      var filtersText = ': ';\n      var a,i = -1;\n\n      while (a = data.defaultValues[++i]) {\n        if (a.applied) {\n          self.isDefaultFilter = true;\n          self.returnObject.value.push({ \"id\": a.id });\n          filtersText += a.displayName;\n        }\n      }\n\n      if (self.isDefaultFilter) {\n        var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n        var displayText = $displayNameControl.text().split(':');\n\n        $displayNameControl.text(displayText[0] + filtersText);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n      self.returnObject = {\n        properties: {\n          xpath: self.options.properties.attribute,\n          type: \"entity\",\n          typeSearch: \"exact\" },\n\n        value: [] };\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.container = function (item, opt, root) {\n        $('<div id=\"' + item.id + '\" class=\"menu-container\"></div>').appendTo(this);\n      };\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\" disabled>' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._addFilterToDisplayName();\n            options.onApply([self.returnObject]);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @returns {{}}\r\n        * @private\r\n        */\n    _buildContextMenuItems: function _buildContextMenuItems() {\n      var self = this;\n      var options = self.options;\n      var items = {};\n\n      if (self.options.showButtonClearFilter !== true) {\n        items[\"key\"] = {\n          name: options.getResource(\"workportal-my-search-remove-filter\"),\n          className: \"ui-bizagi-clear-filters\",\n          callback: function callback() {\n            self._removeFilter();\n            return true; // False -> To keep the context menu open\n          } };\n\n      }\n      items[\"container\"] = {\n        id: \"checks_container_\" + options.properties.attribute.replaceAll(\".\", \"_\"),\n        type: \"container\" };\n\n      items[\"buttons\"] = {\n        type: \"contextMenuButtons\" };\n\n\n      return items;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var options = self.options;\n      var $opener = $(self.element);\n      var id = \"#\" + $(\".wgd-my-search-filter-pluggin\", $opener).attr(\"id\");\n      var items = self._buildContextMenuItems();\n\n      $opener.click(function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      $opener.contextMenu({\n        selector: id,\n        className: 'context-menu-list-checks-container',\n        trigger: \"none\",\n        items: items,\n        events: {\n          show: function show() {\n            var div = $(\"#checks_container_\" + options.properties.attribute.replaceAll(\".\", \"_\"), self.$menuContext);\n            self._disableApply();\n            div.empty();\n            div.addClass(\"checks_container_overflow\");\n\n            return $.when(options.setData()).done(function (data) {\n              var data = typeof data !== 'undefined' ? data.defaultValues : options.data.defaultValues;\n              var i = -1,a;\n\n              while (a = data[++i]) {\n                var id = self.returnObject.value.find(function (el) {return el.id == a.id;});\n                var checked = id || a.applied ? \"checked\" : \"\";\n                if (a.id != '' && a.displayName != '' && (!self.isDefaultFilter || self.isDefaultFilter && checked === \"checked\")) {\n                  var checkbox = \"<li class='checks_container_children'>\";\n                  checkbox += \"<input data-displayname='\" + a.displayName + \"' type='checkbox' value='\" + a.id + \"'\" + \" \" + checked + \">\";\n                  checkbox += \"<span class='context-menu-item-label-check'>\" + a.displayName + \"</span>\";\n                  checkbox += \"</li>\";\n\n                  div.append(checkbox);\n                }\n              }\n              self._bindHandlers();\n            });\n          },\n          hide: function hide() {\n          } } });\n\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindTooltip: function _bindTooltip() {\n      var self = this;\n      self.filterValue = self.filterValue || [];\n\n      $(self.element).tooltip({\n        items: \"#\" + $(\"div\", self.element).attr(\"id\"),\n        content: function content() {\n          if (self.filterValue.length !== 0) {\n            var $container = $(\"<div>\");\n            $.each(self.filterValue, function (index, value) {\n              $container.append($(\"<div><label>\" + value + \"</label></div>\"));\n            });\n            return $container;\n          } else\n          {\n            return \"\";\n          }\n        } });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n\n      $(\"input:checkbox\", self.$menuContext).on(\"click\", function (ev) {\n        ev.stopImmediatePropagation(); //stopping jquery click event handler to be call twice for a checkbox\n        var $target = $(ev.target);\n        var id = $target.attr(\"value\");\n        var isChecked = $target.is(':checked');\n\n        if (isChecked) {\n          self.returnObject.value.push({ \"id\": id });\n          self._enableApply();\n        } else\n        {\n          var val = self.returnObject.value.find(function (el) {return el.id == id;});\n          if (val) {\n            self.returnObject.value.splice(self.returnObject.value.indexOf(val), 1);\n          }\n          if (self.returnObject.value.length === 0) {\n            self._disableApply();\n          } else\n          {\n            self._enableApply();\n          }\n        }\n      });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValue: function _resetValue() {\n      var self = this;\n      self.returnObject.value = [];\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addFilterToDisplayName: function _addFilterToDisplayName() {\n      var self = this;\n      var $displayNameControl = $(\".wgd-my-search-filter-pluggin span\", self.element);\n      var displayText = $displayNameControl.text().split(\":\");\n      var filtersText = displayText[0] + \": \";\n      var cont = self.returnObject.value.length;\n      self.filterValue = [];\n\n      $(\"input:checked\", self.$menuContext).each(function () {\n        cont--;\n        self.filterValue.push($(this).data(\"displayname\"));\n        filtersText = filtersText + $(this).data(\"displayname\") + (cont == 0 ? '' : \", \");\n      });\n\n      $displayNameControl.text(filtersText);\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayNameToDefault: function _setDisplayNameToDefault() {\n      var self = this;\n      var $displayNameControl = $(\".wgd-my-search-filter-pluggin span\", self.element);\n      var displayName = $displayNameControl.text().split(\":\");\n\n      self.isDefaultFilter = false;\n      self.filterValue = [];\n      $displayNameControl.text(displayName[0]);\n    },\n\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _enableApply: function _enableApply() {\n      var self = this;\n      var $applyControl = $(\"#ui-bizagi-apply-filter\", self.$menuContext);\n\n      $applyControl.removeAttr(\"disabled\");\n      $applyControl.removeClass(\"ui-state-disabled\");\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableApply: function _disableApply() {\n      var self = this;\n      var $applyControl = $(\"#ui-bizagi-apply-filter\", self.$menuContext);\n\n      $applyControl.attr(\"disabled\", \"disabled\");\n      $applyControl.addClass(\"ui-state-disabled\");\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      self.options.onClear([self.returnObject.properties.xpath]);\n      self._setDisplayNameToDefault();\n      self._resetValue();\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n    /**\r\n        *\r\n        * @param filterData\r\n        */\n    setData: function setData(data) {\n      var self = this;\n\n      self.options.data = Object.getOwnPropertyNames(data).length === 0 ? self.options.data : data;\n    },\n\n    /**\r\n        *\r\n        */\n    destroy: function destroy() {\n      $(this.element).contextMenu(\"destroy\");\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/*\r\n Document   : bizagi.filterNumber\r\n Created on : May 21, 2015, 8:24:00 AM\r\n Author     : Andres Felipe Arenas Vargas\r\n Description: This script will define a base class to handle the filter of a number control\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_numberFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpaths) {},\n      setData: function setData() {} },\n\n    _type: \"number\",\n\n    /**\r\n                      *\r\n                      * @private\r\n                      */\n    _create: function _create() {\n      var self = this;\n      self.numericFormat = bizagi.clone(bizagi.localization.getResource(\"numericFormat\"));\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindTooltip();\n      self._bindHandlers();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n\n      self.returnObject = [\n      {\n        properties: {\n          xpath: self.options.properties.attribute + \"@from\",\n          type: self._type,\n          typeSearch: \"range\",\n          rangeQuery: \"from\" } },\n\n\n      {\n        properties: {\n          xpath: self.options.properties.attribute + \"@to\",\n          type: self._type,\n          typeSearch: \"range\",\n          rangeQuery: \"to\" } }];\n\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link\" type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\">' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._setValue();\n            self._addFilterToDisplayName();\n            options.onApply(self.returnObject);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var options = self.options;\n      var $opener = $(self.element);\n      var id = '#' + $('.wgd-my-search-filter-pluggin', $opener).attr('id');\n\n      $opener.on('click', function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      var paramsContextMenu = {\n        selector: id,\n        trigger: 'none',\n        items: {\n          key: {\n            name: options.getResource('workportal-my-search-remove-filter'),\n            className: 'ui-bizagi-clear-filters',\n            callback: function callback() {\n              self._removeFilter();\n\n              return true; // False -> To keep the context menu open\n            } },\n\n          min: {\n            name: options.getResource('bz-rp-components-time-from-label'),\n            type: 'text',\n            className: 'ui-bizagi-' + self._type + '-filter-min' },\n\n          max: {\n            name: options.getResource('bz-rp-components-time-to-label'),\n            type: 'text',\n            className: 'ui-bizagi-' + self._type + '-filter-max' },\n\n          notification: {\n            name: options.getResource('workportal-my-search-limit-notification'),\n            className: 'ui-bizagi-' + self._type + '-filter-notification' },\n\n          buttons: {\n            type: 'contextMenuButtons' // Self structure - see _bindContextMenuButtons\n          } },\n\n        events: {\n          show: function show() {\n            return $.when(self.options.setData()).done(function (data) {\n              var $input = $('<input type=\"text\">');\n              self.options.data = typeof data !== 'undefined' ? data : self.options.data;\n\n              $input.val(self.options.data.min);\n              $input.formatCurrency(self._getFormatOptions());\n              $('.ui-bizagi-' + self._type + '-filter-min span', self.$menuContext).html(options.getResource('bz-rp-components-time-from-label') + \" (<span class='select-value'>\" + $input.val() + \"</span>):\");\n\n              $input.val(self.options.data.max);\n              $input.formatCurrency(self._getFormatOptions());\n              $('.ui-bizagi-' + self._type + '-filter-max span', self.$menuContext).html(options.getResource('bz-rp-components-time-to-label') + \" (<span class='select-value'>\" + $input.val() + \"</span>):\");\n\n              self._enableNotification(false);\n\n              var $minValue = $('.ui-bizagi-' + self._type + '-filter-min .select-value', self.$menuContext);\n              var $maxValue = $('.ui-bizagi-' + self._type + '-filter-max .select-value', self.$menuContext);\n              $minValue.on('click', $.proxy(self._onClickMinValue, self));\n              $maxValue.on('click', $.proxy(self._onClickMaxValue, self));\n\n            });\n          },\n          hide: function hide() {\n            self.removeHandlersValuesMinMax();\n          } } };\n\n\n\n      if (self.options.showButtonClearFilter === true) {\n        paramsContextMenu.items.key = undefined;\n      }\n\n      $opener.contextMenu(paramsContextMenu);\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindTooltip: function _bindTooltip() {\n      var self = this;\n      $(self.element).tooltip({\n        items: \"#\" + $(\"div\", self.element).attr(\"id\"),\n        content: function content() {\n          return self.filterValue;\n        } });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayValue: function _setDisplayValue() {\n      var self = this;\n      var min = typeof self.returnObject[0].value === \"undefined\" ? \"\" : self.returnObject[0].value;\n      var max = typeof self.returnObject[1].value === \"undefined\" ? \"\" : self.returnObject[1].value;\n\n      $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val(min);\n      $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val(max);\n      $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).formatCurrency(self._getFormatOptions());\n      $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).formatCurrency(self._getFormatOptions());\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setFormatValue: function _setFormatValue($input) {\n      var self = this;\n\n      var value = self._getObjectValueByString($input.val());\n\n      if (value !== 0) {\n        $input.val(value);\n        $input.formatCurrency(self._getFormatOptions());\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        * @param stringValue\r\n        * @return {*}\r\n        * @param asFloatType\r\n        */\n    _getObjectValueByString: function _getObjectValueByString(stringValue, asFloatType) {\n      var self = this;\n\n      var value = stringValue,\n      regexString = \"/[\" + self.numericFormat.symbol + self.numericFormat.digitGroupSymbol + \"]/g\",\n      regex = eval(regexString);\n\n      value = value.replace(regex, \"\");\n      if (asFloatType) {\n        value = value.replace(\",\", \".\");\n        value = parseFloat(value);\n      }\n\n      return value;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addFilterToDisplayName: function _addFilterToDisplayName() {\n      var self = this;\n      var minVal = $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val();\n      var maxVal = $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val();\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      self.filterValue = minVal + ' ' + self.options.getResource('bz-rp-components-time-to-label') + ' ' + maxVal;\n      $displayNameControl.text(displayName[0] + ': ' + self.filterValue);\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayNameToDefault: function _setDisplayNameToDefault() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      self.filterValue = \"\";\n      $displayNameControl.text(displayName[0]);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setValue: function _setValue() {\n      var self = this;\n      var minVal = self._getObjectValueByString($('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val(), true);\n      var maxVal = self._getObjectValueByString($('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val(), true);\n\n      self.returnObject[0].value = minVal === '' ? maxVal : minVal;\n      self.returnObject[1].value = maxVal === '' ? minVal : maxVal;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValue: function _resetValue() {\n      var self = this;\n\n      self._setReturnObject();\n      $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val('');\n      $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val('');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n      var options = self.options;\n      var $minControl = $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext);\n      var $maxControl = $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext);\n\n\n      $minControl.keyup(function () {\n        if ($(this).val()) {\n          var maxVal = self._getObjectValueByString($('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext).val(), true);\n          var minVal = self._getObjectValueByString($(this).val(), true);\n          var isLowerLimitInvalid = isNaN(minVal) ? true : minVal < parseFloat(options.data.min);\n          var isUpperLimitInvalid = isNaN(maxVal) ? true : maxVal > parseFloat(options.data.max);\n          var isRangeInvalid = minVal > maxVal;\n\n          self._checkNotification(isLowerLimitInvalid, isUpperLimitInvalid, isRangeInvalid);\n          self._setFormatValue($(this));\n        }\n      });\n\n      $maxControl.keyup(function () {\n        if ($(this).val()) {\n          var maxVal = self._getObjectValueByString($(this).val(), true);\n          var minVal = self._getObjectValueByString($('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext).val(), true);\n          var isLowerLimitInvalid = isNaN(minVal) ? true : minVal < parseFloat(options.data.min);\n          var isUpperLimitInvalid = isNaN(maxVal) ? true : maxVal > parseFloat(options.data.max);\n          var isRangeInvalid = minVal > maxVal;\n\n          self._checkNotification(isLowerLimitInvalid, isUpperLimitInvalid, isRangeInvalid);\n          self._setFormatValue($(this));\n        }\n      });\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        * @param event\r\n        */\n    _onClickMinValue: function _onClickMinValue(event) {\n      var self = this;\n      var $minControl = $('.ui-bizagi-' + self._type + '-filter-min input', self.$menuContext);\n      $minControl.val($(event.target).text());\n      $minControl.keyup();\n    },\n\n    /**\r\n        *\r\n        * @param event\r\n        * @private\r\n        */\n    _onClickMaxValue: function _onClickMaxValue(event) {\n      var self = this;\n      var $maxControl = $('.ui-bizagi-' + self._type + '-filter-max input', self.$menuContext);\n      $maxControl.val($(event.target).text());\n      $maxControl.keyup();\n    },\n\n    /**\r\n        *\r\n        * @param isLowerLimitInvalid\r\n        * @param isUpperLimitInvalid\r\n        * @param isRangeInvalid\r\n        * @private\r\n        */\n    _checkNotification: function _checkNotification(isLowerLimitInvalid, isUpperLimitInvalid, isRangeInvalid) {\n      var self = this;\n      var options = self.options;\n\n      if (isRangeInvalid || isLowerLimitInvalid || isUpperLimitInvalid) {\n        var notification = options.getResource('workportal-my-search-limit-notification');\n        if (isLowerLimitInvalid) {\n          notification = options.getResource('workportal-my-search-lower-limit-notification');\n        } else\n        if (isUpperLimitInvalid) {\n          notification = options.getResource('workportal-my-search-upper-limit-notification');\n        } else\n        if (isRangeInvalid) {\n          notification = options.getResource('workportal-my-search-max-min-notification');\n        }\n        self._enableNotification(true, notification);\n      } else\n      {\n        self._disableNotification();\n      }\n    },\n\n    /**\r\n        *\r\n        * @param showLabel\r\n        * @param notification\r\n        * @private\r\n        */\n    _enableNotification: function _enableNotification(showLabel, notification) {\n      var self = this;\n\n      if (showLabel) {\n        $('.ui-bizagi-' + self._type + '-filter-notification span', self.$menuContext).text(notification);\n        $('.ui-bizagi-' + self._type + '-filter-notification', self.$menuContext).show();\n      } else\n      {\n        $('.ui-bizagi-' + self._type + '-filter-notification', self.$menuContext).hide();\n      }\n      $(\"#ui-bizagi-apply-filter\", self.$menuContext).attr(\"disabled\", \"disabled\");\n      $(\"#ui-bizagi-apply-filter\", self.$menuContext).addClass(\"ui-state-disabled\");\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableNotification: function _disableNotification() {\n      var self = this;\n\n      $('.ui-bizagi-' + self._type + '-filter-notification', self.$menuContext).hide();\n      $(\"#ui-bizagi-apply-filter\", self.$menuContext).removeAttr(\"disabled\");\n      $(\"#ui-bizagi-apply-filter\", self.$menuContext).removeClass(\"ui-state-disabled\");\n    },\n\n    /**\r\n        *\r\n        * @returns {{symbol: string, roundToDecimalPlace: number, eventOnDecimalsEntered: boolean}}\r\n        * @private\r\n        */\n    _getFormatOptions: function _getFormatOptions() {\n      var self = this;\n      return formatOptions = {\n        symbol: '',\n        roundToDecimalPlace: -1,\n        eventOnDecimalsEntered: true,\n        digitGroupSymbol: self.numericFormat.digitGroupSymbol,\n        decimalSymbol: self.numericFormat.decimalSymbol };\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      self._resetValue();\n      self._enableNotification(false);\n      self._setDisplayNameToDefault();\n      self.options.onClear([self.returnObject[0].properties.xpath, self.returnObject[1].properties.xpath]);\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n\n    /**\r\n        *\r\n        * @param data\r\n        */\n    setData: function setData(data) {\n      var self = this;\n      self.options.data = Object.getOwnPropertyNames(data).length === 0 ? self.options.data : data;\n    },\n\n\n    /**\r\n        * Remove min and max handlers\r\n        */\n    removeHandlersValuesMinMax: function removeHandlersValuesMinMax() {\n      var self = this;\n      var $minValue = $('.ui-bizagi-' + self._type + '-filter-min .select-value', self.$menuContext);\n      var $maxValue = $('.ui-bizagi-' + self._type + '-filter-max .select-value', self.$menuContext);\n      $minValue.off('click', $.proxy(self._onClickMinValue, self));\n      $maxValue.off('click', $.proxy(self._onClickMaxValue, self));\n    },\n\n    destroy: function destroy() {\n      var self = this;\n      self.removeHandlersValuesMinMax();\n      $(this.element).contextMenu(\"destroy\");\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/*\r\n Document   : bizagi.filterMoney\r\n Created on : May 21, 2015, 8:24:00 AM\r\n Author     : Andres Felipe Arenas Vargas\r\n Description: This script will define a base class to handle the filter of a money control\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_moneyFilter', $.filter.bizagi_numberFilter, {\n    _type: \"money\" });\n\n\n})(jQuery);","/*\r\n Document   : bizagi.filterInteger\r\n Created on : May 28, 2021\r\n Author     : Nessler Camargo\r\n Description: This script extends of number filter\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_integerFilter', $.filter.bizagi_numberFilter, {\n\n    /**\r\n                                                                           * Override\r\n                                                                           * @returns {{symbol: string, roundToDecimalPlace: number, eventOnDecimalsEntered: boolean}}\r\n                                                                           * @private\r\n                                                                           */\n    _getFormatOptions: function _getFormatOptions() {\n      var self = this;\n      return formatOptions = {\n        symbol: '',\n        roundToDecimalPlace: -1,\n        eventOnDecimalsEntered: true,\n        digitGroupSymbol: '',\n        decimalSymbol: self.numericFormat.decimalSymbol };\n\n    } });\n\n\n\n\n})(jQuery);","/*\r\n Document   : bizagi.filterDate\r\n Created on : May 21, 2015, 8:24:00 AM\r\n Author     : Andres Felipe Arenas Vargas\r\n Description: This script will define a base class to handle the filter of a date control\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_dateFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpaths) {},\n      setData: function setData() {} },\n\n\n    /**\r\n                                         *\r\n                                         * @private\r\n                                         */\n    _create: function _create() {\n      var self = this;\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindTooltip();\n      self._bindHandlers();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n      var attribute = self.options.properties.attribute;\n\n      self.returnObject = [\n      {\n        properties: {\n          xpath: attribute + '@from',\n          type: 'date',\n          typeSearch: 'range',\n          rangeQuery: 'from' } },\n\n\n      {\n        properties: {\n          xpath: attribute + '@to',\n          type: 'date',\n          typeSearch: 'range',\n          rangeQuery: 'to' } }];\n\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link\" type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\">' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._setValuesOfReturnObject();\n            self._setDisplayTitle(false);\n            options.onApply(self.returnObject, self.element);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var options = self.options;\n      var $opener = $(self.element);\n      var id = '#' + $('.wgd-my-search-filter-pluggin', $opener).attr('id');\n\n      $opener.on('click', function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      var paramsContextMenu = {\n        selector: id,\n        trigger: 'none',\n        items: {\n          key: {\n            name: options.getResource('workportal-my-search-remove-filter'),\n            className: 'ui-bizagi-clear-filters',\n            callback: function callback() {\n              self._removeFilter();\n\n              return true; // False -> To keep the context menu open\n            } },\n\n          from: {\n            name: options.getResource('bz-rp-components-time-from-label'),\n            type: 'text',\n            className: 'ui-bizagi-date-filter-from' },\n\n          to: {\n            name: options.getResource('bz-rp-components-time-to-label'),\n            type: 'text',\n            className: 'ui-bizagi-date-filter-to' },\n\n          buttons: {\n            type: 'contextMenuButtons' // Self structure - see _bindContextMenuButtons\n          } },\n\n        events: {\n          show: function show() {\n            self._disableApply();\n            self._setDisplayLabels();\n          },\n          hide: function hide() {\n            self._getFromControl().datepicker('hide');\n            self._getToControl().datepicker('hide');\n          } } };\n\n\n\n      if (self.options.showButtonClearFilter === true) {\n        paramsContextMenu.items.key = undefined;\n      }\n\n      $opener.contextMenu(paramsContextMenu);\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindTooltip: function _bindTooltip() {\n      var self = this;\n\n      $(self.element).tooltip({\n        items: \"#\" + $(\"div\", self.element).attr(\"id\"),\n        content: function content() {\n          return self.filterValue;\n        } });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n      var $minDate = self._getFromControl();\n      var $maxDate = self._getToControl();\n      var minDate = new Date(self._getDateFromInvariant(self.options.properties.data.min));\n      var maxDate = new Date(self._getDateFromInvariant(self.options.properties.data.max));\n      var dateFormat = bizagi.util.dateFormatter.getDateFormatByDatePickerJqueryUI().toLowerCase();\n\n      $minDate.datepicker({\n        defaultDate: minDate,\n        dateFormat: dateFormat,\n        changeMonth: true,\n        changeYear: true,\n        numberOfMonths: 1,\n        yearRange: '-100:+0',\n        minDate: minDate,\n        maxDate: maxDate,\n        onClose: function onClose(selectedDate) {\n          if (selectedDate) {\n            $maxDate.datepicker('option', 'minDate', selectedDate);\n            if ($maxDate.datepicker(\"getDate\")) {\n              self._enableApply();\n            }\n          } else\n          {\n            self._disableApply();\n          }\n        } });\n\n      $maxDate.datepicker({\n        defaultDate: maxDate,\n        dateFormat: dateFormat,\n        changeMonth: true,\n        changeYear: true,\n        numberOfMonths: 1,\n        yearRange: '-100:+0',\n        minDate: minDate,\n        maxDate: maxDate,\n        onSelect: function onSelect(selectedDate) {\n          if (selectedDate) {\n            $minDate.datepicker('option', 'maxDate', selectedDate);\n            if ($minDate.datepicker(\"getDate\")) {\n              self._enableApply();\n            }\n          } else\n          {\n            self._disableApply();\n          }\n        } });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValues: function _resetValues() {\n      var self = this;\n\n      self._getFromControl().datepicker(\"setDate\", null);\n      self._getToControl().datepicker(\"setDate\", null);\n      self._setReturnObject();\n      self._disableApply();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setValuesOfReturnObject: function _setValuesOfReturnObject() {\n      var self = this;\n      var minDate = self._getFromControl().datepicker(\"getDate\"); //returns null when there is no date\n      var maxDate = self._getToControl().datepicker(\"getDate\"); //returns null when there is no date\n      var dateFormatter = bizagi.util.dateFormatter;\n\n      self.returnObject[0].value = minDate !== null ? dateFormatter.formatInvariant(minDate, false) : dateFormatter.formatInvariant(maxDate, false);\n      self.returnObject[1].value = maxDate !== null ? dateFormatter.formatInvariant(maxDate, false) : dateFormatter.formatInvariant(minDate, false);\n    },\n\n    /**\r\n        *\r\n        * @param toDefault\r\n        * @private\r\n        */\n    _setDisplayTitle: function _setDisplayTitle(toDefault) {\n      var self = this;\n      var $displayTitleControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayTitle = $displayTitleControl.text().split(':');\n\n      if (toDefault) {\n        self.filterValue = \"\";\n        $displayTitleControl.text(displayTitle[0]);\n      } else\n      {\n        var options = self.options;\n        var minDateObj = self._getDateFromInvariant(self.returnObject[0].value);\n        var maxDateObj = self._getDateFromInvariant(self.returnObject[1].value);\n\n        self.filterValue =\n        self._formatDate(minDateObj, options.getResource(\"dateFormat\")) + ' ' +\n        options.getResource('bz-rp-components-time-to-label') + ' ' +\n        self._formatDate(maxDateObj, options.getResource(\"dateFormat\"));\n        $displayTitleControl.text(displayTitle[0] + ': ' + self.filterValue);\n      }\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayLabels: function _setDisplayLabels() {\n      var self = this;\n      var options = self.options;\n      var minDateObj = self._getDateFromInvariant(self.options.properties.data.min);\n      var maxDateObj = self._getDateFromInvariant(self.options.properties.data.max);\n\n      $('.ui-bizagi-date-filter-from span', self.$menuContext).text(\n      options.getResource('bz-rp-components-time-from-label') + ' (' + self._formatDate(minDateObj, options.getResource(\"dateFormat\")) + '):');\n\n      $('.ui-bizagi-date-filter-to span', self.$menuContext).text(\n      options.getResource('bz-rp-components-time-to-label') + ' (' + self._formatDate(maxDateObj, options.getResource(\"dateFormat\")) + '):');\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _enableApply: function _enableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.removeAttr('disabled');\n      $applyControl.removeClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableApply: function _disableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.attr('disabled', 'disabled');\n      $applyControl.addClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @param dateObj\r\n        * @param dateFormat\r\n        * @private\r\n        */\n    _formatDate: function _formatDate(dateObj, dateFormat) {\n      return bizagi.util.dateFormatter.formatDate(dateObj, dateFormat);\n    },\n\n    /**\r\n        *\r\n        * @returns {*|HTMLElement}\r\n        * @private\r\n        */\n    _getFromControl: function _getFromControl() {\n      var self = this;\n      return $('.ui-bizagi-date-filter-from input', self.$menuContext);\n    },\n\n    /**\r\n        *\r\n        * @returns {*|HTMLElement}\r\n        * @private\r\n        */\n    _getToControl: function _getToControl() {\n      var self = this;\n      return $('.ui-bizagi-date-filter-to input', self.$menuContext);\n    },\n\n    /**\r\n        *\r\n        * @param date\r\n        * @param date\r\n        * @private\r\n        */\n    _getDateFromInvariant: function _getDateFromInvariant(date) {\n      return bizagi.util.dateFormatter.getDateFromInvariant(date);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      self.options.onClear([self.returnObject[0].properties.xpath, self.returnObject[1].properties.xpath]);\n      self._setDisplayTitle(true);\n      self._resetValues();\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n    /**\r\n        *\r\n        * @param data\r\n        */\n    setData: function setData(data) {\n      var self = this;\n      self.options.properties.data = Object.getOwnPropertyNames(data).length === 0 ? self.options.properties.data : data;\n\n      var $minDate = self._getFromControl();\n      var $maxDate = self._getToControl();\n      var minDate = new Date(self._getDateFromInvariant(self.options.properties.data.min));\n      var maxDate = new Date(self._getDateFromInvariant(self.options.properties.data.max));\n\n      $minDate.datepicker('option', 'minDate', minDate);\n      $minDate.datepicker('option', 'maxDate', maxDate);\n      $maxDate.datepicker('option', 'minDate', minDate);\n      $maxDate.datepicker('option', 'maxDate', maxDate);\n    },\n\n    /**\r\n        *\r\n        */\n    destroy: function destroy() {\n      $(this.element).contextMenu(\"destroy\");\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/*\r\n Document   : bizagi.filterMoney\r\n Created on : May 21, 2015, 8:24:00 AM\r\n Author     : Andrs Felipe Arenas Vargas\r\n Description: This script will define a base class to handle the filter of a money control\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_textFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpath) {} },\n\n\n    /**\r\n                                              *\r\n                                              * @private\r\n                                              */\n    _create: function _create() {\n      var self = this;\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindHandlers();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link\" type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\">' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._setValue();\n            self._setFilterToDisplayName();\n            options.onApply(self.returnObject, self.element);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var options = self.options;\n      var $opener = $('.wgd-my-search-filter-pluggin', self.element);\n      var id = '#' + $opener.attr('id');\n\n      $opener.on('click', function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      var paramsContextMenu = {\n        selector: id,\n        trigger: 'none',\n        items: {\n          key: { name: options.getResource('workportal-my-search-remove-filter'), className: 'ui-bizagi-clear-filters',\n            callback: function callback() {\n              self._removeFilter();\n\n              return true; // False -> To keep the context menu open\n            } },\n\n          min: { name: options.getResource('workportal-my-search-text'), type: 'text', className: 'ui-bizagi-text-filter' },\n          buttons: { type: 'contextMenuButtons' } },\n\n        events: {\n          show: function show() {\n            self._disableApply();\n          },\n          hide: function hide() {\n          } } };\n\n\n\n      if (self.options.showButtonClearFilter === true) {\n        paramsContextMenu.items.key = undefined;\n      }\n\n      $(self.element).contextMenu(paramsContextMenu);\n\n    },\n\n    /**\r\n        *\r\n        * @returns {*|HTMLElement}\r\n        * @private\r\n        */\n    _getTextControl: function _getTextControl() {\n      var self = this;\n\n      return $('.ui-bizagi-text-filter input', self.$menuContext);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n\n      self._getTextControl().keyup(function () {\n        if ($(this).val() && $(this).val().indexOf(' ') != 0)\n        self._enableApply();else\n\n        self._disableApply();\n      });\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n      self.returnObject = {\n        'properties': {\n          'xpath': self.options.properties.attribute,\n          'type': 'text',\n          'typeSearch': 'approx' } };\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValue: function _resetValue() {\n      var self = this;\n\n      self._setReturnObject();\n      self._disableApply();\n      self._getTextControl().val('');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setValue: function _setValue() {\n      var self = this;\n      var textValue = self._getTextControl().val();\n\n      if (textValue) {\n        self.returnObject.value = textValue;\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _enableApply: function _enableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.removeAttr('disabled');\n      $applyControl.removeClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableApply: function _disableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.attr('disabled', 'disabled');\n      $applyControl.addClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setFilterToDisplayName: function _setFilterToDisplayName() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      $displayNameControl.text(displayName[0] + ': ' + self.returnObject.value);\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayNameToDefault: function _setDisplayNameToDefault() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      $displayNameControl.text(displayName[0]);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      self._resetValue();\n      var xpaths = [self.returnObject.properties.xpath];\n      self._setDisplayNameToDefault();\n      self.options.onClear(xpaths);\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n\n    /**\r\n        *\r\n        * @param data\r\n        */\n    setData: function setData(data) {\n      console.log(data);\n    },\n\n    /**\r\n        *\r\n        */\n    destroy: function destroy() {\n      $(this.element).contextMenu('destroy');\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/**\r\n * Filter multiple plugin creates a tooltip control to show related entity information and select multiple values\r\n *\r\n * @author Andres Fernando Munoz\r\n */\n(function ($) {\n\n  $.widget('filter.bizagi_booleanFilter', {\n    options: {\n      showButtonClearFilter: false,\n      properties: {},\n      onApply: function onApply(data) {},\n      onClear: function onClear(xpath) {},\n      setData: function setData() {} },\n\n\n    /**\r\n                                         *\r\n                                         * @private\r\n                                         */\n    _create: function _create() {\n      var self = this;\n\n      self._addButtonClearFilter();\n      self._setReturnObject();\n      self._bindContextMenuButtons();\n      self._bindContextMenu();\n      self._bindTooltip();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addButtonClearFilter: function _addButtonClearFilter() {\n      var self = this;\n      if (self.options.showButtonClearFilter) {\n        var btnRemoveFilter = \"<i class='bz-icon bz-icon-10 bz-icon-close-outline bz-wp-btn-icon-hover-effect remove-filter' title='\" +\n        bizagi.localization.getResource(\"workportal-my-search-remove-filter\") + \"' style='display:none;'></i>\";\n        $(\".wgd-my-search-filter-pluggin\", self.element).append(btnRemoveFilter);\n      }\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setReturnObject: function _setReturnObject() {\n      var self = this;\n      self.returnObject =\n      {\n        properties: {\n          xpath: self.options.properties.attribute,\n          type: \"boolean\",\n          typeSearch: \"exact\" },\n\n        value: [] };\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenuButtons: function _bindContextMenuButtons() {\n      var self = this;\n      var options = self.options;\n\n      $.contextMenu.types.container = function (item, opt, root) {\n        $('<div id=\"' + item.id + '\" class=\"menu-container\"></div>').appendTo(this);\n      };\n\n      $.contextMenu.types.contextMenuButtons = function (item, opt, root) {\n        self.$menuContext = root.$menu;\n        var htmlButtons = '<div class=\"ui-bizagi-filter-buttons\">';\n        htmlButtons += '<button id=\"ui-bizagi-cancel-filter\" class=\"bz-wp-btn bz-wp-btn-link type=\"button\">' + options.getResource('workportal-general-button-label-cancel') + '</button>';\n        htmlButtons += '<button id=\"ui-bizagi-apply-filter\" class=\"bz-wp-btn bz-wp-btn-primary\" type=\"button\" disabled>' + options.getResource('workportal-general-button-label-apply') + '</button>';\n        htmlButtons += '<div>';\n\n        $(htmlButtons).appendTo(this).on('click', 'button', function () {\n          if ($(this).text() == options.getResource('workportal-general-button-label-apply')) {\n            self._addFilterToDisplayName();\n            options.onApply([self.returnObject], self.element);\n          }\n          root.$menu.trigger('contextmenu:hide'); // hide the menu\n        });\n      };\n    },\n\n    /**\r\n        *\r\n        * @returns {{}}\r\n        * @private\r\n        */\n    _buildContextMenuItems: function _buildContextMenuItems() {\n      var self = this;\n      var options = self.options;\n      var items = {};\n\n      if (self.options.showButtonClearFilter !== true) {\n        items['key'] = {\n          name: options.getResource('workportal-my-search-remove-filter'),\n          className: 'ui-bizagi-clear-filters',\n          callback: function callback() {\n            self._removeFilter();\n            return true; // False -> To keep the context menu open\n          } };\n      }\n      items['container'] = {\n        'id': 'checks_container',\n        type: 'container' };\n\n      items['buttons'] = {\n        type: \"contextMenuButtons\" };\n\n\n      return items;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindContextMenu: function _bindContextMenu() {\n      var self = this;\n      var $opener = $(self.element);\n      var id = '#' + $('.wgd-my-search-filter-pluggin', $opener).attr('id');\n      var items = self._buildContextMenuItems();\n\n      $opener.on('click', function (event) {\n        if ($(event.target).hasClass(\"remove-filter\") && $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).is(\":visible\")) {\n          self._removeFilter();\n        } else\n        {\n          $(id).contextMenu();\n        }\n      });\n\n      $opener.contextMenu({\n        selector: id,\n        trigger: 'none',\n        items: items,\n        events: {\n          show: function show() {\n            self._disableApply();\n            var div = $('#checks_container', self.$menuContext);\n            div.empty();\n            return $.when(self.options.setData()).done(function (data) {\n              var data = typeof data !== 'undefined' ? data.defaultValues : self.options.data.defaultValues;\n              var i = -1,a;\n\n              while (a = data[++i]) {\n                var id = self.returnObject.value === a.id;\n                if (a.id != '' && a.displayName != '') {\n                  div.append('<li><input data-displayname=\"' + a.displayName + '\" type=\"radio\" name=\"boolFilter\" value=\"' + a.id + '\" ' + (id ? 'checked' : '') + '><span class=\"context-menu-item-label-check\">' + self.parseBoolean(a.displayName) + '</span></li>');\n                }\n              }\n              self._bindHandlers();\n            });\n          },\n          hide: function hide() {\n          } } });\n\n\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindTooltip: function _bindTooltip() {\n      var self = this;\n      self.filterValue = self.filterValue || [];\n      $(self.element).tooltip({\n        items: \"#\" + $(\"div\", self.element).attr(\"id\"),\n        content: function content() {\n          if (self.filterValue.length !== 0) {\n            var $container = $(\"<div>\");\n            $.each(self.filterValue, function (index, value) {\n              $container.append($('<div><label>' + self.parseBoolean(value) + '</label></div>'));\n            });\n            return $container;\n          } else\n          {\n            return \"\";\n          }\n        } });\n\n    },\n\n    parseBoolean: function parseBoolean(value) {\n      var valueToLocalize = bizagi.clone(value);\n\n      if (valueToLocalize === 0) {\n        valueToLocalize = \"0\";\n      }\n      if (valueToLocalize === 1) {\n        valueToLocalize = \"1\";\n      }\n\n      if (!valueToLocalize.toLowerCase) {\n        valueToLocalize = valueToLocalize.toString();\n      }\n\n      switch (valueToLocalize.toLowerCase()) {\n        case \"not specified\":\n          valueToLocalize = bizagi.localization.getResource(\"workportal-general-value-undefined\");\n          break;\n        default:\n          valueToLocalize = bizagi.util.formatBoolean(valueToLocalize);\n          break;}\n\n      return valueToLocalize;\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _bindHandlers: function _bindHandlers() {\n      var self = this;\n\n      $('input:radio', self.$menuContext).on('click', function (ev) {\n        ev.stopImmediatePropagation(); //stopping jquery click event handler to be call twice for a checkbox\n        var $target = $(ev.target);\n\n        self.returnObject.value = $target.attr(\"value\");\n        self._enableApply();\n      });\n\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _resetValue: function _resetValue() {\n      var self = this;\n      self.returnObject.value = [];\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _addFilterToDisplayName: function _addFilterToDisplayName() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayText = $displayNameControl.text().split(':');\n      var filtersText = displayText[0] + ': ';\n      self.filterValue = [];\n\n      $(\"input:checked\", self.$menuContext).each(function () {\n        self.filterValue.push($(this).data(\"displayname\"));\n        filtersText = filtersText + self.parseBoolean($(this).data('displayname'));\n      });\n\n      $displayNameControl.text(filtersText);\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).show();\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _setDisplayNameToDefault: function _setDisplayNameToDefault() {\n      var self = this;\n      var $displayNameControl = $('.wgd-my-search-filter-pluggin span', self.element);\n      var displayName = $displayNameControl.text().split(':');\n\n      self.filterValue = [];\n      $displayNameControl.text(displayName[0]);\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _enableApply: function _enableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.removeAttr('disabled');\n      $applyControl.removeClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _disableApply: function _disableApply() {\n      var self = this;\n      var $applyControl = $('#ui-bizagi-apply-filter', self.$menuContext);\n\n      $applyControl.attr('disabled', 'disabled');\n      $applyControl.addClass('ui-state-disabled');\n    },\n\n    /**\r\n        *\r\n        * @private\r\n        */\n    _removeFilter: function _removeFilter() {\n      var self = this;\n      var xpath = self.returnObject.properties.xpath;\n      self.options.onClear([xpath]);\n      self._setDisplayNameToDefault();\n      self._resetValue();\n\n      $(\".wgd-my-search-filter-pluggin .remove-filter\", self.element).hide();\n    },\n\n    /**\r\n        *\r\n        * @param data\r\n        */\n    setData: function setData(data) {\n      var self = this;\n\n      self.options.data = Object.getOwnPropertyNames(data).length === 0 ? self.options.data : data;\n    },\n\n    /**\r\n        *\r\n        */\n    destroy: function destroy() {\n      $(this.element).contextMenu(\"destroy\");\n      $.Widget.prototype.destroy.call(this);\n    } });\n\n})(jQuery);","/*\r\n * Control to search users for Bizagi rendering\r\n * @author: Andrs fernando Muoz\r\n */\n(function ($) {\n  $.fn.bizagiSearchUser = function (options) {\n    var self = this;\n    options = options || {};\n    var filterData = {};\n    var maxPages = 10;\n    var maxRows = 9;\n    var usersResults = [];\n    var currentPage = 1;\n    var totalPages = 0;\n    var dBox = {};\n    var editingUser = options.editingUser;\n\n    if (options.renderFactoryReference === undefined) {\n      throw \"The renderFactoryReference property is required\";\n    }\n    if (options.getResourceReference === undefined) {\n      throw \"The getResourceReference property is required\";\n    }\n\n\n    var methods = {\n      \"init\": function init() {\n        var filterData = {};\n        methods.bindElements();\n      },\n      \"bindElements\": function bindElements() {\n        self.click(function () {\n          methods.openUploadDialog();\n        });\n      },\n      \"openUploadDialog\": function openUploadDialog() {\n        var self = this;\n        var doc = window.document;\n        var dialogBox = self.dialogBox = $(\"<div class='ui-bizagi-component-search-user'/>\");\n        dBox = dialogBox.dialog({\n          width: 950,\n          maximize: false,\n          resize: false,\n          draggable: false,\n          height: 650,\n          title: options.title,\n          modal: true });\n\n        methods.showFilters();\n        methods.showButtons();\n        methods.addHandlers();\n        var defaultParams = methods.setDefaultParams();\n        methods._loadResultsTemplate(defaultParams.usersResults, defaultParams.currentPage, defaultParams.pagination, defaultParams.pagesArray);\n      },\n\n      /**\r\n          * set default params to create a template\r\n          * @returns \r\n          */\n      setDefaultParams: function setDefaultParams() {\n        return {\n          usersResults: [],\n          currentPage: -1,\n          pagination: false,\n          pagesArray: [] };\n\n      },\n      \"showFilters\": function showFilters() {\n        var filtersContainer = $(\"<div id='filtersContainer' class='filters-container clearfix'></div>\");\n        $.each(options.filters, function (index, value) {\n          $(filtersContainer, dBox).append(\"<div class='filters-row clearfix'><div class='filters-cell'><span>\" + options.displayNames[index] + \"</span></div><div class='filters-cell'><input id=\" + value + \" type='text'> </input></div></div>\");\n        });\n        filtersContainer.appendTo(dBox);\n      },\n      \"showButtons\": function showButtons() {\n        var buttonsContainer = $(\"<div id='buttonsContainer'class='biz-wp-buttonset'></div>\");\n        $(buttonsContainer, dBox).append(\"<button id='btnSearchUsers' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'><span class='ui-button-text'>\" + options.searchButtonName + \"</span></button>\");\n        $(buttonsContainer, dBox).append(\"<button id='btnClear' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'><span class='ui-button-text'>\" + options.clearButtonName + \"</span></button>\");\n\n        // Append new user Button\n        if (options.allowAddUser) {\n          var newUserBtn =\n          \"<button id='btnNew' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-hover' role='button' aria-disabled='false'>\" +\n          \"<span class='ui-button-text'>\" +\n          bizagi.localization.getResource(\"workportal-widget-admin-user-profiles-button-label-newUserProfiles\") +\n          \"</span>\" +\n          \"</button>\";\n\n          $(buttonsContainer, dBox).append(newUserBtn);\n          buttonsContainer.appendTo(dBox);\n\n          $(\"#btnNew\", dBox).bizagiCreateUser(options.dataService, options.renderFactory, {\n            canvas: $(dBox),\n            onCreate: options.selectItem(),\n            onCancel: function onCancel() {\n              $(dBox).dialog('option', 'title', options.title);\n              $(dBox).empty();\n\n              methods.showFilters();\n              methods.showButtons();\n              methods.addHandlers();\n            } });\n\n\n        } else\n        {\n          buttonsContainer.appendTo(dBox);\n        }\n      },\n      \"addHandlers\": function addHandlers() {\n        $(\"#btnSearchUsers\", dBox).click(function () {\n          methods.getUsersTableData();\n        });\n\n        $(\"#btnClear\", dBox).click(function () {\n          methods.clickClearPluginValues();\n        });\n        return this;\n      },\n      \"clickClearPluginValues\": function clickClearPluginValues() {\n        $.each(options.filters, function (index, value) {\n          $('#' + value, dBox).val('');\n        });\n        $(\"#searchResults\", dBox).remove();\n      },\n      \"getUsersTableData\": function getUsersTableData() {\n        var self = this;\n        methods.updateFiltersInformation();\n        var deferred = options.searchUsers(filterData);\n        self._loadingList(deferred);\n        $.when(deferred).done(function (data) {\n          if (!Array.isArray(data.users)) {\n            bizagi.showMessageBox(data.message, data.status, \"\", \"warning\");\n            return;\n          }\n          usersResults = data.users;\n          totalPages = data.total;\n          methods.showUsersTable();\n        }).fail(function (error) {\n          options.showError(error);\n        });\n      },\n      \"updateFiltersInformation\": function updateFiltersInformation() {\n        $.each(options.filters, function (index, value) {\n          filterData[value] = $('#' + value, dBox).val();\n        });\n        filterData['pag'] = currentPage;\n        filterData['pagSize'] = maxRows;\n        if (typeof editingUser !== \"undefined\" && editingUser !== \"\") {\n          filterData['editingUser'] = editingUser;\n        }\n      },\n      \"showUsersTable\": function showUsersTable() {\n        if (usersResults.length > 0) {\n          var pagination = totalPages > 1 ? true : false;\n          var pagesArray = methods.getPagesArray();\n          $(\"#biz-wp-wrapperload\", dBox).remove();\n          $(\"#searchResults\", dBox).remove();\n          var usersTableTmpl = methods._loadResultsTemplate(usersResults, currentPage, pagination, pagesArray);\n          $(dBox).append(usersTableTmpl);\n          methods.addTableHandlers();\n          methods.setUpPagination();\n        } else {\n          options.showMessageBox(\"workportal-widget-usertable-empty\");\n          $(\"#searchResults\", dBox).hide();\n        }\n      },\n      /**\r\n          * Load users results template\r\n          * @param {*} usersResults \r\n          * @param {*} currentPage \r\n          * @param {*} pagination \r\n          * @param {*} pagesArray \r\n          * @returns \r\n          */\n      _loadResultsTemplate: function _loadResultsTemplate(usersResults, currentPage, pagination, pagesArray) {\n        var content = options.renderFactoryReference.getTemplate(\"bizagi.plugin.search.user\");\n        var usersTableTmpl = $.tmpl(content, {\n          users: usersResults,\n          links: [options.getResourceReference(\"render-plugin-search-users-select-link\")],\n          page: currentPage,\n          pagination: pagination,\n          pagesArray: this.getPagesArray });\n\n        $(dBox).append(usersTableTmpl);\n        usersResults.length === 0 ? $(\"#searchResults\", dBox).hide() : '';\n        return usersTableTmpl;\n      },\n      \"addTableHandlers\": function addTableHandlers() {\n        $('table :button', dBox).click(function () {\n          var buttonSelf = $(this);\n          var itemSelected = {};\n          $.each(options.valuesToSelect, function (index, value) {\n            itemSelected[value] = buttonSelf.data(value);\n          });\n          var selItemDeferred = options.selectItem();\n          selItemDeferred.resolve(itemSelected);\n          dBox.remove();\n        });\n      },\n      \"getPagesArray\": function getPagesArray() {\n        var pagesToShow = maxPages > totalPages ? totalPages : maxPages;\n        var aux = [];\n        for (var a = 0; a < pagesToShow; a++) {\n          aux.push(a + 1);\n        }\n        return aux;\n      },\n      \"setUpPagination\": function setUpPagination() {\n        var self = this;\n        var $pager = $(\"#biz-wp-userstable-pager ul\", dBox);\n        $pager.bizagiPagination({\n          maxElemShow: maxRows,\n          totalPages: totalPages,\n          actualPage: currentPage,\n          listElement: $pager,\n          clickCallBack: function clickCallBack(options) {\n            filterData.pag = currentPage = parseInt(options.page);\n            self.getUsersTableData();\n          } });\n\n      },\n      /**\r\n          * show loader or user list\r\n          * @param {*} defer \r\n          */\n      _loadingList: function _loadingList(defer) {\n        var $loader = $(\"#biz-wp-wrapperload\", dBox),\n        $list = $(\"#searchResults\", dBox),\n        _start = function _start() {\n          $loader.show();\n          $list.hide();\n        },\n        _end = function _end() {\n          $loader.hide();\n          $list.show();\n        };\n\n        _start();\n        defer.always(_end);\n      } };\n\n\n    methods.init();\n    return methods;\n  };\n\n})(jQuery);","/**\r\n * Name: Bizagi Workportal Desktop Paginator Controller\r\n * Author: Mauricio Snchez\r\n */\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.paginator\", {}, {\n  /**\r\n                                                                                      *   Constructor\r\n                                                                                      */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n    //Load templates\n    self.loadTemplates({\n      \"paginator\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.paginator\").concat(\"#paginator-wrapper\"),\n      \"content\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.paginator\").concat(\"#paginator-content\") });\n\n  },\n\n  /**\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var hide = self.params.referenceType === \"ENTITY\";\n    var template = self.getTemplate(\"paginator\" + self.getSuffixWidget());\n    self.content = template.render({ hide: hide });\n\n    return self.content;\n  },\n\n  /**\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    self.sub(\"PAGINATOR-UPDATE\", $.proxy(self.updateView, self));\n    self.configureHandlers();\n  },\n\n  /**\r\n      *\r\n      * @returns {string}\r\n      */\n  getSuffixWidget: function getSuffixWidget() {\n    return \"\";\n  },\n\n\n  /**\r\n      * Updates la view with the data related to entity:\r\n      * Name entity\r\n      * Number of records\r\n      * Number of pages\r\n      * */\n  updateView: function updateView(ev, params) {\n    var self = this;\n    var args = params.args;\n    var hide = args.referenceType === \"ENTITY\";\n    var $content = self.getContent();\n\n    self.setModel(args);\n    $content.empty();\n\n    if (args.fromActionLauncher) {\n      if (self.totalRecords > 1) {\n        renderTemplate();\n      } else\n      {\n        self.clean();\n      }\n    } else\n    {\n      renderTemplate();\n    }\n\n    /**\r\n       *\r\n       */\n    function renderTemplate() {\n      var contentTemplate = self.getTemplate(\"content\" + self.getSuffixWidget());\n\n      contentTemplate.render({\n        totalRecords: self.totalRecords,\n        totalPages: self.totalPages,\n        displayName: self.displayName,\n        currentPage: self.currentPage,\n        hide: hide }).\n      appendTo($content);\n    }\n  },\n\n  /**\r\n      * Builds the navigation model\r\n      */\n  setModel: function setModel(args) {\n    var self = this;\n\n    self.totalRecords = typeof args.totalRecords == \"undefined\" ? self.totalRecords : args.totalRecords;\n    self.totalPages = args.totalPages || self.totalPages;\n    self.displayName = args.histName || self.displayName;\n    self.currentPage = args.currentPage || self.currentPage;\n    self.action = args.action;\n    self.reference = args.reference || self.reference;\n    self.surrogateKey = args.surrogateKey || self.surrogateKey;\n    self.referenceType = args.referenceType;\n    self.event = args.event;\n    self.guidSearch = args.guidSearch;\n  },\n\n  /**\r\n      *  Gets the current model\r\n      */\n  getModel: function getModel() {\n    var self = this;\n\n    return {\n      page: self.currentPage,\n      totalRecords: self.totalRecords,\n      action: self.action,\n      reference: self.reference,\n      surrogateKey: self.surrogateKey,\n      referenceType: self.referenceType,\n      stopNavigation: true,\n      guidSearch: self.guidSearch };\n\n  },\n\n  /**\r\n      *  Binds events to handles\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this,\n    $content = self.getContent();\n\n    $content.on(\"click\", $.proxy(self.onPageBreak, self));\n  },\n\n  /**\r\n      * This event get a new page\r\n      */\n  onPageBreak: function onPageBreak(ev) {\n    var self = this,\n    $target = $(ev.target),\n    $content = self.getContent();\n\n    if ($target.hasClass(\"control-icon\") && !$target.hasClass(\"ui-state-disabled\")) {\n      var type = $target.data(\"type\");\n\n      if (type == \"forward\") {\n        self.currentPage += 1;\n      } else\n      if (type == \"rewind\") {\n        self.currentPage -= 1;\n      } else\n      if (type == \"fastrewind\") {\n        self.currentPage = 1;\n      } else\n      {\n        self.currentPage = self.totalPages;\n      }\n\n      self.disabledPaginatorButtonsByLimits();\n      $content.find(\".paginator-controls__currentPage\").text(self.currentPage);\n\n      self.pub(\"notify\", { type: \"UPDATE-DATATEMPLATE-VIEW\", args: self.getModel() });\n    }\n  },\n\n  disabledPaginatorButtonsByLimits: function disabledPaginatorButtonsByLimits() {\n    var self = this;\n    var $buttonFastRewind = $(\"[data-type='fastrewind']\", self.content);\n    var $buttonRewind = $(\"[data-type='rewind']\", self.content);\n    var $buttonFordward = $(\"[data-type='forward']\", self.content);\n    var $buttonFastFordward = $(\"[data-type='fastforward']\", self.content);\n\n    if (self.totalPages === 1) {\n      $buttonFastRewind.addClass(\"ui-state-disabled\");\n      $buttonRewind.addClass(\"ui-state-disabled\");\n      $buttonFordward.addClass(\"ui-state-disabled\");\n      $buttonFastFordward.addClass(\"ui-state-disabled\");\n    } else {\n      // The first page\n      if (self.currentPage === 1) {\n        $buttonFastRewind.addClass(\"ui-state-disabled\");\n        $buttonRewind.addClass(\"ui-state-disabled\");\n        $buttonFordward.removeClass(\"ui-state-disabled\");\n        $buttonFastFordward.removeClass(\"ui-state-disabled\");\n      }\n      // the last page\n      else if (self.currentPage === self.totalPages) {\n          $buttonFastRewind.removeClass(\"ui-state-disabled\");\n          $buttonRewind.removeClass(\"ui-state-disabled\");\n          $buttonFordward.addClass(\"ui-state-disabled\");\n          $buttonFastFordward.addClass(\"ui-state-disabled\");\n        }\n        // other page\n        else {\n            $buttonFastRewind.removeClass(\"ui-state-disabled\");\n            $buttonRewind.removeClass(\"ui-state-disabled\");\n            $buttonFordward.removeClass(\"ui-state-disabled\");\n            $buttonFastFordward.removeClass(\"ui-state-disabled\");\n          }\n    }\n  },\n  /**\r\n      * Returns a new page close to the first item above based on the previous page\r\n      * @param {*} newItemsPerPage new value in results per page in search\r\n      * @param {*} previousItemsPerPage previous value in results per page\r\n      * @param {*} previousPage previous value in page number\r\n      */\n  calculateNewPage: function calculateNewPage(newItemsPerPage, previousItemsPerPage, previousPage) {\n    previousItemsPerPage = previousItemsPerPage || 10;\n    var currentFirstItem = previousItemsPerPage * previousPage - previousItemsPerPage + 1;\n    var newPage = Math.ceil(currentFirstItem / newItemsPerPage);\n    return newPage ? newPage : 1;\n  },\n\n  /**\r\n      *\r\n      */\n  clean: function clean() {\n    var self = this;\n    var $content = self.getContent();\n\n    if ($content) {\n      $content.empty();\n    }\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.paginator\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.paginator]);","/**\r\n * Name: Bizagi Workportal Desktop Sort Bar Controller\r\n * Author: Danny Gonzalez\r\n */\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.sortbar\", {}, {\n  /**\r\n                                                                                    * Constructor\r\n                                                                                    * @param workportalFacade\r\n                                                                                    * @param dataService\r\n                                                                                    * @param processActionService\r\n                                                                                    * @param accumulatedcontext\r\n                                                                                    * @param params\r\n                                                                                    */\n  init: function init(workportalFacade, dataService, processActionService, accumulatedcontext, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"sortbar\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.sortbar\").concat(\"#sortbar-wrapper\"),\n      \"content\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.sortbar\").concat(\"#sortbar-content\"),\n      \"right-content\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.sortbar\").concat(\"#sortbar-right\"),\n      \"addButton\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.sortbar\").concat(\"#sortbar-content-add-button\"),\n      \"sortMenu\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.sortbar\").concat(\"#sortbar-sort-menu\"),\n      \"actions\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.sortbar\").concat(\"#sortbar-content-actions\"),\n      \"recordsPerPage\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.sortbar\").concat(\"#sortbar-records-per-page\"),\n      \"recordsMenu\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.sortbar\").concat(\"#sortbar-records-menu\") });\n\n\n    self.processActionService = processActionService;\n    self.accumulatedcontext = accumulatedcontext;\n  },\n\n  /**\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"sortbar\");\n    self.content = template.render({ enableFilter: true });\n    self.$checkAll = self.content.find(\".sortbar-left-check-uncheck input\");\n\n    return self.content;\n  },\n\n  /**\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    var template = self.getTemplate(\"right-content\");\n    self.setVisibleSortbar(true);\n    self.configureHandlers();\n    $(\".sortbar-right\", self.content).append(template.render());\n    self.configureAfterPaintHandlers();\n  },\n\n  /**\r\n      * Binds events to handles\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this,\n    $content = self.getContent();\n\n    self.sub(\"TEMPLATEENGINE-VIEW\", $.proxy(self.initializeAndProcessFilterButton, self));\n    self.sub(\"SEARCH-ENGINE-VIEW\", $.proxy(self.initializeAndProcessFilterButton, self));\n    self.sub(\"SET-FILTERS-DATA\", $.proxy(self.setFiltersSortData, self));\n    self.sub(\"HIDE-FILTER-BUTTONANDBAR\", $.proxy(self.hideFilterButtonAndBar, self));\n    self.sub(\"HIDE-SORT-BUTTONS\", $.proxy(self.hideSortButtons, self));\n    self.sub(\"ENABLE-BATCHS-ACTIONS\", function (ev, args) {return self.enableBatchActions(args);});\n    self.sub(\"UPDATE-COUNTER-FILTERS-APPLIED\", function (ev, args) {return self.updateCounterByFilterApplied(args);});\n    self.sub(\"CASES-TEMPLATE-VIEW\", function (ev, args) {self.showingFiltering = false;self.setVisibleCheckAll(false);});\n    self.sub(\"SOME-ITEM-ALLOW-SELECT\", function (ev, args) {self.setVisibleCheckAll(true);});\n    self.sub(\"HIDE-CHECK-ALL\", function (ev, args) {self.setVisibleCheckAll(false);});\n    self.sub(\"BATCH-ACTIONS\", function (ev, args) {return self.validActions(args.args.actionsData);});\n\n    $content.find(\".wgd-sortbar-add-button\").tooltip();\n    self.$checkAll.on(\"click\", $.proxy(self.onCheckUncheck, self));\n  },\n\n  /**\r\n      * Configure Handlers\r\n      */\n  configureAfterPaintHandlers: function configureAfterPaintHandlers() {\n    var self = this,\n    $content = self.getContent();\n\n    // Show sort menu\n    $content.find(\".right-menu\").on(\"click\", function (ev) {\n      self.showSortMenu(ev, $(this));\n    });\n\n    // Show records menu\n    $content.find(\".records-menu\").on(\"click\", function (ev) {\n      self.showRecordsMenu(ev, $(this));\n    });\n\n    // Change sort type\n    $content.find(\".sortbar-az\").on(\"click\", function () {\n      if (self.sortSelection.attribute) {\n        self.setIconSortType($(this), self._sortType);\n\n        self.pub(\"notify\", { type: \"SET-ORDERBY\", args: {\n            properties: {\n              xpath: self.sortSelection.attribute,\n              orderType: self._sortType,\n              typeSearch: \"none\" } } });\n\n\n      }\n    });\n    // Show filter bar\n    $content.find(\".filter-icon\").on(\"click\", function () {\n      self.pub(\"notify\", { type: \"OPENCLOSE-MYSEARCHFILTER\", args: { guidSearch: self.params.guidSearch, target: $(this) } });\n    });\n\n    $(\".remove-selected-items-collections\", $content).on(\"click\", $.proxy(self.onRemoveSelectedItemsCollections, self));\n  },\n\n  /**\r\n      * Shor or hide sortbar\r\n      * @param visible\r\n      */\n  setVisibleSortbar: function setVisibleSortbar(visible) {\n    var self = this;\n    var $content = self.getContent();\n    if (visible) {\n      $content.show();\n    } else\n    {\n      $content.hide();\n    }\n  },\n\n  /**\r\n      * Show or hide check input (select all)\r\n      * @param visible\r\n      */\n  setVisibleCheckAll: function setVisibleCheckAll(visible) {\n    var self = this;\n    if (visible) {\n      self.$checkAll.closest(\".border-check-uncheck\").show();\n      self.showingCheckAll = true;\n    } else\n    {\n      self.$checkAll.closest(\".border-check-uncheck\").hide();\n      self.showingCheckAll = false;\n    }\n  },\n\n  /**\r\n      * Show number items selected from data items (from casetemplate or entityTemplates)\r\n      * @param numberCheckedItems\r\n      */\n  showSelectedItems: function showSelectedItems(numberCheckedItems) {\n    var self = this;\n    if (numberCheckedItems && numberCheckedItems > 0) {\n      self.content.addClass(\"there-are-actions\");\n\n      var keywordSelected = self.getResource(\"workportal-general-word-selected-singular\");\n      if (numberCheckedItems > 1) {\n        keywordSelected = self.getResource(\"workportal-general-word-selected-plural\");\n      }\n      $(\".actions-count-selected\", self.content).text(numberCheckedItems + \" \" + keywordSelected + \" \");\n    } else\n    {\n      self.content.removeClass(\"there-are-actions\");\n    }\n  },\n\n  /**\r\n      * Set icon descending or ascending\r\n      * @param button represents icon ascending or descending\r\n      * @param sortTypeBeforeChanged\r\n      */\n  setIconSortType: function setIconSortType(button, sortTypeBeforeChanged) {\n    var self = this;\n    if (sortTypeBeforeChanged === \"asc\") {\n      self._sortType = \"desc\";\n      button.removeClass(\"bz-icon-order-ascendant-outline\").addClass(\"bz-icon-order-descendant-outline\");\n    } else\n    {\n      self._sortType = \"asc\";\n      button.removeClass(\"bz-icon-order-descendant-outline\").addClass(\"bz-icon-order-ascendant-outline\");\n    }\n  },\n\n  /**\r\n      *\r\n      * @param event\r\n      */\n  onClickBatchAction: function onClickBatchAction(event) {\n    var self = this;\n    var $buttonLI = $(event.target).closest(\"li\");\n    var guidAction = $buttonLI.data(\"guid\");\n    var action = self.getAction(guidAction);\n\n    if (!self.requestsInProgressActionGuid[guidAction]) {\n      self.requestsInProgressActionGuid[guidAction] = true;\n\n      self.addLoadingButtonAction($buttonLI);\n\n      $.when(self.processActionService.executeBatchAction({\n        action: action,\n        commonActionsmodel: self.commonActionsmodel })).\n      always(function () {\n        self.quitLoadingButtonAction($buttonLI);\n        self.requestsInProgressActionGuid[guidAction] = undefined;\n      });\n    }\n  },\n\n  /**\r\n      * Add loading to button\r\n      */\n  addLoadingButtonAction: function addLoadingButtonAction($button) {\n    $button.find(\".wdg-tple-button\").addClass(\"state-loading\");\n    $button.find(\".wdg-tple-button\").prepend(\"<div class=\\\"ui-bizagi-loading-icon ui-bizagi-loading-button\\\"></div>\").find(\"i\").hide();\n  },\n\n  /**\r\n      * quit loading to button\r\n      */\n  quitLoadingButtonAction: function quitLoadingButtonAction($button) {\n    $button.find(\".wdg-tple-button\").removeClass(\"state-loading\");\n    $button.find(\".ui-bizagi-loading-button\").remove();\n    $button.find(\"i\").show();\n  },\n\n  /**\r\n      *\r\n      */\n  onRemoveSelectedItemsCollections: function onRemoveSelectedItemsCollections() {\n    var self = this;\n    var commonActions = self.pub(\"notify\", { type: \"SET-VALUES\", args: { value: false } })[0];\n    self.enableBatchActions({ args: { commonActions: commonActions } });\n  },\n\n  /**\r\n      * Show the sort menu\r\n      * @param ev\r\n      * @param $parent\r\n      */\n  showSortMenu: function showSortMenu(ev, $parent) {\n    var self = this;\n    var $content = self.getContent();\n    var template = self.getTemplate(\"sortMenu\");\n    var tooltip = template.render({ filters: self._filters }, {\n      displayValue: function displayValue(val) {\n        return val;\n      } });\n\n    if ($(\".sortbar-box-menu\", $parent).length) {\n      $(\".sortbar-box-menu\", $parent).remove();\n    }\n\n    $parent.append(tooltip);\n    tooltip.show(\"fast\", function () {\n      tooltip.click(function (e) {\n        e.stopPropagation();\n      });\n      $(document).one(\"click\", function () {\n        tooltip.hide(\"fast\");\n        tooltip.remove();\n      });\n    });\n\n    //Configure handler to each action\n    $content.find(\".sortbar-option\").on(\"click\", function (ev) {\n      var data = $(ev.currentTarget).data();\n      var sortSelection = self._filters[data.index];\n      $content.find(\".sortbar-az\").removeClass(\"disabled\");\n\n      if (self.sortSelection != sortSelection) {\n        self.sortSelection = sortSelection;\n        $(\".sortbar-selected\", $parent).text(self.sortSelection.display.split(\".\").pop());\n        self.pub(\"notify\", { type: \"SET-ORDERBY\", args: {\n            properties: {\n              xpath: sortSelection.attribute,\n              orderType: self._sortType,\n              typeSearch: \"none\" } } });\n\n\n      }\n      tooltip.hide(\"fast\");\n    });\n  },\n\n  showRecordsMenu: function showRecordsMenu(ev, $parent) {\n    var self = this;\n    var $content = self.getContent();\n    var template = self.getTemplate(\"recordsMenu\");\n    var tooltip = template.render({});\n\n    if ($(\".sortbar-records-box-menu\", $parent).length) {\n      $(\".sortbar-records-box-menu\", $parent).remove();\n    }\n\n    $parent.append(tooltip);\n    tooltip.show(\"fast\", function () {\n      tooltip.click(function (e) {\n        e.stopPropagation();\n      });\n      $(document).one(\"click\", function () {\n        tooltip.hide(\"fast\");\n        tooltip.remove();\n      });\n    });\n\n    // Configure handler to each action\n    $content.find(\".sortbar-records-option\").on(\"click\", function (ev) {\n      self.oldPageSize = self.oldPageSize ? self.oldPageSize : 10;\n      var pageSize = Number(bizagi.util.trim(this.textContent)),\n      paginator = bizagi.injector.get(\"bizagi.workportal.widgets.paginator\"),\n      actualPage = paginator.currentPage ? paginator.currentPage : 1,\n      newPage = paginator.calculateNewPage(pageSize, self.oldPageSize, actualPage);\n      $(\".sortbar-records-selected\", $parent).text(pageSize);\n      self.pub(\"notify\", {\n        type: \"SET-RECORDS\",\n        args: {\n          pageSize: pageSize,\n          page: newPage } });\n\n\n      self.oldPageSize = pageSize;\n      tooltip.hide(\"fast\");\n    });\n  },\n\n  /**\r\n      * Asigna los parametros iniciales de la busqueda e inicializa los objetos\r\n      * @param e\r\n      * @param params\r\n      */\n  initializeAndProcessFilterButton: function initializeAndProcessFilterButton(e, params) {\n    var self = this;\n\n    self.showingFiltering = false;\n    self.setVisibleCheckAll(false);\n\n    self.restoreOrderSelected();\n    self.setIconSortType($(\".sortbar-az\", self.content), \"desc\");\n    self.params = params.args;\n    self.sortSelection = {};\n\n    self.processAddButton(e, params);\n  },\n\n  /**\r\n      *  Checks if the add button should be displayed\r\n      */\n  processAddButton: function processAddButton(ev, params) {\n    var self = this,\n    $content = self.getContent(),\n    args = params.args,\n    action = args.action,\n    $buttonContainer = $content.find(\".sortbar-left .add-button\");\n    self._lastReferenceEntity = args.reference;\n    $buttonContainer.children().remove();\n    $(\".wrapper-sortbar-actions\", $content).remove(); //Remove same time buttons batch actions\n    self._haveAddButton = false;\n    if (args.reference && args.referenceType !== \"ENTITY\") {\n      $buttonContainer.startLoading({ delay: 0, overlay: true });\n      self.dataService.getProcessAddAction(params).done(function (data) {\n        if (self._lastReferenceEntity === data.referenceEntity) {\n          if (typeof data !== \"undefined\" && Object.getOwnPropertyNames(data).length > 1 && data.guidEntity && data.id) {\n            self.renderButton($buttonContainer, data);\n          }\n        }\n      }).always(function () {\n        $buttonContainer.endLoading();\n      });\n    } else\n    if (action) {\n      self.renderButton($buttonContainer, action);\n    }\n  },\n\n  /**\r\n      *\r\n      */\n  renderButton: function renderButton($buttonContainer, action) {\n    var self = this,\n    template = self.getTemplate(\"addButton\"),\n    $addButton = template.render({ action: action });\n\n    $buttonContainer.empty();\n    $addButton.appendTo($buttonContainer);\n    self._haveAddButton = true;\n    $addButton.on(\"click\", function () {self.clickAddButton(action);});\n  },\n\n  /**\r\n      * Click on add Proccess btn\r\n      */\n  clickAddButton: function clickAddButton(action) {\n    var self = this;\n\n    $.when(self.dataService.getMapping({\n      guidEntity: action.guidEntity,\n      accumulatedContext: self.accumulatedcontext.getContext({}),\n      xpathContext: action.type === \"Process\" ? action.xpathContext : \"\",\n      collectionId: action.referenceEntity,\n      collectionType: action.referenceType })).\n    done(function (mappingData) {\n      if (action.type === \"Process\") {\n        self.onExecuteProcess(action, mappingData);\n      } else\n      {\n        self.onExecuteForm(action, mappingData);\n      }\n    });\n  },\n\n  /**\r\n      * Check or uncheck all registers related, could be cases or data\r\n      */\n  onCheckUncheck: function onCheckUncheck(ev) {\n    var self = this;\n    var $target = $(ev.target);\n    var isChecked = $target.is(\":checked\");\n    var commonActions = self.pub(\"notify\", { type: \"SET-VALUES\", args: { value: isChecked } })[0];\n\n    self.enableBatchActions({ args: { commonActions: commonActions } });\n  },\n\n  /**\r\n      * Enabled / disables the batch actions. This method is called always update data\r\n      */\n  enableBatchActions: function enableBatchActions(params) {\n    var self = this;\n    var args = params.args;\n    var commonActionsModel = self.commonActionsmodel = args.commonActions;\n    var actions = self.validActions(commonActionsModel.actions);\n    if (actions.length > 0 || self._haveAddButton) {\n      $(self.getContent()).show();\n    }\n    self.showBatchActions(actions, commonActionsModel, \"batchAction\");\n\n    if (commonActionsModel.checkAll !== undefined) {\n      self.$checkAll.prop(\"checked\", commonActionsModel.checkAll);\n    }\n  },\n\n  /**\r\n      * Show batch actions\r\n      * @param actions\r\n      * @param commonActionsModel\r\n      * @param typeActions\r\n      */\n  showBatchActions: function showBatchActions(actions, commonActionsModel, typeActions) {\n    var self = this;\n    var $content = self.getContent();\n    var template = self.getTemplate(\"actions\");\n\n    self.showSelectedItems(Object.keys(commonActionsModel.itemsSelected).length);\n\n    var moreActions = actions.slice(3, 9999);\n\n    var $actions = template.render({ actions: actions.slice(0, 3), moreActions: moreActions, typeActions: typeActions });\n\n    $(\".wdg-tple-button.batchAction\", self.content).off(\"click\", $.proxy(self.onClickBatchAction, self));\n\n    $(\".wrapper-sortbar-actions\", $content).remove();\n    $(\".sortbar-left .sortbar-menu\", $content).append($actions);\n\n    $(\".wdg-tple-button.batchAction\", self.content).on(\"click\", $.proxy(self.onClickBatchAction, self));\n\n    if (moreActions.length > 0) {\n      if (self.content.data('ui-tooltip')) {\n        $(self.content).tooltip(\"destroy\");\n      }\n\n      $(self.content).tooltip({\n        tooltipClass: \"sortbar-tooltip-more-actions\",\n        items: \".bz-actions-showmore\",\n        content: $(\".template-box-tooltip\", self.content).html(),\n        open: function open(event, ui)\n        {\n          $(\".wdg-tple-button.batchAction\", ui.tooltip).on(\"click\", $.proxy(self.onClickBatchAction, self));\n\n          var uiTooltip = $('div.ui-tooltip');\n\n          if (typeof event.originalEvent === 'undefined')\n          {\n            uiTooltip.remove();\n            return false;\n          }\n          var $id = $(ui.tooltip).attr('id');\n          // close any lingering tooltips\n          uiTooltip.not('#' + $id).remove();\n          // ajax function to pull in data and add it to the tooltip goes here\n\n          for (var keyActionGuid in self.requestsInProgressActionGuid) {\n            if (self.requestsInProgressActionGuid[keyActionGuid]) {\n              var $buttonAction = $(\"li[data-guid='\" + keyActionGuid + \"']\", ui.tooltip);\n              self.addLoadingButtonAction($buttonAction);\n            }\n          }\n\n          $(\"li[id='emptyLi0']\").focus(function () {\n            $(\"div.bz-actions-showmore.ellipsis-icon\")[0].focus();\n            $(\"ul[class='actions-container'] li:nth-child(3\")[0].focus();\n          });\n          $(\"li[id='emptyLi1']\").focus(function () {\n            $(\"div.bz-actions-showmore.ellipsis-icon\")[0].focus();\n            $(\"a.remove-selected-items-collections\")[0].focus();\n          });\n          $(\"li\", ui.tooltip)[1].focus();\n\n        },\n        close: function close(event, ui)\n        {\n          ui.tooltip.hover(function ()\n          {\n            $(this).stop(true).fadeTo(400, 1);\n          },\n          function ()\n          {\n            $(this).fadeOut('400', function ()\n            {\n              $(\".wdg-tple-button.batchAction\", this).off(\"click\", $.proxy(self.onClickBatchAction, self));\n              $(this).remove();\n            });\n          });\n        } });\n\n    }\n  },\n\n  /**\r\n      * Define the data on order to show the sort options\r\n      * @param ev\r\n      * @param params\r\n      */\n  setFiltersSortData: function setFiltersSortData(ev, params) {\n    var self = this;\n    var filtersAppliedCounter = params.args.filtersAppliedCounter;\n    var totalRecords = params.args.totalRecords;\n    self._filters = params.args.calculateFilters ? params.args.filters : self._filters;\n\n    if (params.args.calculateFilters) {\n      var i = -1,a,filterCounter = 0,sortCounter = 0;\n      while (a = self._filters[++i]) {\n        if (a.type != \"Text\" && a.type !== \"Link\" && a.data && (a.data.defaultValues && a.data.defaultValues.length > 0 || a.data.min && a.data.max)) {\n          filterCounter++;\n        }\n        if (a.display !== \"\") {\n          sortCounter++;\n        }\n      }\n\n      if (totalRecords > 0) {\n        // Si existen filtros, muestre el boton\n        if (filterCounter > 0) {\n          self.showFilterButton();\n        } else\n        {\n          self.hideFilterButton();\n        }\n        // Si existen filtros que tienen display name, muestre los botones de sort\n        if (sortCounter > 0) {\n          self.showSortButtons();\n        } else\n        {\n          self.hideSortButtons();\n        }\n      }\n      // Si no hay registros y ni se ha aplicado ningun filtro ocultar\n      // los botones del sortbar\n      else if (filtersAppliedCounter === 0) {\n          self.hideFilterButton();\n          self.hideSortButtons();\n        }\n    }\n    self.updateCounter(filtersAppliedCounter);\n  },\n\n  /**\r\n      * Show Filter Button\r\n      */\n  showFilterButton: function showFilterButton() {\n    var self = this;\n    $(\".filter-icon\", self.getContent()).show();\n  },\n\n  /**\r\n      * Hide Filter Button\r\n      */\n  hideFilterButton: function hideFilterButton() {\n    var self = this;\n    $(\".filter-icon\", self.getContent()).hide();\n    self.showingFiltering = false;\n  },\n\n  /**\r\n      * Show Sort Buttons\r\n      */\n  showSortButtons: function showSortButtons() {\n    var self = this;\n    $(\".sortbar-text\", self.getContent()).show();\n    $(\".sortbar-icon\", self.getContent()).show();\n    $(\".sortbar-az\", self.getContent()).show();\n\n    self.showingSorting = true;\n    self.showingFiltering = true;\n  },\n\n  /**\r\n      * Hide Sort Buttons\r\n      */\n  hideSortButtons: function hideSortButtons() {\n    var self = this;\n    var $sortbarIcon = $(\".sortbar-az\", self.getContent());\n\n    // Restore initial settings\n    $(\".sortbar-text\", self.getContent()).hide();\n\n    $sortbarIcon.addClass(\"disabled\");\n    $sortbarIcon.removeClass(\"bz-icon-order-ascendant-outline\");\n    $sortbarIcon.removeClass(\"bz-icon-order-descendant-outline\");\n    $sortbarIcon.addClass(\"bz-icon-order-ascendant-outline\");\n    $sortbarIcon.hide();\n\n    self.showingSorting = false;\n  },\n\n  /**\r\n      * Restore Order by Option\r\n      */\n  restoreOrderSelected: function restoreOrderSelected() {\n    var self = this;\n    $(\".sortbar-selected\", self.getContent()).text(self.getResource(\"workportal-my-search-order-by\"));\n  },\n\n  /**\r\n      * Set number filters\r\n      * @param params\r\n      */\n  updateCounterByFilterApplied: function updateCounterByFilterApplied(params) {\n    var self = this;\n    if (params.args.filtersApplied) {\n      self.updateCounter(params.args.filtersApplied.length);\n    }\n  },\n\n  /**\r\n      *\r\n      * @param counter\r\n      */\n  updateCounter: function updateCounter(counter) {\n    var self = this,\n    $content = self.getContent(),\n    $counter = $(\".counter-filters-applied\", $content);\n\n    if (counter > 0) {\n      $counter.html(counter);\n      $counter.show();\n    } else\n    {\n      $counter.hide();\n    }\n  },\n\n  /**\r\n      *\r\n      */\n  hideFilterButtonAndBar: function hideFilterButtonAndBar() {\n    var self = this;\n    self.showingFilter = false;\n    $(\".filter-icon\", self.getContent()).hide();\n    self.pub(\"notify\", { type: \"CLOSE-MYSEARCHFILTER\", args: { \"show\": false, \"$target\": null } });\n  },\n\n  /**\r\n      * Creates a new case, it could has start form or not\r\n      */\n  onExecuteProcess: function onExecuteProcess(action, mappingData) {\n    var self = this;\n\n    if (action.startForm) {\n      action.hasStartForm = action.startForm;\n    }\n\n    $.when(self.processActionService.executeProcessAction({\n      action: action,\n      mappingData: mappingData })).\n    done(function (params) {\n      var params = params || {};\n\n      if (!!params && params.refreshTemplateData !== false) {\n        self.loadTemplateData(action);\n      }\n    });\n  },\n\n  /**\r\n      *\r\n      * @param action\r\n      */\n  loadTemplateData: function loadTemplateData(action) {\n    var self = this;\n    self.pub(\"notify\", { type: \"TEMPLATEENGINE-VIEW\", args: { action: action, isRefresh: true } });\n  },\n\n  /**\r\n      *\r\n      */\n  onExecuteForm: function onExecuteForm(action, mappingData) {\n    var self = this;\n\n    $.when(self.processActionService.executeFormAction({\n      action: action,\n      mappingData: mappingData })).\n    done(function (data) {\n      if (data.refresh) {\n        self.pub(\"notify\", { type: \"UPDATE-DATATEMPLATE-VIEW\", args: { action: action, isRefresh: true, calculateFilters: true } });\n      }\n    });\n  },\n\n  /**\r\n      * Returns the action required\r\n      */\n  getAction: function getAction(guidAction) {\n    var self = this;\n    return self.commonActionsmodel.actions.filter(function (action) {\n      return action.id == guidAction;\n    })[0];\n  },\n\n  /**\r\n      * Returns an array with the valid actions\r\n      * @param actions\r\n      * @return {*}\r\n      */\n  validActions: function validActions(actions) {\n    return $.grep(actions, function (action) {\n      if (action.multiplicity == 2) {return true;}\n      if (action.mode == \"Collection\") {return false;}\n      if (action.type == \"Form\") {return false;}\n      if (action.isEvent) {return false;}\n      if (action.type == \"Process\" && action.hasStartForm) {return false;}\n      return true;\n    });\n  },\n\n  /**\r\n      * Detach handlers\r\n      */\n  clean: function clean() {\n    var self = this,\n    $content = self.getContent();\n    self.requestsInProgressActionGuid = {};\n\n    if ($content) {\n      self.unsub(\"TEMPLATEENGINE-VIEW\");\n      self.unsub(\"ENABLE-BATCHS-ACTIONS\");\n      self.unsub(\"SEARCH-ENGINE-VIEW\");\n      self.unsub(\"SET-FILTERS-DATA\");\n      self.unsub(\"HIDE-FILTER-BUTTONANDBAR\");\n      self.unsub(\"HIDE-SORT-BUTTONS\");\n\n      self.$checkAll.off(\"click\");\n      $content.find(\".right-menu\").off(\"click\");\n      $content.find(\".sortbar-az\").off(\"click\");\n      $content.find(\".filter-icon\").off(\"click\");\n      $content.find(\".sortbar-action\").off(\"click\");\n      $(\".wdg-tple-button.batchAction\", $content).off(\"click\", $.proxy(self.onClickBatchAction, self));\n      $(\".remove-selected-items-collections\", $content).off(\"click\", $.proxy(self.onRemoveSelectedItemsCollections, self));\n    }\n  } });\n\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.sortbar\", [\"workportalFacade\", \"dataService\", \"processActionService\", \"accumulatedcontext\", bizagi.workportal.widgets.sortbar]);","/**\r\n * Document   : Bizagi Workportal Desktop My Search Filter Controller\r\n * Created on : May 20, 2015, 11:24:00 AM\r\n * Author     : Andrs Felipe Arenas Vargas\r\n */\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.mysearchfilter\", {\n\n  /**\r\n                                                                                       *\r\n                                                                                       * @param workportalFacade\r\n                                                                                       * @param dataService\r\n                                                                                       * @param processActionService\r\n                                                                                       * @param params\r\n                                                                                       */\n  init: function init(workportalFacade, dataService, processActionService, params) {\n    var self = this;\n    self.params = {};\n    self._super(workportalFacade, dataService, params);\n    self.loadTemplates({\n      \"mysearchfilter\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.mysearchfilter\").concat(\"#mysearchfilter-wrapper\"),\n      \"mysearchfilter-item\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.mysearchfilter\").concat(\"#mysearchfilter-item\") }).\n    done(function () {\n      self.filterItem = self.getTemplate(\"mysearchfilter-item\");\n    });\n\n    self.processActionService = processActionService;\n    self.filtersApplied = [];\n    self.filters = [];\n  },\n\n  /**\r\n      *\r\n      * @returns {*}\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = self.getTemplate(\"mysearchfilter\").render({});\n    self.content.hide();\n    return self.content;\n  },\n\n  /**\r\n      *\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self.configureHandlers();\n  },\n\n  /**\r\n      * Asigna los parametros iniciales de la busqueda e inicializa los objetos\r\n      * @param e\r\n      * @param params\r\n      */\n  initializeMySearchFilter: function initializeMySearchFilter(e, params) {\n    var self = this,\n    $content = self.getContent();\n\n    self.criteriaSearchApplied = params.args.filters ? bizagi.clone(params.args.filters) : [];\n    self.filtersApplied = [];\n    self.filterControlArray = [];\n    self.orderBy = {};\n    $(\".mysearchfilter-list\", $content).empty();\n  },\n\n  /**\r\n      *\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    self.sub(\"TEMPLATEENGINE-VIEW\", $.proxy(self.initializeMySearchFilter, self));\n    self.sub(\"SEARCH-ENGINE-VIEW\", $.proxy(self.initializeMySearchFilter, self));\n    self.sub(\"OPENCLOSE-MYSEARCHFILTER\", $.proxy(self.toggleWidget, self));\n    self.sub(\"CLOSE-MYSEARCHFILTER\", $.proxy(self.openCloseWidget, self));\n    self.sub(\"SET-FILTERS-DATA\", $.proxy(self.setFiltersData, self));\n    self.sub(\"SET-ORDERBY\", $.proxy(self.setOrderBy, self));\n    self.sub(\"SET-RECORDS\", $.proxy(self.setRecordsPerPage, self));\n  },\n\n  /**\r\n      *\r\n      * @param ev\r\n      * @param params\r\n      */\n  setFiltersData: function setFiltersData(ev, params) {\n    var self = this;\n\n    if (params.args.defaultFilterApplied) {\n      params.args.filtersApplied = params.args.filtersApplied || [];\n      var filtersAppliedWithProperties = params.args.filtersApplied.filter(function (filter) {\n        return typeof filter.properties !== \"undefined\";\n      });\n      self.filtersApplied = filtersAppliedWithProperties;\n    }\n\n    if (params.args.calculateFilters) {\n      var $content = self.getContent();\n      var $listContent = $(\".mysearchfilter-list\", $content);\n      var filters = params.args.filters;\n      var filtersAppliedCounter = params.args.filtersAppliedCounter;\n\n      var i = -1,a,counter = 0;\n      while (a = filters[++i]) {\n        if (a.type != \"Text\" && a.type !== \"Link\" && a.data && (a.data.defaultValues && a.data.defaultValues.length > 0 || a.data.min && a.data.max)) {\n          counter++;\n          break;\n        }\n      }\n\n      //Si no hay registros y no hay filtros oculta\n      if (params.args.totalRecords === 0 && filtersAppliedCounter === 0) {\n        self.openCloseWidget({ show: false });\n      } else\n      if (counter === 0) {\n        self.openCloseWidget({ show: false });\n      } else\n      {\n        self.openCloseWidget({ show: true });\n      }\n\n\n      if (self.filterControlArray && self.filterControlArray.length === 0) {\n        var i = -1,a;\n\n        while (a = filters[++i]) {\n          a[\"tmplid\"] = a.attribute.replaceAll(\".\", \"-\"); //used in mysearchfilter.tmpl.html\n\n          var foundDefaultFilter = self.filtersApplied.filter(function (defaultFilter) {\n            return defaultFilter.properties.type === a.type.toLowerCase() && defaultFilter.properties.xpath === a.tmplid;\n          });\n\n          if (foundDefaultFilter.length > 0) {\n            a.filterApplied = \"filter-applied\";\n          } else\n          {\n            a.filterApplied = \"\";\n          }\n          var filterItem = self.filterItem.render(a);\n\n          if (a.type !== \"Text\" && a.type !== \"Link\" && a.data && (a.data.defaultValues && a.data.defaultValues.length > 0 || a.data.min && a.data.max)) {\n            $listContent.append(filterItem);\n            self.buildFilter(filterItem, a);\n            if (a.filterApplied === \"filter-applied\") {\n              $(\".remove-filter\", filterItem).show();\n            }\n          }\n        }\n      } else\n      if (self.filterControlArray && self.filterControlArray.length > 0) {\n        var i = -1,a;\n        while (a = self.filterControlArray[++i]) {\n          var filter = filters.find(function (el) {\n            return el.attribute === a.xpath;\n          });\n          if (filter) {\n            self.setFilterData(a, filter);\n          }\n        }\n      }\n    }\n    $(\".filters-loading\", self.content).hide();\n  },\n\n  /**\r\n      *\r\n      * @param e\r\n      * @param params\r\n      */\n  toggleWidget: function toggleWidget(e, params) {\n    var self = this;\n    var $content = self.getContent();\n    var status = $content.is(\":visible\");\n\n    self.openCloseWidget({ show: !status, $target: params.args.target });\n  },\n\n  /**\r\n      *\r\n      * @param params\r\n      */\n  openCloseWidget: function openCloseWidget(params) {\n    var self = this,\n    $content = self.getContent(),\n    $target = params.$target || $(\"<div>\");\n\n    if (params.show) {\n      $target.addClass(\"opened\");\n      $content.show();\n    } else\n    {\n      $target.removeClass(\"opened\");\n      $content.hide();\n      $(\"button#ui-bizagi-cancel-filter\").click();\n    }\n  },\n\n  /**\r\n      *\r\n      * @param $element\r\n      * @param filter\r\n      */\n  buildFilter: function buildFilter($element, filter) {\n    var self = this;\n    switch (filter.type) {\n      case \"Entity\":\n        self.buildFilterMultiple($element, filter);\n        break;\n      case \"Number\":\n        self.buildFilterNumber($element, filter);\n        break;\n      case \"Money\":\n        self.buildFilterMoney($element, filter);\n        break;\n      case \"Datetime\":\n        self.buildFilterDate($element, filter);\n        break;\n      /*case \"Text\":\r\n                   self.buildFilterText($element, filter);\r\n                   break;*/\n      case \"Boolean\":\n        self.buildFilterBoolean($element, filter);\n        break;}\n\n\n  },\n\n  /**\r\n      *\r\n      * @param filter\r\n      * @param data\r\n      */\n  setFilterData: function setFilterData(filter, filterData) {\n    var isInteger = filterData.subType === \"Int\";\n    switch (filter.type) {\n      case \"Entity\":\n        filter.widget.bizagi_multipleFilter(\"setData\", filterData.data);\n        break;\n      case \"Number\":\n        isInteger ? filter.widget.bizagi_integerFilter(\"setData\", filterData.data) : filter.widget.bizagi_numberFilter(\"setData\", filterData.data);\n        break;\n      case \"Money\":\n        filter.widget.bizagi_moneyFilter(\"setData\", filterData.data);\n        break;\n      case \"Datetime\":\n        filter.widget.bizagi_dateFilter(\"setData\", filterData.data);\n        break;\n      case \"Boolean\":\n        filter.widget.bizagi_booleanFilter(\"setData\", filterData.data);\n        break;}\n\n\n  },\n\n  /**\r\n      *\r\n      * @param $element\r\n      * @param filter\r\n      */\n  buildFilterMoney: function buildFilterMoney($element, filter) {\n    var self = this;\n\n    var moneyFilter = $element.bizagi_moneyFilter({\n      showButtonClearFilter: true,\n      numericFormat: self.getResource(\"numericFormat\"),\n      properties: filter,\n      data: filter.data,\n      onApply: function onApply(data, element) {\n        self.addFilterSelection(data);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      onClear: function onClear(xpath) {\n        self.removeFilterApplied(xpath);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      getResource: function getResource(key) {\n        return bizagi.localization.getResource(key);\n      } });\n\n\n    self.filterControlArray.push({ type: filter.type, xpath: filter.attribute, widget: moneyFilter });\n  },\n\n  /**\r\n      *\r\n      * @param $element\r\n      * @param filter\r\n      */\n  buildFilterNumber: function buildFilterNumber($element, filter) {\n    var self = this;\n    var isInteger = filter.subType === \"Int\";\n    var params = {\n      showButtonClearFilter: true,\n      numericFormat: self.getResource(\"numericFormat\"),\n      properties: filter,\n      data: filter.data,\n      onApply: function onApply(data, element) {\n        if (data.length !== 0) {\n          self.addFilterSelection(data);\n          self.triggerFilter({ calculateFilters: true });\n        }\n      },\n      onClear: function onClear(xpath) {\n        self.removeFilterApplied(xpath);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      getResource: function getResource(key) {\n        return bizagi.localization.getResource(key);\n      } };\n\n    var numberFilter = isInteger ? $element.bizagi_integerFilter(params) : $element.bizagi_numberFilter(params);\n\n    self.filterControlArray.push({ type: filter.type, xpath: filter.attribute, widget: numberFilter });\n  },\n\n  /**\r\n      *\r\n      * @param $element\r\n      * @param filter\r\n      */\n  buildFilterDate: function buildFilterDate($element, filter) {\n    var self = this;\n    var dateFilter = $element.bizagi_dateFilter({\n      showButtonClearFilter: true,\n      properties: filter,\n      onApply: function onApply(data, element) {\n        self.addFilterSelection(data);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      onClear: function onClear(xpaths) {\n        self.removeFilterApplied(xpaths);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      getResource: function getResource(key) {\n        return self.getResource(key);\n      } });\n\n\n    self.filterControlArray.push({ type: filter.type, xpath: filter.attribute, widget: dateFilter });\n  },\n\n  /**\r\n      *\r\n      * @param $element\r\n      * @param filter\r\n      */\n  buildFilterMultiple: function buildFilterMultiple($element, filter) {\n    var self = this;\n    var multipleFilter = $element.bizagi_multipleFilter({\n      showButtonClearFilter: true,\n      properties: filter,\n      data: filter.data,\n      onApply: function onApply(data, element) {\n        self.addFilterSelection(data);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      onClear: function onClear(xpath) {\n        self.removeFilterApplied(xpath);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      getResource: function getResource(key) {\n        return bizagi.localization.getResource(key);\n      } });\n\n\n    self.filterControlArray.push({ type: filter.type, xpath: filter.attribute, widget: multipleFilter });\n  },\n\n  /**\r\n      *\r\n      * @param $element\r\n      * @param filter\r\n      */\n  buildFilterBoolean: function buildFilterBoolean($element, filter) {\n    var self = this;\n    var booleanFilter = $element.bizagi_booleanFilter({\n      showButtonClearFilter: true,\n      properties: filter,\n      data: filter.data,\n      onApply: function onApply(data, element) {\n        self.addFilterSelection(data);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      onClear: function onClear(xpath) {\n        self.removeFilterApplied(xpath);\n        self.triggerFilter({ calculateFilters: true });\n      },\n      getResource: function getResource(key) {\n        return bizagi.localization.getResource(key);\n      } });\n\n\n    self.filterControlArray.push({ type: filter.type, xpath: filter.attribute, widget: booleanFilter });\n  },\n\n  /**\r\n      *\r\n      * @param data\r\n      */\n  addFilterSelection: function addFilterSelection(data) {\n    var self = this;\n    $(\".filters-loading\", self.content).show();\n    for (var i = 0, len = data.length; i < len; i++) {\n      self.removeFilterApplied([data[i].properties.xpath]);\n      self.filtersApplied.push(data[i]);\n    }\n  },\n\n  /**\r\n      *\r\n      * @param xpaths\r\n      */\n  removeFilterApplied: function removeFilterApplied(xpaths) {\n    var self = this;\n\n    $(\".filters-loading\", self.content).show();\n\n    var i = -1,a;\n    while (a = xpaths[++i]) {\n      var filter = self.filtersApplied.find(function (el) {\n        return el.properties.xpath === a;\n      });\n      if (filter) {\n        self.filtersApplied.splice(self.filtersApplied.indexOf(filter), 1);\n      }\n    }\n  },\n\n  /**\r\n      *\r\n      * @param ev\r\n      * @param params\r\n      */\n  setOrderBy: function setOrderBy(ev, params) {\n    var self = this;\n    self.orderBy = params.args;\n    self.triggerFilter({ calculateFilters: false });\n  },\n\n  setRecordsPerPage: function setRecordsPerPage(ev, params) {\n    var self = this;\n    self.triggerFilter({ calculateFilters: false, page: params.args.page, pageSize: params.args && params.args.pageSize });\n  },\n\n  /**\r\n      *\r\n      * @param params\r\n      */\n  triggerFilter: function triggerFilter(params) {\n    var self = this;\n    var filtersToSend = self.criteriaSearchApplied ? bizagi.clone(self.criteriaSearchApplied) : [];\n    var filtersApplied = self.filtersApplied.slice();\n    var filterBarFilters = [];\n\n    var i = -1,a;\n    while (a = filtersApplied[++i]) {\n      self.dataService.defineFilterObject(a, filtersToSend);\n      self.dataService.defineFilterObject(a, filterBarFilters);\n    }\n\n    var filtersAppliedCounter = filterBarFilters.length;\n\n    //Set sort in json to send\n    if (self.orderBy.properties) {\n      self.dataService.defineFilterObject(self.orderBy, filtersToSend);\n    }\n\n    if (params.pageSize)\n    {\n      self._setPageSize(params.pageSize);\n    }\n\n    var filterParams = {\n      type: \"UPDATE-DATATEMPLATE-VIEW\",\n      args: {\n        filters: filtersToSend,\n        page: params.page,\n        level: 1,\n        calculateFilters: params.calculateFilters || false,\n        defaultFilterApplied: false,\n        typeSearch: \"filter\",\n        filtersAppliedCounter: filtersAppliedCounter,\n        pageSize: self._getPageSize() || 10 } };\n\n\n\n    self.pub(\"notify\", filterParams);\n  },\n\n  /**\r\n      * set results per page\r\n      */\n  _setPageSize: function _setPageSize(pageSize) {\n    var self = this;\n    self.dataService.pageSize = pageSize;\n  },\n\n  /**\r\n      * get results per page\r\n      * @returns \r\n      */\n  _getPageSize: function _getPageSize() {\n    var self = this;\n    return self.dataService.pageSize;\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.mysearchfilter\", [\"workportalFacade\", \"dataService\", \"processActionService\", bizagi.workportal.widgets.mysearchfilter], false);"]}