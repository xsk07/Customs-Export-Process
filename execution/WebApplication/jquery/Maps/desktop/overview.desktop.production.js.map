{"version":3,"sources":["jquery/workportal/desktop/widget/project.overview/bizagi.workportal.desktop.widgets.project.overview.js","jquery/workportal/desktop/widget/project.dashboard.menu/bizagi.workportal.desktop.widgets.project.dashboard.menu.js","jquery/workportal/desktop/widget/project.dashboard.menu.activity/bizagi.workportal.desktop.widgets.project.dashboard.menu.activity.js","jquery/workportal/desktop/widget/project.content.dashboard/bizagi.workportal.desktop.widgets.project.content.dashboard.js","jquery/workportal/desktop/widget/project.caseState/bizagi.workportal.desktop.widgets.project.caseState.js","jquery/workportal/desktop/widget/project.activityState/bizagi.workportal.desktop.widgets.project.activityState.js","jquery/workportal/desktop/widget/project.processState/bizagi.workportal.desktop.widgets.project.processState.js","jquery/workportal/desktop/widget/project.users/bizagi.workportal.desktop.widgets.project.users.js","jquery/workportal/desktop/widget/project.subprocesses.data/bizagi.workportal.desktop.widgets.project.subprocesses.data.js","jquery/workportal/desktop/widget/project.events/bizagi.workportal.desktop.widgets.project.events.js","jquery/workportal/desktop/widget/project.subprocesses/bizagi.workportal.desktop.widgets.project.subprocesses.js","jquery/workportal/desktop/widget/project.activity.description/bizagi.workportal.project.activity.description.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","bizagi","workportal","widgets","widget","extend","onDiscussionsMenuStatusChange","ev","params","this","updateDiscussionsIcons","hasDiscussionsOrComment","sub","$","proxy","toggle","clean","unsub","injector","register","project","dashboard","menu","init","workportalFacade","dataService","_super","loadTemplates","project-dashboard-menu","getTemplate","concat","renderContent","content","postRender","self","contextsLeftSidebarCaseDashboard","forEach","context","updateView","event","args","plan","idActivitySelected","undefined","$content","getContent","empty","type","showContextByMenuDashboard","argsTemplate","showFormOverview","menuDashboard","showFormActivity","showCommentsOptionMenu","showFilesOptionMenu","showTimeLineOptionMenu","isAdhocProcess","util","isEnableFeature","showPlanOptionMenu","contextPlanOptionMenu","contextFormActivityOptionMenu","render","appendTo","toUpperCase","addClass","siblings","removeClass","handlerEvents","loadContentById","preventDefault","$item","target","closest","hasClass","data","getLevelNavigator","pub","currentLevelNavigator","parseInt","nameItemNavigator","newLevelNavigator","localization","getResource","refreshLastItemBreadcrumb","histName","level","subMenuHandler","$comments","$files","$timeline","on","options","action","actions","BIZAGI_WORKPORTAL_ACTION_ROUTING","idCase","idTask","idWorkflow","idWorkItem","idWorkitem","referrer","publish","off","activity","project-content-dashboard","template","setTimeout","window","trigger","project-overview","project-overview-no-summary-form-found","contentWidget","canvas","bind","e","isPropagationStopped","stopPropagation","oldrenderevent","eventMethod","addEventListener","eventer","when","getWorkitems","onlyUserWorkItems","done","workItems","length","url","serviceLocator","getUrl","tmpl","iframeOldRender","getCaseFormsRenderVersion","formsVersion","formsRenderVersion","renderSummaryForm","container","proxyPrefix","rendering","facade","execute","summaryForm","subscribe","append","renderingFacade","resizeLayout","iframe","queryString","readQueryString","each","is","load","contents","cssLocation","browser","mozilla","webkit","replace","overview","contextsSidebarActivity","datePickerRegional","project-caseState","project-caseState-remaining","project-cancel-case-button","isFavoriteCase","isFavorite","JSON","parse","showCaseNumber","creationDate","timeZoneName","currentUser","creationDateObject","getDateWithTimezone","creationDateFormat","getFormattedDate","solutionDateObject","solutionDate","solutionDateFormat","currentDate","calculateDataForTemplate","showGraphicQuery","idCaseForGraphicQuery","idWorkFlow","isAdhoc","idProcess","idAdhocProcess","showHelpUrl","helpUrl","paramsEffectiveDuration","idUser","parseBoolean","isOpen","fromDate","getTime","toDate","differenceCreationToCurrent","actualDate","relativeTime","dateFormatter","getRelativeTime","Date","relativeTimeState","colorStateCase","percentCompleteBar","showCancelCase","_showCancelCase","contentTemplate","buttonCancelCase","click","widgetParameters","widgetName","BIZAGI_WORKPORTAL_WIDGET_CANCEL_CASE","maximize","dialogClass","modalParameters","refreshInbox","title","width","height","closeVisible","validateUrlWellFormed","security","menuSecurity","urlHelp","isEmpty","_startShowCancelCase","onClickFavorite","goToCase","showBackNextNavigation","_navigatorWidget","get","_start","getShowCancelCase","dateObj","monthsNames","monthNames","shortMonth","getMonth","bizagiLanguage","BIZAGI_LANGUAGE","substring","datepicker","formatDate","favoriteOptions","idObject","favoriteType","addFavorite","favoritesData","guidFavorite","idFavorites","delFavorite","open","callGetEffectiveDuration","d","Deferred","getEffectiveDuration","resolve","promise","cntxtSidebarActivity","getBackCase","getNextCase","getListKey","lstIdCases","i","key","nextCase","backCase","hide","show","caseState","project-activityState-wrapper","currentState","currentWorkitem","filter","objectWorkItem","activityName","state","activityIsEvent","isEvent","initDateObject","entryDateWorkItem","initDateFormat","estimatedSolutionDateObject","estimatedSolutionDate","estimatedSolutionDateFormat","updateTemplateWidget","initilizeActionMenu","allowsReassign","j","btReassing","btShareActivity","onClickMenuReasign","onClickShareActivity","onCloseSaveDialogBox","loader","startAndThen","then","BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE","closeDialogWidget","id","button","attr","getShareActivity","notifier","parent","value","unbind","showSucessMessage","showErrorMessage","always","diffMillisecondsCurrentToEstimated","diffMillisecondsCreationToSolution","paramsEffectiveDurationOpened","currentDateExceededEstimatedDate","paramsEffectiveDurationInitialToEstimated","differenceCreatedToCurrent","differenceCurrentToEstimated","differenceInitialToEstimated","colorState","showEstimatedSolutionDate","percentBar","getPercentBar","percent","canShareActivity","isShared","totalMinutes","sectionMinutes","response","Math","round","override","enableShareActivity","shareActivityTooltip","activityButton","texto","tooltip","tooltipClass","position","my","at","of","collision","activityState","project-process-state","displayName","onClickGoToParentCase","routingExecute","processState","relatedusers","plugins","users","loadedUsers","project-users","onRenderFinish","showCreatorInformation","typesAssignUser","createdBy","userId","typeName","userIds","getUsersData","user","userInfo","usersAdapter","createJsonUserInfo","name","username","picture","email","getInitials","find","userinformation","responseSubprocessState","responseSubprocess","newValue","auxArrayListSubprocessesState","auxArrayListSubprocesses","newItem","jQuery","isArray","push","Class","project-subprocesses-tootip-custom-properties","initializeTooltip","selectorTooltip","indexSubprocess","idCustData","text","val","itemsFinded","item","getContentTooltip","ui","originalEvent","$id","not","remove","close","hover","stop","fadeTo","fadeOut","textLI","templateTooltip","rowCustomProperty","nameProperty","valueProperty","arrayCustomsProperties","auxValueProperty","subprocessData","getSubprocessData","custData","custDataTypes","custFields","formatMonetaryCell","formatBoolean","formatDecimalCell","objectTemplate","nameSubprocess","contentTableCustomProperties","html","subProcessData","subProcess","subProcesses","subProcPersonalized","customFields","CustFields","Object","keys","subprocesses","project-events","getArgsTemplate","responseArgsTemplate","onClickGoEvent","def","callSummaryCaseEvents","responseEvents","elementEvent","autoSave","summaryCaseEvents","events","project-subprocesses","summarySubProcess","organizeDataForSubprocesses","showSubProcess","tempSubprocesses","radNumber","renderWidget","onClickGoSubprocess","pluginTooltip","project-activity-description","description","getWorkitemDescription","callTaskDescription","taskDescriptionParams","taskDescriptionWidget","task","tskDescription"],"mappings":"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","sourcesContent":["function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name: Bizagi Workportal Desktop Project Overview Controller\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: David Romero Estrada\r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.overview\", {}, {\n\n  /*\r\n                                                                                            *   Constructor\r\n                                                                                            */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"project-overview\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.project.overview\").concat(\"#project-overview\"),\n      \"project-overview-no-summary-form-found\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.project.overview\").concat(\"#project-overview-no-summary-form-found\") });\n\n  },\n\n  /*\r\n     * Renders the template defined in the widget\r\n     */\n  renderContent: function renderContent() {\n\n    var self = this;\n    var template = self.getTemplate(\"project-overview\");\n\n    self.content = template.render({});\n    return self.content;\n  },\n\n  /*\r\n     * Links events with handlers\r\n     */\n  postRender: function postRender() {\n    var self = this;\n    var contentWidget = self.getContent();\n\n    var canvas = $(\"#ui-bizagi-wp-project-overview-wrapper\", contentWidget);\n\n    // Define action when render form has not been migrated\n    canvas.bind(\"oldrenderintegration\", function (e) {\n      if (e.isPropagationStopped()) {\n        return;\n      }\n      e.stopPropagation();\n\n      var template = self.workportalFacade.getTemplate(\"inbox-common-case-summary-oldrender\");\n      var data = {};\n\n      bizagi.oldrenderevent = true; // has been loaded\n      var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n      var eventer = window[eventMethod];\n      var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\";\n\n      // Listen to message from child window\n      eventer(messageEvent, function (e) {\n        e.stopPropagation();\n        self.publish(\"executeAction\", {\n          action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n          idCase: e.data });\n\n      }, false);\n\n      // Define wirkitem and idtask\n      $.when(self.dataService.getWorkitems({\n        idCase: self.params.idCase,\n        onlyUserWorkItems: true })).\n      done(function (getWorkitems) {\n        // verify workitem, in some cases these variables are not available\n        if (_typeof(getWorkitems.workItems) == \"object\" && getWorkitems.workItems.length >= 1) {\n          // Case Open\n          var idWorkitem = getWorkitems.workItems[0]['idWorkItem'];\n          var idTask = getWorkitems.workItems[0]['idTask'];\n          data.url = self.dataService.serviceLocator.getUrl(\"old-render\") + \"?PostBack=1&idCase=\" + self.idCase + \"&idWorkitem=\" + idWorkitem + \"&idTask=\" + idTask + \"&isSummary=1\";\n        } else {\n          // Case closed\n          data.url = self.dataService.serviceLocator.getUrl(\"old-render\") + \"?PostBack=1&idCase=\" + self.idCase + \"&isSummary=1\";\n        }\n\n        // Render content\n        canvas.empty();\n        $.tmpl(template, data).appendTo(canvas);\n        //Set styles\n        self.iframeOldRender($(\"iframe\", canvas));\n      });\n    });\n\n    var params = {\n      idCase: self.params.idCase };\n\n    $.when(self.dataService.getCaseFormsRenderVersion(params)).\n    done(function (formsVersion) {\n      if (formsVersion.formsRenderVersion == 1) {\n        canvas.trigger(\"oldrenderintegration\");\n      } else {\n        self.renderSummaryForm(self.params.idCase, $(\"#ui-bizagi-wp-project-overview-wrapper\", contentWidget));\n      }\n    });\n  },\n\n  renderSummaryForm: function renderSummaryForm(idCase, container) {\n    var self = this;\n\n    var proxyPrefix = _typeof(self.dataService.serviceLocator.proxyPrefix) != undefined ? self.dataService.serviceLocator.proxyPrefix : \"\";\n\n    // Load render page\n    var rendering = new bizagi.rendering.facade({ \"proxyPrefix\": proxyPrefix });\n\n    // Executes rendering into render container\n    rendering.execute({\n      canvas: container,\n      summaryForm: true,\n      idCase: idCase });\n\n    rendering.subscribe(\"no-data-found\", function () {\n      var template = self.getTemplate(\"project-overview-no-summary-form-found\");\n      container.append(template.render());\n    });\n\n    // Keep reference to rendering facade\n    self.renderingFacade = rendering;\n\n    // Resize layout\n    setTimeout(function () {\n      self.resizeLayout();\n    }, 1000);\n  },\n\n  /**\r\n      * Inject styles and js into the iframe\r\n      */\n  iframeOldRender: function iframeOldRender(canvas) {\n    var self = this;\n    var iframe;\n    var content = self.getContent();\n    var theme = \"bizagiDefault\";\n    var queryString = bizagi.readQueryString();\n\n    $.each(canvas, function () {\n      if ($(this).is(\"iframe\")) {\n        iframe = $(this);\n      }\n    });\n\n    iframe.load(function () {\n      // inject css\n      var content = $(this).contents();\n\n      // Fixed problem with relative path across the different browsers\n      var cssLocation = $.browser.mozilla || $.browser.webkit ? \"../../css/render_%theme%.css\" : \"css/render_%theme%.css\";\n\n      // Define theme\n      cssLocation = cssLocation.replace(\"%theme%\", queryString[\"theme\"] || theme);\n\n      // Append css\n      $('body', content).append(\"<link type='text/css' rel='stylesheet' href='\" + cssLocation + \"'>\");\n\n      // Append javascript\n      //  $('head',content).append(\"<script type='text/javascript' src='../../js/renderintegration.js'></script>\");\n    });\n  } });\n\n\n\nbizagi.injector.register('bizagi.workportal.widgets.project.overview', ['workportalFacade', 'dataService', bizagi.workportal.widgets.project.overview], true);","/**\r\n * Name: BizAgi Desktop Widget Dashboard menu (left sidebar) * \r\n * @author Valeria Vanegas\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.dashboard.menu\", {}, {\n\n  /**\r\n                                                                                                   * Handler when discussions menu status change\r\n                                                                                                   * @param {*} ev \r\n                                                                                                   * @param {*} params \r\n                                                                                                   */\n  onDiscussionsMenuStatusChange: function onDiscussionsMenuStatusChange(ev, params) {\n    var self = this;\n    self.updateDiscussionsIcons(params.hasDiscussionsOrComment);\n  },\n\n  /**\r\n      * Update discussions icon on sidebar menu\r\n      * The icon is different when there is other discussion or there are comments\r\n      * @param {*} hasDiscussionsOrComment \r\n      */\n  updateDiscussionsIcons: function updateDiscussionsIcons(hasDiscussionsOrComment) {\n    var self = this;\n\n    self.sub(\"UPDATE_DISCUSSIONS_MENU_STATUS\", $.proxy(self.onDiscussionsMenuStatusChange, self));\n\n    $(\".bz-icon-discussion-comment\").toggle(hasDiscussionsOrComment);\n    $(\".bz-icon-discussion-no-comment\").toggle(!hasDiscussionsOrComment);\n    self.params.hasDiscussionsOrComment = hasDiscussionsOrComment;\n  },\n\n  /**\r\n      * Detach events\r\n      */\n  clean: function clean() {\n    var self = this;\n    self.unsub(\"UPDATE_DISCUSSIONS_MENU_STATUS\", $.proxy(self.onDiscussionsMenuStatusChange, self));\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.dashboard.menu\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.dashboard.menu], true);","/*\r\n *   Name: Bizagi Workportal project Dashboard Menu Activity\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.project.dashboard.menu.extend(\"bizagi.workportal.widgets.project.dashboard.menu.activity\", {}, {\n\n  /**\r\n                                                                                                                            *   Constructor\r\n                                                                                                                            */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    self.params = params || {};\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"project-dashboard-menu\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.project.dashboard.menu.activity\").concat(\"#project-dashboard-menu1\") });\n\n  },\n\n  /**\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /**\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self._super();\n    //Handlers\n    self.params.contextsLeftSidebarCaseDashboard.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  /**\r\n      * Update view\r\n      * @param event\r\n      * @param params\r\n      */\n  updateView: function updateView(event, params) {\n    var self = this;\n    self.params = $.extend(self.params, params.args);\n    self.params.plan.idActivitySelected = undefined;\n    self.clean();\n    var $content = self.getContent().empty();\n\n    if (typeof event.type !== \"undefined\") {\n      self.params.showContextByMenuDashboard = event.type;\n    }\n\n    var argsTemplate = {\n      showFormOverview: self.params.menuDashboard.showFormOverview,\n      showFormActivity: self.params.menuDashboard.showFormActivity,\n      showCommentsOptionMenu: self.params.menuDashboard.showCommentsOptionMenu,\n      showFilesOptionMenu: self.params.menuDashboard.showFilesOptionMenu,\n      showTimeLineOptionMenu: self.params.menuDashboard.showTimeLineOptionMenu && (\n      !self.params.isAdhocProcess ||\n      self.params.isAdhocProcess && bizagi.util.isEnableFeature(\"enableTimelineOnLiveProcesses\")),\n      showPlanOptionMenu: self.params.menuDashboard.showPlanOptionMenu,\n      contextPlanOptionMenu: self.params.menuDashboard.contextPlanOptionMenu,\n      contextFormActivityOptionMenu: self.params.menuDashboard.contextFormActivityOptionMenu };\n\n\n    //Update widget\n    var template = self.getTemplate(\"project-dashboard-menu\");\n    template.render(argsTemplate).appendTo($content);\n\n\n    if (self.params.showContextByMenuDashboard) {\n      $(\"li[data-context='\" + self.params.showContextByMenuDashboard.toUpperCase() + \"']\", self.content).addClass(\"active\").siblings().removeClass(\"active\");\n    }\n\n    self.updateDiscussionsIcons(self.params.hasDiscussionsOrComment);\n    self.handlerEvents();\n  },\n\n  /**\r\n      *   Load Content By Id\r\n      */\n  loadContentById: function loadContentById(event) {\n    var self = this;\n    event.preventDefault();\n    var $item = $(event.target).closest(\"li\");\n\n    if (!$item.hasClass(\"active\")) {\n\n      var showContextByMenuDashboard = $item.data(\"context\");\n\n      if (showContextByMenuDashboard) {\n        var getLevelNavigator = self.pub(\"notify\", { type: \"NAVIGATOR_GETLEVEL\" });\n        var currentLevelNavigator = parseInt(getLevelNavigator[0], 10);\n        var nameItemNavigator = \"\";\n        var newLevelNavigator = currentLevelNavigator;\n\n        if (showContextByMenuDashboard == \"PLANACTIVITIES\") {\n          newLevelNavigator = currentLevelNavigator + 1;\n          nameItemNavigator = bizagi.localization.getResource(\"workportal-project-casedashboard-plan\");\n        }\n\n        self.params.refreshLastItemBreadcrumb = false;\n        self.pub(\"notify\", {\n          type: showContextByMenuDashboard.toUpperCase(),\n          args: $.extend(self.params, { showContextByMenuDashboard: showContextByMenuDashboard,\n            histName: nameItemNavigator,\n            level: newLevelNavigator }) });\n\n        $(\"li[data-context='\" + self.params.showContextByMenuDashboard.toUpperCase() + \"']\", self.content).addClass(\"active\").siblings().removeClass(\"active\");\n      }\n    }\n  },\n\n  subMenuHandler: function subMenuHandler() {\n    var self = this;\n    var content = self.getContent();\n    var $comments = $(\"[data-context='COMMENTS']\", content);\n    var $files = $(\"[data-context='FILES']\", content);\n    var $timeline = $(\"[data-context='TIMELINE']\", content);\n\n    $(\".ui-bizagi-wp-project-tab-submenu a\", content).on(\"click\", function () {\n      $comments.toggle();\n      $files.toggle();\n      $timeline.toggle();\n    });\n  },\n\n  /**\r\n      * Handler events\r\n      */\n  handlerEvents: function handlerEvents() {\n    var self = this;\n    var content = self.getContent();\n\n    self.subMenuHandler();\n\n    $(\".ui-bizagi-wp-project-tab-links a\", content).on(\"click\", $.proxy(self.loadContentById, self));\n\n    // Bind for click event on refresh botton\n    $(\".ui-bizagi-wp-project-tab-links li .ui-bizagi-refresh-form\", content).on(\"click\", function () {\n      var options = {\n        action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n        idCase: self.params.idCase,\n        idTask: self.params.idTask,\n        idWorkflow: self.params.idWorkflow,\n        idWorkItem: self.params.idWorkitem,\n        referrer: self.params.referrer || \"inboxGrid\" };\n\n      self.publish(\"executeAction\", options);\n    });\n  },\n\n  /**\r\n      * Clean widgets and events\r\n      */\n  clean: function clean() {\n    var self = this;\n    var content = self.getContent();\n\n    self._super();\n\n    if (self.params && self.params.contextsLeftSidebarCaseDashboard) {\n      self.params.contextsLeftSidebarCaseDashboard.forEach(function (context) {\n        self.unsub(context, $.proxy(self.updateView, self));\n      });\n    }\n\n    $(\".ui-bizagi-wp-project-tab-links a\", content).off();\n    $(\".ui-bizagi-wp-project-tab-links li .ui-bizagi-refresh-form\", content).off();\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.dashboard.menu.activity\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.dashboard.menu.activity], true);","/*\r\n *   Name: Bizagi Workportal Project Content Dashboard\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.content.dashboard\", {}, {\n\n  /*\r\n                                                                                                      *   Constructor\r\n                                                                                                      */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"project-content-dashboard\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.content.dashboard\").concat(\"#project-plan-content-dashboard\") });\n\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n\n    var template = self.getTemplate(\"project-content-dashboard\");\n    self.content = template.render({});\n\n    return self.content;\n  },\n  postRender: function postRender() {\n    var self = this;\n\n    setTimeout(function () {\n      $(window).trigger(\"resize\"); //Simulate resize for fix when load first time.\n    }, 1000);\n\n  } });\n\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.content.dashboard\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.content.dashboard], true);","/*\r\n *   Name: Bizagi Workportal Desktop Project Case State Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.caseState\", {}, {\n  /*\r\n                                                                                              *   Constructor\r\n                                                                                              */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Regional\n    self.datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n\n    //Load templates\n    self.loadTemplates({\n      \"project-caseState\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.caseState\").concat(\"#project-caseState-wrapper\"),\n      \"project-caseState-remaining\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.caseState\").concat(\"#project-caseState-remaining\"),\n      \"project-cancel-case-button\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.caseState\").concat(\"#project-caseState-cancel-case-button\") });\n\n  },\n\n  /**\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var cntxtSidebarActivity = self.contextsSidebarActivity || [];\n    //Handlers\n    cntxtSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  /**\r\n      * Update view when load case\r\n      * @param event\r\n      * @param params\r\n      */\n  updateView: function updateView(event, params) {\n    var self = this;\n    $.extend(self.params, params.args);\n    var args = params.args;\n    self.getContent().empty();\n\n    var argsTemplate = {};\n\n    //is Favorite Case\n    argsTemplate.isFavoriteCase = \"off\";\n    if (args.isFavorite && JSON.parse(args.isFavorite)) {\n      argsTemplate.isFavoriteCase = \"bz-icon-star\";\n    } else\n    {\n      argsTemplate.isFavoriteCase = \"bz-icon-star-outline\";\n    }\n\n    self.showCaseNumber(args, argsTemplate);\n\n    //Begin Calculated Remaining Date\n    if (args.creationDate) {\n      var MOMENT_FORMAT = \"MM/DD/yyyy H:mm\";\n      var timeZoneName = bizagi.currentUser.timeZoneName;\n      var creationDate = args.creationDate;\n      var creationDateObject = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName, creationDate);\n\n      argsTemplate.creationDateFormat = self.getFormattedDate(creationDateObject);\n\n      var solutionDateObject = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName, args.solutionDate);\n      argsTemplate.solutionDateFormat = self.getFormattedDate(solutionDateObject);\n\n      var currentDate = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName);\n      self.calculateDataForTemplate(argsTemplate, creationDateObject, currentDate, solutionDateObject, args);\n    }\n    $(self.getContent()).on(\"click\", \".show-diagram-case\", function () {\n      var isAdhoc = false;\n      if (!self.params.isAdhocProcess || typeof self.params.isAdhocProcess === 'undefined') {\n        isAdhoc = false;\n      } else {\n        isAdhoc = true;\n      }\n      if (isAdhoc) {\n        self.showGraphicQuery({ idCase: self.params.idCaseForGraphicQuery || self.params.idCase, idWorkflow: self.params.idWorkFlow, isAdhoc: true, idProcess: self.params.idAdhocProcess });\n      } else {\n        self.showGraphicQuery({ idCase: self.params.idCaseForGraphicQuery || self.params.idCase, idWorkflow: self.params.idWorkflow });\n      }\n\n    });\n\n    $(self.getContent()).on(\"click\", \".show-process-help\", function () {\n      self.showHelpUrl(self.params.helpUrl);\n    });\n\n  },\n\n  /**\r\n      * Calculate percent bar\r\n      * @param argsTemplate\r\n      * @param creationDateObject\r\n      * @param currentDate\r\n      * @param solutionDateObject\r\n      * @param args\r\n      */\n  calculateDataForTemplate: function calculateDataForTemplate(argsTemplate, creationDateObject, currentDate, solutionDateObject, args) {\n    var self = this;\n    var $content = self.getContent();\n    var MOMENT_FORMAT = \"MM/DD/yyyy H:mm\";\n    var timeZoneName = bizagi.currentUser.timeZoneName;\n    var paramsEffectiveDuration = {};\n    paramsEffectiveDuration.idUser = bizagi.currentUser.idUser;\n    if (bizagi.util.parseBoolean(args.isOpen)) {\n      paramsEffectiveDuration.fromDate = creationDateObject.getTime();\n      paramsEffectiveDuration.toDate = currentDate.getTime();\n    } else\n    {\n      paramsEffectiveDuration.fromDate = solutionDateObject.getTime();\n      paramsEffectiveDuration.toDate = currentDate.getTime();\n    }\n\n    var differenceCreationToCurrent = paramsEffectiveDuration.toDate - paramsEffectiveDuration.fromDate;\n    var actualDate = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName);\n    var relativeTime = bizagi.util.dateFormatter.getRelativeTime(new Date(actualDate.getTime() - differenceCreationToCurrent), null, false, timeZoneName);\n    if (bizagi.util.parseBoolean(args.isOpen)) {\n      argsTemplate.relativeTimeState = bizagi.localization.getResource(\"workportal-project-case-state-opened\").replace(\"%s\", relativeTime);\n      argsTemplate.colorStateCase = \"Opened\";\n    } else\n    {\n      argsTemplate.relativeTimeState = bizagi.localization.getResource(\"workportal-project-case-state-closed\").replace(\"%s\", relativeTime);\n      argsTemplate.colorStateCase = \"Closed\";\n    }\n\n    argsTemplate.percentCompleteBar = 100;\n    argsTemplate.isOpen = bizagi.util.parseBoolean(args.isOpen);\n    //Update widget\n    var contentTemplate = self.getTemplate(\"project-caseState-remaining\");\n    contentTemplate.\n    render($.extend(args, argsTemplate)).\n    appendTo($(\"#ui-bizagi-remaining\", $content));\n  },\n\n\n  /**\r\n      * Show cancel case button\r\n      * @param {JSON} args \r\n      * @param {Template} argsTemplate \r\n      * @param {Boolean} showCancelCase \r\n      */\n  showCancelCase: function showCancelCase(args, argsTemplate, _showCancelCase) {\n    var self = this;\n    var $content = self.getContent();\n    var contentTemplate = self.getTemplate(\"project-cancel-case-button\");\n\n    argsTemplate.buttonCancelCase = _showCancelCase;\n    contentTemplate.render($.extend(args, argsTemplate)).appendTo($(\"#ui-bizagi-cancel-case\", $content));\n    $(\"#ui-bizagi-wp-project-activity-cancel-case-button > a\", self.content).click(function () {\n      var widgetParameters = {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_CANCEL_CASE,\n        maximize: false,\n        dialogClass: 'bz-cancel-case-widget',\n        idWorkitem: self.params.idWorkitem,\n        idCase: self.params.idCase,\n        modalParameters: {\n          refreshInbox: false,\n          title: bizagi.localization.getResource(\"workportal-widget-cancel-case-title\"),\n          width: 420,\n          height: 400 },\n\n        closeVisible: false };\n\n      self.publish(\"showDialogWidget\", widgetParameters);\n    });\n  },\n\n  /**\r\n      * Show case number\r\n      * @param args\r\n      * @param argsTemplate\r\n      */\n  showCaseNumber: function showCaseNumber(args, argsTemplate) {\n    var self = this;\n    var $content = self.getContent();\n    var contentTemplate = self.getTemplate(\"project-caseState\");\n    var isAdhoc = false;\n    if (!this.params.isAdhocProcess || typeof this.params.isAdhocProcess === 'undefined') {\n      isAdhoc = false;\n    } else\n    {\n      isAdhoc = this.params.isAdhocProcess;\n    }\n\n    self.params.helpUrl = bizagi.util.validateUrlWellFormed(self.params.helpUrl);\n\n    contentTemplate.\n    render(\n    $.extend(\n    args,\n    argsTemplate,\n    {\n      security: bizagi.menuSecurity,\n      isAdhocProcess: isAdhoc,\n      urlHelp: !bizagi.util.isEmpty(self.params.helpUrl) })).\n\n\n\n    appendTo($content);\n    self._startShowCancelCase(args, argsTemplate);\n    //Handle events\n    $(\".case-summary-favorite\", $content).on(\"click\", $.proxy(self.onClickFavorite, self));\n    // Set back and next case navigation\n    $(\".case-summary-back\", self.content).on(\"click\", $.proxy(self.goToCase, self, 'back'));\n    $(\".case-summary-next\", self.content).on(\"click\", $.proxy(self.goToCase, self, 'next'));\n\n    self.showBackNextNavigation();\n  },\n\n  /**\r\n      * wait for showCancelCase value from Navigator widget\r\n      * @param {JSON} args \r\n      * @param {Template} argsTemplate \r\n      */\n  _startShowCancelCase: function _startShowCancelCase(args, argsTemplate) {\n    var self = this,\n    _navigatorWidget = bizagi.injector.get(\"bizagi.workportal.widgets.navigator\"),\n    _start = self.showCancelCase.bind(self, args, argsTemplate);\n\n    _navigatorWidget.getShowCancelCase().done(_start);\n  },\n\n  /**\r\n      * Get Format date\r\n      * @param dateObj\r\n      * @returns {string}\r\n      */\n  getFormattedDate: function getFormattedDate(dateObj) {\n    var self = this;\n    var monthsNames = self.datePickerRegional.monthNames;\n    var shortMonth = dateObj.getMonth();\n    var bizagiLanguage = BIZAGI_LANGUAGE;\n    if (bizagiLanguage != null && bizagiLanguage != undefined && bizagiLanguage.length > 0 && bizagiLanguage.substring(0, 2) == \"fr\")\n    return $.datepicker.formatDate(\"dd\", dateObj) + \" \" + monthsNames[shortMonth];else\n\n    return monthsNames[shortMonth] + \" \" + $.datepicker.formatDate(\"dd\", dateObj);\n  },\n\n  /***\r\n      * Events\r\n      */\n  onClickFavorite: function onClickFavorite(event) {\n    event.preventDefault();\n    var self = this;\n    var favoriteOptions = {};\n    if ($(event.target).hasClass(\"bz-icon-star-outline\")) {\n      favoriteOptions = {\n        idObject: self.params.idCase,\n        favoriteType: \"CASES\" };\n\n      $.when(self.dataService.addFavorite(favoriteOptions)).done(function (favoritesData) {\n        self.params.guidFavorite = favoritesData.idFavorites;\n        $(event.target).removeClass(\"bz-icon-star-outline\");\n        $(event.target).addClass(\"bz-icon-star\");\n      });\n    } else\n    {\n      favoriteOptions = {\n        idObject: self.params.guidFavorite,\n        favoriteType: \"CASES\" };\n\n      $.when(self.dataService.delFavorite(favoriteOptions)).done(function () {\n        $(event.target).addClass(\"bz-icon-star-outline\");\n        $(event.target).removeClass(\"bz-icon-star\");\n      });\n    }\n  },\n\n  showHelpUrl: function showHelpUrl(urlHelp) {\n    window.open(urlHelp);\n  },\n\n  /**\r\n      * Call service effective duration by schedule work\r\n      * @param params\r\n      * @return {*}\r\n      */\n  callGetEffectiveDuration: function callGetEffectiveDuration(params) {\n    var self = this;\n    var d = $.Deferred();\n\n    if (params.fromDate) {\n      $.when(\n      self.dataService.getEffectiveDuration(params)).\n      done(function (data) {\n        d.resolve(data);\n      });\n    } else\n    {\n      d.resolve(null);\n    }\n\n    return d.promise();\n  },\n\n  /**\r\n      * Clean plugins and events\r\n      */\n  clean: function clean() {\n    var self = this;\n    $(\".show-diagram-case\", self.getContent()).off();\n    var cntxtSidebarActivity = self.contextsSidebarActivity || [];\n    this.params = {};\n    cntxtSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  goToCase: function goToCase(action) {\n    var self = this;\n    var idCase = action == 'back' ? self.getBackCase() : self.getNextCase();\n    if (idCase > 0) {\n      self.publish(\"executeAction\", {\n        action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n        idCase: idCase });\n\n    }\n  },\n\n  getListKey: function getListKey() {\n    var self = this;\n    bizagi.lstIdCases = bizagi.lstIdCases || {};\n    if (bizagi.lstIdCases.length > 1) {\n      for (var i = 0; i < bizagi.lstIdCases.length; i++) {\n        if (self.params.idCase == bizagi.lstIdCases[i]) {\n          return i;\n        }\n      }\n    }\n    return -1;\n  },\n\n  getNextCase: function getNextCase() {\n    var self = this;\n    var nextIdCase = 0;\n    var key = self.getListKey();\n\n    // Check if last element\n    if (bizagi.lstIdCases.length == key + 1 || bizagi.lstIdCases.length == 1) {\n      nextIdCase = -1;\n    } else {\n      nextIdCase = bizagi.lstIdCases[key + 1];\n    }\n\n    return nextIdCase;\n  },\n\n  getBackCase: function getBackCase() {\n    var self = this;\n    var prevIdCase = 0;\n    var key = self.getListKey();\n\n    // Check if first element\n    if (key == 0) {\n      prevIdCase = -1;\n    } else {\n      prevIdCase = bizagi.lstIdCases[key - 1] || -1;\n    }\n\n    return prevIdCase;\n  },\n\n  showBackNextNavigation: function showBackNextNavigation() {\n    var self = this;\n    var nextCase = self.getNextCase();\n    var backCase = self.getBackCase();\n    nextCase <= 0 ? $(\".case-summary-next\", self.content).hide() : $(\".case-summary-next\", self.content).show();\n    backCase <= 0 ? $(\".case-summary-back\", self.content).hide() : $(\".case-summary-back\", self.content).show();\n\n    if (nextCase <= 0 && backCase <= 0) {\n      $(\".content-right-sidebar\").removeClass(\"bz-state-number--active-case\");\n      $(\".bz-case-navigation\").hide();\n    } else\n    {\n      $(\".content-right-sidebar\").addClass(\"bz-state-number--active-case\");\n      $(\".bz-case-navigation\").show();\n    }\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.caseState\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.caseState]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Activity State Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.activityState\", {}, {\n  /*\r\n                                                                                                  *   Constructor\r\n                                                                                                  */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Regional\n    self.datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n\n    //Load templates\n    self.loadTemplates({\n      \"project-activityState-wrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.activityState\").concat(\"#project-activityState-wrapper\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this,\n    args = params.args;\n    self.params = args;\n    self.getContent();\n    var timeZoneName = bizagi.currentUser.timeZoneName;\n    var argsTemplate = {};\n    var currentState = args.currentState || [];\n\n    var currentWorkitem = currentState.filter(function (objectWorkItem) {return objectWorkItem.idWorkItem == args.idWorkitem;})[0];\n\n\n    if (currentWorkitem) {\n      argsTemplate.activityName = currentWorkitem.state;\n      argsTemplate.activityIsEvent = bizagi.util.parseBoolean(currentWorkitem.isEvent);\n\n      var MOMENT_FORMAT = \"MM/DD/yyyy H:mm\";\n      var initDateObject = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName, currentWorkitem.entryDateWorkItem);\n      if (initDateObject.getTime) {\n        argsTemplate.initDateFormat = self.getFormattedDate(initDateObject);\n      }\n\n      var currentDate = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName);\n      var estimatedSolutionDateObject = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName, currentWorkitem.estimatedSolutionDate);\n      argsTemplate.estimatedSolutionDateFormat = \"\";\n\n      if (initDateObject.getTime && estimatedSolutionDateObject.getTime && currentWorkitem) {\n        self.calculateDataForTemplate(currentWorkitem, argsTemplate, initDateObject, currentDate, estimatedSolutionDateObject, currentState);\n      } else\n      {\n        //Update widget\n        self.updateTemplateWidget(argsTemplate, currentState);\n      }\n    }\n  },\n\n  initilizeActionMenu: function initilizeActionMenu(currentState) {\n    var self = this;\n    var allowsReassign = false;\n\n    if (currentState && currentState.length > 0) {\n      for (j = 0; j < currentState.length; ++j) {\n        if (currentState[j] && self.params && currentState[j].idWorkItem == self.params.idWorkitem) {\n          allowsReassign = bizagi.util.parseBoolean(currentState[j].allowsReassign) || false;\n        }\n      }\n    }\n    var btReassing = $(\"#bt-case-action-reassing\", self.content);\n    var btShareActivity = $(\"#ui-bizagi-wp-project-activity-button:not(.ui-bizagi-wp-project-activity-shared)\", self.content);\n\n    if (allowsReassign) {\n      btReassing.show();\n    }\n    btReassing.on(\"click\", function () {\n      self.onClickMenuReasign();\n    });\n    btShareActivity.on(\"click\", function () {\n      self.onClickShareActivity();\n    });\n  },\n  /**\r\n       * Executed when user reasign case\r\n       */\n  onClickMenuReasign: function onClickMenuReasign() {\n    var self = this;\n    var idCase = self.params.idCase;\n    var idWorkItem = self.params.idWorkitem,\n    onCloseSaveDialogBox = function onCloseSaveDialogBox() {\n      self.publish(\"closeCurrentDialog\");\n    };\n    bizagi.loader.startAndThen(\"admin\").then(function () {\n      $.when(self.publish(\"showDialogWidget\", {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE,\n        data: {\n          \"idCase\": idCase,\n          \"idWorkItem\": idWorkItem,\n          closeDialogWidget: onCloseSaveDialogBox },\n\n        closeVisible: false,\n        maximize: true,\n        modalParameters: {\n          title: bizagi.localization.getResource(\"render-actions-reassign\"),\n          width: \"910px\",\n          id: \"CaseAdmin\" } }));\n\n\n    });\n  },\n\n  /**\r\n      * let share the activity\r\n      */\n  onClickShareActivity: function onClickShareActivity() {\n    var self = this;\n    var params = {\n      \"idWorkItem\": self.params.idWorkitem };\n\n    var button = $(\"#ui-bizagi-wp-project-activity-button\", self.content);\n    button.attr(\"disabled\", true);\n    $.when(self.dataService.getShareActivity(params)).done(function (data) {\n      var notifier = window.parent.bizagi.injector.get('notifier');\n      if (data.value === true) {\n        button.addClass(\"ui-bizagi-wp-project-activity-shared\").\n        unbind(\"click\");\n        notifier.showSucessMessage(bizagi.localization.getResource(\"workportal-project-activity-success-message\"), '');\n      } else {\n        notifier.showErrorMessage(bizagi.localization.getResource(\"workportal-project-activity-error-message\"), '');\n      }\n    }).always(function () {\n      button.attr(\"disabled\", false);\n    });\n  },\n\n  calculateDataForTemplate: function calculateDataForTemplate(currentWorkitem, argsTemplate, creationDateObject, currentDate, estimatedSolutionDateObject, currentState) {\n    var self = this;\n    var MOMENT_FORMAT = \"MM/DD/yyyy H:mm\";\n    var timeZoneName = bizagi.currentUser.timeZoneName;\n    var diffMillisecondsCurrentToEstimated = currentDate.getTime() - estimatedSolutionDateObject.getTime();\n    var diffMillisecondsCreationToSolution = creationDateObject.getTime() - estimatedSolutionDateObject.getTime();\n\n    var paramsEffectiveDurationOpened = {\n      idUser: bizagi.currentUser.idUser,\n      fromDate: creationDateObject.getTime(),\n      toDate: self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName).getTime() };\n\n\n    var currentDateExceededEstimatedDate = false;\n    var paramsEffectiveDuration = {\n      idUser: bizagi.currentUser.idUser,\n      fromDate: currentDate.getTime(),\n      toDate: estimatedSolutionDateObject.getTime() };\n\n    var paramsEffectiveDurationInitialToEstimated = {};\n    if (diffMillisecondsCurrentToEstimated > 0) {//Exceeded limit estimatedSolution\n      paramsEffectiveDuration.fromDate = estimatedSolutionDateObject.getTime();\n      paramsEffectiveDuration.toDate = currentDate.getTime();\n      currentDateExceededEstimatedDate = true;\n    } else\n    {\n      paramsEffectiveDurationInitialToEstimated.idUser = bizagi.currentUser.idUser;\n      paramsEffectiveDurationInitialToEstimated.fromDate = creationDateObject.getTime();\n      paramsEffectiveDurationInitialToEstimated.toDate = estimatedSolutionDateObject.getTime();\n    }\n\n    var differenceCreatedToCurrent = paramsEffectiveDurationOpened.toDate - paramsEffectiveDurationOpened.fromDate;\n    var differenceCurrentToEstimated = paramsEffectiveDuration.toDate - paramsEffectiveDuration.fromDate;\n    var differenceInitialToEstimated = diffMillisecondsCurrentToEstimated > 0 ? 0 : paramsEffectiveDurationInitialToEstimated.toDate - paramsEffectiveDurationInitialToEstimated.fromDate;\n\n    var actualDate = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName);\n    var relativeTime = bizagi.util.dateFormatter.getRelativeTime(new Date(actualDate.getTime() - differenceCreatedToCurrent), null, false, timeZoneName);\n    argsTemplate.colorState = currentWorkitem.colorState;\n    argsTemplate.relativeTimeState = bizagi.localization.getResource(\"workportal-project-activity-state-opened\").replace(\"%s\", relativeTime);\n    argsTemplate.percentCompleteBar = 100;\n\n    if (diffMillisecondsCreationToSolution === 0) {\n      argsTemplate.showEstimatedSolutionDate = false;\n    } else\n    {\n      argsTemplate.showEstimatedSolutionDate = true;\n      if (currentDateExceededEstimatedDate === false) {\n        var percentBar = self.getPercentBar(differenceInitialToEstimated / 1000 / 60, differenceCurrentToEstimated / 1000 / 60);\n        argsTemplate.percentCompleteBar = percentBar.percent;\n      }\n    }\n\n    if (currentWorkitem) {\n      argsTemplate.isEvent = bizagi.util.parseBoolean(currentWorkitem.isEvent);\n      argsTemplate.canShareActivity = currentWorkitem.canShareActivity;\n      argsTemplate.isShared = currentWorkitem.isShared;\n    }\n\n    argsTemplate.estimatedSolutionDateFormat = self.getFormattedDate(estimatedSolutionDateObject);\n\n    //Update widget\n    self.updateTemplateWidget(argsTemplate, currentState);\n  },\n\n  getPercentBar: function getPercentBar(totalMinutes, sectionMinutes) {\n    var response = {};\n    response.percent = Math.round((1 - sectionMinutes / totalMinutes) * 100);\n    return response;\n  },\n\n\n  updateTemplateWidget: function updateTemplateWidget(argsTemplate, currentState) {\n    var self = this,\n    $content = self.getContent().empty();\n    if (bizagi.override.enableShareActivity === false) {\n      argsTemplate.canShareActivity = false;\n      argsTemplate.isShared = false;\n    }\n    //Update widget\n    var contentTemplate = self.getTemplate(\"project-activityState-wrapper\");\n    contentTemplate.\n    render(argsTemplate).appendTo($content);\n\n    if (currentState.length > 0) {\n      self.initilizeActionMenu(currentState);\n    }\n    self.shareActivityTooltip();\n  },\n\n  /**\r\n      * show tooltip when the activity is shared or can be\r\n      */\n  shareActivityTooltip: function shareActivityTooltip() {\n    var self = this;\n    var activityButton = $(\"#ui-bizagi-wp-project-activity-button\", self.content);\n    activityButton.on('mouseenter', function () {\n      var texto = activityButton.hasClass(\"ui-bizagi-wp-project-activity-shared\") ? \"workportal-project-activity-shared\" : \"workportal-project-activity-share\";\n      activityButton.attr(\"title\", bizagi.localization.getResource(texto));\n    });\n    activityButton.tooltip({\n      tooltipClass: \"custom-tooltip-styling-bottom-bar\",\n      position: {\n        my: 'right top',\n        at: 'left top',\n        of: activityButton,\n        collision: 'flip' } });\n\n\n  },\n\n  getFormattedDate: function getFormattedDate(dateObj) {\n    var self = this;\n    var monthsNames = self.datePickerRegional.monthNames;\n    var shortMonth = dateObj.getMonth();\n    var bizagiLanguage = BIZAGI_LANGUAGE;\n    if (bizagiLanguage != null && bizagiLanguage != undefined && bizagiLanguage.length > 0 && bizagiLanguage.substring(0, 2) == \"fr\")\n    return $.datepicker.formatDate(\"dd\", dateObj) + \" \" + monthsNames[shortMonth];else\n\n    return monthsNames[shortMonth] + \" \" + $.datepicker.formatDate(\"dd\", dateObj);\n  },\n\n  clean: function clean() {\n    var self = this;\n    var cntxtSidebarActivity = self.contextsSidebarActivity || [];\n    this.params = {};\n    cntxtSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  /**\r\n      * Call services\r\n      */\n  callGetEffectiveDuration: function callGetEffectiveDuration(params) {\n    var self = this;\n    var d = $.Deferred();\n\n    //Fix .NET, multiple call service with same data in a few milliseconds\n    setTimeout(function () {\n      if (params.fromDate) {\n        $.when(\n        self.dataService.getEffectiveDuration(params)).\n        done(function (data) {\n          d.resolve(data);\n        });\n      } else\n      {\n        d.resolve(null);\n      }\n    }, 200);\n\n\n    return d.promise();\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.activityState\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.activityState]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Process State Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.processState\", {}, {\n  /*\r\n                                                                                                 *   Constructor\r\n                                                                                                 */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Load templates\n    self.loadTemplates({\n      \"project-process-state\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.processState\").concat(\"#project-process-state\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"project-process-state\");\n    self.content = template.render({});\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this,\n    args = params.args,\n    $content = self.getContent().empty();\n    self.params = args;\n\n    var argsTemplate = {};\n    argsTemplate[\"showParentProcess\"] = args[\"idParentCase\"] >= 1 ? true : false;\n    argsTemplate[\"parentProcess\"] = {\n      \"displayName\": args[\"parentDisplayName\"],\n      \"idCase\": args[\"idParentCase\"],\n      \"idWorkItem\": args[\"idWorkItem\"],\n      \"idTask\": args[\"idTask\"] == \"0\" ? \"\" : args[\"idTask\"],\n      \"idWorkflow\": args[\"idWorkflowParentCase\"] };\n\n\n    //Update widget\n    var contentTemplate = self.getTemplate(\"project-process-state\");\n    contentTemplate.\n    render($.extend(args, argsTemplate)).\n    appendTo($content);\n\n    //handle click\n\n    $(\"#go-to-parent-case\", $content).on(\"click\", $.proxy(self.onClickGoToParentCase, self));\n\n  },\n\n  onClickGoToParentCase: function onClickGoToParentCase(event) {\n    event.preventDefault();\n    var self = this;\n\n    self.routingExecute($(event.target).closest(\"#go-to-parent-case\"));\n  },\n\n  clean: function clean() {\n    var self = this;\n    self.params = {};\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  } });\n\n\n\nbizagi.injector.register('bizagi.workportal.widgets.project.processState', ['workportalFacade', 'dataService', bizagi.workportal.widgets.project.processState]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Users Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.users\", {}, {\n  /*\r\n                                                                                          *   Constructor\r\n                                                                                          */\n  init: function init(workportalFacade, dataService, relatedusers, params) {\n    var self = this;\n    self.relatedusers = relatedusers;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    self.plugins = {};\n    self.users = [];\n    self.loadedUsers = false;\n\n    //Load templates\n    self.loadTemplates({\n      \"project-users\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.users\").concat(\"#project-users-main\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n    self.sub('ON_RENDER_FINISH', $.proxy(self.onRenderFinish, self));\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this;\n    self.params = params;\n    setTimeout(function () {\n      if (self.loadedUsers === false) {\n        self.onRenderFinish();\n      }\n    }, 500);\n  },\n\n  onRenderFinish: function onRenderFinish() {\n    var self = this;\n    var args = self.params.args;\n    var $content = self.getContent().empty();\n    self.loadedUsers = true;\n\n    var contentTemplate = self.getTemplate(\"project-users\");\n    contentTemplate.render().appendTo($content);\n    self.showCreatorInformation($content);\n\n    var typesAssignUser = [{\n      id: args.createdBy.userId,\n      typeName: \"owner\" }];\n\n\n    if (args.idCase > 0) {\n      self.relatedusers.render(self.content, \".relatedusers-wrapper\", args.idCase, typesAssignUser);\n    }\n  },\n\n  /**\r\n      * show the information of the creator case\r\n      * @param {string} $content html conteiner\r\n      */\n  showCreatorInformation: function showCreatorInformation($content) {\n    var self = this;\n    var params = {\n      userIds: self.params.args.createdBy.userId,\n      width: 50,\n      height: 50 };\n\n\n    self.dataService.getUsersData(params).done(function (user) {\n      var userInfo = usersAdapter.createJsonUserInfo(\n      user[0].id,\n      user[0].name,\n      user[0].username,\n      user[0].picture ? \"data:image/png;base64,\" + user[0].picture : undefined,\n      user[0].email,\n      user[0].name.getInitials(),\n      false,\n      true,\n      [],\n      []);\n\n      $content.find(\"#ui-bizagi-wp-project-users-wrapper .ui-bizagi-wp-project-users-creator-info\").userinformation(self, { user: userInfo });\n    });\n  },\n\n  clean: function clean() {\n    var self = this;\n    self.loadedUsers = false;\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.users\", [\"workportalFacade\", \"dataService\", \"relatedusers\", bizagi.workportal.widgets.project.users]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Subprocesses Data Tooltip\r\n *   Author: Bizagi Latam\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.subprocesses.data\", {\n\n  responseSubprocessState: {},\n  responseSubprocess: function responseSubprocess(newValue) {\n    if (newValue) {\n      responseSubprocessState = newValue;\n    }\n    return responseSubprocessState;\n  },\n\n  auxArrayListSubprocessesState: [],\n  auxArrayListSubprocesses: function auxArrayListSubprocesses(newItem) {\n    if (newItem) {\n      if (jQuery.isArray(newItem) && newItem.length === 0) {\n        this.auxArrayListSubprocessesState.length = 0; //clean array if change reference\n      } else\n      {\n        return this.auxArrayListSubprocessesState.push(newItem);\n      }\n    } else\n    {\n      return this.auxArrayListSubprocessesState;\n    }\n  } },\n{\n  /*\r\n   *   Constructor\r\n   */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    // Init static properties\n    self.Class.auxArrayListSubprocesses([]);\n\n    //Load templates\n    self.loadTemplates({\n      \"project-subprocesses-tootip-custom-properties\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.project.subprocesses.data\").concat(\"#project-subprocesses-tooltip-custom-properties-wrapper\") });\n\n  },\n\n\n  initializeTooltip: function initializeTooltip(selectorTooltip) {\n    var self = this;\n    var $content = self.getContent();\n\n    $(selectorTooltip, $content).tooltip({\n      position: {\n        collision: \"flipfit\",\n        my: \"right center\", at: \"left-10 center\" },\n\n      show: null, // show immediately\n      content: function content() {\n\n        var idCase = $(this).closest(\"li\").find(\"#idCase\").val();\n        var itemsFinded = self.Class.auxArrayListSubprocesses().filter(function (item) {\n          return item.idCase == idCase;\n        });\n\n        var indexSubprocess, idCustData, text;\n        if (itemsFinded.length > 0) {\n          indexSubprocess = itemsFinded[0].indexSubprocess;\n          idCustData = itemsFinded[0].idCustData;\n          text = $(this).text();\n\n          return self.getContentTooltip(indexSubprocess, idCustData, text,\n          self.getTemplate(\"project-subprocesses-tootip-custom-properties\"));\n        }\n\n\n      },\n      open: function open(event, ui) {\n        if (typeof event.originalEvent === 'undefined') {\n          return false;\n        }\n        var $id = $(ui.tooltip).attr('id');\n        // close any lingering tooltips\n        $('div.ui-tooltip').not('#' + $id).remove();\n      },\n      close: function close(event, ui) {\n        ui.tooltip.hover(function () {\n          $(this).stop(true).fadeTo(400, 1);\n        },\n        function () {\n          $(this).fadeOut('400', function () {\n            $(this).remove();\n          });\n        });\n      } });\n\n  },\n\n  getContentTooltip: function getContentTooltip(indexSubprocess, idCustData, textLI, templateTooltip) {\n    var self = this;\n\n    //when not show custom columns\n    if (idCustData == \"-1\") {\n      idCustData = \"0\"; //So show only basic data subprocess\n    }\n\n    var rowCustomProperty = function rowCustomProperty(nameProperty, valueProperty) {\n      return {\n        nameProperty: nameProperty,\n        valueProperty: valueProperty };\n\n    };\n\n    var arrayCustomsProperties = [];\n    var auxValueProperty = \"\";\n    var subprocessData = self.getSubprocessData(indexSubprocess, idCustData);\n    var custData = subprocessData.custData;\n    var custDataTypes = subprocessData.custDataTypes;\n    var custFields = subprocessData.custFields;\n    var displayName = subprocessData.displayName;\n\n    //subproceso\n    arrayCustomsProperties.push(new rowCustomProperty(bizagi.localization.getResource(\"workportal-widget-inboxcommon-subprocess\"), displayName));\n\n    //Others custom properties\n    if (custData.length) {\n      for (var i = 0; i < custData.length; i += 1) {\n        auxValueProperty = custData[i];\n        if (custDataTypes) {\n          if (custDataTypes[i] == \"Money\") {\n            auxValueProperty = bizagi.util.formatMonetaryCell(auxValueProperty);\n          } else {\n            if (custDataTypes[i] == \"Boolean\") {\n              auxValueProperty = bizagi.util.formatBoolean(auxValueProperty);\n            } else {\n              if (custDataTypes[i] == \"Float\" || custDataTypes[i] == \"Real\") {\n                auxValueProperty = bizagi.util.formatDecimalCell(auxValueProperty);\n              } else\n              {\n                if (typeof auxValueProperty === \"function\") {\n                  auxValueProperty = \"\";\n                }\n              }\n            }\n          }\n        }\n        arrayCustomsProperties.push(new rowCustomProperty(custFields[i], auxValueProperty));\n      }\n    }\n\n    //Render properties\n    var objectTemplate = {};\n    objectTemplate.arrayCustomsProperties = arrayCustomsProperties;\n    objectTemplate.nameSubprocess = textLI;\n    var contentTemplate = templateTooltip;\n    var contentTableCustomProperties = $('<div class=\"bizagi-custom-tooltip-subprocesses\"></div>');\n    contentTemplate.render(objectTemplate).appendTo(contentTableCustomProperties);\n\n    return contentTableCustomProperties.html();\n  },\n\n  getSubprocessData: function getSubprocessData(indexSubprocess, idCustData) {\n    var self = this;\n    var subProcessData = {};\n    var subProcess = self.Class.responseSubprocess().subProcesses;\n    var subProcPersonalized = self.Class.responseSubprocess().subProcPersonalized;\n\n    if (subProcess && subProcess.length > 0) {\n      subProcessData.custData = subProcess[indexSubprocess].custData;\n      subProcessData.custDataTypes = subProcess[indexSubprocess].custDataTypes;\n      var customFields = self.Class.responseSubprocess().CustFields[idCustData];\n      subProcessData.custFields = customFields[Object.keys(customFields)[0]];\n      subProcessData.displayName = subProcess[indexSubprocess].displayName;\n    } else if (subProcPersonalized && Object.keys(subProcPersonalized).length > 0) {\n      subProcessData.custData = subProcPersonalized[0].subProcesses[indexSubprocess].custData;\n      subProcessData.custDataTypes = subProcPersonalized[0].subProcesses[indexSubprocess].custDataTypes;\n      subProcessData.custFields = subProcPersonalized[0].CustFields[0];\n      subProcessData.displayName = subProcPersonalized[0].subProcesses[indexSubprocess].displayName;\n    }\n    return subProcessData;\n  },\n\n\n  clean: function clean() {\n\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.subprocesses.data\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.subprocesses.data]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Events Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.project.subprocesses.data.extend(\"bizagi.workportal.widgets.project.events\", {}, {\n  /*\r\n                                                                                                              *   Constructor\r\n                                                                                                              */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Load templates\n    self.loadTemplates({\n      \"project-events\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.events\").concat(\"#project-events-wrapper\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"project-events\");\n    self.content = template.render({});\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this,\n    args = params.args,\n    $content = self.getContent().empty();\n    self.params = args;\n\n    $.when(self.getArgsTemplate(args)).done(function (responseArgsTemplate) {\n      //Update widget\n      var contentTemplate = self.getTemplate(\"project-events\");\n      contentTemplate.\n      render($.extend(args, responseArgsTemplate)).\n      appendTo($content);\n\n      $(\".list-events li.event a\", $content).on(\"click\", $.proxy(self.onClickGoEvent, self));\n\n      self.initializeTooltip(\".list-events li\");\n    });\n  },\n\n  getArgsTemplate: function getArgsTemplate(args) {\n    var def = $.Deferred(),\n    argsTemplate = {},\n    self = this;\n\n    //check if show event tab or not\n    if (args[\"countEvents\"] >= 1) {\n      for (var i = 0; i < args[\"currentState\"].length; i++) {\n        if (args[\"currentState\"][i][\"isEvent\"] == \"true\" && args[\"currentState\"][i][\"idWorkItem\"] == args.idWorkitem) {\n          args[\"countEvents\"] = args[\"countEvents\"] - 1;\n        }\n      }\n    }\n    argsTemplate[\"showEvents\"] = args[\"countEvents\"] >= 1 ? true : false;\n\n    if (argsTemplate[\"showEvents\"]) {\n      $.when(self.callSummaryCaseEvents(args.idCase)).done(function (responseEvents) {\n        args[\"showEvents\"] = responseEvents[\"events\"].length >= 1 ? true : false;\n\n        if (args[\"showEvents\"]) {\n          argsTemplate[\"events\"] = [];\n          responseEvents[\"events\"].forEach(function (elementEvent) {\n            argsTemplate[\"events\"].push($.extend(elementEvent[Object.keys(elementEvent)[0]],\n            { idWorkFlow: responseEvents[\"idWorkFlow\"] }));\n          });\n        }\n        def.resolve(argsTemplate);\n      });\n    } else\n    {\n      def.resolve(argsTemplate);\n    }\n    return def.promise();\n  },\n\n  /**\r\n      * Events UI\r\n      */\n\n  onClickGoEvent: function onClickGoEvent(event) {\n    event.preventDefault();\n    var self = this;\n    $.when(bizagi.util.autoSave()).done(function () {\n      self.routingExecute($(event.target).closest(\"li\"));\n    });\n  },\n\n  /**\r\n      * Call services\r\n      */\n\n  /*\r\n          *  Get data for users\r\n          */\n  callSummaryCaseEvents: function callSummaryCaseEvents(idCase) {\n    var self = this,\n    def = $.Deferred();\n\n    $.when(\n    self.dataService.summaryCaseEvents({\n      idCase: idCase })).\n\n    done(function (events) {\n      def.resolve(events);\n    });\n\n    return def.promise();\n  },\n\n  clean: function clean() {\n    var self = this;\n    this.params = {};\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  } });\n\n\n\nbizagi.injector.register('bizagi.workportal.widgets.project.events', ['workportalFacade', 'dataService', bizagi.workportal.widgets.project.events], true);","/*\r\n *   Name: Bizagi Workportal Desktop Project Subprocesses Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.project.subprocesses.data.extend(\"bizagi.workportal.widgets.project.subprocesses\", {\n\n  responseSubprocess: function responseSubprocess(newValue) {\n    return this._super(newValue);\n  },\n\n  auxArrayListSubprocesses: function auxArrayListSubprocesses(newValue) {\n    return this._super(newValue);\n  } },\n\n{\n  /*\r\n   *   Constructor\r\n   */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Load templates\n    self.loadTemplates({\n      \"project-subprocesses\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.subprocesses\").concat(\"#project-subprocesses-wrapper\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this,\n    args = params.args,\n    $content = self.getContent().empty();\n    self.params = args;\n\n    if (self.params.idCase > 0) {\n      $.when(\n      self.dataService.summarySubProcess({\n        idCase: self.params.idCase })).\n\n      done(function (responseSubprocess) {\n        self.Class.responseSubprocess(responseSubprocess);\n\n        self.organizeDataForSubprocesses(self.params);\n      });\n    }\n  },\n\n  organizeDataForSubprocesses: function organizeDataForSubprocesses(args) {\n    var self = this;\n    if (self.Class.responseSubprocess().showSubProcess) {\n      $.each(self.Class.responseSubprocess().subProcesses, function (key) {\n        var custData = self.Class.responseSubprocess().subProcesses[key].custData;\n        if (custData && custData.length) {\n          for (var i = 0; i < custData.length; i += 1) {\n            if (custData[i] === null) {\n              custData[i] = \"\";\n            }\n          }\n        }\n\n      });\n\n      var subProcess = self.Class.responseSubprocess().subProcesses || self.Class.responseSubprocess().subProcPersonalized;\n\n      //prepare array with subprocess\n      self.Class.auxArrayListSubprocesses([]);\n      for (var i = 0; i < Object.keys(subProcess).length; i += 1) {\n        var tempSubprocesses = subProcess[i];\n\n        self.Class.auxArrayListSubprocesses({\n          isOpen: tempSubprocesses.isOpen,\n          radNumber: tempSubprocesses.radNumber,\n          displayName: tempSubprocesses.displayName,\n          idCase: tempSubprocesses.idCase,\n          indexSubprocess: i,\n          idCustData: tempSubprocesses.idCustData });\n\n        if (tempSubprocesses.subProcesses) {\n          Object.keys(tempSubprocesses).forEach(function (key) {//only one iteration\n            self.Class.auxArrayListSubprocesses({\n              isOpen: tempSubprocesses[key].isOpen,\n              radNumber: tempSubprocesses[key].radNumber,\n              displayName: tempSubprocesses[key].displayName,\n              idCase: tempSubprocesses[key].idCase,\n              indexSubprocess: i,\n              idCustData: tempSubprocesses[key].idCustData });\n\n          });\n        }\n      }\n\n      self.renderWidget();\n    }\n  },\n\n  renderWidget: function renderWidget() {\n    var self = this;\n    var $content = self.getContent();\n\n    //Update widget\n    var contentTemplate = self.getTemplate(\"project-subprocesses\");\n    contentTemplate.\n    render({ auxArrayListSubprocesses: self.Class.auxArrayListSubprocesses() }).\n    appendTo($content);\n\n    $(\".list-subprocesses a\", $content).on(\"click\", $.proxy(self.onClickGoSubprocess, self));\n\n    self.initializeTooltip(\".list-subprocesses li\");\n  },\n\n\n  /**\r\n      * Events UI\r\n      */\n\n  onClickGoSubprocess: function onClickGoSubprocess(event) {\n    event.preventDefault();\n    var self = this;\n\n    self.routingExecute($(event.target).closest(\"li\"));\n  },\n\n  clean: function clean() {\n    var self = this;\n\n    self.params = {};\n    self.pluginTooltip = null;\n\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  } });\n\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.subprocesses\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.subprocesses]);","/*\r\n    Name   : Bizagi Workportal Project Activity Description\r\n    Created on : Jun 27, 2017\r\n    Author     : Diana Mogollon\r\n*/\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.activity.description\", {}, {\n\n  /*\r\n                                                                                                         *   Constructor\r\n                                                                                                         */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    params = params || {};\n\n    //Load templates\n    self.loadTemplates({\n      \"project-activity-description\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.activity.description\").concat(\"#project-activity-description\") });\n\n  },\n\n  /**\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"project-activity-description\");\n    self.content = template.render();\n    return self.content;\n  },\n\n  /**\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self.description = self.getWorkitemDescription();\n    if (self.description) {\n      self.callTaskDescription();\n    } else {\n      self.content = $('<div />');\n    }\n  },\n\n  /**\r\n      * \r\n      * Call task description widget \r\n      */\n\n  callTaskDescription: function callTaskDescription() {\n    var self = this;\n    var width = 310;\n    var taskDescriptionParams = {\n      container: $(\"#ui-bizagi-wp-project-activity-task_description_container\", self.content),\n      description: self.description,\n      width: width };\n\n    self.taskDescriptionWidget = new bizagi.workportal.widgets.task.description(self.workportalFacade, self.dataService, taskDescriptionParams);\n    self.taskDescriptionWidget.render();\n  },\n\n  getWorkitemDescription: function getWorkitemDescription() {\n    var self = this;\n    var params = self.params || {};\n    var idWorkitem = params.idWorkitem || 0;\n    var currentState = params.currentState || [];\n    var description = \"\";\n\n    for (var i = 0; i < currentState.length; i++) {\n      if (idWorkitem == currentState[i].idWorkItem) {\n        description = currentState[i].tskDescription;\n        break;\n      }\n    }\n\n    return description;\n  },\n\n  /**\r\n      * Clean widget\r\n      */\n  clean: function clean() {\n\n  } });\n\n\nbizagi.injector.register('bizagi.workportal.widgets.project.activity.description', ['workportalFacade', 'dataService', bizagi.workportal.widgets.project.activity.description], true);"]}