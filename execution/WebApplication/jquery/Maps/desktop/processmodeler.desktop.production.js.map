{"version":3,"sources":["jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.processModeler.js"],"names":["bizagi","workportal","widgets","widget","extend","init","workportalFacade","dataService","params","this","_super","loadTemplates","processModelerWrapper","getTemplate","concat","useNewEngine","renderContent","template","content","$","tmpl","postRender","isAdhoc","data","$processModelerCanvas","modeler","bpmn","viewer","getDiagram","self","processId","idProcess","when","getAdhocProcessDiagram","done","diagram","render"],"mappings":"AAOAA,OAAOC,WAAWC,QAAQC,OAAOC,OAAO,2CAA4C,GAAI,CACtFC,KAAM,SAAcC,EAAkBC,EAAaC,GACtCC,KAENC,OAAOJ,EAAkBC,EAAaC,GAFhCC,KAKNE,cAAc,CACjBC,sBAAyBZ,OAAOa,YAAY,oDAAoDC,OAAO,2DACvGC,cAAc,KAIlBC,cAAe,WACb,IACIC,EADOR,KACSI,YAAY,yBAEhC,OAHWJ,KAENS,QAAUC,EAAEC,KAAKH,EAAU,IAFrBR,KAGCS,SAGdG,WAAY,WACV,IACIC,EAAUb,KAAKD,OAAOe,KAAKD,QADpBb,KAENe,sBAAwBL,EAAE,UAFpBV,KAEoCS,SAFpCT,KAGNgB,QAAU,IAAIzB,OAAO0B,KAAKD,QAAQE,OAAOL,GAHnCb,KAINmB,cAEPA,WAAY,WACV,IAAIC,EAAOpB,KACPqB,EAAYrB,KAAKD,OAAOe,KAAKQ,UACjCZ,EAAEa,KAAKH,EAAKtB,YAAY0B,uBAAuBH,IAAYI,MAAK,SAAUC,GAExEN,EAAKJ,QAAQW,OAAOP,EAAKL,sBAAuBW","sourcesContent":["/**\r\n * Name: BizAgi Desktop Widget Process Modeler View\r\n *\r\n * @author Diego Armando Monroy Barrera\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.processmodeler\", {}, {\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"processModelerWrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.processModeler\").concat(\"#ui-bizagi-workportal-widget-processmodelerview-wrapper\"),\n      useNewEngine: false });\n\n  },\n\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"processModelerWrapper\");\n    self.content = $.tmpl(template, {});\n    return self.content;\n  },\n\n  postRender: function postRender() {\n    var self = this;\n    var isAdhoc = this.params.data.isAdhoc;\n    self.$processModelerCanvas = $(\"#canvas\", self.content);\n    self.modeler = new bizagi.bpmn.modeler.viewer(isAdhoc);\n    self.getDiagram();\n  },\n  getDiagram: function getDiagram() {\n    var self = this;\n    var processId = this.params.data.idProcess;\n    $.when(self.dataService.getAdhocProcessDiagram(processId)).done(function (diagram) {\n      //self.modeler.load( diagram );\n      self.modeler.render(self.$processModelerCanvas, diagram);\n    });\n  } });"]}