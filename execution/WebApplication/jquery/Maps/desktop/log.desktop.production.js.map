{"version":3,"sources":["jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.activity.log.js","jquery/workportal/desktop/widget/project.overview/bizagi.workportal.desktop.widgets.project.overview.js","jquery/workportal/desktop/widget/project.dashboard.menu/bizagi.workportal.desktop.widgets.project.dashboard.menu.js","jquery/workportal/desktop/widget/project.dashboard.menu.activity/bizagi.workportal.desktop.widgets.project.dashboard.menu.activity.js","jquery/workportal/desktop/widget/project.content.dashboard/bizagi.workportal.desktop.widgets.project.content.dashboard.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.activity.log.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.authentication.log.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.authentication.log.js","jquery/workportal/desktop/widget/project.caseState/bizagi.workportal.desktop.widgets.project.caseState.js","jquery/workportal/desktop/widget/project.activityState/bizagi.workportal.desktop.widgets.project.activityState.js","jquery/workportal/desktop/widget/project.processState/bizagi.workportal.desktop.widgets.project.processState.js","jquery/workportal/desktop/widget/project.users/bizagi.workportal.desktop.widgets.project.users.js","jquery/workportal/desktop/widget/project.subprocesses.data/bizagi.workportal.desktop.widgets.project.subprocesses.data.js","jquery/workportal/desktop/widget/project.events/bizagi.workportal.desktop.widgets.project.events.js","jquery/workportal/desktop/widget/project.subprocesses/bizagi.workportal.desktop.widgets.project.subprocesses.js","jquery/workportal/desktop/widget/project.activity.description/bizagi.workportal.project.activity.description.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","bizagi","workportal","widgets","widget","extend","onDiscussionsMenuStatusChange","ev","params","this","updateDiscussionsIcons","hasDiscussionsOrComment","sub","$","proxy","toggle","clean","unsub","injector","register","project","dashboard","menu","init","workportalFacade","dataService","_super","loadTemplates","project-dashboard-menu","getTemplate","concat","renderContent","content","postRender","self","contextsLeftSidebarCaseDashboard","forEach","context","updateView","event","args","plan","idActivitySelected","undefined","$content","getContent","empty","type","showContextByMenuDashboard","argsTemplate","showFormOverview","menuDashboard","showFormActivity","showCommentsOptionMenu","showFilesOptionMenu","showTimeLineOptionMenu","isAdhocProcess","util","isEnableFeature","showPlanOptionMenu","contextPlanOptionMenu","contextFormActivityOptionMenu","render","appendTo","toUpperCase","addClass","siblings","removeClass","handlerEvents","loadContentById","preventDefault","$item","target","closest","hasClass","data","getLevelNavigator","pub","currentLevelNavigator","parseInt","nameItemNavigator","newLevelNavigator","localization","getResource","refreshLastItemBreadcrumb","histName","level","subMenuHandler","$comments","$files","$timeline","on","options","action","actions","BIZAGI_WORKPORTAL_ACTION_ROUTING","idCase","idTask","idWorkflow","idWorkItem","idWorkitem","referrer","publish","off","activity","project-content-dashboard","template","setTimeout","window","trigger","getWidgetName","BIZAGI_WORKPORTAL_WIDGET_ACTIVITY_LOG","tmpl","BIZAGI_WORKPORTAL_WIDGET_AUTHENTICATION_LOG","log","ATTR_VALUE_INDEX_COLUMN","ActivityLog","EntityLog","UserLog","ATTR_VALUE_MAX_LENGTH","SELECTORS","ATTR_VALUE_VIEW_MORE","DETAIL_WRAPPER","totalPages","maxRows","maxPages","currentPage","activity.log","activity.log.general.content","activity.log.header","activity.log.detail.header","activity.log.detail.content","useNewEngine","generalContentTmpl","generalHeaderContentTmpl","detailHeaderTmpl","detailContentTmpl","logCategories","ACTIVITIES","id","serviceMethod","detailServiceMethod","selectedDetailId","ENTITIES","USERS","ADMINISTRATION","containtersID","GENERAL","DETAIL","proxyPrefix","serviceLocator","services","service","getCaseNumber","done","response","caseNumber","initWidget","displayNoResults","setupHeader","headerWrapper","when","supportedLogTypes","supportedLogTypesData","Supported","available","getFirstAvailableLogTypes","getActivityLogByCategory","bindHeaderElementInteraction","fail","error","att","x","element","categoryObj","click","selectedCategoryObj","isEmptyObject","idActualPage","pageSize","result","total","generalActivityDataValidator","showErrorAlertDialog","showMessageBox","JSON","parse","responseText","message","rows","currentLogData","renderContentByCategory","generalWrapper","switchContent","pagData","getPaginationData","logCategory","logItems","getIcon","setUpPagination","length","show","hide","e","selectedLogItemIndex","currentTarget","index","preprocessDetailRender","pagination","page","pagesArray","pagesToShow","a","push","$pager","method","bizagiPagination","maxElemShow","actualPage","listElement","clickCallBack","selectedElement","getDetailRenderParams","currentDetailLogData","renderLogDetail","attr","idWorkItemFrom","idEntity","idUser","selectedElementData","detailWrapper","renderDetailContent","logFilterWrapper","showDetailResultMessage","applyDetailFilter","val","_eventsDeclare","$detailWrapper","getFilterParams","renderedTmpl","_renderDetailContentTmpl","remove","insertAfter","userFullName","attribDisplayName","entDisplayName","$logFilterWrapper","toLowerCase","_SELECTORS","Class","_content","_detailWrapper","_showCompleteAttributeValue","_params","title","detailItems","isAttrValue","_isAttrValue","bind","attrValue2show","_attrValue2show","showMoreButton4AttrValue","_showMoreButton4AttrValue","_html","find","html","showSimpleBox","selectedCategoryObjId","i","_position","console","value","substr","def","Deferred","_deferHeaderTmpl","_deferContentTmpl","detailHeaderResult","detailContentResult","append","resolve","promise","contentToDisplay","icons","icon","authentication","authentication.log","authentication.log.fields","authentication.log.button","authentication.log.result","authentication.log.pagination","maxPageToShow","fieldsContentTmpl","buttonContentTmpl","resultContentTmpl","paginationTmpl","setupInitialData","dataType","getAuthenticationLogData","domainList","eventTypeList","subEvenTypesList","subEventTypeList","fields","subEvenTypes","setupDatePicker","setupFooterButtons","formatDate","getDateFormat","timeFormat","datetimepicker","controlType","dateFormat","currentText","closeText","timeText","hourText","capitalize","minuteText","datePickerFormat","indexOf","replaceAll","search","button","widgetButtonSet","validateData","dtFrom","dtTo","dateFormatter","formatInvariant","getDateFromFormat","fieldsAreEmpty","errorMessage","domain","userName","eventSubType","displayName","eventType","pagSize","findResults","validateResponse","errorFieldName","replace","pageToShow","pag","getAuthenticationLogResult","resultList","totalRecords","records","resultTemplate","paginationHtml","pageToshow","summaryWrapper","pagerData","pages","pageNumber","project-overview","project-overview-no-summary-form-found","contentWidget","canvas","isPropagationStopped","stopPropagation","oldrenderevent","eventMethod","addEventListener","eventer","getWorkitems","onlyUserWorkItems","workItems","url","getUrl","iframeOldRender","getCaseFormsRenderVersion","formsVersion","formsRenderVersion","renderSummaryForm","container","rendering","facade","execute","summaryForm","subscribe","renderingFacade","resizeLayout","iframe","queryString","readQueryString","each","is","load","contents","cssLocation","browser","mozilla","webkit","overview","contextsSidebarActivity","datePickerRegional","project-caseState","project-caseState-remaining","project-cancel-case-button","isFavoriteCase","isFavorite","showCaseNumber","creationDate","timeZoneName","currentUser","creationDateObject","getDateWithTimezone","creationDateFormat","getFormattedDate","solutionDateObject","solutionDate","solutionDateFormat","currentDate","calculateDataForTemplate","showGraphicQuery","idCaseForGraphicQuery","idWorkFlow","isAdhoc","idProcess","idAdhocProcess","showHelpUrl","helpUrl","paramsEffectiveDuration","parseBoolean","isOpen","fromDate","getTime","toDate","differenceCreationToCurrent","actualDate","relativeTime","getRelativeTime","Date","relativeTimeState","colorStateCase","percentCompleteBar","showCancelCase","_showCancelCase","contentTemplate","buttonCancelCase","widgetParameters","widgetName","BIZAGI_WORKPORTAL_WIDGET_CANCEL_CASE","maximize","dialogClass","modalParameters","refreshInbox","width","height","closeVisible","validateUrlWellFormed","security","menuSecurity","urlHelp","isEmpty","_startShowCancelCase","onClickFavorite","goToCase","showBackNextNavigation","_navigatorWidget","get","_start","getShowCancelCase","dateObj","monthsNames","monthNames","shortMonth","getMonth","bizagiLanguage","BIZAGI_LANGUAGE","substring","datepicker","favoriteOptions","idObject","favoriteType","addFavorite","favoritesData","guidFavorite","idFavorites","delFavorite","open","callGetEffectiveDuration","d","getEffectiveDuration","cntxtSidebarActivity","getBackCase","getNextCase","getListKey","lstIdCases","key","nextCase","backCase","caseState","project-activityState-wrapper","currentState","currentWorkitem","filter","objectWorkItem","activityName","state","activityIsEvent","isEvent","initDateObject","entryDateWorkItem","initDateFormat","estimatedSolutionDateObject","estimatedSolutionDate","estimatedSolutionDateFormat","updateTemplateWidget","initilizeActionMenu","allowsReassign","j","btReassing","btShareActivity","onClickMenuReasign","onClickShareActivity","onCloseSaveDialogBox","loader","startAndThen","then","BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE","closeDialogWidget","getShareActivity","notifier","parent","unbind","showSucessMessage","showErrorMessage","always","diffMillisecondsCurrentToEstimated","diffMillisecondsCreationToSolution","paramsEffectiveDurationOpened","currentDateExceededEstimatedDate","paramsEffectiveDurationInitialToEstimated","differenceCreatedToCurrent","differenceCurrentToEstimated","differenceInitialToEstimated","colorState","showEstimatedSolutionDate","percentBar","getPercentBar","percent","canShareActivity","isShared","totalMinutes","sectionMinutes","Math","round","override","enableShareActivity","shareActivityTooltip","activityButton","texto","tooltip","tooltipClass","position","my","at","of","collision","activityState","project-process-state","onClickGoToParentCase","routingExecute","processState","relatedusers","plugins","users","loadedUsers","project-users","onRenderFinish","showCreatorInformation","typesAssignUser","createdBy","userId","typeName","userIds","getUsersData","user","userInfo","usersAdapter","createJsonUserInfo","name","username","picture","email","getInitials","userinformation","responseSubprocessState","responseSubprocess","newValue","auxArrayListSubprocessesState","auxArrayListSubprocesses","newItem","jQuery","isArray","project-subprocesses-tootip-custom-properties","initializeTooltip","selectorTooltip","indexSubprocess","idCustData","text","itemsFinded","item","getContentTooltip","ui","originalEvent","$id","not","close","hover","stop","fadeTo","fadeOut","textLI","templateTooltip","rowCustomProperty","nameProperty","valueProperty","arrayCustomsProperties","auxValueProperty","subprocessData","getSubprocessData","custData","custDataTypes","custFields","formatMonetaryCell","formatBoolean","formatDecimalCell","objectTemplate","nameSubprocess","contentTableCustomProperties","subProcessData","subProcess","subProcesses","subProcPersonalized","customFields","CustFields","Object","keys","subprocesses","project-events","getArgsTemplate","responseArgsTemplate","onClickGoEvent","callSummaryCaseEvents","responseEvents","elementEvent","autoSave","summaryCaseEvents","events","project-subprocesses","summarySubProcess","organizeDataForSubprocesses","showSubProcess","tempSubprocesses","radNumber","renderWidget","onClickGoSubprocess","pluginTooltip","project-activity-description","description","getWorkitemDescription","callTaskDescription","taskDescriptionParams","taskDescriptionWidget","task","tskDescription"],"mappings":"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","sourcesContent":["function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                * Admin module to case massively reassign\r\n                                                                                                                                                                                                                                                                                                                                                                                * \r\n                                                                                                                                                                                                                                                                                                                                                                                * @author David Nino, David Romero, Edward J Morales\r\n                                                                                                                                                                                                                                                                                                                                                                                */\nbizagi.workportal.widgets.activity.log.extend(\"bizagi.workportal.widgets.activity.log\", {\n\n  /**\r\n                                                                                           * index for attribute value column data from backend\r\n                                                                                           */\n  ATTR_VALUE_INDEX_COLUMN: {\n    ActivityLog: 2,\n    EntityLog: 1,\n    UserLog: 2 },\n\n\n  /**\r\n                   * string limit length for attribute value to show in table cell, limited by \"M\" Uppercase letter for 3 maximum text lines\r\n                   */\n  ATTR_VALUE_MAX_LENGTH: 89,\n\n  SELECTORS: {\n\n    /**\r\n                * view more button in attribute value table cell\r\n                */\n    ATTR_VALUE_VIEW_MORE: \".activity-log-attribute-value-container > a\",\n\n    /**\r\n                                                                          * detail wrapper for data in activity log\r\n                                                                          */\n    DETAIL_WRAPPER: \"#activity-log-data-detail-wrapper\" } },\n\n{\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    self.totalPages = 0;\n    self.maxRows = 10;\n    self.maxPages = 10;\n    self.currentPage = 1;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"activity.log\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.activity.log\").concat(\"#ui-bizagi-workportal-widget-activity-log\"),\n      \"activity.log.general.content\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.activity.log\").concat(\"#ui-bizagi-workportal-widget-activity-log-general-content\"),\n      \"activity.log.header\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.activity.log\").concat(\"#ui-bizagi-workportal-widget-activity-log-header\"),\n      \"activity.log.detail.header\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.activity.log\").concat(\"#ui-bizagi-workportal-widget-activity-log-detail-header\"),\n      \"activity.log.detail.content\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.activity.log\").concat(\"#ui-bizagi-workportal-widget-activity-log-detail-content\"),\n      useNewEngine: false });\n\n  },\n  postRender: function postRender() {\n    var self = this;\n\n    //Template vars\n    self.generalContentTmpl = self.getTemplate(\"activity.log.general.content\");\n    self.generalHeaderContentTmpl = self.getTemplate(\"activity.log.header\");\n\n    self.detailHeaderTmpl = self.getTemplate(\"activity.log.detail.header\");\n    self.detailContentTmpl = self.getTemplate(\"activity.log.detail.content\");\n\n    //Set the keys for each type of log, the service for the general table, and detail table\n    self.logCategories = {\n      ACTIVITIES: { id: \"ActivityLog\", serviceMethod: \"getActivityLog\", detailServiceMethod: \"getActivityDetailLog\", selectedDetailId: 0 },\n      ENTITIES: { id: \"EntityLog\", serviceMethod: \"getEntityLog\", detailServiceMethod: \"getEntityDetailLog\", selectedDetailId: 0 },\n      USERS: { id: \"UserLog\", serviceMethod: \"getUserLog\", detailServiceMethod: \"getUserDetailLog\", selectedDetailId: 0 },\n      ADMINISTRATION: { id: \"AdminLog\", serviceMethod: \"getAdminLog\" } };\n\n\n    //Sets the containers id\n    self.containtersID = {\n      GENERAL: \"general\",\n      DETAIL: \"detail\" };\n\n\n    //Creates an instance of render Services\n    var proxyPrefix = _typeof(self.dataService.serviceLocator.proxyPrefix) != undefined ? self.dataService.serviceLocator.proxyPrefix : \"\";\n    var renderServices = new bizagi.render.services.service({ \"proxyPrefix\": proxyPrefix });\n\n    //Gets the case number using the caseId\n    renderServices.getCaseNumber({\n      idCase: self.idCase }).\n    done(function (response) {\n      var caseNumber = response.caseNumber;\n      self.caseNumber = caseNumber ? caseNumber : self.idCase;\n\n      self.initWidget();\n    });\n\n  },\n\n  /*\r\n     *   Init the widgets building each separated element\r\n     */\n  initWidget: function initWidget() {\n\n    var self = this;\n\n    //Hides the \"no results\" message container\n    self.displayNoResults(false);\n\n    //set up the header\n    self.setupHeader();\n  },\n\n  /*\r\n     *   Setup the header using the results from the service supported log types\r\n     */\n  setupHeader: function setupHeader() {\n    var self = this;\n    content = self.getContent();\n\n    var headerWrapper = $(\"#activity-log-data-header-wrapper\", content);\n\n    $.when(self.dataService.supportedLogTypes()).done(function (supportedLogTypesData) {\n\n      //update the log types with the supported ones\n      $.tmpl(self.generalHeaderContentTmpl, { supportedLogTypes: supportedLogTypesData.Supported }).appendTo(headerWrapper);\n\n      //Find the first supported log type\n      var available = self.getFirstAvailableLogTypes(supportedLogTypesData.Supported);\n\n      //Reset  current page\n      self.currentPage = 1;\n\n      //Sends the object with the available log type\n      self.getActivityLogByCategory(self.logCategories[available]);\n\n      //Add the click events from the elements in the header\n      self.bindHeaderElementInteraction($(\"#LnkActivities\", self.content), self.logCategories.ACTIVITIES);\n      self.bindHeaderElementInteraction($(\"#LnkEntities\", self.content), self.logCategories.ENTITIES);\n      self.bindHeaderElementInteraction($(\"#LnkUsers\", self.content), self.logCategories.USERS);\n      self.bindHeaderElementInteraction($(\"#LnkAdmin\", self.content), self.logCategories.ADMINISTRATION);\n    }).fail(function (error) {});\n  },\n\n  /*\r\n     * Uses the supported log types data, finds the first element wich is available\r\n     */\n  getFirstAvailableLogTypes: function getFirstAvailableLogTypes(supportedLogTypesData) {\n    var self = this;\n    for (var att in self.logCategories) {\n      for (var x in supportedLogTypesData) {\n        if (self.logCategories[att].id == x && (supportedLogTypesData[x] == \"true\" || supportedLogTypesData[x] == true)) {\n          return att;\n        }\n      }\n    }\n\n    return \"\";\n  },\n\n  /*\r\n     *   Bind the element interaction with the category which it belongs\r\n     *   @param element (Object) DOM element which is going to be added the click event\r\n     *   @param categoryObj (Object) Log Categories object which have the required elements to call the services and create the template\r\n     */\n  bindHeaderElementInteraction: function bindHeaderElementInteraction(element, categoryObj) {\n    var self = this;\n\n    element.click(function () {\n      if (!$(this).hasClass('active')) {\n\n        $(\".active\", self.content).removeClass('active');\n\n        $(this).addClass('active');\n\n        self.currentPage = 1;\n        self.getActivityLogByCategory(categoryObj);\n      }\n    });\n  },\n\n  /*\r\n     *   Using the categoryOjb, get the service method and call the service to retrieve the log\r\n     *   @param categoryObj (Object) Log Categories object which have the required elements to call the services and create the template\r\n     */\n  getActivityLogByCategory: function getActivityLogByCategory(categoryObj) {\n    var self = this;\n\n    var params = {};\n\n    self.selectedCategoryObj = $.isEmptyObject(categoryObj) ? self.selectedCategoryObj : $.extend({}, categoryObj);\n\n    params = { idCase: self.idCase, idActualPage: self.currentPage, pageSize: self.maxRows };\n\n    var generalWrapper = $(\"#activity-log-data-general-wrapper\", content);\n    generalWrapper.addClass(\"ui-bizagi-component-loading\");\n\n    $.when(self.dataService[self.selectedCategoryObj.serviceMethod](params)).done(function (result) {\n      self.totalPages = result.total;\n      self.generalActivityDataValidator(result);\n    }).fail(function (error) {\n      bizagi.showErrorAlertDialog = false;\n      bizagi.showMessageBox(JSON.parse(error.responseText).message, \"Bizagi\", \"Error\");\n    });\n  },\n\n  /*\r\n     *   Validate the info gathered from the log service, and pre-render to show it in the required way\r\n     *   @param data (Object) Result from the log service\r\n     */\n  generalActivityDataValidator: function generalActivityDataValidator(data) {\n    var self = this,\n    content = self.getContent();\n\n    var generalWrapper = $(\"#activity-log-data-general-wrapper\", content);\n\n    if (data.rows) {\n      //Stores the current data\n      self.currentLogData = [].concat(data.rows);\n    } else {\n      self.currentLogData = [];\n    }\n\n    self.renderContentByCategory();\n  },\n\n  /*\r\n     *   Render the content from the selected log category\r\n     */\n  renderContentByCategory: function renderContentByCategory() {\n    var self = this,\n    content = self.getContent();\n\n    var generalWrapper = $(\"#activity-log-data-general-wrapper\", content);\n\n    var detailWrapper = $(\"#activity-log-data-detail-wrapper\", content);\n\n\n    //Removes the loading class\n    generalWrapper.removeClass(\"ui-bizagi-component-loading\");\n\n    //Clean the content\n    generalWrapper.empty();\n\n    self.switchContent(self.containtersID.GENERAL);\n\n    //Get data for pagination\n    var pagData = self.getPaginationData();\n\n    // Render Form\n    $.tmpl(self.generalContentTmpl, { logCategory: self.selectedCategoryObj.id, idCase: self.caseNumber, logItems: self.currentLogData, pagData: pagData, getIcon: self.getIcon }).appendTo(generalWrapper);\n\n    self.setUpPagination($(\"#biz-wp-activitylog-category-pager ul\", self.content), \"getActivityLogByCategory\");\n\n    //Show/hide the no-result message\n    if (self.currentLogData.length > 0) {\n      self.displayNoResults(false);\n      $(\".activity-log-table\", generalWrapper).show();\n    } else\n    {\n      self.displayNoResults(true);\n      $(\".activity-log-table\", generalWrapper).hide();\n    }\n\n    //Add Interactions\n    $(\".detail-item\", generalWrapper).click(function (e) {\n      e.preventDefault();\n\n      //Stores the Log  Item Index\n      self.selectedLogItemIndex = $($(e.currentTarget).closest(\"tr\")[0]).index() - 1;\n\n      //reset current page\n      self.currentPage = 1;\n\n      self.preprocessDetailRender($(this));\n    });\n\n    $(\".listHeaderLinks\", generalWrapper).click(function (e) {\n      e.preventDefault();\n    });\n  },\n\n  /*\r\n     * Get Pagination Data\r\n     */\n  getPaginationData: function getPaginationData() {\n\n    var self = this;\n    var pagination = self.totalPages > 1 ? true : false;\n\n    var pagData = {\n      page: self.currentPage,\n      pagesArray: [],\n      pagination: pagination };\n\n\n    var pagesToShow = self.maxPages > self.totalPages ? self.totalPages : self.maxPages;\n\n    for (var a = 0; a < pagesToShow; a++) {\n      pagData.pagesArray.push(a + 1);\n    }\n\n    return pagData;\n  },\n\n  /*\r\n     * SetUp Pagination\r\n     */\n  setUpPagination: function setUpPagination($pager, method) {\n\n    var self = this;\n\n    $pager.bizagiPagination({\n      maxElemShow: self.maxRows,\n      totalPages: self.totalPages,\n      actualPage: self.currentPage,\n      listElement: $pager,\n      clickCallBack: function clickCallBack(options) {\n        self.currentPage = parseInt(options.page);\n        self[method]({}, $pager);\n      } });\n\n  },\n\n  /*\r\n     *   Render the content from the selected log item\r\n     */\n  preprocessDetailRender: function preprocessDetailRender(selectedElement) {\n\n    var self = this,\n    content = self.getContent();\n\n    var params = self.getDetailRenderParams(selectedElement);\n\n    //Checks if the selected category have the detail service, and invokes it\n    if (self.selectedCategoryObj.detailServiceMethod) {\n      $.when(self.dataService[self.selectedCategoryObj.detailServiceMethod](params)).done(function (result) {\n\n        self.totalPages = result.total;\n\n        self.switchContent(self.containtersID.DETAIL);\n\n        //Current Log Data\n        if (result.rows) {\n          self.currentDetailLogData = [].concat(result.rows);\n        } else\n        {\n          self.currentDetailLogData = [];\n        }\n\n        self.renderLogDetail(result);\n\n      }).fail(function (error) {});\n    }\n  },\n\n  /*\r\n     * Get Detail Render Params\r\n     */\n  getDetailRenderParams: function getDetailRenderParams(selectedElement) {\n\n    var self = this;\n    var params, selectedDetailId;\n\n    switch (self.selectedCategoryObj.id) {\n      case self.logCategories.ACTIVITIES.id:\n\n        if ($.isEmptyObject(selectedElement)) {\n          selectedDetailId = self.logCategories.ACTIVITIES.selectedDetailId;\n        } else {\n          self.logCategories.ACTIVITIES.selectedDetailId = selectedDetailId = selectedElement.attr('data-id');\n        }\n\n        params = { idCase: self.idCase, idWorkItemFrom: selectedDetailId };\n\n        break;\n\n      case self.logCategories.ENTITIES.id:\n\n        if ($.isEmptyObject(selectedElement)) {\n          selectedDetailId = self.logCategories.ENTITIES.selectedDetailId;\n        } else {\n          self.logCategories.ENTITIES.selectedDetailId = selectedDetailId = selectedElement.attr('data-id');\n        }\n\n        params = { idCase: self.idCase, idEntity: selectedDetailId };\n\n        break;\n\n      case self.logCategories.USERS.id:\n\n        if ($.isEmptyObject(selectedElement)) {\n          selectedDetailId = self.logCategories.USERS.selectedDetailId;\n        } else {\n          self.logCategories.USERS.selectedDetailId = selectedDetailId = selectedElement.attr('data-id');\n        }\n\n        params = { idCase: self.idCase, idUser: selectedDetailId };\n\n        break;}\n\n\n    $.extend(params, { idActualPage: self.currentPage, pageSize: self.maxRows });\n\n    return params;\n  },\n\n  /*\r\n     *   Render the detail from the selected log item\r\n     */\n  renderLogDetail: function renderLogDetail(selectedElementData) {\n    var self = this,\n    content = self.getContent();\n\n    //Template Vars\n    var detailWrapper = $(\"#activity-log-data-detail-wrapper\", content);\n\n    //empty previous content\n    detailWrapper.empty();\n\n    //removes the loading class\n    detailWrapper.removeClass(\"ui-bizagi-component-loading\");\n\n    //render the detail content, including headers and table\n    $.when(self.renderDetailContent()).done(function () {\n      var logFilterWrapper = $(\"#log-filter-wrapper\", content);\n\n      //Show/hide the no-result message\n      self.showDetailResultMessage();\n\n      //Add the interaction handlers\n      $(\"#back-general-content\", detailWrapper).click(function (e) {\n        e.preventDefault();\n        self.displayNoResults(false);\n        self.switchContent(self.containtersID.GENERAL);\n      });\n\n      $(\"#apply-filter\", logFilterWrapper).click(function (e) {\n        e.preventDefault();\n\n        self.currentPage = 1;\n        self.applyDetailFilter();\n      });\n\n      $(\"#remove-filter\", logFilterWrapper).click(function (e) {\n        e.preventDefault();\n\n        //Clean the filter inputs\n        $(\"input\", logFilterWrapper).val(\"\");\n\n        self.currentPage = 1;\n        self.applyDetailFilter();\n      });\n\n      $(\".listHeaderLinks\", detailWrapper).click(function (e) {\n        e.preventDefault();\n      });\n\n      self._eventsDeclare();\n    });\n  },\n\n  /*\r\n     * Show detail result message \r\n     */\n  showDetailResultMessage: function showDetailResultMessage() {\n\n    var self = this;\n    var $detailWrapper = $(\"#activity-log-data-detail-wrapper\", self.getContent());\n\n    if (self.currentDetailLogData.length > 0) {\n      self.displayNoResults(false);\n      $(\".activity-log-table\", $detailWrapper).show();\n    } else\n    {\n      self.displayNoResults(true);\n      $(\".activity-log-table\", $detailWrapper).hide();\n    }\n  },\n\n  /*\r\n     * Apply detail filter\r\n     */\n  applyDetailFilter: function applyDetailFilter() {\n\n    var self = this;\n    var params = self.getFilterParams(),content = self.getContent();\n\n    //Checks if the selected category have the detail service, and invokes it\n    if (self.selectedCategoryObj.detailServiceMethod) {\n      $.when(self.dataService[self.selectedCategoryObj.detailServiceMethod](params)).done(function (result) {\n\n        self.totalPages = result.total;\n\n        //Current Log Data\n        if (result.rows) {\n          self.currentDetailLogData = [].concat(result.rows);\n        } else {\n          self.currentDetailLogData = [];\n        }\n\n        //Get data for pagination\n        var pagData = self.getPaginationData(),\n        renderedTmpl = self._renderDetailContentTmpl(pagData);\n\n        //Remove table\n        $(\"#bz-workportal-activitylog-detailcontent-wrapper\", content).remove();\n        $(renderedTmpl).insertAfter(\"#activity-log-data-detail-header-wrapper\", content);\n\n        //Show/hide the no-result message\n        self.showDetailResultMessage();\n\n        //Set up pagination\n        self.setUpPagination($(\"#biz-wp-activitylog-detail-pager ul\", content), \"applyDetailFilter\");\n        self._eventsDeclare();\n      });\n    }\n\n  },\n\n  /*\r\n     * Get params for the filter\r\n     */\n  getFilterParams: function getFilterParams() {\n\n    var self = this,\n    content = self.getContent(),\n    $logFilterWrapper = $(\"#log-filter-wrapper\", content),\n    params = self.getDetailRenderParams(),\n    userFullName,attribDisplayName,entDisplayName;\n\n    if (self.selectedCategoryObj.id == self.logCategories.ENTITIES.id) {\n      userFullName = $(\"#filterUser\", $logFilterWrapper).val().toLowerCase();\n    } else if (self.selectedCategoryObj.id == self.logCategories.USERS.id) {\n      entDisplayName = $(\"#filterEntity\", $logFilterWrapper).val().toLowerCase();\n    }\n\n    attribDisplayName = $(\"#filterAttribute\", $logFilterWrapper).val().toLowerCase();\n\n    $.extend(params, { userFullName: userFullName, attribDisplayName: attribDisplayName, entDisplayName: entDisplayName });\n\n    return params;\n  },\n\n  /**\r\n      * declare events for activity log results\r\n      */\n  _eventsDeclare: function _eventsDeclare() {\n    var self = this,\n    _SELECTORS = self.Class.SELECTORS,\n    _content = self.getContent(),\n    _detailWrapper = $(_SELECTORS.DETAIL_WRAPPER, _content);\n\n    $(_SELECTORS.ATTR_VALUE_VIEW_MORE, _detailWrapper).click(self._showCompleteAttributeValue);\n  },\n\n  /**\r\n      * render the Detail content\r\n      * @param {JSON} pagData \r\n      */\n  _renderDetailContentTmpl: function _renderDetailContentTmpl(pagData) {\n    var self = this,\n    _params = {\n      logCategory: self.selectedCategoryObj.id,\n      title: self.selectedCategoryObj.title,\n      detailItems: self.currentDetailLogData,\n      pagData: pagData,\n      isAttrValue: self._isAttrValue.bind(self, self.selectedCategoryObj.id),\n      attrValue2show: self._attrValue2show.bind(self),\n      showMoreButton4AttrValue: self._showMoreButton4AttrValue.bind(self) };\n\n\n    return $.tmpl(self.detailContentTmpl, _params);\n  },\n\n  /**\r\n      * shows a modal with the complete attribute value\r\n      * @param {Event} e \r\n      */\n  _showCompleteAttributeValue: function _showCompleteAttributeValue(e) {\n    var _html = $(this).find(\"span\").html();\n    e.preventDefault();\n    bizagi.showSimpleBox(_html, bizagi.localization.getResource(\"workportal-widget-activity-log-table-details-title-attrvalue\"));\n  },\n\n  /**\r\n      * if is the 3th column is attribute value\r\n      * @param {ATTR_VALUE_INDEX_COLUMN} selectedCategoryObjId selected category\r\n      * @param {Int} i col index\r\n      */\n  _isAttrValue: function _isAttrValue(selectedCategoryObjId, i) {\n    var self = this,\n    _position = self.Class.ATTR_VALUE_INDEX_COLUMN[selectedCategoryObjId];\n    if (_position === undefined)\n    console.error(\"_isAttrValue: the selectedCategoryObjId \" + selectedCategoryObjId + \" does not exist\");\n    return i == _position;\n  },\n\n  /**\r\n      * split string for max length in column\r\n      * @param {String} value attribute value to show\r\n      */\n  _attrValue2show: function _attrValue2show(value) {\n    var self = this;\n    return value.substr(0, self.Class.ATTR_VALUE_MAX_LENGTH);\n  },\n\n  /**\r\n      * validate if the view more button is necessary\r\n      * @param {String} value attribute value to show\r\n      */\n  _showMoreButton4AttrValue: function _showMoreButton4AttrValue(value) {\n    var self = this;\n    return value.length > self.Class.ATTR_VALUE_MAX_LENGTH;\n  },\n\n  /*\r\n     *   Renders the detail info from the selected log item\r\n     *   return (Object) returns the promise after processing and attaching to the DOM the detail from the selected log item\r\n     */\n  renderDetailContent: function renderDetailContent() {\n    var self = this,\n    content = self.getContent(),\n    def = $.Deferred();\n\n    //DOM Vars\n    var detailWrapper = $(\"#activity-log-data-detail-wrapper\", content);\n\n    //Get data for pagination\n    var pagData = self.getPaginationData(),\n    _deferHeaderTmpl = $.tmpl(self.detailHeaderTmpl, { logCategory: self.selectedCategoryObj.id, idCase: self.caseNumber, data: self.currentLogData[self.selectedLogItemIndex] }),\n    _deferContentTmpl = self._renderDetailContentTmpl(pagData);\n\n    //append tree to wrapper\n    $.when(_deferHeaderTmpl, _deferContentTmpl).done(function (detailHeaderResult, detailContentResult) {\n\n      detailWrapper.append(detailHeaderResult);\n      detailContentResult.insertAfter(\"#activity-log-data-detail-header-wrapper\", detailWrapper);\n\n      //set up pagination\n      self.setUpPagination($(\"#biz-wp-activitylog-detail-pager ul\", self.content), \"preprocessDetailRender\");\n\n      def.resolve();\n    });\n\n    return def.promise();\n  },\n\n  /*\r\n     *   Switch the view from general view, and detail\r\n     *   @param (string) contentToDisplay : Specifies wich element want to display, the DETAIL view or GENERAL\r\n     */\n  switchContent: function switchContent(contentToDisplay) {\n    var self = this,\n    content = self.getContent();\n\n    var generalWrapper = $(\"#activity-log-data-general-wrapper\", content),\n    detailWrapper = $(\"#activity-log-data-detail-wrapper\", content);\n\n\n    if (self.containtersID.DETAIL == contentToDisplay) {\n      generalWrapper.hide();\n\n      detailWrapper.show();\n    } else {\n      generalWrapper.show();\n\n      detailWrapper.hide();\n    }\n  },\n\n  /*\r\n     * Display the \"no result\" message\r\n     */\n  displayNoResults: function displayNoResults(value) {\n    var self = this,\n    content = self.getContent();\n\n    if (value)\n    $(\"#activity-log-no-results\", content).show();else\n\n    $(\"#activity-log-no-results\", content).hide();\n  },\n\n  /**\r\n      * Return icon to show \r\n      * @param {*} id \r\n      */\n  getIcon: function getIcon(id) {\n    var icons = {\n      allocation: \"bzg-case-allocation\",\n      info: \"bzg-case-allocation-info\",\n      cancelled: \"bzg-case-canceled\" };\n\n    var icon = '';\n    switch (id) {\n      case 1:\n      case 6:\n      case 7:\n      case 1002:\n        icon = icons.allocation;\n        break;\n      case 3:\n      case 4:\n        icon = icons.info;\n        break;\n      case 1001:\n        icon = icons.cancelled;\n        break;}\n\n    return icon;\n  } });\n\n\nbizagi.injector.register('bizagi.workportal.widgets.activity.log', ['workportalFacade', 'dataService', bizagi.workportal.widgets.activity.log], true);","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name: Bizagi Workportal Desktop Project Overview Controller\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: David Romero Estrada\r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.overview\", {}, {\n\n  /*\r\n                                                                                            *   Constructor\r\n                                                                                            */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"project-overview\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.project.overview\").concat(\"#project-overview\"),\n      \"project-overview-no-summary-form-found\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.project.overview\").concat(\"#project-overview-no-summary-form-found\") });\n\n  },\n\n  /*\r\n     * Renders the template defined in the widget\r\n     */\n  renderContent: function renderContent() {\n\n    var self = this;\n    var template = self.getTemplate(\"project-overview\");\n\n    self.content = template.render({});\n    return self.content;\n  },\n\n  /*\r\n     * Links events with handlers\r\n     */\n  postRender: function postRender() {\n    var self = this;\n    var contentWidget = self.getContent();\n\n    var canvas = $(\"#ui-bizagi-wp-project-overview-wrapper\", contentWidget);\n\n    // Define action when render form has not been migrated\n    canvas.bind(\"oldrenderintegration\", function (e) {\n      if (e.isPropagationStopped()) {\n        return;\n      }\n      e.stopPropagation();\n\n      var template = self.workportalFacade.getTemplate(\"inbox-common-case-summary-oldrender\");\n      var data = {};\n\n      bizagi.oldrenderevent = true; // has been loaded\n      var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n      var eventer = window[eventMethod];\n      var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\";\n\n      // Listen to message from child window\n      eventer(messageEvent, function (e) {\n        e.stopPropagation();\n        self.publish(\"executeAction\", {\n          action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n          idCase: e.data });\n\n      }, false);\n\n      // Define wirkitem and idtask\n      $.when(self.dataService.getWorkitems({\n        idCase: self.params.idCase,\n        onlyUserWorkItems: true })).\n      done(function (getWorkitems) {\n        // verify workitem, in some cases these variables are not available\n        if (_typeof(getWorkitems.workItems) == \"object\" && getWorkitems.workItems.length >= 1) {\n          // Case Open\n          var idWorkitem = getWorkitems.workItems[0]['idWorkItem'];\n          var idTask = getWorkitems.workItems[0]['idTask'];\n          data.url = self.dataService.serviceLocator.getUrl(\"old-render\") + \"?PostBack=1&idCase=\" + self.idCase + \"&idWorkitem=\" + idWorkitem + \"&idTask=\" + idTask + \"&isSummary=1\";\n        } else {\n          // Case closed\n          data.url = self.dataService.serviceLocator.getUrl(\"old-render\") + \"?PostBack=1&idCase=\" + self.idCase + \"&isSummary=1\";\n        }\n\n        // Render content\n        canvas.empty();\n        $.tmpl(template, data).appendTo(canvas);\n        //Set styles\n        self.iframeOldRender($(\"iframe\", canvas));\n      });\n    });\n\n    var params = {\n      idCase: self.params.idCase };\n\n    $.when(self.dataService.getCaseFormsRenderVersion(params)).\n    done(function (formsVersion) {\n      if (formsVersion.formsRenderVersion == 1) {\n        canvas.trigger(\"oldrenderintegration\");\n      } else {\n        self.renderSummaryForm(self.params.idCase, $(\"#ui-bizagi-wp-project-overview-wrapper\", contentWidget));\n      }\n    });\n  },\n\n  renderSummaryForm: function renderSummaryForm(idCase, container) {\n    var self = this;\n\n    var proxyPrefix = _typeof(self.dataService.serviceLocator.proxyPrefix) != undefined ? self.dataService.serviceLocator.proxyPrefix : \"\";\n\n    // Load render page\n    var rendering = new bizagi.rendering.facade({ \"proxyPrefix\": proxyPrefix });\n\n    // Executes rendering into render container\n    rendering.execute({\n      canvas: container,\n      summaryForm: true,\n      idCase: idCase });\n\n    rendering.subscribe(\"no-data-found\", function () {\n      var template = self.getTemplate(\"project-overview-no-summary-form-found\");\n      container.append(template.render());\n    });\n\n    // Keep reference to rendering facade\n    self.renderingFacade = rendering;\n\n    // Resize layout\n    setTimeout(function () {\n      self.resizeLayout();\n    }, 1000);\n  },\n\n  /**\r\n      * Inject styles and js into the iframe\r\n      */\n  iframeOldRender: function iframeOldRender(canvas) {\n    var self = this;\n    var iframe;\n    var content = self.getContent();\n    var theme = \"bizagiDefault\";\n    var queryString = bizagi.readQueryString();\n\n    $.each(canvas, function () {\n      if ($(this).is(\"iframe\")) {\n        iframe = $(this);\n      }\n    });\n\n    iframe.load(function () {\n      // inject css\n      var content = $(this).contents();\n\n      // Fixed problem with relative path across the different browsers\n      var cssLocation = $.browser.mozilla || $.browser.webkit ? \"../../css/render_%theme%.css\" : \"css/render_%theme%.css\";\n\n      // Define theme\n      cssLocation = cssLocation.replace(\"%theme%\", queryString[\"theme\"] || theme);\n\n      // Append css\n      $('body', content).append(\"<link type='text/css' rel='stylesheet' href='\" + cssLocation + \"'>\");\n\n      // Append javascript\n      //  $('head',content).append(\"<script type='text/javascript' src='../../js/renderintegration.js'></script>\");\n    });\n  } });\n\n\n\nbizagi.injector.register('bizagi.workportal.widgets.project.overview', ['workportalFacade', 'dataService', bizagi.workportal.widgets.project.overview], true);","/**\r\n * Name: BizAgi Desktop Widget Dashboard menu (left sidebar) * \r\n * @author Valeria Vanegas\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.dashboard.menu\", {}, {\n\n  /**\r\n                                                                                                   * Handler when discussions menu status change\r\n                                                                                                   * @param {*} ev \r\n                                                                                                   * @param {*} params \r\n                                                                                                   */\n  onDiscussionsMenuStatusChange: function onDiscussionsMenuStatusChange(ev, params) {\n    var self = this;\n    self.updateDiscussionsIcons(params.hasDiscussionsOrComment);\n  },\n\n  /**\r\n      * Update discussions icon on sidebar menu\r\n      * The icon is different when there is other discussion or there are comments\r\n      * @param {*} hasDiscussionsOrComment \r\n      */\n  updateDiscussionsIcons: function updateDiscussionsIcons(hasDiscussionsOrComment) {\n    var self = this;\n\n    self.sub(\"UPDATE_DISCUSSIONS_MENU_STATUS\", $.proxy(self.onDiscussionsMenuStatusChange, self));\n\n    $(\".bz-icon-discussion-comment\").toggle(hasDiscussionsOrComment);\n    $(\".bz-icon-discussion-no-comment\").toggle(!hasDiscussionsOrComment);\n    self.params.hasDiscussionsOrComment = hasDiscussionsOrComment;\n  },\n\n  /**\r\n      * Detach events\r\n      */\n  clean: function clean() {\n    var self = this;\n    self.unsub(\"UPDATE_DISCUSSIONS_MENU_STATUS\", $.proxy(self.onDiscussionsMenuStatusChange, self));\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.dashboard.menu\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.dashboard.menu], true);","/*\r\n *   Name: Bizagi Workportal project Dashboard Menu Activity\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.project.dashboard.menu.extend(\"bizagi.workportal.widgets.project.dashboard.menu.activity\", {}, {\n\n  /**\r\n                                                                                                                            *   Constructor\r\n                                                                                                                            */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    self.params = params || {};\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"project-dashboard-menu\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.project.dashboard.menu.activity\").concat(\"#project-dashboard-menu1\") });\n\n  },\n\n  /**\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /**\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self._super();\n    //Handlers\n    self.params.contextsLeftSidebarCaseDashboard.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  /**\r\n      * Update view\r\n      * @param event\r\n      * @param params\r\n      */\n  updateView: function updateView(event, params) {\n    var self = this;\n    self.params = $.extend(self.params, params.args);\n    self.params.plan.idActivitySelected = undefined;\n    self.clean();\n    var $content = self.getContent().empty();\n\n    if (typeof event.type !== \"undefined\") {\n      self.params.showContextByMenuDashboard = event.type;\n    }\n\n    var argsTemplate = {\n      showFormOverview: self.params.menuDashboard.showFormOverview,\n      showFormActivity: self.params.menuDashboard.showFormActivity,\n      showCommentsOptionMenu: self.params.menuDashboard.showCommentsOptionMenu,\n      showFilesOptionMenu: self.params.menuDashboard.showFilesOptionMenu,\n      showTimeLineOptionMenu: self.params.menuDashboard.showTimeLineOptionMenu && (\n      !self.params.isAdhocProcess ||\n      self.params.isAdhocProcess && bizagi.util.isEnableFeature(\"enableTimelineOnLiveProcesses\")),\n      showPlanOptionMenu: self.params.menuDashboard.showPlanOptionMenu,\n      contextPlanOptionMenu: self.params.menuDashboard.contextPlanOptionMenu,\n      contextFormActivityOptionMenu: self.params.menuDashboard.contextFormActivityOptionMenu };\n\n\n    //Update widget\n    var template = self.getTemplate(\"project-dashboard-menu\");\n    template.render(argsTemplate).appendTo($content);\n\n\n    if (self.params.showContextByMenuDashboard) {\n      $(\"li[data-context='\" + self.params.showContextByMenuDashboard.toUpperCase() + \"']\", self.content).addClass(\"active\").siblings().removeClass(\"active\");\n    }\n\n    self.updateDiscussionsIcons(self.params.hasDiscussionsOrComment);\n    self.handlerEvents();\n  },\n\n  /**\r\n      *   Load Content By Id\r\n      */\n  loadContentById: function loadContentById(event) {\n    var self = this;\n    event.preventDefault();\n    var $item = $(event.target).closest(\"li\");\n\n    if (!$item.hasClass(\"active\")) {\n\n      var showContextByMenuDashboard = $item.data(\"context\");\n\n      if (showContextByMenuDashboard) {\n        var getLevelNavigator = self.pub(\"notify\", { type: \"NAVIGATOR_GETLEVEL\" });\n        var currentLevelNavigator = parseInt(getLevelNavigator[0], 10);\n        var nameItemNavigator = \"\";\n        var newLevelNavigator = currentLevelNavigator;\n\n        if (showContextByMenuDashboard == \"PLANACTIVITIES\") {\n          newLevelNavigator = currentLevelNavigator + 1;\n          nameItemNavigator = bizagi.localization.getResource(\"workportal-project-casedashboard-plan\");\n        }\n\n        self.params.refreshLastItemBreadcrumb = false;\n        self.pub(\"notify\", {\n          type: showContextByMenuDashboard.toUpperCase(),\n          args: $.extend(self.params, { showContextByMenuDashboard: showContextByMenuDashboard,\n            histName: nameItemNavigator,\n            level: newLevelNavigator }) });\n\n        $(\"li[data-context='\" + self.params.showContextByMenuDashboard.toUpperCase() + \"']\", self.content).addClass(\"active\").siblings().removeClass(\"active\");\n      }\n    }\n  },\n\n  subMenuHandler: function subMenuHandler() {\n    var self = this;\n    var content = self.getContent();\n    var $comments = $(\"[data-context='COMMENTS']\", content);\n    var $files = $(\"[data-context='FILES']\", content);\n    var $timeline = $(\"[data-context='TIMELINE']\", content);\n\n    $(\".ui-bizagi-wp-project-tab-submenu a\", content).on(\"click\", function () {\n      $comments.toggle();\n      $files.toggle();\n      $timeline.toggle();\n    });\n  },\n\n  /**\r\n      * Handler events\r\n      */\n  handlerEvents: function handlerEvents() {\n    var self = this;\n    var content = self.getContent();\n\n    self.subMenuHandler();\n\n    $(\".ui-bizagi-wp-project-tab-links a\", content).on(\"click\", $.proxy(self.loadContentById, self));\n\n    // Bind for click event on refresh botton\n    $(\".ui-bizagi-wp-project-tab-links li .ui-bizagi-refresh-form\", content).on(\"click\", function () {\n      var options = {\n        action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n        idCase: self.params.idCase,\n        idTask: self.params.idTask,\n        idWorkflow: self.params.idWorkflow,\n        idWorkItem: self.params.idWorkitem,\n        referrer: self.params.referrer || \"inboxGrid\" };\n\n      self.publish(\"executeAction\", options);\n    });\n  },\n\n  /**\r\n      * Clean widgets and events\r\n      */\n  clean: function clean() {\n    var self = this;\n    var content = self.getContent();\n\n    self._super();\n\n    if (self.params && self.params.contextsLeftSidebarCaseDashboard) {\n      self.params.contextsLeftSidebarCaseDashboard.forEach(function (context) {\n        self.unsub(context, $.proxy(self.updateView, self));\n      });\n    }\n\n    $(\".ui-bizagi-wp-project-tab-links a\", content).off();\n    $(\".ui-bizagi-wp-project-tab-links li .ui-bizagi-refresh-form\", content).off();\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.dashboard.menu.activity\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.dashboard.menu.activity], true);","/*\r\n *   Name: Bizagi Workportal Project Content Dashboard\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.content.dashboard\", {}, {\n\n  /*\r\n                                                                                                      *   Constructor\r\n                                                                                                      */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"project-content-dashboard\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.content.dashboard\").concat(\"#project-plan-content-dashboard\") });\n\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n\n    var template = self.getTemplate(\"project-content-dashboard\");\n    self.content = template.render({});\n\n    return self.content;\n  },\n  postRender: function postRender() {\n    var self = this;\n\n    setTimeout(function () {\n      $(window).trigger(\"resize\"); //Simulate resize for fix when load first time.\n    }, 1000);\n\n  } });\n\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.content.dashboard\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.content.dashboard], true);","/**\r\n * Activiy log for  activities, entities, and users\r\n * \r\n * @author David Andrs Nio\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.activity.log\", {}, {\n  /*\r\n                                                                                        *   Returns the widget name\r\n                                                                                        */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_ACTIVITY_LOG;\n  },\n  /*\r\n     *   Renders the content for the current controller\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"activity.log\");\n\n    self.idCase = self.params.idCase;\n    self.idWorkflow = self.params.idWorkflow;\n\n    var content = self.content = $.tmpl(template, { idCase: self.idCase });\n\n    return content;\n  } });","/**\r\n * Authentication log for users\r\n * \r\n * @author Christian Collazos\r\n */\n\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.authentication.log\", {}, {\n  /*\r\n                                                                                              *   Returns the widget name\r\n                                                                                              */\n  getWidgetName: function getWidgetName() {\n    return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_AUTHENTICATION_LOG;\n  },\n  /*\r\n     *   Renders the content for the current controller\r\n     */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"authentication.log\");\n    var content;\n\n    content = self.content = $.tmpl(template, {});\n\n    return content;\n  } });","/**\r\n * Name: BizAgi Desktop Widget Authentication Log Implementation\r\n * \r\n * @author Christian Collazos\r\n */\n\n\nbizagi.workportal.widgets.authentication.log.extend(\"bizagi.workportal.widgets.authentication.log\", {}, {\n\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    //Load templates\n    self.loadTemplates({\n      \"authentication.log\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.authentication.log\").concat(\"#ui-bizagi-workportal-widget-authentication-log\"),\n      \"authentication.log.fields\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.authentication.log\").concat(\"#ui-bizagi-workportal-widget-authentication-log-fields\"),\n      \"authentication.log.button\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.authentication.log\").concat(\"#ui-bizagi-workportal-widget-authentication-log-button\"),\n      \"authentication.log.result\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.authentication.log\").concat(\"#ui-bizagi-workportal-widget-authentication-log-result\"),\n      \"authentication.log.pagination\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.authentication.log\").concat(\"#ui-bizagi-workportal-widget-authentication-log-pagination\"),\n      useNewEngine: false });\n\n  },\n\n  postRender: function postRender() {\n    var self = this;\n    self.maxElemShow = 10;\n    self.maxPageToShow = 5;\n\n    //Template vars\n    self.generalContentTmpl = self.getTemplate(\"authentication.log\");\n    self.fieldsContentTmpl = self.getTemplate(\"authentication.log.fields\");\n    self.buttonContentTmpl = self.getTemplate(\"authentication.log.button\");\n    self.resultContentTmpl = self.getTemplate(\"authentication.log.result\");\n    self.paginationTmpl = self.getTemplate(\"authentication.log.pagination\");\n\n    //load form data\n    self.setupInitialData();\n  },\n\n  /*\r\n     * Load form fields and combo's data\r\n     */\n  setupInitialData: function setupInitialData() {\n    var self = this,\n    content = self.getContent();\n    var params = [{ dataType: \"domains\" }, { dataType: \"events\" }, { dataType: \"subEvents\" }];\n\n    $.when(self.dataService.getAuthenticationLogData(params[0]),\n    self.dataService.getAuthenticationLogData(params[1]),\n    self.dataService.getAuthenticationLogData(params[2])).\n    done(function (domainList, eventTypeList, subEvenTypesList) {\n\n      self.eventTypeList = eventTypeList[0].response;\n      self.subEventTypeList = subEvenTypesList[0].response;\n\n      var fields = $.tmpl(self.fieldsContentTmpl, { domainList: domainList[0],\n        eventTypeList: eventTypeList[0].response,\n        subEvenTypes: subEvenTypesList[0].response });\n\n\n      //append fields to wrapper\n      content.append(fields);\n\n      self.setupDatePicker();\n      self.setupFooterButtons();\n\n    }).fail(function (error) {\n      bizagi.log(error);\n    });\n  },\n\n  /*\r\n     * Load dateTime plugin and apply to respective fields\r\n     */\n  setupDatePicker: function setupDatePicker() {\n    var self = this;\n    var content = self.getContent();\n    var formatDate = self.getDateFormat();\n    var timeFormat = bizagi.localization.getResource('timeFormat');\n    $(\".biz-wp-form-datepicker\", content).datetimepicker({\n      controlType: 'select',\n      dateFormat: formatDate,\n      timeFormat: timeFormat,\n      currentText: bizagi.localization.getResource(\"render-timeentry-now\"),\n      closeText: bizagi.localization.getResource(\"workportal-general-button-label-done\"),\n      timeText: bizagi.localization.getResource(\"workportal-project-plan-time-title\"),\n      hourText: bizagi.localization.getResource(\"reports-general-hour\").capitalize(),\n      minuteText: bizagi.localization.getResource(\"reports-general-minute\").capitalize() });\n\n  },\n  /**\r\n      * Translate standard date format to jquery date picker\r\n      */\n  getDateFormat: function getDateFormat() {\n    var format = bizagi.localization.getResource('dateFormat');\n    var datePickerFormat = format;\n\n    // Fix month\n    if (datePickerFormat.indexOf(\"MMMM\") >= 0) {\n      datePickerFormat = datePickerFormat.replaceAll(\"MMMM\", \"MM\");\n    } else if (datePickerFormat.indexOf(\"MMM\") >= 0) {\n      // Month name short\n      datePickerFormat = datePickerFormat.replaceAll(\"MMM\", \"M\");\n    } else if (datePickerFormat.indexOf(\"MM\") >= 0) {\n      // Month two digits\n      datePickerFormat = datePickerFormat.replaceAll(\"MM\", \"mm\");\n    } else if (datePickerFormat.indexOf(\"M\") >= 0) {\n      // Month one digits\n      datePickerFormat = datePickerFormat.replaceAll(\"M\", \"m\");\n    }\n    // Fix years\n    if (datePickerFormat.search(\"yyyy\") != -1) {\n      datePickerFormat = datePickerFormat.replaceAll(\"yyyy\", \"yy\");\n    } else {\n      if (datePickerFormat.search(\"yy\") != -1) {\n        datePickerFormat = datePickerFormat.replaceAll(\"yy\", \"y\");\n      }\n    }\n\n    datePickerFormat = datePickerFormat.replaceAll(\"dddd\", \"DD\"); // Fix days\n\n    return datePickerFormat;\n  },\n\n  /*\r\n     * Implement button behaviour\r\n     */\n  setupFooterButtons: function setupFooterButtons() {\n    var self = this,\n    content = self.getContent(),\n    button = $.tmpl(self.buttonContentTmpl, {});\n\n    content.append(button);\n\n    var widgetButtonSet = $(\"#authentication-log-data-buttonset\", content);\n\n    $(\"#btn-authentication-search\", widgetButtonSet).click(function (e) {\n      //clean old results\n      $(\".biz-wp-table\").remove();\n      $(\"#biz-wp-table-summary-wrapper\").remove();\n      var validateData = self.validateData();\n      // Next added lines intend to send the value in invariant format + H:mm to the server\n      var dtFrom = $(\"#sinceDate\", content).val();\n      var dtTo = $(\"#toDate\", content).val();\n      if (dtFrom != \"\") dtFrom = bizagi.util.dateFormatter.formatInvariant(bizagi.util.dateFormatter.getDateFromFormat(dtFrom, self.getResource(\"dateFormat\") + \" \" + self.getResource(\"timeFormat\")), \"MM/dd/yyyy H:mm\");\n      if (dtTo != \"\") dtTo = bizagi.util.dateFormatter.formatInvariant(bizagi.util.dateFormatter.getDateFromFormat(dtTo, self.getResource(\"dateFormat\") + \" \" + self.getResource(\"timeFormat\")), \"MM/dd/yyyy H:mm\");\n      if (!validateData.fieldsAreEmpty && validateData.errorMessage == \"\") {\n        var params = {\n          action: \"AuthLog\",\n          domain: $(\"#domainList\", content).val() != \"none\" ? $(\"#domainList\", content).val() : \"\",\n          userName: $(\"#auth-log-user\", content).val(),\n          dtFrom: dtFrom,\n          dtTo: dtTo,\n          eventSubType: $(\"#subEventType\", content).val() != self.subEventTypeList[0].displayName ? $(\"#subEventType\", content).val() : \"\",\n          eventType: $(\"#eventType\", content).val() != self.eventTypeList[0].displayName ? $(\"#eventType\", content).val() : \"\",\n          pagSize: self.maxElemShow };\n\n\n        self.findResults(content, params);\n      } else {\n        bizagi.showMessageBox(validateData.errorMessage, \"Bizagi\", \"warning\");\n      }\n\n    });\n  },\n\n  /*\r\n     * Validate required fields\r\n     */\n  validateData: function validateData() {\n    var self = this,\n    content = self.getContent(),\n    validateResponse = { fieldsAreEmpty: false, errorMessage: \"\" },\n    errorMessage = \"\",\n    errorFieldName = \"\";\n    var dtFrom = $(\"#sinceDate\", content).val();\n    var dtTo = $(\"#toDate\", content).val();\n\n    if ($(\"#domainList\", content).val() == \"none\" &&\n    $(\"#user\", content).val() == \"\" &&\n    $(\"#eventType\", content).val() == self.eventTypeList[0].id &&\n    $(\"#subEventType\", content).val() == self.subEventTypeList[0].id &&\n    $(\"#sinceDate\", content).val() == \"\" &&\n    $(\"#toDate\", content).val() == \"\") {\n\n      validateResponse.fieldsAreEmpty = true;\n      validateResponse.errorMessage = bizagi.localization.getResource(\"workportal-widget-authentication-log-emptyfields-message\");\n    } else\n    if (dtFrom != \"\" && bizagi.util.dateFormatter.formatInvariant(bizagi.util.dateFormatter.getDateFromFormat(dtFrom, self.getResource(\"dateFormat\") + \" \" + self.getResource(\"timeFormat\")), \"MM/dd/yyyy H:mm\") == \"\") {\n      errorFieldName = bizagi.localization.getResource(\"workportal-widget-authentication-log-datesince\");\n      errorMessage = bizagi.localization.getResource(\"workportal-general-invalid-date\");\n      errorMessage = errorMessage.replace(\"{0}\", errorFieldName);\n      validateResponse.errorMessage = errorMessage;\n    } else\n    if (dtTo != \"\" && bizagi.util.dateFormatter.formatInvariant(bizagi.util.dateFormatter.getDateFromFormat(dtTo, self.getResource(\"dateFormat\") + \" \" + self.getResource(\"timeFormat\")), \"MM/dd/yyyy H:mm\") == \"\") {\n      errorFieldName = bizagi.localization.getResource(\"workportal-widget-authentication-log-dateto\");\n      errorMessage = bizagi.localization.getResource(\"workportal-general-invalid-date\");\n      errorMessage = errorMessage.replace(\"{0}\", errorFieldName);\n      validateResponse.errorMessage = errorMessage;\n    }\n    return validateResponse;\n  },\n\n  /*\r\n     * Find log results using the input data\r\n     */\n  findResults: function findResults(content, params, pageToShow) {\n    var self = this;\n\n    //If there is not a page to Show, begins whith the fist one\n    pageToShow ? params.pag = pageToShow : params.pag = 1;\n\n    $.when(\n    self.dataService.getAuthenticationLogResult(params)).\n    done(function (resultList) {\n\n      //clean old results\n      $(\".biz-wp-table\").remove();\n      $(\"#biz-wp-table-summary-wrapper\").remove();\n\n      //Keep in track the total Records\n      self.totalRecords = resultList.records;\n\n      //keep in track the total pages\n      self.totalPages = resultList.total;\n\n      if (resultList.rows.length > 0) {\n        var resultTemplate = $.tmpl(self.resultContentTmpl, { resultList: resultList.rows });\n        content.append(resultTemplate);\n\n        var pageToshow = self.maxPageToShow > self.totalPages ? self.totalPages : self.maxPageToShow;\n        var summaryWrapper = $(\"#biz-wp-table-pager-wrapper\");\n        var pagerData = {};\n        var paginationHtml;\n\n        // show or hide \"load more\" button\n        pagerData.pagination = self.totalPages > 1 ? true : false;\n        pagerData.page = resultList.page;\n        pagerData.pages = {};\n\n        for (var i = 1; i <= pageToshow; i++) {\n          pagerData[\"pages\"][i] = {\n            \"pageNumber\": i };\n\n        }\n\n        //load and append the paginator to the result table\n        paginationHtml = $.tmpl(self.paginationTmpl, pagerData).html();\n        summaryWrapper.append(paginationHtml);\n\n        //add data and behaviour to pager\n        $(\"ul\").bizagiPagination({\n          maxElemShow: self.maxElemShow,\n          totalPages: self.totalPages,\n          actualPage: resultList.page,\n          listElement: $(\"#biz-wp-table-pager-wrapper\"),\n          clickCallBack: function clickCallBack(options) {\n            self.findResults(content, params, options.page);\n          } });\n\n      } else {\n        bizagi.showMessageBox(bizagi.localization.getResource(\"workportal-widget-authentication-log-none\"), \"Bizagi\", \"warning\");\n      }\n\n\n    }).fail(function (error) {\n      bizagi.log(error);\n    });\n  } });","/*\r\n *   Name: Bizagi Workportal Desktop Project Case State Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.caseState\", {}, {\n  /*\r\n                                                                                              *   Constructor\r\n                                                                                              */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Regional\n    self.datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n\n    //Load templates\n    self.loadTemplates({\n      \"project-caseState\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.caseState\").concat(\"#project-caseState-wrapper\"),\n      \"project-caseState-remaining\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.caseState\").concat(\"#project-caseState-remaining\"),\n      \"project-cancel-case-button\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.caseState\").concat(\"#project-caseState-cancel-case-button\") });\n\n  },\n\n  /**\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var cntxtSidebarActivity = self.contextsSidebarActivity || [];\n    //Handlers\n    cntxtSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  /**\r\n      * Update view when load case\r\n      * @param event\r\n      * @param params\r\n      */\n  updateView: function updateView(event, params) {\n    var self = this;\n    $.extend(self.params, params.args);\n    var args = params.args;\n    self.getContent().empty();\n\n    var argsTemplate = {};\n\n    //is Favorite Case\n    argsTemplate.isFavoriteCase = \"off\";\n    if (args.isFavorite && JSON.parse(args.isFavorite)) {\n      argsTemplate.isFavoriteCase = \"bz-icon-star\";\n    } else\n    {\n      argsTemplate.isFavoriteCase = \"bz-icon-star-outline\";\n    }\n\n    self.showCaseNumber(args, argsTemplate);\n\n    //Begin Calculated Remaining Date\n    if (args.creationDate) {\n      var MOMENT_FORMAT = \"MM/DD/yyyy H:mm\";\n      var timeZoneName = bizagi.currentUser.timeZoneName;\n      var creationDate = args.creationDate;\n      var creationDateObject = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName, creationDate);\n\n      argsTemplate.creationDateFormat = self.getFormattedDate(creationDateObject);\n\n      var solutionDateObject = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName, args.solutionDate);\n      argsTemplate.solutionDateFormat = self.getFormattedDate(solutionDateObject);\n\n      var currentDate = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName);\n      self.calculateDataForTemplate(argsTemplate, creationDateObject, currentDate, solutionDateObject, args);\n    }\n    $(self.getContent()).on(\"click\", \".show-diagram-case\", function () {\n      var isAdhoc = false;\n      if (!self.params.isAdhocProcess || typeof self.params.isAdhocProcess === 'undefined') {\n        isAdhoc = false;\n      } else {\n        isAdhoc = true;\n      }\n      if (isAdhoc) {\n        self.showGraphicQuery({ idCase: self.params.idCaseForGraphicQuery || self.params.idCase, idWorkflow: self.params.idWorkFlow, isAdhoc: true, idProcess: self.params.idAdhocProcess });\n      } else {\n        self.showGraphicQuery({ idCase: self.params.idCaseForGraphicQuery || self.params.idCase, idWorkflow: self.params.idWorkflow });\n      }\n\n    });\n\n    $(self.getContent()).on(\"click\", \".show-process-help\", function () {\n      self.showHelpUrl(self.params.helpUrl);\n    });\n\n  },\n\n  /**\r\n      * Calculate percent bar\r\n      * @param argsTemplate\r\n      * @param creationDateObject\r\n      * @param currentDate\r\n      * @param solutionDateObject\r\n      * @param args\r\n      */\n  calculateDataForTemplate: function calculateDataForTemplate(argsTemplate, creationDateObject, currentDate, solutionDateObject, args) {\n    var self = this;\n    var $content = self.getContent();\n    var MOMENT_FORMAT = \"MM/DD/yyyy H:mm\";\n    var timeZoneName = bizagi.currentUser.timeZoneName;\n    var paramsEffectiveDuration = {};\n    paramsEffectiveDuration.idUser = bizagi.currentUser.idUser;\n    if (bizagi.util.parseBoolean(args.isOpen)) {\n      paramsEffectiveDuration.fromDate = creationDateObject.getTime();\n      paramsEffectiveDuration.toDate = currentDate.getTime();\n    } else\n    {\n      paramsEffectiveDuration.fromDate = solutionDateObject.getTime();\n      paramsEffectiveDuration.toDate = currentDate.getTime();\n    }\n\n    var differenceCreationToCurrent = paramsEffectiveDuration.toDate - paramsEffectiveDuration.fromDate;\n    var actualDate = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName);\n    var relativeTime = bizagi.util.dateFormatter.getRelativeTime(new Date(actualDate.getTime() - differenceCreationToCurrent), null, false, timeZoneName);\n    if (bizagi.util.parseBoolean(args.isOpen)) {\n      argsTemplate.relativeTimeState = bizagi.localization.getResource(\"workportal-project-case-state-opened\").replace(\"%s\", relativeTime);\n      argsTemplate.colorStateCase = \"Opened\";\n    } else\n    {\n      argsTemplate.relativeTimeState = bizagi.localization.getResource(\"workportal-project-case-state-closed\").replace(\"%s\", relativeTime);\n      argsTemplate.colorStateCase = \"Closed\";\n    }\n\n    argsTemplate.percentCompleteBar = 100;\n    argsTemplate.isOpen = bizagi.util.parseBoolean(args.isOpen);\n    //Update widget\n    var contentTemplate = self.getTemplate(\"project-caseState-remaining\");\n    contentTemplate.\n    render($.extend(args, argsTemplate)).\n    appendTo($(\"#ui-bizagi-remaining\", $content));\n  },\n\n\n  /**\r\n      * Show cancel case button\r\n      * @param {JSON} args \r\n      * @param {Template} argsTemplate \r\n      * @param {Boolean} showCancelCase \r\n      */\n  showCancelCase: function showCancelCase(args, argsTemplate, _showCancelCase) {\n    var self = this;\n    var $content = self.getContent();\n    var contentTemplate = self.getTemplate(\"project-cancel-case-button\");\n\n    argsTemplate.buttonCancelCase = _showCancelCase;\n    contentTemplate.render($.extend(args, argsTemplate)).appendTo($(\"#ui-bizagi-cancel-case\", $content));\n    $(\"#ui-bizagi-wp-project-activity-cancel-case-button > a\", self.content).click(function () {\n      var widgetParameters = {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_CANCEL_CASE,\n        maximize: false,\n        dialogClass: 'bz-cancel-case-widget',\n        idWorkitem: self.params.idWorkitem,\n        idCase: self.params.idCase,\n        modalParameters: {\n          refreshInbox: false,\n          title: bizagi.localization.getResource(\"workportal-widget-cancel-case-title\"),\n          width: 420,\n          height: 400 },\n\n        closeVisible: false };\n\n      self.publish(\"showDialogWidget\", widgetParameters);\n    });\n  },\n\n  /**\r\n      * Show case number\r\n      * @param args\r\n      * @param argsTemplate\r\n      */\n  showCaseNumber: function showCaseNumber(args, argsTemplate) {\n    var self = this;\n    var $content = self.getContent();\n    var contentTemplate = self.getTemplate(\"project-caseState\");\n    var isAdhoc = false;\n    if (!this.params.isAdhocProcess || typeof this.params.isAdhocProcess === 'undefined') {\n      isAdhoc = false;\n    } else\n    {\n      isAdhoc = this.params.isAdhocProcess;\n    }\n\n    self.params.helpUrl = bizagi.util.validateUrlWellFormed(self.params.helpUrl);\n\n    contentTemplate.\n    render(\n    $.extend(\n    args,\n    argsTemplate,\n    {\n      security: bizagi.menuSecurity,\n      isAdhocProcess: isAdhoc,\n      urlHelp: !bizagi.util.isEmpty(self.params.helpUrl) })).\n\n\n\n    appendTo($content);\n    self._startShowCancelCase(args, argsTemplate);\n    //Handle events\n    $(\".case-summary-favorite\", $content).on(\"click\", $.proxy(self.onClickFavorite, self));\n    // Set back and next case navigation\n    $(\".case-summary-back\", self.content).on(\"click\", $.proxy(self.goToCase, self, 'back'));\n    $(\".case-summary-next\", self.content).on(\"click\", $.proxy(self.goToCase, self, 'next'));\n\n    self.showBackNextNavigation();\n  },\n\n  /**\r\n      * wait for showCancelCase value from Navigator widget\r\n      * @param {JSON} args \r\n      * @param {Template} argsTemplate \r\n      */\n  _startShowCancelCase: function _startShowCancelCase(args, argsTemplate) {\n    var self = this,\n    _navigatorWidget = bizagi.injector.get(\"bizagi.workportal.widgets.navigator\"),\n    _start = self.showCancelCase.bind(self, args, argsTemplate);\n\n    _navigatorWidget.getShowCancelCase().done(_start);\n  },\n\n  /**\r\n      * Get Format date\r\n      * @param dateObj\r\n      * @returns {string}\r\n      */\n  getFormattedDate: function getFormattedDate(dateObj) {\n    var self = this;\n    var monthsNames = self.datePickerRegional.monthNames;\n    var shortMonth = dateObj.getMonth();\n    var bizagiLanguage = BIZAGI_LANGUAGE;\n    if (bizagiLanguage != null && bizagiLanguage != undefined && bizagiLanguage.length > 0 && bizagiLanguage.substring(0, 2) == \"fr\")\n    return $.datepicker.formatDate(\"dd\", dateObj) + \" \" + monthsNames[shortMonth];else\n\n    return monthsNames[shortMonth] + \" \" + $.datepicker.formatDate(\"dd\", dateObj);\n  },\n\n  /***\r\n      * Events\r\n      */\n  onClickFavorite: function onClickFavorite(event) {\n    event.preventDefault();\n    var self = this;\n    var favoriteOptions = {};\n    if ($(event.target).hasClass(\"bz-icon-star-outline\")) {\n      favoriteOptions = {\n        idObject: self.params.idCase,\n        favoriteType: \"CASES\" };\n\n      $.when(self.dataService.addFavorite(favoriteOptions)).done(function (favoritesData) {\n        self.params.guidFavorite = favoritesData.idFavorites;\n        $(event.target).removeClass(\"bz-icon-star-outline\");\n        $(event.target).addClass(\"bz-icon-star\");\n      });\n    } else\n    {\n      favoriteOptions = {\n        idObject: self.params.guidFavorite,\n        favoriteType: \"CASES\" };\n\n      $.when(self.dataService.delFavorite(favoriteOptions)).done(function () {\n        $(event.target).addClass(\"bz-icon-star-outline\");\n        $(event.target).removeClass(\"bz-icon-star\");\n      });\n    }\n  },\n\n  showHelpUrl: function showHelpUrl(urlHelp) {\n    window.open(urlHelp);\n  },\n\n  /**\r\n      * Call service effective duration by schedule work\r\n      * @param params\r\n      * @return {*}\r\n      */\n  callGetEffectiveDuration: function callGetEffectiveDuration(params) {\n    var self = this;\n    var d = $.Deferred();\n\n    if (params.fromDate) {\n      $.when(\n      self.dataService.getEffectiveDuration(params)).\n      done(function (data) {\n        d.resolve(data);\n      });\n    } else\n    {\n      d.resolve(null);\n    }\n\n    return d.promise();\n  },\n\n  /**\r\n      * Clean plugins and events\r\n      */\n  clean: function clean() {\n    var self = this;\n    $(\".show-diagram-case\", self.getContent()).off();\n    var cntxtSidebarActivity = self.contextsSidebarActivity || [];\n    this.params = {};\n    cntxtSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  goToCase: function goToCase(action) {\n    var self = this;\n    var idCase = action == 'back' ? self.getBackCase() : self.getNextCase();\n    if (idCase > 0) {\n      self.publish(\"executeAction\", {\n        action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\n        idCase: idCase });\n\n    }\n  },\n\n  getListKey: function getListKey() {\n    var self = this;\n    bizagi.lstIdCases = bizagi.lstIdCases || {};\n    if (bizagi.lstIdCases.length > 1) {\n      for (var i = 0; i < bizagi.lstIdCases.length; i++) {\n        if (self.params.idCase == bizagi.lstIdCases[i]) {\n          return i;\n        }\n      }\n    }\n    return -1;\n  },\n\n  getNextCase: function getNextCase() {\n    var self = this;\n    var nextIdCase = 0;\n    var key = self.getListKey();\n\n    // Check if last element\n    if (bizagi.lstIdCases.length == key + 1 || bizagi.lstIdCases.length == 1) {\n      nextIdCase = -1;\n    } else {\n      nextIdCase = bizagi.lstIdCases[key + 1];\n    }\n\n    return nextIdCase;\n  },\n\n  getBackCase: function getBackCase() {\n    var self = this;\n    var prevIdCase = 0;\n    var key = self.getListKey();\n\n    // Check if first element\n    if (key == 0) {\n      prevIdCase = -1;\n    } else {\n      prevIdCase = bizagi.lstIdCases[key - 1] || -1;\n    }\n\n    return prevIdCase;\n  },\n\n  showBackNextNavigation: function showBackNextNavigation() {\n    var self = this;\n    var nextCase = self.getNextCase();\n    var backCase = self.getBackCase();\n    nextCase <= 0 ? $(\".case-summary-next\", self.content).hide() : $(\".case-summary-next\", self.content).show();\n    backCase <= 0 ? $(\".case-summary-back\", self.content).hide() : $(\".case-summary-back\", self.content).show();\n\n    if (nextCase <= 0 && backCase <= 0) {\n      $(\".content-right-sidebar\").removeClass(\"bz-state-number--active-case\");\n      $(\".bz-case-navigation\").hide();\n    } else\n    {\n      $(\".content-right-sidebar\").addClass(\"bz-state-number--active-case\");\n      $(\".bz-case-navigation\").show();\n    }\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.caseState\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.caseState]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Activity State Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.activityState\", {}, {\n  /*\r\n                                                                                                  *   Constructor\r\n                                                                                                  */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Regional\n    self.datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n\n    //Load templates\n    self.loadTemplates({\n      \"project-activityState-wrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.activityState\").concat(\"#project-activityState-wrapper\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this,\n    args = params.args;\n    self.params = args;\n    self.getContent();\n    var timeZoneName = bizagi.currentUser.timeZoneName;\n    var argsTemplate = {};\n    var currentState = args.currentState || [];\n\n    var currentWorkitem = currentState.filter(function (objectWorkItem) {return objectWorkItem.idWorkItem == args.idWorkitem;})[0];\n\n\n    if (currentWorkitem) {\n      argsTemplate.activityName = currentWorkitem.state;\n      argsTemplate.activityIsEvent = bizagi.util.parseBoolean(currentWorkitem.isEvent);\n\n      var MOMENT_FORMAT = \"MM/DD/yyyy H:mm\";\n      var initDateObject = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName, currentWorkitem.entryDateWorkItem);\n      if (initDateObject.getTime) {\n        argsTemplate.initDateFormat = self.getFormattedDate(initDateObject);\n      }\n\n      var currentDate = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName);\n      var estimatedSolutionDateObject = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName, currentWorkitem.estimatedSolutionDate);\n      argsTemplate.estimatedSolutionDateFormat = \"\";\n\n      if (initDateObject.getTime && estimatedSolutionDateObject.getTime && currentWorkitem) {\n        self.calculateDataForTemplate(currentWorkitem, argsTemplate, initDateObject, currentDate, estimatedSolutionDateObject, currentState);\n      } else\n      {\n        //Update widget\n        self.updateTemplateWidget(argsTemplate, currentState);\n      }\n    }\n  },\n\n  initilizeActionMenu: function initilizeActionMenu(currentState) {\n    var self = this;\n    var allowsReassign = false;\n\n    if (currentState && currentState.length > 0) {\n      for (j = 0; j < currentState.length; ++j) {\n        if (currentState[j] && self.params && currentState[j].idWorkItem == self.params.idWorkitem) {\n          allowsReassign = bizagi.util.parseBoolean(currentState[j].allowsReassign) || false;\n        }\n      }\n    }\n    var btReassing = $(\"#bt-case-action-reassing\", self.content);\n    var btShareActivity = $(\"#ui-bizagi-wp-project-activity-button:not(.ui-bizagi-wp-project-activity-shared)\", self.content);\n\n    if (allowsReassign) {\n      btReassing.show();\n    }\n    btReassing.on(\"click\", function () {\n      self.onClickMenuReasign();\n    });\n    btShareActivity.on(\"click\", function () {\n      self.onClickShareActivity();\n    });\n  },\n  /**\r\n       * Executed when user reasign case\r\n       */\n  onClickMenuReasign: function onClickMenuReasign() {\n    var self = this;\n    var idCase = self.params.idCase;\n    var idWorkItem = self.params.idWorkitem,\n    onCloseSaveDialogBox = function onCloseSaveDialogBox() {\n      self.publish(\"closeCurrentDialog\");\n    };\n    bizagi.loader.startAndThen(\"admin\").then(function () {\n      $.when(self.publish(\"showDialogWidget\", {\n        widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REASSIGN_CASE,\n        data: {\n          \"idCase\": idCase,\n          \"idWorkItem\": idWorkItem,\n          closeDialogWidget: onCloseSaveDialogBox },\n\n        closeVisible: false,\n        maximize: true,\n        modalParameters: {\n          title: bizagi.localization.getResource(\"render-actions-reassign\"),\n          width: \"910px\",\n          id: \"CaseAdmin\" } }));\n\n\n    });\n  },\n\n  /**\r\n      * let share the activity\r\n      */\n  onClickShareActivity: function onClickShareActivity() {\n    var self = this;\n    var params = {\n      \"idWorkItem\": self.params.idWorkitem };\n\n    var button = $(\"#ui-bizagi-wp-project-activity-button\", self.content);\n    button.attr(\"disabled\", true);\n    $.when(self.dataService.getShareActivity(params)).done(function (data) {\n      var notifier = window.parent.bizagi.injector.get('notifier');\n      if (data.value === true) {\n        button.addClass(\"ui-bizagi-wp-project-activity-shared\").\n        unbind(\"click\");\n        notifier.showSucessMessage(bizagi.localization.getResource(\"workportal-project-activity-success-message\"), '');\n      } else {\n        notifier.showErrorMessage(bizagi.localization.getResource(\"workportal-project-activity-error-message\"), '');\n      }\n    }).always(function () {\n      button.attr(\"disabled\", false);\n    });\n  },\n\n  calculateDataForTemplate: function calculateDataForTemplate(currentWorkitem, argsTemplate, creationDateObject, currentDate, estimatedSolutionDateObject, currentState) {\n    var self = this;\n    var MOMENT_FORMAT = \"MM/DD/yyyy H:mm\";\n    var timeZoneName = bizagi.currentUser.timeZoneName;\n    var diffMillisecondsCurrentToEstimated = currentDate.getTime() - estimatedSolutionDateObject.getTime();\n    var diffMillisecondsCreationToSolution = creationDateObject.getTime() - estimatedSolutionDateObject.getTime();\n\n    var paramsEffectiveDurationOpened = {\n      idUser: bizagi.currentUser.idUser,\n      fromDate: creationDateObject.getTime(),\n      toDate: self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName).getTime() };\n\n\n    var currentDateExceededEstimatedDate = false;\n    var paramsEffectiveDuration = {\n      idUser: bizagi.currentUser.idUser,\n      fromDate: currentDate.getTime(),\n      toDate: estimatedSolutionDateObject.getTime() };\n\n    var paramsEffectiveDurationInitialToEstimated = {};\n    if (diffMillisecondsCurrentToEstimated > 0) {//Exceeded limit estimatedSolution\n      paramsEffectiveDuration.fromDate = estimatedSolutionDateObject.getTime();\n      paramsEffectiveDuration.toDate = currentDate.getTime();\n      currentDateExceededEstimatedDate = true;\n    } else\n    {\n      paramsEffectiveDurationInitialToEstimated.idUser = bizagi.currentUser.idUser;\n      paramsEffectiveDurationInitialToEstimated.fromDate = creationDateObject.getTime();\n      paramsEffectiveDurationInitialToEstimated.toDate = estimatedSolutionDateObject.getTime();\n    }\n\n    var differenceCreatedToCurrent = paramsEffectiveDurationOpened.toDate - paramsEffectiveDurationOpened.fromDate;\n    var differenceCurrentToEstimated = paramsEffectiveDuration.toDate - paramsEffectiveDuration.fromDate;\n    var differenceInitialToEstimated = diffMillisecondsCurrentToEstimated > 0 ? 0 : paramsEffectiveDurationInitialToEstimated.toDate - paramsEffectiveDurationInitialToEstimated.fromDate;\n\n    var actualDate = self.getDateWithTimezone(MOMENT_FORMAT, timeZoneName);\n    var relativeTime = bizagi.util.dateFormatter.getRelativeTime(new Date(actualDate.getTime() - differenceCreatedToCurrent), null, false, timeZoneName);\n    argsTemplate.colorState = currentWorkitem.colorState;\n    argsTemplate.relativeTimeState = bizagi.localization.getResource(\"workportal-project-activity-state-opened\").replace(\"%s\", relativeTime);\n    argsTemplate.percentCompleteBar = 100;\n\n    if (diffMillisecondsCreationToSolution === 0) {\n      argsTemplate.showEstimatedSolutionDate = false;\n    } else\n    {\n      argsTemplate.showEstimatedSolutionDate = true;\n      if (currentDateExceededEstimatedDate === false) {\n        var percentBar = self.getPercentBar(differenceInitialToEstimated / 1000 / 60, differenceCurrentToEstimated / 1000 / 60);\n        argsTemplate.percentCompleteBar = percentBar.percent;\n      }\n    }\n\n    if (currentWorkitem) {\n      argsTemplate.isEvent = bizagi.util.parseBoolean(currentWorkitem.isEvent);\n      argsTemplate.canShareActivity = currentWorkitem.canShareActivity;\n      argsTemplate.isShared = currentWorkitem.isShared;\n    }\n\n    argsTemplate.estimatedSolutionDateFormat = self.getFormattedDate(estimatedSolutionDateObject);\n\n    //Update widget\n    self.updateTemplateWidget(argsTemplate, currentState);\n  },\n\n  getPercentBar: function getPercentBar(totalMinutes, sectionMinutes) {\n    var response = {};\n    response.percent = Math.round((1 - sectionMinutes / totalMinutes) * 100);\n    return response;\n  },\n\n\n  updateTemplateWidget: function updateTemplateWidget(argsTemplate, currentState) {\n    var self = this,\n    $content = self.getContent().empty();\n    if (bizagi.override.enableShareActivity === false) {\n      argsTemplate.canShareActivity = false;\n      argsTemplate.isShared = false;\n    }\n    //Update widget\n    var contentTemplate = self.getTemplate(\"project-activityState-wrapper\");\n    contentTemplate.\n    render(argsTemplate).appendTo($content);\n\n    if (currentState.length > 0) {\n      self.initilizeActionMenu(currentState);\n    }\n    self.shareActivityTooltip();\n  },\n\n  /**\r\n      * show tooltip when the activity is shared or can be\r\n      */\n  shareActivityTooltip: function shareActivityTooltip() {\n    var self = this;\n    var activityButton = $(\"#ui-bizagi-wp-project-activity-button\", self.content);\n    activityButton.on('mouseenter', function () {\n      var texto = activityButton.hasClass(\"ui-bizagi-wp-project-activity-shared\") ? \"workportal-project-activity-shared\" : \"workportal-project-activity-share\";\n      activityButton.attr(\"title\", bizagi.localization.getResource(texto));\n    });\n    activityButton.tooltip({\n      tooltipClass: \"custom-tooltip-styling-bottom-bar\",\n      position: {\n        my: 'right top',\n        at: 'left top',\n        of: activityButton,\n        collision: 'flip' } });\n\n\n  },\n\n  getFormattedDate: function getFormattedDate(dateObj) {\n    var self = this;\n    var monthsNames = self.datePickerRegional.monthNames;\n    var shortMonth = dateObj.getMonth();\n    var bizagiLanguage = BIZAGI_LANGUAGE;\n    if (bizagiLanguage != null && bizagiLanguage != undefined && bizagiLanguage.length > 0 && bizagiLanguage.substring(0, 2) == \"fr\")\n    return $.datepicker.formatDate(\"dd\", dateObj) + \" \" + monthsNames[shortMonth];else\n\n    return monthsNames[shortMonth] + \" \" + $.datepicker.formatDate(\"dd\", dateObj);\n  },\n\n  clean: function clean() {\n    var self = this;\n    var cntxtSidebarActivity = self.contextsSidebarActivity || [];\n    this.params = {};\n    cntxtSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  /**\r\n      * Call services\r\n      */\n  callGetEffectiveDuration: function callGetEffectiveDuration(params) {\n    var self = this;\n    var d = $.Deferred();\n\n    //Fix .NET, multiple call service with same data in a few milliseconds\n    setTimeout(function () {\n      if (params.fromDate) {\n        $.when(\n        self.dataService.getEffectiveDuration(params)).\n        done(function (data) {\n          d.resolve(data);\n        });\n      } else\n      {\n        d.resolve(null);\n      }\n    }, 200);\n\n\n    return d.promise();\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.activityState\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.activityState]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Process State Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.processState\", {}, {\n  /*\r\n                                                                                                 *   Constructor\r\n                                                                                                 */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Load templates\n    self.loadTemplates({\n      \"project-process-state\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.processState\").concat(\"#project-process-state\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"project-process-state\");\n    self.content = template.render({});\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this,\n    args = params.args,\n    $content = self.getContent().empty();\n    self.params = args;\n\n    var argsTemplate = {};\n    argsTemplate[\"showParentProcess\"] = args[\"idParentCase\"] >= 1 ? true : false;\n    argsTemplate[\"parentProcess\"] = {\n      \"displayName\": args[\"parentDisplayName\"],\n      \"idCase\": args[\"idParentCase\"],\n      \"idWorkItem\": args[\"idWorkItem\"],\n      \"idTask\": args[\"idTask\"] == \"0\" ? \"\" : args[\"idTask\"],\n      \"idWorkflow\": args[\"idWorkflowParentCase\"] };\n\n\n    //Update widget\n    var contentTemplate = self.getTemplate(\"project-process-state\");\n    contentTemplate.\n    render($.extend(args, argsTemplate)).\n    appendTo($content);\n\n    //handle click\n\n    $(\"#go-to-parent-case\", $content).on(\"click\", $.proxy(self.onClickGoToParentCase, self));\n\n  },\n\n  onClickGoToParentCase: function onClickGoToParentCase(event) {\n    event.preventDefault();\n    var self = this;\n\n    self.routingExecute($(event.target).closest(\"#go-to-parent-case\"));\n  },\n\n  clean: function clean() {\n    var self = this;\n    self.params = {};\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  } });\n\n\n\nbizagi.injector.register('bizagi.workportal.widgets.project.processState', ['workportalFacade', 'dataService', bizagi.workportal.widgets.project.processState]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Users Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.users\", {}, {\n  /*\r\n                                                                                          *   Constructor\r\n                                                                                          */\n  init: function init(workportalFacade, dataService, relatedusers, params) {\n    var self = this;\n    self.relatedusers = relatedusers;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    self.plugins = {};\n    self.users = [];\n    self.loadedUsers = false;\n\n    //Load templates\n    self.loadTemplates({\n      \"project-users\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.users\").concat(\"#project-users-main\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n    self.sub('ON_RENDER_FINISH', $.proxy(self.onRenderFinish, self));\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this;\n    self.params = params;\n    setTimeout(function () {\n      if (self.loadedUsers === false) {\n        self.onRenderFinish();\n      }\n    }, 500);\n  },\n\n  onRenderFinish: function onRenderFinish() {\n    var self = this;\n    var args = self.params.args;\n    var $content = self.getContent().empty();\n    self.loadedUsers = true;\n\n    var contentTemplate = self.getTemplate(\"project-users\");\n    contentTemplate.render().appendTo($content);\n    self.showCreatorInformation($content);\n\n    var typesAssignUser = [{\n      id: args.createdBy.userId,\n      typeName: \"owner\" }];\n\n\n    if (args.idCase > 0) {\n      self.relatedusers.render(self.content, \".relatedusers-wrapper\", args.idCase, typesAssignUser);\n    }\n  },\n\n  /**\r\n      * show the information of the creator case\r\n      * @param {string} $content html conteiner\r\n      */\n  showCreatorInformation: function showCreatorInformation($content) {\n    var self = this;\n    var params = {\n      userIds: self.params.args.createdBy.userId,\n      width: 50,\n      height: 50 };\n\n\n    self.dataService.getUsersData(params).done(function (user) {\n      var userInfo = usersAdapter.createJsonUserInfo(\n      user[0].id,\n      user[0].name,\n      user[0].username,\n      user[0].picture ? \"data:image/png;base64,\" + user[0].picture : undefined,\n      user[0].email,\n      user[0].name.getInitials(),\n      false,\n      true,\n      [],\n      []);\n\n      $content.find(\"#ui-bizagi-wp-project-users-wrapper .ui-bizagi-wp-project-users-creator-info\").userinformation(self, { user: userInfo });\n    });\n  },\n\n  clean: function clean() {\n    var self = this;\n    self.loadedUsers = false;\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.users\", [\"workportalFacade\", \"dataService\", \"relatedusers\", bizagi.workportal.widgets.project.users]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Subprocesses Data Tooltip\r\n *   Author: Bizagi Latam\r\n */\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.subprocesses.data\", {\n\n  responseSubprocessState: {},\n  responseSubprocess: function responseSubprocess(newValue) {\n    if (newValue) {\n      responseSubprocessState = newValue;\n    }\n    return responseSubprocessState;\n  },\n\n  auxArrayListSubprocessesState: [],\n  auxArrayListSubprocesses: function auxArrayListSubprocesses(newItem) {\n    if (newItem) {\n      if (jQuery.isArray(newItem) && newItem.length === 0) {\n        this.auxArrayListSubprocessesState.length = 0; //clean array if change reference\n      } else\n      {\n        return this.auxArrayListSubprocessesState.push(newItem);\n      }\n    } else\n    {\n      return this.auxArrayListSubprocessesState;\n    }\n  } },\n{\n  /*\r\n   *   Constructor\r\n   */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    // Init static properties\n    self.Class.auxArrayListSubprocesses([]);\n\n    //Load templates\n    self.loadTemplates({\n      \"project-subprocesses-tootip-custom-properties\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.project.subprocesses.data\").concat(\"#project-subprocesses-tooltip-custom-properties-wrapper\") });\n\n  },\n\n\n  initializeTooltip: function initializeTooltip(selectorTooltip) {\n    var self = this;\n    var $content = self.getContent();\n\n    $(selectorTooltip, $content).tooltip({\n      position: {\n        collision: \"flipfit\",\n        my: \"right center\", at: \"left-10 center\" },\n\n      show: null, // show immediately\n      content: function content() {\n\n        var idCase = $(this).closest(\"li\").find(\"#idCase\").val();\n        var itemsFinded = self.Class.auxArrayListSubprocesses().filter(function (item) {\n          return item.idCase == idCase;\n        });\n\n        var indexSubprocess, idCustData, text;\n        if (itemsFinded.length > 0) {\n          indexSubprocess = itemsFinded[0].indexSubprocess;\n          idCustData = itemsFinded[0].idCustData;\n          text = $(this).text();\n\n          return self.getContentTooltip(indexSubprocess, idCustData, text,\n          self.getTemplate(\"project-subprocesses-tootip-custom-properties\"));\n        }\n\n\n      },\n      open: function open(event, ui) {\n        if (typeof event.originalEvent === 'undefined') {\n          return false;\n        }\n        var $id = $(ui.tooltip).attr('id');\n        // close any lingering tooltips\n        $('div.ui-tooltip').not('#' + $id).remove();\n      },\n      close: function close(event, ui) {\n        ui.tooltip.hover(function () {\n          $(this).stop(true).fadeTo(400, 1);\n        },\n        function () {\n          $(this).fadeOut('400', function () {\n            $(this).remove();\n          });\n        });\n      } });\n\n  },\n\n  getContentTooltip: function getContentTooltip(indexSubprocess, idCustData, textLI, templateTooltip) {\n    var self = this;\n\n    //when not show custom columns\n    if (idCustData == \"-1\") {\n      idCustData = \"0\"; //So show only basic data subprocess\n    }\n\n    var rowCustomProperty = function rowCustomProperty(nameProperty, valueProperty) {\n      return {\n        nameProperty: nameProperty,\n        valueProperty: valueProperty };\n\n    };\n\n    var arrayCustomsProperties = [];\n    var auxValueProperty = \"\";\n    var subprocessData = self.getSubprocessData(indexSubprocess, idCustData);\n    var custData = subprocessData.custData;\n    var custDataTypes = subprocessData.custDataTypes;\n    var custFields = subprocessData.custFields;\n    var displayName = subprocessData.displayName;\n\n    //subproceso\n    arrayCustomsProperties.push(new rowCustomProperty(bizagi.localization.getResource(\"workportal-widget-inboxcommon-subprocess\"), displayName));\n\n    //Others custom properties\n    if (custData.length) {\n      for (var i = 0; i < custData.length; i += 1) {\n        auxValueProperty = custData[i];\n        if (custDataTypes) {\n          if (custDataTypes[i] == \"Money\") {\n            auxValueProperty = bizagi.util.formatMonetaryCell(auxValueProperty);\n          } else {\n            if (custDataTypes[i] == \"Boolean\") {\n              auxValueProperty = bizagi.util.formatBoolean(auxValueProperty);\n            } else {\n              if (custDataTypes[i] == \"Float\" || custDataTypes[i] == \"Real\") {\n                auxValueProperty = bizagi.util.formatDecimalCell(auxValueProperty);\n              } else\n              {\n                if (typeof auxValueProperty === \"function\") {\n                  auxValueProperty = \"\";\n                }\n              }\n            }\n          }\n        }\n        arrayCustomsProperties.push(new rowCustomProperty(custFields[i], auxValueProperty));\n      }\n    }\n\n    //Render properties\n    var objectTemplate = {};\n    objectTemplate.arrayCustomsProperties = arrayCustomsProperties;\n    objectTemplate.nameSubprocess = textLI;\n    var contentTemplate = templateTooltip;\n    var contentTableCustomProperties = $('<div class=\"bizagi-custom-tooltip-subprocesses\"></div>');\n    contentTemplate.render(objectTemplate).appendTo(contentTableCustomProperties);\n\n    return contentTableCustomProperties.html();\n  },\n\n  getSubprocessData: function getSubprocessData(indexSubprocess, idCustData) {\n    var self = this;\n    var subProcessData = {};\n    var subProcess = self.Class.responseSubprocess().subProcesses;\n    var subProcPersonalized = self.Class.responseSubprocess().subProcPersonalized;\n\n    if (subProcess && subProcess.length > 0) {\n      subProcessData.custData = subProcess[indexSubprocess].custData;\n      subProcessData.custDataTypes = subProcess[indexSubprocess].custDataTypes;\n      var customFields = self.Class.responseSubprocess().CustFields[idCustData];\n      subProcessData.custFields = customFields[Object.keys(customFields)[0]];\n      subProcessData.displayName = subProcess[indexSubprocess].displayName;\n    } else if (subProcPersonalized && Object.keys(subProcPersonalized).length > 0) {\n      subProcessData.custData = subProcPersonalized[0].subProcesses[indexSubprocess].custData;\n      subProcessData.custDataTypes = subProcPersonalized[0].subProcesses[indexSubprocess].custDataTypes;\n      subProcessData.custFields = subProcPersonalized[0].CustFields[0];\n      subProcessData.displayName = subProcPersonalized[0].subProcesses[indexSubprocess].displayName;\n    }\n    return subProcessData;\n  },\n\n\n  clean: function clean() {\n\n  } });\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.subprocesses.data\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.subprocesses.data]);","/*\r\n *   Name: Bizagi Workportal Desktop Project Events Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.project.subprocesses.data.extend(\"bizagi.workportal.widgets.project.events\", {}, {\n  /*\r\n                                                                                                              *   Constructor\r\n                                                                                                              */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Load templates\n    self.loadTemplates({\n      \"project-events\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.events\").concat(\"#project-events-wrapper\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"project-events\");\n    self.content = template.render({});\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this,\n    args = params.args,\n    $content = self.getContent().empty();\n    self.params = args;\n\n    $.when(self.getArgsTemplate(args)).done(function (responseArgsTemplate) {\n      //Update widget\n      var contentTemplate = self.getTemplate(\"project-events\");\n      contentTemplate.\n      render($.extend(args, responseArgsTemplate)).\n      appendTo($content);\n\n      $(\".list-events li.event a\", $content).on(\"click\", $.proxy(self.onClickGoEvent, self));\n\n      self.initializeTooltip(\".list-events li\");\n    });\n  },\n\n  getArgsTemplate: function getArgsTemplate(args) {\n    var def = $.Deferred(),\n    argsTemplate = {},\n    self = this;\n\n    //check if show event tab or not\n    if (args[\"countEvents\"] >= 1) {\n      for (var i = 0; i < args[\"currentState\"].length; i++) {\n        if (args[\"currentState\"][i][\"isEvent\"] == \"true\" && args[\"currentState\"][i][\"idWorkItem\"] == args.idWorkitem) {\n          args[\"countEvents\"] = args[\"countEvents\"] - 1;\n        }\n      }\n    }\n    argsTemplate[\"showEvents\"] = args[\"countEvents\"] >= 1 ? true : false;\n\n    if (argsTemplate[\"showEvents\"]) {\n      $.when(self.callSummaryCaseEvents(args.idCase)).done(function (responseEvents) {\n        args[\"showEvents\"] = responseEvents[\"events\"].length >= 1 ? true : false;\n\n        if (args[\"showEvents\"]) {\n          argsTemplate[\"events\"] = [];\n          responseEvents[\"events\"].forEach(function (elementEvent) {\n            argsTemplate[\"events\"].push($.extend(elementEvent[Object.keys(elementEvent)[0]],\n            { idWorkFlow: responseEvents[\"idWorkFlow\"] }));\n          });\n        }\n        def.resolve(argsTemplate);\n      });\n    } else\n    {\n      def.resolve(argsTemplate);\n    }\n    return def.promise();\n  },\n\n  /**\r\n      * Events UI\r\n      */\n\n  onClickGoEvent: function onClickGoEvent(event) {\n    event.preventDefault();\n    var self = this;\n    $.when(bizagi.util.autoSave()).done(function () {\n      self.routingExecute($(event.target).closest(\"li\"));\n    });\n  },\n\n  /**\r\n      * Call services\r\n      */\n\n  /*\r\n          *  Get data for users\r\n          */\n  callSummaryCaseEvents: function callSummaryCaseEvents(idCase) {\n    var self = this,\n    def = $.Deferred();\n\n    $.when(\n    self.dataService.summaryCaseEvents({\n      idCase: idCase })).\n\n    done(function (events) {\n      def.resolve(events);\n    });\n\n    return def.promise();\n  },\n\n  clean: function clean() {\n    var self = this;\n    this.params = {};\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  } });\n\n\n\nbizagi.injector.register('bizagi.workportal.widgets.project.events', ['workportalFacade', 'dataService', bizagi.workportal.widgets.project.events], true);","/*\r\n *   Name: Bizagi Workportal Desktop Project Subprocesses Controller\r\n *   Author: Elkin Fernando Siabato Cruz\r\n */\n\nbizagi.workportal.widgets.project.subprocesses.data.extend(\"bizagi.workportal.widgets.project.subprocesses\", {\n\n  responseSubprocess: function responseSubprocess(newValue) {\n    return this._super(newValue);\n  },\n\n  auxArrayListSubprocesses: function auxArrayListSubprocesses(newValue) {\n    return this._super(newValue);\n  } },\n\n{\n  /*\r\n   *   Constructor\r\n   */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    self.contextsSidebarActivity = params.contextsSidebarActivity;\n\n    //Load templates\n    self.loadTemplates({\n      \"project-subprocesses\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.subprocesses\").concat(\"#project-subprocesses-wrapper\") });\n\n  },\n\n  /*\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    self.content = $(\"<div></div>\");\n    return self.content;\n  },\n\n  /*\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    //Handlers\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.sub(context, $.proxy(self.updateView, self));\n    });\n  },\n\n  updateView: function updateView(event, params) {\n    var self = this,\n    args = params.args,\n    $content = self.getContent().empty();\n    self.params = args;\n\n    if (self.params.idCase > 0) {\n      $.when(\n      self.dataService.summarySubProcess({\n        idCase: self.params.idCase })).\n\n      done(function (responseSubprocess) {\n        self.Class.responseSubprocess(responseSubprocess);\n\n        self.organizeDataForSubprocesses(self.params);\n      });\n    }\n  },\n\n  organizeDataForSubprocesses: function organizeDataForSubprocesses(args) {\n    var self = this;\n    if (self.Class.responseSubprocess().showSubProcess) {\n      $.each(self.Class.responseSubprocess().subProcesses, function (key) {\n        var custData = self.Class.responseSubprocess().subProcesses[key].custData;\n        if (custData && custData.length) {\n          for (var i = 0; i < custData.length; i += 1) {\n            if (custData[i] === null) {\n              custData[i] = \"\";\n            }\n          }\n        }\n\n      });\n\n      var subProcess = self.Class.responseSubprocess().subProcesses || self.Class.responseSubprocess().subProcPersonalized;\n\n      //prepare array with subprocess\n      self.Class.auxArrayListSubprocesses([]);\n      for (var i = 0; i < Object.keys(subProcess).length; i += 1) {\n        var tempSubprocesses = subProcess[i];\n\n        self.Class.auxArrayListSubprocesses({\n          isOpen: tempSubprocesses.isOpen,\n          radNumber: tempSubprocesses.radNumber,\n          displayName: tempSubprocesses.displayName,\n          idCase: tempSubprocesses.idCase,\n          indexSubprocess: i,\n          idCustData: tempSubprocesses.idCustData });\n\n        if (tempSubprocesses.subProcesses) {\n          Object.keys(tempSubprocesses).forEach(function (key) {//only one iteration\n            self.Class.auxArrayListSubprocesses({\n              isOpen: tempSubprocesses[key].isOpen,\n              radNumber: tempSubprocesses[key].radNumber,\n              displayName: tempSubprocesses[key].displayName,\n              idCase: tempSubprocesses[key].idCase,\n              indexSubprocess: i,\n              idCustData: tempSubprocesses[key].idCustData });\n\n          });\n        }\n      }\n\n      self.renderWidget();\n    }\n  },\n\n  renderWidget: function renderWidget() {\n    var self = this;\n    var $content = self.getContent();\n\n    //Update widget\n    var contentTemplate = self.getTemplate(\"project-subprocesses\");\n    contentTemplate.\n    render({ auxArrayListSubprocesses: self.Class.auxArrayListSubprocesses() }).\n    appendTo($content);\n\n    $(\".list-subprocesses a\", $content).on(\"click\", $.proxy(self.onClickGoSubprocess, self));\n\n    self.initializeTooltip(\".list-subprocesses li\");\n  },\n\n\n  /**\r\n      * Events UI\r\n      */\n\n  onClickGoSubprocess: function onClickGoSubprocess(event) {\n    event.preventDefault();\n    var self = this;\n\n    self.routingExecute($(event.target).closest(\"li\"));\n  },\n\n  clean: function clean() {\n    var self = this;\n\n    self.params = {};\n    self.pluginTooltip = null;\n\n    self.contextsSidebarActivity.forEach(function (context) {\n      self.unsub(context, $.proxy(self.updateView, self));\n    });\n  } });\n\n\n\nbizagi.injector.register(\"bizagi.workportal.widgets.project.subprocesses\", [\"workportalFacade\", \"dataService\", bizagi.workportal.widgets.project.subprocesses]);","/*\r\n    Name   : Bizagi Workportal Project Activity Description\r\n    Created on : Jun 27, 2017\r\n    Author     : Diana Mogollon\r\n*/\n\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.project.activity.description\", {}, {\n\n  /*\r\n                                                                                                         *   Constructor\r\n                                                                                                         */\n  init: function init(workportalFacade, dataService, params) {\n    var self = this;\n\n    // Call base\n    self._super(workportalFacade, dataService, params);\n\n    params = params || {};\n\n    //Load templates\n    self.loadTemplates({\n      \"project-activity-description\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.project.activity.description\").concat(\"#project-activity-description\") });\n\n  },\n\n  /**\r\n      * Renders the template defined in the widget\r\n      */\n  renderContent: function renderContent() {\n    var self = this;\n    var template = self.getTemplate(\"project-activity-description\");\n    self.content = template.render();\n    return self.content;\n  },\n\n  /**\r\n      * links events with handlers\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self.description = self.getWorkitemDescription();\n    if (self.description) {\n      self.callTaskDescription();\n    } else {\n      self.content = $('<div />');\n    }\n  },\n\n  /**\r\n      * \r\n      * Call task description widget \r\n      */\n\n  callTaskDescription: function callTaskDescription() {\n    var self = this;\n    var width = 310;\n    var taskDescriptionParams = {\n      container: $(\"#ui-bizagi-wp-project-activity-task_description_container\", self.content),\n      description: self.description,\n      width: width };\n\n    self.taskDescriptionWidget = new bizagi.workportal.widgets.task.description(self.workportalFacade, self.dataService, taskDescriptionParams);\n    self.taskDescriptionWidget.render();\n  },\n\n  getWorkitemDescription: function getWorkitemDescription() {\n    var self = this;\n    var params = self.params || {};\n    var idWorkitem = params.idWorkitem || 0;\n    var currentState = params.currentState || [];\n    var description = \"\";\n\n    for (var i = 0; i < currentState.length; i++) {\n      if (idWorkitem == currentState[i].idWorkItem) {\n        description = currentState[i].tskDescription;\n        break;\n      }\n    }\n\n    return description;\n  },\n\n  /**\r\n      * Clean widget\r\n      */\n  clean: function clean() {\n\n  } });\n\n\nbizagi.injector.register('bizagi.workportal.widgets.project.activity.description', ['workportalFacade', 'dataService', bizagi.workportal.widgets.project.activity.description], true);"]}