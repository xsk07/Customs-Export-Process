{"version":3,"sources":["./node_modules/moment/locale sync ^\\.\\/.*$","./src/$_lazy_route_resource lazy namespace object","./src/app/common/components/icons/icons.component.ts","./src/app/common/components/icons/icons-16.html","./src/app/common/components/icons/icons-32.html","./src/app/common/components/statics/statics.component.ts","./src/app/render/render.component.ts","./src/app/render/render.component.html","./src/app/common/decorators/cache.ts","./src/app/common/services/oauth/rest-api.service.ts","./src/app/common/services/sites/state-snapshots.service.ts","./src/app/render/services/bizagi-data.service.ts","./src/app/common/decorators/lock.ts","./src/app/common/misc/global-compatibility.ts","./src/app/render/services/published-site.service.ts","./src/app/common/components/not-found/not-found.component.html","./src/app/common/components/not-found/not-found.component.ts","./src/app/common/misc/global.ts","./src/app/editor/site-manager/store/fonts/fonts.actions.ts","./src/app/editor/site-manager/store/themes/themes.actions.ts","./src/app/common/services/oauth/bizagi-oauth-manager.ts","./src/app/common/services/sites/user.service.ts","./src/app/common/services/oauth/oauth-client.helper.ts","./src/app/common/components/confirm-dialog-modal/confirm-dialog-modal.component.html","./src/app/common/components/confirm-dialog-modal/confirm-dialog-modal.component.ts","./src/app/common/services/oauth/session-handler.service.ts","./src/app/common/components/login/login.component.ts","./src/app/render/site-render.component.ts","./src/app/render/store/multilanguage/multilanguage.selector.ts","./src/app/render/store/multilanguage/multilanguage.actions.ts","./src/app/render/store/loading/loading.actions.ts","./src/app/render/bizagi-forms/select-organization-modal/select-organization-modal.component.html","./src/app/render/bizagi-forms/select-organization-modal/select-organization-modal.component.ts","./src/app/render/store/user/user.selector.ts","./src/app/common/services/sites/theme.service.ts","./src/app/common/components/loader-bars/loader-bars.component.ts","./src/app/common/components/loader-bars/loader-bars.component.html","./src/app/common/components/modal-webparts/modal-webparts.component.html","./src/app/common/components/modal-webparts/modal-webparts.component.ts","./src/app/render/bizagi-forms/bizagi-forms.component.html","./src/app/render/bizagi-forms/bizagi-forms.component.ts","./src/app/render/store/grid/grid.actions.ts","./src/app/render/store/navigation-contexts/navigation-contexts.actions.ts","./src/app/render/store/page-context/page-context.actions.ts","./src/app/render/store/site/site.actions.ts","./src/app/render/store/site/site.selector.ts","./src/app/render/store/page/page.selector.ts","./src/app/render/store/pages/pages.selector.ts","./src/app/render/store/pages/pages.actions.ts","./src/app/render/store/page/page.actions.ts","./src/app/render/store/page-data/page-data.actions.ts","./src/app/render/store/user/user.actions.ts","./src/app/common/services/sites/page-rendering.service.ts","./src/app/common/services/sites/fonts.service.ts","./src/app/common/services/sites/controls.service.ts","./src/app/common/decorators/control-definition.ts","./src/app/editor/models/EControlMode.ts","./src/app/editor/models/EDeviceMode.ts","./src/app/common/controls/controls-name-definition.ts","./src/app/common/controls/base.component.ts","./src/app/editor/models/ENavigationType.ts","./src/app/common/misc/default-values.ts","./src/app/editor/site-editor/store/site/site.selector.ts","./src/app/editor/site-editor/store/multilanguage/multilanguage.selector.ts","./src/app/editor/site-editor/store/page/page.selector.ts","./src/app/common/models/ECultureFormats.ts","./src/app/common/services/sites/culture-settings.service.ts","./src/app/common/controls/header-control/header-control.component.html","./src/app/common/controls/header-control/header-control.component.ts","./src/app/render/languages-menu-render/languages-menu-render.component.html","./src/app/render/languages-menu-render/languages-menu-render.component.ts","./src/app/common/controls/hero-control/hero-control.component.html","./src/app/common/controls/hero-control/hero-control.component.ts","./src/app/common/controls/footer-control/footer-control.component.html","./src/app/common/controls/footer-control/footer-control.component.ts","./src/app/render/store/grid/grid.selector.ts","./src/app/render/breadcrumb-render/breadcrumb-render.component.html","./src/app/render/breadcrumb-render/breadcrumb-render.component.ts","./src/app/render/store/loading/loading.selector.ts","./src/app/editor/models/ESearchTypeFields.ts","./src/app/common/controls/base-data.component.ts","./src/app/common/controls/base-process.component.ts","./src/app/editor/models/ESearchType.ts","./src/app/common/controls/base-search.component.ts","./src/app/render/store/page-data/page-data.selector.ts","./src/app/common/controls/base-inbox.component.ts","./src/app/editor/models/EControlDataSource.ts","./src/app/render/page-render/grid-render/grid-cell-render.component.html","./src/app/render/page-render/grid-render/grid-cell-render.component.ts","./src/app/common/misc/global-constants.ts","./src/app/common/services/sites/grid.service.ts","./src/app/render/page-render/grid-render/grid-render.component.html","./src/app/render/page-render/grid-render/grid-render.component.ts","./src/app/common/components/user-preferences/user-preferences.component.html","./src/app/common/components/user-preferences/user-preferences.component.ts","./src/app/render/user-preferences-render/user-preferences-render-modal/user-preferences-render-modal.component.html","./src/app/render/user-preferences-render/user-preferences-render-modal/user-preferences-render-modal.component.ts","./src/app/render/user-preferences-render/user-preferences-render.component.ts","./src/app/render/page-render/page-render.component.html","./src/app/render/page-render/page-render.component.ts","./src/app/common/services/oauth/route-activator-render.ts","./src/app/common/services/oauth/login.service.ts","./src/app/render/render-routing.module.ts","./src/app/render/site-list-render/site-list-render.component.ts","./src/app/common/components/unauthorized/unauthorized.component.ts","./src/app/common/components/unauthorized/unauthorized.component.html","./src/app/render/store/initial-state.ts","./src/app/render/store/reducer.ts","./src/app/render/store/multilanguage/multilanguage.reducer.ts","./src/app/render/store/grid/grid.reducer.ts","./src/app/render/store/navigation-contexts/navigation-contexts.reducer.ts","./src/app/render/store/page-context/page-context.reducer.ts","./src/app/render/store/page/page.reducer.ts","./src/app/render/store/site/site.reducer.ts","./src/app/render/store/pages/pages.reducer.ts","./src/app/render/store/page-data/page-data.reducer.ts","./src/app/render/store/user/user.reducer.ts","./src/app/render/store/loading/loading.reducer.ts","./src/app/render/store/session/session.reducer.ts","./src/app/render/store/session/session.actions.ts","./src/app/common/services/bizagi/notification.service.ts","./src/app/render/services/rest-api-render-interceptor.service.ts","./src/app/editor/services/images.service.ts","./src/app/common/services/sites/file.service.ts","./src/app/common/controls/my-cases-control/my-cases-card/my-cases-control-card.component.html","./src/app/common/controls/my-cases-control/my-cases-card/my-cases-control-card.component.ts","./src/app/common/controls/my-cases-control/my-cases-grid/my-cases-control-grid.component.html","./src/app/common/controls/my-cases-control/my-cases-grid/my-cases-control-grid.component.ts","./src/app/common/controls/button-control/button-control.component.html","./src/app/common/controls/button-control/button-control.component.ts","./src/app/common/controls/button-round-control/button-round-control.component.html","./src/app/common/controls/button-round-control/button-round-control.component.ts","./src/app/common/controls/collection-field-control/collection-field-control.component.html","./src/app/common/controls/collection-field-control/collection-field-control.component.ts","./src/app/common/controls/actions-control-element/actions-control-element.component.html","./src/app/common/controls/actions-control-element/actions-control-element.component.ts","./src/app/common/controls/empty-list-control-element/empty-list-control-element.component.ts","./src/app/common/controls/empty-list-control-element/empty-list-control-element.component.html","./src/app/common/controls/card-link-control/card-link-control.component.html","./src/app/common/controls/card-link-control/card-link-control.component.ts","./src/app/common/controls/gallery-link-control/gallery-link-control.component.html","./src/app/common/controls/gallery-link-control/gallery-link-control.component.ts","./src/app/common/controls/image-control/image-control.component.ts","./src/app/common/controls/image-control/image-control.component.html","./src/app/common/controls/image-carousel-control/image-carousel-control.component.html","./src/app/common/controls/image-carousel-control/image-carousel-control.component.ts","./src/app/common/controls/inbox-control/inbox-control.component.html","./src/app/common/controls/inbox-control/inbox-control.component.ts","./src/app/common/controls/link-control/link-control.component.html","./src/app/common/controls/link-control/link-control.component.ts","./src/app/common/controls/list-view-control/list-view-control.component.html","./src/app/common/controls/list-view-control/list-view-control.component.ts","./src/app/common/controls/search-control/search-control.component.html","./src/app/common/controls/search-control/search-control.component.ts","./src/app/common/controls/title-bold-control/title-bold-control.component.ts","./src/app/common/controls/title-bold-control/title-bold-control.component.html","./src/app/common/controls/title-light-control/title-light-control.component.ts","./src/app/common/controls/title-light-control/title-light-control.component.html","./src/app/common/controls/subtitle-regular-control/subtitle-regular-control.component.ts","./src/app/common/controls/subtitle-regular-control/subtitle-regular-control.component.html","./src/app/common/controls/subtitle-bold-control/subtitle-bold-control.component.ts","./src/app/common/controls/subtitle-bold-control/subtitle-bold-control.component.html","./src/app/common/controls/paragraph12-control/paragraph12-control.component.ts","./src/app/common/controls/paragraph12-control/paragraph12-control.component.html","./src/app/common/controls/paragraph16-control/paragraph16-control.component.ts","./src/app/common/controls/paragraph16-control/paragraph16-control.component.html","./src/app/common/controls/paragraph14-control/paragraph14-control.component.ts","./src/app/common/controls/paragraph14-control/paragraph14-control.component.html","./src/app/common/controls/map-control/map-control.component.html","./src/app/common/controls/map-control/map-control.component.ts","./src/app/common/controls/pagination-control-element/pagination-control-element.component.html","./src/app/common/controls/pagination-control-element/pagination-control-element.component.ts","./src/app/common/controls/list-view-control/dm-template-list-view/dm-template-list-view.component.html","./src/app/common/controls/list-view-control/dm-template-list-view/dm-template-list-view.component.ts","./src/app/common/controls/card-link-control/dm-template-card-link/dm-template-card-link.component.html","./src/app/common/controls/card-link-control/dm-template-card-link/dm-template-card-link.component.ts","./src/app/common/controls/gallery-link-control/dm-template-gallery-link/dm-template-gallery-link.component.html","./src/app/common/controls/gallery-link-control/dm-template-gallery-link/dm-template-gallery-link.component.ts","./src/app/common/controls/image-carousel-control/dm-template-image-carousel/dm-template-image-carousel.component.html","./src/app/common/controls/image-carousel-control/dm-template-image-carousel/dm-template-image-carousel.component.ts","./src/app/common/controls/loader-bars/loader-bars.component.ts","./src/app/common/controls/loader-bars/loader-bars.component.html","./src/app/common/controls/inbox-control/grid-view/inbox-grid-view.component.html","./src/app/common/controls/inbox-control/grid-view/inbox-grid-view.component.ts","./src/app/common/controls/inbox-control/card-view/inbox-card-view.component.html","./src/app/common/controls/inbox-control/card-view/inbox-card-view.component.ts","./src/app/common/controls/dynamic-control/dynamic-control.component.html","./src/app/common/controls/dynamic-control/dynamic-control.component.ts","./src/app/common/controls/dynamic-control/dm-template-dynamic/dm-template-dynamic.component.html","./src/app/common/controls/dynamic-control/dm-template-dynamic/dm-template-dynamic.component.ts","./src/app/common/controls/pipes/object-list.pipe.ts","./src/app/common/controls/my-relevants-control/my-relevants-control.component.html","./src/app/common/controls/my-relevants-control/my-relevants-control.component.ts","./src/app/common/controls/line-control/line-control.component.ts","./src/app/common/controls/line-control/line-control.component.html","./src/app/common/controls/circle-control/circle-control.component.ts","./src/app/common/controls/circle-control/circle-control.component.html","./src/app/common/controls/square-control/square-control.component.ts","./src/app/common/controls/square-control/square-control.component.html","./src/app/common/controls/rectangle-control/rectangle-control.component.ts","./src/app/common/controls/rectangle-control/rectangle-control.component.html","./src/app/common/controls/pipes/safe-url.pipe.ts","./src/app/common/controls/iframe-url-control/iframe-url-control.component.html","./src/app/common/controls/iframe-url-control/iframe-url-control.component.ts","./src/app/common/controls/directives/run-scripts.directive.ts","./src/app/common/controls/pipes/safe-html.pipe.ts","./src/app/common/controls/embedded-code-control/embedded-code-control.component.html","./src/app/common/controls/embedded-code-control/embedded-code-control.component.ts","./src/app/common/controls/boolean-control/boolean-control.component.html","./src/app/common/controls/boolean-control/boolean-control.component.ts","./src/app/common/controls/simple-map/simple-map.component.html","./src/app/common/controls/simple-map/simple-map.component.ts","./src/app/common/controls/my-cases-control/my-cases-control.component.html","./src/app/common/controls/my-cases-control/my-cases-control.component.ts","./src/app/common/controls/controls.module.ts","./src/app/common/services/sites/translation.service.ts","./src/app/common/render.common.module.ts","./src/app/render/store/site/site.effect.ts","./src/app/render/store/page/page.effect.ts","./src/app/render/store/pages/pages.effect.ts","./src/app/render/store/user/user.effect.ts","./src/app/common/services/sites/internal-resources.service.ts","./src/app/render/store/multilanguage/multilanguage.effect.ts","./src/app/common/services/genome/custom-paginator-labels.ts","./src/app/render/store/session/session.effect.ts","./src/app/render/render.module.ts","./src/main.ts"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","webpackEmptyAsyncContext","Promise","then","Icon16Component","Icon32Component","StaticsComponent","_translateService","defaultLanguage","this","getBrowserLang","setDefaultLang","RenderComponent","get","method","key","fullKey","getFullKey","cache","add","value","delete","getCacheKey","_arguments","args","Array","prototype","slice","call","_","filter","a","type","join","Cache","target","descriptor","undefined","getOwnPropertyDescriptor","_originalMethod","CacheService","arguments","result","apply","resultIt","_http","headers","set","request","isOctetStream","url","resolveUrlFromParameters","cloneDeep","getFile","responseType","post","JSON","stringify","body","postFile","file","postBlob","contentTypeValue","postFormData","put","patch","parameters","k","hasOwnProperty","replace","queryParams","buildQuery","params","filterArray","paramKey","length","RestApiSevice","_navigationContext","setSiteVersion","siteVersion","_siteVersion","setSite","site","_site","setPage","page","_page","setPages","pages","_pages","setNavigationContext","navigationContext","getSiteVersion","getSite","getPage","getPages","addNavigationContext","context","push","getNavigationContext","lastNavigationContext","last","popNavigationContext","pop","StateSnapshotService","_restApiService","_stateSnapshotService","endpoints","userprofile","stakeholders","collectionsdata","casesdata","searchresultsdata","inboxcases","relevants","contextnavigationdata","navigationdata","workitemsData","process","myCasesDefault","myCasesProcesses","myCasesDataWithHeaders","myCasesById","currentUserGuid","getUserProfile","toPromise","user","getStakeholders","getCollection","source","collectionId","xpath","rows","pagination","from","mappingType","toLowerCase","catch","error","getCases","processId","getWorkitems","caseId","getBizagiUser","getSearchResults","search","searchId","getContextNavigations","connectionEntityId","connectionType","rootConnectionType","navigationLevels","getInbox","state","orderby","getDataByCaseId","getMyCases","caseState","ordertype","processes","getRelevants","getNavigationData","getProcesses","first","values","environments","defaultEnvironment","projects","res","getDataByProcessId","BizagiDataService","Lock","_mutex","that","methodArguments","promise","runExclusive","reject","err","supportPageChanges","heroImageChanges","hero","heroImage","styles","showHeroImage","heroImageHeight","heroSpace","scale","scaleProportionally","imgOpacity","imgColorOpacity","imgColorBackgroundOpacity","backgroundPosition","sites","categories","resourcesAll","getResource","isPrivatePage","CACHE_SITE_PREFIX","CACHE_SITEPAGES_PREFIX","CACHE_PAGE_PREFIX","getSites","publishedSites","siteName","publishedSiteName","pageName","pipe","responseService","GlobalCompatibility","getResources","siteId","getIsPrivatePage","resourceId","getControlCategories","controlXpaths","PublishedSiteService","_location","router","showGoBack","history","navigated","goBack","back","NotFoundComponent","showPanel","controlId","cssClass","panelElement","referenceElement","$","css","offset","top","window","height","left","width","show","setTimeout","children","requireAll","unsubscribe","subscriptions","each","subscription","deepClone","obj","temp","constructor","Global","isOnRenderMode","location","pathname","match","newGuid","c","r","Math","random","toString","getURLParameterByName","name","href","results","RegExp","exec","decodeURIComponent","escapeOutput","content","element","document","createElement","innerText","textContent","deleteRelativeBackUrl","getURLParameters","getHtmlTextWidth","text","fontSize","fontFamily","font","appendTo","remove","isFirefox","navigator","userAgent","indexOf","isInternetExplorer","msie","parseInt","substring","rv","edge","getApplicationPath","origin","protocol","hostname","lastIndexOf","getApplicationName","getScreenSize","matchMedia","matches","getControlsByStakeholderContext","stakeholderContextId","controls","filteredControls","copy","forEach","control","isVisibleTo","visibleTo","getKebabCase","cleanPageStructure","cleanedPage","i","_cloneControl","controlsById","controlIds","controlGroups","byGroups","omit","cleanSiteStructure","cleanedSite","getBizagiImageUrl","imageUrl","urlParts","split","basePath","endsWith","getBizagiFileUrl","fileName","isBizagiImage","image","startsWith","includes","getQueryString","parseQueryString","substr","hash","queryString","getRedirectRoute","escape","atob","parse","redirectRoute","replaceAll","textToReplace","replacement","getBizagiProjectUrl","bizagiProjectId","ellipsisMultiline","selector","wordArray","innerHTML","scrollHeight","offsetHeight","pairs","pair","separatorIndex","escapedKey","escapedValue","data","visibleToList","isEmpty","canShowControl","capitalizeFirstLetter","textLower","charAt","toUpperCase","copyToClipBoard","existsTextarea","getElementById","textarea","style","position","padding","border","outline","boxShadow","background","querySelector","appendChild","select","execCommand","sortByDefinition","definition","items","sortKey","found","item","adjustGridNodesToLayout","grid","gridstack","layoutSize","prev","size","x","nodes","node","el","attr","checkSize","deviceType","_getWidthPercentage","applyMixins","derivedCtor","baseCtors","baseCtor","getOwnPropertyNames","percentage","transformObjectToArray","returnArray","val","jsonToBase64","objJsonStr","btoa","unescape","encodeURIComponent","base64ToJson","decodedStr","disableLinks","anchors","onclick","anchors1","getBooleanValue","modifyWidhSelect","selectDropDown","event","selectOverlay","time","bind","performIECalculateWidth","overlay","clientHeight","trackingEvents","DASHBOARD_DELETE_SITE","DASHBOARD_CREATE_SITE_TEMPLATE","DASHBOARD_CREATE_SITE_BLANK_TEMPLATE","DASHBOARD_FOLDER_CREATE_NEW_SITE","DASHBOARD_FOLDER_EDIT_SITE","DASHBOARD_CHANGE_SUBSCRIPTION","DASHBOARD_ITEM_CARD_OPTIONS_CLONE_SITE","DASHBOARD_ITEM_CARD_OPTIONS_EDIT_SITE_CONFIG","DASHBOARD_LANGUAGE","DASHBOARD_LOGOUT","DASHBOARD_RECENT_HEADER_CREATE_NEW_SITE","DASHBOARD_RECENT_FOOTER_CREATE_NEW_SITE","DASHBOARD_RECENT_EDIT_SITE","DASHBOARD_LAST_ITEM_EDIT_SITE","DASHBOARD_FOLDER_ITEM_EDIT","DASHBOARD_RENAME_FOLDER","DASHBOARD_SUB_HEADER_CREATE_NEW_SITE","EDITOR_BIZCONTROLS_ADD_CONTROL","EDITOR_BIZCONTROLS","EDITOR_START_HERE","EDITOR_ADD_CONTROL_MAIN_MENU","EDITOR_ADD_CONTROL_SEARCH","LANDING_LANGUAGE","LANDING_LOGOUT","TEMPLATE_LANGUAGE","TEMPLATE_LOGOUT","TEMPLATE_VIEW_MODE_THUMBNAILS","TEMPLATE_VIEW_MODE_PAGE","TEMPLATE_ITEM_VIEW_DETAILS","TEMPLATE_ITEM_START_BUILDING","TEMPLATE_PAGE_START_BUILDING","TEMPLATE_PAGE_NEXT_ITEM","TEMPLATE_PAGE_PREV_ITEM","TEMPLATE_PAGE_THUMB_PAGES","TEMPLATE_START_BUILDING","trackingPageViews","DASHBOARD","LANDING_PAGE","WORKSPACE","PREVIEW","SETTINGS","collectionsTypes","gridConfig","cellSize","SAVE_TIMEOUT","TOAST_POSITION","b64toBlob","b64Data","contentType","sliceSize","byteCharacters","byteArrays","byteNumbers","charCodeAt","byteArray","Uint8Array","Blob","payload","_httpClient","BIZAGI_OAUTH_INFO_URL","REFRESH_TOKEN_URL","USE_CODE_URL","_authInfo","getProfile","profile","setProfile","setExpiration","expiration","getExpiration","initAndLogin","loginParams","identityServer","encodeURI","initData","setParams","server","scope","client_id","urls","saveToken","login","qs","continueWithAuthorizationCode","redirectToAuthorizePage","logout","bUseFullUrlWithHashes","logoutUrl","postLogoutUrl","getRedirectUri","userIdentity","sessionStorage","getItem","refreshToken","response","authInfo","sso","authorize","nonce","createNonce","getAuthorizeUrl","redirect_uri","pushState","base","possible","floor","BizagiOAuthManager","_endpoints","userPreferences","updateUser","createUser","updateLanguage","firstAccess","updateEditorLanguage","updateLanguagePreference","username","language","createUserPreferences","updateUserEditorLanguage","validateFirstAccess","email","getUserByEmail","getUserByUsername","createOrUpdateUserPreferences","userName","UserService","_bizagiOauthManager","_userService","setRedirectHeader","privateUrl","publicUrl","_redirectPrivateUrl","_redirectPublicUrl","loggedOn","logoutToUrl","pageToRedirect","logoutOtherUrl","_removeStorage","getToken","token","isLoggedOn","authenticatedUser","getUserEmail","getUsername","getIsAdministrator","isAdministrator","hasEditorRole","find","roles","role","Name","getUserId","sub","setToken","removeItem","OAuthClientHelper","_modalComponentRef","_ngZone","checkBoxValue","close","run","performOptional","confirm","ConfirmDialogModalComponent","_oAuthClient","_modalService","_stateSnapshots","expirationTimerUnsubscribe","Subject","expirationTimerSessionBPMUnsubscribe","restartSessionSubject","startSessionSubject","debounceTime","subscribe","session","startTimerSession","initializeIframe","showIframe","targetOrigin","elementReference","iframeFakeLoaded","isPrivate","newToken","iframe","getIframe","sendMessageToIframe","accessToken","iframeFake","getIframeFake","expirationDateValue","expirationDate","Date","currentDate","difference","getTime","console","log","unsubscribeTimer","initTimers","startTimerBPMSession","sessionTimeout","timeoutMilliseconds","unsubscribeTimerSessionBPM","bpmSessionTimer","interval","takeUntil","next","expirationTimer","timer","endingTimer","startExpirationTimer","showAlertIdleSession","startEndingTimer","showAlertTimeoutSession","eventType","message","sitesEl","contentWindow","postMessage","nativeElement","closeOpenModals","_modalRefSessionIdle","open","backdropClass","maxWidth","closeOnBackdropClick","title","confirmButtonText","cancelButton","icon","iconColor","afterClosed","_modalRefSessionTimeout","openModals","modal","SessionHandlerService","oAuthClient","api","route","_store","_sessionHandlerService","tokenExtractor","XSRFtoken","ajaxSetup","beforeSend","xhr","setRequestHeader","getExecutionEnvironment","environment","executionEnvironment","bizagiEnvironment","setItem","redirect","dispatch","LoadFonts","LoadCustomThemes","newParams","clone","navigateByUrl","param","preserveQueryParams","userProfile","LoginComponent","_router","redirectToSite","home","navigate","homePageName","SiteRenderComponent","renderSelector","getSiteResources","orderBy","multilanguage","resources","displayName","getSiteLanguage","currentLanguage","getLastBpmLanguage","lastBPMLanguage","getResourcesByName","resourcesByName","selectOrganization","organization","organizationSelected","organizationId","SelectOrganizationModalComponent","getSiteUser","_sanitizer","themeVariables","customThemes","themes","colors","webpartThemes","button","navigation","pane","tooltip","getThemes","getCustomThemes","loadSiteTheme","theme","removePrevThemeLinks","head","getElementsByTagName","link","rel","themeFile","blob","URL","createObjectURL","themeUrl","localStorage","media","prevThemes","removePrevThemeLinkByName","themeName","urlByThemeName","refreshThemeVariables","regexp","styleSheets","mysheet","myrules","cssRules","rules","primary_color","secondary_color","third_color","fourth_color","j","selectorText","cssText","getThemeVariables","getWebpartThemeVariables","webpartMappedTheme","createCustomTheme","removeCustomTheme","ThemeService","ngOnInit","LoaderBarsComponent","isShowGoDown","isModalOn","onClose","onGoDown","onButtonClick","dialog","header","footer","addClass","emit","closeModal","removeClass","loading","isLoading","goDown","buttonClicked","action","ModalWebPartsComponent","FormType","_elementReference","_themeServices","_bizagiDataService","CASE_CLOSED","CASE_CANCELED","NO_PENDING_ACTIVITIES","showGoDown","formTitle","activityName","caseNumber","currentWorkitem","taskName","index","workItems","infoMessage","errorMessage","showLoading","tabSelected","isLastActionNext","showLoadFormButton","globalFormLoaded","closing","showWorkItems","showActivitiesSelector","multipleOrganization","iframeType","_summaryLoaded","_loadformCase","_defaultFonts","_iframeFakeLoaded","_languageChanged","_actualProcess","iframfeInitialized","_loadingIframe","_pendingCase","_initialLoading","_languageError","asObservable","openIFrame","UpdateLoading","loadingWebparts","_currentLanguageSubscription","siteLanguage","connection","_getLanguageName","loadingChangeBPMLanguage","_currentUserSubscription","_user","setIframeFakeLanguage","currentPage","ngOnDestroy","destroyIFrameCommunication","destroyIFrameFakeCommunication","fonts","_initialize","modalTitle","titleInput","selectedTab","showInFoMessage","languageName","_iframeResponse","pendingActivities","registerCloseFunction","_onCloseFunction","onCloseForm","closeForm","onChangeCaseActivity","itemIndex","findIndex","_getCurrentWorkitem","workItemsResponse","idCase","_idCase","getSummaryIframe","clicked","firstTime","chnageTabOperation","getWebPartType","isMultiOrganization","sOrganizations","New","openSelectOrganizationModal","organizations","_modalRef","closeOnEscape","openVerifyModal","cancelButtonText","optionalButtonText","optionalButton","_loadInitialIframes","sumaryIframe","formIframe","webpartTheme","trim","getWebPartParameters","sendPostMessagesToIframe","iframeCase","openNewProcess","receiveMessageFromIframe","postMessageEventName","currentCase","checkActivitiesLoadCase","showLoadGlobalform","summaryResponse","idWorkFlow","_loadWebpartDefaultFont","_updateFormTitle","isClosed","hasPendingActivities","Number","showAlertAuthorizationError","loadGlobalForm","_modalRefAuthorizationError","showGlobalForm","newWorkItems","idWorkItem","dueDate","estimatedSolutionDate","currentActivity","fromLoadFormCase","isAborted","workitem","isNewCase","_getWorkitems","Existing","accumulatedContext","entityGuid","surrogateKey","idWfClass","idOrganization","guidAction","processName","case","callback","iframeReceiveFunction","eventMethod","addEventListener","eventer","messageEvent","iframeFakeReceiveFunction","_return","workitemsResponse","arrayWorkitems","workitems","workitemIdx","dataToSend","globalSettings","defaultFontFamily","_fakeIframe","UpdateLastBPMLanguage","BizagiFormsComponent","siteEditorSelector","getCurrentSite","currentSite","getDefaultFontSite","getCurrentPage","getPageContext","pageContext","getRenderHero","_publishedSiteService","notifyEvents","showForm","trigger","on","PageRenderingService","loadAllFonts","files","fileNames","contentStyle","getFilesByFont","getCSS","prepend","getFormattedFontName","append","getFonts","removeFonts","saveFonts","formData","loadFontsFilesByFamilyName","familyName","fontsBlobs","addClassUsingDefaultFont","familyFontName","prop","html","fontName","reduce","curr","escapedParameter","escapedStyle","strFilesUrls","FontsServiceCommon","registerControlComponent","controlComponent","controlComponents","getControlComponents","getControlDefinitions","ControlsService","controlDefinition","getControlDefinitionByType","controlComponentItem","getControlComponentByType","getCollectionFieldsSelectors","listView","textTitle","labelTitle","caption","galleryLink","imageCarousel","cardLink","dynamic","header_footer","subtitle","body_1","body_2","body_3","heading_1","heading_2","ControlDefinition","controlDefinitionMetadata","EControlMode","EDeviceMode","SUBCATEGORY_HEADER","titleLight","titleBold","subtitleRegular","subtitleBold","HEADER_CONTROLS","SUBCATEGORY_PARAGRAPH","paragraph16","paragraph12","paragraph14","PARAGRAPH_CONTROLS","SUBCATEGORY_IMAGE","IMAGE_CONTROLS","SUBCATEGORY_MAP","MAP_CONTROLS","SUBCATEGORY_SIMPLEMAP","simplemap","SIMPLEMAP_CONTROLS","SUBCATEGORY_BUTTON_REGULAR","BUTTON_REGULAR_CONTROLS","SUBCATEGORY_BUTTON_ROUND","button_round","BUTTON_ROUND_CONTROLS","SUBCATEGORY_LINK","LINK_CONTROLS","SUBCATEGORY_BOOLEAN","boolean","BOOLEAN_CONTROLS","SUBCATEGORY_GALLERY_LINK","GALERRY_LINK_CONTROLS","SUBCATEGORY_IMAGE_CAROUSEL","IMAGE_CAROUSEL_CONTROLS","SUBCATEGORY_LIST","LIST_CONTROLS","SUBCATEGORY_LIST_VIEW","LIST_VIEW_CONTROLS","SUBCATEGORY_SEARCH","SEARCH_CONTROLS","SUBCATEGORY_DYNAMIC","DYNAMIC_CONTROLS","SUBCATEGORY_INBOX","Inbox","SUBCATEGORY_MY_CASES","SUBCATEGORY_MY_RELEVANTS","MyRelevants","SUBCATEGORY_LINE","line","SUBCATEGORY_CIRCLE","circle","SUBCATEGORY_SQUARE","square","SUBCATEGORY_RECTANGLE","rectangle","LINE_CONTROLS","CIRCLE_CONTROLS","SQUARE_CONTROLS","RECTANGLE_CONTROLS","SUBCATEGORY_HTML_IFRAME","HtmlIframe","SUBCATEGORY_EMBED_WEBSITE","EmbedWebsite","HTML_IFRAME_CONTROLS","EMBED_WEBSITE_CONTROLS","_changed","_parameters","_parametersTranslation","Build","refreshSubject","_boundParameters","onComponentInitialized","onResize","_refreshSubscription","debounce","loadingUser","refresh","setBaseServices","stateSnapshotsService","themeServices","cultureService","stateSnapshotService","setCurrentLanguage","_currentLanguageResources","_defaultPreferences","culture","setControl","changeDetectorRef","initializeControl","cdr","enableRenderingMode","Render","isRenderingMode","getControl","deviceMode","_checkDeviceMode","loadStyles","browser_detect","mobilecheck","Mobile","mobileAndTabletcheck","Tablet","Desktop","initialized","onChanged","updatedControl","loadParameters","parametersBinding","isNil","defaultValue","translation","_setParametersOnRender","category","_isJSON","setBoundParameters","xpaths","dateTimeFormat","currencyFormat","_getGoogleMapsDirection","navigateTo","isResizable","defaultSize","getQueryStringByName","google","maps","Geocoder","geocode","address","latLng","geometry","toJSON","place","formatted_address","latitude","lat","longitude","lng","whenChanged","notifyChange","notifyParams","updateProperty","detectChanges","indexesInit","indexesEnd","translationClone","counter","xpathFind","setStore","store","baseStore","ENavigationType","loadDefaultData","dataMappings","row","mapping","getDefaultValue","typeData","dataCount","loadDefaultDataMyCases","_defaultValuesMyCases","loadDefaultDataFields","langResources","resourceKey","getRandomImage","_defaultValuesFields","getRandomText","controlType","getRandomTitle","getRandomNumber","_getWorkItems","getRandomBizagiNumber","getRandomDate","getDefaultProcesess","translateService","defaultData","categoryKey","setTemplateImages","images","_templateImages","getDefaultPicture","isDefaultValue","nsentences","count","units","nwords","sample","rnumber","start","end","toDateString","nitems","solutionDate","siteEditor","getSiteNavigationPages","savingSite","defaultValues","randomPendingChanges","subscriptionId","colorLibrary","props","inProgressActions","getCurrentSiteLanguage","currentSiteLanguage","languageResourceToSync","availableLanguages","getSitePages","currentPageState","sitePages","navf","pageId","references","some","ref","getHero","heroAction","isContextualized","ECultureDateTypes","ECultureCurrencySymbolPosition","EDateFormatStyles","_oAuthClientHelper","_storeRender","workportalCulture","formatOptions","userPreferencesStatus","_currentLanguage$","_languagePreferences","getFormatOptions","_formatOptions","of","getFixedPreferences","preferences","_setDefaultLanguageResource","getDefaultUserPreferences","dateFormat","long","dateFormatLong","short","dateFormatShort","timeFormat","format","getPreferences","getPreferencesFromUser","_preferences","getPreferencesFromDefaultResource","getUserPreferences","getUser","userFromSites","isCustom","_currentLanguage","date","dataType","currentUserPreferences","moment","isValid","_formatToDate","dateTime","validFormat","getValidFormat","money","currentPreferences","moneyNumber","parseFloat","isNaN","decimalDigits","toFixed","decimalSeparator","negativeNumberFormatFloat","negativeNumbers","thousandsSeparator","currencySymbolPosition","before","currencySymbol","floatFormat","float","floatNumber","negativeNumberFormat","numberToFormat","negativeCustomFormat","openUserPreferences","isOpen","closeUserPreferences","dateFormatStyle","dateSeparator","toolsBarVisible","countDecimals","CultureSettingsService","$event","stopPropagation","_cdr","_cultureSettingsService","previewMode","renderMode","stakeholderContexts","onControlManageContentSelected","windowWidth","currentItem","defaultPicture","showNavigationMenu","showAvatarSubMenu","ngOnChanges","changes","reference","_loadPageReferences","newPageReferences","_originalPageREferences","updateNavigationReferences","pageReferences","hiddenNavItems","_updateNavigationMenu","screen","isDesktop","initials","languageResource","_navigationPagesSubscription","navigations","pageReference","isOnNavigation","_sitePagesSubscription","_updateDefaultValues","logoff","routeSnapshot","snapshot","part","path","goToLogin","skipLocationChange","showMenu","menuIsActive","showNavigation","getLink","pageNavigation","Page","newRef","finalRef","test","getInt","toggleNavMenu","hideItem","showSubMenu","child","hiddenItems","changeSubMenuVisibility","showSubAvatarMenu","blank","navigationContainerRef","navigationContainer","pageNavigationRef","navigationContainerWidth","offsetWidth","navElements","getElementsByClassName","removeAttribute","pagesToFilter","_fixNavigation","posDiff","pageNavigationWidth","navigationItems","elementToHide","setAttribute","splice","targetPage","originalId","controlNav","isSubMenuSelected","HeaderControlComponent","section","max","backColor","fontColor","subNavBackColor","subNavFontColor","avatarBackColor","avatarFontColor","min","logoSize","bold","loginColor","loginBold","showLogo","fromPrivate","fromPublic","siteLogo","isOpenedLangList","_currentSiteSubscription","_siteResourcesSubscription","siteResources","changeSelectedResource","resource","UpdateCurrentLanguage","currentResource","setMenuVisibility","LanguagesMenuRenderComponent","_renderStore","isRenderMode","defaultImage","gridSize$","$currentLanguage","heroUpdated$","_heroUpdatedSubscription","_gridSizeSubscription","getStylesImage","heroStyles","getBackgroundSize","getBackgroundRepeat","opacity","transform","getTransformScale","zoom","getZoom","getStylesLayer","calculateScale","calculateBackgroundRepeat","getWidthControl","checkShowHero","HeroControlComponent","onFooterSelected","selectFooter","FooterControlComponent","showCopyright","align","showFooter","fullWidth","copyright","getGrid","_elementRef","pageNavigationList","_currentPageSubscription","_pagesSubscription","navigationContexts","originPageId","gridSizeSubscription","boundariesSize","screenSize","innerWidth","ngAfterViewInit","breadCrumbPart","indexOfNavigation","newNavigationContextList","BreadcrumbRenderComponent","getLoadingRender","ESearchTypeFields","EControlDataSource","_updateDataSubject","_data","_fields","xpathFilter","maxElementHeight","isDataReady","isProcessLoading","isDataError","canShowCaseLink","currentPaginationSet","intervalSize","totalPages","totalItems","setServices","services","pageRenderingService","bizagiDataServices","initializeSubjectUpdateData","_updateDataSubscription","_loadData","setTypeSearch","typeFilter","setXpathFilter","output","createCase","idAction","idProcess","bizagi","projectId","bizagiEntity","goToLink","_link","dataSource","Fixed","hasLink","isRender","differentNone","testUrl","onPaginationEvent","paginator","pageSize","pageIndex","calculateFrom","setPagination","scrollToElement","scrollIntoView","behavior","block","showCase","idTask","dataId","refreshFixedPaginationData","_refreshFixedPages","paginatedData","updateEllipsisFields","getTypeMappedField","field","mappingTypes","navigationContextList","newNavigationContext","navigationData","project","resize","layout","multipageItemView","ceil","layouts","columns","verticalSpacing","verticalItemSpacing","paginationsHeight","itemHeight","outerHeight","dymanicSizeElement","heightElement","loadBizagiCollectionsData","xpathProp","findKey","mappings","compact","uniq","templateTypes","setResponseData","loadBizagiCasesData","_loadFields","fields","_updatePagination","Dynamic","actions","controlDefinitionField","controlDefinitionFieldKey","label","loadBizagiSearchResultsData","loadBizagiContextualizedResultsData","fixed","filterData","filterFixedItem","connectionId","navigationContextItem","navigationId","entity","_userPreferences","_currentUserPreferences","_setResponseData","transformData","instances","forIn","filterName","additionalFields","fieldValue","isAMatch","Specific","isEqual","column","mappingMetadata","transformDataMyCases","dataFormatted","newRow","h","isText","displayedItems","translationFields","tmpField","fieldLabel","setControlLink","startProcess","_startProcess","startProcessByProcessId","goToPage","controlLink","loadRelevants","groupBy","ESearchType","loadCategories","changeProperty","targets","internalTarget","property","collectionItem","fieldName","getPageData","pageData","EDataType","unsupportedColumns","MyCases","filterState","loadInboxResultsData","loadMyCasesResultsData","processesId","_setResponseDataInbox","_setResponseDataMyCases","inboxData","inboxCase","creationDate","destroyed","_resolver","_controlsServices","_bizagiDataServices","_route","_changeDetectorRef","_pageRenderingService","_cultureService","onSetCurrentControl","showCustomLoader","unsubscribeCurrentUser$","inputProviders","inputName","provide","useValue","resolvedInputs","injector","fromResolvedProviders","viewContainerRef","parentInjector","component","resolveComponentFactory","create","insert","hostView","currentComponent","destroy","instance","_startSupscriptions","_pageDataSubscription","currentUser","share","_lastBPMLanguageSubscription","lastBpmLanguage","_loadingSubscription","_pageContextSubscription","setCurrentControl","subcategory","GridCellRenderComponent","REGEXIMAGESALLOWED","REGEXIMAGESURL","REGEXURL","REGEXSPECIALCHARACTERS","REGEXSPECIALCHARACTERS_DISPLAY_NAME","REGEXSPECIALCHARACTERS_PUBLISH","SELECTED_CONTROLS_CLASS","GRID_PANEL_ID","GRID_PANEL_SIZE","getContainerHeight","maxNodes","n","maxHero","adjustContainerResolution","container","containerHeight","GlobalConstants","parent","GridService","_gridService","renders","gridLayoutWidth","showGrid","_onGridChanges","_whenChangeSubject","UpdateGridSize","_paramsSubscription","pageParams","initializeGridAndControls","onControlChanged","gridSubscription","_grid","onresize","_container","updateContainer","toArray","urlKeyyParts","targetControlId","targetId","outputs","trackByFn","runOutsideAngular","GridRenderComponent","buttons","showDescription","disableContent","cultureFormatOptions","unbind","languageCulture","onChangeCheck","refreshPreferences","onChangeSelect","isNumber","onChangeInputNumber","inputValue","UserPreferencesComponent","modalRef","onUserUpdate","onModalButtonClicked","_userPreferencesComponent","UserPreferencesRenderModalComponent","_userSubscription","siteUser","_resourcesSubscription","_resources","maxHeight","UpdateUser","UserPreferencesRenderComponent","objectFitImages","_publishedSiteServices","_fontsServiceCommon","isLoadingPreferences","formParameters","LoadSite","LoadPage","pagesList","LoadPages","_loadSiteResources","_loadPageResources","userSite","updateUserPreferences","loadPageContext","stakeholder","contexts","contextStr","processNavigationContext","ClearNavigationContexts","_getNavigateToNextPage","idx","mode","pageNav","_loadPageContext","LoadCurrentLanguage","defaultResource","_fonts","notPreferencesCustom","defaultPreferences","newUserSites","picture","form","lastNavigation","newNavigation","mapValues","keyBy","UpdatePageContext","SetPageData","PageRenderComponent","canActivate","_environment","loadSite","userLoggedOn","userLoggedOnCookie","RouteActivatorRender","disabledOnPremises","projectUrl","ProtectedRouteActivator","PublicRouteActivator","routes","SiteListRenderComponent","UnauthorizedComponent","redirectTo","RenderRoutingModule","forRoot","INITIAL_STATE","INITIAL_STATE_STORE","ROOT_REDUCER","boundaries","right","_notificationEvent","notificationEvent","notify","NotificationService","_oauthClient","_notificationService","_sessionHandler","isRefreshingToken","tokenSubject","intercept","ign","has","handle","catchError","status","handle401Error","_handleError","errMsg","take","switchMap","finalize","_addToken","setHeaders","Authorization","RestApiRenderInterceptorService","saveImages","getImages","getImagesBlob","deleteImages","duplicateImage","duplicateImages","pageCache","deleteImage","imageId","uploadImage","imageBlob","fileExtension","isPreview","extension","imageIdOrigin","imageIdDestination","fileConfirmationAlert","buttonColor","ImagesService","_imagesService","readImage","input","subject","reader","FileReader","readerEvent","originalImage","alt","compressImage","src","onload","readAsDataURL","imageData","fileId","imageRead","imageCompressor","ImageCompressor","compressorSettings","mimeType","quality","toWidth","toHeight","speed","FileService","_element","showCaseEvent","parents","getTitleFontSize","stylesComponent","getKey","getEntries","entries","isAllowValue","getDisplayName","selectCard","MyCasesControlCardComponent","changeOrderColumn","widthColumn","widthTable","heightTable","elementActual","table","verifyWidthProcess","selectedProcess","updateHeightTable","selectRow","orderColumn","calculeWidth","changeResize","columnIndex","sizeInPx","merge","calculateWidthColumn","cells","current","widthHeader","widthCell","widthColumns","acumulated","actual","extraWidth","heightHeader","parentComponent","totalHeightRows","MyCasesControlGridComponent","hasIcon","paramName","ButtonControlComponent","borderRadius","iconSelector","showLeftIcon","showRightIcon","links","staticPages","internalPages","ButtonRoundControlComponent","buttonSize","showIcon","openedTooltipViewMore","openedTooltipFiles","downloadFile","getBoolean","CollectionFieldControlComponent","showList","onShowCase","onCreateCase","itemActions","isUndefined","caseObj","ActionsControlElementComponent","EmptyListControlElementComponent","CardLinkControlComponent","designDisplay","displays","one","two","three","step","unitValue","headerName","cornerRadius","showActions","isFilter","inputs","minWidth","minHeight","bizagiConnections","cases","collections","searches","config","coords","w","y","imagesSize","isActive","letterSpacing","fontWeight","hiddenOptions","modifyFields","designOption","isResponsive","GalleryLinkControlComponent","four","ImageControlComponent","selectedItem","nextItem","prevItem","dynamicSizeItem","ImageCarouselControlComponent","_eref","viewOptions","datatable","active","blocked","cards","dataSearchMode","stateFilterLocalization","orderedBy","pointerEvent","changeView","option","_setCardPaginationSize","filterByStatus","_getLocalizationState","caseNumberInput","filterByCaseNumber","orderByColumnName","columnName","clearSearch","isDesktopMode","caseParams","InboxControlComponent","inbox","dataManager","LinkControlComponent","getCustomStyles","lineHeight","_getLineHeight","calc","lineTexHeight","lineCaptionHeight","linesText","parentHeight","linesCaption","ret","parentNode","removeChild","ListViewControlComponent","designCompressed","designActions","bottom","info","_domSanitizer","_searchValueSubject","searchData","expandedCategory","expandedCategories","isTooltipDisabled","refreshTime","_searchValueSubscription","onSearchHandler","checkNavigate","searchValue","_languageSubscription","getIconColorStyle","bypassSecurityTrustStyle","isActiveCategories","selectCategories","_defaultFontSubscription","globalFont","getBackgroundColor","expandCategories","setCategoryData","textWidth","SearchControlComponent","displaySearch","showCategories","buttonBackColor","buttonFontColor","searchButtonName","searchPlaceholder","searchIcon","searchCategoryPlaceholder","onSearch","TitleBoldControlComponent","TitleLightControlComponent","SubtitleRegularControlComponent","SubtitleBoldControlComponent","Paragraph12ControlComponent","Paragraph16ControlComponent","Paragraph14ControlComponent","setCurrentPosition","geolocation","getCurrentPosition","MapControlComponent","isDisabled","marker","textColor","backgroundColor","contentFontColor","showTotalCases","onChangePage","loadCurrentPage","filterPages","PaginationControlElementComponent","setFocus","preventDefault","changeDisableField","changeField","DmTemplateListViewComponent","DmTemplateCardLinkComponent","DmTemplateGalleryLinkComponent","DmTemplateImageCarouselComponent","currentTooltipActivities","placeholderItems","orderByColumn","showTooltipActivities","taskId","getGridPlaceholderItems","placeholderSize","fill","onClickDocument","InboxControlGridViewComponent","activityExpandMode","activityShowAll","getPlaceholderItems","InboxControlCardViewComponent","DynamicControlComponent","DmTemplateDynamicComponent","ObjectListPipe","_translateParser","expanded","toggle","relevantCategory","MyRelevantsControlComponent","free","small","medium","large","titleTextColor","titleBackColor","categoryFillContent","categoryFontColor","categoryBackColor","itemFillContent","itemFontColor","itemBackColor","showItemIcon","menuName","checkIfFullWidth","hasFullWidthClass","hasClass","LineControlComponent","CircleControlComponent","keepSize","color","SquareControlComponent","RectangleControlComponent","sanitizer","bypassSecurityTrustResourceUrl","SafeUrlPipe","_iframeContent","encodeURL","IframeUrlControlComponent","showTopBar","showUpdateButton","iframeurl","elementRef","reinsertScripts","scripts","scriptsInitialLength","script","scriptCopy","async","replaceChild","RunScriptsDirective","bypassSecurityTrustHtml","SafeHtmlPipe","transformToSecure","EmbeddedCodeControlComponent","BooleanControlComponent","withBooleanIcon","withBooleanText","booleanlabeltext","selectanattribute","onlyContextualizedMode","_pinIconRoute","_pinTransparentIconRoute","infoVisible","iconURL","_getURLIcon","transparentIconURL","isActiveLabel","updCtr","refreshInfoWindow","markerLabel","iconRoute","exp","SimpleMapComponent","pinInfoColor","pinInfoTextColor","markerText","ViewTypeEnum","CaseStateEnum","view","_searchByCaseNumberDebounce","noOrderColumns","cellSpacingMode","caseStates","filterStyles","previousValueSearch","_updateDebounceSubscription","calculateSearchTooltip","autocomplete","panelOpen","closePanel","p","initialProcesses","placeholderSearch","filterProcesses","myCasesPaginator","firstPage","selectedOrderColumn","direction","processSelected","selectedOption","containInvalidCharacter","searchInput","queryField","setValue","displayFn","changeOrderColumnGrid","filterByCaseState","All","MyCasesControlComponent","cardDisplay","tableDisplay","statusColor","filtersFontSize","filtersFontColor","filtersFontFamily","headerFontSize","headerFontColor","headerFontFamily","contentFontSize","contentFontFamily","paginationFontSize","paginationFontColor","paginationFontFamily","ControlsModule","apiKey","libraries","getTranslation","lang","TranslationService","BSRenderCommonModule","loader","useClass","deps","actions$","loadSite$","LoadSiteSuccess","SiteEffects","loadPage","LoadPageSuccess","PageEffects","loadPages","LoadPagesSuccess","PagesEffects","loadUser","LoadUserSuccess","UpdateUserSuccess","UserEffects","laguages","internalResources","internalResourcesDescription","languageResources","getAvailableLanguages","getLanguageInternalResources","getFormatOptionsResourcesDescription","setNewResources","InternalResourcesService","_internalLanguageResources","loadCurrentLanguage$","withLatestFrom","LoadSiteResourcesSuccess","setResourcesByName","LoadSiteResourcesByName","browserLang","userResource","setMomentLang","toLocaleLowerCase","use","setUserPreferences","LoadCurrentLanguageSuccess","browserResource","languageId","updateCurrentLanguage$","sitePreferences","UpdateCurrentLanguageSuccess","updateLastBPMLanguage$","UpdateLastBPMLanguageSuccess","dictionay","DisplayName","MultilanguageEffect","itemsPerPageOf","getRangeLabel","startIndex","handleServiceTranslate","msg","pageSizeSelectorLabel","SessionEffects","RenderModule","multi","useFactory","initialState","bootstrapModule"],"mappings":"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ACA,qBACF,OACF,OACA,qBACE,mBACA,mBACF,OACA,qBACE,aACE,mBACA,mBACA,mBACF,OACF,OACA,qBACE,mBACF,OACA,qBACE,aACE,mBACF,OACF,OACA,qBACE,aACE,mBACA,mBACF,OACF,OACA,qBACE,aACE,mBACF,OACF,OACA,qBACE,mBACF,OACA,qBACE,mBACF,OACA,qBACE,mBACF,OACA,qBACE,aACE,mBACF,OACF,OACA,qBACE,mBAEF,OACA,qBACE,mBAEF,OACA,qBACE,mBAEF,OACA,qBACE,mBACF,OACA,qBACE,mBAEF,OACA,qBACE,mBACF,OACA,qBACE,mBAEF,OACA,qBACE,kBACF,OACA,qBACE,mBAEF,OACA,qBACE,mBAEF,OACA,qBACE,mBAEF,OACA,qBACE,mBAEF,OACA,qBACE,mBAEA,mBAEF,OACA,qBACE,oBACA,oBAEF,OACA,sBACE,oBACD,OACD,sBACE,oBACA,oBACA,oBACF,OACA,sBACE,qBACA,qBAEF,OACA,uBACE,qBAEA,qBACF,OACA,uBACE,qBAEA,qBACF,OACA,uBACE,qBAEA,qBAEF,OACA,uBACE,qBACF,OACA,uBACE,qBACF,OACA,uBACE,qBAEA,qBACF,OACA,uBACE,qBACA,qBACA,qBACA,qBACA,qBACA,qBACF,OACA,uBACE,kBACE,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACF,OACF,OACA,uBACE,qBAEA,qBACA,qBACA,qBACA,qBAEF,OACA,uBACE,cACE,qBAEF,OACF,OACA,uBACE,qBACF,OACA,uBACE,oBACA,oBACF,OACA,uBACE,qBAEA,qBACF,OACA,uBACE,qBAEA,qBAEF,OACA,uBACE,qBAEA,uBACF,OACA,uBAA6C,qBAAqJ,OAClM,uBAAiD,qBAAmL,OACpO,uBACE,qBACF,OACA,uBACE,qBAAqhC,qBACvhC,OACA,uBACE,oBACF,OACA,uBACE,qBAEF,OACA,uBACE,cACE,qBACF,OACF,OACA,uBACE,qBAEF,OACA,uBACE,qBAEA,qBAEF,OACA,uBACE,cACE,qBACA,qBACF,OACF,OACA,uBACE,cACE,qBACA,qBAEF,OACF,OACA,uBACE,cACE,qBACA,qBAEF,OACF,OACA,uBACE,cACE,qBACA,qBAEF,OACF,OACA,uBACE,cACE,qBACA,qBACF,OACF,OACA,uBACE,qBAEF,OACA,uBACE,qBACA,qBAEF,OACA,uBACE,qBAEF,OACA,uBACE,qBAEF,OACA,uBACE,iBACE,uBACA,uBACA,qBACA,qBACA,qBACF,OACF,OACA,uBACE,cACE,qBACA,qBAEF,OACF,OACA,uBACE,qBAEF,OACA,uBACE,qBACA,qBACA,qBACF,OACA,uBACE,qBAEF,OACA,uBACE,uBAA+B,uBAA+B,uBAChE,OACA,uBACE,kBACE,uBACA,uBACA,uBACF,OACF,OACA,uBACE,qBACF,OACA,uBACE,qBAEA,qBACF,OACA,uBACE,cACE,qBAEA,qBAEF,OACF,OACA,uBACE,cACE,qBAEA,qBAEF,OACF,OACA,uBACE,qBACF,OACA,uBACE,qBAEA,qBAEF,OACA,uBACE,qBAEA,qBACA,qBACA,qBACF,OACA,uBACE,qBAEA,qBACF,OACA,uBACE,qBAEA,qBACF,OACA,uBACE,qBACF,OACA,uBACE,qBAEF,OACA,uBACE,qBACF,OACA,uBACE,qBACA,qBACF,OACA,uBACE,qBAA4H,qBAAyE,qBACvM,OACA,uBACE,qBACF,OACA,uBACE,qBAEA,qBACF,OACA,uBACE,qBACF,OACA,uBACE,qBAEF,OACA,uBACE,qBAEF,OACA,uBACE,qBACF,OACA,uBACE,qBACA,qBACF,OACA,uBACE,qBACA,qBACF,OACA,uBACE,qBACA,qBAEA,wBAEF,OACA,uBACE,qBAEF,OACA,uBACE,qBACA,qBAEF,OACA,uBACE,qBACA,qBACA,qBACF,OACA,uBACE,qBACA,qBAEF,OACA,uBACA,qBACA,OACA,uBACE,cACE,qBACA,qBAEF,OACF,OACA,uBACE,qBACF,OACA,uBACE,qBACF,OACA,uBACE,iBAAM,kBAAO,+BAAkB,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","file":"main.71c4f9369d1bf84c78ee.js","sourcesContent":["var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","import {Component} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-icons-16',\r\n  templateUrl: './icons-16.html',\r\n  styleUrls: ['./icons.component.scss']\r\n})\r\nexport class Icon16Component {\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'bs-icons-32',\r\n  templateUrl: './icons-32.html',\r\n  styleUrls: ['./icons.component.scss']\r\n})\r\nexport class Icon32Component {\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'bs-images-assets',\r\n  templateUrl: './images.html',\r\n  styleUrls: ['./icons.component.scss']\r\n})\r\nexport class ImagesAssetsComponent {\r\n\r\n}\r\n","<svg xmlns=\"http://www.w3.org/2000/svg\" display=\"none\" width=\"0\" height=\"0\">\r\n  <defs>\r\n    <path id=\"a\"\r\n      d=\"M4 0h10a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4zm3.292 11.03L4.495 8.422a.922.922 0 0 0-1.238 0 .778.778 0 0 0 0 1.154l3.416 3.184a.922.922 0 0 0 1.238 0l6.832-6.367a.778.778 0 0 0 0-1.155.922.922 0 0 0-1.238 0l-6.213 5.79z\" />\r\n    <path\r\n      d=\"M42.564 17.471a21.277 21.277 0 0 1-10.735 23.002l.767 3.067c.192.575-.191 1.15-.575 1.15h-.383a.767.767 0 0 1-.767-.767 24.152 24.152 0 0 1-1.15-4.217c0-.383.192-.575.575-.766a19.552 19.552 0 0 0-4.6-36.612A19.552 19.552 0 0 0 9.21 6.354a19.36 19.36 0 0 0-7.284 15.142A19.552 19.552 0 0 0 12.661 38.94c.384.191.575.383.575.766a24.152 24.152 0 0 1-1.15 4.217c0 .384-.767.575-1.15.575-.383 0-.575-1.15-.575-1.15s.383-1.917.767-3.067a21.468 21.468 0 1 1 31.436-22.81zm-12.46 33.353a.958.958 0 0 1 0 1.917H12.853a.958.958 0 1 1 0-1.917h17.251zm0-5.75a.958.958 0 1 1 0 1.916H12.853a.958.958 0 1 1 0-1.917h17.251z\"\r\n      id=\"icon-bulb-a\" />\r\n    <path\r\n      d=\"M13.361 7.231a1.001 1.001 0 0 1 1.28 1.54l-6 5a1 1 0 0 1-1.28 0l-6-5a1.001 1.001 0 1 1 1.28-1.54l5.36 4.47 5.36-4.47zm-6 1.54l-6-5a1.001 1.001 0 1 1 1.28-1.54l5.36 4.47 5.36-4.47a1.001 1.001 0 1 1 1.28 1.54l-6 5a1 1 0 0 1-1.28 0z\"\r\n      id=\"icon-go-down-a\" />\r\n    <style>\r\n      .cls-1 {\r\n        fill: #fff\r\n      }\r\n    </style>\r\n  </defs>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-3-points-horizontal\">\r\n    <g transform=\"translate(1 7)\">\r\n      <circle cx=\"13\" cy=\"1\" r=\"1\" />\r\n      <circle cx=\"7\" cy=\"1\" r=\"1\" />\r\n      <circle cx=\"1\" cy=\"1\" r=\"1\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"bzg-open\">\r\n    <path d=\"M8,15a7,7,0,1,1,7-7A7,7,0,0,1,8,15ZM8,3a5,5,0,1,0,5,5A5,5,0,0,0,8,3Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"bzg-check-sites\">\r\n   <path d=\"M8,1a7,7,0,1,0,7,7A7,7,0,0,0,8,1Zm4.46,4.73L7.9,11.44a1.24,1.24,0,0,1-.88.45H7a1.25,1.25,0,0,1-.85-.35L3.62,9.05A1,1,0,0,1,5,7.64L6.89,9.5l4-5a1,1,0,0,1,1.4-.16A1,1,0,0,1,12.46,5.73Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"bzg-circle-error\">\r\n    <path d=\"M8,1a7,7,0,1,0,7,7A7,7,0,0,0,8,1Zm2.71,8.29a1,1,0,0,1,0,1.42,1,1,0,0,1-1.42,0L8,9.41l-1.29,1.3a1,1,0,0,1-1.42,0,1,1,0,0,1,0-1.42L6.59,8,5.29,6.71A1,1,0,0,1,6.71,5.29L8,6.59l1.29-1.3a1,1,0,1,1,1.42,1.42L9.41,8Z\"/>\r\n   </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-bzg-activity\">\r\n    <path d=\"M14,7h-.32L11.93,2.63A1,1,0,0,0,11,2a.94.94,0,0,0-.93.61l-2.15,5,0-.07A1,1,0,0,0,7,7H6A1,1,0,0,0,6,9h.38l.73,1.45A1,1,0,0,0,8,11H8a1,1,0,0,0,.89-.61L11,5.61l1.1,2.76A1,1,0,0,0,13,9h1a1,1,0,0,0,0-2Z\"/>\r\n    <path d=\"M3,9A1,1,0,0,0,3,7H2A1,1,0,0,0,2,9Z\"/>\r\n    <path d=\"M13,12H3a1,1,0,0,0,0,2H13a1,1,0,0,0,0-2Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-add-attribute\">\r\n    <g transform=\"translate(1 2)\">\r\n      <path\r\n        d=\"M11.005 10.027V8.473A.47.47 0 0 1 11.472 8a.47.47 0 0 1 .468.473v1.554h1.592A.47.47 0 0 1 14 10.5a.47.47 0 0 1-.468.473H11.94v1.554a.47.47 0 0 1-.468.473.47.47 0 0 1-.467-.473v-1.554H9.468A.47.47 0 0 1 9 10.5a.47.47 0 0 1 .468-.473h1.537z\" />\r\n      <path\r\n        d=\"M5.5 11H1.07a.07.07 0 0 1-.07-.07V1.07A.07.07 0 0 1 1.07 1h11.86a.07.07 0 0 1 .07.07V5.5h1V1.07C14 .48 13.52 0 12.93 0H1.07C.48 0 0 .48 0 1.07v9.85A1.07 1.07 0 0 0 1.07 12H5.5v-1z\" />\r\n      <circle cx=\"3\" cy=\"3\" r=\"1\" />\r\n      <circle cx=\"3\" cy=\"6\" r=\"1\" />\r\n      <circle cx=\"3\" cy=\"9\" r=\"1\" />\r\n      <path\r\n        d=\"M11.5 6.5H5a.5.5 0 0 1 0-1h6.5a.5.5 0 1 1 0 1zM7.5 9.5H5a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 0 1zM11.5 3.5H5a.5.5 0 0 1 0-1h6.5a.5.5 0 1 1 0 1z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-add-page\">\r\n    <path\r\n      d=\"M7,13H4V3H5V9a1,1,0,0,0,1,1H9a1,1,0,0,0,1-1V8A1,1,0,0,0,8,8H7V3H9.59L12,5.41V7a1,1,0,0,0,2,0V5a1,1,0,0,0-.29-.71l-3-3A1,1,0,0,0,10,1H3A1,1,0,0,0,2,2V13a2,2,0,0,0,2,2H7a1,1,0,0,0,0-2Z\" />\r\n    <path d=\"M14,11H13V10a1,1,0,0,0-2,0v1H10a1,1,0,0,0,0,2h1v1a1,1,0,0,0,2,0V13h1a1,1,0,0,0,0-2Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-bottom\">\r\n    <g>\r\n      <path d=\"M3 12h4V5H3zM9 12h4V1H9zM1 14h14v1H1z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-bzg-star\">\r\n    <path d=\"M11.71,15a1,1,0,0,1-.48-.12L8,13.09,4.78,14.88a1,1,0,0,1-1.06-.06,1,1,0,0,1-.41-1L3.93,10,1.29,7.28a1,1,0,0,1,.56-1.69L5.47,5,7.1,1.58A1,1,0,0,1,8,1a1,1,0,0,1,.91.58L10.53,5l3.62.55a1,1,0,0,1,.8.68,1,1,0,0,1-.23,1L12.07,10l.63,3.84a1,1,0,0,1-.41,1A1,1,0,0,1,11.71,15ZM8,11a1,1,0,0,1,.49.13l1.9,1.05L10,9.82A1,1,0,0,1,10.29,9l1.64-1.68L9.7,6.94A1,1,0,0,1,9,6.38L8,4.35l-1,2a1,1,0,0,1-.75.56l-2.22.34L5.72,9A1,1,0,0,1,6,9.82l-.38,2.31,1.91-1.05A.91.91,0,0,1,8,11Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icn-input-error\">\r\n    <g id=\"icn-input-error\">\r\n      <path d=\"M5,1h6c2.2,0,4,1.8,4,4v6c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5C1,2.8,2.8,1,5,1z\"/>\r\n      <path class=\"st0\" d=\"M8,9C7.4,9,7,8.6,7,8V4c0-0.6,0.4-1,1-1s1,0.4,1,1v4C9,8.6,8.6,9,8,9z\"/>\r\n      <circle class=\"st0\" cx=\"8\" cy=\"12\" r=\"1\"/>\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 24 24\" id=\"icn-clear-circle\">\r\n    <path d=\"M13.41,12l3.3-3.29a1,1,0,1,0-1.42-1.42L12,10.59,8.71,7.29A1,1,0,1,0,7.29,8.71L10.59,12l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l3.29,3.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z\"/>\r\n    <path d=\"M12,23A11,11,0,1,1,23,12,11,11,0,0,1,12,23ZM12,3a9,9,0,1,0,9,9A9,9,0,0,0,12,3Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-center\">\r\n    <g>\r\n      <path d=\"M4 7h9V3H4z\" />\r\n      <path d=\"M8 1h1v14H8z\" />\r\n      <path d=\"M2 13h13V9H2z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-full-width\">\r\n    <path d=\"M14 1h1v14h-1zm-1 7H3V3h10zm0 5H3V9h10zM1 1h1v14H1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-left\">\r\n    <g>\r\n      <path d=\"M4 7h8V3H4zM1 1h1v14H1zM4 13h11V8.999H4z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-middle\">\r\n    <g>\r\n      <path d=\"M3 12h4V4H3zM9 14h4V2H9z\" />\r\n      <path d=\"M1 8h14v1H1z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-right\">\r\n    <g>\r\n      <path d=\"M14 1h1v14h-1zM4 7h8V3H4zM1 13.001h11V9H1z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-text-center\">\r\n    <path d=\"M1 2h14v1H1zm0 12h14v1H1zm0-6h14v1H1zm2-3h10v1H3zm0 6h10v1H3z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-text-left\">\r\n    <path d=\"M1 2h14v1H1zm0 12h14v1H1zm0-6h14v1H1zm0-3h11v1H1zm0 6h11v1H1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-text-right\">\r\n    <path d=\"M1 2h14v1H1zm0 12h14v1H1zm0-6h14v1H1zm4-3h10v1H5zm0 6h10v1H5z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-align-top\">\r\n    <g>\r\n      <path d=\"M3 11h4V4H3zM9 15h4V4H9zM1 1h14v1H1z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 12 12\" id=\"icon-arrow-down\">\r\n    <path\r\n      d=\"M10,3a1,1,0,0,0-.71.29L6,6.59,2.71,3.29A1,1,0,0,0,1.29,4.71l4,4a1,1,0,0,0,1.42,0l4-4a1,1,0,0,0,0-1.42A1,1,0,0,0,10,3Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-arrow-left\">\r\n    <path\r\n      d=\"M4.207 7.536L9.89 13.21a.5.5 0 0 1-.706.708L3.147 7.891a.5.5 0 0 1 0-.708l6.036-6.037a.5.5 0 1 1 .707.708L4.207 7.536z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-az-order\">\r\n    <path\r\n      d=\"M10 3L9 2 8 1 7 2 6 3h2zM6 13l1 1 1 1 1-1 1-1H8zm.9-1h1.8L5.9 3.9H3.8L1 12h1.8l.6-1.9h2.9l.6 1.9zM3.8 8.7c.6-1.8.9-3 1-3.5.1.1.2.3.2.5.1.3.4 1.2.9 3H3.8zm7.2 1.9l3.9-5.5V4H9.1v1.4h3.8L9 10.9V12h6v-1.4z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-backward\">\r\n    <path d=\"M9 4V1H1v8h3v6h11V4H9zm5 10H5V5h9v9z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-Boolean\">\r\n    <path\r\n      d=\"M6.324 12a.509.509 0 0 1-.364-.152L3 8.801l.727-.659 2.577 2.651L12.238 4l.762.621-6.295 7.208a.506.506 0 0 1-.367.171h-.014z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-bring-to-front\">\r\n    <path d=\"M11 7V4H8V1H1v7h3v3h3v4h8V7h-4zM2 7V2h5v2H4v3H2zm3 3V5h5v2H7v3H5z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-bucket\">\r\n    <path\r\n      d=\"M2.4 7.8L7.2 3 12 7.8H2.4zm11 1.4l.7-.7L6.5 1l-.7.7.7.7L1 7.8 7.2 14l5.5-5.5.7.7zm1.3 4.1l-.7-.7-.7.7a1 1 0 1 0 1.4 0z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 64 64\" id=\"icon-bulb\">\r\n    <use xlink:href=\"#icon-bulb-a\" transform=\"translate(11 6)\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-cases\">\r\n    <path\r\n      d=\"M11 3V1H5v2H1v7h1v5h12v-5h1V3h-4zM6 2h4v1H6V2zm7 12H3v-4h3v2h4v-2h3v4zm-6-3V9h2v2H7zm7-2h-4V8H6v1H2V4h12v5z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-change\">\r\n    <path\r\n      d=\"M1.66 3.77v.05l1.46 1.67a.5.5 0 0 0 .76-.65L3.16 4H13v3.5a.5.5 0 1 0 1 0V3H3.16l.72-.83a.5.5 0 1 0-.76-.65L1.69 3.17v.14a.53.53 0 0 0 0 .37l-.03.09zm12.75 8.82a.53.53 0 0 0 0-.28v-.14l-1.43-1.66a.5.5 0 0 0-.76.65l.72.83H3V8.5a.5.5 0 0 0-1 0V13h10.84l-.72.83a.5.5 0 0 0 .76.65l1.43-1.66v-.14a.48.48 0 0 0 .1-.09z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-check-outline\">\r\n    <path\r\n      d=\"M14.9 3.3c-.2-.2-.5-.2-.7 0l-7.8 7.8-4.5-4.5c-.2-.2-.5-.2-.7 0-.2.2-.2.5-.1.7L6 12.2c.1.1.2.1.4.1s.3 0 .4-.1L14.9 4c.1-.2.1-.5 0-.7z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-check\">\r\n    <path\r\n      d=\"M6 13a1.05 1.05 0 0 1-.71-.29l-3-3a1 1 0 0 1 1.42-1.42L6 10.54l6.3-7.2a1 1 0 1 1 1.5 1.32l-7 8A1 1 0 0 1 6 13z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-circle-check\">\r\n    <path\r\n      d=\"M6.77 10.935a.37.37 0 0 1-.267-.112L4.33 8.587l.534-.484 1.891 1.946 4.355-4.986.56.457-4.62 5.29a.373.373 0 0 1-.269.126l-.011-.001z\" />\r\n    <path\r\n      d=\"M8 15c-3.86 0-7-3.141-7-7 0-3.86 3.14-7 7-7s7 3.14 7 7c0 3.859-3.14 7-7 7zM8 2C4.691 2 2 4.691 2 8s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-circle-plus\">\r\n    <path d=\"M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zm0 13.125a6.125 6.125 0 1 1 0-12.25 6.125 6.125 0 0 1 0 12.25z\" />\r\n    <path\r\n      d=\"M11.063 7.563H8.437V4.938a.437.437 0 1 0-.874 0v2.625H4.938a.437.437 0 1 0 0 .875h2.625v2.624a.437.437 0 1 0 .875 0V8.438h2.624a.437.437 0 1 0 0-.876z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-close\">\r\n    <path d=\"M9.41,8l4.3-4.29a1,1,0,1,0-1.42-1.42L8,6.59,3.71,2.29A1,1,0,0,0,2.29,3.71L6.59,8l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L8,9.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z\"/>\r\n   </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-collections\">\r\n    <path d=\"M5 1v4h1V4h8v5h-2v1h3V1H5zm9 2H6V2h8v1z\" />\r\n    <path d=\"M1 6v9h10V6H1zm9 1v1H2V7h8zm-8 7V9h8v5H2z\" />\r\n    <path d=\"M5 10h4v1H5zm-2 0h1v1H3zm2 2h4v1H5zm-2 0h1v1H3zm9-7h1v1h-1zm0 2h1v1h-1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-connect\">\r\n    <path d=\"M9 14H2V5h10v1h1V1H1v14h8v-1zM2 2h10v2H2V2z\" />\r\n    <path\r\n      d=\"M14 9V7h-1v2h-1V7h-1v2h-1v1.5a2.5 2.5 0 0 0 2 2.4V15h1v-2.1a2.5 2.5 0 0 0 2-2.4V9h-1zm0 1.5a1.5 1.5 0 0 1-3 0V10h3v.5z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-lock-open\">\r\n    <path\r\n      d=\"M12,6V5A4,4,0,0,0,4.58,2.92,1,1,0,0,0,6.29,4,2,2,0,0,1,10,5V6H3A1,1,0,0,0,2,7v6a2,2,0,0,0,2,2h9a1,1,0,0,0,1-1V8A2,2,0,0,0,12,6Zm0,7H4V8h8Z\" />\r\n    <path d=\"M8,9a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V10A1,1,0,0,0,8,9Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-lock-closed\">\r\n    <path\r\n      d=\"M12,6V5A4,4,0,0,0,4,5V6H3A1,1,0,0,0,2,7v6a2,2,0,0,0,2,2h9a1,1,0,0,0,1-1V8A2,2,0,0,0,12,6ZM6,5a2,2,0,0,1,4,0V6H6Zm6,8H4V8h8Z\" />\r\n    <path d=\"M8,9a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V10A1,1,0,0,0,8,9Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-context\">\r\n    <path\r\n      d=\"M4.1 11l-.8-.2-1.5-.8A1.5 1.5 0 0 1 1 8.8V7.3A1.5 1.5 0 0 1 1.8 6l1.5-.8a1.6 1.6 0 0 1 1.5 0l1.5.8a1.5 1.5 0 0 1 .8 1.3v1.5a1.5 1.5 0 0 1-.8 1.2l-1.5.8-.7.2zm0-5h-.3l-1.5.8a.5.5 0 0 0-.3.4v1.6a.5.5 0 0 0 .3.4l1.5.8h.6l1.5-.8a.5.5 0 0 0 .3-.4V7.3a.5.5 0 0 0-.3-.4l-1.5-.8-.3-.1zM10 1v5h5V1h-5zm4 1v1h-3V2h3zm-3 3V4h3v1h-3zm-1 10h5v-5h-5v5zm1-1v-1h3v1h-3zm3-3v1h-3v-1h3zm-6 2h1v1H8zm-2 0h1v1H6zm-2 0h1v1H4zM8 2h1v1H8zM6 2h1v1H6zM4 2h1v1H4z\" />\r\n    <path\r\n      d=\"M5 8.5l-.6-.3c-.1 0-.1-.1-.1-.2s.3-.3.3-.5a.5.5 0 0 0-.5-.5.5.5 0 0 0-.5.6c0 .2.2.4.3.5.1.1 0 .1-.1.2l-.6.3a.2.2 0 0 0-.2.2c0 .1.1.3.3.3h1.5c.3 0 .3-.1.3-.3a.2.2 0 0 0-.1-.3z\" />\r\n  </symbol>\r\n  <symbol id=\"icon-copy\" viewBox=\"0 0 16 16\">\r\n    <path d=\"M7.07 5a1 1 0 0 1-1.42 0 1 1 0 0 1-.29-.71 1 1 0 0 1 .29-.71l1.12-1.17a4.82 4.82 0 0 1 6.82 6.82l-1.12 1.12a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l1.12-1.12a2.82 2.82 0 0 0-2-4.81 2.77 2.77 0 0 0-2 .83zM5 10a1 1 0 0 0 .29.71 1 1 0 0 0 1.42 0l4-4a1 1 0 1 0-1.42-1.42l-4 4A1 1 0 0 0 5 10zm4.23 3.59l1.12-1.12a1 1 0 0 0-1.42-1.42l-1.11 1.12a2.81 2.81 0 0 1-2 .83 2.77 2.77 0 0 1-2-.83 2.87 2.87 0 0 1 0-4L5 7.07a1 1 0 1 0-1.47-1.42L2.41 6.77a4.82 4.82 0 0 0 6.82 6.82z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-detail\">\r\n    <path d=\"M5 1h6v14H5zM1 3h3v10H1zm11 0h3v10h-3z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-diagram\">\r\n    <path\r\n      d=\"M13.5 9h-4A1.5 1.5 0 0 0 8 10.5v3A1.5 1.5 0 0 0 9.5 15h4a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 13.5 9zm.5 4.5c0 .276-.28.5-.625.5h-3.75C9.28 14 9 13.776 9 13.5v-3c0-.276.28-.5.625-.5h3.75c.345 0 .625.224.625.5v3z\" />\r\n    <path d=\"M6 12H5V7.95a3.5 3.5 0 1 0-1 0V13h2v1l2-1.5L6 11v1zM2 4.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-drag-drop\">\r\n    <rect x=\"4\" y=\"1.5\" width=\"3\" height=\"3\" />\r\n    <rect x=\"4\" y=\"6.5\" width=\"3\" height=\"3\" />\r\n    <rect x=\"4\" y=\"11.5\" width=\"3\" height=\"3\" />\r\n    <rect x=\"9\" y=\"1.5\" width=\"3\" height=\"3\" />\r\n    <rect x=\"9\" y=\"6.5\" width=\"3\" height=\"3\" />\r\n    <rect x=\"9\" y=\"11.5\" width=\"3\" height=\"3\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-drag-horizontal\">\r\n    <g transform=\"translate(1 6)\">\r\n      <circle cx=\".5\" cy=\".5\" r=\"1\" />\r\n      <circle cx=\"2.5\" cy=\".5\" r=\"1\" />\r\n      <circle cx=\"4.5\" cy=\".5\" r=\"1\" />\r\n      <circle cx=\"6.5\" cy=\".5\" r=\"1\" />\r\n      <circle cx=\"8.5\" cy=\".5\" r=\"1\" />\r\n      <circle cx=\"10.5\" cy=\".5\" r=\"1\" />\r\n      <circle cx=\".5\" cy=\"3.5\" r=\"1\" />\r\n      <circle cx=\"2.5\" cy=\"3.5\" r=\"1\" />\r\n      <circle cx=\"4.5\" cy=\"3.5\" r=\"1\" />\r\n      <circle cx=\"6.5\" cy=\"3.5\" r=\"1\" />\r\n      <circle cx=\"8.5\" cy=\"3.5\" r=\"1\" />\r\n      <circle cx=\"10.5\" cy=\"3.5\" r=\"1\" />\r\n      <circle cx=\"12.5\" cy=\".5\" r=\"1\" />\r\n      <circle cx=\"12.5\" cy=\"3.5\" r=\"1\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-duplicate\">\r\n    <path\r\n      d=\"M9,12.22A1,1,0,0,0,8,13H3V8h.78a1,1,0,0,0,0-2H2A1,1,0,0,0,1,7v6a2,2,0,0,0,2,2H9a1,1,0,0,0,1-1v-.78A1,1,0,0,0,9,12.22Z\" />\r\n    <path d=\"M7,3.78A1,1,0,0,0,8,3h.37a1,1,0,0,0,0-2H7A1,1,0,0,0,6,2v.78A1,1,0,0,0,7,3.78Z\" />\r\n    <path d=\"M14,6.78a1,1,0,0,0-1,1V8h-.78a1,1,0,1,0,0,2H14a1,1,0,0,0,1-1V7.78A1,1,0,0,0,14,6.78Z\" />\r\n    <path d=\"M13,1h-.65a1,1,0,0,0,0,2H13v.78a1,1,0,1,0,2,0V3A2,2,0,0,0,13,1Z\" />\r\n    <path\r\n      d=\"M7.79,5.35A1,1,0,0,0,6.38,6.76L7.67,8.05,6.38,9.35a1,1,0,0,0,0,1.41,1,1,0,0,0,.71.29,1,1,0,0,0,.7-.29l2-2a1,1,0,0,0,0-1.41Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-elevator\">\r\n    <g>\r\n      <path\r\n        d=\"M3 7h10a.5.5 0 0 0 .5-.3 1.3 1.3 0 0 0-.1-.6l-5-5a1.1 1.1 0 0 0-.8 0l-5 5a1.3 1.3 0 0 0-.1.6.5.5 0 0 0 .5.3zM13 9H3a.5.5 0 0 0-.5.3 1.3 1.3 0 0 0 .1.6l5 5h.8l5-5a1.3 1.3 0 0 0 .1-.6.5.5 0 0 0-.5-.3z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-check-mark\">\r\n    <path d=\"M6,13a1.05,1.05,0,0,1-.71-.29l-3-3A1,1,0,0,1,3.71,8.29L6,10.54l6.3-7.2a1,1,0,1,1,1.5,1.32l-7,8A1,1,0,0,1,6,13Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-folder-create\">\r\n    <path d=\"M7,13H4V3H5V9a1,1,0,0,0,1,1H9a1,1,0,0,0,1-1V8A1,1,0,0,0,8,8H7V3H9.59L12,5.41V7a1,1,0,0,0,2,0V5a1,1,0,0,0-.29-.71l-3-3A1,1,0,0,0,10,1H3A1,1,0,0,0,2,2V13a2,2,0,0,0,2,2H7a1,1,0,0,0,0-2Z\"/>\r\n    <path d=\"M14,11H13V10a1,1,0,0,0-2,0v1H10a1,1,0,0,0,0,2h1v1a1,1,0,0,0,2,0V13h1a1,1,0,0,0,0-2Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-environment\">\r\n    <path\r\n      d=\"M4 12h1v1H4zm9.8-2.5c.1.1.2.2.2.3 0 .1 0 .2-.1.3l-.7.8c-.1 0-.2.1-.3.1-.1 0-.3-.1-.4-.2l-.7-.6c-.2.1-.4.1-.6 0l-.4-.4c-.1-.1-.1-.3-.1-.5 0-.1 0-.2.1-.3-.2-.4-.6-.6-1-.6-.1 0-.2 0-.3-.1-.1-.1-.1-.2 0-.3.6-.6 1.6-.7 2.3-.2.1 0 .2-.1.3-.1.2 0 .3 0 .4.1l.4.4c.1.1.2.2.2.4v.2l.1.2.2.1.4.4zm-1.2-.3c-.1-.1-.1-.2 0-.3v-.2l-.4-.4H12c-.1.1-.2.1-.3 0-.4-.3-.9-.4-1.4-.3.4.2.7.5.9.9.1.1.1.2 0 .3v.3l.4.3.2-.1h.1c.1 0 .1 0 .2.1l.8.8.6-.6-.9-.8zm-6.3 4.9l4.1-4 .5.4L7.3 15l-1-.9\" />\r\n    <path d=\"M2 1v14h2.4l1-1H3V9h6.1v-.1c-.3-.2-.3-.6-.1-.9H3V6h8v1h1V1H2zm9 4H3V2h8v3z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-eye-off\">\r\n    <path\r\n      d=\"M3.6 10.5l.7-.7a12.1 12.1 0 0 1-2-1.6C3.1 7.3 5.4 5 8 5h1l.8-.8A6 6 0 0 0 8 4C4.3 4 1.4 7.8 1.2 7.9l-.2.3.3.3a12.3 12.3 0 0 0 2.3 2zm8.7-4.9l-.7.7a12.4 12.4 0 0 1 2.1 1.9C12.9 9 10.6 11 8 11H7l-.8.8L8 12c3.7 0 6.6-3.3 6.7-3.5l.3-.3-.2-.3a12.8 12.8 0 0 0-2.5-2.3zM1.5 15h-.4a.5.5 0 0 1 0-.7l13-13a.5.5 0 1 1 .7.7l-13 13h-.3z\" />\r\n    <path\r\n      d=\"M6.3 7.8a1.7 1.7 0 0 1 1.5-1.5l.9-.9H8A2.7 2.7 0 0 0 5.3 8a2.7 2.7 0 0 0 .1.7l.9-.9zm3.4.4a1.7 1.7 0 0 1-1.5 1.5l-.9.9H8A2.7 2.7 0 0 0 10.7 8a2.7 2.7 0 0 0-.1-.7l-.9.9z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-eye\">\r\n    <path\r\n      d=\"M14.8,7.4c-4.38-5.83-9.22-5.83-13.6,0a1,1,0,0,0,0,1.2C3.39,11.54,5.68,13,8,13s4.61-1.5,6.8-4.44A1,1,0,0,0,14.8,7.4ZM3.27,8c3.25-4,6.21-4,9.46,0C9.47,12,6.53,12,3.27,8Z\" />\r\n    <circle cx=\"8\" cy=\"8\" r=\"2\" />\r\n  </symbol>\r\n  <symbol id=\"icon-folder\" viewBox=\"0 0 16 16\"><path d=\"M14 13H3a2 2 0 0 1-2-2V4a1 1 0 0 1 1-1h5a1 1 0 0 1 .89.55L8.62 5H13a2 2 0 0 1 2 2v5a1 1 0 0 1-1 1zM3 5v6h10V7H8a1 1 0 0 1-.89-.55L6.38 5z\"/></symbol>\r\n  <symbol id=\"bzg-page-normal\" viewBox=\"0 0 16 16\"><path d=\"M12.48 1H2a1 1 0 0 0-1 1v9.48A2.5 2.5 0 0 0 3.52 14H14a1 1 0 0 0 1-1V3.52A2.5 2.5 0 0 0 12.48 1zm0 2a.55.55 0 0 1 .54.54v1.6H3V3zm-9 9a.55.55 0 0 1-.48-.52V7.11h10V12z\"/></symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-forward\">\r\n    <path d=\"M10 4V1H1v9h3v5h11V4h-5zM2 9V2h7v2H4v5H2z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-gear\">\r\n    <path d=\"M13.29,5.79c.5-1.18.65-1.75.09-2.31l-1.05-1-.52-.21h-.2a3.58,3.58,0,0,0-1.43.48C9.68,1.47,9.41,1,8.61,1H7.34c-.81,0-1.09.5-1.55,1.71a3.94,3.94,0,0,0-1.44-.45,1.21,1.21,0,0,0-.87.36l-.9.9c-.57.57-.42,1.13.11,2.3C1.47,6.31,1,6.59,1,7.39V8.66c0,.81.5,1.1,1.7,1.55-.51,1.21-.64,1.74-.08,2.31l1,1,.54.22h.19a3.63,3.63,0,0,0,1.43-.48c.5,1.23.77,1.7,1.57,1.7H8.66c.81,0,1.09-.5,1.55-1.71a3.94,3.94,0,0,0,1.44.45,1.23,1.23,0,0,0,.87-.36l.91-.91c.56-.57.41-1.12-.12-2.29C14.53,9.69,15,9.41,15,8.61V7.34C15,6.52,14.49,6.24,13.29,5.79Zm-.86.69h0l0,0ZM13,8.14l-1,.41-.4.16-.38.93-.14.47.19.39c.2.43.32.72.4.91l-.22.22-1-.42L10,11.05l-.93.38-.43.23-.15.41c-.16.45-.28.74-.35.93H7.86c-.08-.2-.21-.51-.4-1l-.16-.4-1-.39-.45-.14-.4.18-.91.41-.22-.22c.08-.2.21-.52.42-1L5,10l-.38-.93-.22-.42-.42-.15L3,8.18V7.86c.2-.09.51-.22,1-.41l.39-.16.39-.93.14-.46-.19-.4c-.2-.43-.32-.72-.4-.91l.22-.22,1,.42L6,5l.93-.38.43-.23.15-.41c.16-.45.28-.74.35-.93h.31c.09.2.22.51.41,1l.16.4,1,.39.45.14.4-.18.91-.41.22.22c-.08.2-.21.52-.42,1L11,6l.56,1.34.47.18.93.35Z\"/><path d=\"M8,6a2,2,0,1,0,2,2A2,2,0,0,0,8,6Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-go-down\">\r\n    <use xlink:href=\"#icon-go-down-a\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-grid-outline\">\r\n    <path\r\n      d=\"M2 10v4h4v-4H2zM1 9h6v6H1V9zm1-7v4h4V2H2zM1 1h6v6H1V1zm9 9v4h4v-4h-4zM9 9h6v6H9V9zm1-7v4h4V2h-4zM9 1h6v6H9V1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-grid\">\r\n    <g>\r\n      <path d=\"M1 1h6v5.99H1zM9 1h6v5.99H9zM1 9h6v5.99H1zM9 9h6v5.99H9z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-hamburger-menu\">\r\n    <path\r\n      d=\"M13.5 3h-11a.5.5 0 1 1 0-1h11a.5.5 0 1 1 0 1zm0 5h-11a.5.5 0 0 1 0-1h11a.5.5 0 1 1 0 1zm0 5h-11a.5.5 0 1 1 0-1h11a.5.5 0 1 1 0 1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-help\">\r\n    <path\r\n      d=\"M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z\" />\r\n    <path\r\n      d=\"M8 10.9h-.4c-.2 0-.4.1-.4.4v.4c0 .2.1.4.4.4H8c.2 0 .4-.1.4-.4v-.4c-.1-.3-.2-.4-.4-.4zM7.9 4c-.7 0-1.3.3-1.6.5-.2.2-.2.3-.1.5l.1.2c.1.2.3.2.5.1.3-.1.7-.3 1.1-.3.7 0 1.3.5 1.3 1.1 0 1.3-1.9 1.6-1.9 3.1v.2c0 .2.1.4.4.4H8c.2 0 .3-.1.4-.3v-.2C8.5 8 10.3 7.8 10.3 6c-.1-1.2-1.1-2-2.4-2z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-hexagon-all\">\r\n    <g>\r\n      <path d=\"M8 15.88L1 12V4L8 .12 15 4v8l-7 3.88zm-6-4.51l6 3.36 6-3.36V4.63L8 1.27 2 4.63v6.74z\" />\r\n      <path d=\"M8 13.07l-4.5-2.52v-5.1L8 2.93l4.5 2.52v5.1L8 13.07zM4.5 10L8 12l3.5-2V6L8 4.08 4.5 6v4z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-hexagon-development\">\r\n    <g>\r\n      <path d=\"M8 15.88L1 12V4L8 .12 15 4v8l-7 3.88zm-6-4.5l6 3.36 6-3.36V4.63L8 1.27 2 4.63v6.75z\" />\r\n      <path\r\n        d=\"M11.25 7.93a3.56 3.56 0 0 1-1 2.7 3.94 3.94 0 0 1-2.83.94h-2V4.43h2.23a3.65 3.65 0 0 1 2.65.92 3.43 3.43 0 0 1 .95 2.58zM10 8c0-1.707-.8-2.56-2.4-2.56h-1v5.18h.83A2.3 2.3 0 0 0 10 8z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-hexagon-production\">\r\n    <g>\r\n      <path d=\"M8 15.88L1 12V4L8 .12 15 4v8l-7 3.88zm-6-4.5l6 3.36 6-3.36V4.63L8 1.27 2 4.63v6.75z\" />\r\n      <path\r\n        d=\"M10.73 6.59A2.08 2.08 0 0 1 10 8.3a3.23 3.23 0 0 1-2.08.6h-.75v2.67H6V4.43h2.06a3.11 3.11 0 0 1 2 .55 2 2 0 0 1 .67 1.61zM7.17 7.92h.62a2.22 2.22 0 0 0 1.32-.32c.3-.241.458-.617.42-1a1.11 1.11 0 0 0-.38-.92A1.86 1.86 0 0 0 8 5.41h-.83v2.51z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-hexagon-staging\">\r\n    <g>\r\n      <path d=\"M8 15.88L1 12V4L8 .12 15 4v8l-7 3.88zm-6-4.5l6 3.36 6-3.36V4.63L8 1.27 2 4.63v6.75z\" />\r\n      <path\r\n        d=\"M10.29 9.63a1.8 1.8 0 0 1-.69 1.49 3 3 0 0 1-1.9.54 4.53 4.53 0 0 1-2-.38v-1.1a5.4 5.4 0 0 0 1 .36 4.4 4.4 0 0 0 1 .13 1.63 1.63 0 0 0 1-.26.86.86 0 0 0 .33-.71.89.89 0 0 0-.2-.7 4.56 4.56 0 0 0-1.25-.66 3.31 3.31 0 0 1-1.38-.9 1.91 1.91 0 0 1-.4-1.22 1.71 1.71 0 0 1 .63-1.41 2.63 2.63 0 0 1 1.7-.51 5 5 0 0 1 2 .45l-.37 1a4.46 4.46 0 0 0-1.7-.4 1.3 1.3 0 0 0-.86.25.81.81 0 0 0-.2.63.92.92 0 0 0 .12.48c.1.151.234.278.39.37.32.181.654.335 1 .46.407.155.793.36 1.15.61.228.168.413.387.54.64.092.27.122.557.09.84z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-hexagon-testing\">\r\n    <g>\r\n      <path d=\"M8 15.88L1 12V4L8 .12 15 4v8l-7 3.88zm-6-4.5l6 3.36 6-3.36V4.63L8 1.27 2 4.63v6.75z\" />\r\n      <path d=\"M8.58 11.57H7.42V5.43h-2.1v-1h5.37v1H8.58z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-home\">\r\n    <path\r\n      d=\"M14,15H10a1,1,0,0,1-1-1V11H7v3a1,1,0,0,1-1,1H3a2,2,0,0,1-2-2V8a1,1,0,0,1,.29-.71l6-6a1,1,0,0,1,1.42,0l6,6A1,1,0,0,1,15,8v6A1,1,0,0,1,14,15Zm-3-2h2V8.41l-5-5-5,5V13H5V10A1,1,0,0,1,6,9h4a1,1,0,0,1,1,1Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-image\">\r\n    <path d=\"M1 1v14h14V1H1zm13 13H3.902l4.187-6.699L11.749 11H14v3zm-1.833-4L7.911 5.699 2.723 14H2V2h12v8h-1.833z\" />\r\n    <path\r\n      d=\"M4.505 2.478A1.999 1.999 0 0 0 2.5 4.467a2 2 0 0 0 2.005 1.99 1.962 1.962 0 0 0 1.975-1.99c-.001-1.115-.868-1.989-1.975-1.989zm0 2.979a.999.999 0 0 1-1.005-.99.998.998 0 0 1 1.005-.989c.547 0 .975.435.975.989a.973.973 0 0 1-.975.99z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-layout\">\r\n    <path\r\n      d=\"M13,1H2A1,1,0,0,0,1,2V13a2,2,0,0,0,2,2H14a1,1,0,0,0,1-1V3A2,2,0,0,0,13,1Zm0,4H7V3h6ZM3,3H5V13H3ZM13,13H7V7h6Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-link\">\r\n    <path\r\n      d=\"M5.88,14.12A4,4,0,0,1,3.05,7.29L6.23,4.11A2.5,2.5,0,0,1,9.77,7.65L6.59,10.83A1,1,0,1,1,5.17,9.41L8.35,6.23a.5.5,0,0,0,0-.71.5.5,0,0,0-.7,0L4.46,8.71a2,2,0,0,0-.58,1.41,2,2,0,0,0,.58,1.42,2.06,2.06,0,0,0,2.83,0L10.83,8a3,3,0,0,0,0-4.24,1,1,0,0,1,0-1.42,1,1,0,0,1,1.41,0,5,5,0,0,1,0,7.07L8.71,13A4,4,0,0,1,5.88,14.12Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-list\">\r\n    <g transform=\"translate(1 2)\">\r\n      <circle cx=\"1\" cy=\"11\" r=\"1\" />\r\n      <circle cx=\"1\" cy=\"6\" r=\"1\" />\r\n      <path d=\"M4 7a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2H4z\" />\r\n      <circle cx=\"1\" cy=\"1\" r=\"1\" />\r\n      <path d=\"M4 2a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2H4zM4 12a1 1 0 0 1 0-2h9a1 1 0 0 1 0 2H4z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-logout-outline\">\r\n    <g>\r\n      <path d=\"M8.5 14H2V2h6.5a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h7a.5.5 0 1 0 0-1z\" />\r\n      <path\r\n        d=\"M14.85 7.65l-3-3a.502.502 0 0 0-.71.71l2.15 2.14H6a.5.5 0 0 0 0 1h7.29l-2.15 2.15a.502.502 0 1 0 .71.71l3-3a.5.5 0 0 0 0-.71z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-magnifying-glass\">\r\n    <path\r\n      d=\"M14.85 14.15L10.72 10a5.51 5.51 0 1 0-.71.71l4.13 4.13a.5.5 0 0 0 .71-.69zM6.5 11a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-manage-content\">\r\n    <path d=\"M13,7h-.28A2,2,0,0,0,9.28,7H3A1,1,0,0,0,3,9H9.28a2,2,0,0,0,3.44,0H13a1,1,0,0,0,0-2Z\" />\r\n    <path d=\"M3,5h.28A2,2,0,0,0,6.72,5H13a1,1,0,0,0,0-2H6.72A2,2,0,0,0,3.28,3H3A1,1,0,0,0,3,5Z\" />\r\n    <path d=\"M13,11H6.72a2,2,0,0,0-3.44,0H3a1,1,0,0,0,0,2h.28a2,2,0,0,0,3.44,0H13a1,1,0,0,0,0-2Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-map-bundle\">\r\n    <path\r\n      d=\"M9 1v3L7 6.8V5H1v6h6V9.8l2 2.5V15h6V9H9v1.7L7.1 8.4 9 5.7V7h6V1H9zM2 6h4v1H2V6zm0 4V8h4v2H2zm12 4h-4v-2h4v2zm0-4v1h-4v-1h4zm0-4h-4V4h4v2zm-4-3V2h4v1h-4z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-menu-3dots\">\r\n    <circle cx=\"8\" cy=\"3\" r=\"1.5\"/><circle cx=\"8\" cy=\"8\" r=\"1.5\"/><circle cx=\"8\" cy=\"13\" r=\"1.5\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-dots-vertical\">\r\n    <g id=\"dots-menu-16x\">\r\n      <circle cx=\"8\" cy=\"2.5\" r=\"1.5\"></circle>\r\n      <circle cx=\"8\" cy=\"7.5\" r=\"1.5\"></circle>\r\n      <circle cx=\"8\" cy=\"12.5\" r=\"1.5\"></circle>\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-move\">\r\n    <path d=\"M15 8l-2-1.5v1H8.5V3h1L8 1 6.5 3h1v4.5H3v-1L1 8l2 1.5v-1h4.5V13h-1L8 15l1.5-2h-1V8.5H13v1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-new-case\">\r\n    <path\r\n      d=\"M8.5 13H5V7h9v1.5a.5.5 0 1 0 1 0V4.7A1.7 1.7 0 0 0 13.3 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3A1.5 1.5 0 0 0 5 2.5V3H2.7A1.7 1.7 0 0 0 1 4.7v7.6A1.7 1.7 0 0 0 2.7 14h5.8a.5.5 0 1 0 0-1zM6 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V3H6v-.5zM2.7 4h10.6a.7.7 0 0 1 .7.7V6H2V4.7a.7.7 0 0 1 .7-.7zm0 9a.7.7 0 0 1-.7-.7V7h2v6H2.7z\" />\r\n    <path d=\"M14.5 12H13v-1.5a.5.5 0 1 0-1 0V12h-1.5a.5.5 0 1 0 0 1H12v1.5a.5.5 0 1 0 1 0V13h1.5a.5.5 0 1 0 0-1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-new-down-outline\">\r\n    <g>\r\n      <path\r\n        d=\"M8 1.438C4.413 1.438 1.437 4.412 1.437 8A6.554 6.554 0 0 0 8 14.563c3.675 0 6.563-2.888 6.563-6.563A6.554 6.554 0 0 0 8 1.437zm0 12.25A5.676 5.676 0 0 1 2.312 8 5.676 5.676 0 0 1 8 2.312 5.676 5.676 0 0 1 13.688 8 5.676 5.676 0 0 1 8 13.688z\" />\r\n      <path\r\n        d=\"M10.975 6.862L8 9.838 5.025 6.863a.423.423 0 0 0-.613 0 .423.423 0 0 0 0 .612L8 11.063l3.588-3.588a.423.423 0 0 0 0-.612.747.747 0 0 0-.613 0z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-new-up-outline\">\r\n    <g>\r\n      <path\r\n        d=\"M8 1.438C4.413 1.438 1.437 4.412 1.437 8A6.554 6.554 0 0 0 8 14.563c3.675 0 6.563-2.888 6.563-6.563A6.554 6.554 0 0 0 8 1.437zm0 12.25A5.676 5.676 0 0 1 2.312 8 5.676 5.676 0 0 1 8 2.312 5.676 5.676 0 0 1 13.688 8 5.676 5.676 0 0 1 8 13.688z\" />\r\n      <path\r\n        d=\"M8 5.638L4.413 9.225a.423.423 0 0 0 0 .613.423.423 0 0 0 .612 0L8 6.863l2.975 2.974c.088.088.175.088.263.088.087 0 .175 0 .262-.088a.423.423 0 0 0 0-.612L8 5.638z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-Oval\">\r\n    <path d=\"M8 1.875a6.125 6.125 0 1 1 0 12.25 6.125 6.125 0 0 1 0-12.25zM8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-page-settings\">\r\n    <path\r\n      d=\"M13.71,4.29l-3-3A1,1,0,0,0,10,1H3A1,1,0,0,0,2,2V13a2,2,0,0,0,2,2h9a1,1,0,0,0,1-1V5A1,1,0,0,0,13.71,4.29ZM12,13H4V3H9.59L12,5.41Z\" />\r\n    <path\r\n      d=\"M7.55,5.11l-2,1A1,1,0,0,0,5,7v3a1,1,0,0,0,.55.89l2,1a1,1,0,0,0,.9,0l2-1A1,1,0,0,0,11,10V7a1,1,0,0,0-.55-.89l-2-1A1,1,0,0,0,7.55,5.11ZM9,9.38l-1,.5-1-.5V7.62l1-.5,1,.5Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-page-thin\">\r\n    <path\r\n      d=\"M13.71,4.29l-3-3A1,1,0,0,0,10,1H3A1,1,0,0,0,2,2V13a2,2,0,0,0,2,2h9a1,1,0,0,0,1-1V5A1,1,0,0,0,13.71,4.29ZM12,13H4V3H9.59L12,5.41Z\" />\r\n    <path d=\"M5,8A1,1,0,0,0,6,9h4a1,1,0,0,0,0-2H6A1,1,0,0,0,5,8Z\" />\r\n    <path d=\"M10,10H6a1,1,0,0,0,0,2h4a1,1,0,0,0,0-2Z\" />\r\n    <path d=\"M6,6H8A1,1,0,0,0,8,4H6A1,1,0,0,0,6,6Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-pencil-edit\">\r\n    <path\r\n      d=\"M12.4 1.4c-.6-.6-1.5-.6-2.1 0l-.5.5-1 1-6 6L4.9 11l6-6 1-1 .5-.5c.6-.5.6-1.5 0-2.1zM1.2 11.8c-.2.5.3 1 .8.8l1.9-.6-2.1-2.1-.6 1.9z\" />\r\n    <path d=\"M1.5 14.5h13\" stroke=\"#000\" stroke-linecap=\"round\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-pencil\">\r\n    <path\r\n      d=\"M10.71,3.29a1,1,0,0,0-1.42,0l-8,8A1,1,0,0,0,1,12v2a1,1,0,0,0,1,1H4a1,1,0,0,0,.71-.29L12,7.41a2,2,0,0,0,0-2.82ZM3.59,13H3v-.59l7-7,.59.59Z\" />\r\n    <path d=\"M14.71,1.29a2.43,2.43,0,0,0-3.42,0,1,1,0,0,0,0,1.42l2,2a1,1,0,0,0,1.42,0,2.44,2.44,0,0,0,0-3.42Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-picker\">\r\n    <path d=\"M8 5l3 3-6 6-3 1-1-1 1-3zm5 3L8 3l1-1 1 1 2-2 3 3-2 2 1 1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-pin\">\r\n    <path\r\n      d=\"M8 2a4.52 4.52 0 0 0-4.5 4.55C3.5 11.1 8 15 8 15s4.5-3.9 4.5-8.45A4.52 4.52 0 0 0 8 2zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-plus\">\r\n    <path d=\"M14,7H9V2A1,1,0,0,0,7,2V7H2A1,1,0,0,0,2,9H7v5a1,1,0,0,0,2,0V9h5a1,1,0,0,0,0-2Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-preview\">\r\n    <path d=\"M3 5h4v1H3zm0 2h4v1H3zm9-1v3H9V6h3zm1-1H8v5h5V5zM3 9h4v1H3z\" />\r\n    <path d=\"M15 12.4V1H1v11.4h6v.6l-2 2h2l1-1 1 1h2l-2-2v-.6h6zM2 2h12v1H2V2zm0 2h12v7.4H2V4z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-publish\">\r\n    <path d=\"M9,5.89H2a1,1,0,0,0-1,1V13a2,2,0,0,0,2,2h7a1,1,0,0,0,1-1V7.89A2,2,0,0,0,9,5.89Zm0,2v.67H3V7.89ZM3,13V10.56H9V13Z\"/><path d=\"M8,4a1,1,0,0,0,2,0,1,1,0,0,0,0-2A1,1,0,0,0,8,2,1,1,0,0,0,8,4Z\"/><path d=\"M14,5a1,1,0,0,0-2,0,1,1,0,0,0,0,2,1,1,0,0,0,2,0,1,1,0,0,0,0-2Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-redo\">\r\n    <path d=\"M5,4h7.1l-1-1.45a1,1,0,0,1,1.66-1.1l2,3,.05.1,0,.1a1.05,1.05,0,0,1,0,.7l0,.1-.05.1-2,3A1,1,0,0,1,12,9a.94.94,0,0,1-.55-.17,1,1,0,0,1-.28-1.38l1-1.45H5A2,2,0,0,0,3,8V9a2,2,0,0,0,2,2h9a1,1,0,0,1,0,2H5A4,4,0,0,1,1,9V8A4,4,0,0,1,5,4Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 24 24\" id=\"icon-relevant-to-me\">\r\n    <path\r\n      d=\"M21.5 5H18V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5V5H2.5a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1H9v-9h12v3.5a.5.5 0 0 0 1 0v-9a.5.5 0 0 0-.5-.5zM7 3h10v2H7zm1 17H3v-9h5zM3 10V6h18v4z\" />\r\n    <path d=\"M21.5 19H19v-2.5a.5.5 0 0 0-1 0V19h-2.5a.5.5 0 0 0 0 1H18v2.5a.5.5 0 0 0 1 0V20h2.5a.5.5 0 0 0 0-1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-reset\">\r\n    <path d=\"M8 1a7 7 0 0 0-5 2.1V2H2v3h3V4H3.5A6 6 0 1 1 2 8H1a7 7 0 1 0 7-7z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-resize\">\r\n    <path\r\n      d=\"M15 11.5a.5.5 0 1 0-1 0v1.8L2.7 2h1.8a.5.5 0 0 0 0-1H1.3l-.3.3v3.2a.5.5 0 0 0 1 0V2.7L13.3 14h-1.8a.5.5 0 1 0 0 1h3.2l.3-.3v-3.2z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-save\">\r\n    <path\r\n      d=\"M12.01 1.76V1H4v.76H1v11.09l1.43 1.53v.36h12.58V1.76h-3zM5 2h6.01v4H5V2zm1 10.75v-2h1v2H6zm8.01.99H10V9.76H4.99v3.98H3.18l.01-.01L2 12.46v-9.7h2V7h8.01V2.76h2v10.98z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-send-to-back\">\r\n    <path d=\"M11 7V4H8V1H1v7h3v3h3v4h8V7h-4zm-4 3H5V5h5v2H7v3zm7 4H8V8h6v6z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-square-check\">\r\n    <path d=\"M6.7 11.1l-3.9-4 .8-.6L7 10.2l6.5-7.7.8.6-6.9 8-.3.3z\" />\r\n    <path d=\"M12.2 7.2V13h-10V3h9l.9-1H1.2v12h12V6.1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-square-plus\">\r\n    <path d=\"M1 2v13h13V2H1zm12 12H2V3h11v11z\" />\r\n    <path d=\"M7 12h1V9h3V8H8V5H7v3H4v1h3z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-stakeholder\">\r\n    <path d=\"M11,5V4A3,3,0,0,0,5,4V5a3,3,0,0,0,6,0ZM9,5A1,1,0,0,1,7,5V4A1,1,0,0,1,9,4Z\" />\r\n    <path\r\n      d=\"M7.46,9.83a3.28,3.28,0,0,1-.75-.54,1,1,0,0,0-1-.24l-3,1a1,1,0,0,0-.63.63l-.56,1.69A2,2,0,0,0,3.39,15H6a1,1,0,0,0,0-2H3.39l.4-1.21,2-.66a5.59,5.59,0,0,0,.76.48,1,1,0,0,0,.92-1.78Z\" />\r\n    <polygon\r\n      points=\"14.97 11.29 12.92 10.98 12 9 11.08 10.98 9.02 11.29 10.51 12.83 10.16 15 12 13.97 13.84 15 13.48 12.83 14.97 11.29\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-star\">\r\n    <path\r\n      d=\"M3.36 15.29a.75.75 0 0 1-.73-.92l1.07-4.23L.5 6.72A.75.75 0 0 1 1 5.46L5.19 5l2.15-3.8a.75.75 0 0 1 1.33.01L10.81 5l4.19.46a.75.75 0 0 1 .47 1.27l-3.17 3.41 1 4.2a.75.75 0 0 1-1.06.85L8 13.06l-4.3 2.15a.75.75 0 0 1-.34.08zM1.57 6.4l3 3.26a.5.5 0 0 1 .12.46l-1 3.95 4-2a.5.5 0 0 1 .45 0l4 2-1-3.94a.5.5 0 0 1 .12-.46l3-3.25-4-.41a.5.5 0 0 1-.38-.25L8 2.07 5.94 5.74a.5.5 0 0 1-.39.26l-3.98.4z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-subscription\">\r\n    <path d=\"M6 5H3v3h3V5zM5 7H4V6h1v1zm2-2h4v1H7zm0 2h4v1H7zM3 9h8v1H3zm0 2h8v1H3z\" />\r\n    <path\r\n      d=\"M13.5 5H13v-.5A1.5 1.5 0 0 0 11.5 3h-9A1.5 1.5 0 0 0 1 4.5v8A1.5 1.5 0 0 0 2.5 14h11a1.5 1.5 0 0 0 1.5-1.5v-6A1.5 1.5 0 0 0 13.5 5zM12 13H2.5a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5V13zm2-.5a.5.5 0 0 1-.5.5H13V6h.5a.5.5 0 0 1 .5.5v6z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-tash\">\r\n    <path d=\"M12,6a1,1,0,0,0-1,1v6H5V7A1,1,0,0,0,3,7v6a2,2,0,0,0,2,2h7a1,1,0,0,0,1-1V7A1,1,0,0,0,12,6Z\" />\r\n    <path d=\"M13,3H12a2,2,0,0,0-2-2H5A1,1,0,0,0,4,2V3H3A1,1,0,0,0,3,5H13a1,1,0,0,0,0-2Z\" />\r\n    <path d=\"M9,11V7A1,1,0,0,0,7,7v4a1,1,0,0,0,2,0Z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-theme\">\r\n    <path d=\"M1 1v14h5.996L8 14H2V6.01h12v2.971L15 8V1H1zm1 4.01V2h12v3.01H2z\" />\r\n    <path\r\n      d=\"M3 3.005h10v1H3zm4 9.025H3V6.97h4v5.06zm-3-1h2V7.97H4v3.06zm5.017.974H8V6.998h4v2.503l-1 .987v-2.49H9v3.006h1zm.775 2.503l4.489-4.489.707.707-4.489 4.489zm4.893-4.931l.707-.707.707.707-.707.707zM9 16h1l-1-1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-toolbox\">\r\n  <path d=\"M15,7a.8.8,0,0,0-.06-.3.64.64,0,0,0,0-.07s0,0,0,0L13.17,3.11A2,2,0,0,0,11.38,2H4a1,1,0,0,0-.89.55l-2,4s0,0,0,0a.64.64,0,0,0,0,.07A.8.8,0,0,0,1,7v6a2,2,0,0,0,2,2H14a1,1,0,0,0,1-1V7S15,7,15,7ZM12.38,6H9V4h2.38ZM7,8H9V9H7ZM4.62,4H7V6H3.62ZM13,13H3V8H5v2a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V8h2Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-trash\">\r\n    <g>\r\n      <path d=\"M15 3h-4V1H5v2H1v1h2.1v11H13V4h2V3zM6 2h4v1H6V2zm6 12H4.1V4H12v10z\" />\r\n      <path\r\n        d=\"M5.5 5.5A.5.5 0 0 0 5 6v6a.5.5 0 1 0 1 0V6a.5.5 0 0 0-.5-.5zM8 5.5a.5.5 0 0 0-.5.5v6a.5.5 0 1 0 1 0V6a.5.5 0 0 0-.5-.5zM10.5 5.5a.5.5 0 0 0-.5.5v6a.5.5 0 1 0 1 0V6a.5.5 0 0 0-.5-.5z\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-undo\">\r\n    <path d=\"M11,4H3.87l1-1.45a1,1,0,0,0-1.66-1.1l-2,3a.47.47,0,0,0,0,.1l-.05.1a1.05,1.05,0,0,0,0,.7l.05.1a.47.47,0,0,0,0,.1l2,3A1,1,0,0,0,4,9a.94.94,0,0,0,.55-.17,1,1,0,0,0,.28-1.38L3.87,6H11a2,2,0,0,1,2,2V9a2,2,0,0,1-2,2H2a1,1,0,0,0,0,2h9a4,4,0,0,0,4-4V8A4,4,0,0,0,11,4Z\"/>\r\n  </symbol>\r\n  <symbol id=\"icon-update\" viewBox=\"0 0 16 16\">\r\n    <path d=\"M14 1a1 1 0 0 0-1 1v1.13a.56.56 0 0 0 0-.08A7 7 0 0 0 3.05 13 7 7 0 0 0 13 13a1 1 0 0 0 0-1.41 1 1 0 0 0-1.41 0A5 5 0 1 1 11 4a1 1 0 0 0 0 2h3a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 952 512\" id=\"new-bizagi-logo\">\r\n    <defs><style>.cls-2{fill:#fff;}</style></defs>\r\n    <g id=\"Logos\"><g id=\"Logos-2\" data-name=\"Logos\">\r\n      <path class=\"cls-2\" d=\"M32,419.2c11.2,16,24,30.4,35.2,38.4,12.8,9.6,28.8,12.8,49.6,12.8a74.72,74.72,0,0,0,27.2-4.8,65.7,65.7,0,0,0,20.8-12.8c6.4-6.4,8-12.8,8-20.8a39.64,39.64,0,0,0-17.6-33.6c-11.2-8-28.8-14.4-49.6-17.6C78.4,374.4,56,364.8,40,352c-16-14.4-24-33.6-24-60.8q0-26.4,14.4-43.2a87.36,87.36,0,0,1,38.4-28.8,130.53,130.53,0,0,1,49.6-9.6,142.1,142.1,0,0,1,60.8,12.8,102.75,102.75,0,0,1,40,38.4l-32,32a105,105,0,0,0-28.8-30.4c-11.2-8-25.6-11.2-40-11.2-16,0-28.8,3.2-40,11.2-11.2,6.4-16,17.6-16,30.4,0,14.4,4.8,25.6,16,32s25.6,11.2,44.8,16a188.25,188.25,0,0,1,48,16A105.22,105.22,0,0,1,208,384a58.45,58.45,0,0,1,14.4,40q0,43.2-28.8,67.2C171.2,504,145.6,512,112,512a161,161,0,0,1-62.4-12.8C30.4,489.6,14.4,475.2,0,456Z\"/>\r\n      <path class=\"cls-2\" d=\"M302.4,236.8c-9.6,0-17.6-3.2-22.4-8s-6.4-11.2-6.4-19.2a30.7,30.7,0,0,1,6.4-19.2c4.8-6.4,12.8-8,22.4-8s17.6,3.2,22.4,8,6.4,11.2,6.4,19.2a30.76,30.76,0,0,1-6.4,19.2C320,235.2,312,236.8,302.4,236.8Zm22.4,270.4H281.6V286.4h43.2Z\"/>\r\n      <polygon class=\"cls-2\" points=\"462.4 507.2 419.2 507.2 419.2 328 372.8 328 372.8 286.4 419.2 286.4 419.2 230.4 462.4 230.4 462.4 286.4 513.6 286.4 513.6 328 462.4 328 462.4 507.2\"/>\r\n      <path class=\"cls-2\" d=\"M742.4,478.4h0a201.08,201.08,0,0,1-38.4,24,130.53,130.53,0,0,1-49.6,9.6c-22.4,0-43.2-4.8-60.8-14.4s-30.4-24-41.6-40A118.35,118.35,0,0,1,537.6,400c0-25.6,4.8-46.4,16-64s24-32,41.6-40a112.27,112.27,0,0,1,56-14.4,101.07,101.07,0,0,1,88,52.8c9.6,16,12.8,35.2,12.8,56v19.2H580.8c3.2,20.8,11.2,35.2,24,48a84,84,0,0,0,52.8,17.6c16,0,28.8-3.2,38.4-8,9.6-6.4,17.6-11.2,24-17.6ZM651.2,321.6c-16,0-30.4,3.2-43.2,11.2s-20.8,20.8-24,40H708.8v-3.2a70.9,70.9,0,0,0-9.6-25.6c-4.8-8-12.8-12.8-20.8-17.6a81.4,81.4,0,0,0-27.2-4.8Z\"/>\r\n      <path class=\"cls-2\" d=\"M926.4,344a105.11,105.11,0,0,0-27.2-19.2c-9.6-4.8-19.2-8-27.2-8a65.93,65.93,0,0,0-17.6,1.6,30.94,30.94,0,0,0-14.4,8,24.42,24.42,0,0,0-6.4,16c0,9.6,4.8,17.6,12.8,20.8,9.6,4.8,20.8,8,33.6,11.2a275.75,275.75,0,0,1,33.6,11.2c11.2,4.8,20.8,11.2,27.2,20.8,8,8,11.2,20.8,11.2,36.8,0,14.4-3.2,25.6-11.2,35.2a72,72,0,0,1-30.4,22.4c-12.8,4.8-25.6,8-38.4,8a167.54,167.54,0,0,1-48-8,92.44,92.44,0,0,1-40-30.4l30.4-25.6c8,8,16,16,25.6,20.8s22.4,6.4,35.2,6.4a56.79,56.79,0,0,0,16-3.2,24.89,24.89,0,0,0,12.8-9.6c3.2-4.8,6.4-9.6,6.4-17.6a20.59,20.59,0,0,0-6.4-16c-3.2-3.2-9.6-6.4-16-9.6s-14.4-4.8-22.4-6.4a228.82,228.82,0,0,1-35.2-12.8C819.2,392,809.6,384,801.6,376c-8-9.6-11.2-22.4-11.2-38.4,0-12.8,3.2-24,11.2-33.6A72,72,0,0,1,832,281.6c12.8-4.8,25.6-8,38.4-8s27.2,3.2,43.2,8c16,6.4,28.8,14.4,38.4,27.2Z\"/>\r\n      <path class=\"cls-2\" d=\"M22.4,81.6V0H40V54.4c6.4-11.2,19.2-17.6,32-17.6,22.4,0,44.8,16,44.8,46.4,0,27.2-19.2,46.4-48,46.4C41.6,128,22.4,110.4,22.4,81.6Zm76.8,1.6c0-17.6-11.2-30.4-30.4-30.4-17.6,0-30.4,12.8-30.4,30.4s11.2,30.4,30.4,30.4C86.4,113.6,99.2,100.8,99.2,83.2Z\"/>\r\n      <rect class=\"cls-2\" x=\"132.8\" y=\"38.4\" width=\"17.6\" height=\"88\"/>\r\n      <polygon class=\"cls-2\" points=\"168 112 224 52.8 169.6 52.8 169.6 36.8 246.4 36.8 246.4 49.6 190.4 108.8 248 108.8 248 124.8 166.4 124.8 166.4 112 168 112\"/>\r\n      <path class=\"cls-2\" d=\"M260.8,83.2c0-27.2,19.2-46.4,48-46.4,27.2,0,46.4,19.2,46.4,46.4v43.2h-16V107.2C332.8,121.6,320,128,305.6,128,281.6,128,260.8,112,260.8,83.2Zm76.8,0c0-17.6-11.2-30.4-30.4-30.4s-30.4,12.8-30.4,30.4,11.2,30.4,30.4,30.4c17.6,0,30.4-12.8,30.4-30.4Z\"/>\r\n      <path class=\"cls-2\" d=\"M371.2,136h17.6c3.2,9.6,14.4,14.4,27.2,14.4,17.6,0,30.4-8,30.4-32v-8c-6.4,11.2-17.6,17.6-32,17.6-25.6,0-46.4-16-46.4-44.8,0-27.2,19.2-46.4,48-46.4,27.2,0,46.4,19.2,46.4,46.4V120c0,33.6-20.8,46.4-46.4,46.4C393.6,166.4,377.6,156.8,371.2,136Zm73.6-52.8c0-17.6-11.2-30.4-30.4-30.4S384,65.6,384,83.2,396.8,112,414.4,112s30.4-11.2,30.4-28.8Z\"/>\r\n      <rect class=\"cls-2\" x=\"481.6\" y=\"38.4\" width=\"17.6\" height=\"88\"/></g></g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 29 32\" id=\"icon-bizagi-logo\">\r\n    <defs><style>.cls-1{fill:#BDCCDC;}.cls-2{fill:#fff;}</style></defs><g id=\"Logos\">\r\n      <polygon class=\"cls-1\" points=\"1.14 8.04 26.31 24.06 13.72 30.86 1.14 24.06 1.14 8.04\"/>\r\n      <path class=\"cls-2\" d=\"M26.86,7,14.27.14a1.11,1.11,0,0,0-1.09,0L.59,7A1.14,1.14,0,0,0,0,8v16a1.13,1.13,0,0,0,.6,1l12.58,6.8a1.13,1.13,0,0,0,1.09,0l12.58-6.8a1.13,1.13,0,0,0,.6-1V8A1.14,1.14,0,0,0,26.86,7ZM13.73,2.45,25.16,8.72V22L3.39,8.11Zm0,27.11L2.29,23.37V10.12L24.06,24Z\"/>\r\n    </g>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-warning\">\r\n    <path\r\n      d=\"M14.89,13.55l-6-12a1,1,0,0,0-1.78,0L1.83,12.11A2,2,0,0,0,3.62,15H14a1,1,0,0,0,.89-1.45ZM3.62,13,8,4.24,12.38,13Z\" />\r\n    <path d=\"M7,7V8A1,1,0,0,0,9,8V7A1,1,0,0,0,7,7Z\" />\r\n    <circle cx=\"8\" cy=\"11\" r=\"1\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-info\">\r\n    <path d=\"M8,1a7,7,0,1,0,7,7A7,7,0,0,0,8,1ZM8,13a5,5,0,1,1,5-5A5,5,0,0,1,8,13Z\"/><path d=\"M8,12a1,1,0,0,0,1-1V8A1,1,0,0,0,7,8v3A1,1,0,0,0,8,12Z\"/><path d=\"M7.29,5.71a1,1,0,0,0,.33.21,1,1,0,0,0,.76,0,.9.9,0,0,0,.54-.54A1,1,0,0,0,7.29,4.29a1.15,1.15,0,0,0-.21.33.94.94,0,0,0,0,.76A1.15,1.15,0,0,0,7.29,5.71Z\"/>\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-world\">\r\n    <path d=\"M8 1.875a6.125 6.125 0 1 1 0 12.25 6.125 6.125 0 0 1 0-12.25zM8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1z\" />\r\n    <path\r\n      d=\"M12.375 5.375h-1.54A67.994 67.994 0 0 0 9.61 3.397l-.875.613c.36.41.66.87.892 1.365h-3.29c.242-.507.535-.988.875-1.435l-.875-.464c-.026.053-.665 1.024-1.19 1.899H3.625v.875H4.78c-.201 0-.341 1.059-.341 1.75 0 .691.131 1.75.323 1.75H3.625v.875h1.487c.508.875 1.138 1.864 1.19 1.908l.875-.595a4.777 4.777 0 0 1-.875-1.313h3.37c-.224.493-.52.95-.876 1.356l.875.499c.079-.035.674-.98 1.199-1.855h1.505V9.75H11.22c.184 0 .324-.997.324-1.75s-.14-1.75-.342-1.75h1.173v-.875zM10.432 8c0 .718-.157 1.75-.35 1.75h-4.19c-.202 0-.35-.997-.35-1.75s.165-1.75.384-1.75h4.121c.22 0 .385 1.05.385 1.75z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-x\">\r\n    <path\r\n      d=\"M8.7 8l6.1-6.1c.2-.2.2-.5 0-.7-.2-.2-.5-.2-.7 0L8 7.3 1.9 1.1c-.2-.1-.6-.1-.8 0-.2.1-.1.6 0 .8L7.3 8l-6.1 6.1c-.2.2-.2.5 0 .7 0 .2.2.2.3.2.1 0 .3 0 .4-.1L8 8.7l6.1 6.1c.1.1.2.1.4.1s.3 0 .4-.1c.2-.2.2-.5 0-.7L8.7 8z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-zoom-in\">\r\n    <path\r\n      d=\"M14.868 14.167L11.58 10.87a6 6 0 1 0-.71.71l3.288 3.287a.5.5 0 0 0 .71-.7zM2 7a5 5 0 1 1 10 0A5 5 0 0 1 2 7z\" />\r\n    <path d=\"M9.5 6.5h-2v-2a.5.5 0 0 0-1 0v2h-2a.5.5 0 0 0 0 1h2v2a.5.5 0 0 0 1 0v-2h2a.5.5 0 0 0 0-1z\" />\r\n  </symbol>\r\n  <symbol viewBox=\"0 0 16 16\" id=\"icon-zoom-out\">\r\n    <path d=\"M14.85 14.15l-3.27-3.28a6 6 0 1 0-.71.71l3.27 3.27a.5.5 0 0 0 .71-.7zM2 7a5 5 0 1 1 10 0A5 5 0 0 1 2 7z\" />\r\n    <path d=\"M9.5 6.5h-5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z\" />\r\n  </symbol>\r\n  <symbol id=\"icon-no\" viewBox=\"0 0 18 18\">\r\n    <g\r\n      transform=\"translate(-704 -660) translate(539 103) translate(0 539) translate(16 16) translate(149 1) translate(0 1)\">\r\n      <mask>\r\n        <use xlink:href=\"#a\" />\r\n      </mask>\r\n      <use xlink:href=\"#a\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol id=\"icon-null\" viewBox=\"0 0 20 20\">\r\n    <rect width=\"18\" height=\"18\" stroke=\"#51D3F0\" stroke-width=\"2\" rx=\"4\"\r\n      transform=\"translate(-1133 -659) translate(969 103) translate(0 539) translate(16 16) translate(149 2)\" />\r\n  </symbol>\r\n  <symbol id=\"icon-yes\" viewBox=\"0 0 18 18\">\r\n    <g\r\n      transform=\"translate(-230 -660) translate(65 103) translate(0 539) translate(16 16) translate(149 1) translate(0 1)\">\r\n      <mask>\r\n        <use xlink:href=\"#a\" />\r\n      </mask>\r\n      <use xlink:href=\"#a\" />\r\n    </g>\r\n  </symbol>\r\n  <symbol id=\"icon-upload\" viewBox=\"0 0 16 16\">\r\n    <path\r\n      d=\"M14.5 15h-13a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 1 0V14h12v-2.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-.5.5zM12.36 4.65l-4-4a.5.5 0 0 0-.7 0l-4 4a.5.5 0 0 0 0 .7.5.5 0 0 0 .71 0L7.5 2.2v7.3a.5.5 0 0 0 1 0V2.2l3.15 3.15a.5.5 0 0 0 .35.15.51.51 0 0 0 .36-.15.51.51 0 0 0 0-.7z\" />\r\n  </symbol>\r\n  <symbol id=\"icon-download\" viewBox=\"0 0 16 16\">\r\n    <path d=\"M14,10a1,1,0,0,0-1,1v2H3V11a1,1,0,0,0-2,0v3a1,1,0,0,0,1,1H14a1,1,0,0,0,1-1V11A1,1,0,0,0,14,10Z\"/><path d=\"M7.29,11.71a1,1,0,0,0,.33.21.94.94,0,0,0,.76,0,1,1,0,0,0,.33-.21l4-4a1,1,0,1,0-1.42-1.42L9,8.59V2A1,1,0,0,0,7,2V8.59L4.71,6.29A1,1,0,0,0,3.29,7.71Z\"/>\r\n  </symbol>\r\n  <symbol id=\"icon-text-field\" viewBox=\"0 0 16 16\">\r\n    <path\r\n      d=\"M5.5 10.5l-1.4 4.4H2.2L6.9 1h2.2l4.7 13.9h-1.9l-1.5-4.4zM10 9.1l-1.3-4c-.3-.9-.5-1.7-.7-2.5h-.1c-.2.8-.4 1.6-.7 2.5l-1.3 4z\" />\r\n  </symbol>\r\n  <symbol id=\"icon-number-field\" viewBox=\"0 0 16 16\">\r\n    <path\r\n      d=\"M14.5 10H11V6h3.5a.5.5 0 0 0 .5-.5.5.5 0 0 0-.5-.5H11V1.5a.5.5 0 0 0-1 0V5H6V1.5a.5.5 0 0 0-.5-.5.5.5 0 0 0-.5.5V5H1.5a.5.5 0 0 0-.5.5.5.5 0 0 0 .5.5H5v4H1.5a.5.5 0 0 0 0 1H5v3.5a.5.5 0 0 0 .5.5.5.5 0 0 0 .5-.5V11h4v3.5a.5.5 0 0 0 1 0V11h3.5a.5.5 0 0 0 0-1zM6 10V6h4v4z\" />\r\n  </symbol>\r\n  <symbol id=\"icon-calendar-field\" viewBox=\"0 0 16 16\">\r\n    <path\r\n      d=\"M14 2h-2v-.5a.5.5 0 0 0-1 0V2H5v-.5a.5.5 0 0 0-1 0V2H2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zM4 3v.5a.5.5 0 0 0 1 0V3h6v.5a.5.5 0 0 0 1 0V3h2v2H2V3zm10 11H2V6h12v8z\" />\r\n    <path d=\"M10 8H12V10H10z\" />\r\n  </symbol>\r\n</svg>\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" display=\"none\" width=\"0\" height=\"0\" id=\"iconsGenome\">\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" display=\"none\" width=\"0\" height=\"0\" id=\"iconsGenome\">\r\n    <defs />\r\n    <symbol id=\"icon-warning-outline\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M12 16a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 1 0v9a.5.5 0 0 1-.5.5z\" />\r\n      <circle cx=\"12\" cy=\"18.5\" r=\".5\" />\r\n      <path\r\n        d=\"M21.93 23H2.07a1.56 1.56 0 0 1-1.33-.75 1.65 1.65 0 0 1-.06-1.61L10.6 1.35a1.58 1.58 0 0 1 2.8 0l9.92 19.29a1.65 1.65 0 0 1-.06 1.61 1.56 1.56 0 0 1-1.33.75zM12 1.5a.56.56 0 0 0-.51.3L1.57 21.09a.67.67 0 0 0 0 .63.56.56 0 0 0 .48.28h19.88a.56.56 0 0 0 .48-.28.67.67 0 0 0 0-.63L12.51 1.8a.56.56 0 0 0-.51-.3z\" />\r\n    </symbol>\r\n  </svg>\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" display=\"none\" width=\"0\" height=\"0\" id=\"iconsGenome\">\r\n    <defs />\r\n    <symbol id=\"icon-pin-globe\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M11.5 6A3.5 3.5 0 0 0 8 2.5 3.5 3.5 0 0 0 4.5 6 3.5 3.5 0 0 0 8 9.5 3.5 3.5 0 0 0 11.5 6zM8 8.5a4.3 4.3 0 0 1-.6-2h1.2a3.4 3.4 0 0 1-.5 2zm1.4-.4a7.8 7.8 0 0 0 .2-1.6h.8a2.5 2.5 0 0 1-1 1.6zm1-2.6h-.8a7.8 7.8 0 0 0-.2-1.6 2.5 2.5 0 0 1 1 1.6zm-2.3-2a3.7 3.7 0 0 1 .5 2H7.4a7.2 7.2 0 0 1 .5-2h.2zm-1.4.4l-.3 1.6h-.8a2.1 2.1 0 0 1 1.1-1.6zM5.6 6.5h.8l.3 1.6a2.1 2.1 0 0 1-1.1-1.6z\" />\r\n      <path\r\n        d=\"M10.5 14H8.8C10 12.7 13 9 13 6a5 5 0 0 0-5-5 5 5 0 0 0-5 5c0 3 3 6.7 4.2 8H5.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM8 2a4 4 0 0 1 4 4c0 2.7-3 6.2-4 7.4C7 12.2 4 8.7 4 6a4 4 0 0 1 4-4z\" />\r\n    </symbol>\r\n    <symbol id=\"icon-brush\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M14.54,1.45h0a1.54,1.54,0,0,0-2.07-.1l-.08.07A26.83,26.83,0,0,1,8.16,5.09,6.69,6.69,0,0,0,6,7a1,1,0,0,0-1.4,1.43l.75.75a3,3,0,0,0-1-.2,2.94,2.94,0,0,0-2.15.79A1,1,0,0,0,2,10.94c.53,1.07-.66,2.32-.69,2.36A1,1,0,0,0,2,15h.07c.72-.06,3.13-.3,4.08-1.25a2.77,2.77,0,0,0,.61-3.1l.84.84a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.41H9A5.79,5.79,0,0,0,10.9,7.83,26.83,26.83,0,0,1,14.57,3.6l.07-.08A1.54,1.54,0,0,0,14.54,1.45ZM4.73,12.33a2.14,2.14,0,0,1-.79.34A3.69,3.69,0,0,0,4.08,11h.19a.68.68,0,0,1,.48.17A.78.78,0,0,1,4.73,12.33Zm4.38-5.4A4,4,0,0,1,7.58,8.64l-.2-.2A5.14,5.14,0,0,1,9.06,6.88l.11-.06Z\" />\r\n    </symbol>\r\n    <symbol id=\"icon-file\" viewBox=\"0 0 24 24\">\r\n      <path\r\n        d=\"M19.44 23H4.56A1.56 1.56 0 0 1 3 21.45V2.55A1.56 1.56 0 0 1 4.56 1h10.13a1.56 1.56 0 0 1 1.2.56l4.75 5.63a1.56 1.56 0 0 1 .36 1v13.26A1.56 1.56 0 0 1 19.44 23zM4.56 2a.56.56 0 0 0-.56.55v18.9a.56.56 0 0 0 .56.55h14.88a.56.56 0 0 0 .56-.55V8.18a.5.5 0 0 0-.12-.34L15.12 2.2a.54.54 0 0 0-.43-.2z\" />\r\n      <path\r\n        d=\"M14.5 9h-7a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1zM16.5 13h-9a.5.5 0 0 1 0-1h9a.5.5 0 0 1 0 1zM16.5 17h-9a.5.5 0 0 1 0-1h9a.5.5 0 0 1 0 1z\" />\r\n    </symbol>\r\n    <symbol id=\"icon-arrow-down-bold\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M8 12a1 1 0 0 1-.71-.29l-6-6a1 1 0 0 1 1.42-1.42L8 9.58l5.29-5.29a1 1 0 0 1 1.42 0A1 1 0 0 1 15 5a1 1 0 0 1-.29.71l-6 6A1 1 0 0 1 8 12z\">\r\n      </path>\r\n    </symbol>\r\n    <symbol id=\"icon-arrow-up-bold\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M12 11a1 1 0 0 1-.7-.29L8 7.41l-3.3 3.3a1 1 0 0 1-1.41 0A1 1 0 0 1 3 10a1 1 0 0 1 .29-.71l4-4a1 1 0 0 1 1.42 0l4 4A1 1 0 0 1 12 11z\" />\r\n    </symbol>\r\n    <symbol id=\"icon-hide\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M2.8 8.2c.7-.8 2.8-2.8 4.7-3.1l1.9-1.9L8 3C4.6 3 1.4 6.7 1.3 6.9a1 1 0 0 0 .1 1.4 1 1 0 0 0 1.4-.1zM2.1 10.5l1.4-1.4a1 1 0 0 0-1.4 1.4zM12.6 4.8l2.1-2.1a1 1 0 0 0 0-1.4 1 1 0 0 0-1.4 0L8.5 6.1 6.1 8.5l-4.8 4.8a1 1 0 0 0 0 1.4.9.9 0 0 0 .7.3.9.9 0 0 0 .7-.3L5 12.4a8.9 8.9 0 0 0 3 .6c4.6 0 6.8-4.4 6.9-4.6a1.1 1.1 0 0 0 0-.8 10 10 0 0 0-2.3-2.8zM8 11l-1.4-.2.9-.9H8a2 2 0 0 0 2-2 .9.9 0 0 0-.1-.5l1.3-1.3A5 5 0 0 1 12.8 8c-.6.9-2.2 3-4.8 3z\" />\r\n    </symbol>\r\n    <symbol id=\"icon-view\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M14.9 7.6C14.8 7.4 12.6 3 8 3S1.4 6.7 1.3 6.9a1 1 0 0 0 .1 1.4 1 1 0 0 0 1.4-.1C3.6 7.3 5.9 5 8 5a5.7 5.7 0 0 1 4.8 3c-.6.9-2.2 3-4.8 3a6.9 6.9 0 0 1-4.3-1.7 1 1 0 0 0-1.4 0 1 1 0 0 0 0 1.4A8.5 8.5 0 0 0 8 13c4.6 0 6.8-4.4 6.9-4.6a1.1 1.1 0 0 0 0-.8z\" />\r\n      <circle cx=\"8\" cy=\"8\" r=\"2\" />\r\n    </symbol>\r\n    <symbol id=\"bzg-clear-circle\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M10.71 5.29a1 1 0 0 0-1.42 0L8 6.59l-1.29-1.3a1 1 0 0 0-1.42 1.42L6.59 8l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L8 9.41l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L9.41 8l1.3-1.29a1 1 0 0 0 0-1.42z\" />\r\n      <path d=\"M8 1a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm0 12a5 5 0 1 1 5-5 5 5 0 0 1-5 5z\" />\r\n    </symbol>\r\n    <symbol id=\"bzg-view-table\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M13 1H2a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2h11a1 1 0 0 0 1-1V3a2 2 0 0 0-2-2zM3 7h10v2H3zm10-4v2H3V3zM3 13v-2h10v2z\" />\r\n    </symbol>\r\n    <symbol id=\"bzg-panel-detail\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M13 1H2a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2h11a1 1 0 0 0 1-1V3a2 2 0 0 0-2-2zM3 3h2v10H3zm10 10H7V3h6z\" />\r\n      <path\r\n        d=\"M9 6h2a1 1 0 0 0 0-2H9a1 1 0 0 0 0 2zM9 9h2a1 1 0 0 0 0-2H9a1 1 0 0 0 0 2zM11 10H9a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z\" />\r\n    </symbol>\r\n    <symbol id=\"bzg-check-mark\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M6 13a1.05 1.05 0 0 1-.71-.29l-3-3a1 1 0 0 1 1.42-1.42L6 10.54l6.3-7.2a1 1 0 1 1 1.5 1.32l-7 8A1 1 0 0 1 6 13z\" />\r\n    </symbol>\r\n    <symbol id=\"bzg-table-comfortable\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M3 4h10a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2zM13 7H3a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2zM13 12H3a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2z\" />\r\n    </symbol>\r\n    <symbol id=\"bzg-table-normal\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M3 5h10a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2zM13 7H3a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2zM13 11H3a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2z\" />\r\n    </symbol>\r\n    <symbol id=\"bzg-table-compact\" viewBox=\"0 0 16 16\">\r\n      <path\r\n        d=\"M3 6h10a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2zM13 7H3a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2zM13 10H3a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2z\" />\r\n    </symbol>\r\n    <symbol id=\"icn-filter\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M5.33 14.65V7.5L1.17 1h13.66l-4.16 6.5v4.37zM4.83 3l2.5 3.92v4.43l1.34-.69V6.92L11.17 3z\"></path>\r\n    </symbol>\r\n  </svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" display=\"none\" width=\"0\" height=\"0\"><defs> <polygon id=\"icon-theme-thin-path-1\" points=\"0.7562 0.7251 15.91 0.7251 15.91 16 0.7562 16\"/> </defs><symbol viewBox=\"0 0 32 32\" id=\"icon-add-attribute-32\"> <g transform=\"translate(3 5)\"> <path d=\"M22.5 17.5H26a.5.5 0 1 1 0 1h-3.5V22a.5.5 0 1 1-1 0v-3.5H18a.5.5 0 1 1 0-1h3.5V14a.5.5 0 1 1 1 0v3.5z\"/> <circle cx=\"5\" cy=\"5\" r=\"1\"/> <circle cx=\"5\" cy=\"10\" r=\"1\"/> <circle cx=\"5\" cy=\"15\" r=\"1\"/> <path d=\"M8 5.5a.5.5 0 0 1 0-1h14a.5.5 0 1 1 0 1H8zm0 5a.5.5 0 1 1 0-1h14a.5.5 0 1 1 0 1H8zm0 5a.5.5 0 1 1 0-1h5a.5.5 0 1 1 0 1H8z\"/> <path d=\"M25 10.331V1H1v19h14.05v1H0V0h26v10.334l-1-.003z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-Boolean-32\"> <path d=\"M7.493 17.6l5.143 5.487L25.128 8.893\" stroke=\"#000\" stroke-linejoin=\"round\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-button-32\"> <g> <path d=\"M29.5 20h-1.1a.5.5 0 1 1 0-1h1.1a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5h-27a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h8.9a.5.5 0 1 1 0 1H2.5A1.5 1.5 0 0 1 1 18.5v-12A1.5 1.5 0 0 1 2.5 5h27A1.5 1.5 0 0 1 31 6.5v12a1.5 1.5 0 0 1-1.5 1.5z\"/> <path d=\"M17.9 16.1l7.9 2.6-1.8 1.8 4.4 4.4-1.8 1.8-4.4-4.4-1.7 1.7-2.6-7.9zm0-1a1 1 0 0 0-.9 1.3l2.6 7.9a1 1 0 0 0 .7.7h.2a1 1 0 0 0 .7-.3l1-1 3.7 3.7a1 1 0 0 0 1.4 0l1.8-1.8a1 1 0 0 0 0-1.4l-3.7-3.7 1-1a1 1 0 0 0-.4-1.7l-7.9-2.6-.2-.1zM16.4 15.1H16L13.9 13a.5.5 0 0 1 .7-.7l2.1 2.1a.5.5 0 0 1 0 .7h-.3zM19.5 14a.5.5 0 0 1-.5-.5v-2a.5.5 0 1 1 1 0v2a.5.5 0 0 1-.5.5zM15.5 18h-2a.5.5 0 1 1 0-1h2a.5.5 0 1 1 0 1zM21.7 15.2h-.4a.5.5 0 0 1 0-.7l1.4-1.4a.5.5 0 1 1 .7.7L22 15.2h-.3zM15.1 22.9h-.4a.5.5 0 0 1 0-.7l1.4-1.4a.5.5 0 1 1 .7.7l-1.4 1.4h-.3z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-button-thin\"> <path d=\"M29.5 20h-1.1a.5.5 0 1 1 0-1h1.1a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5h-27a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h8.9a.5.5 0 1 1 0 1H2.5A1.5 1.5 0 0 1 1 18.5v-12A1.5 1.5 0 0 1 2.5 5h27A1.5 1.5 0 0 1 31 6.5v12a1.5 1.5 0 0 1-1.5 1.5z\"/> <path d=\"M17.9 16.1l7.9 2.6-1.8 1.8 4.4 4.4-1.8 1.8-4.4-4.4-1.7 1.7-2.6-7.9zm0-1a1 1 0 0 0-.9 1.3l2.6 7.9a1 1 0 0 0 .7.7h.2a1 1 0 0 0 .7-.3l1-1 3.7 3.7a1 1 0 0 0 1.4 0l1.8-1.8a1 1 0 0 0 0-1.4l-3.7-3.7 1-1a1 1 0 0 0-.4-1.7l-7.9-2.6-.2-.1zm-1.5 0H16L13.9 13a.5.5 0 0 1 .7-.7l2.1 2.1a.5.5 0 0 1 0 .7h-.3zm3.1-1.1a.5.5 0 0 1-.5-.5v-2a.5.5 0 1 1 1 0v2a.5.5 0 0 1-.5.5zm-4 4h-2a.5.5 0 1 1 0-1h2a.5.5 0 1 1 0 1zm6.2-2.8h-.4a.5.5 0 0 1 0-.7l1.4-1.4a.5.5 0 1 1 .7.7L22 15.2h-.3zm-6.6 7.7h-.4a.5.5 0 0 1 0-.7l1.4-1.4a.5.5 0 1 1 .7.7l-1.4 1.4h-.3z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-cases-32\"> <path d=\"M30 6h-8V2H10v4H2v14h2.1v10h23.8V20H30V6zM11 3h10v3H11V3zm15.9 26H5.1v-9H12v5h8v-5h6.9v9zM13 24v-6h6v6h-6zm16-5h-9v-2h-8v2H3V7h26v12z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-cases-thin\"> <path d=\"M30 6h-8V2H10v4H2v14h2.1v10h23.8V20H30V6zM11 3h10v3H11V3zm15.9 26H5.1v-9H12v5h8v-5h6.9v9zM13 24v-6h6v6h-6zm16-5h-9v-2h-8v2H3V7h26v12z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-center-below\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <path d=\"M19.9 11.7L12.5 19V4.5a.5.5 0 0 0-1 0v14.4L4.6 12c-.1-.2-.5-.2-.7 0a.6.6 0 0 0 0 .8l7.8 7.7.4.2.3-.2 8.2-8.1a.5.5 0 0 0 0-.7c-.2-.2-.6-.2-.7 0z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-center-up\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <path d=\"M12.4 3.7a.5.5 0 0 0-.7 0l-7.8 7.8a.5.5 0 0 0 0 .7c.2.2.6.2.7 0l6.9-6.9v14.2a.5.5 0 0 0 1 0V5.2l7.4 7.3.3.2.4-.2a.5.5 0 0 0 0-.7z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-center\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <circle cx=\"12\" cy=\"12\" r=\"4\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-check-outline-32\"> <path d=\"M3.253 15.254l9.5 9.506L29.118 8.375\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-circle-check-thin\"> <path d=\"M16 2c7.72 0 14 6.28 14 14s-6.28 14-14 14S2 23.72 2 16 8.28 2 16 2zm0-1C7.716 1 1 7.716 1 16c0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\"/> <path d=\"M21.2 12.6l-6.6 6.6-3.8-3.8c-.2-.2-.5-.2-.7 0-.2.2-.2.5 0 .7l4.2 4.2c.1.1.2.1.4.1s.3-.1.4-.1l7-7c.2-.2.2-.5 0-.7-.2-.2-.7-.1-.9 0z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-circle-x-32\"> <g> <path d=\"M16 2c7.72 0 14 6.28 14 14s-6.28 14-14 14S2 23.72 2 16 8.28 2 16 2zm0-1C7.716 1 1 7.716 1 16c0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\"/> <path d=\"M23.22 22.45c.19.2.19.51-.01.71-.19.19-.51.19-.7-.01l-6.28-6.44-6.36 6.36c-.2.2-.52.2-.71 0-.2-.19-.2-.51 0-.71l6.37-6.37-6.29-6.44c-.2-.2-.19-.51.01-.71a.5.5 0 0 1 .35-.14c.12 0 .25.05.35.15l6.28 6.44 6.36-6.36c.2-.2.52-.2.71 0 .1.09.14.22.14.35 0 .13-.04.26-.14.36l-6.37 6.37 6.29 6.44z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-circle-x-thin\"> <path d=\"M16 2c7.72 0 14 6.28 14 14s-6.28 14-14 14S2 23.72 2 16 8.28 2 16 2zm0-1C7.716 1 1 7.716 1 16c0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\"/> <path d=\"M23.22 22.45c.19.2.19.51-.01.71-.19.19-.51.19-.7-.01l-6.28-6.44-6.36 6.36c-.2.2-.52.2-.71 0-.2-.19-.2-.51 0-.71l6.37-6.37-6.29-6.44c-.2-.2-.19-.51.01-.71a.5.5 0 0 1 .35-.14c.12 0 .25.05.35.15l6.28 6.44 6.36-6.36c.2-.2.52-.2.71 0 .1.09.14.22.14.35 0 .13-.04.26-.14.36l-6.37 6.37 6.29 6.44z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-collections-32\"> <g> <path d=\"M17 8h10v2H17zM14 8h2v2h-2z\"/> <path d=\"M11 2v10h1V6h17v11h-6v1h7V2H11zm18 3H12V3h17v2z\"/> <path d=\"M2 14v16h19V14H2zm18 1v2H3v-2h17zM3 29V18h17v11H3z\"/> <path d=\"M8 20h10v2H8zM5 20h2v2H5zM8 24h10v2H8zM5 24h2v2H5zM23 12h4v2h-4z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-collections-thin\"> <path d=\"M17 8h10v2H17zm-3 0h2v2h-2z\"/> <path d=\"M11 2v10h1V6h17v11h-6v1h7V2H11zm18 3H12V3h17v2z\"/> <path d=\"M2 14v16h19V14H2zm18 1v2H3v-2h17zM3 29V18h17v11H3z\"/> <path d=\"M8 20h10v2H8zm-3 0h2v2H5zm3 4h10v2H8zm-3 0h2v2H5zm18-12h4v2h-4z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-context-32\"> <g> <path d=\"M10 24.9a3.8 3.8 0 0 1-1.8-.4l-4.3-2.3a3.4 3.4 0 0 1-1.8-3v-4.5a3.4 3.4 0 0 1 1.8-3l4.3-2.2a3.8 3.8 0 0 1 3.6 0l4.3 2.3a3.4 3.4 0 0 1 1.8 3v4.5a3.4 3.4 0 0 1-1.8 3l-4.3 2.3a3.8 3.8 0 0 1-1.8.3zM10 10a2.8 2.8 0 0 0-1.3.3l-4.4 2.4a2.4 2.4 0 0 0-1.3 2v4.5a2.3 2.3 0 0 0 1.3 2.1l4.3 2.3a2.8 2.8 0 0 0 2.6 0l4.3-2.3a2.4 2.4 0 0 0 1.5-2.1v-4.5a2.3 2.3 0 0 0-1.3-2.1l-4.4-2.2A2.8 2.8 0 0 0 10 10z\"/> <path d=\"M10 23a2.9 2.9 0 0 1-1.4-.3L5.4 21A2.6 2.6 0 0 1 4 18.7v-3.3A2.6 2.6 0 0 1 5.4 13l3.2-1.7a2.9 2.9 0 0 1 2.7 0l3.3 1.7a2.6 2.6 0 0 1 1.4 2.4v3.3a2.6 2.6 0 0 1-1.4 2.3l-3.2 1.7a2.9 2.9 0 0 1-1.4.3zm0-11l-.9.2-3.2 1.7a1.6 1.6 0 0 0-.9 1.5v3.3a1.6 1.6 0 0 0 .9 1.4l3.2 1.7a1.9 1.9 0 0 0 1.8 0l3.2-1.7a1.6 1.6 0 0 0 .9-1.4v-3.3a1.6 1.6 0 0 0-.9-1.4l-3.2-1.7-.9-.3z\"/> <path d=\"M12.1 17.9l-1.5-.6c-.2-.1-.3-.2-.2-.4.1-.2.6-.7.6-1.2a1.2 1.2 0 0 0-1-1.2 1.2 1.2 0 0 0-1.1 1.3c0 .5.5.9.6 1.2.1.3 0 .3-.2.4l-1.5.6a.6.6 0 0 0-.4.6c0 .3.1.6.7.6h3.6c.6 0 .7-.3.7-.6a.6.6 0 0 0-.3-.7zM20.8 3v9.1H30V3h-9.2zM29 4v2h-7.2V4H29zm-7.1 7.1V7H29v4.1h-7.1zM20.8 21.9V31H30v-9.1h-9.2zm8.1 1V25h-7.1v-2.1h7.1zM21.8 30v-4H29v4h-7.2zM9 5h2v2H9zM13 5h2v2h-2zM17 5h2v2h-2zM9 27h2v2H9zM13 27h2v2h-2zM17 27h2v2h-2z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-context-thin\"> <path d=\"M10 24.9a3.8 3.8 0 0 1-1.8-.4l-4.3-2.3a3.4 3.4 0 0 1-1.8-3v-4.5a3.4 3.4 0 0 1 1.8-3l4.3-2.2a3.8 3.8 0 0 1 3.6 0l4.3 2.3a3.4 3.4 0 0 1 1.8 3v4.5a3.4 3.4 0 0 1-1.8 3l-4.3 2.3a3.8 3.8 0 0 1-1.8.3zM10 10a2.8 2.8 0 0 0-1.3.3l-4.4 2.4a2.4 2.4 0 0 0-1.3 2v4.5a2.3 2.3 0 0 0 1.3 2.1l4.3 2.3a2.8 2.8 0 0 0 2.6 0l4.3-2.3a2.4 2.4 0 0 0 1.5-2.1v-4.5a2.3 2.3 0 0 0-1.3-2.1l-4.4-2.2A2.8 2.8 0 0 0 10 10z\"/> <path d=\"M10 23a2.9 2.9 0 0 1-1.4-.3L5.4 21A2.6 2.6 0 0 1 4 18.7v-3.3A2.6 2.6 0 0 1 5.4 13l3.2-1.7a2.9 2.9 0 0 1 2.7 0l3.3 1.7a2.6 2.6 0 0 1 1.4 2.4v3.3a2.6 2.6 0 0 1-1.4 2.3l-3.2 1.7a2.9 2.9 0 0 1-1.4.3zm0-11l-.9.2-3.2 1.7a1.6 1.6 0 0 0-.9 1.5v3.3a1.6 1.6 0 0 0 .9 1.4l3.2 1.7a1.9 1.9 0 0 0 1.8 0l3.2-1.7a1.6 1.6 0 0 0 .9-1.4v-3.3a1.6 1.6 0 0 0-.9-1.4l-3.2-1.7-.9-.3z\"/> <path d=\"M12.1 17.9l-1.5-.6c-.2-.1-.3-.2-.2-.4.1-.2.6-.7.6-1.2a1.2 1.2 0 0 0-1-1.2 1.2 1.2 0 0 0-1.1 1.3c0 .5.5.9.6 1.2.1.3 0 .3-.2.4l-1.5.6a.6.6 0 0 0-.4.6c0 .3.1.6.7.6h3.6c.6 0 .7-.3.7-.6a.6.6 0 0 0-.3-.7zM20.8 3v9.1H30V3h-9.2zM29 4v2h-7.2V4H29zm-7.1 7.1V7H29v4.1h-7.1zm-1.1 10.8V31H30v-9.1h-9.2zm8.1 1V25h-7.1v-2.1h7.1zM21.8 30v-4H29v4h-7.2zM9 5h2v2H9zm4 0h2v2h-2zm4 0h2v2h-2zM9 27h2v2H9zm4 0h2v2h-2zm4 0h2v2h-2z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-control-panel\"> <path d=\"M31 16H17V2h-1v14H2v1h14v14h1V17h14z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-cricle-check-32\"> <g> <path d=\"M16 2c7.72 0 14 6.28 14 14s-6.28 14-14 14S2 23.72 2 16 8.28 2 16 2zm0-1C7.716 1 1 7.716 1 16c0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\"/> <path d=\"M21.2 12.6l-6.6 6.6-3.8-3.8c-.2-.2-.5-.2-.7 0-.2.2-.2.5 0 .7l4.2 4.2c.1.1.2.1.4.1s.3-.1.4-.1l7-7c.2-.2.2-.5 0-.7-.2-.2-.7-.1-.9 0z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-desktop-32\"> <g transform=\"translate(1 3)\"> <path d=\"M28.68 0H1.32C.59 0 0 .59 0 1.32v18.36C0 20.4.59 21 1.32 21H12v3.001h-2v1h10v-1h-2.01V21h10.69c.73 0 1.32-.6 1.32-1.32V1.32C30 .59 29.41 0 28.68 0zM16.99 24.001H13V21h3.99v3.001zM29 19.68c0 .17-.14.32-.32.32H1.32c-.18 0-.32-.15-.32-.32V17h28v2.68zM29 16H1V1.32c0-.18.14-.32.32-.32h27.36c.18 0 .32.14.32.32V16z\"/> <circle cx=\"15\" cy=\"18.514\" r=\"1\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-desktop-thin\"> <g transform=\"translate(1 3)\"> <path d=\"M28.68 0H1.32C.59 0 0 .59 0 1.32v18.36C0 20.4.59 21 1.32 21H12v3.001h-2v1h10v-1h-2.01V21h10.69c.73 0 1.32-.6 1.32-1.32V1.32C30 .59 29.41 0 28.68 0zM16.99 24.001H13V21h3.99v3.001zM29 19.68c0 .17-.14.32-.32.32H1.32c-.18 0-.32-.15-.32-.32V17h28v2.68zM29 16H1V1.32c0-.18.14-.32.32-.32h27.36c.18 0 .32.14.32.32V16z\"/> <circle cx=\"15\" cy=\"18.514\" r=\"1\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-error-32\"> <g> <path d=\"M16 2c7.72 0 14 6.28 14 14s-6.28 14-14 14S2 23.72 2 16 8.28 2 16 2zm0-1C7.716 1 1 7.716 1 16c0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\"/> <path d=\"M6.5 26.5L26.525 6.475\" stroke=\"#000\" stroke-linecap=\"square\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-error-thin\"> <path d=\"M16 2c7.72 0 14 6.28 14 14s-6.28 14-14 14S2 23.72 2 16 8.28 2 16 2zm0-1C7.716 1 1 7.716 1 16c0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\"/> <path d=\"M6.5 27.207l-.707-.707L26.525 5.768l.707.707z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-four-columns-thin\"> <g transform=\"translate(1 1)\"> <rect width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"8\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"16\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"24\" width=\"6\" height=\"6\" rx=\"1\"/> <rect y=\"8\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"8\" y=\"8\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"16\" y=\"8\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"24\" y=\"8\" width=\"6\" height=\"6\" rx=\"1\"/> <rect y=\"16\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"8\" y=\"16\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"16\" y=\"16\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"24\" y=\"16\" width=\"6\" height=\"6\" rx=\"1\"/> <rect y=\"24\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"8\" y=\"24\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"16\" y=\"24\" width=\"6\" height=\"6\" rx=\"1\"/> <rect x=\"24\" y=\"24\" width=\"6\" height=\"6\" rx=\"1\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-icon-image-32\"> <g> <path d=\"M8.101 12.407c-1.524 0-2.764-1.229-2.764-2.741s1.24-2.741 2.764-2.741c1.524 0 2.719 1.204 2.719 2.741 0 1.537-1.195 2.741-2.719 2.741zm0-4.482c-.973 0-1.764.781-1.764 1.741 0 .96.792 1.741 1.764 1.741.964 0 1.719-.765 1.719-1.741 0-.976-.755-1.741-1.719-1.741z\"/> <path d=\"M2 2v28h28V2H2zm1 1h26v20.96l-2.6-.01-9.41-10.74L5.92 29H3V3zm4.15 25.98l9.93-14.15 8.57 9.8.29.35h.45l2.57-.02v4.02H7.15z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-image-thin\"> <path d=\"M8.101 12.407c-1.524 0-2.764-1.229-2.764-2.741s1.24-2.741 2.764-2.741c1.524 0 2.719 1.204 2.719 2.741 0 1.537-1.195 2.741-2.719 2.741zm0-4.482c-.973 0-1.764.781-1.764 1.741 0 .96.792 1.741 1.764 1.741.964 0 1.719-.765 1.719-1.741 0-.976-.755-1.741-1.719-1.741z\"/> <path d=\"M2 2v28h28V2H2zm1 1h26v20.96l-2.6-.01-9.41-10.74L5.92 29H3V3zm4.15 25.98l9.93-14.15 8.57 9.8.29.35h.45l2.57-.02v4.02H7.15z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-inbox-32\"> <path d=\"M30.1 18.4l-4.2-14a.5.5 0 0 0-.5-.4H6.7c-.3 0-.5.1-.5.4L2 18.4V28a.5.5 0 0 0 .5.5h27.1a.5.5 0 0 0 .5-.5v-9.6zm-1 9.1H3v-8.8L7 5h18l4.1 13.7z\"/> <path d=\"M21.2 6.7H10.8c-.2 0-.4.1-.4.3L6.2 18.4c-.1.2 0 .3.1.5a.5.5 0 0 0 .4.2h3.8a5.7 5.7 0 0 0 5.5 3.2 5.9 5.9 0 0 0 5.6-3.2h3.8a.5.5 0 0 0 .4-.2.9.9 0 0 0 .1-.5L21.7 7a.5.5 0 0 0-.5-.3zm0 11.4c-.2 0-.4.1-.4.3a4.9 4.9 0 0 1-4.8 2.9 4.7 4.7 0 0 1-4.7-2.9.5.5 0 0 0-.5-.3H7.4l3.8-10.4h9.7l3.8 10.4z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-large-size-32\"> <g> <path d=\"M30.5 24a.5.5 0 0 0-.5.5v4.8L19.9 19.1l-.7.7L29.3 30h-4.8a.5.5 0 1 0 0 1H31v-6.5a.5.5 0 0 0-.5-.5zM12.1 19.1L2 29.3v-4.8a.5.5 0 1 0-1 0V31h6.5a.5.5 0 1 0 0-1H2.7l10.2-10.1-.8-.8zM24.5 1a.5.5 0 1 0 0 1h4.8L19.1 12.1l.7.7L30 2.7v4.8a.5.5 0 1 0 1 0V1h-6.5zM7.5 2a.5.5 0 0 0 0-1H1v6.5a.5.5 0 0 0 1 0V2.7l10.1 10.2.7-.7L2.7 2h4.8z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-large-size-thin\"> <path d=\"M30.5 24a.5.5 0 0 0-.5.5v4.8L19.9 19.1l-.7.7L29.3 30h-4.8a.5.5 0 1 0 0 1H31v-6.5a.5.5 0 0 0-.5-.5zm-18.4-4.9L2 29.3v-4.8a.5.5 0 1 0-1 0V31h6.5a.5.5 0 1 0 0-1H2.7l10.2-10.1-.8-.8zM24.5 1a.5.5 0 1 0 0 1h4.8L19.1 12.1l.7.7L30 2.7v4.8a.5.5 0 1 0 1 0V1h-6.5zm-17 1a.5.5 0 0 0 0-1H1v6.5a.5.5 0 0 0 1 0V2.7l10.1 10.2.7-.7L2.7 2h4.8z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-left-below\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <path d=\"M18.1 5.1L5 18.3V8.5a.5.5 0 0 0-.5-.5.5.5 0 0 0-.5.5v11.2l.3.3H16a.5.5 0 0 0 0-1H5.7L18.9 5.9a1.1 1.1 0 0 0 0-.8z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-left-up\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <path d=\"M5.7 5H16a.5.5 0 0 0 .5-.5.5.5 0 0 0-.5-.5H4.3l-.3.3v11.2a.5.5 0 0 0 .5.5.5.5 0 0 0 .5-.5V5.7l13.1 13.2h.8a1.1 1.1 0 0 0 0-.8z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-left\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <path d=\"M20.1 11.6H5.7l6.8-6.9a.5.5 0 1 0-.7-.7l-7.7 7.8a.5.5 0 0 0-.2.4c0 .1.1.2.2.3l8.1 8.1.3.2.4-.2c.2-.1.2-.5 0-.7l-7.4-7.3h14.6a.5.5 0 0 0 0-1z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-maginifying-glass-32\"> <path d=\"M29.9 30.1l-6.5-6.5a12.1 12.1 0 0 0 3.3-8.4 12.3 12.3 0 1 0-4.1 9.1l6.5 6.5h.7a.5.5 0 0 0 .1-.7zM3 15.2C3 8.96 8.06 3.9 14.3 3.9c6.24 0 11.3 5.06 11.3 11.3 0 6.24-5.06 11.3-11.3 11.3C8.06 26.5 3 21.44 3 15.2z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-maginifying-glass-thin\"> <path d=\"M29.9 30.1l-6.5-6.5a12.1 12.1 0 0 0 3.3-8.4 12.3 12.3 0 1 0-4.1 9.1l6.5 6.5h.7a.5.5 0 0 0 .1-.7zM3 15.2C3 8.96 8.06 3.9 14.3 3.9c6.24 0 11.3 5.06 11.3 11.3 0 6.24-5.06 11.3-11.3 11.3C8.06 26.5 3 21.44 3 15.2z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-medium-size-32\"> <g> <path d=\"M6.4 12.6a.5.5 0 0 0-.7-.7l-4.6 4.6 4.6 4.6h.7a.5.5 0 0 0 0-.7L3.1 17h10.1v-1H3.1l3.3-3.4zM26.3 11.9a.5.5 0 0 0-.7.7L29 16H18.8v1H29l-3.4 3.4a.5.5 0 0 0 0 .7h.7l4.6-4.6-4.6-4.6z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-medium-size-thin\"> <path d=\"M6.4 12.6a.5.5 0 0 0-.7-.7l-4.6 4.6 4.6 4.6h.7a.5.5 0 0 0 0-.7L3.1 17h10.1v-1H3.1l3.3-3.4zm19.9-.7a.5.5 0 0 0-.7.7L29 16H18.8v1H29l-3.4 3.4a.5.5 0 0 0 0 .7h.7l4.6-4.6-4.6-4.6z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-mobile-32\"> <g transform=\"translate(8 1)\"> <path d=\"M13.6 0H2.4C1.08 0 0 1.08 0 2.4v25.2C0 28.92 1.08 30 2.4 30h11.2c1.32 0 2.4-1.08 2.4-2.4V2.4C16 1.08 14.92 0 13.6 0zM15 27.6c0 .77-.63 1.4-1.4 1.4H2.4c-.77 0-1.4-.63-1.4-1.4V24h14v3.6zm0-4.6H1V6h14v17zm0-18H1V2.4C1 1.63 1.63 1 2.4 1h11.2c.77 0 1.4.63 1.4 1.4V5z\"/> <circle cx=\"8.5\" cy=\"26.5\" r=\"1.5\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-mobile-thin\"> <g transform=\"translate(8 1)\"> <path d=\"M13.6 0H2.4C1.08 0 0 1.08 0 2.4v25.2C0 28.92 1.08 30 2.4 30h11.2c1.32 0 2.4-1.08 2.4-2.4V2.4C16 1.08 14.92 0 13.6 0zM15 27.6c0 .77-.63 1.4-1.4 1.4H2.4c-.77 0-1.4-.63-1.4-1.4V24h14v3.6zm0-4.6H1V6h14v17zm0-18H1V2.4C1 1.63 1.63 1 2.4 1h11.2c.77 0 1.4.63 1.4 1.4V5z\"/> <circle cx=\"8.5\" cy=\"26.5\" r=\"1.5\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-name-32\"> <path d=\"M16.7 16L29.9 2.9a.5.5 0 1 0-.7-.7L16 15.3 2.9 2.1a.5.5 0 0 0-.7.7L15.3 16 2.1 29.1a.5.5 0 0 0 0 .7h.7L16 16.7l13.1 13.2h.7a.5.5 0 0 0 0-.7L16.7 16z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-one-column-thin\"> <g transform=\"translate(4 1)\"> <rect width=\"24\" height=\"8\" rx=\"1\"/> <rect y=\"11\" width=\"24\" height=\"8\" rx=\"1\"/> <rect y=\"22\" width=\"24\" height=\"8\" rx=\"1\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-oval-32\"> <path d=\"M16 2c7.72 0 14 6.28 14 14s-6.28 14-14 14S2 23.72 2 16 8.28 2 16 2zm0-1C7.716 1 1 7.716 1 16c0 8.284 6.716 15 15 15 8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z\"/> </symbol> <symbol viewBox=\"0 0 32 32\" id=\"icon-pin-thin\"> <path d=\"M16 3a9 9 0 0 0-9 9.08c0 9.08 9 16.86 9 16.86s9-7.78 9-16.86A9 9 0 0 0 16 3zm0 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-plus-32\"> <path d=\"M31 16H17V2h-1v14H2v1h14v14h1V17h14z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-right-below\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <path d=\"M19.5 8a.5.5 0 0 0-.5.5v9.8L5.9 5.1h-.8a1.1 1.1 0 0 0 0 .8L18.3 19H8.5a.5.5 0 0 0 0 1h11.2l.3-.3V8.5a.5.5 0 0 0-.5-.5z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-right-up\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <path d=\"M19.7 4H8.5a.5.5 0 0 0-.5.5.5.5 0 0 0 .5.5h9.8L5.1 18.1a1.1 1.1 0 0 0 0 .8h.8L19 5.7v9.8a.5.5 0 0 0 1 0V4.3z\"/> </symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-right\"> <path d=\"M20.4 1H3.6A2.6 2.6 0 0 0 1 3.6v16.8A2.6 2.6 0 0 0 3.6 23h16.8a2.6 2.6 0 0 0 2.6-2.6V3.6A2.6 2.6 0 0 0 20.4 1zM22 20.4a1.6 1.6 0 0 1-1.6 1.6H3.6A1.6 1.6 0 0 1 2 20.4V3.6A1.6 1.6 0 0 1 3.6 2h16.8A1.6 1.6 0 0 1 22 3.6z\"/> <path d=\"M12.3 4a.5.5 0 1 0-.7.7l7.4 7.4H4.4a.5.5 0 0 0 0 1h14.4L12 19.9c-.2.2-.2.6 0 .7l.3.2.4-.2 7.7-7.7a.8.8 0 0 0 .2-.4l-.2-.3z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-rotate-horizontal-32\"> <g stroke=\"#000\"> <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M2.5 19.872l2.838-2.825 2.849 2.862\"/> <path d=\"M15.028 29.5c-6.337 0-9.685-5.137-9.685-11.474\" stroke-linecap=\"round\"/> <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M29.63 12.072l-2.837 2.825-2.848-2.862\"/> <path d=\"M17.104 2.445c6.336 0 9.685 5.137 9.685 11.474M20.563 9.457v13a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-13a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z\" stroke-linecap=\"round\"/> <path d=\"M12.563 21.457h8M12.563 10.457h8\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-rotate-horizontal-thin\"> <path d=\"M5.336 17.754l-2.483 2.473a.5.5 0 1 1-.706-.709l2.838-2.825a.5.5 0 0 1 .707.002l2.85 2.862a.5.5 0 0 1-.71.705l-2.496-2.508z\"/> <path d=\"M15.028 29a.5.5 0 1 1 0 1C8.726 30 4.843 25.05 4.843 18.026a.5.5 0 1 1 1 0C5.843 24.545 9.34 29 15.028 29zm14.25-17.282a.5.5 0 1 1 .706.708l-2.838 2.825a.5.5 0 0 1-.708-.001l-2.848-2.862a.5.5 0 0 1 .71-.706l2.495 2.508 2.483-2.472z\"/> <path d=\"M17.104 2.945a.5.5 0 1 1 0-1c6.3 0 10.185 4.95 10.185 11.974a.5.5 0 1 1-1 0c0-6.518-3.497-10.974-9.185-10.974zm2.959 6.512a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 .5-.5v-13zm1 0v13a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5v-13a1.5 1.5 0 0 1 1.5-1.5h6c.829 0 1.5.67 1.5 1.5z\"/> <path d=\"M12.563 21.957v-1h8v1zm0-11v-1h8v1z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-rotate-vertical-32\"> <g stroke=\"#000\"> <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12.128 2.5l2.825 2.838-2.862 2.849\"/> <path d=\"M2.5 15.028c0-6.337 5.137-9.685 11.474-9.685\" stroke-linecap=\"round\"/> <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.928 29.63l-2.825-2.837 2.862-2.848\"/> <path d=\"M29.555 17.104c0 6.335-5.137 9.684-11.474 9.684M22.543 20.563h-13a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h13a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1z\" stroke-linecap=\"round\"/> <path d=\"M10.543 12.563v8M21.543 12.563v8\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-rotate-vertical-thin\"> <path d=\"M14.246 5.336l-2.473-2.483a.5.5 0 1 1 .709-.706l2.825 2.838a.5.5 0 0 1-.002.707l-2.862 2.85a.5.5 0 0 1-.705-.71l2.508-2.496z\"/> <path d=\"M3 15.028a.5.5 0 1 1-1 0C2 8.726 6.95 4.843 13.974 4.843a.5.5 0 1 1 0 1C7.455 5.843 3 9.34 3 15.028zm17.282 14.25a.5.5 0 1 1-.708.706l-2.825-2.838a.5.5 0 0 1 .001-.708l2.862-2.848a.5.5 0 0 1 .706.71l-2.508 2.495 2.472 2.483z\"/> <path d=\"M29.055 17.104a.5.5 0 1 1 1 0c0 6.3-4.95 10.184-11.974 10.184a.5.5 0 1 1 0-1c6.518 0 10.974-3.496 10.974-9.184zm-6.512 2.959a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5h-13a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h13zm0 1h-13a1.5 1.5 0 0 1-1.5-1.5v-6a1.5 1.5 0 0 1 1.5-1.5h13a1.5 1.5 0 0 1 1.5 1.5v6c0 .829-.67 1.5-1.5 1.5z\"/> <path d=\"M10.043 12.563h1v8h-1zm11 0h1v8h-1z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-small-size-32\"> <g> <path d=\"M25.5 13a.5.5 0 1 0 0-1h-4.8l7.1-7.1-.7-.7-7.1 7.1V6.5a.5.5 0 1 0-1 0V13h6.5zM6.5 12a.5.5 0 0 0 0 1H13V6.5a.5.5 0 0 0-1 0v4.8L4.9 4.1l-.7.7 7.1 7.2H6.5zM25.5 18.1a.5.5 0 1 1 0 1h-4.8l7.1 7.1-.7.7-7.1-7v4.8a.5.5 0 1 1-1 0v-6.6h6.5zM6.5 19.1a.5.5 0 1 1 0-1H13v6.5a.5.5 0 1 1-1 0v-4.7L4.9 27l-.7-.7 7.1-7.1-4.8-.1z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-small-size-thin\"> <path d=\"M25.5 13a.5.5 0 1 0 0-1h-4.8l7.1-7.1-.7-.7-7.1 7.1V6.5a.5.5 0 1 0-1 0V13h6.5zm-19-1a.5.5 0 0 0 0 1H13V6.5a.5.5 0 0 0-1 0v4.8L4.9 4.1l-.7.7 7.1 7.2H6.5zm19 6.1a.5.5 0 1 1 0 1h-4.8l7.1 7.1-.7.7-7.1-7v4.8a.5.5 0 1 1-1 0v-6.6h6.5zm-19 1a.5.5 0 1 1 0-1H13v6.5a.5.5 0 1 1-1 0v-4.7L4.9 27l-.7-.7 7.1-7.1-4.8-.1z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-tablet-32\"> <g transform=\"translate(4 1)\"> <path d=\"M22.412 30H1.588A1.59 1.59 0 0 1 0 28.412V1.588A1.59 1.59 0 0 1 1.588 0h20.824A1.59 1.59 0 0 1 24 1.588v26.824A1.59 1.59 0 0 1 22.412 30zM1.588 1A.589.589 0 0 0 1 1.588v26.824c0 .324.264.588.588.588h20.824a.589.589 0 0 0 .588-.588V1.588A.589.589 0 0 0 22.412 1H1.588z\"/> <path d=\"M18.483 25H5.517A1.519 1.519 0 0 1 4 23.483V6.517C4 5.68 4.68 5 5.517 5h12.967C19.319 5 20 5.68 20 6.517v16.967A1.52 1.52 0 0 1 18.483 25zM5.517 6A.518.518 0 0 0 5 6.517v16.967c0 .285.232.516.517.516h12.967a.516.516 0 0 0 .516-.517V6.517A.517.517 0 0 0 18.483 6H5.517z\"/> <circle cx=\"12\" cy=\"26.996\" r=\"1.002\"/> <path d=\"M9 1.999h6v2H9z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-tablet-thin\"> <g transform=\"translate(4 1)\"> <path d=\"M22.412 30H1.588A1.59 1.59 0 0 1 0 28.412V1.588A1.59 1.59 0 0 1 1.588 0h20.824A1.59 1.59 0 0 1 24 1.588v26.824A1.59 1.59 0 0 1 22.412 30zM1.588 1A.589.589 0 0 0 1 1.588v26.824c0 .324.264.588.588.588h20.824a.589.589 0 0 0 .588-.588V1.588A.589.589 0 0 0 22.412 1H1.588z\"/> <path d=\"M18.483 25H5.517A1.519 1.519 0 0 1 4 23.483V6.517C4 5.68 4.68 5 5.517 5h12.967C19.319 5 20 5.68 20 6.517v16.967A1.52 1.52 0 0 1 18.483 25zM5.517 6A.518.518 0 0 0 5 6.517v16.967c0 .285.232.516.517.516h12.967a.516.516 0 0 0 .516-.517V6.517A.517.517 0 0 0 18.483 6H5.517z\"/> <circle cx=\"12\" cy=\"26.996\" r=\"1.002\"/> <path d=\"M9 1.999h6v2H9z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-text-32\"> <g> <path d=\"M29.8 11.1a3.3 3.3 0 0 0-4.6 0l-.9.9a.5.5 0 0 0 0 .6l4 4h.6l.9-.9a3.3 3.3 0 0 0 0-4.6zm-.6 4l-.6.6-3.4-3.4.6-.6a2.404 2.404 0 0 1 3.4 3.4zM23.5 13.6a.5.5 0 0 0-.6 0L12.4 24.1 10.5 26v.2l-1.4 5.2a.5.5 0 0 0 .1.4h.4l5.3-1.3h.2l12.3-12.3a.5.5 0 0 0 0-.6l-3.9-4zM11.1 27.2l2.8 2.8-3.8 1 1-3.8zm5.2.9l-1.5 1.5-3.3-3.3 11.7-11.7 3.3 3.3-10.2 10.2zM14.1 19.9l1.7-1.7L10 2.5a.7.7 0 0 0-.7-.5h-.9a.7.7 0 0 0-.7.5L1.1 20.2c-.1.5.1.8.6.8h1a.7.7 0 0 0 .7-.5l1.9-5.2h7.2l1.6 4.6zm-8.6-6.5l2.6-7c.3-.9.7-2.5.7-2.5h.1s.4 1.6.7 2.5l2.5 7H5.5z\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-text-thin\"> <path d=\"M29.8 11.1a3.3 3.3 0 0 0-4.6 0l-.9.9a.5.5 0 0 0 0 .6l4 4h.6l.9-.9a3.3 3.3 0 0 0 0-4.6zm-.6 4l-.6.6-3.4-3.4.6-.6a2.404 2.404 0 0 1 3.4 3.4zm-5.7-1.5a.5.5 0 0 0-.6 0L12.4 24.1 10.5 26v.2l-1.4 5.2a.5.5 0 0 0 .1.4h.4l5.3-1.3h.2l12.3-12.3a.5.5 0 0 0 0-.6l-3.9-4zM11.1 27.2l2.8 2.8-3.8 1 1-3.8zm5.2.9l-1.5 1.5-3.3-3.3 11.7-11.7 3.3 3.3-10.2 10.2zm-2.2-8.2l1.7-1.7L10 2.5a.7.7 0 0 0-.7-.5h-.9a.7.7 0 0 0-.7.5L1.1 20.2c-.1.5.1.8.6.8h1a.7.7 0 0 0 .7-.5l1.9-5.2h7.2l1.6 4.6zm-8.6-6.5l2.6-7c.3-.9.7-2.5.7-2.5h.1s.4 1.6.7 2.5l2.5 7H5.5z\"/> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-theme-thin\"><desc>Created with Sketch.</desc> <!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch -->    <g id=\"icon-theme-thin-theme-thin\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"> <g> <g transform=\"translate(3.000000, 3.000000)\"> <polygon id=\"icon-theme-thin-Fill-1\" fill=\"#333333\" points=\"0 -0.0002 0 23.9998 8 23.9998 8.94 22.9998 1 22.9998 1 0.9998 23 0.9998 23 8.0378 23.036 7.9998 24 7.9998 24 -0.0002\"/> <g id=\"icon-theme-thin-Group-4\" transform=\"translate(10.000000, 9.965700)\"> <mask id=\"icon-theme-thin-mask-2\" fill=\"white\"> <use xlink:href=\"#icon-theme-thin-path-1\"/> </mask>  <path d=\"M15.9102,1.4321 L15.2032,0.7251 L5.4832,10.4451 C4.0882,10.7981 1.0202,12.0231 0.7562,16.0001 C0.7562,16.0001 5.1502,15.2891 6.0262,11.3161 L15.9102,1.4321 Z\" id=\"icon-theme-thin-Fill-2\" fill=\"#333333\" mask=\"url(#icon-theme-thin-mask-2)\"/> </g> <polygon id=\"icon-theme-thin-Fill-5\" fill=\"#333333\" points=\"13.8818 17.7415 13.8818 12.0435 19.2358 12.0435 20.1758 11.0435 12.8818 11.0435 12.8818 18.8035\"/> <path d=\"M4,7.0027 L20,7.0807 L20,4.0007 L4,4.0007 L4,7.0027 Z M21,8.0857 L3,7.9977 L3,3.0007 L21,3.0007 L21,8.0857 Z\" id=\"icon-theme-thin-Fill-6\" fill=\"#333333\"/> <path d=\"M3.956,20.5447 L10.044,20.5447 L10.044,11.9567 L3.956,11.9567 L3.956,20.5447 Z M3.044,21.4567 L10.956,21.4567 L10.956,11.0447 L3.044,11.0447 L3.044,21.4567 Z\" id=\"icon-theme-thin-Fill-7\" fill=\"#333333\"/> </g> </g> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-three-columns-thin\"> <g transform=\"translate(1 1)\"> <rect width=\"8\" height=\"8\" rx=\"1\"/> <rect y=\"11\" width=\"8\" height=\"8\" rx=\"1\"/> <rect y=\"22\" width=\"8\" height=\"8\" rx=\"1\"/> <rect x=\"11\" width=\"8\" height=\"8\" rx=\"1\"/> <rect x=\"11\" y=\"11\" width=\"8\" height=\"8\" rx=\"1\"/> <rect x=\"11\" y=\"22\" width=\"8\" height=\"8\" rx=\"1\"/> <rect x=\"22\" width=\"8\" height=\"8\" rx=\"1\"/> <rect x=\"22\" y=\"11\" width=\"8\" height=\"8\" rx=\"1\"/> <rect x=\"22\" y=\"22\" width=\"8\" height=\"8\" rx=\"1\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-two-columns-thin\"> <g transform=\"translate(4 1)\"> <rect width=\"11\" height=\"8\" rx=\"1\"/> <rect y=\"11\" width=\"11\" height=\"8\" rx=\"1\"/> <rect y=\"22\" width=\"11\" height=\"8\" rx=\"1\"/> <rect x=\"13\" width=\"11\" height=\"8\" rx=\"1\"/> <rect x=\"13\" y=\"11\" width=\"11\" height=\"8\" rx=\"1\"/> <rect x=\"13\" y=\"22\" width=\"11\" height=\"8\" rx=\"1\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-warning-32\"> <g transform=\"translate(0 2)\"> <path d=\"M30.92 29H1.1a.5.5 0 0 1-.44-.74l14.91-28a.52.52 0 0 1 .88 0l14.91 28a.5.5 0 0 1-.44.74zm-29-1h28.17L16 1.56 1.92 28z\"/> <path d=\"M16 21.25a.75.75 0 0 1-.75-.75v-11a.75.75 0 1 1 1.5 0v11a.75.75 0 0 1-.75.75z\"/> <circle cx=\"16\" cy=\"24\" r=\"1\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-warning-thin\"> <g transform=\"translate(0 2)\"> <path d=\"M30.92 29H1.1a.5.5 0 0 1-.44-.74l14.91-28a.52.52 0 0 1 .88 0l14.91 28a.5.5 0 0 1-.44.74zm-29-1h28.17L16 1.56 1.92 28z\"/> <path d=\"M16 21.25a.75.75 0 0 1-.75-.75v-11a.75.75 0 1 1 1.5 0v11a.75.75 0 0 1-.75.75z\"/> <circle cx=\"16\" cy=\"24\" r=\"1\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-watch-close-32\"> <g transform=\"translate(3 3)\"> <circle stroke=\"#000\" cx=\"13\" cy=\"13\" r=\"13\"/> <circle cx=\"13\" cy=\"13\" r=\"11\"/> <path d=\"M8.417 13.752l3.343 5.37 6.753-11.528\" stroke=\"#FFF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/> </g> </symbol><symbol viewBox=\"0 0 32 32\" id=\"icon-x-thin\"> <path d=\"M16.7 16L29.9 2.9a.5.5 0 1 0-.7-.7L16 15.3 2.9 2.1a.5.5 0 0 0-.7.7L15.3 16 2.1 29.1a.5.5 0 0 0 0 .7h.7L16 16.7l13.1 13.2h.7a.5.5 0 0 0 0-.7L16.7 16z\"/> </symbol><symbol id=\"icon-tag\" viewBox=\"0 0 31 13\"><path d=\"M81.595 23.833L72 19.774v-2.54l9.595-4.05v3.046l-5.831 2.283 5.831 2.291v3.029zM88.196 12h1.756l-3.106 13h-1.738l3.088-13zm5.209 11.833v-3.029l5.831-2.291-5.831-2.283v-3.046l9.595 4.05v2.54l-9.595 4.059z\" transform=\"translate(-203 -541) translate(111 92) translate(16 407) translate(4 30)\"/></symbol><symbol id=\"icon-www\" viewBox=\"0 0 54 10\"><path d=\"M61 14h3.463l1.503 5.88L67.864 14h3.226l1.969 5.88L74.562 14h3.436l-3.436 9.334H71.38l-1.89-5.616-1.828 5.616h-3.2L61 14zm18.29 0h3.462l1.503 5.88L86.154 14h3.225l1.969 5.88L92.85 14h3.436l-3.436 9.334h-3.182l-1.89-5.616-1.828 5.616h-3.199L79.29 14zm18.289 0h3.462l1.503 5.88 1.899-5.88h3.225l1.97 5.88L111.14 14h3.437l-3.437 9.334h-3.182l-1.89-5.616-1.827 5.616h-3.2L97.58 14z\" transform=\"translate(-192 -624) translate(111 92) translate(17 488) translate(3 30)\"/></symbol><symbol viewBox=\"0 0 32 32\" id=\"bzg-suitcase\"><g><path d=\"M20,6H16V4a1,1,0,0,0-1-1H9A1,1,0,0,0,8,4V6H2A1,1,0,0,0,1,7V18a3,3,0,0,0,3,3H22a1,1,0,0,0,1-1V9A3,3,0,0,0,20,6ZM10,5h4V6H10ZM20,8a1,1,0,0,1,1,1v.5l-3.07,2.3a1,1,0,0,1-.6.2H6.67a1,1,0,0,1-.6-.2L3,9.5V8ZM4,19a1,1,0,0,1-1-1V12l1.87,1.4a3,3,0,0,0,1.8.6H10a1,1,0,0,0,1,1h2a1,1,0,0,0,1-1h3.33a3,3,0,0,0,1.8-.6L21,12v7Z\"/></g></symbol><symbol viewBox=\"0 0 32 32\" id=\"bzg-collection\"><g><path d=\"M20,1H7A1,1,0,0,0,6,2V8H2A1,1,0,0,0,1,9V20a3,3,0,0,0,3,3H17a1,1,0,0,0,1-1V16.33h4a1,1,0,0,0,1-1V4A3,3,0,0,0,20,1Zm0,2a1,1,0,0,1,1,1V5H8V3Zm-4,7v2H3V10Zm0,11H4a1,1,0,0,1-1-1V14H16Zm5-6.67H18V9a1,1,0,0,0-1-1H8V7H21Z\"/></g></symbol><symbol viewBox=\"0 0 32 32\" id=\"bzg-search\"><g><path d=\"M22.71,21.29,17,15.61A9,9,0,1,0,15.61,17l5.68,5.68a1,1,0,0,0,1.42,0A1,1,0,0,0,22.71,21.29ZM10,17a7,7,0,1,1,7-7A7,7,0,0,1,10,17Z\"/></g></symbol></svg><svg xmlns=\"http://www.w3.org/2000/svg\" display=\"none\" width=\"0\" height=\"0\" id=\"iconsGenome\"><defs/><symbol id=\"icon-medium-menu\" viewBox=\"0 0 32 28\"><path d=\"M22 15h28a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H22a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm0 10h28a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H22a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm0 10h28a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H22a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2z\" transform=\"translate(-1581 -229) translate(1459 33) translate(14 181) translate(88)\"/></symbol><symbol id=\"icon-large-menu\" viewBox=\"0 0 40 28\"><path d=\"M18 15h36a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H18a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm0 10h36a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H18a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm0 10h36a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H18a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2z\" transform=\"translate(-1665 -229) translate(1459 33) translate(14 181) translate(176)\"/></symbol><symbol id=\"icon-small-menu\" viewBox=\"0 0 24 28\"><path d=\"M26 15h20a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H26a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm0 10h20a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H26a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm0 10h20a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H26a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2z\" transform=\"translate(-1497 -229) translate(1459 33) translate(14 181)\"/></symbol><symbol id=\"arrow-left\" viewBox=\"0 0 16 16\"><path d=\"M11 15a1 1 0 0 1-.71-.29l-6-6a1 1 0 0 1 0-1.42l6-6a1 1 0 1 1 1.42 1.42L6.42 8l5.29 5.29A1 1 0 0 1 12 14a1 1 0 0 1-1 1z\"/></symbol><symbol id=\"arrow-right\" viewBox=\"0 0 16 16\"><path d=\"M5 15a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L9.58 8 4.29 2.71A1 1 0 0 1 4 2a1 1 0 0 1 .29-.71 1 1 0 0 1 1.42 0l6 6a1 1 0 0 1 0 1.42l-6 6A1 1 0 0 1 5 15z\"/></symbol><symbol id=\"bzg-clear-circle-2\" viewBox=\"0 0 16 16\"><path d=\"M10.71 5.29a1 1 0 0 0-1.42 0L8 6.59l-1.29-1.3a1 1 0 0 0-1.42 1.42L6.59 8l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L8 9.41l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L9.41 8l1.3-1.29a1 1 0 0 0 0-1.42z\"/><path d=\"M8 1a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm0 12a5 5 0 1 1 5-5 5 5 0 0 1-5 5z\"/></symbol><symbol id=\"bzg-check-mark-2\" viewBox=\"0 0 16 16\"><path d=\"M6 13a1.05 1.05 0 0 1-.71-.29l-3-3a1 1 0 0 1 1.42-1.42L6 10.54l6.3-7.2a1 1 0 1 1 1.5 1.32l-7 8A1 1 0 0 1 6 13z\"/></symbol><symbol id=\"bzg-in-progress\" viewBox=\"0 0 16 16\"><path d=\"M8 5a1 1 0 0 1-1-1V2a1 1 0 0 1 2 0v2a1 1 0 0 1-1 1zM8 15a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v2a1 1 0 0 1-1 1zM10.83 6.17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42l1.42-1.41A1 1 0 0 1 13 4.46l-1.46 1.42a1 1 0 0 1-.71.29zM3.76 13.24a1 1 0 0 1-.71-.24 1 1 0 0 1 0-1.41l1.41-1.42a1 1 0 1 1 1.42 1.42L4.46 13a1 1 0 0 1-.7.24zM14 9h-2a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2zM4 9H2a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2zM12.24 13.24a1 1 0 0 1-.7-.29l-1.42-1.41a1 1 0 1 1 1.42-1.42L13 11.54A1 1 0 0 1 13 13a1 1 0 0 1-.76.24z\"/></symbol></svg>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'bs-statics',\r\n    template: ''\r\n})\r\nexport class StaticsComponent {\r\n    constructor() {\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'bs-root',\r\n  templateUrl: './render.component.html',\r\n  styleUrls: ['./render.component.scss'],\r\n})\r\nexport class RenderComponent {\r\n  constructor(private _translateService: TranslateService) {\r\n    // Set default language\r\n    const defaultLanguage = this._translateService.getBrowserLang();\r\n    this._translateService.setDefaultLang(defaultLanguage);\r\n  }\r\n}\r\n","<bs-icons-16></bs-icons-16>\r\n<bs-icons-32></bs-icons-32>\r\n<bs-statics></bs-statics>\r\n<div id=\"bs-renderer-app\" class=\"bs-render\">\r\n  <router-outlet></router-outlet>\r\n</div>\r\n<ng-progress [color]=\"'#7A98B8'\" [spinner]=\"false\"></ng-progress>\r\n","\r\nexport class CacheService {\r\n    private static cache = [];\r\n\r\n    public static get(method, key) {\r\n        const fullKey = this.getFullKey(method, key);\r\n        return this.cache[fullKey];\r\n    }\r\n\r\n    public static add(method, key, value) {\r\n        const fullKey = this.getFullKey(method, key);\r\n        this.cache[fullKey] = value;\r\n    }\r\n\r\n    public static delete(method, key) {\r\n        const fullKey = this.getFullKey(method, key);\r\n        delete this.cache[fullKey];\r\n    }\r\n\r\n    public static getCacheKey(_arguments) {\r\n        const args = Array.prototype.slice.call(_arguments);\r\n        const key = _.filter(args, a => {\r\n            const type = typeof (a);\r\n            return type === 'number' || type === 'string' || type === 'boolean';\r\n        }).join('_');\r\n        return key;\r\n    }\r\n\r\n    private static getFullKey(method, key) {\r\n        return method + '-' + key;\r\n    }\r\n}\r\n\r\n// This only work with promises\r\nexport function Cache() {\r\n    return (target, method, descriptor) => {\r\n\r\n        // Save original\r\n        if (descriptor === undefined) {\r\n          descriptor = Object.getOwnPropertyDescriptor(target, method);\r\n        }\r\n        const _originalMethod = descriptor.value;\r\n\r\n        // Override to the function\r\n        descriptor.value = function(): any {\r\n            const key = CacheService.getCacheKey(arguments);\r\n\r\n            // First check in cache\r\n            let result = CacheService.get(method, key);\r\n            if (result) {\r\n              return result;\r\n            }\r\n\r\n            result = _originalMethod.apply(this, arguments);\r\n\r\n            // Check if result is promise or not\r\n            if (result instanceof Promise) {\r\n              (result as Promise<any>).then(resultIt => CacheService.add(method, key, resultIt));\r\n            } else {\r\n              CacheService.add(method, key, result);\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        // Return modified method\r\n        return descriptor;\r\n    };\r\n}\r\n","import { Injectable } from '@angular/core';\r\n// tslint:disable-next-line: import-blacklist\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class RestApiSevice {\r\n\r\n  protected headers: HttpHeaders;\r\n  protected access_token: string;\r\n\r\n  constructor(private _http: HttpClient) {\r\n    // Add default headers\r\n    this.headers = new HttpHeaders();\r\n    this.headers = this.headers.set('Content-Type', 'application/json');\r\n  }\r\n\r\n  public get(request: RestApiRequest | any, isOctetStream = false): Observable<any> {\r\n    // Assertions\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    let headers = null;\r\n    if (isOctetStream) {\r\n      headers = _.cloneDeep(this.headers);\r\n      headers = headers.set('content-type', 'application/json');\r\n      headers = headers.set('responseType', 'application/octet-stream');\r\n    }\r\n\r\n    // Call http get\r\n    return this._http.get(url, { headers: headers ? headers : this.headers });\r\n  }\r\n\r\n  public getFile(request: RestApiRequest | any): Observable<any> {\r\n    // Assertions\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    // Call http get\r\n    return this._http.get(url, { headers: this.headers, responseType: 'blob' });\r\n  }\r\n\r\n  public post(request: RestApiRequest | any): Observable<any> {\r\n    // Assertions\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    // Call http post\r\n    return this._http.post(url, JSON.stringify(request.body), { headers: this.headers });\r\n  }\r\n\r\n  public postFile(request: RestApiRequest | any, file, type) {\r\n\r\n    let headers = _.cloneDeep(this.headers);\r\n    if (type) {\r\n      headers = headers.set('content-type', type);\r\n    }\r\n\r\n    // Assertions\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    // Call http get\r\n    return this._http.post(url, file, { headers });\r\n  }\r\n\r\n  public postBlob(request: RestApiRequest | any, contentTypeValue?: string) {\r\n    let headers = _.cloneDeep(this.headers);\r\n    headers = headers.set('content-type', 'application/json');\r\n    headers = headers.set('responseType', contentTypeValue ? contentTypeValue : 'Blob');\r\n\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n\r\n    if (!request.body) {\r\n      throw new Error('Body is not set, please review your code');\r\n    }\r\n\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    return this._http.post(url, request.body, { headers, responseType: 'blob' });\r\n  }\r\n\r\n  public postFormData(request: RestApiRequest | any) {\r\n\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n\r\n    if (!request.body) {\r\n      throw new Error('Body is not set, please review your code');\r\n    }\r\n\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    return this._http.post(url, request.body);\r\n  }\r\n\r\n  public put(request: RestApiRequest | any): Observable<any> {\r\n    // Assertions\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    // Call http put\r\n    return this._http.put(url, JSON.stringify(request.body), { headers: this.headers });\r\n  }\r\n\r\n  public delete(request: RestApiRequest | any): Observable<any> {\r\n    // Assertions\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    // Call http delte\r\n    return this._http.delete(url, { headers: this.headers });\r\n  }\r\n\r\n  public patch(request: RestApiRequest | any) {\r\n    // Assertions\r\n    if (!request.url) {\r\n      throw new Error('URL is not set, please review your code');\r\n    }\r\n\r\n    const url = this.resolveUrlFromParameters(request);\r\n\r\n    // Call http get\r\n    return this._http.patch(url, JSON.stringify(request.body), { headers: this.headers });\r\n  }\r\n\r\n  private resolveUrlFromParameters(request: RestApiRequest | any): string {\r\n    // Create url changing path and query string\r\n    let url = request.url;\r\n    if (request.parameters) {\r\n      for (const k in request.parameters) {\r\n        if (request.parameters.hasOwnProperty(k)) {\r\n          url = url.replace('{' + k + '}', request.parameters[k]);\r\n        }\r\n      }\r\n    }\r\n    if (request.queryParams) {\r\n      url = `${url}?${this.buildQuery(request.queryParams)}`;\r\n    }\r\n    return url;\r\n  }\r\n\r\n  private buildQuery(params) {\r\n    const filterArray = params ? Object.keys(params)\r\n      .filter(paramKey => `${params[paramKey]}`)\r\n      .map(paramKey => `${paramKey}=${params[paramKey]}`) : [];\r\n    return filterArray.length > 0 ? `${filterArray.join('&')}` : '';\r\n  }\r\n}\r\n\r\nclass RestApiRequest {\r\n  url: string;\r\n  parameters: Array<any>;\r\n  body: any;\r\n}\r\n\r\n","import {Injectable} from '@angular/core';\r\n\r\n@Injectable()\r\nexport class StateSnapshotService {\r\n  private _site: ISite;\r\n  private _siteVersion: string;\r\n  private _page: IPageState;\r\n  private _pages: Array<IBasicPage>;\r\n  private _navigationContext: Array<INavigationContext> = [];\r\n\r\n  constructor() {\r\n  }\r\n  public setSiteVersion(siteVersion: string) {\r\n    this._siteVersion = siteVersion;\r\n  }\r\n  public setSite(site: ISite) {\r\n   this._site = site;\r\n  }\r\n  public setPage(page: IPageState) {\r\n    this._page = page;\r\n  }\r\n  public setPages(pages: Array<IBasicPage>) {\r\n    this._pages = pages;\r\n  }\r\n  public setNavigationContext(navigationContext: Array<INavigationContext>) {\r\n    this._navigationContext = navigationContext;\r\n  }\r\n\r\n  public getSiteVersion(): string {\r\n    return this._siteVersion;\r\n  }\r\n\r\n  public getSite(): ISite {\r\n    return this._site;\r\n  }\r\n\r\n  public getPage(): IPageState {\r\n    return this._page;\r\n  }\r\n\r\n\r\n  public getPages() {\r\n    return this._pages;\r\n  }\r\n\r\n\r\n  public addNavigationContext(context: any) {\r\n    this._navigationContext.push(context);\r\n  }\r\n\r\n  public getNavigationContext() {\r\n    return this._navigationContext;\r\n  }\r\n\r\n  public lastNavigationContext() {\r\n    return _.last(this._navigationContext);\r\n  }\r\n\r\n  public popNavigationContext() {\r\n    return this._navigationContext.pop();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { RestApiSevice } from 'app/common/services/oauth/rest-api.service';\r\nimport { Cache } from './../../common/decorators/cache';\r\nimport { StateSnapshotService } from 'app/common/services/sites/state-snapshots.service';\r\n\r\n@Injectable()\r\nexport class BizagiDataService {\r\n  private endpoints: any = {\r\n    userprofile: 'api/bizagi/userprofile',\r\n    stakeholders: 'api/bizagi/stakeholders',\r\n    collectionsdata: 'api/bizagi/collections/{collectionId}',\r\n    casesdata: 'api/bizagi/cases/{processId}',\r\n    searchresultsdata: 'api/bizagi/searchresults/{search}',\r\n    inboxcases: 'api/bizagi/inboxcases',\r\n    relevants: 'api/bizagi/relevants',\r\n    contextnavigationdata: 'api/bizagi/navigations/{connectionEntityId}', // list result from an entity\r\n    navigationdata: 'api/bizagi/navigationData', // get entity data\r\n    workitemsData: 'api/bizagi/cases/{processId}/case/{caseId}/workitems',\r\n    process: 'api/bizagi/workportal/processes',\r\n    myCasesDefault: 'api/bizagi/workportal/mycasesdefault',\r\n    myCasesProcesses: 'api/bizagi/workportal/processes',\r\n    myCasesDataWithHeaders: 'api/bizagi/workportal/mycases',\r\n    myCasesById: 'api/bizagi/inboxcasesById',\r\n    currentUserGuid: 'api/sites/private/rootBPM/Rest/Users/CurrentUserGuid'\r\n  };\r\n\r\n  constructor(protected _restApiService: RestApiSevice, private _stateSnapshotService: StateSnapshotService) { }\r\n\r\n  @Cache()\r\n  public async getUserProfile(url: string): Promise<IUserProfile> {\r\n    const response = await this._restApiService\r\n      .post({\r\n        url: this.endpoints.userprofile,\r\n        body: {\r\n          url,\r\n        },\r\n      })\r\n      .toPromise();\r\n    return response.user as IUserProfile;\r\n  }\r\n\r\n  @Cache()\r\n  public async getStakeholders(url: string): Promise<IStakeholder[]> {\r\n    const response = await this._restApiService\r\n      .post({\r\n        url: this.endpoints.stakeholders,\r\n        body: {\r\n          url,\r\n        },\r\n      })\r\n      .toPromise();\r\n    return response.stakeholders as IStakeholder[];\r\n  }\r\n\r\n  public async getCollection(source: string, parameters: ICollectionDataParams): Promise<IBizagiDataResult> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.collectionsdata,\r\n        parameters: {\r\n          collectionId: parameters.collectionId,\r\n        },\r\n        body: {\r\n          url: source,\r\n          value: parameters.value || undefined,\r\n          xpath: parameters.value ? parameters.xpath : undefined,\r\n          rows: parameters.pagination ? parameters.pagination.rows : 10,\r\n          from: parameters.pagination ? parameters.pagination.from : 0,\r\n          mappingType: parameters.mappingType ? parameters.mappingType.toLowerCase() : undefined\r\n        }\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  public async getCases(source: string, parameters: ICaseDataParams): Promise<IBizagiDataResult> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.casesdata,\r\n        parameters: {\r\n          processId: parameters.processId,\r\n        },\r\n        body: {\r\n          url: source,\r\n          value: parameters.value || undefined,\r\n          xpath: parameters.value ? parameters.xpath : undefined,\r\n          rows: parameters.pagination ? parameters.pagination.rows : 10,\r\n          from: parameters.pagination ? parameters.pagination.from : 0,\r\n          mappingType: parameters.mappingType ? parameters.mappingType.toLowerCase() : undefined\r\n        }\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  public async getWorkitems(source: string, processId: string, caseId: string): Promise<IBizagiCaseWorkitems> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.workitemsData,\r\n        parameters: {\r\n          processId,\r\n          caseId,\r\n        },\r\n        body: {\r\n          url: source,\r\n        },\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  public async getBizagiUser(): Promise<any> {\r\n    return this._restApiService\r\n      .get({\r\n        url: this.endpoints.currentUserGuid,\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n    });\r\n  }\r\n\r\n  public async getSearchResults(source: string, parameters: ISearchDataParams): Promise<IBizagiDataResult> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.searchresultsdata,\r\n        parameters: {\r\n          search: parameters.searchId,\r\n        },\r\n        body: {\r\n          url: source,\r\n          value: parameters.value || undefined,\r\n          xpath: parameters.value ? parameters.xpath : undefined,\r\n          rows: parameters.pagination ? parameters.pagination.rows : 10,\r\n          from: parameters.pagination ? parameters.pagination.from : 0,\r\n          mappingType: parameters.mappingType ? parameters.mappingType.toLowerCase() : undefined\r\n        }\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  // Get list result from an entity context\r\n  public async getContextNavigations(source: string, parameters: any, pagination: IPagination): Promise<IBizagiDataResult> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.contextnavigationdata,\r\n        parameters: {\r\n          connectionEntityId: parameters['connectionEntityId'],\r\n        },\r\n        body: {\r\n          url: source,\r\n          value: parameters.value || undefined,\r\n          xpath: parameters.value ? parameters.xpath : undefined,\r\n          connectionType: parameters.connectionType,\r\n          rootConnectionType: parameters.rootConnectionType,\r\n          key: parameters.key,\r\n          navigationLevels: parameters.navigationLevels,\r\n          rows: pagination ? pagination.rows : 10,\r\n          from: pagination ? pagination.from : 0,\r\n          mappingType: parameters.mappingType ? parameters.mappingType.toLowerCase() : undefined\r\n        },\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  public async getInbox(source: string, parameters: any): Promise<IBizagiDataResult> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.inboxcases,\r\n        parameters: {},\r\n        body: {\r\n          url: source,\r\n          filter: parameters.filter || undefined,\r\n          state: parameters.state || undefined,\r\n          orderby: parameters.orderby || undefined,\r\n          rows: parameters.pagination ? parameters.pagination.rows : 10,\r\n          from: parameters.pagination ? parameters.pagination.from : 0,\r\n        },\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n\r\n  public getDataByCaseId(source: string, caseId: string): Promise<IBizagiDataResult> {\r\n    return this._restApiService\r\n      .post({\r\n        url: `${this.endpoints.myCasesById}/${caseId}`,\r\n        body: {\r\n          url: source,\r\n        },\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n\r\n  public async getMyCases(source: string, parameters: any): Promise<IBizagiDataResult> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.myCasesDefault,\r\n        body: {\r\n          url: source,\r\n          filter: parameters.filter || undefined,\r\n          caseState: parameters.state || undefined,\r\n          orderby: parameters.orderby || undefined,\r\n          ordertype: parameters.ordertype || undefined,\r\n          processes: parameters.processes || [],\r\n          rows: parameters.pagination ? parameters.pagination.rows : 10,\r\n          from: parameters.pagination && parameters.pagination.from > 0? parameters.pagination.from : 0\r\n        },\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  public async getRelevants(source: string): Promise<IBizagiDataResult> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.relevants,\r\n        parameters: {},\r\n        body: {\r\n          url: source,\r\n        },\r\n      })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  // Get entity data\r\n  public async getNavigationData(source: string, navigationContext: Array<INavigationContext>): Promise<any> {\r\n    return this._restApiService\r\n      .post({\r\n        url: this.endpoints.navigationdata,\r\n        body: {\r\n          url: source,\r\n          navigationContext,\r\n        },\r\n      })\r\n      .toPromise();\r\n  }\r\n\r\n  public getProcesses() {\r\n    const site = this._stateSnapshotService.getSite();\r\n    const url = (_.first(_.values(site.environments[site.defaultEnvironment].projects)) as any).url;\r\n    const response = this._restApiService.post({\r\n      url: this.endpoints.myCasesProcesses,\r\n      body: {\r\n        url\r\n      }\r\n    }).map((res) => res.processes);\r\n    return response;\r\n  }\r\n\r\n  public getDataByProcessId(source: string, parameters: any, processId: string) {\r\n    const response = this._restApiService.post({\r\n      url: `${this.endpoints.myCasesDataWithHeaders}/${processId}`,\r\n      body: {\r\n        url: source,\r\n        filter: parameters.filter || undefined,\r\n        state: parameters.state || undefined,\r\n        orderby: parameters.orderby || undefined,\r\n        ordertype: parameters.ordertype || undefined,\r\n        rows: parameters.pagination ? parameters.pagination.rows : 10,\r\n        from: parameters.pagination ? parameters.pagination.from : 0\r\n      }\r\n    });\r\n    return response.toPromise();\r\n  }\r\n}\r\n","import {Mutex} from 'async-mutex';\r\nimport 'rxjs/add/observable/fromPromise';\r\n\r\nexport function Lock() {\r\n    return (target, method, descriptor) => {\r\n\r\n        // Save original\r\n        if (descriptor === undefined) {\r\n          descriptor = Object.getOwnPropertyDescriptor(target, method);\r\n        }\r\n        const _originalMethod = descriptor.value;\r\n        const _mutex = new Mutex();\r\n\r\n        // Override to the function\r\n        descriptor.value = function(): any {\r\n            const that = this\r\n            const methodArguments = arguments;\r\n\r\n            // Mutex returns a promise, so we need to convert it to observable\r\n            const promise = _mutex.runExclusive(() => new Promise( (resolve, reject) => {\r\n                const result = _originalMethod.apply(that, methodArguments);\r\n\r\n                // Check if result is observable\r\n                if (result instanceof Promise) {\r\n                    (result as Promise<any>).then(resultIt => resolve(resultIt))\r\n                                          .catch(err => reject(err));\r\n                } else {\r\n                  resolve(result);\r\n                }\r\n            }));\r\n\r\n            return promise;\r\n        };\r\n\r\n        // Return modified method\r\n        return descriptor;\r\n    };\r\n}\r\n","\r\nexport class GlobalCompatibility {\r\n\r\n    public static supportPageChanges(page: IPage): IPage {\r\n        // Hero Image\r\n        page = this.heroImageChanges(page);\r\n        return page;\r\n    }\r\n\r\n    private static heroImageChanges(page: IPage) {\r\n\r\n        if (page?.hero?.parameters && page?.hero?.parameters.heroImage) {\r\n            page.hero.styles = {\r\n                showHeroImage: page.hero.styles.showHeroImage,\r\n                heroImageHeight: page.hero.styles.heroImageHeight || 550,\r\n                heroSpace: 'fluid',\r\n                scale: 'tofill',\r\n                scaleProportionally: 50,\r\n                imgOpacity: 100,\r\n                imgColorOpacity: 0,\r\n                imgColorBackgroundOpacity: 'transparent',\r\n                backgroundPosition: 'center',\r\n                heroImage: page.hero.parameters.heroImage\r\n\r\n            };\r\n            delete page.hero.parameters;\r\n        }\r\n\r\n        return page;\r\n    }\r\n}\r\n","import { map } from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { Lock } from '../../common/decorators/lock';\r\nimport { Cache } from '../../common/decorators/cache';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { RestApiSevice } from 'app/common/services/oauth/rest-api.service';\r\nimport { GlobalCompatibility } from '../../common/misc/global-compatibility';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class PublishedSiteService implements IPublishedSiteService {\r\n  private endpoints: any = {\r\n    sites: 'api/publishedSites',\r\n    site: 'api/publishedSites/{publishedSiteName}',\r\n    page: 'api/publishedSites/{publishedSiteName}/pages/{pageName}',\r\n    pages: 'api/publishedSites/{publishedSiteName}/pages',\r\n    categories: 'api/publishedSites/{publishedSiteName}/pages/{pageName}/searchCategories',\r\n    resourcesAll: 'api/publishedSites/resources/all/{siteId}',\r\n    getResource: 'api/publishedSites/resources/{resourceId}',\r\n    isPrivatePage: 'api/publishedSites/{publishedSiteName}/pages/{pageName}/isPrivate',\r\n  };\r\n\r\n  private CACHE_SITE_PREFIX = 'SITE_';\r\n  private CACHE_SITEPAGES_PREFIX = 'SITEPAGES_';\r\n  private CACHE_PAGE_PREFIX = 'PAGE_';\r\n\r\n  constructor(protected _restApiService: RestApiSevice) {}\r\n\r\n  public async getSites(): Promise<ISite[]> {\r\n    const response = await this._restApiService\r\n      .get({\r\n        url: this.endpoints.sites,\r\n      })\r\n      .toPromise();\r\n    return response.publishedSites as ISite[];\r\n  }\r\n\r\n  @Lock()\r\n  @Cache()\r\n  public async getSite(siteName: string): Promise<ISite> {\r\n    const response = await this._restApiService\r\n      .get({\r\n        url: this.endpoints.site,\r\n        parameters: {\r\n          publishedSiteName: siteName,\r\n        },\r\n      })\r\n      .toPromise();\r\n    return response.site as ISite;\r\n  }\r\n\r\n  @Lock()\r\n  @Cache()\r\n  public async getPage(siteName: string, pageName: string): Promise<IPage> {\r\n    const response = await this._restApiService\r\n      .get({\r\n        url: this.endpoints.page,\r\n        parameters: {\r\n          publishedSiteName: siteName,\r\n          pageName,\r\n        },\r\n      })\r\n      .pipe(\r\n        map(responseService => {\r\n          return GlobalCompatibility.supportPageChanges(responseService.page);\r\n        })\r\n      )\r\n      .toPromise();\r\n    return response as IPage;\r\n  }\r\n\r\n  @Cache()\r\n  public async getPages(siteName: string): Promise<Array<IBasicPage>> {\r\n    const response = await this._restApiService\r\n      .get({\r\n        url: this.endpoints.pages,\r\n        parameters: {\r\n          publishedSiteName: siteName,\r\n        },\r\n      })\r\n      .pipe(\r\n        map(responseService => {\r\n          return responseService.pages;\r\n        })\r\n      )\r\n      .toPromise();\r\n    return response;\r\n  }\r\n\r\n  public getResources(siteId: string): Promise<ISiteResource[]> {\r\n    const response = this._restApiService.get({\r\n      url: this.endpoints.resourcesAll,\r\n      parameters: {\r\n        siteId,\r\n      },\r\n    });\r\n    return response.toPromise();\r\n  }\r\n\r\n  public getIsPrivatePage(publishedSiteName: string, pageName: string): Promise<boolean> {\r\n    const response = this._restApiService.get({\r\n      url: this.endpoints.isPrivatePage,\r\n      parameters: {\r\n        publishedSiteName,\r\n        pageName\r\n      },\r\n    });\r\n    return response.toPromise();\r\n  }\r\n\r\n  @Cache()\r\n  public getResource(resourceId: string): Promise<ILanguageResource> {\r\n    const response = this._restApiService.get({\r\n      url: this.endpoints.getResource,\r\n      parameters: {\r\n        resourceId,\r\n      },\r\n    });\r\n    return response.toPromise();\r\n  }\r\n\r\n  @Cache()\r\n  public async getControlCategories(siteName: string, pageName: string, controlXpaths: {[key: string]: string}): Promise<Array<string>> {\r\n      const response = await this._restApiService.post({\r\n        url: this.endpoints.categories,\r\n        parameters: {\r\n          publishedSiteName: siteName,\r\n          pageName\r\n        },\r\n        body: controlXpaths\r\n      }).pipe(map((responseService) => {\r\n        return responseService.categories as Array<string>;\r\n      })).toPromise();\r\n      return response;\r\n  }\r\n\r\n}\r\n","<div class=\"bs-not-found\">\r\n  <h1 class=\"bs-not-found__404\">\r\n    404\r\n  </h1>\r\n  <small class=\"bs-not-found__description\">{{\"messages.warning.SOMETHING_IS_MISSING\" | translate }}</small>\r\n  <p class=\"bs-not-found__subtitle\">{{\"messages.warning.PAGE_NOT_FOUND\" | translate}}</p>\r\n  <button *ngIf=\"showGoBack\"  class=\"bs-not-found__button\" (click)=\"goBack()\">{{\"messages.buttons.GO_BACK\" | translate}}</button>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'bs-not-found',\r\n  templateUrl: './not-found.component.html',\r\n  styleUrls: ['./not-found.component.scss']\r\n})\r\nexport class NotFoundComponent {\r\n  public showGoBack = false;\r\n  constructor(private _location: Location, private router: Router) {\r\n    if (history.length > 4 && this.router.navigated) {\r\n      this.showGoBack = true;\r\n    }\r\n  }\r\n\r\n\r\n  public goBack() {\r\n    this._location.back();\r\n  }\r\n}\r\n","import { Subscription } from 'rxjs';\r\nexport class Global {\r\n\r\n  public static trackingEvents = {\r\n    DASHBOARD_DELETE_SITE: 'Dashboard.ItemCardOptions.Delete',\r\n    DASHBOARD_CREATE_SITE_TEMPLATE: 'Dashboard.CreateSite.Template',\r\n    DASHBOARD_CREATE_SITE_BLANK_TEMPLATE: 'Dashboard.CreateSite.BlankTemplate',\r\n    DASHBOARD_FOLDER_CREATE_NEW_SITE: 'Dashboard.Folder.NewSite',\r\n    DASHBOARD_FOLDER_EDIT_SITE: 'Dashboard.Folder.EditSite',\r\n    DASHBOARD_CHANGE_SUBSCRIPTION: 'Dashboard.LateralSubscription.ChangeSubscription',\r\n    DASHBOARD_ITEM_CARD_OPTIONS_CLONE_SITE: 'Dashboard.ItemCardOptions.CloneSite',\r\n    DASHBOARD_ITEM_CARD_OPTIONS_EDIT_SITE_CONFIG: 'Dashboard.ItemCardOptions.EditSiteConfig',\r\n    DASHBOARD_LANGUAGE: 'Dashboard.Language',\r\n    DASHBOARD_LOGOUT: 'Dashboard.Logout',\r\n    DASHBOARD_RECENT_HEADER_CREATE_NEW_SITE: 'Dashboard.RecentHeader.NewSite',\r\n    DASHBOARD_RECENT_FOOTER_CREATE_NEW_SITE: 'Dashboard.RecentFooter.NewSite',\r\n    DASHBOARD_RECENT_EDIT_SITE: 'Dashboard.Recent.EditSite',\r\n    DASHBOARD_LAST_ITEM_EDIT_SITE: 'Dashboard.LastItem.EditSite',\r\n    DASHBOARD_FOLDER_ITEM_EDIT: 'Dashboard.FolderItem.EditSite',\r\n    DASHBOARD_RENAME_FOLDER: 'Dashboard.RenameFolder',\r\n    DASHBOARD_SUB_HEADER_CREATE_NEW_SITE: 'Dashboard.Subheader.NewSite',\r\n    EDITOR_BIZCONTROLS_ADD_CONTROL: 'Editor.Bizcontrols.AddControl',\r\n    EDITOR_BIZCONTROLS: 'Editor.Bizcontrols.',\r\n    EDITOR_START_HERE: 'Editor.StartHere',\r\n    EDITOR_ADD_CONTROL_MAIN_MENU: 'Editor.AddControl.MainButton',\r\n    EDITOR_ADD_CONTROL_SEARCH: 'Editor.AddControl.Search',\r\n    LANDING_LANGUAGE: 'Landing.Language',\r\n    LANDING_LOGOUT: 'Landing.Logout',\r\n    TEMPLATE_LANGUAGE: 'Template.Language',\r\n    TEMPLATE_LOGOUT: 'Template.Logout',\r\n    TEMPLATE_VIEW_MODE_THUMBNAILS: 'Template.ViewMode.Thumbnails',\r\n    TEMPLATE_VIEW_MODE_PAGE: 'Template.ViewMode.Page',\r\n    TEMPLATE_ITEM_VIEW_DETAILS: 'Template.Item.ViewDetails',\r\n    TEMPLATE_ITEM_START_BUILDING: 'Template.Item.StartBuilding',\r\n    TEMPLATE_PAGE_START_BUILDING: 'Template.Page.StartBuilding',\r\n    TEMPLATE_PAGE_NEXT_ITEM: 'Template.Page.NextItem',\r\n    TEMPLATE_PAGE_PREV_ITEM: 'Template.Page.PrevItem',\r\n    TEMPLATE_PAGE_THUMB_PAGES: 'Template.Page.ThumbPages',\r\n    TEMPLATE_START_BUILDING: 'Template.StartBuilding'\r\n  };\r\n\r\n  public static trackingPageViews = {\r\n    DASHBOARD: 'Dashboard',\r\n    LANDING_PAGE: 'LandingPage',\r\n    WORKSPACE: 'Workspace',\r\n    PREVIEW: 'Preview',\r\n    SETTINGS: 'Settings'\r\n  };\r\n\r\n  public static collectionsTypes = ['galleryLink', 'imageCarousel', 'cardLink', 'listView', 'dynamic'];\r\n  public static gridConfig = {\r\n    cellSize: 1\r\n  };\r\n\r\n  public static bizagiEnvironment: any;\r\n  public static SAVE_TIMEOUT = 30000;\r\n  public static TOAST_POSITION: any = 'left'\r\n\r\n  public static showPanel(controlId: string, cssClass: string, panelElement: any) {\r\n    const referenceElement = $('#' + controlId + ' ' + cssClass);\r\n    panelElement.css('visibility', 'hidden');\r\n    if (referenceElement && referenceElement.offset()) {\r\n      if ((referenceElement.offset().top + 200) < (2 * $(window).height() / 3)) {\r\n        panelElement.offset({\r\n          top: referenceElement.offset().top + referenceElement.height(),\r\n          left: referenceElement.offset().left < ($(window).width() - 300) ? referenceElement.offset().left :\r\n            referenceElement.offset().left - 200\r\n        });\r\n        panelElement.show();\r\n        panelElement.css('visibility', 'visible');\r\n      } else {\r\n        setTimeout(() => {\r\n          panelElement.offset({\r\n            top: referenceElement.offset().top - $(panelElement.children()[0]).height(),\r\n            left: referenceElement.offset().left < ($(window).width() - 300) ? referenceElement.offset().left :\r\n              referenceElement.offset().left - 200\r\n          });\r\n          panelElement.show();\r\n          panelElement.css('visibility', 'visible');\r\n        }, 10);\r\n      }\r\n    }\r\n  }\r\n\r\n  public static requireAll(context: any): any {\r\n    return context.keys().map(context);\r\n  }\r\n\r\n  public static unsubscribe(subscriptions: Array<Subscription>) {\r\n    _.each(subscriptions, (subscription: Subscription) => {\r\n      if (subscription) {\r\n        subscription.unsubscribe();\r\n      }\r\n    });\r\n  }\r\n\r\n  public static deepClone(obj) {\r\n    if (obj === null || typeof obj !== 'object') {\r\n      return obj;\r\n    }\r\n\r\n    const temp = obj.constructor(); // give temp the original obj\"s constructor\r\n    for (const key in obj) {\r\n      if (obj[key]) {\r\n        temp[key] = Global.deepClone(obj[key]);\r\n      }\r\n    }\r\n    return temp;\r\n  }\r\n\r\n\r\n  public static isOnRenderMode(): boolean {\r\n    return location.pathname.match('/editor.html') === null;\r\n  }\r\n\r\n  public static newGuid(): string {\r\n    const guid: string = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n      const r = Math.random() * 16 | 0;\r\n      const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n    return guid;\r\n  }\r\n\r\n  public static getURLParameterByName(name, url) {\r\n    if (!url) {\r\n      url = window.location.href;\r\n    }\r\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n    const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\r\n    const results = regex.exec(url);\r\n    if (!results) {\r\n      return null;\r\n    }\r\n    if (!results[2]) {\r\n      return '';\r\n    }\r\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n  }\r\n\r\n  public static escapeOutput(content: string){\r\n    const element = document.createElement('div');\r\n    element.innerText = content;\r\n    return element.textContent;\r\n  }\r\n\r\n  public static deleteRelativeBackUrl(url: string) {\r\n    return url.replace(/\\.+(\\/|\\\\)/g, '');\r\n  }\r\n\r\n  public static getURLParameters(name, url) {\r\n    if (!url) {\r\n      url = window.location.href;\r\n    }\r\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n    const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\r\n    const results = regex.exec(url);\r\n    if (!results) {\r\n      return null;\r\n    }\r\n    if (!results[2]) {\r\n      return '';\r\n    }\r\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n  }\r\n\r\n  public static getHtmlTextWidth(text: string, fontSize: string, fontFamily: string) {\r\n    const font = `${fontSize} ${fontFamily}`;\r\n    const element = $('<div></div>')\r\n              .text(text)\r\n              .css({'position': 'absolute',\r\n              'float': 'left',\r\n              'white-space': 'nowrap',\r\n              'visibility': 'hidden',\r\n              'font': font})\r\n              .appendTo($('body'));\r\n    const width = element.width();\r\n    element.remove();\r\n    return width;\r\n  }\r\n\r\n  public static isFirefox() {\r\n    return  window.navigator.userAgent.toLowerCase().indexOf('firefox') > -1\r\n  }\r\n\r\n  public static isInternetExplorer() {\r\n    const userAgent = window.navigator.userAgent;\r\n\r\n    const msie = userAgent.indexOf('MSIE ');\r\n    if (msie > 0) {\r\n        return parseInt(userAgent.substring(msie + 5, userAgent.indexOf('.', msie)), 10);\r\n    }\r\n\r\n    const trident = userAgent.indexOf('Trident/');\r\n    if (trident > 0) {\r\n        const rv = userAgent.indexOf('rv:');\r\n        return parseInt(userAgent.substring(rv + 3, userAgent.indexOf('.', rv)), 10);\r\n    }\r\n\r\n    const edge = userAgent.indexOf('Edge/');\r\n    if (edge > 0) {\r\n        return parseInt(userAgent.substring(edge + 5, userAgent.indexOf('.', edge)), 10);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public static getApplicationPath() {\r\n    return (window.location.origin ? window.location.origin : (window.location.protocol + '//'\r\n      + window.location.hostname)) + window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/'))\r\n      + '/';\r\n  }\r\n\r\n  public static getApplicationName() {\r\n    return (window.location.pathname.indexOf('render.html') >= 0) ? 'render' : 'builder';\r\n  }\r\n\r\n\r\n  public static getScreenSize(): string {\r\n    if (window.matchMedia('(max-width: 480px)').matches) {\r\n      return 'mobile';\r\n    } else if (window.matchMedia('(min-width: 480px) and (max-width: 768px)').matches) {\r\n      return 'tablet';\r\n    } else if (window.matchMedia('(min-width: 768px) and (max-width: 1200px)').matches) {\r\n      return 'desktop';\r\n    } else if (window.matchMedia('(min-width: 1201px)').matches) {\r\n      return 'largedesktop';\r\n    }\r\n  }\r\n\r\n  public static getControlsByStakeholderContext(stakeholderContextId: string | Array<string>, controls: Array<IControl>): Array<IControl> {\r\n    const filteredControls: Array<IControl> = [];\r\n    const copy = _.cloneDeep(controls);\r\n    _.forEach(copy, (control: IControl) => {\r\n      if (!this.isVisibleTo(control.visibleTo, stakeholderContextId)) {\r\n      } else {\r\n        filteredControls.push(control);\r\n      }\r\n    });\r\n    return filteredControls;\r\n  }\r\n\r\n  public static getKebabCase(text: string) {\r\n    return text?.replace(/^[_@!#$%^&*()+={}[\\]|\\-\\\\/'\";:`.,~№?<>¬]+|[@!#$%^&*()+={}[\\]|\\-\\\\/'\";:`.,~№?<>¬]+$/,'')\r\n      .replace(/[@!#$%^&*()+={}[\\]|\\\\/'\";:`.,~№?<>¬]/, '')\r\n      .replace(/([a-z])([A-Z])([0-9])/g, '$1-$2')\r\n      .replace(/\\s+/g, '-')\r\n      .toLowerCase();\r\n  }\r\n\r\n  public static cleanPageStructure(page: IPageState | IPage): IPage {\r\n    const cleanedPage = _.cloneDeep(page);\r\n    cleanedPage.hero = this._cloneControl(cleanedPage.hero);\r\n    if ((cleanedPage as IPageState).controlsById) {\r\n      cleanedPage.controls = [];\r\n      _.each((cleanedPage as IPageState).controlIds, (controlId: string) => {\r\n        cleanedPage.controls.push((cleanedPage as IPageState).controlsById[controlId]);\r\n      });\r\n      delete (cleanedPage as IPageState).controlsById;\r\n      delete (cleanedPage as IPageState).controlIds;\r\n    }\r\n    for (const i in cleanedPage.controlGroups.byGroups) {\r\n      if (cleanedPage.controlGroups.byGroups[i]) {\r\n        // delete cleanedPage.controlGroups.byGroups[i].selectedControls;\r\n      }\r\n    }\r\n    for (const i in cleanedPage.controls) {\r\n      if (cleanedPage.controls[i]) {\r\n        cleanedPage.controls[i] = this._cloneControl(cleanedPage.controls[i]);\r\n      }\r\n    }\r\n    return cleanedPage;\r\n  }\r\n\r\n  private static _cloneControl(control): IControl {\r\n    const newControl = _.omit(control, ['changed']) as IControl;\r\n    return newControl;\r\n  }\r\n\r\n  public static cleanSiteStructure(site: ISite) {\r\n    let cleanedSite = _.omit(site, ['header.changed']);\r\n    cleanedSite = _.omit(cleanedSite, ['footer.changed']);\r\n    return cleanedSite;\r\n  }\r\n\r\n\r\n  public static getBizagiImageUrl(imageUrl: string) {\r\n    const urlParts = imageUrl.split('/odata/image?');\r\n    const code = urlParts[1].split('code=')[1];\r\n    const url = urlParts[0];\r\n    let basePath = this.getApplicationPath();\r\n    if (!basePath.endsWith('/')) {\r\n      basePath += '/';\r\n    }\r\n    return `${basePath}api/bizagi/image?url=${url}&code=${code}`;\r\n  }\r\n\r\n  public static getBizagiFileUrl(imageUrl: string, fileName: string) {\r\n    const urlParts = imageUrl.split('/odata/file?');\r\n    const code = urlParts[1].split('code=')[1];\r\n    const url = urlParts[0];\r\n    let basePath = this.getApplicationPath();\r\n    if (!basePath.endsWith('/')) {\r\n      basePath += '/';\r\n    }\r\n    return `${basePath}api/bizagi/file?url=${url}&code=${code}&fileName=${fileName}`;\r\n  }\r\n\r\n  public static isBizagiImage(image) {\r\n    if (image === null) {\r\n      return false;\r\n    }\r\n    return (image.startsWith('http://') || image.startsWith('https://')) && _.includes(image, 'odata/image');\r\n  }\r\n\r\n  public static getQueryString() {\r\n    if (window.location.search && window.location.search.length > 0) {\r\n      return this.parseQueryString(window.location.search.substr(1));\r\n    }\r\n    if (window.location.hash.indexOf('#') === 0) {\r\n      const url = window.location.hash;\r\n      if (url.indexOf('?') < 0) {\r\n        return {};\r\n      }\r\n      const queryString = url.substring(url.indexOf('?') + 1);\r\n      return this.parseQueryString(queryString);\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  public static getRedirectRoute(queryString?) {\r\n    queryString = queryString || Global.getQueryString() || {};\r\n    let state = queryString['state'];\r\n    if (!state) { return null; }\r\n\r\n    state = decodeURIComponent(escape(atob(state)));\r\n    try {\r\n      return JSON.parse(state).redirectRoute;\r\n    }\r\n    catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static replaceAll(text: string, textToReplace: string, replacement: string) {\r\n    return text.replace(new RegExp(textToReplace, 'g'), replacement);\r\n  }\r\n\r\n  public static getBizagiProjectUrl(site: ISite, bizagiProjectId: string) {\r\n    return site.environments[site.defaultEnvironment].projects[\r\n      bizagiProjectId\r\n    ].url;\r\n  }\r\n\r\n  public static ellipsisMultiline(selector: string) {\r\n    $(selector).each(function() {\r\n      const element = $(this)[0];\r\n      const wordArray = element.innerHTML.split(' ');\r\n      while(element.scrollHeight > element.offsetHeight) {\r\n        wordArray.pop();\r\n        element.innerHTML = wordArray.join(' ') + '...';\r\n      }\r\n    })\r\n  }\r\n\r\n  private static parseQueryString(queryString) {\r\n    const data = {};\r\n    let pairs\r\n    let pair\r\n    let separatorIndex\r\n    let escapedKey\r\n    let escapedValue;\r\n    let key;\r\n    let value;\r\n    if (queryString === null) {\r\n      return data;\r\n    }\r\n    pairs = queryString.split('&');\r\n\r\n    for (let i = 0; i < pairs.length; i++) {\r\n      pair = pairs[i];\r\n      separatorIndex = pair.indexOf('=');\r\n\r\n      if (separatorIndex === -1) {\r\n        escapedKey = pair;\r\n        escapedValue = null;\r\n      } else {\r\n        escapedKey = pair.substr(0, separatorIndex);\r\n        escapedValue = pair.substr(separatorIndex + 1);\r\n      }\r\n\r\n      key = decodeURIComponent(escapedKey);\r\n      value = decodeURIComponent(escapedValue);\r\n\r\n      if (key.substr(0, 1) === '/') {\r\n        key = key.substr(1);\r\n      }\r\n\r\n      data[key] = value;\r\n    }\r\n    return data;\r\n  }\r\n\r\n  public static isVisibleTo(visibleToList: Array<string>, stakeholderContextId: string | Array<string>): boolean {\r\n    if (_.isEmpty(visibleToList)) {\r\n      return false;\r\n    }\r\n    if (JSON.stringify(visibleToList).match('ALL')) {\r\n      return true;\r\n    }\r\n    let canShowControl = false;\r\n    if (stakeholderContextId instanceof Array) {\r\n      _.each(stakeholderContextId, (id) => {\r\n        if (JSON.stringify(visibleToList).match(id)) {\r\n          canShowControl = true;\r\n        }\r\n      });\r\n    } else {\r\n      canShowControl = JSON.stringify(visibleToList).match(stakeholderContextId) !== null;\r\n    }\r\n    return canShowControl;\r\n  }\r\n\r\n  public static capitalizeFirstLetter(text: string) {\r\n    const textLower = text.toLowerCase();\r\n    return textLower.toLowerCase().charAt(0).toUpperCase() + textLower.slice(1);\r\n  }\r\n\r\n  public static copyToClipBoard(text: string): boolean {\r\n    const id = 'mycustom-clipboard-textarea-hidden-id';\r\n    let existsTextarea: any = document.getElementById(id);\r\n\r\n    if (!existsTextarea) {\r\n      const textarea = document.createElement('textarea');\r\n      textarea.id = id;\r\n      // Place in top-left corner of screen regardless of scroll position.\r\n      textarea.style.position = 'fixed';\r\n      textarea.style.top = '0';\r\n      textarea.style.left = '0';\r\n      textarea.style.width = '1px';\r\n      textarea.style.height = '1px';\r\n      textarea.style.padding = '0';\r\n      textarea.style.border = 'none';\r\n      textarea.style.outline = 'none';\r\n      textarea.style.boxShadow = 'none';\r\n      textarea.style.background = 'transparent';\r\n      document.querySelector('body').appendChild(textarea);\r\n      existsTextarea = document.getElementById(id);\r\n    }\r\n    existsTextarea.value = text;\r\n    existsTextarea.select();\r\n\r\n    const status = document.execCommand('copy');\r\n    return status;\r\n  }\r\n\r\n  public static sortByDefinition(definition, items, sortKey) {\r\n    const result = [];\r\n    definition.forEach(function (key) {\r\n      let found = false;\r\n      items = items.filter(function (item) {\r\n        if (!found && item[sortKey] === key) {\r\n          result.push(item);\r\n          found = true;\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      });\r\n    });\r\n\r\n    return result;\r\n  }\r\n  // TODO: Grid refactor\r\n  public static adjustGridNodesToLayout(grid: IGrid, controls: Array<IControl>, gridstack?: any) {\r\n    if (grid.layoutSize === grid.prev.layoutSize) {\r\n      const sizeDifferenceSameLayout = (grid.size - grid.prev.size) / 2;\r\n      _.each(controls, (control: IControl) => {\r\n        control.location.x += sizeDifferenceSameLayout;\r\n        if (gridstack) {\r\n          _.each(gridstack.grid.nodes, (node: any) => {\r\n            if (node.el.attr('id') === control.id) {\r\n\r\n              node.el.offset({ left: control.location.x });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      _.each(controls, (control: IControl) => {\r\n        control.location.width = control.location.width * (grid.layoutSize / grid.prev.layoutSize);\r\n        if (control.location.x < grid.prev.size / 2) {\r\n          control.location.x = grid.size / 2 - ((grid.prev.size / 2 - control.location.x) * (grid.layoutSize / grid.prev.layoutSize));\r\n        } else {\r\n          control.location.x = grid.size / 2 + ((control.location.x - grid.prev.size / 2) * (grid.layoutSize / grid.prev.layoutSize));\r\n        }\r\n        if (gridstack) {\r\n          _.each(gridstack.grid.nodes, (node: any) => {\r\n            if (node.el.attr('id') === control.id) {\r\n              node.x = control.location.x;\r\n              node.width = control.location.width;\r\n              node.el.offset({ left: control.location.x });\r\n              node.el.width(control.location.width);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public static checkSize(control: IControl, size: number, deviceType: string, grid: IGrid): boolean {\r\n    switch (size) {\r\n      case 25:\r\n        return (control.location.width >= this._getWidthPercentage(25, grid) &&\r\n          control.location.width < this._getWidthPercentage(30, grid)\r\n          && (deviceType === 'desktop' || deviceType === 'largedesktop'));\r\n      case 30:\r\n        return deviceType === 'mobile' ||\r\n          (control.location.width >= this._getWidthPercentage(30, grid) && control.location.width < this._getWidthPercentage(40, grid) &&\r\n            (deviceType === 'desktop' || deviceType === 'largedesktop'));\r\n      case 50:\r\n        return deviceType === 'tablet' ||\r\n          (control.location.width >= this._getWidthPercentage(40, grid) && control.location.width < this._getWidthPercentage(70, grid) &&\r\n            (deviceType === 'desktop' || deviceType === 'largedesktop'));\r\n      case 75:\r\n        return (control.location.width >= this._getWidthPercentage(70, grid) &&\r\n          control.location.width < this._getWidthPercentage(80, grid) &&\r\n          (deviceType === 'desktop' || deviceType === 'largedesktop'));\r\n      case 80:\r\n        return (control.location.width >= this._getWidthPercentage(80, grid) &&\r\n          control.location.width < this._getWidthPercentage(90, grid) && (deviceType === 'desktop' || deviceType === 'largedesktop'));\r\n    }\r\n  }\r\n\r\n  public static applyMixins(derivedCtor: any, baseCtors: any[]) {\r\n    baseCtors.forEach(baseCtor => {\r\n      Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n        if (name !== 'constructor') {\r\n          derivedCtor.prototype[name] = baseCtor.prototype[name];\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private static _getWidthPercentage(percentage: number, grid: IGrid) {\r\n    return grid.layoutSize * percentage / 100;\r\n  }\r\n\r\n  public static transformObjectToArray(value: any): any {\r\n    const returnArray = [];\r\n    const keys: Array<string> = Object.keys(value);\r\n\r\n    keys.forEach((key: string) => {\r\n      returnArray.push({\r\n        key,\r\n        val: value[key]\r\n      });\r\n    });\r\n    return returnArray;\r\n  }\r\n\r\n\r\n  public static jsonToBase64(obj: Object): string {\r\n    const objJsonStr = JSON.stringify(obj);\r\n    return btoa(unescape(encodeURIComponent(objJsonStr)));\r\n  }\r\n\r\n  public static base64ToJson(text: string): Object {\r\n    const decodedStr = decodeURIComponent(escape(atob(text)));\r\n    return JSON.parse(decodedStr);\r\n  }\r\n\r\n  public static disableLinks() {\r\n    setTimeout(() => {\r\n      const anchors = $('.bs-page-body a, .bs-page-body button');\r\n      for (let i = 0; i < anchors.length; i++) {\r\n        (anchors[i] as any).onclick = function () {\r\n          return (false);\r\n        };\r\n      }\r\n      setTimeout(() => {\r\n        const anchors1 = $('.bs-page-body a, .bs-page-body button');\r\n        for (let i = 0; i < anchors1.length; i++) {\r\n          (anchors1[i] as any).onclick = function () {\r\n            return (false);\r\n          };\r\n        }\r\n      }, 2000);\r\n    });\r\n  }\r\n\r\n  public static getBooleanValue(value: string | boolean = ''): boolean {\r\n    if (value != null && (value === true || value.toString().toLowerCase() === 'true')) {\r\n      return true;\r\n    } else if (value != null && (value === false || value.toString().toLowerCase() === 'false')) {\r\n      return false;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  public static b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\r\n    const byteCharacters = atob(b64Data);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n\r\n      const byteNumbers = new Array(slice.length);\r\n      for (let i = 0; i < slice.length; i++) {\r\n        byteNumbers[i] = slice.charCodeAt(i);\r\n      }\r\n\r\n      const byteArray = new Uint8Array(byteNumbers);\r\n      byteArrays.push(byteArray);\r\n    }\r\n\r\n    const blob = new Blob(byteArrays, { type: contentType });\r\n    return blob;\r\n  }\r\n\r\n  public static modifyWidhSelect(selectDropDown, event, selectOverlay, time?) {\r\n    return $(selectDropDown).bind(event, () => {\r\n      if (time !== null) {\r\n        setTimeout(() => {\r\n          this.performIECalculateWidth(selectOverlay);\r\n        }, time);\r\n      } else {\r\n        this.performIECalculateWidth(selectOverlay);\r\n      }\r\n    });\r\n  }\r\n\r\n  private static performIECalculateWidth(selectOverlay) {\r\n    if (this.isInternetExplorer()) {\r\n      const overlay = $(selectOverlay).get(0);\r\n      if (overlay && overlay.scrollHeight > overlay.clientHeight) {\r\n        $(overlay).css('min-width', 'calc(100% - 17px)');\r\n      } else {\r\n        $(overlay).css('min-width', '100%');\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const fontActions = {\r\n  LOAD_FONTS: '[Fonts Actions] Load fonts',\r\n  LOAD_FONTS_SUCCESS: '[Fonts Actions] Load fonts success',\r\n  PRE_SAVE_FONTS: '[Fonts Actions] Pre save fonts',\r\n  SAVE_FONTS: '[Fonts Actions] Save fonts',\r\n  SAVE_FONTS_SUCCESS: '[Fonts Actions] Save fonts success',\r\n  SAVE_FONTS_FAILED: '[Fonts Actions] Save fonts failed',\r\n  REMOVE_FONTS: '[Fonts Actions] Remove fonts',\r\n  REMOVE_FONTS_SUCCESS: '[Fonts Actions] Remove fonts success',\r\n  LOAD_STATIC_FONTS: '[Workspace Actions] Load static fonts',\r\n  LOAD_STATIC_FONTS_SUCCESS: '[Workspace Actions] Load static fonts success'\r\n};\r\n\r\nexport class LoadFonts implements Action {\r\n  readonly type = fontActions.LOAD_FONTS;\r\n  constructor(public payload?: string) { }\r\n}\r\n\r\nexport class LoadFontsSuccess implements Action {\r\n  readonly type = fontActions.LOAD_FONTS_SUCCESS;\r\n  constructor(public payload: {}) { }\r\n}\r\n\r\nexport class PreSaveFonts implements Action {\r\n  readonly type = fontActions.PRE_SAVE_FONTS;\r\n  constructor(public payload: Array<any>) { }\r\n}\r\n\r\nexport class SaveFonts implements Action {\r\n  readonly type = fontActions.SAVE_FONTS;\r\n  constructor(public payload: Array<FormData>) { }\r\n}\r\n\r\nexport class SaveFontsSuccess implements Action {\r\n  readonly type = fontActions.SAVE_FONTS_SUCCESS;\r\n  constructor(public payload: Array<any>) { }\r\n}\r\n\r\nexport class SaveFontsFailed implements Action {\r\n  readonly type = fontActions.SAVE_FONTS_FAILED;\r\n  constructor(public payload: string) { }\r\n}\r\n\r\nexport class RemoveFonts implements Action {\r\n  readonly type = fontActions.REMOVE_FONTS;\r\n  constructor(public payload: Array<string>) { }\r\n}\r\n\r\nexport class RemoveFontsSuccess implements Action {\r\n  readonly type = fontActions.REMOVE_FONTS_SUCCESS;\r\n  constructor(public payload: Array<any>) { }\r\n}\r\n\r\nexport class LoadStaticFonts implements Action {\r\n  readonly type = fontActions.LOAD_STATIC_FONTS;\r\n  constructor() {}\r\n}\r\n\r\nexport class LoadStaticFontsSuccess implements Action {\r\n  readonly type = fontActions.LOAD_STATIC_FONTS_SUCCESS;\r\n  constructor(public payload?: any) {}\r\n}\r\n\r\nexport type FontActions = LoadFonts\r\n  | LoadFontsSuccess\r\n  | SaveFonts\r\n  | SaveFontsSuccess\r\n  | SaveFontsFailed\r\n  | RemoveFonts\r\n  | RemoveFontsSuccess\r\n  | LoadStaticFonts\r\n  | LoadStaticFontsSuccess\r\n  ;\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const themeActions = {\r\n  LOAD_THEMES: '[Themes Actions] Load themes',\r\n  LOAD_THEMES_SUCCESS: '[Themes Actions] Load themes success',\r\n  LOAD_CUSTOM_THEMES: '[Themes Actions] Load custom themes',\r\n  LOAD_CUSTOM_THEMES_SUCCESS: '[Themes Actions] Load custom themes success',\r\n  SAVE_THEME: '[Themes Actions] Save theme',\r\n  SAVE_THEME_SUCCESS: '[Themes Actions] Save theme success',\r\n  REMOVE_THEME: '[Themes Actions] Remove theme',\r\n  REMOVE_THEME_SUCCESS: '[Themes Actions] Remove theme success',\r\n  EDIT_THEME: '[Themes Actions] Edit theme',\r\n  EDIT_THEME_SUCCESS: '[Themes Actions] Edit theme success',\r\n};\r\n\r\nexport class LoadThemes implements Action {\r\n  readonly type = themeActions.LOAD_THEMES;\r\n  constructor(public payload?: Array<ITheme>) { }\r\n}\r\n\r\nexport class LoadThemesSuccess implements Action {\r\n  readonly type = themeActions.LOAD_THEMES_SUCCESS;\r\n  constructor(public payload?: Array<ITheme>) { }\r\n}\r\n\r\nexport class LoadCustomThemes implements Action {\r\n  readonly type = themeActions.LOAD_CUSTOM_THEMES;\r\n  constructor(public payload?: string) { }\r\n}\r\n\r\nexport class LoadCustomThemesSuccess implements Action {\r\n  readonly type = themeActions.LOAD_CUSTOM_THEMES_SUCCESS;\r\n  constructor(public payload: Array<ITheme>) { }\r\n}\r\n\r\n\r\nexport class SaveTheme implements Action {\r\n  readonly type = themeActions.SAVE_THEME;\r\n  constructor(public payload: {data: any, replace:boolean, undo?:boolean, duplicate?: boolean}) { }\r\n}\r\n\r\nexport class SaveThemeSuccess implements Action {\r\n  readonly type = themeActions.SAVE_THEME_SUCCESS;\r\n  constructor(public payload?: any) { }\r\n}\r\n\r\nexport class RemoveTheme implements Action {\r\n  readonly type = themeActions.REMOVE_THEME;\r\n  constructor(public payload: ITheme) { }\r\n}\r\n\r\nexport class RemoveThemeSuccess implements Action {\r\n  readonly type = themeActions.REMOVE_THEME_SUCCESS;\r\n  constructor(public payload?: any) { }\r\n}\r\n\r\nexport class EditTheme implements Action {\r\n  readonly type = themeActions.EDIT_THEME\r\n  constructor(public payload: {theme: any, oldThemeName: string, replace: boolean}) { }\r\n}\r\n\r\nexport class EditThemeSuccess implements Action {\r\n  readonly type = themeActions.EDIT_THEME_SUCCESS\r\n  constructor(public payload?: any) { }\r\n}\r\n\r\nexport type ThemeActions = LoadThemes\r\n  | LoadThemesSuccess\r\n  |LoadCustomThemes  \r\n  | LoadCustomThemesSuccess\r\n  | SaveTheme\r\n  | SaveThemeSuccess\r\n  | RemoveTheme\r\n  | RemoveThemeSuccess\r\n  | EditTheme\r\n  | EditThemeSuccess\r\n  ;\r\n","\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\n@Injectable()\r\nexport class BizagiOAuthManager {\r\n    private readonly BIZAGI_OAUTH_INFO_URL = 'api/oauth/bizagi/info';\r\n    private readonly REFRESH_TOKEN_URL = 'api/oauth/bizagi/refreshToken';\r\n    private readonly USE_CODE_URL = 'api/oauth/bizagi/useCode';\r\n    private profile: any;\r\n    private expiration: any;\r\n    private _authInfo: { urls: any, type: any; server: any; client_id: any; scope: any; sso: any; id?: any; saveToken?: any; };\r\n\r\n    get authInfo() {\r\n        return this._authInfo;\r\n    }\r\n    set authInfo(value) {\r\n        this._authInfo = value;\r\n    }\r\n\r\n    public getProfile() {\r\n        return this.profile;\r\n    }\r\n\r\n    public setProfile(profile) {\r\n        this.profile = profile;\r\n    }\r\n\r\n    public setExpiration(expiration) {\r\n        this.expiration = expiration;\r\n    }\r\n\r\n    public getExpiration() {\r\n        return this.expiration;\r\n    }\r\n\r\n    constructor(private _httpClient: HttpClient) {\r\n    }\r\n\r\n    public async initAndLogin(loginParams) {\r\n        loginParams = loginParams || {};\r\n        const identityServer = loginParams.identityServer;\r\n        const url = this.BIZAGI_OAUTH_INFO_URL + '?identityServer=' + encodeURI(identityServer);;\r\n        const initData: any = await this._httpClient.get(url).toPromise();\r\n        this.setParams({\r\n            type: loginParams.type,\r\n            server: identityServer,\r\n            scope: initData.scope,\r\n            client_id: initData.client_id,\r\n            urls: initData.urls,\r\n            saveToken: true,\r\n        });\r\n        return this.login(loginParams);\r\n    }\r\n\r\n    public async login(loginParams) {\r\n        loginParams = loginParams || {};\r\n        const queryParams = loginParams.queryParams;\r\n        const qs = queryParams || Global.getQueryString();\r\n        if (qs['code']) {\r\n            await this.continueWithAuthorizationCode(qs);\r\n            return true;\r\n        };\r\n        this.redirectToAuthorizePage(qs);\r\n        return false;\r\n    }\r\n\r\n    public logout(bUseFullUrlWithHashes?, logoutUrl?) {\r\n        let postLogoutUrl = (logoutUrl ? logoutUrl : this.getRedirectUri(bUseFullUrlWithHashes));\r\n        postLogoutUrl = postLogoutUrl.endsWith('editor.html') ? postLogoutUrl + '%23%2Fdashboard' : postLogoutUrl;\r\n        const userIdentity = sessionStorage.getItem('userIdentity');\r\n        location.href = 'api/oauth/bizagi/logout?userIdentity=' + (userIdentity || '') + '&postLogoutUrl=' + postLogoutUrl;\r\n    }\r\n\r\n    public async refreshToken() {\r\n        return this._httpClient.post(this.REFRESH_TOKEN_URL, {}).toPromise()\r\n            .then((response: any) => {\r\n                return response;\r\n            })\r\n            .catch(() => {\r\n                this.logout(true);\r\n            });\r\n    }\r\n\r\n    private setParams(params) {\r\n        if (!params) { return; }\r\n        this.authInfo = {\r\n            type: 'bizagi',\r\n            server: params.server,\r\n            id: params.id || 'oauth',\r\n            scope: params.scope,\r\n            client_id: params.client_id,\r\n            sso: true,\r\n            urls: {\r\n                authorize: params.urls.authorize\r\n            },\r\n        };\r\n    }\r\n\r\n    private redirectToAuthorizePage(queryString) {\r\n        const nonce = this.createNonce();\r\n        const url = this.getAuthorizeUrl(nonce, queryString);\r\n        location.href = url;\r\n    }\r\n\r\n    private async continueWithAuthorizationCode(qs) {\r\n        const code = qs['code'];\r\n        const url = this.USE_CODE_URL + '?identityServer=' + encodeURI(this.authInfo.server);\r\n        const body = { code, redirect_uri: encodeURIComponent(this.getRedirectUri()) };\r\n\r\n        await this._httpClient.post(url, body).toPromise()\r\n            .then((response: any) => {\r\n                this.profile = response.profile;\r\n                this.expiration = response.expiration;\r\n                history.pushState(null, '', location.href.split('?')[0]);\r\n            })\r\n            .catch(() => {\r\n                this.logout();\r\n            });\r\n    }\r\n\r\n    private getAuthorizeUrl(nonce, queryString) {\r\n        let state: any = {};\r\n        state['nonce'] = nonce;\r\n        if (queryString['redirectRoute']) { state['redirectRoute'] = queryString['redirectRoute']; }\r\n        state = btoa(unescape(encodeURIComponent(JSON.stringify(state))));\r\n        const url = this.authInfo.urls.authorize + '?response_type=' + 'code' // Change this when using OPEN ID\r\n            + '&client_id=' + encodeURIComponent(this.authInfo.client_id)\r\n            + '&state=' + encodeURIComponent(state)\r\n            + '&redirect_uri=' + encodeURIComponent(this.getRedirectUri())\r\n            + '&scope=' + encodeURIComponent(this.authInfo.scope)\r\n            + (this.authInfo.sso ? '&sso=true' : '');\r\n        return url;\r\n    }\r\n\r\n    private getRedirectUri(bUseFullUrlWithHashes?) {\r\n        if (bUseFullUrlWithHashes) {\r\n            return encodeURIComponent(window.location.href);\r\n        }\r\n        const base = $('base');\r\n        if (base.length > 0 && base.attr('href').toLowerCase().indexOf('http') === 0) {\r\n            return base.attr('href');\r\n        }\r\n        let url = window.location.origin + window.location.pathname;\r\n        url = url.indexOf('#') > 0 ? url.substring(0, url.lastIndexOf('#')) : url;\r\n        if (url.lastIndexOf('/') === url.length - 1) { url = url.substring(0, url.length - 1); }\r\n        return url;\r\n    }\r\n\r\n    private createNonce() {\r\n        let text = '';\r\n        const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        for (let i = 0; i < 10; i++) {\r\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n        }\r\n        return text;\r\n    };\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { RestApiSevice } from 'app/common/services/oauth/rest-api.service';\r\nimport { Cache } from 'app/common/decorators/cache';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n  private _endpoints = {\r\n    userPreferences: 'api/user',\r\n    updateUser: 'api/user/update',\r\n    createUser: 'api/user/create',\r\n    updateLanguage: 'api/user/language',\r\n    firstAccess: 'api/user/editorAccess',\r\n    userprofile: 'api/bizagi/userprofile',\r\n    updateEditorLanguage: 'api/user/editorLanguage'\r\n  };\r\n\r\n  constructor(protected _restApiService: RestApiSevice) {\r\n  }\r\n\r\n  public getUserProfile(url: string) {\r\n    const response = this._restApiService.post({\r\n      url: this._endpoints.userprofile,\r\n      body: {\r\n        url\r\n      }\r\n    });\r\n    return response;\r\n  }\r\n\r\n  public updateLanguagePreference(username: string, language) {\r\n    this._restApiService.post({\r\n      url: this._endpoints.updateLanguage,\r\n      body: {\r\n        username,\r\n        language\r\n      },\r\n    })\r\n      .toPromise()\r\n      .catch(error => {\r\n        return null;\r\n      });\r\n\r\n  }\r\n  @Cache()\r\n  public createUserPreferences(user: IUserProfile): Promise<any> {\r\n    return this._restApiService.post({\r\n      url: this._endpoints.createUser,\r\n      body: user\r\n    }).toPromise();\r\n  }\r\n\r\n  public updateUserEditorLanguage(username:string, language:string): Promise<any> {\r\n    return this._restApiService.post({\r\n      url: this._endpoints.updateEditorLanguage,\r\n      body: {\r\n        username,\r\n        language\r\n      }\r\n    }).toPromise();\r\n  }\r\n\r\n  public validateFirstAccess(email: string): Promise<boolean> {\r\n    return this._restApiService.post({\r\n      url: `${this._endpoints.firstAccess}`,\r\n      body: email\r\n    }).toPromise();\r\n  }\r\n\r\n  public getUserByEmail(email: string): Promise<any> {\r\n    return this._restApiService.get({\r\n      url: `${this._endpoints.userPreferences}/${email}`\r\n    }).toPromise();\r\n  }\r\n\r\n  public getUserByUsername(username: string): Promise<any> {\r\n    return this._restApiService.post({\r\n      url: `${this._endpoints.userPreferences}`,\r\n      body: {username}\r\n    }).toPromise();\r\n  }\r\n\r\n  public createOrUpdateUserPreferences(user: any): Promise<any> {\r\n    return this._restApiService.post({\r\n      url: `${this._endpoints.updateUser}`,\r\n      body: {\r\n        username: user.userName,\r\n        user\r\n      }\r\n    }).toPromise();\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { UserService } from '../sites/user.service';\r\nimport { BizagiOAuthManager } from './bizagi-oauth-manager';\r\nimport {Cookie} from 'ng2-cookies/ng2-cookies';\r\n\r\n@Injectable()\r\nexport class OAuthClientHelper {\r\n\r\n  protected token: string;\r\n  public loggedOn: boolean;\r\n  protected type: string; // accounts | bizagi\r\n  protected sso: boolean;\r\n  private _redirectPrivateUrl: string;\r\n  private _redirectPublicUrl: string;\r\n\r\n  constructor(private _bizagiOauthManager: BizagiOAuthManager, private _httpClient: HttpClient,\r\n    private _userService: UserService) {\r\n  }\r\n\r\n  public setRedirectHeader(privateUrl: string, publicUrl: string) {\r\n    this._redirectPrivateUrl = privateUrl;\r\n    this._redirectPublicUrl = publicUrl;\r\n  }\r\n\r\n  public async login(params: any, type: string) {\r\n    params = params || {};\r\n    const result = await this._bizagiOauthManager.initAndLogin(params);\r\n    this.loggedOn = true;\r\n    return result;\r\n  }\r\n\r\n  public logoutToUrl(isPrivatePage) {\r\n    const pageToRedirect = isPrivatePage ? this._redirectPrivateUrl : this._redirectPublicUrl;\r\n    if (pageToRedirect) {\r\n      let url = escape(location.href.split('/#/')[0] + '/#/' + location.hash.split('/')[1]);\r\n      url += '/' + pageToRedirect;\r\n      this.logoutOtherUrl(url);\r\n    } else {\r\n      this.logout();\r\n    }\r\n  }\r\n\r\n\r\n  public logout() {\r\n    this._removeStorage();\r\n    this._bizagiOauthManager.logout(true);\r\n  }\r\n\r\n  public logoutOtherUrl(url: string) {\r\n    this._removeStorage();\r\n    this._bizagiOauthManager.logout(true, url);\r\n  }\r\n\r\n  public getToken(): string {\r\n    return this.token;\r\n  }\r\n\r\n  public async isLoggedOn() {\r\n    if (!this.loggedOn) {\r\n      const authenticatedUser = await this._httpClient.get<any>('api/oauth/authenticatedUser').toPromise();\r\n      this.loggedOn = !!authenticatedUser;\r\n      if (this.loggedOn) {\r\n        this._bizagiOauthManager.setProfile(authenticatedUser.profile);\r\n        this._bizagiOauthManager.setExpiration(authenticatedUser.expiration);\r\n      }\r\n    }\r\n    return this.loggedOn;\r\n  }\r\n\r\n  public getUserEmail(): string {\r\n    const profile = this.getProfile();\r\n    return profile.email;\r\n  }\r\n\r\n  public getUsername(): string {\r\n    const profile = this.getProfile();\r\n    return profile?.username;\r\n  }\r\n\r\n  public getIsAdministrator(): boolean {\r\n    const profile = this.getProfile();\r\n    return profile.isAdministrator;\r\n  }\r\n\r\n  public hasEditorRole(): boolean {\r\n    const profile = this.getProfile();\r\n    return !!_.find(profile.roles, (role: { Name: string }) => {\r\n      return role.Name === 'BASiteEditor';\r\n    });\r\n  }\r\n\r\n  public getUserId(): string {\r\n    const profile = this.getProfile();\r\n    return profile.sub;\r\n  }\r\n\r\n  public getProfile() {\r\n    const profile = this._bizagiOauthManager.getProfile();\r\n    return profile;\r\n  }\r\n\r\n  public getExpiration() {\r\n    return this._bizagiOauthManager.getExpiration();\r\n  }\r\n\r\n  public refreshToken(): any {\r\n    return this._bizagiOauthManager.refreshToken();\r\n  }\r\n\r\n  public setToken(token) {\r\n    this.token = token;\r\n  }\r\n\r\n  private _removeStorage() {\r\n    sessionStorage.removeItem('userLoggedOn');\r\n    if(Global.isInternetExplorer()) {\r\n      Cookie.delete('USERLOGGEDON');\r\n    }\r\n  }\r\n}\r\n","<bzg-modal-header >\r\n    <span class=\"bz-modal__title\">{{ data.title | translate  }}</span>\r\n    <bzg-button-icon icon=\"icon-close\" (click)=\"close()\"></bzg-button-icon>\r\n  </bzg-modal-header>\r\n  <bzg-modal-content>\r\n    <div class=\"bz-modal__message\">\r\n      <bzg-icon class=\"bz-space--inline-m\" *ngIf=\"data?.icon\" [color]=\"data.iconColor\" [nameIcon]=\"data.icon\" [size]=\"24\">\r\n      </bzg-icon>\r\n      <span class=\"bz-modal__message__text\" [innerHTML]=\"data.message | translate\"></span>\r\n    </div>\r\n\r\n    <div class=\"bs-checkbox\" *ngIf=\"data?.checkBox\">\r\n      <bzg-checkbox [(ngModel)]=\"checkBoxValue\">\r\n        {{data.checkBoxMessage | translate}}\r\n      </bzg-checkbox>\r\n    </div>\r\n  </bzg-modal-content>\r\n  <bzg-modal-footer>\r\n    <bzg-button-secondary *ngIf=\"data?.cancelButton\" (click)=\"close()\">\r\n      {{ data.cancelButtonText | translate}}\r\n    </bzg-button-secondary>\r\n    <bzg-button-secondary *ngIf=\"data?.optionalButton\" (click)=\"performOptional()\">\r\n      {{ data.optionalButtonText | translate}}\r\n    </bzg-button-secondary>\r\n    <bzg-button-primary (click)=\"confirm()\" [color]=\"data.buttonColor\">\r\n      {{ data.confirmButtonText | translate}}\r\n    </bzg-button-primary>\r\n  </bzg-modal-footer>\r\n","import { Component, Inject, NgZone } from '@angular/core';\r\nimport { BzgModalRef, BZG_MODAL_DATA } from 'bz-genome-angular';\r\n\r\n@Component({\r\n    selector: 'bs-confirm-dialog-modal',\r\n    templateUrl: './confirm-dialog-modal.component.html',\r\n    styleUrls: ['./confirm-dialog-modal.component.scss']\r\n})\r\nexport class ConfirmDialogModalComponent {\r\n    public checkBoxValue = false;\r\n    constructor(\r\n        private _modalComponentRef: BzgModalRef,\r\n        private _ngZone: NgZone,\r\n        @Inject(BZG_MODAL_DATA) public data: {\r\n            message: string,\r\n            title: string,\r\n            confirmButtonText?: string,\r\n            buttonColor?: string,\r\n            cancelButton?: boolean,\r\n            cancelButtonText?: string,\r\n            checkBox: boolean,\r\n            checkBoxMessage: string,\r\n            icon?: string,\r\n            iconColor?: string,\r\n            optionalButtonText?: string,\r\n            optionalButton?: string,\r\n        }\r\n    ) { }\r\n\r\n\r\n    close() {\r\n        this._ngZone.run(() => {\r\n            this._modalComponentRef.close();\r\n        });\r\n    }\r\n\r\n    performOptional() {\r\n      this._ngZone.run(() => {\r\n        this._modalComponentRef.close({\r\n            type: 'optional',\r\n            params: {\r\n                checkBoxValue: this.checkBoxValue\r\n        }});\r\n      });\r\n    }\r\n\r\n    confirm() {\r\n        this._ngZone.run(() => {\r\n            this._modalComponentRef.close({\r\n                type: 'confirm',\r\n                params: {\r\n                    checkBoxValue: this.checkBoxValue\r\n            }});\r\n        });\r\n    }\r\n}\r\n","import { Injectable, ElementRef } from '@angular/core';\r\nimport { OAuthClientHelper } from 'app/common/services/oauth/oauth-client.helper';\r\nimport { Observable, Subject, Subscription, timer, interval } from 'rxjs';\r\nimport { debounceTime, tap } from 'rxjs/operators';\r\nimport { ConfirmDialogModalComponent } from 'app/common/components/confirm-dialog-modal/confirm-dialog-modal.component';\r\nimport { BzgModalService, BzgModalRef } from 'bz-genome-angular';\r\nimport { StateSnapshotService } from '../sites/state-snapshots.service';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\n@Injectable()\r\nexport class SessionHandlerService {\r\n    private expirationTimer: Observable<number>;\r\n    private endingTimer: Observable<number>;\r\n    private bpmSessionTimer: Observable<number>;\r\n    private expirationTimerUnsubscribe: Subject<void> = new Subject<void>();\r\n    private expirationTimerSessionBPMUnsubscribe: Subject<void> = new Subject<void>();\r\n\r\n    public targetOrigin: string;\r\n    public showIframe: boolean;\r\n    public elementReference: ElementRef;\r\n    public iframeFakeLoaded: boolean;\r\n\r\n    public restartSessionSubject = new Subject();\r\n    public startSessionSubject = new Subject();\r\n    private _modalRefSessionIdle: BzgModalRef;\r\n    private _modalRefSessionTimeout: BzgModalRef;\r\n\r\n    constructor(private _oAuthClient: OAuthClientHelper,\r\n        private _modalService: BzgModalService, private _stateSnapshots: StateSnapshotService) {\r\n        this.restartSessionSubject.pipe(debounceTime(30000)).subscribe(\r\n            async () => {\r\n                const session = await this.refreshToken();\r\n                if (!session) {\r\n                    return;\r\n                }\r\n                this.startTimerSession(session.expiration);\r\n            });\r\n\r\n        this.startSessionSubject.pipe(debounceTime(1000)).subscribe(\r\n            () => {\r\n                const expiration = this._oAuthClient.getExpiration();\r\n                this.startTimerSession(expiration);\r\n            });\r\n    }\r\n\r\n    public initializeIframe(showIframe: boolean, targetOrigin: string, elementReference: ElementRef, iframeFakeLoaded: boolean) {\r\n        this.showIframe = showIframe;\r\n        this.targetOrigin = targetOrigin;\r\n        this.elementReference = elementReference;\r\n        this.iframeFakeLoaded = iframeFakeLoaded;\r\n    }\r\n\r\n    public async refreshToken(): Promise<any> {\r\n        if (Global.isOnRenderMode()) {\r\n            const page = this._stateSnapshots.getPage();\r\n            if(!page.isPrivate) {\r\n                return '';\r\n            }\r\n        }\r\n        const newToken = await this._oAuthClient.refreshToken();\r\n        const iframe: any = this.getIframe();\r\n\r\n        if (this.showIframe) {\r\n            if (!!iframe && iframe.length) {\r\n                this.sendMessageToIframe(iframe, 'update-token', { token: newToken.accessToken });\r\n            }\r\n        }\r\n\r\n        const iframeFake: any = this.getIframeFake();\r\n\r\n        if (this.iframeFakeLoaded) {\r\n            if (!!iframeFake && iframeFake.length) {\r\n                this.sendMessageToIframe(iframeFake, 'update-token', { token: newToken.accessToken });\r\n            }\r\n        }\r\n        \r\n        return newToken;\r\n    }\r\n\r\n    public startTimerSession(expirationDateValue: string) {\r\n        const expirationDate = new Date(expirationDateValue);\r\n        const currentDate = new Date();\r\n        let difference = expirationDate.getTime() - currentDate.getTime();\r\n        const oneDayMilliseconds = 86400000;\r\n        if (difference > oneDayMilliseconds) {\r\n            difference = oneDayMilliseconds;\r\n        }\r\n        console.log('Milliseconds difference for debug purposes', difference);\r\n        this.unsubscribeTimer();\r\n        this.initTimers(difference / 2);\r\n    }\r\n\r\n    public startTimerBPMSession(sessionTimeout: number) {\r\n        let timeoutMilliseconds = sessionTimeout * 60000\r\n        const oneDayMilliseconds = 86400000;\r\n        if (timeoutMilliseconds > oneDayMilliseconds) {\r\n            timeoutMilliseconds = oneDayMilliseconds;\r\n        }\r\n        this.unsubscribeTimerSessionBPM();\r\n        this.bpmSessionTimer = interval(timeoutMilliseconds / 2);\r\n        this.bpmSessionTimer\r\n            .takeUntil(this.expirationTimerSessionBPMUnsubscribe)\r\n            .subscribe(() => {\r\n                const iframe = this.getIframe();\r\n                this.sendMessageToIframe(iframe, 'keep-alive-session', {});\r\n            });\r\n    }\r\n\r\n    public unsubscribeTimer() {\r\n        this.expirationTimerUnsubscribe.next();\r\n    }\r\n\r\n    public unsubscribeTimerSessionBPM() {\r\n        this.expirationTimerSessionBPMUnsubscribe.next();\r\n    }\r\n\r\n    private initTimers(value: number) {\r\n        this.expirationTimer = timer(value);\r\n        this.endingTimer = timer(value);\r\n        this.startExpirationTimer();\r\n    }\r\n\r\n    private startExpirationTimer() {\r\n        this.expirationTimer\r\n            .takeUntil(this.expirationTimerUnsubscribe)\r\n            .subscribe(() => {\r\n                this.showAlertIdleSession();\r\n                this.startEndingTimer();\r\n            });\r\n    }\r\n\r\n    private startEndingTimer() {\r\n        this.endingTimer\r\n            .takeUntil(this.expirationTimerUnsubscribe)\r\n            .subscribe(() => {\r\n                this.showAlertTimeoutSession();\r\n            });\r\n    }\r\n\r\n\r\n\r\n    private sendMessageToIframe(iframe, eventType, message = null) {\r\n        const data = {\r\n            event: eventType,\r\n            message,\r\n            sitesEl: this._oAuthClient.getToken()\r\n        };\r\n        console.log('------- MESSAGE OUT -------', data.event, data.message);\r\n        iframe[0]?.contentWindow.postMessage(data, this.targetOrigin);\r\n    }\r\n\r\n    private getIframeFake() {\r\n        const element = this.elementReference?.nativeElement;\r\n        return $('#bs-bizagi-process-fake', element);\r\n    }\r\n\r\n    private getIframe() {\r\n        const element = this.elementReference?.nativeElement;\r\n        return $('#bs-bizagi-process', element);\r\n    }\r\n    private showAlertIdleSession() {\r\n        this.closeOpenModals();\r\n        this._modalRefSessionIdle = this._modalService.open(ConfirmDialogModalComponent, {\r\n            backdropClass: 'cdk-overlay-dark-backdrop-custom',\r\n            maxWidth: '500px',\r\n            closeOnBackdropClick: false,\r\n            data: {\r\n                message: 'messages.session.MSG_IDLE',\r\n                title: 'messages.session.TITLE_IDLE',\r\n                confirmButtonText: 'messages.session.BTN_CONTINUE',\r\n                cancelButton: false,\r\n                icon: 'icon-warning',\r\n                iconColor: 'warning'\r\n            }\r\n        });\r\n\r\n        this._modalRefSessionIdle.afterClosed().subscribe(async result => {\r\n            if (result && result.type === 'confirm') {\r\n                this.unsubscribeTimer();\r\n                const newToken = await this.refreshToken();\r\n                this.startTimerSession(newToken.expiration);\r\n                this._modalRefSessionIdle.close();\r\n            } else {\r\n                this._modalRefSessionIdle.close();\r\n            }\r\n        });\r\n    }\r\n\r\n    private showAlertTimeoutSession() {\r\n        this.closeOpenModals();\r\n        this._modalRefSessionTimeout = this._modalService.open(ConfirmDialogModalComponent, {\r\n            backdropClass: 'cdk-overlay-dark-backdrop-custom',\r\n            maxWidth: '500px',\r\n            closeOnBackdropClick: false,\r\n            data: {\r\n                message: 'messages.session.MSG_TIMEOUT',\r\n                title: 'messages.session.TITLE_TIMEOUT',\r\n                confirmButtonText: 'messages.session.BTN_LOGIN',\r\n                cancelButton: false,\r\n                icon: 'icon-warning',\r\n                iconColor: 'warning'\r\n            }\r\n        });\r\n\r\n        this._modalRefSessionTimeout.afterClosed().subscribe(async result => {\r\n            if (result && result.type === 'confirm') {\r\n                this._modalRefSessionTimeout.close();\r\n                this.unsubscribeTimer();\r\n                this._oAuthClient.logout();\r\n            } else {\r\n                this._oAuthClient.logout();\r\n                this._modalRefSessionTimeout.close();\r\n            }\r\n        });\r\n    }\r\n\r\n    private closeOpenModals() {\r\n        _.each(this._modalService.openModals, (modal) => {\r\n            modal.close();\r\n        });\r\n    }\r\n\r\n}","import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { OAuthClientHelper } from 'app/common/services/oauth/oauth-client.helper';\r\nimport { RestApiSevice } from 'app/common/services/oauth/rest-api.service';\r\nimport { UserService } from 'app/common/services/sites/user.service';\r\nimport {HttpClient, HttpXsrfTokenExtractor} from '@angular/common/http';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { FontsServiceCommon } from 'app/common/services/sites/fonts.service';\r\nimport { Store } from '@ngrx/store';\r\nimport { LoadFonts } from '../../../editor/site-manager/store/fonts/fonts.actions';\r\nimport { LoadCustomThemes } from 'app/editor/site-manager/store/themes/themes.actions';\r\nimport { SessionHandlerService } from 'app/common/services/oauth/session-handler.service';\r\nimport {Cookie} from 'ng2-cookies/ng2-cookies';\r\n\r\n@Component({\r\n  selector: 'bs-site-login',\r\n  template: ''\r\n})\r\nexport class LoginComponent {\r\n\r\n  private queryParams: { [key: string]: any };\r\n\r\n  constructor(private oAuthClient: OAuthClientHelper, protected api: RestApiSevice,\r\n    private router: Router, private route: ActivatedRoute,\r\n    private _http: HttpClient,\r\n    protected _store: Store<IEditorState>,\r\n    private _userService: UserService,\r\n    private _sessionHandlerService: SessionHandlerService,\r\n    private tokenExtractor: HttpXsrfTokenExtractor\r\n  ) {\r\n    this.route.queryParams.subscribe(async (params) => {\r\n      this.queryParams = params;\r\n      await this.login();\r\n    });\r\n\r\n  }\r\n\r\n  async login() {\r\n    const XSRFtoken = this.tokenExtractor.getToken() as string;\r\n    $.ajaxSetup({\r\n      beforeSend(xhr) {\r\n        xhr.setRequestHeader('X-XSRF-TOKEN', XSRFtoken);\r\n      }\r\n    });\r\n    const environment = await this.getExecutionEnvironment();\r\n    const type = environment.executionEnvironment === 'ONPREMISES' ? 'bizagi' : 'accounts';\r\n    Global.bizagiEnvironment = environment;\r\n    console.log('Environment type: ', type);\r\n    console.log('Global.bizagiEnvironment: ', Global.bizagiEnvironment);\r\n    const result = await this.oAuthClient.login({\r\n      queryParams: this.queryParams,\r\n      identityServer: this.queryParams.identityServer || null\r\n    }, type);\r\n    if (result) {\r\n      if (Global.isOnRenderMode()) {\r\n        sessionStorage.setItem('userLoggedOn', JSON.stringify(true));\r\n        if(Global.isInternetExplorer()) {\r\n          Cookie.set('USERLOGGEDON', JSON.stringify(true));\r\n        }\r\n      }\r\n      this.userPreferences();\r\n      this.redirect();\r\n      this._store.dispatch(new LoadFonts());\r\n      this._store.dispatch(new LoadCustomThemes());\r\n      const expiration = this.oAuthClient.getExpiration();\r\n      this._sessionHandlerService.unsubscribeTimer();\r\n      this._sessionHandlerService.startTimerSession(expiration);\r\n    }\r\n\r\n  }\r\n\r\n  redirect() {\r\n    const redirectRoute = this.queryParams.redirectRoute || Global.getRedirectRoute(this.queryParams) || '';\r\n    const newParams = _.clone(this.queryParams);\r\n    // Delete internal params\r\n    delete newParams.identityServer;\r\n    delete newParams.redirectRoute;\r\n    delete newParams.code;\r\n    delete newParams.state;\r\n    // Redirect\r\n    this.router.navigateByUrl(redirectRoute + '?' + $.param(newParams), { preserveQueryParams: true });\r\n  }\r\n\r\n  public async userPreferences() {\r\n    let userProfile = this.oAuthClient.getProfile();\r\n    if (!userProfile) {\r\n      await this.oAuthClient.refreshToken();\r\n      userProfile = this.oAuthClient.getProfile();\r\n    }\r\n    await this._userService.createUserPreferences(userProfile);\r\n  }\r\n\r\n  async getExecutionEnvironment(): Promise<any> {\r\n    const response = await this._http.get('api/sites/executionEnvironment').toPromise();\r\n    return response;\r\n  }\r\n}\r\n","// Local imports\r\nimport { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'bs-site-renderer',\r\n  template: '',\r\n})\r\nexport class SiteRenderComponent {\r\n  private site: ISite;\r\n\r\n  constructor(private _router: Router) {\r\n  }\r\n\r\n  redirectToSite(home: string) {\r\n    this._router.navigate([this.site.url, this.site.homePageName]);\r\n  }\r\n}\r\n","import {createSelector} from '@ngrx/store';\r\n\r\nconst renderSelector = (state: IRenderState) => state;\r\n\r\nexport const getSiteResources = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => _.orderBy(state.multilanguage.resources, r=>r.language.displayName)\r\n);\r\nexport const getSiteLanguage = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.multilanguage.currentLanguage\r\n);\r\nexport const getLastBpmLanguage = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.multilanguage.currentLanguage.lastBPMLanguage\r\n);\r\nexport const getResourcesByName = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.multilanguage.resourcesByName\r\n);\r\n\r\n","import { Action } from '@ngrx/store';\r\n\r\nexport const multilanguageActions = {\r\n  LOAD_CURRENT_LANGUAGE: '[Multilanguage Actions] Load Current Language',\r\n  LOAD_CURRENT_LANGUAGE_SUCCESS: '[Multilanguage Actions] Load Current Language success',\r\n  LOAD_SITE_RESOURCES_SUCCESS: '[Multilanguage Actions] Load Site Resources success',\r\n  UPDATE_CURRENT_LANGUAGE: '[Multilanguage Actions] Update Current Language',\r\n  UPDATE_CURRENT_LANGUAGE_SUCCESS: '[Multilanguage Actions] Update Current Language Success',\r\n  UPDATE_LAST_BPM_LANGUAGE: '[Multilanguage Actions] Update Last BPM Language',\r\n  UPDATE_LAST_BPM_LANGUAGE_SUCCESS: '[Multilanguage Actions] Update Last BPM Language Success',\r\n  LOAD_SITE_RESOURCES_BY_NAME: '[Multilanguage Actions] Load Site Resources by name',\r\n};\r\n\r\nexport class LoadCurrentLanguage implements Action {\r\n  readonly type = multilanguageActions.LOAD_CURRENT_LANGUAGE;\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport class LoadCurrentLanguageSuccess implements Action {\r\n  readonly type = multilanguageActions.LOAD_CURRENT_LANGUAGE_SUCCESS;\r\n  constructor(public payload: ILanguageResource) {}\r\n}\r\n\r\nexport class LoadSiteResourcesSuccess implements Action {\r\n  readonly type = multilanguageActions.LOAD_SITE_RESOURCES_SUCCESS;\r\n  constructor(public payload: Array<ISiteResource>) {}\r\n}\r\n\r\nexport class LoadSiteResourcesByName implements Action {\r\n  readonly type = multilanguageActions.LOAD_SITE_RESOURCES_BY_NAME;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport class UpdateCurrentLanguage implements Action {\r\n  readonly type = multilanguageActions.UPDATE_CURRENT_LANGUAGE;\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport class UpdateCurrentLanguageSuccess implements Action {\r\n  readonly type = multilanguageActions.UPDATE_CURRENT_LANGUAGE_SUCCESS;\r\n  constructor(public payload: ILanguageResource) {}\r\n}\r\n\r\nexport class UpdateLastBPMLanguage implements Action {\r\n  readonly type = multilanguageActions.UPDATE_LAST_BPM_LANGUAGE;\r\n  constructor(public payload: string) {}\r\n}\r\nexport class UpdateLastBPMLanguageSuccess implements Action {\r\n  readonly type = multilanguageActions.UPDATE_LAST_BPM_LANGUAGE_SUCCESS;\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport type MultilanguageActions = LoadCurrentLanguage\r\n  | LoadCurrentLanguageSuccess\r\n  | LoadSiteResourcesSuccess\r\n  | UpdateCurrentLanguageSuccess\r\n  | UpdateLastBPMLanguage\r\n  | UpdateLastBPMLanguageSuccess\r\n  | UpdateCurrentLanguage;\r\n\r\n","import { Action } from '@ngrx/store';\r\n\r\nexport const loadingActions = {\r\n  UPDATE_LOADING: '[Loading Actions] Update loading'\r\n};\r\n\r\nexport class UpdateLoading implements Action {\r\n  readonly type = loadingActions.UPDATE_LOADING;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport type LoadingActions = UpdateLoading;","<bzg-modal-header >\r\n    <span class=\"bz-modal__title\">{{ 'siteeditor.formsettings.SELECT_ORGANIZATION_TITLE' | translate  }}</span>\r\n    <bzg-button-icon icon=\"icon-close\" (click)=\"close()\"></bzg-button-icon>\r\n  </bzg-modal-header>\r\n  <bzg-modal-content>\r\n\r\n    <div class=\"bz-space--stack-m bz-font-weight--semibold\">\r\n      <label>\r\n        {{ 'siteeditor.formsettings.SELECT_ORGANIZATION_MESSAGE' | translate  }}\r\n      </label>\r\n    </div>\r\n\r\n    <div class=\"bs-select-organization__content\" >\r\n      <div class=\"bs-select-organization__content__item\" *ngFor=\"let organization of data.organizations\"\r\n        [ngClass]=\"{'bs-select-organization__content__item--selected': organizationSelected && organizationSelected.id == organization.id}\">\r\n        <div (click)=\"selectOrganization(organization)\">\r\n            <bzg-radio-button [name]=\"'organization'\"\r\n                [checked]=\"organizationSelected && organizationSelected.id == organization.id\" value=\"organization.id\">\r\n                {{organization.displayName}}\r\n            </bzg-radio-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n\r\n  </bzg-modal-content>\r\n  <bzg-modal-footer>\r\n    <bzg-button-secondary (click)=\"close()\">\r\n      {{ 'siteeditor.global.CANCEL' | translate}}\r\n    </bzg-button-secondary>\r\n    <bzg-button-primary [disabled]=\"!organizationSelected\" (click)=\"confirm()\">\r\n      {{ 'siteeditor.global.OK' | translate}}\r\n    </bzg-button-primary>\r\n  </bzg-modal-footer>\r\n","import { Component, Inject, NgZone } from '@angular/core';\r\nimport { BzgModalRef, BZG_MODAL_DATA } from 'bz-genome-angular';\r\n\r\n@Component({\r\n    selector: 'bs-select-organization-modal',\r\n    templateUrl: './select-organization-modal.component.html',\r\n    styleUrls: ['./select-organization-modal.component.scss']\r\n})\r\nexport class SelectOrganizationModalComponent {\r\n    public organizationSelected;\r\n    constructor(\r\n        private _modalComponentRef: BzgModalRef,\r\n        @Inject(BZG_MODAL_DATA) public data: {\r\n            organizations: any,\r\n        }\r\n    ) { }\r\n\r\n\r\n    public selectOrganization(organization) {\r\n        this.organizationSelected = organization;\r\n    }\r\n\r\n    public close() {\r\n     this._modalComponentRef.close();\r\n    }\r\n\r\n\r\n    public confirm() {\r\n        this._modalComponentRef.close({\r\n            type: 'confirm',\r\n            params: {\r\n                organizationId: this.organizationSelected.id\r\n        }});\r\n    }\r\n}\r\n","import {createSelector} from '@ngrx/store';\r\n\r\nconst renderSelector = (state: IRenderState) => state;\r\n\r\nexport const getSiteUser = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.user\r\n);\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { RestApiSevice } from '../oauth/rest-api.service';\r\n\r\n@Injectable()\r\nexport class ThemeService {\r\n  private themes: Array<ITheme>;\r\n  private webpartThemes: any;\r\n  private themeVariables: { [key: string]: string } = {\r\n    'color-first': '#FAFAFA ',\r\n    'color-second': '#9E9E9E ',\r\n    'color-third': '#757575 ',\r\n    'color-fourth': '#FFFFFF',\r\n    font: 'opensans, Helvetica, sans-serif'\r\n  };\r\n  private _endpoints = {\r\n    customThemes: 'api/sites/customThemes',\r\n  };\r\n  constructor(private _restApiService: RestApiSevice, private _sanitizer: DomSanitizer) {\r\n    this.themes = [\r\n      {\r\n        id: '6b72f0d0-c6b8-4bc9-8506-b20982643a00',\r\n        displayName: 'Luxury',\r\n        colors: ['#89711f', '#c0b283', '#dcd0c0', '#272727'],\r\n        fileName: ''\r\n      },\r\n      {\r\n        id: '0748c562-1d16-439e-8795-8f0be0bb5971',\r\n        displayName: 'Sky',\r\n        colors: ['#4484ce', '#f2bf08', '#00142b', '#272727'],\r\n        fileName: ''\r\n      },\r\n      {\r\n        id: '3ed7d38a-af57-429f-b829-e4de141fbc16',\r\n        displayName: 'Modern',\r\n        colors: ['#07889b', '#adc345', '#033840', '#272727'],\r\n        fileName: ''\r\n      },\r\n      {\r\n        id: 'a13d181a-5e75-4055-8569-56f0c92bb2df',\r\n        displayName: 'Beezagi',\r\n        colors: ['#0a1612', '#f7ce3e', '#1a2930', '#272727'],\r\n        fileName: ''\r\n      },\r\n      {\r\n        id: 'bfef2652-eac3-4bf6-b30d-7094de2cad00',\r\n        displayName: 'Clear',\r\n        colors: ['#033840', '#94c2cc', '#caebf2', '#272727'],\r\n        fileName: ''\r\n      },\r\n      {\r\n        id: '4760dc64-e96b-426b-b60c-a04f47f2b4ac',\r\n        displayName: 'Lavender',\r\n        colors: ['#513746', '#bbb5c1', '#846d7a', '#272727'],\r\n        fileName: ''\r\n      }\r\n    ];\r\n\r\n    this.webpartThemes = {\r\n      'active-border-radius': 'true',\r\n      'active-box-shadow': 'false',\r\n      'active-smart-contrast': 'false',\r\n      'active-text-shadow': 'false',\r\n      background: '#ffffff',\r\n      button: 'color-second',\r\n      'button-text': 'color-sixth',\r\n      content: '#ffffff',\r\n      'content-border': '#ffffff',\r\n      'content-link': 'color-sixth',\r\n      'font-family': '\\'Open Sans\\', \\'Helvetica Neue\\', Arial, Helvetica, sans-serif',\r\n      'form-container': 'color-fifth',\r\n      'form-grid': 'color-third',\r\n      'form-grid-border': 'color-second',\r\n      'form-group': 'color-fifth',\r\n      'form-group-border': 'color-second',\r\n      'form-input': '#ffffff',\r\n      'form-input-border': 'color-second',\r\n      'form-tab': 'color-third',\r\n      'form-tab-border': 'color-second',\r\n      'form-text': 'color-sixth',\r\n      'logo-background': '#ffffff',\r\n      'minimum-line-height': 'inactive',\r\n      modal: 'color-fifth',\r\n      'modal-border': 'color-second',\r\n      navigation: 'color-second',\r\n      'navigation-border': 'color-fifth',\r\n      'navigation-link': 'color-second',\r\n      'navigation-submenu-background': 'color-fifth',\r\n      'navigation-submenu-text': 'color-sixth',\r\n      'normal-line-height': 'active',\r\n      pane: 'color-third',\r\n      'sidebar-image-theme': 'url(\\'jquery/workportal/css/desktop/images/bg-landscape.png\\')',\r\n      text: 'color-sixth',\r\n      title: 'color-first',\r\n      tooltip: 'color-sixth',\r\n      'color-second': 'color-second',\r\n      'color-third': 'color-third',\r\n      'color-fourth': 'color-fourth',\r\n      sites: 'true'\r\n    };\r\n  }\r\n\r\n  public getThemes() {\r\n    return this.themes;\r\n  }\r\n\r\n  public getCustomThemes() {\r\n    return this._restApiService.get({ url: this._endpoints.customThemes });\r\n  }\r\n\r\n  public async loadSiteTheme(theme: string) {\r\n    this.removePrevThemeLinks();\r\n    const head = document.getElementsByTagName('head')[0];\r\n    const link = document.createElement('link');\r\n    link.rel = 'stylesheet';\r\n    link.type = 'text/css';\r\n    let url = 'assets/themes/' + Global.deleteRelativeBackUrl(theme) + '.min.css';\r\n    if (theme.indexOf('custom_') >= 0) {\r\n      const themeFile = await this._restApiService.get({ url: 'api/sites/customThemes/' + theme.replace('custom_', '') }).toPromise();\r\n      if (themeFile) {\r\n        const blob = Global.b64toBlob(themeFile, 'text/css');\r\n        url = window.URL.createObjectURL(blob);\r\n        const themeUrl = {};\r\n        themeUrl[theme.replace('custom_', '')] = url;\r\n        localStorage.setItem('themeUrlByName', JSON.stringify(themeUrl));\r\n      }\r\n    }\r\n    link.href = url;\r\n    link.media = 'all';\r\n    head.appendChild(link);\r\n  }\r\n\r\n  public removePrevThemeLinks() {\r\n    // Remove previous themes\r\n    const prevThemes = document.getElementsByTagName('link');\r\n    for (let i = 0; i < prevThemes.length; i++) {\r\n      if ($(prevThemes[i]).attr('href').indexOf('assets/themes') !== -1 || $(prevThemes[i]).attr('href').indexOf('blob') !== -1) {\r\n        $(prevThemes[i]).remove();\r\n        localStorage.removeItem('themeUrlByName');\r\n      }\r\n    }\r\n  }\r\n\r\n  public removePrevThemeLinkByName(themeName: string) {\r\n    // Remove previous themes\r\n    const prevThemes = document.getElementsByTagName('link');\r\n    const urlByThemeName = JSON.parse(localStorage.getItem('themeUrlByName'));\r\n    for (let i = 0; i < prevThemes.length; i++) {\r\n      if (($(prevThemes[i]).attr('href').indexOf('assets/themes') !== -1 && $(prevThemes[i]).attr('href').indexOf(themeName) !== -1)\r\n        ||($(prevThemes[i]).attr('href').indexOf('blob') !== -1 && $(prevThemes[i]).attr('href').indexOf(urlByThemeName[themeName]) !== -1)\r\n        ) {\r\n        $(prevThemes[i]).remove();\r\n        localStorage.removeItem('themeUrlByName');\r\n      }\r\n    }\r\n  }\r\n\r\n  public refreshThemeVariables() {\r\n    const regexp = /#bs-form-theme-([\\w-]+)__([\\w-]+)/g;\r\n\r\n    // First, iterate through all stylesheets\r\n    for (let i = 0; i < document.styleSheets.length; i++) {\r\n      try {\r\n        const mysheet = (document.styleSheets[i]) as any;\r\n        const myrules = mysheet.cssRules ? mysheet.cssRules : mysheet.rules || [];\r\n        let primary_color = '';\r\n        let secondary_color = '';\r\n        let third_color = '';\r\n        let fourth_color = '';\r\n\r\n        // Second, iterate through all rules in the given stylesheet\r\n        for (let j = 0; j < myrules.length; j++) {\r\n          if (myrules[j].selectorText === 'html' && myrules[j].cssText.indexOf('--primary-color') >= 0) {\r\n            primary_color = (myrules[j].cssText.match(/--primary-color: *([^;]+);/i) || ['', ''])[1];\r\n            secondary_color = (myrules[j].cssText.match(/--secondary-color: *([^;]+);/i) || ['', ''])[1];\r\n            third_color = (myrules[j].cssText.match(/--third-color: *([^;]+);/i) || ['', ''])[1];\r\n            fourth_color = (myrules[j].cssText.match(/--fourth-color: *([^;]+);/i) || ['', ''])[1];\r\n          }\r\n          const selector = myrules[j].selectorText;\r\n          if (selector) {\r\n            // Try to match, in order to find the different generated rules for form themes\r\n            let match = regexp.exec(selector);\r\n            while (match != null) {\r\n              const variable = match[1];\r\n              const cssProp = match[2];\r\n              this.themeVariables[variable] = myrules[j].style[cssProp]?.replace('var(--primary-color)', primary_color)\r\n                .replace('var(--secondary-color)', secondary_color)\r\n                .replace('var(--third-color)', third_color)\r\n                .replace('var(--fourth-color)', fourth_color);\r\n\r\n              // Get next match\r\n              match = regexp.exec(selector);\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log('error to load themes', error);\r\n      }\r\n    }\r\n  }\r\n  public getThemeVariables() {\r\n    return this.themeVariables;\r\n  }\r\n  public getWebpartThemeVariables(): any {\r\n    const webpartMappedTheme: { [key: string]: string } = { ...this.webpartThemes };\r\n    for (const key of Object.keys(this.webpartThemes)) {\r\n      if (this.themeVariables[this.webpartThemes[key]]) {\r\n        webpartMappedTheme['@' + key] = this.themeVariables[this.webpartThemes[key]];\r\n      } else {\r\n        webpartMappedTheme['@' + key] = this.webpartThemes[key];\r\n      }\r\n      delete webpartMappedTheme[key];\r\n    }\r\n    return webpartMappedTheme;\r\n  }\r\n\r\n  public createCustomTheme(data, replace = false) {\r\n    return this._restApiService.post({\r\n      url: `${this._endpoints.customThemes}/${replace}`,\r\n      body: data\r\n    });\r\n  }\r\n\r\n  public removeCustomTheme(data) {\r\n    return this._restApiService.delete({\r\n      url: `${this._endpoints.customThemes}/${data}`,\r\n      body: data\r\n    });\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-loader-bars',\r\n  templateUrl: './loader-bars.component.html',\r\n  styleUrls: ['./loader-bars.component.scss']\r\n})\r\nexport class LoaderBarsComponent {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"bs-loader-bars bs-loader-bars--btn\">\r\n  <div class=\"rect1\"></div>\r\n  <div class=\"rect2\"></div>\r\n  <div class=\"rect3\"></div>\r\n  <div class=\"rect4\"></div>\r\n  <div class=\"rect5\"></div>\r\n</div>\r\n","<div class=\"bs-modal bs-effect-slidedown\"\r\n  [ngClass]=\"(globalSettings && globalSettings.modal && globalSettings.modal.size ? 'bs-modal--' + globalSettings.modal.location : 'bs-modal--centered')\"\r\n  [ngStyle]=\"{'z-index':isModalOn ? 1000 : 9999 }\">\r\n  <div class=\"bs-modal__wrapper\"\r\n    [ngClass]=\"[globalSettings && globalSettings.modal && globalSettings.modal.size ? 'bs-modal__wrapper--' + globalSettings.modal.size : 'bs-modal__wrapper--small']\">\r\n    <div class=\"bs-modal__title-container\">\r\n      <h2 class=\"bs-modal__title --first-word\" *ngIf=\"title && title !== 'none'\"> {{title | translate}}</h2>\r\n      <h2 class=\"bs-modal__title --first-word\" *ngIf=\"!title\">&nbsp;</h2>\r\n      <ng-content select=\".bs-modal__title-custom\"></ng-content>\r\n\r\n      <div class=\"bs-modal__options\">\r\n        <bzg-button-secondary size=\"s\" icon=\"icon-go-down\" class=\"bs-modal__go-down\" (click)=\"goDown()\" *ngIf=\"isShowGoDown\">\r\n          {{'siteeditor.formsettings.GO_DOWN' | translate}}\r\n        </bzg-button-secondary>\r\n\r\n        <a class=\"bs-modal__close\" (click)=\"close()\">\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n            <use href=\"#icon-close\" xlink:href=\"#icon-close\"></use>\r\n          </svg>\r\n        </a>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"bs-modal__content\">\r\n      <bzg-button-icon iconSize=12 class=\"bs-modal__float-go-down\" *ngIf=\"isShowGoDown\" (click)=\"goDown()\" icon=\"icon-go-down\"></bzg-button-icon>\r\n      <ng-content></ng-content>\r\n      <div class=\"bs-modal__footer\" *ngIf=\"buttons && buttons.length\">\r\n        <button class=\"bs-modal__footer__button bs-modal__footer__button--expand bs-btn\" *ngFor=\"let button of buttons\"\r\n          [attr.value]=\"button.name\" (click)=\"buttonClicked(button.name)\"\r\n          [disabled]=\"isLoading &&  isLoading === button.name\" [ngClass]=\"{\r\n                    'bs-modal__footer__button--secondary': button.type === 'secondary'\r\n                    }\">\r\n          <span *ngIf=\"!isLoading || isLoading !== button.name\">{{button.caption | translate}}</span>\r\n          <bs-loader-bars *ngIf=\"isLoading &&  isLoading === button.name\"></bs-loader-bars>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, ElementRef, EventEmitter, Input, Output} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-modal-webparts',\r\n  templateUrl: './modal-webparts.component.html',\r\n  styleUrls: ['./modal-webparts.component.scss']\r\n})\r\nexport class ModalWebPartsComponent {\r\n\r\n  @Input() title: string;\r\n  @Input() buttons: Array<IButton>;\r\n  @Input() globalSettings: IGlobalSetting;\r\n  @Input() isShowGoDown = false;\r\n  @Input() isModalOn = false;\r\n  @Output() onClose = new EventEmitter();\r\n  @Output() onGoDown = new EventEmitter();\r\n  @Output() onButtonClick = new EventEmitter();\r\n\r\n  private modal;\r\n  private dialog;\r\n  private header;\r\n  private footer;\r\n\r\n  public isLoading: string;\r\n\r\n  constructor(private elementReference: ElementRef) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.modal = $('.bs-modal', this.elementReference.nativeElement);\r\n    this.dialog = $('.bs-dialog', this.elementReference.nativeElement);\r\n    this.header = $('.bs-dialog-header', this.elementReference.nativeElement);\r\n    this.footer = $('.bs-dialog-footer', this.elementReference.nativeElement);\r\n  }\r\n\r\n  public open() {\r\n    this.modal.addClass('open');\r\n    $('body').addClass('--no-scroll --modal');\r\n  }\r\n\r\n  public close() {\r\n    this.onClose.emit();\r\n  }\r\n\r\n  public closeModal() {\r\n    this.modal.removeClass('open');\r\n    $('body').removeClass('--no-scroll --modal');\r\n  }\r\n\r\n  public loading(button) {\r\n    this.isLoading = button;\r\n  }\r\n\r\n  public goDown() {\r\n    this.onGoDown.next(null);\r\n  }\r\n\r\n  public buttonClicked(action: string) {\r\n    this.onButtonClick.emit(action);\r\n  }\r\n}\r\n","<div class=\"bs-bizagi-form-component\">\r\n  <bs-modal-webparts #modal [title]=\"'none'\" [globalSettings]=\"site.globalSettings\" (onClose)=\"onCloseForm()\"\r\n    (onGoDown)=\"goDown()\" [isShowGoDown]=\"showGoDown\" [isModalOn]='isModalOn'>\r\n    <div class=\"bs-modal__title-custom bs-bizagi-form__header-title\">\r\n      <h2 class=\"bs-bizagi-form__title bz-space--inline-m\">\r\n        <div  *ngIf=\"formTitle.process || formTitle.activityName || formTitle.caseNumber\">\r\n          <span *ngIf=\"formTitle.process\"> {{formTitle.process}}</span>\r\n          <span *ngIf=\"formTitle.process && (formTitle.activityName || (!formTitle.activityName &&  formTitle.caseNumber))\" class=\"bs-bizagi-form__header-title--separator\"> / </span>\r\n          <span *ngIf=\"formTitle.activityName\"> {{formTitle.activityName}}</span>\r\n          <span *ngIf=\"formTitle.activityName && formTitle.caseNumber\" class=\"bs-bizagi-form__header-title--separator\"> / </span>\r\n          <span *ngIf=\"formTitle.caseNumber\"> {{formTitle.caseNumber}}</span>\r\n        </div>\r\n        <div *ngIf=\"!formTitle.process && !formTitle.activityName && !formTitle.caseNumber && !showLoading\">\r\n          <span> {{'siteeditor.formsettings.NEW_CASE' | translate}}</span>\r\n        </div>\r\n      </h2>\r\n\r\n      <bzg-button-secondary class=\"bs-bizagi-form__activities-button\" size=\"s\" *ngIf=\"workItems.length > 1\" [bzgTooltipPosition]=\"'below'\" [bzgTooltip]=\"'siteeditor.formsettings.CASE_ACTIVITIES' | translate\"\r\n        [bzgMenuTrigger]=\"caseActivities\">\r\n        {{'siteeditor.formsettings.ACTIVITIES' | translate}}\r\n      </bzg-button-secondary>\r\n\r\n      <bzg-menu #caseActivities [bzgMenuMinWidth]=\"170\">\r\n        <div style=\"text-transform: uppercase; padding: .8rem 1.6rem;\" >{{'siteeditor.formsettings.CASE_ACTIVITIES' | translate}}</div>\r\n        <bzg-menu-item *ngFor=\"let item of workItems; let i = index;\" (click)=\"onChangeCaseActivity(null, i)\" >\r\n            <span> {{item.taskName}} </span>\r\n        </bzg-menu-item>\r\n      </bzg-menu>\r\n\r\n    </div>\r\n\r\n    <div class=\"bs-bizagi-form-component__tabs bz-space--stack-m\" *ngIf=\"parameters.control === 'my-cases'\">\r\n      <button [ngClass]=\"{'bz-btn--primary': tabSelected === 0, 'bz-btn--secondary':  tabSelected === 1}\"\r\n        class=\"bz-btn bs-bizagi-form-component__tabs__first\" (click)=\"selectedTab(0, true); tabSelected = 0;\">\r\n        {{'siteeditor.formsettings.FORM_ACTIVITY_TAB' | translate}}\r\n      </button>\r\n      <button class=\"bz-btn bs-bizagi-form-component__tabs__second\"\r\n        [ngClass]=\"{'bz-btn--primary': tabSelected === 1, 'bz-btn--secondary':  tabSelected === 0}\"\r\n        (click)=\"selectedTab(1, true); tabSelected = 1\">\r\n        {{'siteeditor.formsettings.FORM_SUMMARY_TAB' | translate}}\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"bs-bizagi-form-component__content bs-modal__content--no-scroll\"\r\n      [ngClass]=\"{'bs-bizagi-form-component__content__custom-height': parameters.control === 'my-cases'}\">\r\n\r\n      <div *ngIf=\"!showLoading && showActivitiesSelector && workItems.length > 1\" class=\"activities-modal\" >\r\n        <p>\r\n            {{'siteeditor.formsettings.SELECT_ACTIVITY_TO_WORK' | translate}}\r\n        </p>\r\n        <ul>\r\n            <li class=\"activities-modal__item\" *ngFor=\"let activity of workItems; let i = index\">\r\n                <div class=\"activities-modal__item--info\">\r\n                    <span>\r\n                        {{activity.taskName}}\r\n                    </span>\r\n                    <span class=\"bz-font-size--body-small\">\r\n                        {{'siteeditor.formsettings.DUE_DATE' | translate}}: {{activity.dueDate}}\r\n                    </span>\r\n                </div>\r\n                <bzg-button-secondary (click)=\"onChangeCaseActivity(null, i)\" class=\"activities-modal__work-button\" size=\"s\">\r\n                    {{'siteeditor.formsettings.WORK_ON_IT' | translate}}\r\n                </bzg-button-secondary>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n      <div class=\"bs-loader bs-loader--md  bs-loader--centered\" *ngIf=\"showLoading || !showIframe && !infoMessage && !errorMessage && !showActivitiesSelector\">\r\n        <div class=\"bs-loader__spinner\">\r\n          <div class=\"bs-loader__double-bounce1\"></div>\r\n          <div class=\"bs-loader__double-bounce2\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"!showLoading && (infoMessage || errorMessage) && tabSelected === 0\"\r\n        class=\"bs-bizagi-form-component__image\">\r\n        <div class=\"bs-bizagi-form-component__image\" *ngIf=\"!errorMessage\">\r\n          <img *ngIf=\"infoMessage === CASE_CLOSED\" src=\"assets/images/bz_neutral_work_done.png\">\r\n          <img *ngIf=\"infoMessage === NO_PENDING_ACTIVITIES || infoMessage === CASE_CANCELED\" src=\"assets/images/bz_neutral_no_data_found.png\">\r\n          <p *ngIf=\"infoMessage === CASE_CLOSED\" class=\"bz-font-size--body bz-space--stack-xl\">{{'messages.info.CASE_CLOSED' | translate}}</p>\r\n          <p *ngIf=\"infoMessage === CASE_CANCELED\" class=\"bz-font-size--body bz-space--stack-xl\">{{'messages.info.CASE_CANCELED' | translate}}</p>\r\n          <p *ngIf=\"infoMessage === NO_PENDING_ACTIVITIES\" class=\"bz-font-size--body bz-space--stack-xl\">\r\n            {{'siteeditor.global.PENDING_ACTIVITIES_MESSAGE' | translate}}</p>\r\n\r\n          <div *ngIf=\"!errorMessage\" class=\"bs-bizagi-form-component__image--buttons\">\r\n            <button [ngClass]=\"{'bz-btn--secondary': showLoadFormButton, 'bz-btn--primary' : !showLoadFormButton}\"\r\n            class=\"bz-btn bz-space--inline-m\"\r\n            (click)=\"onCloseForm();\">\r\n            {{'siteeditor.global.CLOSE' | translate}}\r\n          </button>\r\n          <button class=\"bz-btn bz-btn--primary\" *ngIf=\"showLoadFormButton\"\r\n          (click)=\"loadGlobalForm();\">\r\n          {{'siteeditor.formsettings.FORM_SHOW_GLOBAL' | translate}}\r\n          </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"bs-bizagi-form-component__image\" *ngIf=\"errorMessage\">\r\n          <img src=\"assets/images/bz_neutral_not_found.png\">\r\n          <h4 class=\"bz-font-size--subheading bz-font-weight--semibold\">\r\n            {{'messages.error.PROCESS_ERROR_TITLE' | translate}}</h4>\r\n          <p class=\"bz-font-size--body bz-space--stack-xl\">{{'messages.error.PROCESS_ERROR_TEXT' | translate}}</p>\r\n          <button class=\"bz-btn bz-btn--primary\" (click)=\"onCloseForm();\">\r\n            {{'messages.error.PROCESS_ERROR_BUTTON_TEXT' | translate}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <iframe sandbox=\"allow-same-origin allow-scripts allow-forms allow-modals allow-popups allow-downloads\" id=\"bs-bizagi-process\" src=\"\"\r\n        [ngClass]=\"{'op_show': showIframe && !showLoading && !showActivitiesSelector && iframeType !== 'casesummary', 'op': !showIframe || showLoading || showActivitiesSelector || iframeType === 'casesummary'}\" class=\"bs-iframe op\"\r\n        frameborder=\"0\" scrolling=\"yes\">\r\n      </iframe>\r\n      <iframe sandbox=\"allow-same-origin allow-scripts allow-forms allow-modals allow-popups allow-downloads\" id=\"bs-bizagi-process-summary\" src=\"\"\r\n      [ngClass]=\"{'op_show': showIframe && !showLoading && !showActivitiesSelector && iframeType === 'casesummary', 'op': !showIframe || showLoading || showActivitiesSelector || iframeType !== 'casesummary'}\" class=\"bs-iframe op\"\r\n      frameborder=\"0\" scrolling=\"yes\">\r\n    </iframe>\r\n    </div>\r\n\r\n  </bs-modal-webparts>\r\n  <iframe sandbox=\"allow-same-origin allow-scripts\" id=\"bs-bizagi-process-fake\" style=\"display: none;\" src=\"\">\r\n  </iframe>\r\n</div>\r\n","import { ModalWebPartsComponent } from 'app/common/components/modal-webparts/modal-webparts.component';\r\nimport { Component, ElementRef, Input, ViewChild } from '@angular/core';\r\nimport { ThemeService } from 'app/common/services/sites/theme.service';\r\nimport { OAuthClientHelper } from '../../common/services/oauth/oauth-client.helper';\r\nimport { BizagiDataService } from '../services/bizagi-data.service';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { getSiteLanguage } from '../store/multilanguage/multilanguage.selector';\r\nimport { Subscription, Subject, timer, Observable } from 'rxjs';\r\nimport { ConfirmDialogModalComponent } from 'app/common/components/confirm-dialog-modal/confirm-dialog-modal.component';\r\nimport { BzgModalService, BzgModalRef } from 'bz-genome-angular';\r\nimport { UpdateLastBPMLanguage } from '../store/multilanguage/multilanguage.actions';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { SessionHandlerService } from 'app/common/services/oauth/session-handler.service';\r\nimport { UpdateLoading } from '../store/loading/loading.actions';\r\nimport { SelectOrganizationModalComponent } from './select-organization-modal/select-organization-modal.component';\r\nimport { getSiteUser } from '../store/user/user.selector';\r\nimport { debounceTime } from 'rxjs/operators';\r\n\r\nenum FormType {\r\n  New,\r\n  Existing,\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'bs-bizagi-forms',\r\n  templateUrl: './bizagi-forms.component.html',\r\n  styleUrls: ['./bizagi-forms.component.scss'],\r\n})\r\n\r\nclass BizagiFormsComponent {\r\n  @Input() connection: string;\r\n  @Input() modalTitle: string;\r\n  @Input() type: FormType;\r\n  @Input() parameters: any;\r\n  @Input() site: ISite;\r\n  @Input() currentLanguage: ILanguageResource;\r\n  @Input() currentPage: IPage;\r\n\r\n  public CASE_CLOSED = 'Workitem is Closed';\r\n  public CASE_CANCELED = 'Workitem is Canceled';\r\n  public NO_PENDING_ACTIVITIES = 'No pending activities';\r\n  public showGoDown = false;\r\n  public showIframe: boolean;\r\n  public formTitle = {process: '', activityName: '', caseNumber: ''};\r\n  public currentWorkitem: { id: string; taskName: string; index: number } = { id: '', taskName: '', index: -1 };\r\n  public workItems: { id: string; taskName: string, dueDate: string }[] = [];\r\n  public infoMessage = '';\r\n  public errorMessage = '';\r\n  public showLoading = false;\r\n  public tabSelected = 0;\r\n  public isLastActionNext = false;\r\n  public showLoadFormButton = false;\r\n  public globalFormLoaded = false;\r\n  public isModalOn = false;\r\n  public closing = false;\r\n  public showWorkItems = false;\r\n  public showActivitiesSelector = false;\r\n  public organizationSelected;\r\n  public multipleOrganization = false;\r\n  public iframeType = '';\r\n\r\n  private _summaryLoaded = false;\r\n  private _loadformCase = false;\r\n  private _idCase: any;\r\n  private _onCloseFunction: Function;\r\n  private iframeReceiveFunction: any;\r\n  private iframeFakeReceiveFunction: any;\r\n  private targetOrigin: string;\r\n  private webpartTheme: any;\r\n  private _defaultFonts: Blob[] = [];\r\n  private _currentLanguageSubscription: Subscription;\r\n  private _currentUserSubscription: Subscription;\r\n  @ViewChild('modal', { static: true })\r\n  private modal: ModalWebPartsComponent;\r\n  private _modalRef: BzgModalRef;\r\n  private _modalRefAuthorizationError: BzgModalRef;\r\n  private _iframeFakeLoaded = false;\r\n  private _iframeResponse;\r\n  private _languageChanged = false;\r\n  private _user;\r\n  private _fakeIframe;\r\n  private _actualProcess: number = null;\r\n  private iframfeInitialized: Subject<string> = new Subject<string>();\r\n  private _loadingIframe = false;\r\n  private _pendingCase = false;\r\n  private _initialLoading = true;\r\n  private _languageError = false;\r\n\r\n  constructor(\r\n    private _elementReference: ElementRef,\r\n    private _themeServices: ThemeService,\r\n    private _oAuthClient: OAuthClientHelper,\r\n    private _bizagiDataService: BizagiDataService,\r\n    private _modalService: BzgModalService,\r\n    private _store: Store<IRenderState>,\r\n    private _translateService: TranslateService,\r\n    private _sessionHandlerService: SessionHandlerService\r\n  ) {\r\n    this.iframfeInitialized.asObservable().pipe(\r\n      debounceTime(100))\r\n      .subscribe(data => {\r\n        if(this._pendingCase){\r\n          this.openIFrame(this.iframeType);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this._store.dispatch(new UpdateLoading({ loadingWebparts: true }));\r\n    this._currentLanguageSubscription = this._store.pipe(select(getSiteLanguage)).subscribe((siteLanguage: ILanguageResource) => {\r\n      if (siteLanguage) {\r\n        if(!this._initialLoading) {\r\n          this._store.dispatch(new UpdateLoading({ loadingWebparts: true }));\r\n        }\r\n        this.currentLanguage = siteLanguage;\r\n        this.targetOrigin = this.targetOrigin || document.location.origin;\r\n        if (this.targetOrigin || this.connection) {\r\n          const iframe: any = this.getIframeFake();\r\n          this.sendMessageToIframe(iframe, 'set-custom-language', this._getLanguageName(siteLanguage.name));\r\n          this._store.dispatch(new UpdateLoading({ loadingChangeBPMLanguage: true }));\r\n        }\r\n      }\r\n    });\r\n    this._initialLoading = false;\r\n    this._currentUserSubscription = this._store.pipe(select(getSiteUser)).subscribe((user) => {\r\n      if (user) {\r\n        this._user = user;\r\n        this._sessionHandlerService.startSessionSubject.next();\r\n      }\r\n      this.setIframeFakeLanguage();\r\n    });\r\n\r\n    if (this.currentPage?.isPrivate || this._user) {\r\n      this._sessionHandlerService.startSessionSubject.next();\r\n    }\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.destroyIFrameCommunication();\r\n    this.destroyIFrameFakeCommunication();\r\n    this._currentUserSubscription?.unsubscribe();\r\n    this._currentLanguageSubscription?.unsubscribe();\r\n  }\r\n\r\n  public show(fonts: Blob[], process?: number) {\r\n    this._actualProcess = process;\r\n    this._defaultFonts = fonts;\r\n    this._initialize();\r\n    this.currentWorkitem = { id: '', taskName: '', index: -1 };\r\n    this.modalTitle = this.currentLanguage.resources[this.modalTitle] || this.modalTitle;\r\n    this.formTitle = {process: '', activityName: '', caseNumber: ''};\r\n    const titleInput = this.modalTitle.split('/');\r\n    if (titleInput.length === 2) {\r\n      this.formTitle.process = titleInput[0];\r\n      this.formTitle.caseNumber = titleInput[1];\r\n    }\r\n\r\n    this.selectedTab(0, true, true);\r\n    this.showInFoMessage();\r\n  }\r\n\r\n  private _getLanguageName(languageName) {\r\n    if (languageName.split('-').length > 2) {\r\n      languageName = languageName.split('-')[0] + '-' + languageName.split('-')[2];\r\n    }\r\n    return languageName;\r\n  }\r\n\r\n  private _initialize() {\r\n    this.multipleOrganization = false;\r\n    this.organizationSelected = 0;\r\n    this.isLastActionNext = false;\r\n    this.showGoDown = false;\r\n    this.infoMessage = '';\r\n    this.errorMessage = '';\r\n    this.closing = false;\r\n    this._loadformCase = false;\r\n    this.showActivitiesSelector = false;\r\n    this.globalFormLoaded = false;\r\n    this._iframeResponse = null;\r\n  }\r\n\r\n  public showInFoMessage() {\r\n    if (this.parameters.control === 'my-cases') {\r\n      if (this.parameters.caseState === 'Completed') {\r\n        this.infoMessage = this.CASE_CLOSED;\r\n        return true;\r\n      }\r\n      if (this.parameters.caseState === 'Aborted') {\r\n        this.infoMessage = this.CASE_CANCELED;\r\n        return true;\r\n      }\r\n      if (this.parameters.caseState === 'Running' && !this.parameters.pendingActivities && !this.currentWorkitem?.id) {\r\n        this.infoMessage = this.NO_PENDING_ACTIVITIES;\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public registerCloseFunction(close: Function) {\r\n    this._onCloseFunction = close;\r\n  }\r\n\r\n  public onCloseForm() {\r\n    if (this.tabSelected === 0 && this.showIframe === true && this.showLoading === false && !this.globalFormLoaded &&\r\n      (this.formTitle.process || this.formTitle.activityName !== '' || this.formTitle.caseNumber !== '') &&\r\n      (!this.parameters.caseState || (this.parameters.caseState && this.parameters.caseState !== 'Completed'))) {\r\n        this.sendMessageToIframe(this.getIframe(), 'check-pending-changes');\r\n        this.closing = true;\r\n    } else {\r\n      this.closeForm();\r\n    }\r\n  }\r\n\r\n  private closeForm() {\r\n    this.sendMessageToIframe(this.getIframe(), 'dispose-form', null);\r\n    this.modal.closeModal();\r\n    this._onCloseFunction(this.isLastActionNext);\r\n    $('.bs-render').attr('style', 'overflow-y: auto');\r\n    this.destroyIFrameCommunication();\r\n    this._sessionHandlerService.unsubscribeTimerSessionBPM();\r\n  }\r\n\r\n  public goDown() {\r\n    const iframe = this.getIframe();\r\n    this.sendMessageToIframe(iframe, 'go-down', 'go-down');\r\n  }\r\n\r\n  public onChangeCaseActivity(button: string, itemIndex = null) {\r\n    const index = this.workItems.findIndex(item => {\r\n      return item.id === this.currentWorkitem.id;\r\n    });\r\n    if(itemIndex !== null) {\r\n      this.currentWorkitem = this._getCurrentWorkitem(itemIndex);\r\n    } else {\r\n      let newIndex: number;\r\n      switch (button) {\r\n        case 'next':\r\n          newIndex = index + 1;\r\n          this.currentWorkitem = this._getCurrentWorkitem(newIndex);\r\n          break;\r\n        case 'previous':\r\n          newIndex = index - 1;\r\n          this.currentWorkitem = this._getCurrentWorkitem(newIndex);\r\n          break;\r\n      }\r\n    }\r\n    const iframe = this.getIframe();\r\n    const message = {};\r\n    if(this._iframeResponse?.workItemsResponse.length) {\r\n      // when there is a subprocess, the idCase is taken from it,\r\n      // so is necessary to change it for the parent-process taking it from pending workitems\r\n      message['idCase'] = this._iframeResponse?.workItemsResponse[0].idCase;\r\n    }\r\n    if(! message['idCase']) {\r\n      message['idCase'] = this.parameters['case']? this.parameters['case'] : this._idCase;\r\n    }\r\n    message['idWorkItem'] = this.currentWorkitem.id;\r\n\r\n    if (this.parameters.control === 'my-cases') {\r\n      this.parameters['idTask'] = this.currentWorkitem.id;\r\n    }\r\n    this._loadformCase = true;\r\n    this.showLoading = true;\r\n    this.sendMessageToIframe(iframe, 'load-form-case', message);\r\n  }\r\n\r\n  private getIframe() {\r\n    const element = this._elementReference.nativeElement;\r\n    return $('#bs-bizagi-process', element);\r\n  }\r\n\r\n  private getIframeFake() {\r\n    const element = this._elementReference.nativeElement;\r\n    return $('#bs-bizagi-process-fake', element);\r\n  }\r\n\r\n  private getSummaryIframe() {\r\n    const element = this._elementReference.nativeElement;\r\n    return $('#bs-bizagi-process-summary', element);\r\n  }\r\n\r\n  public selectedTab(selectedTab, clicked = false, firstTime = false) {\r\n    this._summaryLoaded = false;\r\n    this.closing = false;\r\n    if (!firstTime && selectedTab === 1 && this.parameters.caseState !== 'Completed'\r\n      && this.showIframe === true && this.showLoading === false && !this.globalFormLoaded) {\r\n      const iframe = this.getIframe();\r\n      this.sendMessageToIframe(iframe, 'check-pending-changes');\r\n    } else {\r\n      this.chnageTabOperation(selectedTab, clicked, firstTime);\r\n    }\r\n  }\r\n\r\n  private async chnageTabOperation(selectedTab, clicked, firstTime) {\r\n    const type = this.getWebPartType();\r\n    this.showLoading = false;\r\n    this.showLoadFormButton = false;\r\n    this.destroyIFrameCommunication();\r\n    this.infoMessage = '';\r\n    if (firstTime && this.showInFoMessage()) {\r\n      selectedTab = 1;\r\n    }\r\n    this.tabSelected = selectedTab;\r\n\r\n    switch (selectedTab) {\r\n      case 0:\r\n        if (this._user?.isMultiOrganization && this._user.sOrganizations?.length > 1 && this.type === FormType.New ) {\r\n          this.multipleOrganization = true;\r\n          this.openSelectOrganizationModal(this._user.sOrganizations, type, clicked);\r\n        } else {\r\n          this.openIFrame(type);\r\n          this.showInFoMessage();\r\n        }\r\n        break;\r\n      case 1:\r\n        this.openIFrame('casesummary'); // summary form\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  private openSelectOrganizationModal(organizations, type, clicked) {\r\n    this.isModalOn = true;\r\n    _.each(this._modalService.openModals, (modal) => {\r\n      modal.close();\r\n    });\r\n    this._modalRef = this._modalService.open(SelectOrganizationModalComponent, {\r\n      backdropClass: 'cdk-overlay-dark-backdrop-custom',\r\n      maxWidth: '700px',\r\n      closeOnBackdropClick: false,\r\n      closeOnEscape: false,\r\n      data: {\r\n        organizations\r\n      }\r\n    });\r\n    this._modalRef.afterClosed().subscribe(result => {\r\n\r\n      if (result?.type === 'confirm' && result.params.organizationId) {\r\n        this.organizationSelected = result.params.organizationId;\r\n        this.openIFrame(type);\r\n        this.showInFoMessage();\r\n      }\r\n      this.isModalOn = false;\r\n    });\r\n  }\r\n\r\n\r\n  private openVerifyModal() {\r\n    this.isModalOn = true;\r\n    _.each(this._modalService.openModals, (modal) => {\r\n      modal.close();\r\n    });\r\n    this._modalRef = this._modalService.open(ConfirmDialogModalComponent, {\r\n      backdropClass: 'cdk-overlay-dark-backdrop-custom',\r\n      maxWidth: '500px',\r\n      closeOnBackdropClick: false,\r\n      closeOnEscape: false,\r\n      data: {\r\n        title: 'siteeditor.formsettings.TITLE_SAVE_FORM',\r\n        message: 'siteeditor.formsettings.MESSAGE_SAVE_FORM',\r\n        cancelButtonText: 'siteeditor.global.CANCEL',\r\n        confirmButtonText: 'siteeditor.global.SAVE',\r\n        optionalButtonText: 'siteeditor.formsettings.DONT_SAVE_FORM_BUTTON',\r\n        cancelButton: true,\r\n        optionalButton: true,\r\n        icon: 'icon-warning',\r\n        iconColor: 'warning'\r\n      }\r\n    });\r\n    this._modalRef.afterClosed().subscribe(result => {\r\n      const iframe = this.getIframe();\r\n\r\n      if (result?.type) {\r\n        switch (result.type) {\r\n          case 'confirm':\r\n            this.sendMessageToIframe(iframe, 'save-form');\r\n            break;\r\n          case 'optional':\r\n            this.sendMessageToIframe(iframe, 'without-pending-changes');\r\n            break;\r\n        }\r\n      } else {\r\n        this.tabSelected = this.tabSelected === 1  && !this.closing ? 0 : this.tabSelected;\r\n      }\r\n\r\n      this.isModalOn = false;\r\n    });\r\n  }\r\n\r\n  private _loadInitialIframes() {\r\n    this._loadingIframe = true;\r\n    const sumaryIframe =  this.getSummaryIframe();\r\n    const formIframe = this.getIframe();\r\n    if (this.currentPage?.isPrivate || this._user) {\r\n      sumaryIframe.attr('src', `api/sites/private/webparts?type=casesummary&remoteServer=${document.location.origin}&application=NEWWORKPORTAL&mashup=false&sitesContext=true`);\r\n      formIframe.attr('src', `api/sites/private/webparts?type=activityform&remoteServer=${document.location.origin}&application=NEWWORKPORTAL&mashup=false&sitesContext=true&idCase=-1`);\r\n    } else {\r\n      formIframe.attr('src', `api/sites/webparts?type=activityform&remoteServer=${document.location.origin}&application=NEWWORKPORTAL&mashup=false&sitesContext=true&idCase=-1`);\r\n      sumaryIframe.attr('src', `api/sites/webparts?type=casesummary&remoteServer=${document.location.origin}&application=NEWWORKPORTAL&mashup=false&sitesContext=true`);\r\n    }\r\n  }\r\n\r\n\r\n  private async openIFrame(type: string) {\r\n    const iframe: any = type === 'casesummary' ? this.getSummaryIframe() : this.getIframe();\r\n    this.iframeType = type;\r\n    if (this._loadingIframe) {\r\n      this._pendingCase = true;\r\n      this.showLoading = true;\r\n      this.modal.open();\r\n      return;\r\n    } else {\r\n      this._pendingCase = false;\r\n    }\r\n    this.showIframe = false;\r\n    this.showGoDown = false;\r\n    this.showLoading = true;\r\n    this._themeServices.refreshThemeVariables();\r\n    this.webpartTheme = this._themeServices.getWebpartThemeVariables();\r\n    let connection = this.connection;\r\n    if (!connection.endsWith('/')) {\r\n      connection += '/';\r\n    }\r\n    // Create target origin\r\n    const a = document.createElement('a');\r\n    a.href = this.connection;\r\n    this.targetOrigin = document.location.origin;\r\n    this._sessionHandlerService.initializeIframe(this.showIframe, this.targetOrigin || this.connection,\r\n      this._elementReference, this._iframeFakeLoaded);\r\n    if (this._iframeFakeLoaded && this.currentPage?.isPrivate) {\r\n        const newToken = await this._sessionHandlerService.refreshToken();\r\n        this._sessionHandlerService.unsubscribeTimer();\r\n        this._sessionHandlerService.startTimerSession(newToken.expiration);\r\n    }\r\n    const hasURL = iframe.attr('src')?.trim()?.length > 0;\r\n    if (!hasURL) {\r\n      if (this.currentPage?.isPrivate || this._user) {\r\n        iframe.attr('src', `api/sites/private/webparts?type=${type}&remoteServer=${document.location.origin}&application=NEWWORKPORTAL&mashup=false&sitesContext=true&${(await this.getWebPartParameters())}`);\r\n      } else {\r\n        iframe.attr('src', `api/sites/webparts?type=${type}&remoteServer=${document.location.origin}&application=NEWWORKPORTAL&mashup=false&sitesContext=true&${(await this.getWebPartParameters())}`);\r\n      }\r\n    } else {\r\n      this.sendPostMessagesToIframe(iframe);\r\n      this.sendMessageToIframe(iframe, 'theme-initialize', this.webpartTheme);\r\n      if (type === 'activityform') {\r\n        let iframeCase = iframe.attr('src').substr(iframe.attr('src').indexOf('idCase'))?.split('=');\r\n        iframeCase = iframeCase.length > 0 ? iframeCase[1] : '';\r\n        const currentCase = this.parameters['case'];\r\n        if (currentCase.toString() !== iframeCase?.toString() || this.parameters.control === 'my-cases') {\r\n          const curCase = this.parameters['case'];\r\n          this.openNewProcess(curCase);\r\n        }\r\n      }\r\n      if (type === 'casesummary') {\r\n        this.sendMessageToIframe(iframe, 'reload-sumary', {idCase: this.parameters['case']});\r\n      }\r\n    }\r\n\r\n    this.modal.open();\r\n    // for IExplorer scroll\r\n    $('.bs-render').attr('style', 'overflow-y: hidden');\r\n\r\n    // Receive message from iframe to finish the load\r\n    this.receiveMessageFromIframe(async data => {\r\n      if (data && !data.event) {\r\n        try {\r\n          data = JSON.parse(data);\r\n        } catch (e) { }\r\n        data.event = data.postMessageEventName ? data.postMessageEventName.split('.')[0] : '';\r\n      }\r\n      if (data.event && data.event !== 'ajax-call') {\r\n        console.log('------- MESSAGE IN -------', data.event, data.message);\r\n      };\r\n      switch (data.event) {\r\n        case 'session-timeout':{\r\n          if(data?.message?.sessionTimeout){\r\n            this._sessionHandlerService.startTimerBPMSession(data?.message.sessionTimeout);\r\n          }\r\n          break;\r\n        }\r\n        case 'load-complete':\r\n          this.sendMessageToIframe(iframe, 'remove-bizagi-themes', {});\r\n          this.showIframe = true;\r\n          this._sessionHandlerService.showIframe = true;\r\n          if (type === 'casesummary' && this._summaryLoaded) {\r\n            setTimeout(() => {\r\n              this.showLoading = false;\r\n              this.showIframe = true;\r\n              this._sessionHandlerService.showIframe = true;\r\n            }, 500);\r\n          }\r\n          if (type === 'activityform') {\r\n            const currentCase = this.parameters['case'];\r\n            let iframeCase = iframe.attr('src').substr(iframe.attr('src').indexOf('idCase'))?.split('=');\r\n            iframeCase = iframeCase.length > 0 ? iframeCase[1] : '';\r\n            if (currentCase.toString() !== iframeCase.toString()) {\r\n              this.openNewProcess(currentCase);\r\n            }\r\n\r\n          }\r\n          break;\r\n        case 'sumary-rendered':\r\n          this._summaryLoaded = true;\r\n          this.showLoading = false;\r\n          this.showIframe = true;\r\n          break;\r\n\r\n        case 'executing-rendering':\r\n          this.showLoading = true;\r\n          break;\r\n        case 'next-applied':\r\n          this.formTitle.activityName = '';\r\n          this.checkActivitiesLoadCase(data, iframe, true);\r\n          this.showLoadGlobalform(data);\r\n          break;\r\n        case 'form-rendered':\r\n          this._idCase = data.message?.summaryResponse?.idCase;\r\n          this._iframeResponse = data.message;\r\n          this._actualProcess = data.message?.summaryResponse?.idWorkFlow || null;\r\n          if (type !== 'casesummary' && !data.message?.activityName) {\r\n            this.checkActivitiesLoadCase(data, iframe);\r\n            this.showLoadGlobalform(data);\r\n          } else {\r\n            this.showActivitiesSelector = false;\r\n          }\r\n          this.sendMessageToIframe(iframe, 'remove-bizagi-themes', {});\r\n          this._loadWebpartDefaultFont();\r\n          this._updateFormTitle(data);\r\n\r\n          // this avoid the form load with default bizagi theme\r\n          if (data.message?.activityName || type === 'casesummary' || data.message?.summaryResponse?.isClosed === 'true' ||\r\n           !data.message?.summaryResponse?.hasPendingActivities || this.showActivitiesSelector) {\r\n            setTimeout(() => {\r\n              this.showLoading = false;\r\n              this.showIframe = true;\r\n              this._sessionHandlerService.showIframe = true;\r\n            }, 500);\r\n          }\r\n          break;\r\n        case 'routing-performed':\r\n          this._iframeResponse = data.message;\r\n          this._idCase = data.message?.summaryResponse?.idCase;\r\n          this.checkActivitiesLoadCase(data, iframe, true);\r\n          this.showLoadGlobalform(data);\r\n          break;\r\n        case 'renderComplete':\r\n          if (!!this.parameters['processId'] && !!this.parameters['case']) {\r\n            this.showIframe = false;\r\n            this._sessionHandlerService.showIframe = false;\r\n            this.sendPostMessagesToIframe(iframe);\r\n          }\r\n          break;\r\n        case 'authentication-error':\r\n          this._oAuthClient.logoutToUrl(this.currentPage?.isPrivate);\r\n          break;\r\n        case 'awaiting-theme':\r\n          // this.sendMessageToIframe(iframe, 'theme-initialize', this.webpartTheme);\r\n          if (type === 'casesummary') {\r\n            this.sendMessageToIframe(iframe, 'remove-bizagi-themes', {});\r\n            this._loadWebpartDefaultFont();\r\n          }\r\n          break;\r\n        case 'show-finish-message':\r\n          this.showIframe = false;\r\n          this._sessionHandlerService.showIframe = false;\r\n          this.modal.close();\r\n          break;\r\n        case 'bz-webpart-size':\r\n          this.showGoDown = Number(data.message?.height) > Number($('#bs-bizagi-process').height());\r\n          break;\r\n        case 'form-rendered-error':\r\n          if (data.message?.message === 'Actividad cerrada') {\r\n            this.infoMessage = this.CASE_CLOSED;\r\n          } else {\r\n            this.showIframe = false;\r\n            this._sessionHandlerService.showIframe = false;\r\n            this.errorMessage = data.message.message;\r\n          }\r\n          this.showLoading = false;\r\n          break;\r\n        case 'form-has-changes':\r\n          this.openVerifyModal();\r\n          break;\r\n\r\n        case 'authorization-internal-error':\r\n          this.showAlertAuthorizationError();\r\n          break;\r\n        case 'form-without-changes':\r\n        case 'refresh-finished':\r\n        case 'form-saved':\r\n          if (this.closing) {\r\n            this.closeForm();\r\n            this.closing = false;\r\n          } else {\r\n            this.chnageTabOperation(this.tabSelected, true, false);\r\n          }\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  public loadGlobalForm(data) {\r\n    const iframe = this.getIframe();\r\n    const message = {};\r\n    message['idCase'] = this.parameters['case']? this.parameters['case'] : this._idCase;\r\n    if (!message['idCase']) {\r\n      message['idCase'] = data.summaryResponse?.idCase;\r\n    }\r\n    this.sendMessageToIframe(iframe, 'load-global-form', message);\r\n    this.showIframe = true;\r\n    this._sessionHandlerService.showIframe = true;\r\n    this.infoMessage = '';\r\n    this.showLoading = true;\r\n    this.globalFormLoaded = true;\r\n  }\r\n\r\n  private showAlertAuthorizationError(){\r\n    this._modalRefAuthorizationError = this._modalService.open(ConfirmDialogModalComponent, {\r\n      backdropClass: 'cdk-overlay-dark-backdrop-custom',\r\n      maxWidth: '500px',\r\n      closeOnBackdropClick: false,\r\n      data: {\r\n         message: 'messages.error.ERROR_USER_UNAUTHORIZED_FORM',\r\n         title: 'messages.error.ERROR_OPEN_FORM_TITLE',\r\n         confirmButtonText: 'siteeditor.global.OK',\r\n         cancelButton: false,\r\n         icon: 'icon-warning',\r\n         iconColor: 'warning'\r\n        }\r\n    });\r\n\r\n    this._modalRefAuthorizationError.afterClosed().subscribe(async result => {\r\n      if (result && result.type === 'confirm') {\r\n        this.closeForm();\r\n        this._modalRefAuthorizationError.close();\r\n      } else {\r\n        this.closeForm();\r\n        this._modalRefAuthorizationError.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  private showLoadGlobalform(data) {\r\n    if (data?.message?.summaryResponse?.showGlobalForm  && (data.message.summaryResponse.isClosed === 'true'\r\n      || data.message.summaryResponse.hasPendingActivities === false)) {\r\n      this.showLoadFormButton = true;\r\n      this.loadGlobalForm(data.message);\r\n    } else {\r\n      this.showLoadFormButton = false;\r\n    }\r\n  }\r\n\r\n\r\n  private checkActivitiesLoadCase(data, iframe, next = false) {\r\n    if (data.message && data.message.workItemsResponse &&\r\n      data.message.workItemsResponse.length > 0) {\r\n      const newWorkItems = data.message.workItemsResponse.map(item => {\r\n        return {\r\n          id: item.idWorkItem,\r\n          taskName: item.state || item.displayName,\r\n          dueDate: item.estimatedSolutionDate\r\n        };\r\n      });\r\n      this.workItems = newWorkItems;\r\n      this._idCase = data.message.summaryResponse.idCase;\r\n      if (newWorkItems.length > 1 && !data.message.activityName && (!this.parameters['idTask']\r\n        || this.parameters['control'] === 'my-cases')) {\r\n        this.showActivitiesSelector = true;\r\n        if (next) {\r\n          this.showLoading = false;\r\n        }\r\n      } else {\r\n        this.showActivitiesSelector = false;\r\n        const currentActivity = _.find(newWorkItems, item => item.taskName === data.message?.activityName) ||\r\n        _.find(newWorkItems, item => item.id.toString() === this.parameters['idTask']?.toString());\r\n        this.sendPostMessagesToIframe(iframe, data.message.summaryResponse.idCase, newWorkItems,\r\n          data.message.fromLoadFormCase, currentActivity);\r\n      }\r\n    } else {\r\n      this._sessionHandlerService.showIframe = true;\r\n      this.isLastActionNext = data.message && !_.isEmpty(data.message.summaryResponse) ?\r\n        data.message.summaryResponse.hasPendingActivities === false : false;\r\n      if (this.isLastActionNext) {\r\n        this.showIframe = false;\r\n        this._sessionHandlerService.showIframe = false;\r\n        this.infoMessage = this.NO_PENDING_ACTIVITIES;\r\n        if (data.message.summaryResponse.isClosed === 'true') {\r\n          this.infoMessage = this.CASE_CLOSED;\r\n        }\r\n        if (data.message.summaryResponse.isAborted.toString() === 'true') {\r\n          this.infoMessage = this.CASE_CANCELED;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  private async sendPostMessagesToIframe(iframe, idCase?: number, workItems?: { id: string, taskName: string, dueDate: string }[],\r\n    fromLoadFormCase?: boolean, workitem = null) {\r\n    const message: any = {};\r\n    const isNewCase = !!idCase && !!workItems;\r\n    this.workItems = workItems ? workItems : await this._getWorkitems();\r\n    if (!fromLoadFormCase) {\r\n      this.currentWorkitem = workitem? workitem : (this._getCurrentWorkitem(null, this.workItems));\r\n      this.showIframe = false;\r\n      this._sessionHandlerService.showIframe = false;\r\n      if (this.type === FormType.New && !isNewCase) {\r\n        // TODO: When we add more navigation levels, we'll need to keep track of this context, instead of creating it here;\r\n        const accumulatedContext = [];\r\n        if (this.parameters['bizagiEntity'] && this.parameters['key']) {\r\n          accumulatedContext.push({\r\n            entityGuid: this.parameters['bizagiEntity'],\r\n            surrogateKey: [this.parameters['key']]\r\n          });\r\n        }\r\n        if (this.parameters['process']) {\r\n          message.idWfClass = typeof (this.parameters['process']) === 'string' ? this.parameters['process'].trim() : this.parameters['process'];\r\n        }\r\n        if (this.multipleOrganization) {\r\n          message.idOrganization = this.organizationSelected;\r\n        }\r\n        if (this.parameters['action']) {\r\n          message.guidAction = this.parameters['action'].trim();\r\n        }\r\n        if (accumulatedContext.length) {\r\n          message.accumulatedContext = JSON.stringify(accumulatedContext);\r\n        }\r\n        if (this.parameters['key']) {\r\n          message.surrogateKey = this.parameters['key'].trim();\r\n        }\r\n\r\n        this.sendMessageToIframe(iframe, 'create-case', message);\r\n      } else if (this.type === FormType.Existing || isNewCase) {\r\n        this.parameters['case'] = idCase || this.parameters['case'];\r\n        message.idCase = this.parameters['case'];\r\n        if (this.parameters['idTask'] && !this.workItems.length) {\r\n          message.idWorkItem = this.parameters['idTask'];\r\n        } else {\r\n          if (this.workItems.length > 0) {\r\n            message.idWorkItem = this.currentWorkitem.id;\r\n          }\r\n        }\r\n        if (message.idWorkItem) {\r\n          this._loadformCase = false;\r\n          this.sendMessageToIframe(iframe, 'load-form-case', message);\r\n        }\r\n      }\r\n    } else {\r\n      this.showIframe = true;\r\n      this._sessionHandlerService.showIframe = true;\r\n    }\r\n\r\n  }\r\n\r\n  private async _updateFormTitle(data) {\r\n    if (data.message) {\r\n      if (data.message?.processName && data.message.processName !== this.formTitle.process) {\r\n        this.formTitle.process = data.message.processName;\r\n      }\r\n      if (!this.formTitle.process && data.message?.summaryResponse) {\r\n        this.formTitle.process = data.message.summaryResponse.process;\r\n      }\r\n      if (data.message?.activityName && data.message.activityName !== this.formTitle.activityName) {\r\n        this.formTitle.activityName = data.message.activityName;\r\n      }\r\n      if (data.message?.summaryResponse?.caseNumber && data.message.summaryResponse.caseNumber !== this.formTitle.caseNumber) {\r\n        this.formTitle.caseNumber = await this._translateService.get('sitemanager.global.VIEW_CASE_TITLE',\r\n        { case: data.message.summaryResponse.caseNumber || data.message.summaryResponse.caseNumber }).toPromise();\r\n        ;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public openNewProcess(processId) {\r\n    const iframe = this.getIframe();\r\n    const message = {};\r\n    message['idCase'] = processId;\r\n    if (this.parameters['idTask']) {\r\n      message['idTask']=this.parameters['idTask']\r\n      message['idWorkitem'] = this.parameters['idTask'];\r\n    } else if (this.currentWorkitem?.id) {\r\n      message['idWorkitem'] = this.currentWorkitem.id;\r\n    }\r\n    this.sendMessageToIframe(iframe, 'load-activity-form', message);\r\n  }\r\n\r\n\r\n  private getWebPartType() {\r\n    if (this.type === FormType.New) {\r\n      return 'newcase';\r\n    }\r\n    return 'activityform';\r\n  }\r\n  private receiveMessageFromIframe(callback, iframeType?: string) {\r\n    if (this.iframeReceiveFunction) {\r\n      this.destroyIFrameCommunication();\r\n    }\r\n\r\n    // This is to make it work in any browser\r\n    const eventMethod = window.addEventListener ? 'addEventListener' : 'attachEvent';\r\n    const eventer = window[eventMethod];\r\n    const messageEvent = eventMethod === 'attachEvent' ? 'onmessage' : 'message';\r\n\r\n    // Listen to message from child window\r\n    if (iframeType === 'fake') {\r\n      this.iframeFakeReceiveFunction = function (e) {\r\n        callback(e.data);\r\n      };\r\n      eventer(messageEvent, this.iframeFakeReceiveFunction, false);\r\n    } else {\r\n      this.iframeReceiveFunction = function (e) {\r\n        callback(e.data);\r\n      };\r\n      eventer(messageEvent, this.iframeReceiveFunction, false);\r\n    }\r\n\r\n  }\r\n\r\n  private destroyIFrameCommunication() {\r\n    // This is to make it work in any browser\r\n    const eventMethod = window.addEventListener ? 'removeEventListener' : 'detachEvent';\r\n    const eventer = window[eventMethod];\r\n    const messageEvent = eventMethod === 'detachEvent' ? 'onmessage' : 'message';\r\n\r\n    // Remove handler\r\n    eventer(messageEvent, this.iframeReceiveFunction, false);\r\n    this.iframeReceiveFunction = null;\r\n  }\r\n\r\n  private destroyIFrameFakeCommunication() {\r\n    // This is to make it work in any browser\r\n    const eventMethod = window.addEventListener ? 'removeEventListener' : 'detachEvent';\r\n    const eventer = window[eventMethod];\r\n    const messageEvent = eventMethod === 'detachEvent' ? 'onmessage' : 'message';\r\n\r\n    // Remove handler\r\n    eventer(messageEvent, this.iframeFakeReceiveFunction, false);\r\n    this.iframeFakeReceiveFunction = null;\r\n  }\r\n\r\n  private sendMessageToIframe(iframe, eventType, message = null) {\r\n    const data = {\r\n      event: eventType,\r\n      message\r\n    };\r\n    console.log('------- MESSAGE OUT -------', data.event, data.message);\r\n    iframe[0]?.contentWindow?.postMessage(data, this.targetOrigin || this.connection);\r\n  }\r\n\r\n  private async getWebPartParameters() {\r\n    // Empty if not defined yet for activity form\r\n    let _return = '';\r\n    this.workItems = await this._getWorkitems();\r\n    if (this.workItems.length === 1 || this.parameters.control === 'my-cases') {\r\n      this.currentWorkitem = this._getCurrentWorkitem(null, this.workItems);\r\n    }\r\n    if (this.type === FormType.New) {\r\n      // TODO: When we add more navigation levels, we'll need to keep track of this context, instead of creating it here;\r\n      const accumulatedContext = [];\r\n      if (this.parameters['bizagiEntity'] && this.parameters['key']) {\r\n        accumulatedContext.push({\r\n          entityGuid: this.parameters['bizagiEntity'],\r\n          surrogateKey: [this.parameters['key']],\r\n        });\r\n      }\r\n      _return =\r\n        'idWfClass=' +\r\n        (typeof this.parameters['process'] === 'string' ? this.parameters['process'].trim() : this.parameters['process']) +\r\n        (this.parameters['action'] ? '&guidAction=' + this.parameters['action'] : '') +\r\n        (accumulatedContext.length ? '&accumulatedContext=' + JSON.stringify(accumulatedContext) : '') +\r\n        (this.parameters['key'] ? '&surrogateKey=' + this.parameters['key'] : '');\r\n\r\n        if (this.multipleOrganization) {\r\n          _return += '&idOrganization=' + this.organizationSelected;\r\n        }\r\n    }\r\n\r\n    if (this.type === FormType.Existing) {\r\n      if (this.parameters['idTask'] && !this.globalFormLoaded) {\r\n        _return = 'idCase=' + this.parameters['case'] + `&idTask=${this.parameters['idTask']}&idWorkitem=${this.parameters['idTask']}`;\r\n      } else {\r\n        if (this.currentWorkitem?.id && !this.globalFormLoaded) {\r\n          _return = 'idCase=' + this.parameters['case'] + `&idWorkitem=${this.currentWorkitem.id}`;\r\n        } else {\r\n          _return = 'idCase=' + this.parameters['case'];\r\n        }\r\n\r\n      }\r\n    }\r\n    return _return;\r\n  }\r\n\r\n  private async _getWorkitems() {\r\n    if (this.parameters['processId'] && this.parameters['case']) {\r\n      const url = (_.values(this.site.environments[this.site.defaultEnvironment].projects) as Array<IBizagiProject>)[0].url;\r\n      const workitemsResponse = await this._bizagiDataService.getWorkitems(url, this.parameters['processId'], this.parameters['case']);\r\n      if (workitemsResponse) {\r\n        const arrayWorkitems = workitemsResponse.workitems.map(workitem => {\r\n          return { id: workitem.id, taskName: workitem.taskName, dueDate: workitem.estimatedSolutionDate };\r\n        });\r\n        if (arrayWorkitems.length === 0) {\r\n          this.showIframe = false;\r\n          this._sessionHandlerService.showIframe = false;\r\n        }\r\n        return arrayWorkitems;\r\n      }\r\n    }\r\n    return [];\r\n  }\r\n\r\n\r\n  private _getCurrentWorkitem(\r\n    index: number,\r\n    workitems?: { id: string; taskName: string }[]\r\n  ): { id: string; taskName: string; index: number } {\r\n    if (!workitems && !index && !this.workItems) {\r\n      return undefined;\r\n    }\r\n\r\n    if (this.workItems && !workitems) {\r\n      workitems = this.workItems.map(workitem => {\r\n        return { ...workitem };\r\n      });\r\n    }\r\n\r\n    if (workitems[index]) {\r\n      return { ...workitems[index], index };\r\n    }\r\n\r\n    if (workitems.length === 1) {\r\n      return { ...workitems[0], index: 0 };\r\n    }\r\n\r\n    const workitemIdx = workitems.findIndex(item => {\r\n      return item.taskName.indexOf('Cancel') !== 0;\r\n    });\r\n    return { ...this.workItems[workitemIdx], index: workitemIdx };\r\n  }\r\n\r\n  private _loadWebpartDefaultFont() {\r\n      const iframe: any = this.getIframe();\r\n      const dataToSend: any = {};\r\n      dataToSend.event = 'set-custom-font';\r\n      dataToSend.message = this._defaultFonts && this._defaultFonts.length ?\r\n        this._defaultFonts : (this.site.globalSettings.defaultFontFamily || 'Open Sans');\r\n      iframe[0].contentWindow.postMessage(dataToSend, this.targetOrigin || this.connection);\r\n  }\r\n\r\n  private setIframeFakeLanguage() {\r\n    this._fakeIframe = this.getIframeFake();\r\n    if (this._fakeIframe) {\r\n      const hasURL = this._fakeIframe.attr('src')?.trim()?.length > 0;\r\n      if (!hasURL) {\r\n        if (this.currentPage?.isPrivate ||this._user) {\r\n          this._fakeIframe.attr('src', `api/sites/private/webparts?type=newcaselist&remoteServer=${document.location.origin}&application=NEWWORKPORTAL&mashup=false}`);\r\n        } else {\r\n          this._fakeIframe.attr('src', `api/sites/webparts?type=newcaselist&remoteServer=${document.location.origin}&application=NEWWORKPORTAL&mashup=false}`);\r\n        }\r\n      }\r\n      if (!this.targetOrigin) {\r\n        this.targetOrigin = document.location.origin;\r\n      }\r\n    }\r\n    this.receiveMessageFromIframe(async data => {\r\n      if (data && !data.event) {\r\n        try {\r\n          data = JSON.parse(data);\r\n        } catch (e) { }\r\n        data.event = data.postMessageEventName ? data.postMessageEventName.split('.')[0] : '';\r\n      }\r\n      if (data.event && data.event !== 'ajax-call') {\r\n        console.log('------- MESSAGE IN -------', data.event, data.message);\r\n      };\r\n      switch (data.event) {\r\n        case 'language-loaded':\r\n          this._languageChanged = true;\r\n          this._languageError = false;\r\n          this._store.dispatch(new UpdateLastBPMLanguage(data.message));\r\n          this._loadInitialIframes();\r\n          break;\r\n        case 'language-loaded-error':\r\n          this._languageError = true;\r\n          this._loadInitialIframes();\r\n          break;\r\n        case 'load-complete':\r\n          this._iframeFakeLoaded = true;\r\n          this._sessionHandlerService.iframeFakeLoaded = true;\r\n          if (!this._languageChanged && !this._languageError) {\r\n            this.sendMessageToIframe(this._fakeIframe, 'set-custom-language', this._getLanguageName(this.currentLanguage.name));\r\n          }\r\n          break;\r\n          case 'form-rendered':\r\n          case 'routing-performed':\r\n          case 'form-rendered-error':\r\n            case 'sumary-rendered':\r\n            if (this._loadingIframe) {\r\n              this._loadingIframe = false;\r\n              this._store.dispatch(new UpdateLoading({ loadingWebparts: false }));\r\n              this.iframfeInitialized.next();\r\n            }\r\n          break;\r\n      }\r\n    }, 'fake');\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport { FormType, BizagiFormsComponent };\r\n","import { Action } from '@ngrx/store';\r\n\r\nexport const UPDATE_GRID_SIZE = '[Grid] Update grid size';\r\n\r\nexport class UpdateGridSize implements Action {\r\n  readonly type = UPDATE_GRID_SIZE;\r\n  constructor(public payload: number) {}\r\n}\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const updateNavigationContexts = {\r\n  UPDATE_NAVIGATION_CONTEXTS: '[Navigation contexts] Update navigation contexts',\r\n  CLEAR_NAVIGATION_CONTEXTS: '[Navigation contexts] Clear navigation contexts'\r\n};\r\n\r\nexport class UpdateNavigationContexts implements Action {\r\n  readonly type = updateNavigationContexts.UPDATE_NAVIGATION_CONTEXTS;\r\n  constructor(public payload: Array<INavigationContext>) {}\r\n}\r\n\r\nexport class ClearNavigationContexts implements Action {\r\n  readonly type = updateNavigationContexts.CLEAR_NAVIGATION_CONTEXTS;\r\n  constructor(public payload?) {}\r\n}\r\n\r\n\r\nexport type NavigationContextsActions = UpdateNavigationContexts\r\n  | ClearNavigationContexts;\r\n","import { Action } from '@ngrx/store';\r\n\r\nexport const UPDATE_PAGE_CONTEXT = '[Page context] Update page context';\r\n\r\nexport class UpdatePageContext implements Action {\r\n  readonly type = UPDATE_PAGE_CONTEXT;\r\n  constructor(public payload: IPageContext) {}\r\n}\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const siteActions = {\r\n  LOAD_SITE: '[Site Actions] Load site',\r\n  LOAD_SITE_SUCCESS: '[Site Actions] Load site success',\r\n  LOAD_SITE_FAIL: '[Site Actions] Load site fail',\r\n};\r\n\r\nexport class LoadSite implements Action {\r\n  readonly type = siteActions.LOAD_SITE;\r\n  constructor(public payload: string) { }\r\n}\r\n\r\nexport class LoadSiteSuccess implements Action {\r\n  readonly type = siteActions.LOAD_SITE_SUCCESS;\r\n  constructor(public payload: ISite) { }\r\n}\r\n\r\nexport class LoadSiteFail implements Action {\r\n  readonly type = siteActions.LOAD_SITE_FAIL;\r\n  constructor(public payload: ISite) { }\r\n}\r\n\r\n\r\nexport type SiteActions =  LoadSite\r\n  | LoadSiteSuccess\r\n  | LoadSiteFail\r\n  ;\r\n","import { createSelector } from '@ngrx/store';\r\n\r\nconst siteEditorSelector = (state: IRenderState) => state;\r\n\r\nexport const getCurrentSite = createSelector(\r\n  siteEditorSelector,\r\n  (state: IRenderState) => state.currentSite\r\n);\r\n\r\nexport const getDefaultFontSite = createSelector(\r\n  siteEditorSelector,\r\n  (state: IRenderState) => state.currentSite?.globalSettings.defaultFontFamily\r\n);\r\n","import {createSelector} from '@ngrx/store';\r\n\r\nconst renderSelector = (state: IRenderState) => state;\r\n\r\nexport const getCurrentPage = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.currentPage\r\n);\r\n\r\nexport const getPageContext = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.pageContext\r\n);\r\n\r\nexport const getRenderHero = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.currentPage?.hero\r\n);","import {createSelector} from '@ngrx/store';\r\n\r\nconst renderSelector = (state: IRenderState) => state;\r\n\r\nexport const getPages = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.pages\r\n);\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const pagesActions = {\r\n  LOAD_PAGES: '[Pages Actions] Load pages',\r\n  LOAD_PAGE_SUCCESS: '[Pages Actions] Load pages success',\r\n  LOAD_PAGE_FAIL: '[Pages Actions] Load pages fail'\r\n};\r\n\r\nexport class LoadPages implements Action {\r\n  readonly type = pagesActions.LOAD_PAGES;\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport class LoadPagesSuccess implements Action {\r\n  readonly type = pagesActions.LOAD_PAGE_SUCCESS;\r\n  constructor(public payload: Array<IBasicPage>) {}\r\n}\r\n\r\nexport class LoadPagesFail implements Action {\r\n  readonly type = pagesActions.LOAD_PAGE_FAIL;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport type PagesActions = LoadPages\r\n  | LoadPagesSuccess\r\n  | LoadPagesFail;\r\n\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const pageActions = {\r\n  LOAD_PAGE: '[Page Actions] Load page',\r\n  LOAD_PAGE_SUCCESS: '[Page Actions] Load page success',\r\n  LOAD_PAGE_FAIL: '[Page Actions] Load page fail',\r\n};\r\n\r\nexport class LoadPage implements Action {\r\n  readonly type = pageActions.LOAD_PAGE;\r\n  constructor(public payload: {siteName: string, pageName: string}) {}\r\n}\r\n\r\nexport class LoadPageSuccess implements Action {\r\n  readonly type = pageActions.LOAD_PAGE_SUCCESS;\r\n  constructor(public payload: IPage) {}\r\n}\r\n\r\nexport class LoadPageFail implements Action {\r\n  readonly type = pageActions.LOAD_PAGE_FAIL;\r\n  constructor(public payload: IPage) {}\r\n}\r\n\r\n\r\nexport type PageActions = LoadPage\r\n  | LoadPageSuccess\r\n  | LoadPageFail;\r\n\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const pageDataActions = {\r\n  SET_PAGE_DATA: '[Page Data Actions] Set pageData'\r\n};\r\n\r\nexport class SetPageData implements Action {\r\n  readonly type = pageDataActions.SET_PAGE_DATA;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport type PageDataActions = SetPageData;\r\n\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const userActions = {\r\n  LOAD_USER: '[User Actions] Load user',\r\n  LOAD_USER_SUCCESS: '[User Actions] Load user success',\r\n  UPDATE_USER: '[User Actions] Update user',\r\n  UPDATE_USER_SUCCESS: '[User Actions] Update user success',\r\n  LOAD_USER_FAIL: '[User Actions] Load user fail',\r\n};\r\n\r\nexport class LoadUser implements Action {\r\n  readonly type = userActions.LOAD_USER;\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport class LoadUserSuccess implements Action {\r\n  readonly type = userActions.LOAD_USER_SUCCESS;\r\n  constructor(public payload: IUserProfile) {}\r\n}\r\n\r\nexport class UpdateUser implements Action {\r\n  readonly type = userActions.UPDATE_USER;\r\n  constructor(public payload: IUserProfile) {}\r\n}\r\nexport class UpdateUserSuccess implements Action {\r\n  readonly type = userActions.UPDATE_USER_SUCCESS;\r\n  constructor(public payload: IUserProfile) {}\r\n}\r\n\r\n\r\nexport type UserActions = LoadUser\r\n  | UpdateUser\r\n  | UpdateUserSuccess\r\n| LoadUserSuccess;\r\n\r\n","import {Injectable} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\nimport {PublishedSiteService} from '../../../render/services/published-site.service';\r\n\r\n@Injectable()\r\nexport class PageRenderingService {\r\n  private notifyEvents: { [event: string]: Subject<any> } = {};\r\nconstructor(private _publishedSiteService: PublishedSiteService) {\r\n\r\n}\r\n\r\n\r\n  public showForm(parameters: IFormRenderingParams ) {\r\n    this.trigger('showForm', parameters);\r\n  }\r\n\r\n  public on(event: string, callback: Function) {\r\n    if (!this.notifyEvents[event]) {\r\n      this.notifyEvents[event] = new Subject<any>();\r\n    }\r\n    this.notifyEvents[event].subscribe((parameters) => {\r\n      callback(parameters);\r\n    });\r\n  }\r\n\r\n  public trigger(event: string, parameters: any) {\r\n    if (!this.notifyEvents[event]) {\r\n      this.notifyEvents[event] = new Subject<any>();\r\n    }\r\n    this.notifyEvents[event].next(parameters);\r\n  }\r\n\r\n  public getControlCategories(siteName: string, pageName: string, controlXpaths: any) {\r\n    return this._publishedSiteService.getControlCategories(siteName, pageName, controlXpaths);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { RestApiSevice } from '../oauth/rest-api.service';\r\nimport { Observable } from 'rxjs';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\n@Injectable()\r\nexport class FontsServiceCommon {\r\n  constructor(private _httpClient: RestApiSevice) {\r\n  }\r\n\r\n  public loadAllFonts(defaultFontFamily: string = '') {\r\n    this._httpClient.get({ url: 'api/sites/fonts' }).subscribe((files) => {\r\n      const fileNames: string[] = [];\r\n      _.forEach(files, (value, key) => {\r\n        fileNames.push(key);\r\n        const contentStyle = {\r\n          'font-family': key,\r\n          'src': this.getFilesByFont(value)\r\n        }\r\n        const style = document.createElement('style');\r\n        style.type = 'text/css';\r\n        style.textContent = `@font-face {${this.getCSS(contentStyle)}}`;\r\n        $('head').prepend(style);\r\n      });\r\n\r\n      if (defaultFontFamily) {\r\n        $('body').attr('style', 'font-family: ' + this.getFormattedFontName(defaultFontFamily) + ' !important');\r\n        $('style:first').append(`\r\n                  bs-confirm-dialog-modal bzg-modal-footer button {\r\n                    font-family: ${this.getFormattedFontName(defaultFontFamily)} !important;\r\n                  }`.trim());\r\n      }\r\n    });\r\n  }\r\n\r\n  public getFonts(): Observable<any> {\r\n    return this._httpClient.get({ url: 'api/sites/fonts' });\r\n  }\r\n\r\n  public removeFonts(fonts: string[]): Observable<any> {\r\n    return this._httpClient.put({ url: 'api/sites/fonts', body: fonts, });\r\n  }\r\n\r\n  public saveFonts(formData: FormData) {\r\n    return this._httpClient.postFormData({\r\n      url: 'api/sites/fonts',\r\n      body: formData\r\n    });\r\n  }\r\n\r\n  public async loadFontsFilesByFamilyName(familyName: string) {\r\n    const fontsBlobs: Blob[] = [];\r\n    if (familyName) {\r\n      const fonts = await this._httpClient.get({ url: 'api/sites/fonts/family/' + familyName }).toPromise();\r\n      _.each(fonts, (font) => {\r\n        const blob = Global.b64toBlob(font, 'application/octet-stream');\r\n        fontsBlobs.push(blob);\r\n      });\r\n\r\n      return fontsBlobs;\r\n    }\r\n  }\r\n\r\n  public addClassUsingDefaultFont(familyFontName: string) {\r\n    if (familyFontName) {\r\n      _.forEach($('bs-workspace style'), (style: any) => {\r\n        style.remove();\r\n      });\r\n      $('<style>')\r\n        .prop('type', 'text/css')\r\n        .html(`.sites-custom-font {font-family: ${this.getFormattedFontName(familyFontName)};}`)\r\n        .appendTo('bs-workspace');\r\n    }\r\n  }\r\n\r\n  private getFormattedFontName(fontName: string) {\r\n    return fontName.indexOf(' ') >= 0 ? `\"${fontName}\"` : fontName;\r\n  }\r\n\r\n  private getCSS(style) {\r\n    return Object.keys(style).reduce((prev, curr) => {\r\n      const escapedParameter = Global.escapeOutput(curr.split(/(?=[A-Z])/).join('-').toLowerCase());\r\n      const escapedStyle = Global.escapeOutput(style[curr]);\r\n      return `${prev += escapedParameter}:\r\n        ${curr === 'font-family' ? this.getFormattedFontName(escapedStyle) : escapedStyle};`\r\n    }, '');\r\n  }\r\n\r\n  private getFilesByFont(files): string {\r\n    let strFilesUrls = '';\r\n    _.forEach(files, (file) => {\r\n      strFilesUrls += `url('api/sites/fonts/${file}'), `;\r\n    });\r\n    return strFilesUrls.trim().slice(0, -1);\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\ndeclare var _: any;\r\n\r\n@Injectable()\r\nexport class ControlsService {\r\n\r\n  static controlComponents: Array<any> = [];\r\n\r\n  static registerControlComponent(controlComponent: any) {\r\n    this.controlComponents.push(controlComponent);\r\n  }\r\n\r\n  static getControlComponents(): Array<any> {\r\n    return this.controlComponents;\r\n  }\r\n\r\n  public getControlDefinitions(): Array<IControlDefinition> {\r\n    return _.filter(_.map(ControlsService.controlComponents, (controlComponent: any) => {\r\n      return controlComponent.controlDefinition;\r\n    }), (control: IControl) => {\r\n      return control.type !== 'header' && control.type !== 'footer' && control.type !== 'hero';\r\n    });\r\n  }\r\n\r\n  public getControlDefinitionByType(type: string): IControlDefinition {\r\n    const controlComponent = _.find(ControlsService.controlComponents, (controlComponentItem: any) => {\r\n      return controlComponentItem.controlDefinition.type === type;\r\n    });\r\n    if (controlComponent) {\r\n      return controlComponent.controlDefinition;\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  public getControlComponents(): Array<IControlDefinition> {\r\n    return ControlsService.controlComponents;\r\n  }\r\n\r\n  public getControlComponentByType(type: string): any {\r\n    const controlComponent = _.find(ControlsService.controlComponents, (controlComponentItem: any) => {\r\n      return controlComponentItem.controlDefinition.type === type;\r\n    });\r\n    if (controlComponent) {\r\n      return controlComponent;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public getCollectionFieldsSelectors() {\r\n    return  {\r\n      listView: {\r\n        image: '.bs-list-view__img',\r\n        textTitle: '.bs-list-view__content__head__title > .bs-collection-field__container > div',\r\n        labelTitle: '.bs-list-view__content__head__title > .bs-collection-field__container > label',\r\n        text: '.bs-list-view__content__body__content',\r\n        caption: '.bs-list-view__content__body__caption'\r\n      },\r\n      galleryLink: {\r\n        image: '.bs-gallery-link__item__link__img',\r\n        title: '.bs-gallery-link__item__text'\r\n\r\n      },\r\n      imageCarousel: {\r\n        image: '.bs-carousel-item__image',\r\n        title: '.bs-carousel-item__title'\r\n      },\r\n      cardLink: {\r\n        image: '.bs-card-link__item__img',\r\n        title: '.bs-card-link__item__content__title',\r\n        text: '.bs-card-link__item__content__subtitle'\r\n      },\r\n      dynamic: {\r\n        image: '.bs-image-section',\r\n        header_footer: '.bs-header-footer-section',\r\n        title: '.bs-title-section',\r\n        subtitle: '.bs-subtitle-section',\r\n        body_1: '.bs-bodytext-section.bs-bodytext1-section',\r\n        body_2: '.bs-bodytext-section.bs-bodytext2-section',\r\n        body_3: '.bs-bodytext-section.bs-bodytext3-section',\r\n        heading_1: '.bs-heading1-section',\r\n        heading_2: '.bs-heading2-section',\r\n        caption: '.bs-caption-section'\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import {ControlsService} from 'app/common/services/sites/controls.service';\r\n\r\nexport function ControlDefinition(controlDefinitionMetadata: IControlDefinition) {\r\n    return (target: any) => {\r\n        target.controlDefinition = controlDefinitionMetadata;\r\n        ControlsService.registerControlComponent(target);\r\n        return target;\r\n    };\r\n}\r\n","enum EControlMode {\r\n  Build,\r\n  Render\r\n}\r\n\r\nexport { EControlMode };\r\n","enum EDeviceMode {\r\n    Mobile,\r\n    Tablet,\r\n    Desktop\r\n}\r\nexport { EDeviceMode };\r\n","export const CATEGORY = {\r\n  TEXT: {\r\n    displayName: 'text',\r\n    subcategories: {\r\n      headers: {\r\n        displayName: 'headers',\r\n        controls: {\r\n          titleLight: {\r\n            type: 'titleLight',\r\n            displayName: 'TITLE_CONTROL',\r\n            icon: 'title-light.svg',\r\n          },\r\n          titleBold: {\r\n            type: 'titleBold',\r\n            displayName: 'TITLE_CONTROL',\r\n            icon: 'title-bold.svg',\r\n          },\r\n          subtitleRegular: {\r\n            type: 'subtitleRegular',\r\n            displayName: 'SUBTITLE_CONTROL',\r\n            icon: 'subtitle-regular.svg',\r\n          },\r\n          subtitleBold: {\r\n            type: 'subtitleBold',\r\n            displayName: 'SUBTITLE_CONTROL',\r\n            icon: 'subtitle-bold.svg',\r\n          }\r\n        }\r\n      },\r\n      paragraphs: {\r\n        displayName: 'paragraph',\r\n        controls: {\r\n          paragraph16: {\r\n            type: 'paragraph16',\r\n            displayName: 'TEXT_CONTROL',\r\n            icon: 'paragraph16.svg',\r\n          },\r\n          paragraph12: {\r\n            type: 'text',\r\n            displayName: 'TEXT_CONTROL',\r\n            icon: 'paragraph12.svg',\r\n          },\r\n          paragraph14: {\r\n            type: 'paragraph14',\r\n            displayName: 'TEXT_CONTROL',\r\n            icon: 'paragraph14.svg',\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  MEDIA: {\r\n    displayName: 'media',\r\n    subcategories: {\r\n      image: {\r\n        displayName: 'image',\r\n        controls: {\r\n          image: {\r\n            type: 'image',\r\n            displayName: 'IMAGE_CONTROL',\r\n            icon: 'image-big.svg'\r\n          }\r\n        }\r\n      },\r\n      map: {\r\n        displayName: 'map',\r\n        controls: {\r\n          map: {\r\n            type: 'map',\r\n            displayName: 'MAP_CONTROL',\r\n            icon: 'map.svg'\r\n          }\r\n        }\r\n      },\r\n      simplemap: {\r\n        displayName: 'simplemap',\r\n        controls: {\r\n          simplemap: {\r\n            type: 'simplemap',\r\n            displayName: 'SIMPLEMAP_CONTROL',\r\n            icon: 'map.svg'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  BUTTONS: {\r\n    displayName: 'button',\r\n    subcategories: {\r\n      button_regular: {\r\n        displayName: 'button_regular',\r\n        controls: {\r\n          button: {\r\n            type: 'button',\r\n            displayName: 'BUTTON_CONTROL',\r\n            icon: 'button.svg'\r\n          }\r\n        }\r\n      },\r\n      button_round: {\r\n        displayName: 'button_round',\r\n        controls: {\r\n          button_round: {\r\n            type: 'button_round',\r\n            displayName: 'BUTTON_ROUND_CONTROL',\r\n            icon: 'floating-button.svg'\r\n          }\r\n        }\r\n      },\r\n      link: {\r\n        displayName: 'link',\r\n        controls: {\r\n          link: {\r\n            type: 'link',\r\n            displayName: 'LINK_CONTROL',\r\n            icon: 'link.svg'\r\n          }\r\n        }\r\n      },\r\n      boolean: {\r\n        displayName: 'boolean',\r\n        controls: {\r\n          boolean: {\r\n            type: 'boolean',\r\n            displayName: 'BOOLEAN_CONTROL',\r\n            icon: 'boolean.svg'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  BUNDLES: {\r\n    displayName: 'bundle',\r\n    subcategories: {\r\n      gallery_link: {\r\n        displayName: 'gallery_link',\r\n        controls: {\r\n          galleryLink: {\r\n            type: 'galleryLink',\r\n            displayName: 'GALLERY_LINK_CONTROL',\r\n            icon: 'image-gallery.svg'\r\n          }\r\n        }\r\n      },\r\n      image_carousel: {\r\n        displayName: 'image_carousel',\r\n        controls: {\r\n          imageCarousel: {\r\n            type: 'imageCarousel',\r\n            displayName: 'IMAGE_CAROUSEL_CONTROL',\r\n            icon: 'image-carousel.svg'\r\n          }\r\n        }\r\n      },\r\n      list: {\r\n        displayName: 'list',\r\n        controls: {\r\n          cardLink: {\r\n            type: 'cardLink',\r\n            displayName: 'CARD_LINK_CONTROL',\r\n            icon: 'card-link.svg'\r\n          }\r\n        }\r\n      },\r\n      list_view: {\r\n        displayName: 'list_view',\r\n        controls: {\r\n          listView: {\r\n            type: 'listView',\r\n            displayName: 'LIST_VIEW_CONTROL',\r\n            icon: 'list-view.svg'\r\n          }\r\n        }\r\n      },\r\n      search_collection: {\r\n        displayName: 'search_collection',\r\n        controls: {\r\n          search: {\r\n            type: 'search',\r\n            displayName: 'SEARCH_CONTROL',\r\n            icon: 'collection-search.svg'\r\n          }\r\n        }\r\n      },\r\n      dynamic: {\r\n        displayName: 'dynamic',\r\n        controls: {\r\n          dynamic: {\r\n            type: 'dynamic',\r\n            displayName: 'DYNAMIC_CONTROL',\r\n            icon: 'item-desc.svg'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  FIGURES:  {\r\n    displayName: 'figures',\r\n    subcategories: {\r\n      line: {\r\n        displayName: 'line',\r\n        controls: {\r\n          line: {\r\n            type: 'line',\r\n            displayName: 'LINE_CONTROL',\r\n            icon: 'line.svg'\r\n          }\r\n        }\r\n      },\r\n      circle: {\r\n        displayName: 'circle',\r\n        controls: {\r\n          circle: {\r\n            type: 'circle',\r\n            displayName: 'CIRCLE_CONTROL',\r\n            icon: 'circle.svg'\r\n          }\r\n        }\r\n      },\r\n      square: {\r\n        displayName: 'square',\r\n        controls: {\r\n          square: {\r\n            type: 'square',\r\n            displayName: 'SQUARE_CONTROL',\r\n            icon: 'square.svg'\r\n          }\r\n        }\r\n      },\r\n      rectangle: {\r\n        displayName: 'rectangle',\r\n        controls: {\r\n          rectangle: {\r\n            type: 'rectangle',\r\n            displayName: 'RECTANGLE_CONTROL',\r\n            icon: 'rectangle.svg'\r\n          }\r\n        },\r\n      }\r\n    }\r\n  },\r\n  EXPERIENCE_ELEMENTS: {\r\n    displayName: 'experience_elements',\r\n    subcategories: {\r\n      Inbox: {\r\n        displayName: 'Inbox',\r\n        controls: {\r\n          Inbox: {\r\n            type: 'Inbox',\r\n            displayName: 'INBOX_CONTROL',\r\n            icon: 'experience-inbox.svg'\r\n          }\r\n        }\r\n      },\r\n      MyRelevants: {\r\n        displayName: 'my_relevants',\r\n        controls: {\r\n          MyRelevants: {\r\n            type: 'MyRelevants',\r\n            displayName: 'MY_RELEVANTS_CONTROL',\r\n            icon: 'my-relevants.svg'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  EMBEDS: {\r\n    displayName: 'embeds',\r\n    subcategories: {\r\n      HtmlIframe: {\r\n        displayName: 'html_iframe',\r\n        controls: {\r\n          HtmlIframe: {\r\n            type: 'HtmlIframe',\r\n            displayName: 'HTML_IFRAME_CONTROL',\r\n            icon: 'HTML-iframe.svg'\r\n          }\r\n        }\r\n      },\r\n      EmbedWebsite: {\r\n        displayName: 'embed_website',\r\n        controls: {\r\n          EmbedWebsite: {\r\n            type: 'EmbedWebsite',\r\n            displayName: 'EMBED_WEBSITE_CONTROL',\r\n            icon: 'website-iframe.svg'\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  CASES: {\r\n    displayName: 'cases',\r\n    subcategories: {\r\n      MyCases: {\r\n        displayName: 'my_cases',\r\n        controls: {\r\n          Inbox: {\r\n            type: 'MyCases',\r\n            displayName: 'MY_CASES_CONTROL',\r\n            icon: 'experience-inbox.svg'\r\n          }\r\n        }\r\n      },\r\n    }\r\n  }\r\n};\r\n\r\nexport const PROPERTY_SECTIONS = {\r\n  fonts: {\r\n    key: 'fonts',\r\n    displayName: 'FONTS'\r\n  },\r\n  style: {\r\n    key: 'style',\r\n    displayName: 'STYLE'\r\n  },\r\n  background: {\r\n    key: 'background',\r\n    displayName: 'BACKGROUND'\r\n  },\r\n  border: {\r\n    key: 'border',\r\n    displayName: 'BORDER'\r\n  },\r\n  icon: {\r\n    key: 'icon',\r\n    displayName: 'ICON'\r\n  },\r\n  login: {\r\n    key: 'login',\r\n    displayName: 'LOGIN'\r\n  },\r\n  logo: {\r\n    key: 'logo',\r\n    displayName: 'LOGO'\r\n  }\r\n}\r\n\r\n/* TEXT / HEADER Controls */\r\nexport const SUBCATEGORY_HEADER = CATEGORY.TEXT.subcategories.headers;\r\nexport const HEADER_CONTROLS = SUBCATEGORY_HEADER.controls;\r\n\r\n/* TEXT / PARAGRAPH Controls */\r\nexport const SUBCATEGORY_PARAGRAPH = CATEGORY.TEXT.subcategories.paragraphs;\r\nexport const PARAGRAPH_CONTROLS = SUBCATEGORY_PARAGRAPH.controls;\r\n\r\n/* MEDIA / IMAGE Controls */\r\nexport const SUBCATEGORY_IMAGE = CATEGORY.MEDIA.subcategories.image;\r\nexport const IMAGE_CONTROLS = SUBCATEGORY_IMAGE.controls;\r\n\r\n/* MEDIA / MAP Controls */\r\nexport const SUBCATEGORY_MAP = CATEGORY.MEDIA.subcategories.map;\r\nexport const MAP_CONTROLS = SUBCATEGORY_MAP.controls;\r\n\r\n/* MEDIA / MAP Controls */\r\nexport const SUBCATEGORY_SIMPLEMAP = CATEGORY.MEDIA.subcategories.simplemap;\r\nexport const SIMPLEMAP_CONTROLS = SUBCATEGORY_SIMPLEMAP.controls;\r\n\r\n/* BUTTONS / BUTTON_REGULAR Controls */\r\nexport const SUBCATEGORY_BUTTON_REGULAR = CATEGORY.BUTTONS.subcategories.button_regular;\r\nexport const BUTTON_REGULAR_CONTROLS = SUBCATEGORY_BUTTON_REGULAR.controls;\r\n\r\n/* BUTTONS / BUTTON_ROUND Controls */\r\nexport const SUBCATEGORY_BUTTON_ROUND = CATEGORY.BUTTONS.subcategories.button_round;\r\nexport const BUTTON_ROUND_CONTROLS = SUBCATEGORY_BUTTON_ROUND.controls;\r\n\r\n/* BUTTONS / LINK Controls */\r\nexport const SUBCATEGORY_LINK = CATEGORY.BUTTONS.subcategories.link;\r\nexport const LINK_CONTROLS = SUBCATEGORY_LINK.controls;\r\n\r\n/* BUTTONS / BOOLEAN Controls */\r\nexport const SUBCATEGORY_BOOLEAN = CATEGORY.BUTTONS.subcategories.boolean;\r\nexport const BOOLEAN_CONTROLS = SUBCATEGORY_BOOLEAN.controls;\r\n\r\n/* BUNDLES / GALERY_LINK Controls */\r\nexport const SUBCATEGORY_GALLERY_LINK = CATEGORY.BUNDLES.subcategories.gallery_link;\r\nexport const GALERRY_LINK_CONTROLS = SUBCATEGORY_GALLERY_LINK.controls;\r\n\r\n/* BUNDLES / IMAGE_CARROUSEL Controls */\r\nexport const SUBCATEGORY_IMAGE_CAROUSEL = CATEGORY.BUNDLES.subcategories.image_carousel;\r\nexport const IMAGE_CAROUSEL_CONTROLS = SUBCATEGORY_IMAGE_CAROUSEL.controls;\r\n\r\n/* BUNDLES / LIST Controls */\r\nexport const SUBCATEGORY_LIST = CATEGORY.BUNDLES.subcategories.list;\r\nexport const LIST_CONTROLS = SUBCATEGORY_LIST.controls;\r\n\r\n/* BUNDLES / LIST_VIEW Controls */\r\nexport const SUBCATEGORY_LIST_VIEW = CATEGORY.BUNDLES.subcategories.list_view;\r\nexport const LIST_VIEW_CONTROLS = SUBCATEGORY_LIST_VIEW.controls;\r\n\r\n/* BUNDLES / SEARCH Controls */\r\nexport const SUBCATEGORY_SEARCH = CATEGORY.BUNDLES.subcategories.search_collection;\r\nexport const SEARCH_CONTROLS = SUBCATEGORY_SEARCH.controls;\r\n\r\n/* BUNDLES / Dynamic Controls */\r\nexport const SUBCATEGORY_DYNAMIC = CATEGORY.BUNDLES.subcategories.dynamic;\r\nexport const DYNAMIC_CONTROLS = SUBCATEGORY_DYNAMIC.controls;\r\n\r\n/* EXPERIENCE ELEMENTS / INBOX Control */\r\nexport const SUBCATEGORY_INBOX = CATEGORY.EXPERIENCE_ELEMENTS.subcategories.Inbox;\r\nexport const INBOX_CONTROLS = SUBCATEGORY_INBOX.controls;\r\n\r\n/* EXPERIENCE ELEMENTS / MY_CASES Control */\r\nexport const SUBCATEGORY_MY_CASES = CATEGORY.CASES.subcategories.MyCases;\r\nexport const MY_CASES_CONTROLS = SUBCATEGORY_MY_CASES.controls;\r\n\r\n/* EXPERIENCE ELEMENTS / INBOX Control */\r\nexport const SUBCATEGORY_MY_RELEVANTS = CATEGORY.EXPERIENCE_ELEMENTS.subcategories.MyRelevants;\r\nexport const MY_RELEVANTS_CONTROLS = SUBCATEGORY_INBOX.controls;\r\n\r\n/* FIGURE CONTROLS / Line Control */\r\nexport const SUBCATEGORY_LINE = CATEGORY.FIGURES.subcategories.line;\r\nexport const SUBCATEGORY_CIRCLE = CATEGORY.FIGURES.subcategories.circle;\r\nexport const SUBCATEGORY_SQUARE = CATEGORY.FIGURES.subcategories.square;\r\nexport const SUBCATEGORY_RECTANGLE = CATEGORY.FIGURES.subcategories.rectangle;\r\nexport const LINE_CONTROLS = SUBCATEGORY_LINE.controls;\r\nexport const CIRCLE_CONTROLS = SUBCATEGORY_CIRCLE.controls;\r\nexport const SQUARE_CONTROLS = SUBCATEGORY_SQUARE.controls;\r\nexport const RECTANGLE_CONTROLS = SUBCATEGORY_RECTANGLE.controls;\r\n\r\n/* EXPERIENCE ELEMENTS / INBOX Control */\r\nexport const SUBCATEGORY_HTML_IFRAME = CATEGORY.EMBEDS.subcategories.HtmlIframe;\r\nexport const SUBCATEGORY_EMBED_WEBSITE = CATEGORY.EMBEDS.subcategories.EmbedWebsite;\r\nexport const HTML_IFRAME_CONTROLS = SUBCATEGORY_HTML_IFRAME.controls;\r\nexport const EMBED_WEBSITE_CONTROLS = SUBCATEGORY_EMBED_WEBSITE.controls;\r\n","import {ChangeDetectorRef} from '@angular/core';\r\nimport {EControlMode} from 'app/editor/models/EControlMode';\r\nimport { Subject, Subscription, timer } from 'rxjs';\r\nimport {ThemeService} from 'app/common/services/sites/theme.service';\r\nimport {Global} from 'app/common/misc/global';\r\nimport {EDeviceMode} from 'app/editor/models/EDeviceMode';\r\nimport {CultureSettingsService} from '../services/sites/culture-settings.service';\r\nimport {CATEGORY} from './controls-name-definition';\r\nimport {Store} from '@ngrx/store';\r\nimport {StateSnapshotService} from '../services/sites/state-snapshots.service';\r\nimport { debounce, debounceTime } from 'rxjs/operators';\r\n\r\ndeclare let browser_detect: any;\r\n\r\nabstract class BaseControlComponent {\r\n  private _changed: Subject<any> = new Subject<any>();\r\n  private _parameters: {[key: string]: any} = {};\r\n  private _parametersTranslation: {[key: string]: any} = {};\r\n  protected _currentLanguageResources: {[key: string]: string};\r\n  protected _defaultPreferences: IUserPreferences;\r\n\r\n  protected control: IControl;\r\n  protected onResize: Subject<{width: number; height: number}>;\r\n  protected cdr: any;\r\n  protected controlDefinition: IControlDefinition; // Dinamically set by control definition decorator\r\n  protected state: EControlMode = EControlMode.Build;\r\n  protected stateSnapshotService: StateSnapshotService;\r\n  protected height;\r\n  protected width;\r\n  protected themeServices: ThemeService;\r\n  protected cultureService: CultureSettingsService;\r\n  protected baseStore: Store<IRenderState>;\r\n  protected refreshSubject: Subject<any> = new Subject<any>();\r\n  private _refreshSubscription: Subscription;\r\n\r\n\r\n  public styles: {[key: string]: any} = {};\r\n  public location: {[key: string]: any} = {};\r\n  public deviceMode: EDeviceMode;\r\n  public isOnRenderMode = Global.isOnRenderMode();\r\n\r\n  private _boundParameters: {[key: string]: {xpaths: any[], url?: string}} = {};\r\n\r\n  constructor() {\r\n    this.controlDefinition = this.constructor['controlDefinition'];\r\n    this.onComponentInitialized();\r\n    this.onResize = new Subject<any>();\r\n    this._refreshSubscription?.unsubscribe();\r\n    this._refreshSubscription = this.refreshSubject\r\n    .pipe(debounceTime(600),\r\n      debounce(loading => !loading || (loading && !loading.loadingUser &&  !loading.loadingChangeBPMLanguage)\r\n      ? timer(0) : timer(3000)))\r\n    .subscribe(() => {\r\n      this.refresh();\r\n    })\r\n  }\r\n\r\n  public get parameters() {\r\n    return this._parametersTranslation;\r\n  }\r\n\r\n  public setBaseServices(\r\n    stateSnapshotsService: StateSnapshotService,\r\n    themeServices: ThemeService,\r\n    cultureService: CultureSettingsService\r\n  ) {\r\n    this.stateSnapshotService = stateSnapshotsService;\r\n    this.themeServices = themeServices;\r\n    this.cultureService = cultureService;\r\n  }\r\n\r\n  public setCurrentLanguage(currentLanguage: ILanguageResource) {\r\n    this._currentLanguageResources = currentLanguage.resources;\r\n    this._defaultPreferences = currentLanguage.culture;\r\n  }\r\n\r\n  public setControl(control: IControl, changeDetectorRef: ChangeDetectorRef) {\r\n    this.control = control;\r\n    this.initializeControl();\r\n    this.cdr = changeDetectorRef;\r\n  }\r\n\r\n  public enableRenderingMode() {\r\n    this.state = EControlMode.Render;\r\n  }\r\n\r\n  protected isRenderingMode() {\r\n    return this.state === EControlMode.Render;\r\n  }\r\n\r\n  public getControl() {\r\n    return this.control;\r\n  }\r\n\r\n  protected initializeControl() {\r\n    // Subscribe to control changed subject, Note: This subject is only set at building mode\r\n    // TODO: Store refactor\r\n    // if (this.control.changed) {\r\n    //   this.control.changed.asObservable().subscribe((updatedControl: IControl) => this.onChanged(updatedControl));\r\n    // }\r\n    if (!this.deviceMode) {\r\n      this._checkDeviceMode();\r\n    }\r\n    // Load options\r\n    this.location = this.control.location;\r\n    this.loadStyles(this.control.styles);\r\n  }\r\n\r\n  private _checkDeviceMode() {\r\n    if (browser_detect.mobilecheck() || Global.getScreenSize() === 'mobile') {\r\n      this.deviceMode = EDeviceMode.Mobile;\r\n    } else if (\r\n      browser_detect.mobileAndTabletcheck() ||\r\n      Global.getScreenSize() === 'tablet'\r\n    ) {\r\n      this.deviceMode = EDeviceMode.Tablet;\r\n    } else {\r\n      this.deviceMode = EDeviceMode.Desktop;\r\n    }\r\n  }\r\n\r\n  public initialized() {\r\n    this.onComponentInitialized();\r\n  }\r\n\r\n  /*\r\n   *   EVENT TEMPLATE METHODS\r\n   */\r\n  protected onComponentInitialized() {\r\n    // This method is called after all the controls in the page are fully initialized, and the page mappings are applied\r\n  }\r\n\r\n  protected onChanged(updatedControl: IControl) {\r\n    this.control = updatedControl;\r\n    this.loadStyles(this.control.styles);\r\n    this.loadParameters(\r\n      this.control.parameters,\r\n      this.control.parametersBinding\r\n    );\r\n  }\r\n\r\n  /*\r\n   *   LOAD STYLE / PARAMETER METHODS\r\n   */\r\n public loadStyles(styles) {\r\n    for (const key in this.controlDefinition.styles) {\r\n      if (!_.isNil(styles[key])) {\r\n        if (this.themeServices && this.themeServices.getThemeVariables()[styles[key]]) {\r\n          this.themeServices.refreshThemeVariables();\r\n          this.styles[key] = this.themeServices.getThemeVariables()[styles[key]];\r\n        } else {\r\n          // Property defined in the control\r\n          this.styles[key] = styles[key];\r\n        }\r\n      } else {\r\n        // Set default value\r\n        if (this.themeServices && this.themeServices.getThemeVariables()[this.controlDefinition.styles[key].defaultValue]) {\r\n          this.themeServices.refreshThemeVariables();\r\n          this.styles[key] = this.themeServices.getThemeVariables()[this.controlDefinition.styles[key].defaultValue];\r\n        } else {\r\n          this.styles[key] = this.controlDefinition.styles[key].defaultValue;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public loadParameters(parameters, parametersBinding) {\r\n    if (!this._currentLanguageResources) {\r\n      return;\r\n    }\r\n    for (const key in this.controlDefinition.parameters) {\r\n      if (this.controlDefinition.parameters[key]) {\r\n        const translation =\r\n          this._currentLanguageResources[parameters[key]] !== null &&\r\n          this._currentLanguageResources[parameters[key]] !== undefined\r\n            ? this._currentLanguageResources[parameters[key]]\r\n            : parameters[key];\r\n        if (parametersBinding && parametersBinding[key]) {\r\n          // Bound values\r\n          if (this.isRenderingMode()) {\r\n            this._setParametersOnRender(translation, key);\r\n          } else {\r\n            if (\r\n              this.controlDefinition.category !== CATEGORY.EMBEDS.displayName\r\n            ) {\r\n              this._parametersTranslation[key] = `<${translation}>`;\r\n            } else {\r\n              this._parametersTranslation[key] = translation;\r\n            }\r\n          }\r\n        } else if (parameters[key] !== undefined) {\r\n          // Property defined in the control\r\n          switch (this.controlDefinition.parameters[key].type) {\r\n            case 'coords':\r\n              this._parametersTranslation[key] = translation && this._isJSON(translation) ? JSON.parse(translation) : {};\r\n              break;\r\n\r\n            case 'range':\r\n              this._parametersTranslation[key] = parseInt(translation, 10);\r\n              break;\r\n\r\n            default:\r\n              this._parametersTranslation[key] = translation;\r\n              break;\r\n          }\r\n        } else {\r\n          // Set default value\r\n          this._parametersTranslation[key] = null;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public setBoundParameters(data) {\r\n   _.forEach(this._boundParameters, ({url, xpaths}, key) => {\r\n\r\n      _.forEach(xpaths, xpath => {\r\n        if (!this._parametersTranslation[key]) {\r\n          this._parametersTranslation[key] =\r\n            this.controlDefinition.category !== CATEGORY.EMBEDS.displayName\r\n              ? data[xpath]\r\n              : url.replace(`$(${xpath})$`, data[xpath]);\r\n        } else {\r\n          this._parametersTranslation[key] =\r\n            this.controlDefinition.category !== CATEGORY.EMBEDS.displayName\r\n              ? data[xpath]\r\n              : this._parametersTranslation[key].replace(\r\n                  `$(${xpath})$`,\r\n                  data[xpath]\r\n                );\r\n        }\r\n\r\n        if (\r\n          data[xpath] &&\r\n          data[xpath].match &&\r\n          data[xpath].match('/odata/image')\r\n        ) {\r\n          this._parametersTranslation[key] = Global.getBizagiImageUrl(\r\n            this._parametersTranslation[key]\r\n          );\r\n        }\r\n      });\r\n      if (\r\n        this.control.parameters.type &&\r\n        this.controlDefinition.category !== CATEGORY.EMBEDS.displayName &&  this.controlDefinition.category !== CATEGORY.MEDIA.displayName\r\n      ) {\r\n        switch (this.control.parameters.type.toLowerCase()) {\r\n          case 'datetime':\r\n              this._parametersTranslation[\r\n                key\r\n              ] = this.cultureService.dateTimeFormat(\r\n                this._parametersTranslation[key]\r\n              );\r\n            break;\r\n\r\n          case 'money':\r\n            this._parametersTranslation[\r\n              key\r\n            ] = this.cultureService.currencyFormat(\r\n              this._parametersTranslation[key]\r\n            );\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      if ((this.control.type === 'simplemap' || this.control.type === 'map')  && this.control.parametersBinding[key]) {\r\n        if (key === 'coords') {\r\n          this._getGoogleMapsDirection(key, this._parametersTranslation[key]);\r\n        }\r\n      }\r\n\r\n    });\r\n}\r\n\r\n  /*\r\n   *   MISC HELPER METHODS\r\n   */\r\n  public navigateTo(url: string) {\r\n    window.location.href = url;\r\n  }\r\n\r\n  protected isResizable() {\r\n    return this.controlDefinition.defaultSize.dynamic;\r\n  }\r\n\r\n  public getQueryStringByName(name): string {\r\n    const url = window.location.href;\r\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n    const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)')\r\n    const results = regex.exec(url);\r\n    if (!results) {\r\n      return null;\r\n    }\r\n    if (!results[2]) {\r\n      return '';\r\n    }\r\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n  }\r\n\r\n  private async _getGoogleMapsDirection(key: string, value: string) {\r\n    if (value) {\r\n      const geocoder = new google.maps.Geocoder;\r\n      geocoder.geocode({address: value}, data => {\r\n        const latLng = data[0]?.geometry?.location?.toJSON();\r\n        if (data && latLng) {\r\n          this._parametersTranslation[\r\n            key\r\n          ] = {\r\n            place: data[0]?.formatted_address,\r\n            latitude: latLng.lat,\r\n            longitude: latLng.lng\r\n          }\r\n        }\r\n      })\r\n    } else {\r\n      this._parametersTranslation[\r\n        key\r\n      ] = {\r\n        place: '',\r\n        latitude: null,\r\n        longitude: null\r\n      }\r\n    }\r\n  }\r\n\r\n  /*\r\n   *   ACTION METHODS\r\n   */\r\n  public whenChanged(callback: Function) {\r\n    this._changed.subscribe(params => {\r\n      callback(params);\r\n    });\r\n  }\r\n\r\n  protected notifyChange(notifyParams: IControlActionNotification) {\r\n    this._changed.next(notifyParams);\r\n  }\r\n\r\n  public updateProperty(key: string, value: any) {\r\n    // Makes a set into this class, the parameter here could be \"parameters.filter\"\r\n    // so .. this line will do the following: this._parameters[\"filter\"] = value.\r\n    // But sometimes the key could be \"styles.fontSize\".\r\n    _.set(this, key, value);\r\n    _.set(this.control, key, value);\r\n    this.refreshSubject.next();\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  public refresh() {}\r\n\r\n  private _setParametersOnRender(translation, key) {\r\n    const xpaths = [];\r\n\r\n    if (this.controlDefinition.category === CATEGORY.EMBEDS.displayName) {\r\n      const indexesInit = [];\r\n      const indexesEnd = [];\r\n      let translationClone = _.cloneDeep(translation);\r\n      let counter = 0;\r\n      while (translationClone.indexOf('$(') >= 0) {\r\n        indexesInit.push(translationClone.indexOf('$(') + counter);\r\n        indexesEnd.push(translationClone.indexOf(')$') + counter);\r\n        translationClone = translationClone.replace('$(', '').replace(')$', '');\r\n        counter = counter + 4;\r\n      }\r\n\r\n      for (let index = 0; index < indexesInit.length; index++) {\r\n        const xpathFind = translation.substring(\r\n          indexesInit[index] + 2,\r\n          indexesEnd[index]\r\n        );\r\n        xpaths.push(xpathFind);\r\n      }\r\n    } else {\r\n      xpaths.push(translation);\r\n    }\r\n\r\n    this._boundParameters[key] = {xpaths, url: translation};\r\n    // this.setBoundParameter(key, xpaths, translation);\r\n  }\r\n\r\n  public setStore(store: Store<IRenderState>) {\r\n    this.baseStore = store;\r\n  }\r\n\r\n  private _isJSON(value) {\r\n    try {\r\n      return (JSON.parse(value) && !!value);\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport {BaseControlComponent};\r\n","enum ENavigationType {\r\n  Page,\r\n  Link\r\n}\r\n\r\nexport { ENavigationType };\r\n","import { loremIpsum } from 'lorem-ipsum';\r\nimport { TranslateParser, TranslateService } from '@ngx-translate/core';\r\nimport { CATEGORY } from '../controls/controls-name-definition';\r\n\r\nexport class DefaultValues {\r\n    private static _templateImages = [];\r\n\r\n    public static _defaultValuesFields: { [key: string]: any } = {\r\n        title: 'Title', header_footer: 'Header & Footer', subtitle: 'Subtitle',\r\n        body_1: 'Body Text / ', body_2: 'Body Text / ', body_3: 'Body Text / ', text: 'Default body text / ',\r\n        heading_1: 'Heading 1', heading_2: 'Heading 2', caption: 'Caption'\r\n    };\r\n\r\n    private static _defaultValuesMyCases = {\r\n        'dataCount': 11,\r\n        'headers': [\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/inboxHeadersDefault(d3bda051-5034-4b89-93e9-57288a40d9b8)',\r\n                'id': 'd3bda051-5034-4b89-93e9-57288a40d9b8',\r\n                'key': '@CaseNumber',\r\n                'category': 'case',\r\n                'displayName': 'Case Id',\r\n                'type': 'VarChar'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/inboxHeadersDefault(425aa81c-60b1-45df-a8b8-152acfaa0f84)',\r\n                'id': '425aa81c-60b1-45df-a8b8-152acfaa0f84',\r\n                'key': '@ProcessDisplayName',\r\n                'category': 'case',\r\n                'displayName': 'Process',\r\n                'type': 'VarChar'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/inboxHeadersDefault(d1abb8d1-92a4-41b8-8e95-33be29bdaf46)',\r\n                'id': 'd1abb8d1-92a4-41b8-8e95-33be29bdaf46',\r\n                'key': '@CreationDate',\r\n                'category': 'case',\r\n                'displayName': 'Case creation date',\r\n                'type': 'DateTime'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/inboxHeadersDefault(4e5f6dbb-59aa-4251-a4db-17d1346cc918)',\r\n                'id': '4e5f6dbb-59aa-4251-a4db-17d1346cc918',\r\n                'key': '@SolutionDate',\r\n                'category': 'case',\r\n                'displayName': 'Case due date',\r\n                'type': 'DateTime'\r\n            }\r\n        ],\r\n        'data': [\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(1)',\r\n                'id': 1,\r\n                '@IdCase': 1,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-1992',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Completed'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(2)',\r\n                'id': 2,\r\n                '@IdCase': 2,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-1993',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(3)',\r\n                'id': 3,\r\n                '@IdCase': 3,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-1994',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(4)',\r\n                'id': 4,\r\n                '@IdCase': 4,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-1995',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(5)',\r\n                'id': 5,\r\n                '@IdCase': 5,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-1996',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(6)',\r\n                'id': 6,\r\n                '@IdCase': 6,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-1997',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(7)',\r\n                'id': 7,\r\n                '@IdCase': 7,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-1998',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(8)',\r\n                'id': 8,\r\n                '@IdCase': 8,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-1999',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(9)',\r\n                'id': 9,\r\n                '@IdCase': 9,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-2000',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            },\r\n            {\r\n                '@odata.id': 'http://dev-pc/ProjectBizagi/odata/workportal/cases(10)',\r\n                'id': 10,\r\n                '@IdCase': 10,\r\n                '@GuidProcess': '87928f5b-bdfa-4b68-b38b-fbc7b30c6e3c',\r\n                '@ProcessType': 'Process',\r\n                '@IdWorkFlow': 1,\r\n                '@HasSummaryForm': false,\r\n                '@CaseNumber': 'CO-2001',\r\n                '@ProcessDisplayName': 'ProcessNormal',\r\n                '@CreationDate': '—/—/—— 00:00 AM',\r\n                '@SolutionDate': '—/—/—— 00:00 AM',\r\n                '@CaseState': 'Running'\r\n            }\r\n        ]\r\n    }\r\n\r\n    public static loadDefaultData(dataMappings: Array<any>, size: number = 3): any {\r\n        const data = [];\r\n        for (let i = 0; i < size; i++) {\r\n            const row = {};\r\n            _.keys(dataMappings).forEach((mapping: string) => {\r\n                const dataType = dataMappings[mapping].typeData || dataMappings[mapping].type;\r\n                row[mapping] = this.getDefaultValue(dataType);\r\n            });\r\n            data.push(row);\r\n        }\r\n        return {data, dataCount: data.length};\r\n    }\r\n\r\n    public static loadDefaultDataMyCases(): any {\r\n        return this._defaultValuesMyCases;\r\n    }\r\n\r\n    public static loadDefaultDataFields(dataMappings: any, size: number = 3, controlId?: string) {\r\n        const langResources = {};\r\n        const data = [];\r\n        for (let i = 0; i < size; i++) {\r\n            const row = {};\r\n            _.keys(dataMappings).forEach((mapping: string) => {\r\n                const resourceKey = `${controlId}_field${i}_${mapping}`;\r\n                if (mapping === 'image') {\r\n                    langResources[resourceKey] = this.getRandomImage();\r\n                    row[mapping] = resourceKey;\r\n                } else {\r\n                    switch (mapping) {\r\n                        case 'body_1':\r\n                        case 'body_2':\r\n                        case 'body_3':\r\n                            langResources[resourceKey] = this._defaultValuesFields[mapping] + this.getRandomText();\r\n                            row[mapping] = resourceKey;\r\n                            break;\r\n\r\n                        default:\r\n                            langResources[resourceKey] = this._defaultValuesFields[mapping];\r\n                            row[mapping] = resourceKey;\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n            data.push(row);\r\n        }\r\n        return { data, langResources };\r\n    }\r\n\r\n    public static getDefaultValue(type: string, controlType?: string): any {\r\n        switch (type.toLowerCase()) {\r\n            case 'title': {\r\n                if (controlType && controlType.match('subtitle')) {\r\n                    return this.getRandomTitle(6);\r\n                } else {\r\n                    return this.getRandomTitle(2);\r\n                }\r\n            }\r\n            case 'text': {\r\n                if (controlType && controlType.match('EmbedWebsite')) {\r\n                    return '';\r\n                }\r\n                return this.getRandomText(3);\r\n            }\r\n            case 'image':\r\n                return this.getRandomImage();\r\n            case 'number':\r\n                return this.getRandomNumber();\r\n            case 'icon-selector':\r\n                return null;\r\n            case 'coords':\r\n                return { latitude: '', longitude: '' };\r\n            case 'display-search':\r\n                return 'boxed';\r\n            case 'workitem':\r\n                return this._getWorkItems(3);\r\n            case 'bizagi-number':\r\n                return this.getRandomBizagiNumber();\r\n            case 'date':\r\n                return this.getRandomDate(new Date(2012, 0, 1), new Date());\r\n            case 'url':\r\n                return '';\r\n            case 'xpath':\r\n                return true;\r\n            case 'boolean':\r\n                return true;\r\n            default:\r\n                return this.getRandomText();\r\n        }\r\n    }\r\n\r\n    public static getDefaultProcesess(translateService: TranslateService) {\r\n        return new Promise((resolve) => {\r\n            translateService.get(['controls.relevants.CATEGORY', 'controls.relevants.PROCESS'])\r\n                .subscribe((resources: Array<string>) => {\r\n                    const defaultData = {};\r\n                    for (let i = 0; i < 5; i++) {\r\n                        const categoryKey = resources['controls.relevants.CATEGORY'] + ' ' + i;\r\n                        defaultData[categoryKey] = [];\r\n\r\n                        for (let j = 0; j < 3; j++) {\r\n                            defaultData[categoryKey].push({\r\n                                name: 'CreatePolicy',\r\n                                displayName: resources['controls.relevants.PROCESS'] + ' ' + j,\r\n                                processId: 8\r\n                            });\r\n                        }\r\n                        resolve(defaultData);\r\n                    }\r\n                });\r\n        });\r\n    }\r\n    public static setTemplateImages(images: Array<string>) {\r\n        this._templateImages = images;\r\n    }\r\n\r\n    public static getDefaultPicture(): string {\r\n        return 'i/bz-default-image.png';\r\n    }\r\n\r\n\r\n    public static isDefaultValue(value: string): boolean {\r\n        const defaultControlNames = CATEGORY.BUNDLES;\r\n        return value.match(this.getDefaultPicture()) !== null || value.match('Text ') !== null;\r\n    }\r\n\r\n    public static getRandomText(nsentences?: number) {\r\n        return loremIpsum({\r\n            count: nsentences || 1\r\n            , units: 'sentences'\r\n        });\r\n    }\r\n\r\n    private static getRandomTitle(nwords?: number) {\r\n        return 'Text ' + loremIpsum({\r\n            count: nwords || 1\r\n            , units: 'words'\r\n        });\r\n    }\r\n\r\n    private static getRandomImage() {\r\n        return this._templateImages && this._templateImages.length ? _.sample(this._templateImages) : this.getDefaultPicture();\r\n    }\r\n\r\n    private static getRandomNumber() {\r\n        return Math.floor((Math.random() * 10) + 1);\r\n    }\r\n\r\n    private static getRandomBizagiNumber() {\r\n        const rnumber = Math.floor((Math.random() * 10) + 1);\r\n        const pad = '000';\r\n        const ans = pad.substring(0, pad.length - rnumber.toString().length) + rnumber.toString();\r\n        return 'CO-' + ans;\r\n    }\r\n\r\n    private static getRandomDate(start, end) {\r\n        return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime())).toDateString();\r\n    }\r\n\r\n    private static _getWorkItems(nitems: number): Array<any> {\r\n        const items = [];\r\n        for (let index = 0; index < nitems; index++) {\r\n            items[index] = {\r\n                taskName: 'Task ' + index + 1,\r\n                state: 'red',\r\n                id: index + 1,\r\n                solutionDate: this.getRandomDate(new Date(2012, 0, 1), new Date())\r\n            };\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n}\r\n","import { createSelector } from '@ngrx/store';\r\n\r\nconst siteEditorSelector = (state: IEditorState) => state.siteEditor;\r\n\r\nexport const getSiteVersion = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.siteVersion\r\n);\r\n\r\nexport const getCurrentSite = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.currentSite\r\n);\r\n\r\nexport const getCurrentHeader = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.currentSite ? state.currentSite.header: null\r\n);\r\n\r\n\r\nexport const getCurrentFooter = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.currentSite ? state.currentSite.footer: null\r\n);\r\n\r\nexport const getSiteNavigationPages = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.currentSite ? state.currentSite.header.navigation: null\r\n);\r\n\r\nexport const getSavingSite = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.loading.savingSite\r\n);\r\n\r\nexport const getSiteDefaultValues = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.currentSite.defaultValues\r\n);\r\n\r\nexport const getRandomPendingChanges = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.randomPendingChanges\r\n);\r\n\r\nexport const getCurrentSiteSubscription = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.subscriptionId\r\n);\r\n\r\nexport const getDefaultFontSite = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.currentSite?.globalSettings.defaultFontFamily\r\n);\r\n\r\nexport const getColorLibrary = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.colorLibrary\r\n);\r\n\r\n\r\nexport const getBizagiProjectUrl = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState,\r\n   props: {bizagiProjectId: string}) => {\r\n    return state.currentSite.environments[state.currentSite.defaultEnvironment]?.projects[\r\n      props.bizagiProjectId\r\n      ]?.url;\r\n  });\r\n\r\n  export const getInProgressActions = createSelector(\r\n    siteEditorSelector,\r\n    (state: ISiteEditorState) => state.inProgressActions\r\n  );\r\n  \r\n","import { createSelector } from '@ngrx/store';\r\n\r\nconst siteEditorSelector = (state: IEditorState) => state.siteEditor;\r\n\r\nexport const getCurrentSiteLanguage = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) =>\r\n    state.currentSiteLanguage\r\n);\r\n\r\nexport const getResourcesToSync = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) =>\r\n    state.languageResourceToSync\r\n);\r\n\r\nexport const getAvailableLanguages = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) =>\r\n    state.availableLanguages\r\n);\r\n\r\n","import {createSelector} from '@ngrx/store';\r\n\r\nconst siteEditorSelector = (state: IEditorState) => state.siteEditor;\r\n\r\nexport const getCurrentPageState = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.currentPageState\r\n);\r\nexport const getSitePages = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => _.orderBy(_.filter(state.sitePages, (page) => {\r\n    if(!state.currentSite) {\r\n      return null;\r\n    }\r\n    const nav = _.find(state.currentSite.header.navigation, \r\n      (navf : any)=> (navf.pageId === page.id || navf.references?.length\r\n        && _.some(navf.references, (ref)=> ref.pageId === page.id)));\r\n    return nav;\r\n  }), 'name')\r\n);\r\nexport const getHero = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.currentPageState?.hero\r\n);\r\nexport const getHeroAction = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => state.heroAction\r\n);\r\nexport const getSitePagesNoContextualized = createSelector(\r\n  siteEditorSelector,\r\n  (state: ISiteEditorState) => \r\n  _.orderBy(_.filter(state.sitePages, (page)=> !page.isContextualized || page.id === state.currentPageState.id), 'name')\r\n);","enum ECultureDateTypes {\r\n    date,\r\n    time,\r\n    dateTime\r\n}\r\n\r\nenum ECultureCurrencySymbolPosition {\r\n    before,\r\n    after\r\n}\r\n\r\nenum ECultureNegativeNumberFormat {\r\n    standar,\r\n    standar_red,\r\n    parenthesis,\r\n    parenthesis_red\r\n}\r\n\r\nenum EDateFormatStyles {\r\n    long,\r\n    short\r\n}\r\n\r\nexport { ECultureDateTypes,\r\n    ECultureCurrencySymbolPosition,\r\n    ECultureNegativeNumberFormat,\r\n    EDateFormatStyles\r\n};\r\n","import { from as observableFrom, Observable, of, Subject, Subscription } from 'rxjs';\r\n\r\nimport { map } from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { RestApiSevice } from 'app/common/services/oauth/rest-api.service';\r\nimport * as moment from 'moment';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { UserService } from 'app/common/services/sites/user.service';\r\nimport { OAuthClientHelper } from 'app/common/services/oauth/oauth-client.helper';\r\nimport {\r\n    ECultureCurrencySymbolPosition,\r\n    ECultureDateTypes,\r\n    ECultureNegativeNumberFormat,\r\n    EDateFormatStyles\r\n} from 'app/common/models/ECultureFormats';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { getCurrentSiteLanguage } from '../../../editor/site-editor/store/multilanguage/multilanguage.selector';\r\nimport { getSiteLanguage } from '../../../render/store/multilanguage/multilanguage.selector';\r\n\r\n@Injectable()\r\nexport class CultureSettingsService {\r\n\r\n    private _currentLanguage$: Observable<ILanguageResource>;\r\n    private _currentLanguageSubscription: Subscription;\r\n    private _currentLanguage: ILanguageResource;\r\n\r\n    public userPreferencesStatus: Subject<any>;\r\n    public userFromSites;\r\n\r\n    private _endpoints =\r\n        {\r\n            workportalCulture: 'http://localhost/BizAgiBPM/Rest/Multilanguage/Client?cultureName=en-US',\r\n            formatOptions: 'assets/mockups/cultureFormatOptions.json',\r\n        };\r\n\r\n    private _preferences: IUserPreferences;\r\n    private _languagePreferences: IUserPreferences;\r\n    private _formatOptions: ICultureFormatOptions;\r\n\r\n    constructor(protected _restApiService: RestApiSevice,\r\n        private _userService: UserService,\r\n        private _oAuthClientHelper: OAuthClientHelper,\r\n        private _store: Store<IEditorState>, private _storeRender: Store<IRenderState>) {\r\n        this.userPreferencesStatus = new Subject();\r\n        if (Global.isOnRenderMode()) {\r\n            this._currentLanguage$ = this._storeRender.pipe(select(getSiteLanguage));\r\n        } else {\r\n            this._currentLanguage$ = this._store.pipe(select(getCurrentSiteLanguage));\r\n        }\r\n\r\n        this._currentLanguage$.subscribe((language) => {\r\n            if (language) {\r\n                this._languagePreferences = language.culture;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public getFormatOptions(): Observable<ICultureFormatOptions> {\r\n        if (this._formatOptions) {\r\n            return of(this._formatOptions);\r\n        }\r\n        return this._restApiService.get({ url: this._endpoints.formatOptions }).pipe(map((response: any) => {\r\n            this._formatOptions = (response as ICultureFormatOptions);\r\n            return this._formatOptions;\r\n        }));\r\n    }\r\n\r\n    public async getFixedPreferences(preferences, language?:ILanguageResource): Promise<any> {\r\n        const formatOptions = await this.getFormatOptions().toPromise();\r\n        if (!preferences) {\r\n            const currentLanguage = await this._setDefaultLanguageResource();\r\n            preferences = !!currentLanguage ? currentLanguage.culture\r\n                        : !!language ? language.culture\r\n                        : this.getDefaultUserPreferences();\r\n        }\r\n        if (formatOptions.dateFormat.long.indexOf(preferences.dateFormatLong) < 0) {\r\n            preferences.dateFormatLong = formatOptions.dateFormat.long[1];\r\n        }\r\n        if (formatOptions.dateFormat.short.indexOf(preferences.dateFormatShort) < 0) {\r\n            preferences.dateFormatShort = formatOptions.dateFormat.short[1];\r\n        }\r\n        if (!_.some(formatOptions.timeFormat, (time) => time.format === preferences.timeFormat)) {\r\n            preferences.timeFormat = formatOptions.timeFormat[0].format;\r\n        }\r\n\r\n        return preferences;\r\n    }\r\n\r\n    public getPreferences(): Observable<IUserPreferences> {\r\n        if (Global.isOnRenderMode()) {\r\n            return observableFrom(this.getPreferencesFromUser()).pipe(map((preferences: IUserPreferences) => {\r\n                this._preferences = preferences;\r\n                return this._preferences;\r\n            }));\r\n        }\r\n        return observableFrom(this.getPreferencesFromDefaultResource()).pipe(map((preferences: IUserPreferences) => {\r\n            this._preferences = preferences;\r\n            return this._preferences;\r\n        }));\r\n    }\r\n\r\n    public getUserPreferences(): Observable<IUserSiteProfile> {\r\n        return observableFrom(this.getUser()).pipe(map((user: IUserSiteProfile) => {\r\n            return user;\r\n        }));\r\n    }\r\n\r\n    private async getUser(): Promise<IUserSiteProfile> {\r\n        const username = await this._oAuthClientHelper.getUsername();\r\n        this.userFromSites = await this._userService.getUserByUsername(username);\r\n        if (!this.userFromSites.preferences) {\r\n            this.userFromSites.preferences = this.getDefaultUserPreferences();\r\n        }\r\n\r\n        return new Promise<IUserSiteProfile>((\r\n            resolve) => {\r\n            resolve(this.userFromSites);\r\n        });\r\n    }\r\n\r\n    public async getPreferencesFromUser(): Promise<IUserPreferences> {\r\n        const username = await this._oAuthClientHelper.getUsername();\r\n        const userFromSites = await this._userService.getUserByUsername(username);\r\n        if (userFromSites) {\r\n            return new Promise<IUserPreferences>((\r\n                resolve) => {\r\n                resolve(userFromSites.preferences && userFromSites.preferences.isCustom ? (userFromSites.preferences as IUserPreferences) :\r\n                    this.getPreferencesFromDefaultResource());\r\n            });\r\n        } else {\r\n            return this.getPreferencesFromDefaultResource();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this._currentLanguageSubscription.unsubscribe();\r\n    }\r\n\r\n    public async getPreferencesFromDefaultResource(): Promise<IUserPreferences> {\r\n        this._currentLanguage = await this._setDefaultLanguageResource();\r\n        return new Promise<IUserPreferences>((resolve) => { resolve(this._currentLanguage\r\n            ? this._currentLanguage.culture : this.getDefaultUserPreferences()); });\r\n    }\r\n\r\n    public dateTimeFormat(date: string, dataType: ECultureDateTypes = ECultureDateTypes.date, userPreferences?: IUserPreferences): string {\r\n        const currentUserPreferences = userPreferences ? userPreferences : this._preferences;\r\n        if (!moment(date).isValid()) {\r\n            return '...';\r\n        }\r\n        let format: string;\r\n        switch (dataType) {\r\n            case ECultureDateTypes.date:\r\n                format = this._formatToDate(currentUserPreferences);\r\n                break;\r\n            case ECultureDateTypes.time:\r\n                format = currentUserPreferences.timeFormat;\r\n                break;\r\n            case ECultureDateTypes.dateTime:\r\n                format = `${this._formatToDate(currentUserPreferences)} ${currentUserPreferences.timeFormat}`;\r\n                break;\r\n        }\r\n\r\n        const validFormat = this.getValidFormat(format);\r\n        return moment(date).format(validFormat);\r\n    }\r\n\r\n    public currencyFormat(money: string, userPreferences?: IUserPreferences): string {\r\n        const currentPreferences = userPreferences ? userPreferences : this._preferences;\r\n        const moneyNumber = parseFloat(money);\r\n        if(isNaN(moneyNumber)){\r\n            return '';\r\n        }\r\n        if (currentPreferences.decimalDigits > 0) {\r\n            money = moneyNumber.toFixed(currentPreferences.decimalDigits).replace('.', currentPreferences.decimalSeparator);\r\n        }\r\n        money = !_.isNil(money) ? money.toString() : '';\r\n        money = this.negativeNumberFormatFloat(money, currentPreferences.negativeNumbers);\r\n        money = money.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, currentPreferences.thousandsSeparator);\r\n        return currentPreferences.currencySymbolPosition === ECultureCurrencySymbolPosition.before\r\n            ? `${this._languagePreferences.currencySymbol}${money}`\r\n            : `${money}${this._languagePreferences.currencySymbol}`;\r\n    }\r\n\r\n    public floatFormat(float: string, userPreferences?: IUserPreferences): string {\r\n        const currentPreferences = userPreferences ? userPreferences : this._preferences;\r\n        const floatNumber = parseFloat(float);\r\n        if(isNaN(floatNumber)) {\r\n            return '';\r\n        }\r\n        if (currentPreferences.decimalDigits > 0) {\r\n            float = floatNumber.toFixed(currentPreferences.decimalDigits).replace('.', currentPreferences.decimalSeparator);\r\n        }\r\n        float = !_.isNil(float) ? float.toString() : '';\r\n        float = this.negativeNumberFormatFloat(float, currentPreferences.negativeNumbers);\r\n        float = float.replace(/\\B(?=(\\d{3})+(?!\\d))/g, currentPreferences.thousandsSeparator);\r\n        return float;\r\n    }\r\n\r\n    public negativeNumberFormat(numberToFormat: number, negativeCustomFormat?: ECultureNegativeNumberFormat): string {\r\n        if (negativeCustomFormat > 0 && numberToFormat < 0) {\r\n            return `(${numberToFormat.toString().replace('-', '')})`;\r\n        }\r\n        return `${numberToFormat}`;\r\n    }\r\n\r\n    public negativeNumberFormatFloat(numberToFormat: string, negativeCustomFormat?: ECultureNegativeNumberFormat): string {\r\n        if (negativeCustomFormat > 0 && parseFloat(numberToFormat) < 0) {\r\n            return `(${numberToFormat.replace('-', '')})`;\r\n        }\r\n        return `${numberToFormat}`;\r\n    }\r\n\r\n    public async openUserPreferences() {\r\n        this.userPreferencesStatus.next({ isOpen: true });\r\n    }\r\n\r\n    public closeUserPreferences() {\r\n        this.userPreferencesStatus.next({ isOpen: false });\r\n    }\r\n\r\n    public getDefaultUserPreferences(): IUserPreferences {\r\n        return {\r\n            dateFormatStyle: 0,\r\n            dateFormatLong: 'dddd, MMMM DD, YYYY',\r\n            dateFormatShort: 'MM/DD/YYYY',\r\n            dateSeparator: '/',\r\n            timeFormat: 'hh:mm:ss A',\r\n            negativeNumbers: 0,\r\n            decimalDigits: 0,\r\n            thousandsSeparator: ',',\r\n            decimalSeparator: '.',\r\n            currencySymbol: '$',\r\n            currencySymbolPosition: 0,\r\n            toolsBarVisible: true,\r\n        };\r\n    }\r\n\r\n    public countDecimals(value) {\r\n        if (Math.floor(value) === value) { return 0; }\r\n        return value.toString().split('.')[1].length || 0;\r\n    }\r\n\r\n    private _formatToDate(userPreferences: IUserPreferences): string {\r\n        if (userPreferences.dateFormatStyle === EDateFormatStyles.long) {\r\n            return userPreferences.dateFormatLong;\r\n        } else {\r\n            return userPreferences.dateFormatShort.replace(new RegExp('/', 'g'), userPreferences.dateSeparator);\r\n        }\r\n    }\r\n\r\n    private _setDefaultLanguageResource(): Promise<ILanguageResource> {\r\n        return new Promise<ILanguageResource>((resolve, reject) => {\r\n            this._currentLanguageSubscription = this._currentLanguage$.subscribe(async (currentLanguage: ILanguageResource) => {\r\n                if (currentLanguage) {\r\n                    currentLanguage.culture = await this.getFixedPreferences(currentLanguage.culture);\r\n                    resolve(currentLanguage);\r\n                }\r\n                else {\r\n                    resolve(null);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private getValidFormat(format: string) {\r\n        let newFormat = (format.replace('yyyy', 'YYYY')).replace('yy', 'YY').replace('dddd, MMMM d, YYYY', 'dddd, MMMM DD, YYYY');\r\n        newFormat = (newFormat.replace('tt', ''));\r\n        return newFormat;\r\n    }\r\n}\r\n","<div class=\"bs-header-control-outer\" *ngIf=\"control && currentLanguage\" [style.height]=\"styles['height'] + 'px' \"\r\n  [style.font-size]=\"styles['fontSize']\" [style.background]=\"styles['backColor']\" [style.color]=\"styles['fontColor']\">\r\n  <div class=\"bs-header-site\">\r\n    <div class=\"bs-header-site__logo\" [ngClass]=\"{'bs-header-site__logo--disabled':!renderMode}\"\r\n      [style.max-height]=\"styles['height'] - getInt(styles['fontSize'])/2 + 'px'\">\r\n      <a class=\"bs-header-site__logo__container\" *ngIf=\"control.styles['showLogo'] && renderMode\"\r\n        [href]=\"'#/' + site.url + '/' + site.homePageName\">\r\n        <img class=\"bs-header-site__logo__img\" [src]=\"parameters.siteLogo\"\r\n          [style.width]=\"styles['logoSize'] + 'px'\">\r\n      </a>\r\n      <div class=\"bs-header-site__logo__container\" *ngIf=\"control.styles['showLogo'] && !renderMode\">\r\n        <img class=\"bs-header-site__logo__img\" [src]=\"parameters.siteLogo\"\r\n          [style.width]=\"styles['logoSize'] + 'px'\">\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bs-header-site__nav\" [ngStyle]=\"{'background': windowWidth < 769 ? styles['backColor'] : 'transparent'}\"\r\n      [ngClass]=\"{'bs-header-site__nav--active': menuIsActive}\" #headerNavigationContainer>\r\n\r\n      <div class=\"bs-header-site__nav-icon\" [ngClass]=\"{'bs-header-site__nav-icon--active': menuIsActive}\"\r\n        (click)=\"showMenu()\">\r\n        <svg class=\"bz-icon-svg bz-icon-svg--24\" *ngIf=\"!menuIsActive\">\r\n          <use href=\"#icon-hamburger-menu\"></use>\r\n        </svg>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--24 bz-icon-svg--r180\" *ngIf=\"menuIsActive\">\r\n          <use href=\"#icon-arrow-left\"></use>\r\n        </svg>\r\n      </div>\r\n      <ul class=\"bs-header-site__navigation\" #pageNavigation>\r\n        <ng-container>\r\n          <li class=\"bs-header-site__nav__opt\" *ngFor=\"let pageNavigation of pageReferences; let i = index\"\r\n            [ngClass]=\"{ more: pageNavigation.references?.length, 'bs-header-site__nav__opt--active': pageNavigation.pageId === currentItem || isSubMenuSelected(pageNavigation)}\">\r\n            <div (click)=\"navigate(pageNavigation)\">\r\n              <a *ngIf=\"pageNavigation\" class=\"bs-header-site__nav__opt__link\"\r\n                [ngClass]=\"{'bs-header-site__nav__opt__icon--active': currentItem === pageNavigation.id }\"\r\n                [style.font-weight]=\"styles['bold'] ? 'bold' : 400\" [style.font-size]=\"styles['fontSize']\"\r\n                [style.font-family]=\"styles['fontFamily']\"\r\n                [ngStyle]=\"{'background': windowWidth < 769 ? styles['backColor'] : 'transparent'}\"\r\n                onMouseOver=\"style.opacity='.5'\" onMouseOut=\"style.opacity='1'\"\r\n                [style.color]=\"styles['fontColor']\">\r\n                <span>{{currentLanguage.resources[pageNavigation.displayName]? currentLanguage.resources[pageNavigation.displayName] : '' }}</span>\r\n              </a>\r\n              <div class=\"bs-header-site__nav__opt__arrow-icon\"\r\n                *ngIf=\"pageNavigation.references?.length > 0 && !pageNavigation['showSubMenu']\"\r\n                (click)=\"showSubMenu(i, true, pageNavigation); $event.stopPropagation()\">\r\n                <svg [style.fill]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\"\r\n                  class=\"bz-icon-svg bz-icon-svg--16  bs-header-site__nav__opt__arrow-up\">\r\n                  <use href=\"#icon-arrow-down\"></use>\r\n                </svg>\r\n              </div>\r\n              <div class=\"bs-header-site__nav__opt__arrow-icon\" *ngIf=\"pageNavigation['showSubMenu']\"\r\n                (click)=\"showSubMenu(i, false, pageNavigation); $event.stopPropagation()\">\r\n                <svg [style.fill]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\"\r\n                  class=\"bz-icon-svg bz-icon-svg--16  bz-icon-svg--r180 bs-header-site__nav__opt__arrow-up\">\r\n                  <use href=\"#icon-arrow-down\"></use>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div style=\"width: 100%;\">\r\n              <ul [ngStyle]=\"{'background': windowWidth < 769 ? styles['subNavBackColor'] : 'transparent'}\"\r\n                class=\"bs-header-site__nav__sub-nav bs-header-site__nav__opt--accordion\"\r\n                *ngIf=\"pageNavigation.references?.length > 0\">\r\n                <li *ngFor=\"let reference of pageNavigation.references\" class=\"bs-header-site__nav__sub-nav__opt\"\r\n                  [ngClass]=\"{ 'bs-header-site__nav__sub-nav__opt--active': reference.pageId === currentItem}\">\r\n                  <a *ngIf=\"reference\" [href]=\"reference? getLink(reference) : 'javascript:void(0)'\"\r\n                    [attr.target]=\"reference.blank? '_blank' : '_self'\"\r\n                    [style.font-weight]=\"styles['bold'] ? 'bold' : 400\"\r\n                    [style.background]=\"styles['subNavBackColor']? styles['subNavBackColor'] : styles['backColor'] \"\r\n                    [style.color]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\"\r\n                    [style.font-family]=\"styles['fontFamily']\"\r\n                     class=\"bs-header-site__nav__sub-nav__opt__link\">\r\n                    <span>{{currentLanguage.resources[reference.displayName] || reference.displayName}}</span>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n        </ng-container>\r\n         <!-- Pages hidden -->\r\n        <li class=\"bs-header-site__nav__opt bs-header-site__nav__opt--3dots \" *ngIf=\"hiddenNavItems && hiddenNavItems.length > 0\"\r\n          (click)=\"toggleNavMenu()\">\r\n          <svg [style.fill]=\"styles['fontColor']\" class=\"bz-icon-svg bz-icon-svg--24 bz-icon-svg--r90\">\r\n            <use href=\"#icon-menu-3dots\"></use>\r\n          </svg>\r\n\r\n          <div [style.background]=\"styles['backColor']\" class=\"bs-header-site__hidden\">\r\n            <ul>\r\n              <li class=\"bs-header-site__hidden__opt\" *ngFor=\"let pageNavigation of hiddenNavItems; let i = index\"\r\n              [ngClass]=\"{'bs-header-site__hidden__opt--active': pageNavigation['showSubMenu'] || pageNavigation.pageId === currentItem || isSubMenuSelected(pageNavigation)}\">\r\n                  <div (click)=\"navigate(pageNavigation)\" class=\"bs-header-site__hidden__opt--header\">\r\n                    <a *ngIf=\"pageNavigation\" class=\"bs-header-site__nav__opt__link\"\r\n                    [style.font-weight]=\"styles['bold'] ? 'bold' : 400\" [style.font-family]=\"styles['fontFamily']\"\r\n                    [style.font-size]=\"styles['fontSize']\" [style.color]=\"styles['fontColor']\"\r\n                    onMouseOver=\"style.opacity='.5'\" onMouseOut=\"style.opacity='1'\">\r\n                    <span>{{currentLanguage.resources[pageNavigation.displayName]}}</span>\r\n                    </a>\r\n\r\n                    <svg  *ngIf=\"pageNavigation.references?.length > 0 && !pageNavigation['showSubMenu']\"\r\n                      (click)=\"showSubMenu(i, true, pageNavigation, true); $event.stopPropagation()\"\r\n                        [style.fill]=\"styles['fontColor']\"\r\n                      class=\"bz-icon-svg bz-icon-svg--16  bs-header-site__nav__opt__arrow-up\">\r\n                      <use href=\"#icon-arrow-down\"></use>\r\n                    </svg>\r\n\r\n                    <svg  *ngIf=\"pageNavigation['showSubMenu']\"\r\n                    (click)=\"showSubMenu(i, false, pageNavigation); $event.stopPropagation()\"\r\n                    [style.fill]=\"styles['fontColor']\"\r\n                      class=\"bz-icon-svg bz-icon-svg--16  bz-icon-svg--r180 bs-header-site__nav__opt__arrow-up\">\r\n                      <use href=\"#icon-arrow-down\"></use>\r\n                    </svg>\r\n                  </div>\r\n\r\n\r\n                <ul class=\"bs-header-site__hidden__sub-nav\"\r\n                  *ngIf=\"pageNavigation.references?.length > 0 && pageNavigation['showSubMenu']\">\r\n                  <li *ngFor=\"let reference of pageNavigation.references\" class=\"bs-header-site__hidden__sub-nav__opt\" (click)=\"navigate(reference)\">\r\n                    <a *ngIf=\"reference\" [href]=\"reference? getLink(reference) : 'javascript:void(0)'\"\r\n                      [attr.target]=\"reference.blank? '_blank' : '_self'\"\r\n                      [style.font-weight]=\"styles['bold'] ? 'bold' : 400\" [style.font-family]=\"styles['fontFamily']\"\r\n                      class=\"bs-header-site__nav__sub-nav__opt__link\">\r\n                      <span>{{currentLanguage.resources[reference.displayName]}}</span>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </li>\r\n        <li *ngIf=\"user\" class=\"bs-header-site__nav__opt bs-header-site__nav__opt--special\">\r\n          <a href=\"javascript:void(0)\" (click)=\"logoff()\" class=\"bs-header-site__nav__opt__link\"\r\n            [style.font-family]=\"styles['fontFamily']\" [style.color]=\"styles['fontColor']\"\r\n            [style.font-size]=\"styles['fontSize']\">{{'messages.session.LOGOUT' | translate}}</a>\r\n        </li>\r\n        <li\r\n          *ngIf=\"(control?.parameters?.login?.login && !renderMode) || (renderMode && !initials && control?.parameters?.login?.login)\"\r\n          class=\"bs-header-site__nav__opt bs-header-site__nav__opt--languages\">\r\n          <a (click)=\"login()\" class=\"bs-header-site__nav__opt__link\" [style.color]=\"styles['loginColor']\"\r\n            [style.font-family]=\"styles['fontFamily']\" [style.font-size]=\"styles['fontSize']\"\r\n            [style.font-weight]=\"styles['loginBold'] ? 'bold' : 500\">\r\n            {{'messages.session.LOGIN' | translate}}</a>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"bs-header-site__navigation__avatar \">\r\n        <!-- LANGUAGE -->\r\n        <li class=\"bs-header-site__nav__opt--languages\">\r\n          <ng-content #languageMenuRender *ngIf=\"renderMode\">\r\n          </ng-content>\r\n        </li>\r\n        <!-- AVATAR -->\r\n        <li *ngIf=\"(user && renderMode) || !renderMode\" class=\"bs-header-site__nav__opt--avatar\">\r\n          <div class=\"bs-header-site__nav__opt__avatar bs-header-site__nav__opt__avatar--detail\"\r\n            (mouseover)=\"changeSubMenuVisibility('mouseover')\">\r\n            <div [style.background]=\"styles['avatarBackColor']\" class=\"bs-header-site__nav__opt__avatar__photo\">\r\n              <span [style.color]=\"styles['avatarFontColor']\" [style.font-family]=\"styles['fontFamily']\" *ngIf=\"!user || !user.picture\">{{initials}}</span>\r\n              <img *ngIf=\"user && user.picture\" [src]=\"user.picture\">\r\n            </div>\r\n            <div *ngIf=\"!showAvatarSubMenu\" (click)=\"changeSubMenuVisibility('click'); \"\r\n              class=\"bs-header-site__nav__opt__arrow-icon\">\r\n              <svg [style.color]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\"\r\n                class=\"bz-icon-svg bz-icon-svg--16  bs-header-site__nav__opt__arrow-up\">\r\n                <use href=\"#icon-arrow-down\"></use>\r\n              </svg>\r\n            </div>\r\n            <div *ngIf=\"showAvatarSubMenu\" (click)=\"showAvatarSubMenu = false\"\r\n              class=\"bs-header-site__nav__opt__arrow-icon\">\r\n              <svg [style.color]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\"\r\n                class=\"bz-icon-svg bz-icon-svg--16  bz-icon-svg--r180 bs-header-site__nav__opt__arrow-up\">\r\n                <use href=\"#icon-arrow-down\"></use>\r\n              </svg>\r\n            </div>\r\n\r\n            <div class=\"bs-header-site__nav__opt__avatar__detail\" *ngIf=\"windowWidth < 769? showAvatarSubMenu : true\">\r\n              <ul\r\n                class=\"bs-header-site__nav__opt__avatar__detail__opts bs-header-site__nav__opt__avatar__detail__opts--one\"\r\n                [style.background]=\"styles['subNavBackColor']? styles['subNavBackColor'] : styles['backColor']\">\r\n                <li class=\"bs-header-site__nav__opt__avatar__detail__opts__op\">\r\n                  <a [style.font-family]=\"styles['fontFamily']\" [style.color]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\"\r\n                    (click)=\"openUserPreferences()\">\r\n                    {{ 'siteeditor.cultureconfig.DIALOG_TITLE' | translate }}\r\n                  </a>\r\n                </li>\r\n                <li class=\"bs-header-site__nav__opt__avatar__detail__opts__op\">\r\n                  <a\r\n                    [style.font-family]=\"styles['fontFamily']\"\r\n                    href=\"javascript:void(0)\" (click)=\"logoff()\"  [style.color]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\">\r\n                    {{'messages.session.LOGOUT' | translate}}\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <!-- /AVATAR -->\r\n      </ul>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {OAuthClientHelper} from 'app/common/services/oauth/oauth-client.helper';\r\nimport {CultureSettingsService} from 'app/common/services/sites/culture-settings.service';\r\nimport {Global} from 'app/common/misc/global';\r\nimport {ENavigationType} from 'app/editor/models/ENavigationType';\r\nimport {DefaultValues} from '../../misc/default-values';\r\nimport {Subscription} from 'rxjs';\r\nimport {select, Store} from '@ngrx/store';\r\nimport {getSiteNavigationPages, getCurrentHeader} from '../../../editor/site-editor/store/site/site.selector';\r\nimport {getCurrentSiteLanguage} from '../../../editor/site-editor/store/multilanguage/multilanguage.selector';\r\nimport {getSitePages} from '../../../editor/site-editor/store/page/page.selector';\r\nimport {getSiteLanguage} from '../../../render/store/multilanguage/multilanguage.selector';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { CATEGORY, PROPERTY_SECTIONS } from '../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-header-control',\r\n  templateUrl: './header-control.component.html',\r\n  styleUrls: ['./header-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n  type: 'header',\r\n  displayName: 'HEADER_CONTROL',\r\n  icon: '',\r\n  styles: {\r\n    fontFamily: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-family',\r\n      defaultValue: 'inherit'\r\n    },\r\n    fontSize: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-size',\r\n      defaultValue: '14px',\r\n      max: 20\r\n    },\r\n    backColor: {\r\n      type: 'color',\r\n      section: PROPERTY_SECTIONS.background.key,\r\n    },\r\n    fontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color'\r\n    },\r\n    subNavBackColor: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'color'\r\n    },\r\n    subNavFontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color'\r\n    },\r\n    avatarBackColor: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'color'\r\n    },\r\n    avatarFontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color'\r\n    },\r\n    height: {\r\n      section: PROPERTY_SECTIONS.style.key,\r\n      type: 'range',\r\n      defaultValue: 65,\r\n      min: 65,\r\n      max: 200\r\n    },\r\n    logoSize: {\r\n      section: PROPERTY_SECTIONS.logo.key,\r\n      type: 'range',\r\n      defaultValue: 105,\r\n      min: 70,\r\n      max: 200\r\n    },\r\n    bold: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'boolean'\r\n    },\r\n    loginColor: {\r\n      section: PROPERTY_SECTIONS.login.key,\r\n      type: 'color'\r\n    },\r\n    loginBold: {\r\n      section: PROPERTY_SECTIONS.login.key,\r\n      type: 'boolean'\r\n    },\r\n    showLogo: {\r\n      section: PROPERTY_SECTIONS.logo.key,\r\n      category: 'hidden',\r\n      type: 'boolean'\r\n    }\r\n  },\r\n  parameters: {\r\n    login: {\r\n      type: 'login',\r\n      defaultValue: {\r\n        login: false,\r\n        navigation: ''\r\n      }\r\n    },\r\n    logout: {\r\n      type: 'logout',\r\n      defaultValue: {\r\n        logout: false,\r\n        fromPrivate: '',\r\n        fromPublic: ''\r\n      }\r\n    },\r\n    siteLogo: {\r\n      type: 'logo',\r\n      defaultValue: 'https://upload.wikimedia.org/wikipedia/en/6/62/Bizagi_BPM_Suite_logo.png'\r\n    }\r\n  },\r\n  navigation: []\r\n})\r\n\r\nexport class HeaderControlComponent extends BaseControlComponent {\r\n  @Input() control: IHeader;\r\n  @Input() previewMode = false;\r\n  @Input() renderMode = false;\r\n  @Input() stakeholderContexts: Array<string> = [];\r\n  @Input() user: IUserProfile;\r\n  @Input() pages: Array<IBasicPage>;\r\n  @Input() site: ISite;\r\n  @Input() page: IPage;\r\n  @Output() onControlManageContentSelected: EventEmitter<IControl> = new EventEmitter<IControl>();\r\n  @ViewChild('headerNavigationContainer') navigationContainerRef: ElementRef;\r\n  @ViewChild('pageNavigation') pageNavigationRef: ElementRef;\r\n  // In order to notify the page change and then subscribe the changed event\r\n  @Input() pageId: string = null;\r\n  public windowWidth = $(window).width();\r\n  public currentLanguage: ILanguageResource;\r\n  public isDesktop: boolean;\r\n  public menuIsActive: boolean;\r\n  public currentItem = '';\r\n  public email: string;\r\n  public initials: string;\r\n  public defaultPicture = DefaultValues.getDefaultPicture();\r\n  public pageReferences: Array<IPageReference>;\r\n  public showNavigationMenu = false;\r\n  public showAvatarSubMenu = false;\r\n\r\n  private navigationContainerWidth: number;\r\n  private pageNavigationWidth: number;\r\n  private navigationContainer: HTMLElement;\r\n  private pageNavigation: HTMLElement;\r\n  private hiddenNavItems: Array<IPageReference>;\r\n  private _navigationPagesSubscription: Subscription;\r\n  private _currentLanguageSubscription: Subscription;\r\n  private _sitePagesSubscription: Subscription;\r\n  private _originalPageREferences: Array<IPageReference>;\r\n\r\n constructor(\r\n    private _cdr: ChangeDetectorRef,\r\n    private _oAuthClient: OAuthClientHelper,\r\n    private _cultureSettingsService: CultureSettingsService,\r\n    private _store: Store<IEditorState>,\r\n    private _storeRender: Store<IRenderState>,\r\n    private _router: Router,\r\n    private route: ActivatedRoute\r\n  ) {\r\n    super();\r\n    this._currentLanguageResources = {};\r\n  }\r\n\r\n  ngOnChanges(changes?: SimpleChanges) {\r\n    changes = changes || {};\r\n    if (this.control) {\r\n      // This control is not loaded dinamically, so we need to initialize the control after the input is set\r\n      this.initializeControl();\r\n      this.loadParameters(this.control.parameters, this.control.parametersBinding);\r\n      this.currentItem = this.page.reference || this.page.id;\r\n      if ((this.renderMode || this.previewMode) && ((changes.stakeholderContexts && this.user) ||\r\n        !this.user)) {\r\n        const navigation = _.cloneDeep(this.control.navigation);\r\n        this._loadPageReferences(navigation).then((newPageReferences: Array<IPageReference>) => {\r\n          this._originalPageREferences = newPageReferences;\r\n          this.updateNavigationReferences();\r\n          this.pageReferences = _.cloneDeep(this._originalPageREferences);\r\n          this.hiddenNavItems = [];\r\n          setTimeout(() => {\r\n            this._updateNavigationMenu();\r\n          }, 0);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  async ngOnInit() {\r\n\r\n    // Set info from context\r\n    const screen = Global.getScreenSize();\r\n    if (screen === 'desktop' || screen === 'largedesktop') {\r\n      this.isDesktop = true;\r\n    }\r\n    this.currentItem = this.page.reference || this.page.id;\r\n    if (await this._oAuthClient.isLoggedOn()) {\r\n      const username = this._oAuthClient.getUsername();\r\n      this.initials = username.substring(0, 2).toUpperCase();\r\n    }\r\n    if (!this.isOnRenderMode) {\r\n      this._navigationPagesSubscription = this._store\r\n      .pipe(select(getSiteNavigationPages))\r\n      .subscribe((navigations: Array<IPageReference>) => {\r\n        this._originalPageREferences = _.filter(navigations, (pageReference: IPageReferencePage) => pageReference.isOnNavigation);\r\n        this.pageReferences = _.cloneDeep(this._originalPageREferences);\r\n        setTimeout(() => {\r\n          this._updateNavigationMenu();\r\n        }, 0);\r\n      });\r\n      this._currentLanguageSubscription = this._store.pipe(select(getCurrentSiteLanguage)).\r\n      subscribe((languageResource: ILanguageResource) => {\r\n        this.currentLanguage = languageResource;\r\n        this.setCurrentLanguage(this.currentLanguage);\r\n        if (this.currentLanguage.resources[this.control.parameters['siteLogo']] !== this.parameters['siteLogo']) {\r\n          this.loadParameters(this.control.parameters, this.control.parametersBinding);\r\n        }\r\n      });\r\n      this._sitePagesSubscription = this._store.pipe(select(getSitePages))\r\n        .subscribe((sitePages: Array<IBasicPage>) => {\r\n          this.pages = sitePages;\r\n      });\r\n\r\n    }\r\n    else {\r\n      this._currentLanguageSubscription = this._storeRender.pipe(select(getSiteLanguage)).\r\n      subscribe((languageResource: ILanguageResource) => {\r\n        this.currentLanguage = languageResource;\r\n        this.setCurrentLanguage(this.currentLanguage);\r\n        this.loadParameters(this.control.parameters, this.control.parametersBinding);\r\n      });\r\n    }\r\n\r\n\r\n    this.loadParameters(this.control.parameters, this.control.parametersBinding);\r\n    this._updateDefaultValues();\r\n    this._cdr.detectChanges();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._sitePagesSubscription) { this._sitePagesSubscription.unsubscribe(); }\r\n    if (this._currentLanguageSubscription) { this._currentLanguageSubscription.unsubscribe(); }\r\n    if(this._navigationPagesSubscription) { this._navigationPagesSubscription.unsubscribe(); }\r\n  }\r\n\r\n  public logoff() {\r\n    this._oAuthClient.logoutToUrl(this.page.isPrivate);\r\n  }\r\n\r\n  public login() {\r\n    // Fix login for render\r\n    const routeSnapshot = this.route.snapshot;\r\n    const redirectRoute = this.control?.parameters?.login?.navigation? this.site.url + '/' + this.control?.parameters?.login?.navigation :\r\n     _.map(routeSnapshot.url, function(part) { return part.path; }).join('/');\r\n    const queryParams = routeSnapshot.queryParams;\r\n    this.goToLogin(this.site.identityServer, redirectRoute, queryParams);\r\n  }\r\n\r\n  goToLogin(identityServer: string, redirectRoute: string, queryParams: any) {\r\n    let queryString: any = Global.getQueryString();\r\n    if (Object.keys(queryParams).length > 0) {\r\n        queryString = JSON.parse(JSON.stringify(queryParams));\r\n    }\r\n    queryString.identityServer = identityServer;\r\n    queryString.redirectRoute = redirectRoute;\r\n    this._router.navigate(['login'], {\r\n        queryParams: queryString,\r\n        skipLocationChange: true\r\n    });\r\n}\r\n\r\n  public showMenu() {\r\n    this.menuIsActive = !this.menuIsActive;\r\n    if (this.menuIsActive) {\r\n      $('.bs-page-body').addClass('bs-page-body--active-nav');\r\n    } else {\r\n      $('.bs-page-body').removeClass('bs-page-body--active-nav');\r\n    }\r\n  }\r\n\r\n  public showNavigation(control: IControl) {\r\n    this.onControlManageContentSelected.emit(control);\r\n  }\r\n\r\n  public getLink(pageNavigation: IPageReference): string {\r\n    if (pageNavigation.type === ENavigationType[ENavigationType.Page]) {\r\n      const newRef = location.href.substring(0, location.href.lastIndexOf('/' + this.page.name));\r\n      const finalRef = location.href.substring(location.href.lastIndexOf('/' + this.page.name) + this.page.name.length + 1)\r\n      return (newRef + '/' + (pageNavigation as IPageReferencePage).pageName + finalRef).split('?')[0];\r\n    } else {\r\n      let link = (pageNavigation as IPageReferenceLink).link;\r\n      link = /^http(s)?\\:\\/\\//gm.test(link) ? link : 'http://' + link;\r\n      return link;\r\n    }\r\n  }\r\n\r\n\r\n  public getInt(text: string): number {\r\n    return parseInt(text, 0);\r\n  }\r\n\r\n  public openUserPreferences() {\r\n    this._cultureSettingsService.openUserPreferences();\r\n  }\r\n\r\n  public toggleNavMenu() {\r\n    this.showNavigationMenu = !this.showNavigationMenu;\r\n  }\r\n\r\n  public hideItem(pageId: string): boolean {\r\n    const pageReference = _.find(this.hiddenNavItems, (page: IPageReferencePage) => {\r\n      return page.pageId === pageId;\r\n    });\r\n    return pageReference ? true : false;\r\n  }\r\n\r\n  public showSubMenu(child, show, navigation, hiddenItems = false) {\r\n    if (show) {\r\n      $('ul .bs-header-site__nav__opt:nth-child(' + Number(child + 1) + ') ul').addClass('bs-header-site__nav__sub-nav--visible');\r\n      navigation['showSubMenu'] = true;\r\n      const otherReferences = hiddenItems? _.filter(this.hiddenNavItems, item => item.id !== navigation.id) :\r\n       _.filter(this.pageReferences, item => item.id !== navigation.id);\r\n      otherReferences.forEach(element => {\r\n        element['showSubMenu'] = false;\r\n      });\r\n      for (let index = 0; index < this.pageReferences.length; index++) {\r\n        if (index !== child ) {\r\n          $('ul .bs-header-site__nav__opt:nth-child(' + Number(index + 1) + ') ul').removeClass('bs-header-site__nav__sub-nav--visible');\r\n        }\r\n      }\r\n    } else {\r\n      navigation['showSubMenu'] = false;\r\n      $('ul .bs-header-site__nav__opt:nth-child(' + Number(child + 1) + ') ul').removeClass('bs-header-site__nav__sub-nav--visible');\r\n    }\r\n  }\r\n\r\n  public changeSubMenuVisibility(event) {\r\n    if(this.windowWidth < 769 && event !== 'mouseover') {\r\n      this.showAvatarSubMenu = !this.showAvatarSubMenu;\r\n    }\r\n  }\r\n\r\n  public showSubAvatarMenu() {\r\n    if ( $(window).width() < 769) {\r\n      return this.showAvatarSubMenu;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public navigate(pageNavigation) {\r\n    if (pageNavigation?.type === ENavigationType[ENavigationType.Page]) {\r\n      const newRef = location.href.substring(0, location.href.lastIndexOf('/' + this.page.name));\r\n      const finalRef = location.href.substring(location.href.lastIndexOf('/' + this.page.name) + this.page.name.length + 1);\r\n      const link = (newRef + '/' + (pageNavigation as IPageReferencePage).pageName + finalRef).split('?')[0];\r\n      if (pageNavigation.blank) {\r\n        window.open(link, '_blank');\r\n      } else {\r\n        this._router.navigate([this.site.url, pageNavigation.pageName]);\r\n      }\r\n    } else {\r\n      let link = (pageNavigation as IPageReferenceLink).link;\r\n      link = /^http(s)?\\:\\/\\//gm.test(link) ? link : 'http://' + link;\r\n      const blank = pageNavigation?.blank? '_blank' : '';\r\n      window.open(link, blank)\r\n    }\r\n  }\r\n\r\n  private _updateNavigationMenu() {\r\n    const windowWidth = $(window).width();\r\n    if (windowWidth < 769) {\r\n      return;\r\n    }\r\n    if (this.navigationContainerRef && (!this.hiddenNavItems?.length || !this.renderMode)) {\r\n\r\n      this.navigationContainer = this.navigationContainerRef.nativeElement;\r\n      this.pageNavigation = this.pageNavigationRef.nativeElement;\r\n      this.navigationContainerWidth = this.navigationContainer.offsetWidth;\r\n      this.hiddenNavItems = [];\r\n      const navElements = document.getElementsByClassName('bs-header-site__nav__opt');\r\n      _.each(navElements, (el: Element) => {\r\n        el.removeAttribute('style');\r\n      });\r\n      const pagesToFilter = this.isOnRenderMode ? _.cloneDeep(this._originalPageREferences) : this.control.navigation;\r\n      this._fixNavigation(navElements, 1, pagesToFilter);\r\n    }\r\n  }\r\n\r\n  private _fixNavigation(navElements: HTMLCollectionOf<Element>, posDiff = 1, pagesToFilter) {\r\n    if (this.navigationContainer && this.pageNavigation) {\r\n      this.pageNavigationWidth = this.pageNavigation.offsetWidth;\r\n      if (this.pageNavigationWidth > (this.navigationContainerWidth - 190)) {\r\n        const navigationItems = _.filter(pagesToFilter, item => item.isOnNavigation)\r\n        const elementToHide = navElements.item((navigationItems.length - posDiff)) as HTMLElement;\r\n        if (elementToHide) {\r\n          elementToHide.setAttribute('style', 'display:none');\r\n          const pageReference = navigationItems[(navigationItems.length - posDiff)];\r\n          const index = this.hiddenNavItems.indexOf(pageReference);\r\n          if (index < 0) {\r\n            this.hiddenNavItems.push(pageReference);\r\n            const page = _.find(this.pageReferences, item =>  item.id === pageReference.id);\r\n            if (page) {\r\n              this.pageReferences.splice(this.pageReferences.indexOf(page), 1);\r\n            }\r\n          }\r\n          posDiff = posDiff + 1;\r\n          this._fixNavigation(navElements, posDiff, pagesToFilter);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private async _loadPageReferences(navigation: Array<IPageReference>): Promise<Array<IPageReference>> {\r\n    const newPageReferences = [];\r\n    return new Promise<Array<IPageReference>>((resolve, reject) => {\r\n      _.forEach(navigation, (pageReference: IPageReferencePage) => {\r\n        if (!pageReference.pageId) {\r\n          if (pageReference.isOnNavigation) {\r\n            newPageReferences.push(pageReference);\r\n          }\r\n        } else {\r\n          const targetPage = _.find(this.pages, (page: IBasicPage) => page.originalId === pageReference.pageId);\r\n          if (targetPage) {\r\n            if (pageReference.isOnNavigation === null || pageReference.isOnNavigation === undefined) {\r\n              pageReference.isOnNavigation = !targetPage.isContextualized;\r\n            }\r\n            if (targetPage && (!targetPage.isContextualized && pageReference.isOnNavigation)) {\r\n              newPageReferences.push(pageReference);\r\n            }\r\n          }\r\n        }\r\n      });\r\n      resolve(newPageReferences);\r\n    });\r\n  }\r\n\r\n  private updateNavigationReferences() {\r\n    const controlNav = _.cloneDeep(this.control.navigation);\r\n    this._originalPageREferences = _.filter(controlNav, (pageReference: IPageReferencePage) => {\r\n      const targetPage = _.find(this.pages, (page: IBasicPage) => page.originalId === pageReference.pageId);\r\n      const isContextualized = targetPage ? targetPage.isContextualized : false;\r\n      if (this.stakeholderContexts?.length) {\r\n        return  pageReference.isOnNavigation &&\r\n        ((Global.isVisibleTo(pageReference.visibleTo, this.stakeholderContexts)\r\n        && !isContextualized) || (!targetPage?.isPrivate));\r\n      } else {\r\n        return !targetPage?.isPrivate && !isContextualized && pageReference.isOnNavigation;\r\n      }\r\n    });\r\n\r\n    _.each(this._originalPageREferences, (navigation: IPageReferencePage) => {\r\n      navigation.references = _.filter(navigation.references, (pageReference: IPageReferencePage) => {\r\n        const targetPage = _.find(this.pages, (page: IBasicPage) => page.originalId === pageReference.pageId);\r\n        if (this.stakeholderContexts?.length) {\r\n          return pageReference.isOnNavigation\r\n          && (Global.isVisibleTo(pageReference.visibleTo, this.stakeholderContexts) || !targetPage.isPrivate);\r\n        } else {\r\n          return !targetPage?.isPrivate && pageReference.isOnNavigation;\r\n        }\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  private _updateDefaultValues() {\r\n    for (const style in this.controlDefinition.styles) {\r\n      if (this.controlDefinition.styles.hasOwnProperty(style)) {\r\n        if (!this.styles[style]) {\r\n          this.control.styles[style] = this.controlDefinition.styles[style].defaultValue || null;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public isSubMenuSelected(pageNavigation: IPageReferencePage) {\r\n    return pageNavigation.references.some((reference: any) => {\r\n      return reference.pageId === this.currentItem;\r\n    })\r\n  }\r\n\r\n}\r\n","<div class=\"bs-languages-menu-render\" *ngIf=\"resources && resources.length > 1\"  (mouseover)=\"setMenuVisibility(true)\"\r\n    (mouseout)=\"setMenuVisibility(false)\">\r\n    <img class=\"bs-languages-menu-render__img\" *ngIf=\"currentLanguage\" src=\"./i/flags/{{currentLanguage.language.name + '-' + currentLanguage.country.name + '.svg'}}\"\r\n        alt=\"\">\r\n    <svg class=\"bz-icon-svg bz-icon-svg--16  bs-languages-menu-render__arrow-up\" *ngIf=\"!isOpenedLangList\" \r\n    (click)=\"setMenuVisibility(true); isOpenedLangList=!isOpenedLangList\" >\r\n        <use href=\"#icon-arrow-down\"></use>\r\n    </svg>\r\n    <svg class=\"bz-icon-svg bz-icon-svg--16  bz-icon-svg--r180 bs-languages-menu-render__arrow-up\" *ngIf=\"isOpenedLangList\" \r\n    (click)=\"setMenuVisibility(false); isOpenedLangList=!isOpenedLangList\">\r\n        <use href=\"#icon-arrow-down\"></use>\r\n    </svg>\r\n\r\n</div>\r\n<div class=\"bs-languages-menu-render-container\" *ngIf=\"resources && resources.length > 1\">\r\n    <ul [style.background]=\"styles && styles['subNavBackColor'] ? styles['subNavBackColor'] : styles['backColor'] \">\r\n\r\n        <li *ngFor=\"let resource of resources\" class=\"bs-languages-menu-render__option\" (click)=\"changeSelectedResource(resource)\">\r\n            <img class=\"bs-languages-menu-render__img\" [src]=\"'./i/flags/' + resource.language.name + '-' + resource.country.name + '.svg'\"\r\n                alt=\"\">\r\n            <span [style.color]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\" \r\n                class=\"bs-languages-menu-render__text bz-space--inline-s\" [style.font-family]=\"styles['fontFamily']\" \r\n                [style.font-size]=\"styles['fontSize']\"> {{resource.language.displayName + ' (' + resource.country.name + ')'}}\r\n            </span>\r\n            <bzg-icon [style.fill]=\"styles['subNavFontColor']? styles['subNavFontColor'] : styles['fontColor']\" class=\"bz-icon-svg bz-icon-svg--16 bs-languages-menu-render__option__icon-default\" *ngIf=\"resource.id === currentLanguage?.id\" [nameIcon]=\"'icon-bzg-star'\" [size]=\"14\">\r\n            </bzg-icon>\r\n        </li>\r\n    </ul>\r\n</div>","import { Component, Input } from '@angular/core';\r\nimport { PublishedSiteService } from '../services/published-site.service';\r\nimport {select, Store} from '@ngrx/store';\r\nimport {UpdateCurrentLanguage} from '../store/multilanguage/multilanguage.actions';\r\nimport {getCurrentSite} from '../store/site/site.selector';\r\nimport {Subscription} from 'rxjs';\r\nimport {getSiteLanguage, getSiteResources} from '../store/multilanguage/multilanguage.selector';\r\n\r\n@Component({\r\n  selector: 'bs-languages-menu-render',\r\n  templateUrl: './languages-menu-render.component.html',\r\n  styleUrls: ['./languages-menu-render.component.scss'],\r\n})\r\nexport class LanguagesMenuRenderComponent {\r\n  @Input() public currentLanguage;\r\n  @Input() styles;\r\n  public resources: ISiteResource[];\r\n  public isOpenedLangList = false;\r\n  public site: ISite;\r\n  private _currentSiteSubscription: Subscription;\r\n  private _siteResourcesSubscription: Subscription;\r\n  private _currentLanguageSubscription: Subscription;\r\n\r\n  constructor(\r\n    private _store: Store<IRenderState>\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this._currentSiteSubscription = this._store.pipe(select(getCurrentSite)).subscribe( (site: ISite) => {\r\n      if (site) {\r\n        this.site = site;\r\n      }\r\n    });\r\n    this._siteResourcesSubscription = this._store.pipe(select(getSiteResources)).subscribe( (siteResources: Array<ISiteResource>) => {\r\n      if (siteResources) {\r\n        this.resources = siteResources;\r\n      }\r\n    });\r\n    this._currentLanguageSubscription = this._store.pipe(select(getSiteLanguage)).subscribe( (siteLanguage: ILanguageResource) => {\r\n      if (siteLanguage) {\r\n        this.currentLanguage = siteLanguage;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._currentSiteSubscription?.unsubscribe();\r\n    this._currentLanguageSubscription?.unsubscribe();\r\n    this._siteResourcesSubscription?.unsubscribe();\r\n  }\r\n\r\n  async changeSelectedResource(resource: ISiteResource) {\r\n    localStorage.setItem(this.site.id + 'languageId', resource.id);\r\n    this._store.dispatch(new UpdateCurrentLanguage(resource.id));\r\n    this.site.globalSettings.currentResource = resource.id;\r\n    this.isOpenedLangList = false;\r\n  }\r\n\r\n  public setMenuVisibility(show) {\r\n    if (show) {\r\n      $('.bs-languages-menu-render-container').addClass('bs-languages-menu-render-container--visible');\r\n    } else {\r\n      $('.bs-languages-menu-render-container--visible').removeClass('bs-languages-menu-render-container--visible');\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"checkShowHero()\" class=\"bs-hero-control bs-control\" [style.height]=\"((hero && hero.styles.heroImageHeight && !isRenderMode) ? hero.styles.heroImageHeight : styles['heroImageHeight']) + 'px'\"\r\n  [style.width]=\"getWidthControl()\">\r\n  <div class=\"bs-hero-image__layer\" [ngStyle]=\"getStylesLayer()\">\r\n  </div>\r\n  <div class=\"bs-hero-image\" *ngIf=\"(hero && hero.styles.heroImage && hero.styles.showHeroImage) || styles['heroImage']\" [ngStyle]=\"getStylesImage()\">\r\n  </div>\r\n\r\n  <div class=\"bs-hero-empty\" *ngIf=\"!styles['heroImage'] && (!hero || (hero && !hero.styles.heroImage)) && !isRenderMode\">\r\n    <div class=\"bs-hero-empty__area\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"bs-hero-image__layer bs-hero-image__fake-button-container\" *ngIf=\"grid && ((hero && hero.styles.heroImage) || styles['heroImage']) && !isRenderMode\"\r\n    [style.width]=\"grid.layoutSize + 'px'\" [style.left]=\"grid.boundaries.left + 'px'\">\r\n  </div>\r\n</div>\r\n","import {Component, Input} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport {DefaultValues} from '../../misc/default-values';\r\nimport {Observable, Subscription} from '../../../../../node_modules/rxjs';\r\nimport {select, Store} from '@ngrx/store';\r\nimport {getCurrentSiteLanguage} from '../../../editor/site-editor/store/multilanguage/multilanguage.selector';\r\nimport {getSiteLanguage} from '../../../render/store/multilanguage/multilanguage.selector';\r\nimport { getHero } from 'app/editor/site-editor/store/page/page.selector';\r\nimport { getRenderHero } from 'app/render/store/page/page.selector';\r\n\r\n@Component({\r\n  selector: 'bs-hero-control',\r\n  templateUrl: './hero-control.component.html',\r\n  styleUrls: ['./hero-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n  type: 'hero',\r\n  displayName: 'HERO_CONTROL',\r\n  icon: 'https://cdn2.iconfinder.com/data/icons/windows-8-metro-style/128/text.png',\r\n  styles: {\r\n    showHeroImage: {\r\n      type: 'boolean',\r\n      defaultValue: true\r\n    },\r\n    heroImageHeight: {\r\n      type: 'range',\r\n      defaultValue: 550,\r\n      min: 300,\r\n      max: 550\r\n    },\r\n    heroSpace: { type: 'custom' },\r\n    scale: { type: 'custom' },\r\n    scaleProportionally: { type: 'custom' },\r\n    imgOpacity: { type: 'custom' },\r\n    imgColorOpacity: { type: 'custom' },\r\n    imgColorBackgroundOpacity: { type: 'custom' },\r\n    backgroundPosition: { type: 'custom' },\r\n    heroImage: {\r\n      type: 'upload-image',\r\n    }\r\n  },\r\n  parameters: {\r\n  },\r\n  navigation: []\r\n})\r\n\r\nexport class HeroControlComponent extends BaseControlComponent {\r\n\r\n  private _heroUpdatedSubscription: Subscription;\r\n  private _gridSizeSubscription: Subscription;\r\n  private _currentMenuSubscription: Subscription;\r\n\r\n  private heroUpdated$: Observable<any>;\r\n  private gridSize$: Observable<IGrid>;\r\n  @Input() control: IControl;\r\n  @Input() isRenderMode = false;\r\n  public hero;\r\n  public grid: IGrid;\r\n  public defaultImage = DefaultValues.getDefaultPicture();\r\n  private _currentLanguageSubscription: Subscription;\r\n  public $currentLanguage: Observable<any>;\r\n  private _currentLanguage: ILanguageResource;\r\n\r\n  constructor(private _store: Store<IEditorState>,\r\n              private _renderStore: Store<IRenderState>) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.isRenderMode) {\r\n      this.gridSize$ = this._renderStore.select((state: IRenderState) => state.grid);\r\n      this.$currentLanguage = this._renderStore.pipe(select(getSiteLanguage));\r\n      this.heroUpdated$ = this._renderStore.pipe(select(getRenderHero));\r\n    } else {\r\n      this.heroUpdated$ = this._store.pipe(select(getHero));\r\n      this.gridSize$ = this._store.select((state: IEditorState) => state.siteEditor.grid);\r\n      this.$currentLanguage = this._store.pipe(select(getCurrentSiteLanguage));\r\n    }\r\n    \r\n    this._heroUpdatedSubscription = this.heroUpdated$.subscribe((hero: any) => {\r\n      this.hero = hero;\r\n    });\r\n\r\n    this._currentLanguageSubscription = this.$currentLanguage.subscribe((currentLanguage: ILanguageResource) => {\r\n      this._currentLanguage = currentLanguage;\r\n    });\r\n\r\n    this._gridSizeSubscription = this.gridSize$.subscribe((grid: IGrid) => {\r\n      this.grid = grid;\r\n    });\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (this.control) {\r\n      // This control is not loaded dinamically, so we need to initialize the control after the input is set\r\n      this.initializeControl();\r\n      \r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.hero = null;\r\n    this.grid = null;\r\n  }\r\n\r\n  public getStylesImage() {\r\n    const heroStyles =this.hero?.styles || this.styles;\r\n    return {\r\n      'background-image': this._currentLanguage && this._currentLanguage.resources && this._currentLanguage.resources[heroStyles.heroImage]\r\n        ? 'url(' + this._currentLanguage.resources[heroStyles.heroImage] + ')' : 'url(' + heroStyles.heroImage + ')',\r\n      'background-size': this.getBackgroundSize() || 'cover',\r\n      'background-repeat': this.getBackgroundRepeat() || 'no-repeat',\r\n      opacity: heroStyles.imgOpacity / 100,\r\n      'background-position': heroStyles.backgroundPosition,\r\n      transform: this.getTransformScale() || 'scale(1)',\r\n      zoom: this.getZoom() || '100%'\r\n    };\r\n  }\r\n\r\n  public getStylesLayer() {\r\n    const heroStyles =this.hero?.styles || this.styles;\r\n    return {\r\n      opacity: heroStyles.imgColorOpacity / 100,\r\n      'background-color': heroStyles.imgColorBackgroundOpacity\r\n    };\r\n  }\r\n\r\n  public getBackgroundSize() {\r\n\r\n    if (this.hero &&this.hero?.styles.scale) {\r\n      return this.calculateScale(this.hero.styles.scale);\r\n    }\r\n\r\n    if (this.styles.scale) {\r\n      return this.calculateScale(this.styles.scale);\r\n    }\r\n\r\n  }\r\n\r\n  private getTransformScale() {\r\n    let scaleProportionally;\r\n    if (this.hero) {\r\n      if (this.hero.styles.scale !== 'tile') {\r\n        scaleProportionally = (this.hero.styles.scaleProportionally / 100) + 0.5;\r\n        return `scale(${scaleProportionally})`;\r\n      }\r\n    } else if (this.styles.scale && (this.styles.scale !== 'tile')) {\r\n      scaleProportionally = (this.styles.scaleProportionally / 100) + 0.5;\r\n      return `scale(${scaleProportionally})`;\r\n    }\r\n  }\r\n\r\n  private getZoom() {\r\n    if ((this.hero && (this.hero.styles.scale === 'tile'))) {\r\n      return `${this.hero.styles.scaleProportionally + 50}%`;\r\n    }\r\n    if (this.styles.scale && (this.styles.scale === 'tile')) {\r\n      return `${this.styles.scaleProportionally + 50}%`;\r\n    }\r\n  }\r\n\r\n\r\n  public getBackgroundRepeat() {\r\n    if (this.hero &&this.hero?.styles.scale) {\r\n      return this.calculateBackgroundRepeat(this.hero.styles.scale);\r\n    }\r\n    if (this.styles.scale) {\r\n      return this.calculateBackgroundRepeat(this.styles.scale);\r\n    }\r\n  }\r\n\r\n  public getWidthControl() {\r\n    if (this.hero &&this.hero?.styles.heroSpace === 'container') {\r\n      return this.grid.layoutSize + 'px';\r\n    } else if (this.hero &&this.hero?.styles.heroSpace === 'fluid') {\r\n      return '100%';\r\n    }\r\n\r\n    if (this.styles.heroSpace === 'container') {\r\n      return this.grid.layoutSize + 'px';\r\n    } else {\r\n      return '100%';\r\n    }\r\n  }\r\n\r\n  public checkShowHero() {\r\n    if (this.hero) {\r\n      return this.hero?.styles.showHeroImage;\r\n    }\r\n    return this.styles.showHeroImage === true;\r\n  }\r\n\r\n  private calculateBackgroundRepeat(scale: string): string {\r\n    switch (scale) {\r\n      case 'tile':\r\n        return 'repeat';\r\n\r\n      default:\r\n        return 'no-repeat';\r\n    }\r\n  }\r\n\r\n  private calculateScale(scale): string {\r\n    switch (scale) {\r\n      case 'tofill':\r\n        return 'cover';\r\n\r\n      case 'original':\r\n        return 'auto';\r\n\r\n      case 'tile':\r\n        return 'initial';\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"bs-footer\"\r\n     *ngIf=\"control\"\r\n     [style.height]=\"styles['showFooter']? styles['height'] + 'px' : '100px'\"\r\n     (click)=\"selectFooter()\">\r\n  <footer *ngIf=\"styles['showFooter']\" [style.background]=\"styles['backColor']\"\r\n    [ngClass]=\"{'bs-footer__content--fullwidth': styles['fullWidth']}\"\r\n    class=\"bs-footer__content\">\r\n    <p class=\"bs-footer__content__copy-right\" \r\n      *ngIf=\"styles['showCopyright']\" \r\n      [style.font-weight]=\"styles['bold']? '600' : '100'\"\r\n      [style.padding]=\"styles['fullWidth']? '8px' : '16px'\"\r\n      [style.font-size]=\"styles['fontSize']\"\r\n      [style.font-family]=\"styles['fontFamily']\"\r\n      [style.color]=\"styles['fontColor']\"\r\n      [style.text-align]=\"styles['align']\"\r\n      >\r\n      {{currentLanguage.resources[control?.parameters?.copyright]}}\r\n    </p>\r\n  </footer>\r\n</div>\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport { PROPERTY_SECTIONS } from '../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-footer-control',\r\n  templateUrl: './footer-control.component.html',\r\n  styleUrls: ['./footer-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n  type: 'footer',\r\n  displayName: 'FOOTER_CONTROL',\r\n  icon: '',\r\n  styles: {\r\n    backColor: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'color',\r\n      defaultValue: 'rgb(149, 169, 173)'\r\n    },\r\n    showCopyright: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'boolean',\r\n      defaultValue: false\r\n    },\r\n    bold: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'boolean',\r\n      defaultValue: true\r\n    },\r\n    fontFamily: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-family',\r\n      defaultValue: 'inherit'\r\n    },\r\n    fontSize: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-size',\r\n      defaultValue: '14px',\r\n      max: 20\r\n    },\r\n    fontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color'\r\n    },\r\n    align: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'text-align',\r\n      defaultValue: 'left'\r\n    },\r\n    showFooter: {\r\n      section: PROPERTY_SECTIONS.style.key,\r\n      type: 'boolean',\r\n      defaultValue: true\r\n    },\r\n    fullWidth: {\r\n      section: PROPERTY_SECTIONS.style.key,\r\n      type: 'boolean',\r\n      defaultValue: true\r\n    },\r\n    height: {\r\n      section: PROPERTY_SECTIONS.style.key,\r\n      type: 'range',\r\n      defaultValue: 100,\r\n      min: 100,\r\n      max: 300\r\n    },\r\n  },\r\n  parameters: {\r\n    copyright: {\r\n      type: 'text',\r\n      defaultValue: 'Copyright © Bizagi | 2020'\r\n    }\r\n  },\r\n  navigation: []\r\n})\r\nexport class FooterControlComponent extends BaseControlComponent {\r\n\r\n  @Input() control: IFooter;\r\n  @Output() onFooterSelected: EventEmitter<IFooter>;\r\n  @Input() currentLanguage: ILanguageResource;\r\n\r\n  protected onComponentInitialized() {\r\n    this.onFooterSelected = new EventEmitter<IFooter>();\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (this.control) {\r\n      // This control is not loaded dinamically, so we need to initialize the control after the input is set\r\n      this.initializeControl();\r\n    }\r\n  }\r\n\r\n  selectFooter() {\r\n    this.onFooterSelected.emit(this.control);\r\n  }\r\n\r\n}\r\n","import {createSelector} from '@ngrx/store';\r\n\r\nconst renderSelector = (state: IRenderState) => state;\r\n\r\nexport const getGrid = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.grid\r\n);\r\n\r\n","<div class=\"bs-breadcrumb-render__container\">\r\n  <ul class=\"bs-breadcrumb-render\" *ngIf=\"navigationContexts && navigationContexts.length\">\r\n    <li *ngFor=\"let pageNavigation of pageNavigationList\" (click)=\"navigate(pageNavigation)\"\r\n      class=\"bs-breadcrumb-render__item\">\r\n      <span class=\"bs-breadcrumb-render__text\">\r\n        {{pageNavigation.page.displayName}}\r\n      </span>\r\n      <bzg-icon class=\"bs-breadcrumb-render__icon bz-icon-svg--r90\"\r\n        nameIcon=\"icon-arrow-down\">\r\n     </bzg-icon>\r\n    </li>\r\n  \r\n    <li class=\"bs-breadcrumb-render__item\">\r\n      <span class=\"bs-breadcrumb-render__text-current\">\r\n        {{currentLanguage.resources[currentPage.displayName]}}\r\n      </span>\r\n    </li>\r\n  </ul>\r\n</div>\r\n","import {Component, ElementRef, Input} from '@angular/core';\r\nimport {Subscription} from 'rxjs';\r\nimport {select, Store} from '@ngrx/store';\r\nimport {Router} from '@angular/router';\r\nimport {Global} from '../../common/misc/global';\r\nimport {getCurrentPage} from '../store/page/page.selector';\r\nimport {getPages} from '../store/pages/pages.selector';\r\nimport {getCurrentSite} from '../store/site/site.selector';\r\nimport { getGrid } from '../store/grid/grid.selector';\r\n\r\ninterface IBreadCrumbPart {\r\n  navigation: INavigationContext;\r\n  page: IBasicPage;\r\n}\r\n\r\n@Component({\r\n  selector: 'bs-breadcrumb-render',\r\n  templateUrl: './breadcrumb-render.component.html',\r\n  styleUrls: ['./breadcrumb-render.component.scss'],\r\n})\r\nexport class BreadcrumbRenderComponent {\r\n  @Input() navigationContexts: Array<INavigationContext>;\r\n  @Input() hero: IControl;\r\n  @Input() header: IControl;\r\n  @Input() currentLanguage: ILanguageResource;\r\n  public grid: IGrid;\r\n  public top = 65;\r\n  public pageNavigationList: Array<IBreadCrumbPart> = [];\r\n  public currentPage: IPage;\r\n  private _site: ISite;\r\n  private gridSizeSubscription: Subscription;\r\n  private _currentPageSubscription: Subscription;\r\n  private _pagesSubscription: Subscription;\r\n  private _currentSiteSubscription: Subscription;\r\n\r\n  constructor(\r\n    private _router: Router,\r\n    private _store: Store<IRenderState>,\r\n    private _elementRef: ElementRef\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this._currentPageSubscription = this._store.pipe(select(getCurrentPage)).subscribe((currentPage: IPageState) => {\r\n      if (currentPage) {\r\n        this.currentPage = currentPage;\r\n       }\r\n    });\r\n    this._pagesSubscription = this._store.pipe(select(getPages)).subscribe((pages: Array<IBasicPage>) => {\r\n      if (pages) {\r\n        this.pageNavigationList = [];\r\n        _.each(this.navigationContexts, (navigationContext: INavigationContext) => {\r\n          const page = _.find(pages, { originalId: navigationContext.originPageId });\r\n          if (this.currentLanguage.resources[page.displayName]) {\r\n            page.displayName = this.currentLanguage.resources[page.displayName];\r\n          }\r\n          this.pageNavigationList.push({ navigation: navigationContext, page });\r\n        });\r\n      }\r\n    });\r\n    this._currentSiteSubscription = this._store.pipe(select(getCurrentSite)).subscribe(async (site: ISite) => {\r\n      if (site) {\r\n        this._site = site;\r\n      }\r\n    });\r\n\r\n    this.gridSizeSubscription = this._store.pipe(select(getGrid)).subscribe((grid: IGrid) => {\r\n      let boundariesSize = 0;\r\n      const screenSize = window.innerWidth;\r\n      if (screenSize > 1200) {\r\n        boundariesSize = screenSize - 1200;\r\n        grid.layoutSize = 1200;\r\n      } else if (screenSize > 960) {\r\n        boundariesSize = screenSize - 960;\r\n      }\r\n      $('.bs-breadcrumb-render__container .bs-breadcrumb-render').css('padding-left', boundariesSize / 2);\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n        this.top = Number(this.header.styles.height);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._pagesSubscription.unsubscribe();\r\n    this._currentPageSubscription.unsubscribe();\r\n  }\r\n\r\n  public navigate(breadCrumbPart: IBreadCrumbPart) {\r\n    const indexOfNavigation = _.findIndex(this.pageNavigationList, breadCrumbPart);\r\n    const newNavigationContextList = _.slice(this.navigationContexts, 0, indexOfNavigation);\r\n    if (newNavigationContextList.length) {\r\n      this._router.navigate([this._site.url, breadCrumbPart.page.name], {\r\n        queryParams: { context: Global.jsonToBase64(newNavigationContextList) },\r\n      });\r\n    } else {\r\n      this._router.navigate([this._site.url, breadCrumbPart.page.name]);\r\n    }\r\n  }\r\n}\r\n","import {createSelector} from '@ngrx/store';\r\n\r\nconst renderSelector = (state: IRenderState) => state;\r\n\r\nexport const getLoadingRender = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.loading\r\n);\r\n","enum ESearchTypeFields {\r\n  Proximate,\r\n  Specific\r\n}\r\n\r\nexport { ESearchTypeFields };\r\n","import { BaseControlComponent } from './base.component';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { PageRenderingService } from 'app/common/services/sites/page-rendering.service';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { FormType } from 'app/render/bizagi-forms/bizagi-forms.component';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DefaultValues } from '../misc/default-values';\r\nimport { ECultureDateTypes, EDateFormatStyles } from 'app/common/models/ECultureFormats';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { ESearchTypeFields } from 'app/editor/models/ESearchTypeFields';\r\n\r\n\r\nenum EControlDataSource {\r\n  Fixed,\r\n  Dynamic,\r\n  Context\r\n}\r\n\r\nexport abstract class BaseDataControlComponent extends BaseControlComponent {\r\n\r\n  private _updateDataSubject = new Subject();\r\n  private _updateDataSubscription: Subscription;\r\n  private _data: any[] = [];\r\n  private _fields: { [key: string]: any } = {};\r\n  private _userPreferences: IUserPreferences;\r\n  private _currentUserPreferences: IUserPreferences;\r\n  protected xpathFilter: ISearchXPaths = {} as ISearchXPaths;\r\n  protected actions: Array<IBizagiAction>;\r\n  protected bizagiEntity: string;\r\n  protected bizagiDataServices: IBizagiDataServices;\r\n  protected pageRenderingService: PageRenderingService;\r\n  protected translateService: TranslateService;\r\n  protected route: ActivatedRoute;\r\n  protected router: Router;\r\n  protected maxElementHeight = -1;\r\n\r\n  public isDataReady = false;\r\n  public isProcessLoading = false;\r\n  public isDataError = false;\r\n  public canShowCaseLink = false;\r\n  public pagination: IPagination = {\r\n    currentPage: 0,\r\n    currentPaginationSet: 0,\r\n    from: 0,\r\n    intervalSize: 3,\r\n    pages: [0, 1, 2],\r\n    rows: 3,\r\n    totalPages: 3,\r\n    totalItems: 0\r\n  };\r\n\r\n  public get data() {\r\n    return this._data;\r\n  }\r\n\r\n  public get fields() {\r\n    return this._fields;\r\n  }\r\n\r\n  public setServices(route: ActivatedRoute,\r\n    router: Router,\r\n    translateService: TranslateService,\r\n    services: IBizagiDataServices,\r\n    pageRenderingService?: PageRenderingService) {\r\n    this.route = route;\r\n    this.router = router;\r\n    this.translateService = translateService;\r\n    this.bizagiDataServices = services;\r\n    this.pageRenderingService = pageRenderingService;\r\n    this.initializeSubjectUpdateData();\r\n  }\r\n\r\n  public initialized() {\r\n    if(!Global.isOnRenderMode()){\r\n      this.initializeSubjectUpdateData();\r\n    }\r\n\r\n    // This method is called after all the controls in the page are fully initialized, and the page mappings are applied\r\n    this._updateDataSubject.next();\r\n  }\r\n\r\n  private initializeSubjectUpdateData(){\r\n    this._updateDataSubscription?.unsubscribe();\r\n    this._updateDataSubscription = this._updateDataSubject.pipe(debounceTime(100)).subscribe(() => {\r\n      this._loadData();\r\n    });\r\n  }\r\n\r\n  public refresh(isLastActionNext?: boolean) {\r\n    if (isLastActionNext) {\r\n      const totalItems = this.pagination.totalItems - 1;\r\n      if (this.pagination.from === totalItems) {\r\n        this.pagination.from = this.pagination.from - this.pagination.rows;\r\n        this.pagination.currentPage--;\r\n      }\r\n      if (this.pagination.from < 0 || this.pagination.currentPage < 0) {\r\n        this.pagination.from = 0;\r\n        this.pagination.currentPage = 0;\r\n      }\r\n    }\r\n    super.refresh();\r\n    this._updateDataSubject.next();\r\n  }\r\n\r\n  public setTypeSearch(type: number) {\r\n    this.xpathFilter.typeFilter = type;\r\n  }\r\n\r\n  public setXpathFilter(output: string, xpathFilter: string) {\r\n    this.xpathFilter[output] = this.xpathFilter[output] || {};\r\n    this.xpathFilter[output][xpathFilter] = true;\r\n    this.pagination.currentPage = 0;\r\n    this.pagination.from = 0;\r\n  }\r\n\r\n  public createCase(idAction, idProcess: string, displayName: string, key: string) {\r\n    if (this.isRenderingMode()) {\r\n      const url = Global.getBizagiProjectUrl(this.stateSnapshotService.getSite(), this.parameters.data.bizagi.projectId);\r\n      this.pageRenderingService.showForm({\r\n        connection: url,\r\n        title: displayName,\r\n        type: FormType.New,\r\n        parameters: {\r\n          action: idAction,\r\n          process: idProcess,\r\n          bizagiEntity: this.bizagiEntity,\r\n          key\r\n        },\r\n        refresh: this.refresh.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  public goToLink(item) {\r\n    if (!this.isRenderingMode()) {\r\n      return;\r\n    }\r\n    if (typeof(item._link) === 'string') {\r\n      try {\r\n        item._link = JSON.parse(item._link);\r\n      } catch (error) {\r\n        return;\r\n      }\r\n    }\r\n    if (this.parameters.data.dataSource === EControlDataSource.Fixed && item._link && item._link.type !== 'none') {\r\n      if (item._link.type === 'external') {\r\n        item._link.url = !/^(http:|https:)/i.test(item._link.url) ? '//' + item._link.url : item._link.url;\r\n        window.open(item._link.url, item._link.blank ? '_blank' : '_self');\r\n      } else {\r\n        const site = this.stateSnapshotService.getSite();\r\n        if (item._link.blank) {\r\n          const currentPage = this.stateSnapshotService.getPage();\r\n          window.open(location.href.replace(site.url + '/' + currentPage.name, site.url + '/' + item._link.pageName), item._link.blank ? '_blank' : '_self');\r\n        } else {\r\n          if(item._link.pageName) {\r\n            this.router.navigate([site.url, item._link.pageName]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public hasLink(item) {\r\n    const isRender = this.isRenderingMode();\r\n    if (!isRender) {\r\n      return false;\r\n    }\r\n    let link;\r\n    if (typeof(item._link) === 'string') {\r\n      try {\r\n        link = JSON.parse(item._link);\r\n      } catch (err) {\r\n        return false;\r\n      }\r\n    } else {\r\n      link = item._link;\r\n    }\r\n    if (!link) {\r\n      return false;\r\n    }\r\n    const differentNone = link && link.type !== 'none';\r\n    const testUrl = (link.url && !/^\\s+$/.test(link.url));\r\n\r\n    return isRender &&\r\n      ((differentNone && (testUrl || link.pageName)) ||\r\n        (this.parameters.data && this.parameters.data.bizagi && this.parameters.data.bizagi.navigation &&\r\n          JSON.stringify(this.parameters.data.bizagi.navigation).match('page')));\r\n  }\r\n\r\n  public onPaginationEvent(paginator) {\r\n    this.pagination.rows = paginator.pageSize;\r\n    this.pagination.currentPage = paginator.pageIndex;\r\n    this.pagination.from = paginator.pageIndex > 0 ? this.calculateFrom(paginator) : 0;\r\n    this.setPagination(this.pagination);\r\n  }\r\n\r\n  public calculateFrom(paginator) {\r\n    const pageIndex = paginator.pageIndex + 1;\r\n    const start = (pageIndex * paginator.pageSize) - (paginator.pageSize - 1);\r\n    return start - 1;\r\n  }\r\n\r\n  public setPagination(pagination: IPagination) {\r\n    this.pagination = pagination;\r\n    this._updateDataSubject.next();\r\n  }\r\n\r\n  public scrollToElement(element: HTMLElement) {\r\n    element.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\r\n  }\r\n\r\n  public async showCase(idCase: string, idTask?: string, processName?: string, caseState = null) {\r\n    if (this.isRenderingMode()) {\r\n      let url: string;\r\n        url = Global.getBizagiProjectUrl(this.stateSnapshotService.getSite(), this.parameters.data.bizagi.projectId);\r\n      const displayName = await this.translateService.get('sitemanager.global.VIEW_CASE_TITLE',\r\n        { case: idCase }).toPromise();\r\n      const parameters: any = {};\r\n     parameters.case = idCase;\r\n      parameters.processId = this.parameters.data.bizagi && this.parameters.data.bizagi.dataId ?\r\n        this.parameters.data.bizagi.dataId : undefined;\r\n      if (idTask) {\r\n        parameters.idTask = idTask;\r\n      }\r\n      this.pageRenderingService.showForm({\r\n        connection: url,\r\n        title: processName || displayName,\r\n        type: FormType.Existing,\r\n        parameters,\r\n        refresh: this.refresh.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  public refreshFixedPaginationData() {\r\n    this.pagination.pages = this._refreshFixedPages(this._data['data']);\r\n    this.pagination.totalPages = this.pagination.pages.length;\r\n    const paginatedData = this._data['data'].slice(this.pagination.from, this.pagination.from + this.pagination.rows)\r\n    this._data = {data: paginatedData, dataCount: this._data['dataCount'] } as any ;\r\n    this.updateEllipsisFields();\r\n  }\r\n\r\n  public getTypeMappedField(field: string) {\r\n    return this.control.parameters.data.bizagi && this.control.parameters.data.bizagi.mappingTypes\r\n      ? this.control.parameters.data.bizagi.mappingTypes[field] : '';\r\n  }\r\n\r\n  protected onChanged(updatedControl: IControl) {\r\n    super.onChanged(updatedControl);\r\n    this._updateDataSubject.next();\r\n  }\r\n\r\n  protected navigate(item: any, section: string) {\r\n    if (this.isRenderingMode()) {\r\n      const data = this.parameters.data;\r\n      if (!data.bizagi) {\r\n        return;\r\n      }\r\n      if (!data.bizagi.navigation) {\r\n        return;\r\n      }\r\n      if (!data.bizagi.navigation[section]) {\r\n        return;\r\n      }\r\n      if (!data.bizagi.navigation[section].page) {\r\n        return;\r\n      }\r\n\r\n      // Perform routing\r\n      const site = this.stateSnapshotService.getSite();\r\n      const page = this.stateSnapshotService.getPage();\r\n      const pageName = (_.find(this.stateSnapshotService.getPages(),\r\n        { originalId: data.bizagi.navigation[section].page }) as IBasicPage).name;\r\n      const key = data.bizagi.type === 'cases' && item.idCase ? item.idCase : item.id;\r\n      const navigationContextList: Array<INavigationContext> = page.isContextualized ?\r\n        this.stateSnapshotService.getNavigationContext() : [];\r\n      const newNavigationContext: INavigationContext = _.last(data.bizagi.navigation[section].navigationData);\r\n      newNavigationContext.key = key;\r\n      newNavigationContext.originPageId = this.stateSnapshotService.getPage().originalId;\r\n      navigationContextList.push(newNavigationContext);\r\n      this.router.navigate([site.url, pageName], {\r\n        queryParams: {\r\n          key, project: data.bizagi.projectId,\r\n          context: Global.jsonToBase64(navigationContextList)\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  protected resize(event: any) {\r\n    if (\r\n      event.target.height > this.maxElementHeight &&\r\n      this.controlDefinition.defaultSize.dynamic &&\r\n      this.controlDefinition.styles.layout &&\r\n      this.styles.layout &&\r\n      this.styles.multipageItemView !== 'Scroll') {\r\n      this.maxElementHeight = event.target.height;\r\n      const columns = this.controlDefinition.styles.layout.layouts[this.styles.layout].columns || 1;\r\n      const rows = Math.ceil(this.pagination.rows / columns);\r\n      const verticalSpacing = (this.controlDefinition.styles.layout.layouts[this.styles.layout].verticalItemSpacing || 3) * rows;\r\n      const paginationsHeight = this.styles.multipageItemView === 'Pagination' ? 40 : 10;\r\n      const itemHeight = $('[data-control-id=' + this.control.id + '] [bs-dynamic-size-item=true]').outerHeight(true);\r\n      const dymanicSizeElement = $('[data-control-id=' + this.control.id + ']');\r\n      const heightElement = (rows * (itemHeight + verticalSpacing)) + paginationsHeight;\r\n      if (dymanicSizeElement && heightElement) {\r\n        this.onResize.next({\r\n          width: dymanicSizeElement.width(),\r\n          height: heightElement\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  private async loadBizagiCollectionsData(data, filter: ISearchData) {\r\n    // BIZAGI DATA SOURCE MANAGEMENT\r\n    const xpath = _.keys(this.xpathFilter.filter)[0];\r\n    const xpathProp = _.findKey(data.bizagi.mappings, item => item === xpath);\r\n    const parameters: ICollectionDataParams = {\r\n      collectionId: data.bizagi.dataId,\r\n      value: this._currentLanguageResources[filter.filter] || filter.filter,\r\n      xpath,\r\n      columns: _.compact(_.uniq(_.values(data.bizagi.mappings))) as string[],\r\n      pagination: this.pagination,\r\n      mappingType: data.bizagi.mappingTypes[xpathProp] || (data.bizagi.templateTypes ? data.bizagi.templateTypes[xpath] : '')\r\n    };\r\n    const url = Global.getBizagiProjectUrl(this.stateSnapshotService.getSite(), data.bizagi.projectId);\r\n    const response = await this.bizagiDataServices.getCollection(url, parameters);\r\n    if (response) {\r\n      this.setResponseData(response);\r\n    } else {\r\n      this.isDataError = true;\r\n      this.data['data'] = [];\r\n    }\r\n  }\r\n\r\n  private async loadBizagiCasesData(data, filter: ISearchData) {\r\n    // BIZAGI DATA SOURCE MANAGEMENT\r\n    const xpath = _.keys(this.xpathFilter.filter)[0];\r\n    const xpathProp = _.findKey(data.bizagi.mappings, item => item === xpath);\r\n    const parameters: ICaseDataParams = {\r\n      processId: data.bizagi.dataId,\r\n      value: this._currentLanguageResources[filter.filter] || filter.filter,\r\n      xpath,\r\n      columns: _.compact(_.uniq(_.values(data.bizagi.mappings))) as string[],\r\n      pagination: this.pagination,\r\n      mappingType: data.bizagi.mappingTypes[xpathProp] || (data.bizagi.templateTypes ? data.bizagi.templateTypes[xpath] : '')\r\n    };\r\n\r\n    const url = Global.getBizagiProjectUrl(this.stateSnapshotService.getSite(), data.bizagi.projectId);\r\n    const response = await this.bizagiDataServices.getCases(url, parameters);\r\n    if (response) {\r\n      this.setResponseData(response);\r\n    } else {\r\n      this.isDataError = true;\r\n      this.data['data'] = [];\r\n    }\r\n  }\r\n\r\n  private _loadData() {\r\n    this._fields = this._loadFields(this.control.fields);\r\n    this.maxElementHeight = -1;\r\n    const data = this.parameters.data;\r\n    this._updatePagination();\r\n    let filter;\r\n      filter = Global.isOnRenderMode() && this.parameters['filter'] ? this.parameters['filter'] : { filter: '' };\r\n      filter.filter = filter.filter?.trim().replace(/\\*/g, '');\r\n   let state: string = Global.isOnRenderMode() && this.parameters.state ? this.parameters.state : '';\r\n    state = state.trim().replace(/\\*/g, '');\r\n    let orderby: string = Global.isOnRenderMode() && this.parameters.orderby ? this.parameters.orderby : '';\r\n    orderby = orderby.trim().replace(/\\*/g, '');\r\n    const ordertype: string = Global.isOnRenderMode() && this.parameters.ordertype ? this.parameters.ordertype : '';\r\n\r\n    if (data.dataSource === EControlDataSource.Dynamic && data.bizagi && data.bizagi.mappingTypes) {\r\n      this.actions = data.bizagi.actions;\r\n      this.canShowCaseLink = data.bizagi.type === 'cases';\r\n      if (!Global.isOnRenderMode()) {\r\n          // BUILDING MODE DUMMIES\r\n          if (_.isEmpty(this.controlDefinition.fields)) {\r\n            this._data = DefaultValues.loadDefaultData(this.controlDefinition.parameters.data.mappings);\r\n          } else {\r\n            const fieldsMapping = [];\r\n            _.each(this.controlDefinition.fields, (controlDefinitionField: IControlDefinitionField, controlDefinitionFieldKey: string) => {\r\n              fieldsMapping[controlDefinitionFieldKey] = {\r\n                label: controlDefinitionField.displayName, type: controlDefinitionField.type,\r\n                typeData: data.bizagi.mappingTypes[controlDefinitionFieldKey]\r\n              };\r\n            });\r\n            this._data = DefaultValues.loadDefaultData(fieldsMapping, this.pagination?.rows || 3);\r\n          }\r\n        this.isDataReady = true;\r\n        return;\r\n      }\r\n\r\n      this.isDataReady = false;\r\n      switch (data.bizagi.type) {\r\n        case 'cases': {\r\n          // DATA FROM BIZAGI CASES\r\n          this.loadBizagiCasesData(data, filter);\r\n          break;\r\n        }\r\n        case 'collections': {\r\n          // DATA FROM BIZAGI COLLECTIONS\r\n          this.loadBizagiCollectionsData(data, filter);\r\n          break;\r\n        }\r\n        case 'searches': {\r\n          // DATA FROM BIZAGI CASES\r\n          this.loadBizagiSearchResultsData(data, filter);\r\n          break;\r\n        }\r\n        case 'context': {\r\n          // DATA FROM CONTEXTUALIZED DATA\r\n          this.loadBizagiContextualizedResultsData(data, filter);\r\n          break;\r\n        }\r\n     }\r\n    } else if (data.fixed) {\r\n      // FIXED DATA MANAGEMENT\r\n      const fixedData = [];\r\n      _.each(data.fixed, (item, i) => {\r\n        _.each(item, (value, key) => {\r\n          fixedData[i] = fixedData[i] ? fixedData[i] : {};\r\n          fixedData[i][key.toString()] = this._currentLanguageResources[value] ? this._currentLanguageResources[value] : value;\r\n        });\r\n      });\r\n      this._data = {data: fixedData, dataCount: fixedData,length} as any;\r\n      if (filter) {\r\n        const filterData =  _.filter(this.data['data'], (item: any) => this.filterFixedItem(item, filter));\r\n        this._data = {data: filterData, dataCount: filterData.length} as any;\r\n      }\r\n      if (this.controlDefinition.parameters.data.type === 'data') {\r\n        this.refreshFixedPaginationData();\r\n      }\r\n      this.isDataReady = true;\r\n    }\r\n  }\r\n\r\n  private async loadBizagiSearchResultsData(data, filter: ISearchData) {\r\n    // BIZAGI DATA SOURCE MANAGEMENT\r\n    const xpath = _.keys(this.xpathFilter.filter)[0];\r\n    const xpathProp = _.findKey(data.bizagi.mappings, item => item === xpath);\r\n    const parameters: ISearchDataParams = {\r\n      searchId: data.bizagi.dataId,\r\n      value: this._currentLanguageResources[filter.filter] || filter.filter,\r\n      xpath,\r\n      pagination: this.pagination,\r\n      mappingType: data.bizagi.mappingTypes[xpathProp] || (data.bizagi.templateTypes ? data.bizagi.templateTypes[xpath] : '')\r\n    };\r\n\r\n    const url = Global.getBizagiProjectUrl(this.stateSnapshotService.getSite(), data.bizagi.projectId);\r\n    const response = await this.bizagiDataServices.getSearchResults(url, parameters);\r\n    if (response) {\r\n      this.setResponseData(response);\r\n    } else {\r\n      this.isDataError = true;\r\n      this.data['data'] = [];\r\n    }\r\n  }\r\n\r\n  private async loadBizagiContextualizedResultsData(data, filter: ISearchData) {\r\n\r\n    const navigationContexts = this.stateSnapshotService.getNavigationContext();\r\n    const navigationContext = _.first(navigationContexts) as INavigationContext;\r\n    // Create a navigation context part\r\n    const xpath = _.keys(this.xpathFilter.filter)[0];\r\n    const xpathProp = _.findKey(data.bizagi.mappings, item => item === xpath);\r\n    const parameters = {\r\n      connectionEntityId: navigationContext.connectionId,\r\n      rootConnectionType: navigationContext.connectionType,\r\n      value: this._currentLanguageResources[filter.filter] || filter.filter,\r\n      xpath,\r\n      pagination: this.pagination,\r\n      navigationLevels: [],\r\n      key: navigationContext.key,\r\n      mappingType: data.bizagi.mappingTypes[xpathProp]\r\n    };\r\n    const url = Global.getBizagiProjectUrl(this.stateSnapshotService.getSite(), data.bizagi.projectId);\r\n    const page = this.stateSnapshotService.getPage();\r\n\r\n    _.each(navigationContexts, (navigationContextItem: INavigationContext) => {\r\n      if (navigationContextItem.navigationId && parameters.connectionEntityId !== navigationContextItem.navigationId) {\r\n        parameters.navigationLevels.push({\r\n          navigationId: navigationContextItem.navigationId, key: page.context.entity.value\r\n            || navigationContextItem.key\r\n        });\r\n      }\r\n    });\r\n    parameters.navigationLevels.push({ navigationId: data.bizagi.dataId });\r\n\r\n    const response = await this.bizagiDataServices.getContextNavigations(url, parameters, this.pagination);\r\n    if (response) {\r\n      this.setResponseData(response);\r\n    } else {\r\n      this.isDataError = true;\r\n      this.data['data'] = [];\r\n    }\r\n  }\r\n\r\n\r\n  private setResponseData(response: IBizagiDataResult, dataType?: string) {\r\n    this.cultureService.getPreferences().subscribe((userPreferences: IUserPreferences) => {\r\n      this._userPreferences = userPreferences;\r\n      this._currentUserPreferences = this._userPreferences;\r\n      switch (dataType) {\r\n       default:\r\n          this._setResponseData(response);\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  private _setResponseData(response: IBizagiDataResult) {\r\n    const dataCount = response.count;\r\n    this.pagination.totalItems = response.count;\r\n    this.pagination.totalPages = response.count ? _.ceil(response.count / this.pagination.rows) : 0;\r\n    this.pagination.pages = this.pagination.totalPages < this.pagination.intervalSize ?\r\n      Array.from(Array(this.pagination.totalPages).keys()) : Array.from(Array(this.pagination.intervalSize).keys());\r\n    this.bizagiEntity = response.bizagiEntity;\r\n    this._data = this.transformData(response.instances, dataCount);\r\n    this.isDataError = false;\r\n    this.updateEllipsisFields();\r\n  }\r\n\r\n  private updateEllipsisFields() {\r\n    setTimeout(() => {\r\n      Global.ellipsisMultiline('.bs-collection-field__text-ellipsis');\r\n    }, 0);\r\n  }\r\n\r\n  private filterFixedItem(item, filter: ISearchData) {\r\n    const mappings = this.controlDefinition.fields;\r\n    const result = {};\r\n    _.forIn(filter, (value, filterName) => {\r\n      if (filter[filterName] && this.xpathFilter[filterName]) {\r\n        result[filterName] = filter[filterName] === '';\r\n        for (const xpathFilter in this.xpathFilter[filterName]) {\r\n          if (this.xpathFilter[filterName][xpathFilter]) {\r\n            const mapping = mappings[xpathFilter];\r\n            if ((mapping && mapping.type !== 'image') || this.control.additionalFields[xpathFilter]) {\r\n              const fieldValue = item[xpathFilter];\r\n              let isAMatch = true;\r\n              try {\r\n                if(!_.isNil(fieldValue)) {\r\n                  if (this.xpathFilter.typeFilter === ESearchTypeFields.Specific && filterName === 'category') {\r\n                    isAMatch = _.isEqual(fieldValue.toLowerCase(), filter[filterName].toLowerCase());\r\n                  } else {\r\n                    isAMatch = _.includes(fieldValue.toLowerCase(), filter[filterName].toLowerCase());\r\n                  }\r\n                } else{\r\n                  isAMatch = false;\r\n                }\r\n              } catch (e) {\r\n              }\r\n              if (isAMatch && typeof(isAMatch) === 'boolean') {\r\n                result[filterName] = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n    return !JSON.stringify(result).match(':false');\r\n  }\r\n\r\n  private transformData(data, dataCount): any {\r\n    const mappings = this.parameters.data.bizagi.mappings;\r\n    const mappingTypes = this.parameters.data.bizagi.mappingTypes ? this.parameters.data.bizagi.mappingTypes : {};\r\n    const result = [];\r\n    data.forEach((row: IBizagiDataResultItem) => {\r\n      const item = { id: row.id };\r\n      for (const column in mappings) {\r\n        if (mappings[column]) {\r\n          const match = _.filter(row.parameters, { xpath: mappings[column] });\r\n          if (match && match.length > 0) {\r\n            let value;\r\n            if ((match[0] as any).hasOwnProperty('value')) {\r\n              value = (match[0] as any).value;\r\n            } else {\r\n              value = (match[0] as any).files;\r\n            }\r\n            item[column] = value;\r\n            const formatType = mappingTypes[column];\r\n            const mappingMetadata = this.controlDefinition.fields ? this.controlDefinition.fields :\r\n              (this.controlDefinition.parameters as any).data.mappings;\r\n            switch (formatType.toLowerCase()) {\r\n              case 'image':\r\n                // When the data is an image, add the prefix for image64\r\n                if (mappingMetadata[column].type.toLowerCase && mappingMetadata[column].type.toLowerCase() === 'image'\r\n                  && Global.isBizagiImage(value)) {\r\n                  item[column] = value ? Global.getBizagiImageUrl(value) : null;\r\n                }\r\n                break;\r\n              case 'datetime':\r\n                item[column] = this.cultureService.dateTimeFormat(value, ECultureDateTypes.dateTime, this._currentUserPreferences);\r\n                break;\r\n              case 'money':\r\n                item[column] = this.cultureService.currencyFormat(value, this._currentUserPreferences);\r\n                break;\r\n\r\n              case 'real':\r\n                item[column] = this.cultureService.floatFormat(value, this._currentUserPreferences);\r\n                break;\r\n\r\n              case 'float':\r\n                item[column] = this.cultureService.floatFormat(value, this._currentUserPreferences);\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (row.actions) {\r\n        item['actions'] = row.actions;\r\n      }\r\n      if (this.canShowCaseLink) {\r\n        item['idCase'] = row['idCase'] || row.id;\r\n        item['caseNumber'] = row['caseNumber'];\r\n        item['id'] = row['@processEntityKey'];\r\n      }\r\n      result.push(item);\r\n    });\r\n    this.isDataReady = true;\r\n    return {data: result, dataCount};\r\n  }\r\n\r\n  private transformDataMyCases(response): any {\r\n    const data = response.data;\r\n    let headers = response.headers;\r\n    headers = _.filter(headers, (header)=> header.key !== '@ExpirationDate' && header.key !== '@TaskDisplayName');\r\n    const dataCount = response.dataCount;\r\n    const dataFormatted = [];\r\n    _.forEach(data, (row: any) => {\r\n      const keys = _.keys(row);\r\n      const newRow = {};\r\n      _.forEach(keys, (key => {\r\n        const header = _.find(headers, (h) => h.key === key);\r\n        if (header) {\r\n          switch (header.type.toLowerCase()) {\r\n            case 'datetime':\r\n              newRow[key] = this.cultureService.dateTimeFormat(row[key], ECultureDateTypes.dateTime, this._currentUserPreferences);\r\n              break;\r\n\r\n            case 'money':\r\n              newRow[key] = this.cultureService.currencyFormat(row[key], this._currentUserPreferences);\r\n              break;\r\n\r\n            case 'float':\r\n              if (row[key] && this.cultureService.countDecimals(row[key]) > 2) {\r\n                newRow[key] = parseFloat(row[key]).toFixed(2);\r\n              }\r\n              break;\r\n\r\n            case 'image':\r\n              // When the data is an image, add the prefix for image64\r\n              if (Global.isBizagiImage(row[key])) {\r\n                newRow[key] = row[key] ? Global.getBizagiImageUrl(row[key]) : null;\r\n              }\r\n              break;\r\n\r\n            default:\r\n              newRow[key] = row[key];\r\n              break;\r\n          }\r\n        } else {\r\n          newRow[key] = row[key];\r\n        }\r\n      }));\r\n      dataFormatted.push(newRow);\r\n    })\r\n    return { data: dataFormatted, headers, dataCount };\r\n  }\r\n\r\n  private isText(column, item) {\r\n    if (item === null) {\r\n      return false;\r\n    }\r\n    const mappingMetadata = (this.controlDefinition.parameters as any).data.mappings;\r\n    return mappingMetadata[column].type.toLowerCase() === 'text';\r\n  }\r\n\r\n  private _updatePagination() {\r\n    this.pagination.rows = this.styles.displayedItems || 5;\r\n  }\r\n\r\n  private _refreshFixedPages(data: any) {\r\n    const pages: any[] = [];\r\n    for (let i = 0; i < Math.ceil(data.length / this.pagination.rows); i++) {\r\n      pages.push(i);\r\n    }\r\n    return pages;\r\n  }\r\n\r\n  private _loadFields(fields: { [key: string]: any }): { [key: string]: any } {\r\n    const translationFields: { [key: string]: any } = {};\r\n    _.each(fields, (field: any, key: string) => {\r\n      const tmpField = _.cloneDeep(field);\r\n      if (tmpField.styles.fieldLabel) {\r\n        tmpField.styles.fieldLabel.text = this._currentLanguageResources[field.styles.fieldLabel.text];\r\n      }\r\n      translationFields[key] = tmpField;\r\n    });\r\n    return translationFields;\r\n  }\r\n}\r\n","import { ChangeDetectorRef } from '@angular/core';\r\nimport { BaseControlComponent } from './base.component';\r\nimport { PageRenderingService } from 'app/common/services/sites/page-rendering.service';\r\nimport { FormType } from 'app/render/bizagi-forms/bizagi-forms.component';\r\nimport { Global } from '../misc/global';\r\n\r\nexport abstract class BaseProcessControlComponent extends BaseControlComponent {\r\n\r\n  protected pageRenderingService: PageRenderingService;\r\n  protected bizagiDataServices: IBizagiDataServices;\r\n  \r\n  public isProcessLoading = false;\r\n  public link: any = {};\r\n  public data = {};\r\n\r\n  public setServices(pageRenderingService: PageRenderingService,\r\n    bizagiDataServices: IBizagiDataServices) {\r\n    this.pageRenderingService = pageRenderingService;\r\n    this.bizagiDataServices = bizagiDataServices;\r\n  }\r\n\r\n  public setControl(control: IControl, changeDetectorRef: ChangeDetectorRef) {\r\n    super.setControl(control, changeDetectorRef);\r\n    this.setControlLink();\r\n    \r\n  }\r\n\r\n  public startProcess() {\r\n    const link : IControlLink = typeof (this.control.link) === 'string' \r\n    ? JSON.parse(this._currentLanguageResources[this.control.link]) : this.control.link;\r\n    \r\n    if (this.isRenderingMode() && (link as IControlLinkRelevants).projectId) {\r\n      this._startProcess(Global.getBizagiProjectUrl(this.stateSnapshotService.getSite(),\r\n        (link as IControlLinkRelevants).projectId),\r\n        (link as IControlLinkRelevants).processId);\r\n    }\r\n  }\r\n\r\n  public startProcessByProcessId(processId: string, title: string) {\r\n    const site = this.stateSnapshotService.getSite();\r\n    this._startProcess((_.first(_.values(site.environments[site.defaultEnvironment].projects)) as any).url, processId, title);\r\n  }\r\n\r\n  public async goToPage() {\r\n    if (this.isRenderingMode()) {\r\n      this.setControlLink();\r\n      const controlLink = (this.link as IControlLinkExternalPage);\r\n      const target: string = controlLink.blank ? '_blank' : '_self';\r\n      if (controlLink.type === 'staticPages') {\r\n        const link = !/^(http:|https:)/i.test(controlLink.url) ?\r\n          '//' + controlLink.url : controlLink.url;\r\n        window.open(link, target);\r\n      } else {\r\n        if (controlLink.url) {\r\n          window.open(controlLink.url, target);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private _startProcess(url: string, processId: string, title?: string) {\r\n    this.pageRenderingService.showForm({\r\n      connection: url,\r\n      title: title || (this.control.parameters && this.control.parameters.text ? this.control.parameters.text : ''),\r\n      type: FormType.New,\r\n      parameters: {\r\n        process: processId\r\n      },\r\n      refresh: this.refresh.bind(this)\r\n    });\r\n  }\r\n\r\n  private setControlLink(){\r\n    if (typeof (this.control.link) === 'string') {\r\n      this.control.link = this.control.link || `${this.control.id}_link`;\r\n      this.link = JSON.parse(this._currentLanguageResources[this.control.link]);\r\n    } else {\r\n      this.control.link = this.control.link || {\r\n        type: ''\r\n      };\r\n      this.link = this.control.link;\r\n    }\r\n\r\n    if (this.isRenderingMode()) {\r\n      if (this.link.type === 'internalPages' && (this.link as IControlLinkInternalPage).id) {\r\n        const site = this.stateSnapshotService.getSite();\r\n        const pageName = site.references[(this.link as IControlLinkInternalPage).id];\r\n        if (!pageName) {\r\n          return;\r\n        }\r\n        // Set new url\r\n        (this.link as IControlLinkInternalPage).url = '#/' + site.url + '/' + pageName;\r\n      }\r\n    }\r\n  }\r\n\r\n  protected async loadRelevants() {\r\n    const site = this.stateSnapshotService.getSite();\r\n    const url = (_.first(_.values(site.environments[site.defaultEnvironment].projects)) as any).url;\r\n    const response = await this.bizagiDataServices.getRelevants(url);\r\n    if (response) {\r\n      return _.groupBy(response.instances, 'categoryName') as any;\r\n    }\r\n    return {};\r\n  }\r\n}\r\n","\r\nenum ESearchType {\r\n  changeProperty,\r\n  navigate\r\n};\r\n\r\nexport { ESearchType };\r\n","import { BaseDataControlComponent } from 'app/common/controls/base-data.component';\r\nimport { Dictionary } from 'lodash';\r\nimport { BaseControlComponent } from './base.component';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PageRenderingService } from '../services/sites/page-rendering.service';\r\nimport { ESearchType } from '../../editor/models/ESearchType';\r\n\r\ndeclare let Highcharts: any;\r\ndeclare let $: any;\r\n\r\nexport class BaseSearchComponent extends BaseControlComponent {\r\n  public categories = [];\r\n  protected actions;\r\n  protected pageRenderingService: PageRenderingService;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n  public setServices(pageRenderingService?: PageRenderingService) {\r\n    this.pageRenderingService = pageRenderingService;\r\n  }\r\n\r\n\r\n\r\n  protected async loadCategories() {\r\n    let categories = [];\r\n    const action = this.actions['onSearch'];\r\n    if (action.type === ESearchType[ESearchType.changeProperty]) {\r\n      const controls = this.stateSnapshotService.getPage().controls;\r\n      _.forEach(controls, (control: IControl) => {\r\n        if (action.targets[control.id]) {\r\n          const fieldName = _.find(action.targets[control.id], (internalTarget) => {\r\n            return internalTarget.property === 'parameters.filter.category';\r\n          }).xpath;\r\n\r\n          categories = [...categories, ..._.map(control.parameters.data.fixed, (collectionItem) => {\r\n            return collectionItem[fieldName];\r\n          })];\r\n        }\r\n      });\r\n    } else {\r\n      const targets = action.targets;\r\n      const site = this.stateSnapshotService.getSite();\r\n      const controlXpaths = {};\r\n      _.forEach(targets, (value, key) => {\r\n        const fieldName = _.find(value, (internalTarget) => {\r\n          return internalTarget.property === 'parameters.filter.category';\r\n        }).xpath;\r\n        controlXpaths[key] = fieldName;\r\n      });\r\n      categories = await this.pageRenderingService.getControlCategories(site.url,\r\n        site.references[action.pageId], controlXpaths);\r\n    }\r\n    this.categories = _.uniq(_.filter(_.map(categories, (category: string) => {\r\n      return this._currentLanguageResources[category]?.trim();\r\n    }), (filter) => !!filter));\r\n\r\n  }\r\n\r\n}\r\n","import {createSelector} from '@ngrx/store';\r\n\r\nconst renderSelector = (state: IRenderState) => state;\r\n\r\nexport const getPageData = createSelector(\r\n  renderSelector,\r\n  (state: IRenderState) => state.pageData\r\n);\r\n","import {BaseControlComponent} from './base.component';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport {PageRenderingService} from 'app/common/services/sites/page-rendering.service';\r\nimport {Global} from 'app/common/misc/global';\r\nimport {FormType} from 'app/render/bizagi-forms/bizagi-forms.component';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {DefaultValues} from '../misc/default-values';\r\nimport {ECultureDateTypes} from 'app/common/models/ECultureFormats';\r\n\r\nexport enum EDataType {\r\n  Inbox,\r\n  MyCases\r\n}\r\nexport abstract class BaseInboxControlComponent extends BaseControlComponent {\r\n\r\n  private _data: any[] = [];\r\n  private _userPreferences: IUserPreferences;\r\n  private _currentUserPreferences: IUserPreferences;\r\n  protected dataType: EDataType;\r\n  protected actions: Array<IBizagiAction>;\r\n  protected bizagiEntity: string;\r\n  protected bizagiDataServices: IBizagiDataServices;\r\n  protected pageRenderingService: PageRenderingService;\r\n  protected translateService: TranslateService;\r\n  protected route: ActivatedRoute;\r\n  protected router: Router;\r\n  protected maxElementHeight = -1;\r\n  protected unsupportedColumns = [];\r\n\r\n  public isDataReady = true;\r\n  public isProcessLoading = false;\r\n  public isDataError = false;\r\n  public canShowCaseLink = false;\r\n  public pagination: IPagination = {\r\n    currentPage: 0,\r\n    currentPaginationSet: 0,\r\n    from: 0,\r\n    intervalSize: 3,\r\n    pages: [0, 1, 2],\r\n    rows: 30,\r\n    totalPages: 3,\r\n    totalItems: 0\r\n  };\r\n\r\n  public get data() {\r\n    return this._data;\r\n  }\r\n\r\n\r\n  public setServices(route: ActivatedRoute,\r\n    router: Router,\r\n    translateService: TranslateService,\r\n    services: IBizagiDataServices,\r\n    pageRenderingService?: PageRenderingService) {\r\n    this.route = route;\r\n    this.router = router;\r\n    this.translateService = translateService;\r\n    this.bizagiDataServices = services;\r\n    this.pageRenderingService = pageRenderingService;\r\n  }\r\n\r\n  public initialized() {\r\n    // This method is called after all the controls in the page are fully initialized, and the page mappings are applied\r\n    this._loadData();\r\n  }\r\n\r\n  public refresh(isLastActionNext?: boolean) {\r\n    if (isLastActionNext) {\r\n      const totalItems = this.pagination.totalItems - 1;\r\n      if (this.pagination.from === totalItems) {\r\n        this.pagination.from = this.pagination.from - this.pagination.rows;\r\n        this.pagination.currentPage--;\r\n      }\r\n    }\r\n    super.refresh();\r\n    this._loadData();\r\n  }\r\n\r\n  public createCase(idAction, idProcess: string, displayName: string, key: string) {\r\n    if (this.isRenderingMode()) {\r\n      const url = Global.getBizagiProjectUrl(this.stateSnapshotService.getSite(), this.parameters.data.bizagi.projectId);\r\n      this.pageRenderingService.showForm({\r\n        connection: url,\r\n        title: displayName,\r\n        type: FormType.New,\r\n        parameters: {\r\n          action: idAction,\r\n          process: idProcess,\r\n          bizagiEntity: this.bizagiEntity,\r\n          key\r\n        },\r\n        refresh: this.refresh.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  public onPaginationEvent(paginator) {\r\n    this.pagination.rows = paginator.pageSize;\r\n    this.pagination.currentPage = paginator.pageIndex;\r\n    this.pagination.from = paginator.pageIndex > 0 ? this.calculateFrom(paginator) : 0;\r\n    this.setPagination(this.pagination);\r\n  }\r\n\r\n  public calculateFrom(paginator) {\r\n    const pageIndex = paginator.pageIndex + 1;\r\n    const start = (pageIndex * paginator.pageSize) - (paginator.pageSize - 1);\r\n    return start - 1;\r\n  }\r\n\r\n  public setPagination(pagination: IPagination) {\r\n    this.pagination = pagination;\r\n    this._loadData();\r\n  }\r\n\r\n  public scrollToElement(element: HTMLElement) {\r\n    element.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\r\n  }\r\n\r\n  public async showCase(idCase: string, idTask?: string, processName?: string, caseState = null, \r\n    caseNumber = '', pendingActivities = true) {\r\n    if (this.isRenderingMode()) {\r\n      let url: string;\r\n        const site = this.stateSnapshotService.getSite();\r\n        url = (_.first(_.values(site.environments[site.defaultEnvironment].projects)) as any).url;\r\n\r\n      const displayName = await this.translateService.get('sitemanager.global.VIEW_CASE_TITLE',\r\n        { case: caseNumber || idCase }).toPromise();\r\n      const parameters: any = {};\r\n      if(this.control.type === 'my-cases') {\r\n        parameters.control = 'my-cases';\r\n        parameters.caseState = caseState;\r\n      }\r\n      parameters.pendingActivities = pendingActivities;\r\n      parameters.case = idCase;\r\n      parameters.processId = this.parameters.data.bizagi && this.parameters.data.bizagi.dataId ?\r\n        this.parameters.data.bizagi.dataId : undefined;\r\n      if (idTask) {\r\n        parameters.idTask = idTask;\r\n      }\r\n      const formtitle = displayName && processName? processName + ' / ' + displayName : displayName || processName\r\n      this.pageRenderingService.showForm({\r\n        connection: url,\r\n        title: formtitle,\r\n        type: FormType.Existing,\r\n        parameters,\r\n        refresh: this.refresh.bind(this)\r\n      });\r\n    }\r\n  }\r\n\r\n  public refreshFixedPaginationData() {\r\n    this.pagination.pages = this._refreshFixedPages(this._data['data']);\r\n    this.pagination.totalPages = this.pagination.pages.length;\r\n    const paginatedData = this._data['data'].slice(this.pagination.from, this.pagination.from + this.pagination.rows)\r\n    this._data = {data: paginatedData, dataCount: this._data['dataCount'] } as any ;\r\n  }\r\n\r\n  protected onChanged(updatedControl: IControl) {\r\n    super.onChanged(updatedControl);\r\n    this._loadData();\r\n  }\r\n\r\n  protected navigate(item: any, section: string) {\r\n    if (this.isRenderingMode()) {\r\n      const data = this.parameters.data;\r\n      if (!data.bizagi) {\r\n        return;\r\n      }\r\n      if (!data.bizagi.navigation) {\r\n        return;\r\n      }\r\n      if (!data.bizagi.navigation[section]) {\r\n        return;\r\n      }\r\n      if (!data.bizagi.navigation[section].page) {\r\n        return;\r\n      }\r\n\r\n      // Perform routing\r\n      const site = this.stateSnapshotService.getSite();\r\n      const page = this.stateSnapshotService.getPage();\r\n      const pageName = (_.find(this.stateSnapshotService.getPages(),\r\n        { originalId: data.bizagi.navigation[section].page }) as IBasicPage).name;\r\n      const key = data.bizagi.type === 'cases' && item.idCase ? item.idCase : item.id;\r\n      const navigationContextList: Array<INavigationContext> = page.isContextualized ?\r\n        this.stateSnapshotService.getNavigationContext() : [];\r\n      const newNavigationContext: INavigationContext = _.last(data.bizagi.navigation[section].navigationData);\r\n      newNavigationContext.key = key;\r\n      newNavigationContext.originPageId = this.stateSnapshotService.getPage().originalId;\r\n      navigationContextList.push(newNavigationContext);\r\n      this.router.navigate([site.url, pageName], {\r\n        queryParams: {\r\n          key, project: data.bizagi.projectId,\r\n          context: Global.jsonToBase64(navigationContextList)\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  protected resize(event: any) {\r\n    if (\r\n      event.target.height > this.maxElementHeight &&\r\n      this.controlDefinition.defaultSize.dynamic &&\r\n      this.controlDefinition.styles.layout &&\r\n      this.styles.layout &&\r\n      this.styles.multipageItemView !== 'Scroll') {\r\n      this.maxElementHeight = event.target.height;\r\n      const columns = this.controlDefinition.styles.layout.layouts[this.styles.layout].columns || 1;\r\n      const rows = Math.ceil(this.pagination.rows / columns);\r\n      const verticalSpacing = (this.controlDefinition.styles.layout.layouts[this.styles.layout].verticalItemSpacing || 3) * rows;\r\n      const paginationsHeight = this.styles.multipageItemView === 'Pagination' ? 40 : 10;\r\n      const itemHeight = $('[data-control-id=' + this.control.id + '] [bs-dynamic-size-item=true]').outerHeight(true);\r\n      const dymanicSizeElement = $('[data-control-id=' + this.control.id + ']');\r\n      const heightElement = (rows * (itemHeight + verticalSpacing)) + paginationsHeight;\r\n      if (dymanicSizeElement && heightElement) {\r\n        this.onResize.next({\r\n          width: dymanicSizeElement.width(),\r\n          height: heightElement\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  private _loadData() {\r\n    this.maxElementHeight = -1;\r\n    const data = this.parameters.data;\r\n    if (this.dataType !== EDataType.MyCases) {\r\n      this._updatePagination();\r\n    }\r\n    let filter;\r\n    filter = Global.isOnRenderMode() && this.parameters['filter'] ? this.parameters['filter'] : '';\r\n    filter = filter.trim().replace(/\\*/g, '');\r\n    let state: string = Global.isOnRenderMode() && this.parameters.state ? this.parameters.state : '';\r\n    state = state.trim().replace(/\\*/g, '');\r\n    let orderby: string = Global.isOnRenderMode() && this.parameters.orderby ? this.parameters.orderby : '';\r\n    orderby = orderby.trim().replace(/\\*/g, '');\r\n    const ordertype: string = Global.isOnRenderMode() && this.parameters.ordertype ? this.parameters.ordertype : '';\r\n\r\n      if (!Global.isOnRenderMode()) {\r\n        if (this.dataType === EDataType.MyCases) {\r\n          this._data = DefaultValues.loadDefaultDataMyCases();\r\n        } else {\r\n          this._data = DefaultValues.loadDefaultData(this.controlDefinition.parameters.data.mappings);\r\n        }\r\n        return;\r\n      }\r\n\r\n      this.isDataReady = false;\r\n\r\n      if (this.dataType === EDataType.MyCases && this.parameters.data?.filterState) {\r\n        state = this.parameters.data?.filterState;\r\n      }\r\n\r\n      switch (this.dataType) {\r\n        case EDataType.Inbox: {\r\n          this.loadInboxResultsData(data, filter, state, orderby);\r\n          break;\r\n        }\r\n        case EDataType.MyCases: {\r\n          this.loadMyCasesResultsData(data, filter, state, orderby, ordertype);\r\n          break;\r\n        }\r\n\r\n      }\r\n  }\r\n\r\n\r\n\r\n  private async loadInboxResultsData(data, filter, state, orderby) {\r\n\r\n    // Create a navigation context part\r\n    const parameters = {\r\n      filter: filter || undefined,\r\n      state: state || undefined,\r\n      orderby: orderby || undefined,\r\n      pagination: this.pagination,\r\n    };\r\n    const site = this.stateSnapshotService.getSite();\r\n    const url = (_.first(_.values(site.environments[site.defaultEnvironment].projects)) as any).url;\r\n    const response = await this.bizagiDataServices.getInbox(url, parameters, this.pagination);\r\n    if (response) {\r\n      this.setResponseData(response, 'Inbox');\r\n    } else {\r\n      this.isDataError = true;\r\n    }\r\n  }\r\n\r\n  private async loadMyCasesResultsData(data, filter, state, orderby, ordertype) {\r\n    let processesId;\r\n    if (this.control.parameters['data']?.processes) {\r\n      processesId = _.map(this.control.parameters['data'].processes, 'id');\r\n    } else if (this.parameters['data']?.processes) {\r\n      processesId = _.map(this.parameters['data'].processes, 'id');\r\n    }\r\n    \r\n    const parameters = {\r\n      filter: filter || undefined,\r\n      state: state || undefined,\r\n      orderby: orderby || undefined,\r\n      ordertype: ordertype || undefined,\r\n      pagination: this.pagination, \r\n      processes : processesId || []\r\n    };\r\n    const site = this.stateSnapshotService.getSite();\r\n    const url = (_.first(_.values(site.environments[site.defaultEnvironment].projects)) as any).url;\r\n    const processId: string = Global.isOnRenderMode() && this.parameters.processId ? this.parameters.processId : '';\r\n    const response = processId ? await this.bizagiDataServices.getDataByProcessId(url, parameters, processId)\r\n      : await this.bizagiDataServices.getMyCases(url, parameters);\r\n    if (response) {\r\n      this.setResponseData(response, 'mycases');\r\n    } else {\r\n      this.isDataError = true;\r\n    }\r\n  }\r\n\r\n  private setResponseData(response: IBizagiDataResult, dataType?: string) {\r\n    this.cultureService.getPreferences().subscribe((userPreferences: IUserPreferences) => {\r\n      this._userPreferences = userPreferences;\r\n      this._currentUserPreferences = this._userPreferences;\r\n      switch (dataType) {\r\n        case 'Inbox':\r\n          this._setResponseDataInbox(response);\r\n          break;\r\n        case 'mycases':\r\n          this._setResponseDataMyCases(response);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  private _setResponseDataMyCases(response: any) {\r\n    this.pagination.totalItems = response.dataCount;\r\n    this.pagination.totalPages = response.dataCount ? _.ceil(response.dataCount / this.pagination.rows) : 0;\r\n    this.pagination.pages = this.pagination.totalPages < this.pagination.intervalSize ?\r\n      Array.from(Array(this.pagination.totalPages).keys()) : Array.from(Array(this.pagination.intervalSize).keys());\r\n    this._data = this.transformDataMyCases(response);\r\n    this.isDataReady = true;\r\n  }\r\n\r\n  private _setResponseDataInbox(response: IBizagiDataResult) {\r\n    this.pagination.totalItems = response.count;\r\n    this.pagination.totalPages = response.count ? _.ceil(response.count / this.pagination.rows) : 0;\r\n    this.pagination.pages = this.pagination.totalPages < this.pagination.intervalSize ?\r\n      Array.from(Array(this.pagination.totalPages).keys()) : Array.from(Array(this.pagination.intervalSize).keys());\r\n    this.bizagiEntity = response.bizagiEntity;\r\n    const inboxData = response.instances;\r\n    _.each(inboxData, (inboxCase) => {\r\n      inboxCase.creationDate = this.cultureService.dateTimeFormat(\r\n        inboxCase.creationDate,\r\n        ECultureDateTypes.dateTime,\r\n        this._currentUserPreferences);\r\n      inboxCase.estimatedSolutionDate = this.cultureService.dateTimeFormat(\r\n        inboxCase.estimatedSolutionDate,\r\n        ECultureDateTypes.dateTime,\r\n        this._currentUserPreferences);\r\n      _.each(inboxCase.workitems, (workitem) => {\r\n        workitem.estimatedSolutionDate = this.cultureService.dateTimeFormat(\r\n          workitem.estimatedSolutionDate,\r\n          ECultureDateTypes.dateTime,\r\n          this._currentUserPreferences);\r\n      });\r\n    });\r\n    this._data = {data: inboxData, dataCount: response.count} as any;\r\n    this.isDataReady = true;\r\n    if (!this.cdr.destroyed) {\r\n      this.cdr.detectChanges();\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  private transformDataMyCases(response): any {\r\n    const data = response.data;\r\n    let headers = response.headers;\r\n    headers = _.filter(headers, (header)=> !_.includes(this.unsupportedColumns,header.key));\r\n    const dataCount = response.dataCount;\r\n    const dataFormatted = [];\r\n    _.forEach(data, (row: any) => {\r\n      const keys = _.keys(row);\r\n      const newRow = {};\r\n      _.forEach(keys, (key => {\r\n        const header = _.find(headers, (h) => h.key === key);\r\n        if (header) {\r\n          switch (header.type.toLowerCase()) {\r\n            case 'datetime':\r\n              newRow[key] = this.cultureService.dateTimeFormat(row[key], ECultureDateTypes.dateTime, this._currentUserPreferences);\r\n              break;\r\n\r\n            case 'money':\r\n              newRow[key] = this.cultureService.currencyFormat(row[key], this._currentUserPreferences);\r\n              break;\r\n\r\n            case 'float':\r\n              if (row[key] && this.cultureService.countDecimals(row[key]) > 2) {\r\n                newRow[key] = parseFloat(row[key]).toFixed(2);\r\n              }\r\n              break;\r\n\r\n            case 'image':\r\n              // When the data is an image, add the prefix for image64\r\n              if (Global.isBizagiImage(row[key])) {\r\n                newRow[key] = row[key] ? Global.getBizagiImageUrl(row[key]) : null;\r\n              }\r\n              break;\r\n\r\n            default:\r\n              newRow[key] = row[key];\r\n              break;\r\n          }\r\n        } else {\r\n          newRow[key] = row[key];\r\n        }\r\n      }));\r\n      dataFormatted.push(newRow);\r\n    })\r\n    return { data: dataFormatted, headers, dataCount };\r\n  }\r\n\r\n\r\n  private _updatePagination() {\r\n    this.pagination.rows = this.styles.displayedItems || 5;\r\n  }\r\n\r\n  private _refreshFixedPages(data: any) {\r\n    const pages: any[] = [];\r\n    for (let i = 0; i < Math.ceil(data.length / this.pagination.rows); i++) {\r\n      pages.push(i);\r\n    }\r\n    return pages;\r\n  }\r\n\r\n}\r\n","enum EControlDataSource {\r\n  Fixed,\r\n  Dynamic,\r\n  Context\r\n}\r\n\r\nexport { EControlDataSource };\r\n","<div class=\"render-component-container\"\r\n  [ngClass]=\"{'render-component-container__loading': showCustomLoader && loading?.loadingWebparts}\">\r\n  <bzg-loading *ngIf=\"showCustomLoader && loading?.loadingWebparts && currentComponent.control?.type === 'image'\" size=\"l\" class=\"bs-loader-bars--centered\"></bzg-loading>\r\n  <div #gridrendercell></div>\r\n</div>","import { getLoadingRender } from './../../store/loading/loading.selector';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  ReflectiveInjector,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PageRenderingService } from 'app/common/services/sites/page-rendering.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BizagiDataService } from 'app/render/services/bizagi-data.service';\r\nimport { ControlsService } from 'app/common/services/sites/controls.service';\r\nimport { CultureSettingsService } from 'app/common/services/sites/culture-settings.service';\r\nimport { BaseDataControlComponent } from 'app/common/controls/base-data.component';\r\nimport { BaseProcessControlComponent } from 'app/common/controls/base-process.component';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { BaseSearchComponent } from '../../../common/controls/base-search.component';\r\nimport { StateSnapshotService } from '../../../common/services/sites/state-snapshots.service';\r\nimport { getSiteLanguage, getLastBpmLanguage } from '../../store/multilanguage/multilanguage.selector';\r\nimport { getPageContext } from '../../store/page/page.selector';\r\nimport { getPageData } from '../../store/page-data/page-data.selector';\r\nimport { getSiteUser } from 'app/render/store/user/user.selector';\r\nimport { BaseInboxControlComponent } from '../../../common/controls/base-inbox.component';\r\nimport { debounceTime, share, takeUntil } from 'rxjs/operators';\r\nimport { EControlDataSource } from 'app/editor/models/EControlDataSource';\r\n\r\n// TODO: This and grid.panel.cell.component are almost the same, we nned to find a way to remove duplicate code\r\n@Component({\r\n  selector: 'bs-grid-cell-renderer',\r\n  templateUrl: './grid-cell-render.component.html',\r\n  styleUrls: ['./grid-render.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.Default,\r\n})\r\nexport class GridCellRenderComponent {\r\n  @Input() currentLanguage: ILanguageResource;\r\n  @ViewChild('gridrendercell', { read: ViewContainerRef, static: true }) viewContainerRef: ViewContainerRef;\r\n  @Output() loadingWebparts: EventEmitter<any> = new EventEmitter();\r\n\r\n  public onSetCurrentControl: EventEmitter<IControl> = new EventEmitter<IControl>();\r\n  public currentComponent;\r\n  public loading: any;\r\n  public showCustomLoader = false;\r\n  private _currentLanguageSubscription: Subscription;\r\n  private _pageContextSubscription: Subscription;\r\n  private _pageDataSubscription: Subscription;\r\n  private _lastBPMLanguageSubscription: Subscription;\r\n  private _loadingSubscription: Subscription;\r\n  private unsubscribeCurrentUser$: Subject<void> = new Subject<void>();\r\n\r\n  @Input() set control(control: IControl) {\r\n    if (!control) {\r\n      return;\r\n    }\r\n    // Inputs need to be in the following format to be resolved properly\r\n    const inputProviders = Object.keys(control).map(inputName => {\r\n      return { provide: inputName, useValue: control[inputName] };\r\n    });\r\n    const resolvedInputs = ReflectiveInjector.resolve(inputProviders);\r\n\r\n    // We create an injector out of the data we want to pass down and this components injector\r\n    const injector = ReflectiveInjector.fromResolvedProviders(resolvedInputs, this.viewContainerRef.parentInjector);\r\n\r\n    // We create a factory out of the component we want to create\r\n    const controlComponent = this._controlsServices.getControlComponentByType(control.type);\r\n    const factory = this._resolver.resolveComponentFactory(controlComponent);\r\n\r\n    // We create the component using the factory and the injector\r\n    const component = factory.create(injector);\r\n\r\n    // We insert the component into the dom container\r\n    this.viewContainerRef.insert(component.hostView);\r\n\r\n    // We can destroy the old component is we like by calling destroy\r\n    if (this.currentComponent && this.currentComponent.destroy) {\r\n      this.currentComponent.destroy();\r\n    }\r\n\r\n    this.currentComponent = component.instance;\r\n\r\n    if (this.currentComponent instanceof BaseDataControlComponent\r\n      || this.currentComponent instanceof BaseInboxControlComponent) {\r\n      this.currentComponent.setStore(this._store);\r\n      this.currentComponent.setServices(\r\n        this._route,\r\n        this._router,\r\n        this._translateService,\r\n        this._bizagiDataServices,\r\n        this._pageRenderingService\r\n      );\r\n    } else if (this.currentComponent instanceof BaseProcessControlComponent) {\r\n      this.currentComponent.setServices(this._pageRenderingService, this._bizagiDataServices);\r\n    } else if (this.currentComponent instanceof BaseSearchComponent) {\r\n      this.currentComponent.setStore(this._store);\r\n    }\r\n\r\n\r\n    this.currentComponent.setBaseServices(this._stateSnapshots, null, this._cultureService);\r\n\r\n    // Set the control information\r\n    this.currentComponent.enableRenderingMode();\r\n    this.currentComponent.setCurrentLanguage(this.currentLanguage);\r\n    this.currentComponent.setControl(control, this._changeDetectorRef);\r\n    this.currentComponent.loadParameters(control.parameters, control.parametersBinding);\r\n    this._startSupscriptions(control);\r\n  }\r\n\r\n  constructor(\r\n    private _resolver: ComponentFactoryResolver,\r\n    private _controlsServices: ControlsService,\r\n    private _bizagiDataServices: BizagiDataService,\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    private _pageRenderingService: PageRenderingService,\r\n    private _stateSnapshots: StateSnapshotService,\r\n    private _translateService: TranslateService,\r\n    private _store: Store<IRenderState>,\r\n    private _cultureService: CultureSettingsService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this._pageDataSubscription = this._store\r\n      .pipe(select(getPageData))\r\n      .subscribe((pageData: any) => {\r\n        if (pageData) {\r\n          this.currentComponent.setBoundParameters(pageData);\r\n        }\r\n      });\r\n\r\n    const currentUser = this._store.pipe(debounceTime(300), select(getSiteUser), share());\r\n\r\n    if (this.currentComponent instanceof BaseDataControlComponent) {\r\n      currentUser.pipe(takeUntil(this.unsubscribeCurrentUser$.asObservable()))\r\n        .subscribe(() => {\r\n          this.currentComponent.refreshSubject.next();\r\n        })\r\n    }\r\n\r\n    if (this.currentComponent instanceof BaseInboxControlComponent) {\r\n      this._lastBPMLanguageSubscription = this._store\r\n        .pipe(debounceTime(300), select(getLastBpmLanguage))\r\n        .subscribe((lastBpmLanguage: string) => {\r\n          if (lastBpmLanguage) {\r\n            this.currentComponent.refreshSubject.next(this.loading);\r\n          }\r\n        });\r\n\r\n      currentUser.pipe(takeUntil(this.unsubscribeCurrentUser$.asObservable()))\r\n        .subscribe(() => {\r\n          this.currentComponent.refreshSubject.next(this.loading);\r\n        });\r\n    }\r\n\r\n    if (this.currentComponent instanceof BaseInboxControlComponent ||\r\n      this.currentComponent instanceof BaseDataControlComponent ||\r\n      this.currentComponent instanceof BaseProcessControlComponent) {\r\n      this._loadingSubscription = this._store.pipe(select(getLoadingRender))\r\n        .subscribe((loading: any) => {\r\n          this.loading = loading;\r\n          if (this.currentComponent instanceof BaseInboxControlComponent ||\r\n            this.currentComponent.control?.parameters?.data?.dataSource === EControlDataSource.Dynamic ||\r\n            this.currentComponent.link?.type === 'processes') {\r\n            this.currentComponent.isProcessLoading = this.loading.loadingWebparts;\r\n            this.showCustomLoader = true;\r\n          }\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._pageDataSubscription?.unsubscribe();\r\n    this._pageContextSubscription?.unsubscribe();\r\n    this._currentLanguageSubscription?.unsubscribe();\r\n    this._lastBPMLanguageSubscription?.unsubscribe();\r\n    this._loadingSubscription?.unsubscribe();\r\n    this.unsubscribeCurrentUser$?.next();\r\n    this.unsubscribeCurrentUser$?.unsubscribe();\r\n  }\r\n\r\n  public setCurrentControl(control: IControl) {\r\n    this.onSetCurrentControl.emit(control);\r\n  }\r\n\r\n  private _startSupscriptions(control: IControl) {\r\n    // Current language state suscription\r\n    this._currentLanguageSubscription = this._store.pipe(select(getSiteLanguage))\r\n      .subscribe((currentLanguage: ILanguageResource) => {\r\n        this.currentComponent.setCurrentLanguage(currentLanguage);\r\n        // Load parameters\r\n        this.currentComponent.loadParameters(control.parameters, control.parametersBinding);\r\n        if (\r\n          this.currentComponent.controlDefinition.category === 'bundle' ||\r\n          this.currentComponent.controlDefinition.subcategory === 'Inbox'\r\n        ) {\r\n          if (location.href.indexOf('parameters.filter') < 0) {\r\n            this.currentComponent.refreshSubject.next();\r\n          }\r\n          if (location.href.indexOf('parameters.filter') >= 0 && location.href.indexOf(this.currentComponent.control.id) < 0) {\r\n            this.currentComponent.refreshSubject.next();\r\n          }\r\n        }\r\n      });\r\n\r\n    if (this.currentComponent instanceof BaseDataControlComponent) {\r\n      this._pageContextSubscription = this._store\r\n        .pipe(select(getPageContext))\r\n        .subscribe(() => {\r\n          if (location.href.indexOf('parameters.filter') < 0) {\r\n            this.currentComponent.refreshSubject.next();\r\n          }\r\n          if (location.href.indexOf('parameters.filter') >= 0 && location.href.indexOf(this.currentComponent.control.id) < 0) {\r\n            this.currentComponent.refreshSubject.next();\r\n          }\r\n        });\r\n    }\r\n    if (this.currentComponent instanceof BaseSearchComponent) {\r\n      this.currentComponent.setServices(this._pageRenderingService);\r\n    }\r\n\r\n  }\r\n}\r\n","\r\nexport class GlobalConstants {\r\n  public static REGEXIMAGESALLOWED = /png|jpg|jpeg/;\r\n  public static REGEXIMAGESURL = /^((http(s?):|data:image)([/|.|\\w|\\s|-|\\W])*|.+bz-default-image.+)$/;\r\n  public static REGEXURL = /^((?:http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*))|((https?:\\/.*):(\\d*)\\/?(.*))/g;\r\n  public static REGEXSPECIALCHARACTERS = /^[^_@!#$%^&*()\\-+={}\\[\\]|\\\\/\\'\\\";:`.,~№?<>¬]*$/;\r\n  public static REGEXSPECIALCHARACTERS_DISPLAY_NAME = /^[^@!#$%^&*()\\-+={}\\[\\]|\\\\/\\'\\\";:`.,~№?<>¬\\s]$|^[^@!#$%^&*()\\-+={}\\[\\]|\\\\/\\'\\\";:`.,~№?<>¬\\s][^@!#$%^&*()\\-+={}\\[\\]|\\\\/\\'\\\";:`.,~№?<>¬]*[^@!#$%^&*()\\-+={}\\[\\]|\\\\/\\'\\\";:`.,~№?<>¬\\s]$/;\r\n  public static REGEXSPECIALCHARACTERS_PUBLISH = /^[^@!#$%^&*()\\+={}\\[\\]|\\\\/'\";:`.,~№?<>]*$/;\r\n  public static SELECTED_CONTROLS_CLASS = 'bs-ctrl--selected';\r\n  public static GRID_PANEL_ID = 'bs-grid-container';\r\n  public static GRID_PANEL_SIZE = 10000;\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {GlobalConstants} from '../../misc/global-constants';\r\n\r\n\r\n@Injectable()\r\nexport class GridService {\r\n\r\n\r\n  public getContainerHeight() {\r\n      const nodes = $('.bs-grid-panel-control.bs-ctrl') as any;\r\n      const hero = $('.bs-ctrl.bs-ctrl--hero');\r\n      const footer = $('.bs-footer');\r\n      const maxNodes = _.reduce(nodes, function(node, n) { return Math.max(node, $(n).position().top + $(n).height()); }, 0);\r\n      let maxHero = 0;\r\n      if (hero.length) {\r\n        maxHero = hero.position().top + hero.height() - (footer.length ? footer.height() : 0);\r\n      }\r\n      return maxNodes > maxHero ? maxNodes : maxHero;\r\n  }\r\n\r\n\r\n  public adjustContainerResolution(container: any) {\r\n      const windowWidth = $(window).width();\r\n      const containerHeight = this.getContainerHeight();\r\n\r\n      if (windowWidth > 1200) {\r\n        container.css({zoom: 1, width: GlobalConstants.GRID_PANEL_SIZE});\r\n        container.css({left: ((windowWidth - container.width()) / 2)});\r\n        container.parent().height(containerHeight);\r\n      } else if (windowWidth < 1200 && windowWidth > 769){\r\n        container.css({zoom: 0.8, width: 9760});\r\n        container.css({left: ((windowWidth - container.width()) / 2)});\r\n        container.parent().height(containerHeight - (containerHeight * 0.2));\r\n      } else {\r\n        container.css({zoom: 0.7, width: 1200});\r\n        container.css({left: ((windowWidth - 9000) / 2)});\r\n        container.parent().height(containerHeight - (containerHeight * 0.2));\r\n      }\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"bs-body-section\" id=\"bs-page-renderer\" [style.padding-bottom]=\"site?.footer?.styles?.showFooter === false? '60px' : '160px'\" \r\n[ngClass]=\"{'bs-body-section--hidden': isLoading}\">\r\n  <div class=\"bs-page-grid\">\r\n    <div id=\"bs-grid-container\" class=\"bs-grid-container\">\r\n      <div class=\"bs-grid-panel-control bs-ctrl\"\r\n           *ngFor=\"let control of controls; let i = index; trackBy: trackByFn \"\r\n           [attr.id]=\"control.id\"\r\n           [style.left]=\"(control.location && control.location.x?control.location.x: 0) + 'px'\"\r\n           [style.top]=\"(control.location && control.location.y? control.location.y: 0) + 'px'\"\r\n           [style.width]=\"(control.location && control.location.width?control.location.width:1) + 'px'\"\r\n           [style.height]=\"(control.location && control.location.height?control.location.height:1) + 'px'\"\r\n           [class] = \"(control.styles?.layout ? 'bs-ctrl-layout-' + control.styles.layout : '')\r\n              + (control.styles?.designCompressed ? ' bs-ctrl-design-compressed-' + control.styles.designCompressed : '')\r\n              + (control.styles?.designActions ? ' bs-ctrl-design-action-' + control.styles.designActions : '')\"\r\n           [ngClass]=\"{\r\n           'bs-ctrl-size--25': checkSize(control, 25),\r\n           'bs-ctrl-size--30': checkSize(control, 30),\r\n           'bs-ctrl-size--50': checkSize(control, 50),\r\n           'bs-ctrl-size--75': checkSize(control, 75),\r\n           'bs-ctrl-size--80': checkSize(control, 80)\r\n         }\">\r\n        <div\r\n          class=\"bs-ctrl__content\"\r\n          *ngIf=\"currentLanguage\">\r\n          <bs-grid-cell-renderer\r\n          [currentLanguage]=\"currentLanguage\" [control]=\"control\">\r\n          </bs-grid-cell-renderer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n","import {debounceTime} from 'rxjs/operators';\r\nimport {ControlsService} from './../../../common/services/sites/controls.service';\r\nimport {ChangeDetectorRef, Component, ElementRef, Input, NgZone, QueryList, ViewChildren} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {Observable, Subject, Subscription} from 'rxjs';\r\nimport {ActivatedRoute, NavigationExtras, Router} from '@angular/router';\r\nimport {BaseDataControlComponent} from 'app/common/controls/base-data.component';\r\nimport {GridCellRenderComponent} from 'app/render/page-render/grid-render/grid-cell-render.component';\r\nimport {Global} from 'app/common/misc/global';\r\nimport {select, Store} from '@ngrx/store';\r\nimport {GridService} from '../../../common/services/sites/grid.service';\r\nimport {UpdateGridSize} from '../../store/grid/grid.actions';\r\nimport {getCurrentSite} from '../../store/site/site.selector';\r\nimport {getCurrentPage} from '../../store/page/page.selector';\r\nimport {getGrid} from '../../store/grid/grid.selector';\r\nimport {getSiteLanguage} from '../../store/multilanguage/multilanguage.selector';\r\n\r\n@Component({\r\n  selector: 'bs-grid-render',\r\n  templateUrl: './grid-render.component.html',\r\n  styleUrls: ['./grid-render.component.scss'],\r\n})\r\nexport class GridRenderComponent {\r\n  @Input() controls: Array<IControl>;\r\n  @ViewChildren(GridCellRenderComponent) children: QueryList<GridCellRenderComponent>;\r\n\r\n  public renders: { [key: string]: BaseControlComponent } = {};\r\n  public deviceType = Global.getScreenSize();\r\n  public gridLayoutWidth = 0;\r\n  public showGrid = false;\r\n  public isLoading = false;\r\n\r\n  public site: ISite;\r\n  private page: IPage;\r\n  private projectId: string;\r\n  private element: any;\r\n  private pageParams: { [key: string]: string };\r\n  private _paramsSubscription: Subscription;\r\n  private gridSubscription: Subscription;\r\n  private _onGridChanges = new Subject();\r\n  private _whenChangeSubject = new Subject();\r\n  public currentLanguage: ILanguageResource;\r\n  private _currentLanguageSubscription: Subscription;\r\n  private _grid: any;\r\n  private _container: any;\r\n  private _currentSiteSubscription: Subscription;\r\n  private _currentPageSubscription: Subscription;\r\n\r\n  constructor(\r\n    private _elementReference: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _ngZone: NgZone,\r\n    private _controlsServices: ControlsService,\r\n    private _gridService: GridService,\r\n    private _store: Store<IRenderState>\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this._currentSiteSubscription = this._store.pipe(select(getCurrentSite)).subscribe(async (site: ISite) => {\r\n      if (site) {\r\n        this.site = site;\r\n        this.projectId = site.projectId;\r\n      }\r\n    });\r\n    this._currentPageSubscription = this._store.pipe(select(getCurrentPage)).subscribe(async (page: IPage) => {\r\n      if (page) {\r\n        this.page = page;\r\n      }\r\n    });\r\n\r\n    const pageSize = this.page.grid.size;\r\n    this._store.dispatch(new UpdateGridSize(pageSize));\r\n    this._paramsSubscription = this._route.queryParams.subscribe(params => {\r\n      this.pageParams = params;\r\n     this._currentLanguageSubscription = this._store.pipe(select(getSiteLanguage)).subscribe((currentLanguage: ILanguageResource) => {\r\n        if (currentLanguage) {\r\n          this.currentLanguage = currentLanguage;\r\n          setTimeout(() => {\r\n            this.initializeGridAndControls();\r\n          }, 300);\r\n        }\r\n      });\r\n    });\r\n    this._onGridChanges.pipe(debounceTime(400)).subscribe((params: any) => {\r\n      const screenSize = (params.target as any).innerWidth;\r\n      if (screenSize) {\r\n        this._store.dispatch(new UpdateGridSize(pageSize));\r\n      }\r\n    });\r\n    this._whenChangeSubject.pipe(debounceTime(200)).subscribe((value:{instance, params})=>{\r\n      this.onControlChanged(value.instance, value.params);\r\n    });\r\n    this.gridSubscription = this._store.pipe(select(getGrid)).subscribe((grid: IGrid) => {\r\n      if (grid && !_.isEmpty(grid)) {\r\n        this._grid = grid;\r\n        this.gridLayoutWidth = grid.layoutSize;\r\n        if (grid.size && grid.prev.size) {\r\n          if (grid.size !== grid.prev.size) {\r\n            this.isLoading = true;\r\n            // Global.adjustGridNodesToLayout(grid, this.controls, this._gridstack);\r\n            this.isLoading = false;\r\n          }\r\n        }\r\n      }\r\n    });\r\n    window.onresize = params => {\r\n      this._onGridChanges.next(params);\r\n      if (this._container) {\r\n        this.updateContainer();\r\n      }\r\n    };\r\n    $(window).resize();\r\n  }\r\n\r\n  public ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      this._container = ($('#bs-grid-container') as any);\r\n      this.updateContainer();\r\n    }, 0);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._onGridChanges.unsubscribe();\r\n    this._currentLanguageSubscription.unsubscribe();\r\n    this.gridSubscription.unsubscribe();\r\n    this._paramsSubscription.unsubscribe();\r\n    this._currentSiteSubscription.unsubscribe();\r\n    this._currentPageSubscription.unsubscribe();\r\n  }\r\n\r\n  private async initializeGridAndControls() {\r\n    // Retrieve native DOM instance\r\n    this.element = $('#grid-stack-render', this._elementReference.nativeElement);\r\n    if (this.children !== null) {\r\n      // Iterate over children to build the list of current renders\r\n      this.children.toArray().forEach((child: GridCellRenderComponent) => {\r\n        // Add to render hash\r\n        const instance = child.currentComponent;\r\n        const control = instance.getControl();\r\n        this.renders[control.id] = instance;\r\n\r\n        // Bind control change to this receptor\r\n        instance.whenChanged(params => {\r\n          this._whenChangeSubject.next({instance, params});\r\n        });\r\n\r\n        // if the component has a dynamic size, bind the resize handler\r\n        const definition = instance.controlDefinition;\r\n        if (definition.defaultSize.dynamic) {\r\n          instance.onResize.subscribe(size => {\r\n            // this.resize(child.currentComponent.control, size.width, size.height);\r\n          });\r\n        }\r\n      });\r\n\r\n      // If We have pageParams we need to fetch the mappings\r\n      if (_.keys(this.pageParams).length > 0) {\r\n        _.each(this.pageParams, (value: any, key: string) => {\r\n          const urlKeyyParts = key.split(':');\r\n          if (urlKeyyParts.length === 4) {\r\n            const targetControlId = urlKeyyParts[0];\r\n            const output = urlKeyyParts[1];\r\n            const property = urlKeyyParts[2];\r\n            const xpath = urlKeyyParts[3];\r\n            if (this.renders[targetControlId]) {\r\n              (this.renders[targetControlId] as BaseDataControlComponent).setXpathFilter(output, xpath);\r\n              this.renders[targetControlId].updateProperty(property, value);\r\n              this._changeDetectorRef.detectChanges();\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  private async onControlChanged(source: BaseControlComponent, params: IControlActionNotification) {\r\n    // Use the params to fetch the action from the control\r\n    const control = source.getControl();\r\n    if (control.actions === null) {\r\n      return;\r\n    }\r\n    const action = control.actions[params.action];\r\n    if (action === null) {\r\n      return;\r\n    }\r\n\r\n    // Change property events\r\n    if (action.type === 'changeProperty') {\r\n      // Find the target, and set the property based on the mapped param\r\n      const targets = (action as IControlActionChangeProperty).targets;\r\n      for (const targetId in targets) {\r\n        if (targets[targetId]) {\r\n          const targetRender = this.renders[targetId];\r\n          // Each entry from this hash is a component, but inside it could have multiple properties set,\r\n          // so we\"ve defined an array of property targets\r\n          targets[targetId].forEach(target => {\r\n            const property = target.property;\r\n            const value = params.value[target.output];\r\n            if(!!targetRender){\r\n              (targetRender as BaseDataControlComponent).setXpathFilter(target.output, target.xpath);\r\n              targetRender.updateProperty(property, value);\r\n\r\n              if (target.output === 'category') {\r\n                (targetRender as BaseDataControlComponent).setTypeSearch(target.typeFilter);\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n    } else if (action.type === 'navigate') {\r\n      const targets = (action as IControlActionNavigation).targets;\r\n\r\n      const targetUrl = {};\r\n      _.forEach(targets, (outputs: Array<IControlActionProperty>, controlId: string) => {\r\n        outputs.forEach((output: IControlActionProperty) => {\r\n          targetUrl[controlId + ':' + output.output + ':' + output.property + ':' + output.xpath]  = params.value[output.output];\r\n        });\r\n      });\r\n     const navigationExtras: NavigationExtras = {\r\n        queryParams: targetUrl,\r\n      };\r\n      this._router.navigate([this.site.url, this.site.references[(action as IControlActionNavigation).pageId]], navigationExtras);\r\n    }\r\n  }\r\n\r\n  public trackByFn(index, item) {\r\n    return item.id;\r\n  }\r\n\r\n  public checkSize(control: IControl, size: number): boolean {\r\n    if (this._grid && this.gridLayoutWidth) {\r\n      return Global.checkSize(control, size, this.deviceType, this._grid);\r\n    }\r\n  }\r\n\r\n  public updateContainer() {\r\n    this._ngZone.runOutsideAngular(() => {\r\n      this._gridService.adjustContainerResolution(this._container);\r\n    });\r\n  }\r\n}\r\n","<div class=\"bs-user-preferences\" *ngIf=\"formatOptions && languageCulture\">\r\n    <p class=\"bs-user-preferences__description\" *ngIf=\"showDescription\">\r\n        {{ 'siteeditor.cultureconfig.GENERAL_DESCRIPTION' | translate }}\r\n    </p>\r\n    <h2 class=\"bs-user-preferences__section-title\">{{ 'siteeditor.cultureconfig.DATE_TIME_TITLE_SECTION' | translate }}</h2>\r\n    <div class=\"bs-form-group\">\r\n        <div class=\"bs-user-preferences__block\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.DATE_FORMAT' | translate }}\r\n            </label>\r\n            <div class=\"bs-user-preferences__block bs-user-preferences__block--row\">\r\n                  <div  class=\"bs-user-preferences__checkbox-container\">\r\n                   <bzg-checkbox [disabled]=\"disableContent\" [checked]=\"languageCulture.dateFormatStyle === 0\" (change)=\"onChangeCheck('dateFormatStyle', 0)\">\r\n                        {{ 'siteeditor.cultureconfig.LONG_DATE_FORMAT' | translate }} \r\n                    </bzg-checkbox>\r\n                </div>\r\n                <div class=\"bs-user-preferences__checkbox-container\">\r\n                       <bzg-checkbox [disabled]=\"disableContent\" [checked]=\"languageCulture.dateFormatStyle === 1\" (change)=\"onChangeCheck('dateFormatStyle', 1)\">\r\n                        {{ 'siteeditor.cultureconfig.SHORT_DATE_FORMAT' | translate }}\r\n                    </bzg-checkbox>\r\n                </div>\r\n            </div> \r\n        </div>\r\n        <div class=\"bs-user-preferences__block\" *ngIf=\"languageCulture.dateFormatStyle === 0\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.LONG_DATE_FORMAT' | translate }}\r\n            </label>\r\n            <bzg-select [disabled]=\"disableContent\" [(ngModel)]=\"languageCulture.dateFormatLong\" (valueChange)=\"onChangeSelect('dateFormatLong', $event)\">\r\n                <bzg-option *ngFor=\"let option of formatOptions.dateFormat.long\"\r\n                    [value]=\"option\">\r\n                        {{ option }}\r\n                </bzg-option>\r\n            </bzg-select>\r\n        </div>\r\n        <div class=\"bs-user-preferences__block\" *ngIf=\"languageCulture.dateFormatStyle === 1\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.SHORT_DATE_FORMAT' | translate }}\r\n            </label>\r\n            <bzg-select [disabled]=\"disableContent\" [(ngModel)]=\"languageCulture.dateFormatShort\" (valueChange)=\"onChangeSelect('dateFormatShort', $event)\">\r\n                <bzg-option *ngFor=\"let option of formatOptions.dateFormat.short\"\r\n                    [value]=\"option\">\r\n                        {{ option }}\r\n                </bzg-option>\r\n            </bzg-select>\r\n        </div>\r\n        <div class=\"bs-user-preferences__block\"  *ngIf=\"languageCulture.dateFormatStyle === 1\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.DATE_SEPARATOR' | translate }}\r\n            </label>\r\n            <bzg-select [disabled]=\"disableContent\" [(ngModel)]=\"languageCulture.dateSeparator\" (valueChange)=\"onChangeSelect('dateSeparator', $event)\">\r\n                <bzg-option *ngFor=\"let option of formatOptions.dateFormat.separator; let i = index\"\r\n                    [value]=\"option.value\">\r\n                    <div style=\"display:flex;justify-content:space-between;\">\r\n                        <span *ngIf=\"i > 0\">&#34;{{ option.value }}&#34; {{ option.label | translate  }}</span>\r\n                        <span *ngIf=\"i === 0\"> - {{ option.label | translate  }}</span>\r\n                    </div>\r\n                </bzg-option>\r\n            </bzg-select>\r\n        </div>\r\n        <div class=\"bs-user-preferences__block\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.TIME' | translate }}\r\n            </label>\r\n            <bzg-select [disabled]=\"disableContent\" [(ngModel)]=\"languageCulture.timeFormat\" (valueChange)=\"onChangeSelect('timeFormat', $event)\">\r\n                <bzg-option *ngFor=\"let option of formatOptions.timeFormat; let i=index\"\r\n                    [value]=\"option.format\">\r\n                    <div style=\"display:flex;justify-content:space-between;\">\r\n                        <span *ngIf=\"i > 0\">{{ option.label | translate }}</span>\r\n                        <span *ngIf=\"i === 0\"> - {{ option.label | translate }}</span>\r\n                    </div>\r\n                </bzg-option>\r\n            </bzg-select>\r\n        </div>\r\n    </div>\r\n    <h2 class=\"bs-user-preferences__section-title\">{{ 'siteeditor.cultureconfig.CUSTOM_NUMBERS_TITLE_SECTION' | translate }}</h2>\r\n    <div class=\"bs-form-group\">\r\n        <div class=\"bs-user-preferences__block\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.DECIMAL_SEPARATOR' | translate }}\r\n            </label>\r\n            <bzg-select [disabled]=\"disableContent\" [(ngModel)]=\"languageCulture.decimalSeparator\" (valueChange)=\"onChangeSelect('decimalSeparator', $event)\">\r\n                <bzg-option *ngFor=\"let option of formatOptions.numbersFormat.decimalSeparator; let i = index\"\r\n                    [value]=\"option.value\">\r\n                    <div style=\"display:flex;justify-content:space-between;\">\r\n                        <span *ngIf=\"i > 0\">&#34;{{ option.value }}&#34; {{ option.label | translate  }}</span>\r\n                        <span *ngIf=\"i === 0\"> - {{ option.label | translate  }}</span>\r\n                    </div>\r\n                </bzg-option>\r\n            </bzg-select>\r\n        </div>\r\n        <div class=\"bs-user-preferences__block\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.THOUSANDS_SEPARATOR' | translate }}\r\n            </label>\r\n            <bzg-select [disabled]=\"disableContent\" [(ngModel)]=\"languageCulture.thousandsSeparator\" (valueChange)=\"onChangeSelect('thousandsSeparator', $event)\">\r\n                <bzg-option *ngFor=\"let option of formatOptions.numbersFormat.thousandsSeparator; let i = index\"\r\n                    [value]=\"option.value\">\r\n                    <div style=\"display:flex;justify-content:space-between;\">\r\n                        <span *ngIf=\"i > 0\">&#34;{{ option.value }}&#34; {{ option.label | translate  }}</span>\r\n                        <span *ngIf=\"i === 0\"> - {{ option.label | translate  }}</span>\r\n                        <span>{{ option.sample }}</span>\r\n                    </div>\r\n                </bzg-option>\r\n            </bzg-select>\r\n        </div>\r\n        <div class=\"bs-user-preferences__block\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.DECIMAL_DIGITS' | translate }}\r\n            </label>\r\n            <bzg-input [disabled]=\"disableContent\" type=\"number\" [(ngModel)]=\"languageCulture.decimalDigits\" (change)=\"onChangeInputNumber($event)\">\r\n            </bzg-input>\r\n        </div>\r\n        <div class=\"bs-user-preferences__block\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.NEGATIVE_NUMBER' | translate }}\r\n            </label>\r\n            <bzg-select [disabled]=\"disableContent\" [(ngModel)]=\"languageCulture.negativeNumbers\" (valueChange)=\"onChangeSelect('negativeNumbers', $event)\">\r\n                <bzg-option *ngFor=\"let option of formatOptions.numbersFormat.negative; let i = index\"\r\n                    [value]=\"option.value\">\r\n                    <div style=\"display:flex;justify-content:space-between;\">\r\n                        <span *ngIf=\"i > 0\">{{ option.label | translate }}</span>\r\n                        <span *ngIf=\"i === 0\"> - {{ option.label | translate }}</span>\r\n                    </div>\r\n                </bzg-option>\r\n            </bzg-select>\r\n        </div>\r\n        <div class=\"bs-user-preferences__block\">\r\n            <label class=\"bs-form-label bs-user-preferences-label\">\r\n                {{ 'siteeditor.cultureconfig.CURRENCY_SYMBOL' | translate }}\r\n            </label>\r\n            <div class=\"bs-user-preferences__block bs-user-preferences__block--row\">\r\n                <div  class=\"bs-user-preferences__checkbox-container\">\r\n                    <bzg-checkbox [disabled]=\"disableContent\" [checked]=\"languageCulture.currencySymbolPosition === 0\" (change)=\"onChangeCheck('currencyPosition', 0)\">\r\n                        {{ 'siteeditor.cultureconfig.BEFORE' | translate }}\r\n                    </bzg-checkbox>\r\n                </div>\r\n                <div  class=\"bs-user-preferences__checkbox-container\">\r\n                    <bzg-checkbox [disabled]=\"disableContent\" [checked]=\"languageCulture.currencySymbolPosition === 1\" (change)=\"onChangeCheck('currencyPosition', 1)\">\r\n                        {{ 'siteeditor.cultureconfig.AFTER' | translate }}\r\n                    </bzg-checkbox>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, ViewChild, Input } from '@angular/core';\r\nimport { CultureSettingsService } from 'app/common/services/sites/culture-settings.service';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\n@Component({\r\n    selector: 'bs-user-preferences',\r\n    templateUrl: './user-preferences.component.html',\r\n    styleUrls: ['./user-preferences.component.scss']\r\n})\r\nexport class UserPreferencesComponent {\r\n    public buttons = [];\r\n    public formatOptions: ICultureFormatOptions;\r\n    public select: JQuery<HTMLElement>;\r\n    @Input() languageCulture: IUserPreferences;\r\n    @Input() showDescription = true;\r\n    @Input() disableContent = false;\r\n\r\n    constructor(private _cultureSettingsService: CultureSettingsService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._cultureSettingsService.getFormatOptions().subscribe((cultureFormatOptions: ICultureFormatOptions) => {\r\n          this.formatOptions = cultureFormatOptions;\r\n        });\r\n        this.buttons = [\r\n          {\r\n            name: 'save',\r\n            caption: 'siteeditor.cultureconfig.SAVE'\r\n          },\r\n          {\r\n            name: 'cancel',\r\n            caption: 'siteeditor.cultureconfig.CLOSE',\r\n            type: 'secondary'\r\n          }\r\n        ];\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n      this.select = Global.modifyWidhSelect(\r\n        'bzg-select',\r\n        'click',\r\n        '.cdk-overlay-container .bz-select-options', null);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n      this.select?.unbind('click');\r\n    }\r\n\r\n    public getUserPreferences() {\r\n        return this.languageCulture;\r\n    }\r\n\r\n    public onChangeCheck(type: string, value: number) {\r\n        switch (type) {\r\n            case 'dateFormatStyle':\r\n                if (value !== this.languageCulture.dateFormatStyle) {\r\n                    this.languageCulture.dateFormatStyle = value;\r\n                }\r\n                break;\r\n            case 'currencyPosition':\r\n                if (value !== this.languageCulture.currencySymbolPosition) {\r\n                    this.languageCulture.currencySymbolPosition = value;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    public async refreshPreferences(preferences: IUserPreferences = null) {\r\n        if ( preferences ) {\r\n            this.languageCulture = preferences;\r\n        } else {\r\n            this.languageCulture = await this._cultureSettingsService.getPreferences().toPromise();\r\n        }\r\n    }\r\n\r\n    public onChangeSelect(attr: string, value: any) {\r\n        if (this.languageCulture[attr].toString() !== value) {\r\n            if ( _.isNumber(value) ) {\r\n                this.languageCulture[attr] = (value as number);\r\n            } else {\r\n                this.languageCulture[attr] = value === ' - ' ? this.formatOptions[attr][1] : value;\r\n            }\r\n        }\r\n    }\r\n\r\n    public onChangeInputNumber(event: any) {\r\n        const inputValue = (event.target.value as number);\r\n        if ( this.languageCulture.decimalDigits !== inputValue ) {\r\n            this.languageCulture.decimalDigits = inputValue;\r\n        }\r\n    }\r\n}\r\n","<bzg-modal-header>\r\n    <span class=\"bz-modal__title\">{{ 'siteeditor.cultureconfig.DIALOG_TITLE' | translate  }}</span>\r\n    <bzg-button-icon icon=\"icon-close\" (click)=\"onModalButtonClicked('cancel')\"></bzg-button-icon>\r\n  </bzg-modal-header>\r\n  <bzg-modal-content>\r\n    <div class=\"bs-user-preferences-render\">\r\n        <div class=\"bs-user-preferences-render__container\" *ngIf=\"currentUserPreferences\">\r\n            <div class=\"bs-user-preferences-render__culture-header\">\r\n                <div class=\"bs-user-preferences-render__culture-language\">\r\n                <div class=\"bs-user-preferences-render__culture-language__flag\" *ngIf=\"resources && resources.length > 1\">\r\n                <img class=\"bs-user-preferences-render__item__flag\" src=\"./i/flags/{{currentLanguage.language.name + '-' + currentLanguage.country.name + '.svg'}}\" alt=\"\">\r\n                <span>        \r\n                    {{currentLanguage.language.displayName + ' (' + (currentLanguage.country.name | uppercase) + ')'}}\r\n                </span>\r\n                </div>\r\n                <p class=\"bs-user-preferences-render__culture-language__text\">{{'siteeditor.settings.LANGUAGE_MANAGER_CULTURE_TEXT_RENDER' | translate}}</p>\r\n                </div>\r\n        \r\n                <div class=\"bs-switch-wp bs-user-preferences-render__culture-custom\" >\r\n                    <label class=\"bs-user-preferences-render__culture-custom__label\">\r\n                        <h3 class=\"bs-user-preferences-render__culture-custom__title\">{{'siteeditor.settings.LANGUAGE_MANAGER_CULTURE_CUSTOM_TITLE' | translate}}</h3>\r\n                        <p class=\"bs-user-preferences-render__culture-custom__text\">{{'siteeditor.settings.LANGUAGE_MANAGER_CULTURE_CUSTOM_TEXT_RENDER' | translate}}</p>\r\n                    </label>\r\n                    <bzg-switch [ngModel]='currentUserPreferences.isCustom' (ngModelChange)=\"currentUserPreferences.isCustom = !currentUserPreferences.isCustom\"></bzg-switch>\r\n                </div>\r\n            </div>\r\n            <div class=\"bs-user-preferences-render__user-preferences\" [ngClass]=\"{'bs-user-preferences-render__user-preferences--blocked': !currentUserPreferences.isCustom}\">\r\n                <div class=\"bs-user-preferences-render__user-preferences__blur\" [ngClass]=\"{'bs-user-preferences-render__user-preferences__blur--visible': !currentUserPreferences.isCustom}\"></div>\r\n                <bs-user-preferences #userPreferences [disableContent]=\"!currentUserPreferences.isCustom\" [languageCulture]=\"currentUserPreferences\" [showDescription]=\"false\"></bs-user-preferences>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </bzg-modal-content>\r\n  <bzg-modal-footer>\r\n    <div class=\"bs-user-preferences-render__footer\">\r\n        <bzg-button-secondary class=\"bz-space--inline-m\" (click)=\"onModalButtonClicked('cancel')\">\r\n        {{ 'siteeditor.cultureconfig.CLOSE'| translate}}\r\n        </bzg-button-secondary>\r\n        <bzg-button-primary (click)=\"onModalButtonClicked('save')\">\r\n        {{ 'siteeditor.cultureconfig.SAVE' | translate}}\r\n        </bzg-button-primary>\r\n    </div>\r\n  </bzg-modal-footer>","import { Component, EventEmitter, Input, Output, ViewChild, Inject } from '@angular/core';\r\nimport { UserPreferencesComponent } from 'app/common/components/user-preferences/user-preferences.component';\r\nimport { BzgModalRef, BZG_MODAL_DATA } from 'bz-genome-angular';\r\n\r\n@Component({\r\n  selector: 'bs-user-preferences-render-modal',\r\n  templateUrl: './user-preferences-render-modal.component.html',\r\n  styleUrls: ['./user-preferences-render-modal.component.scss'],\r\n})\r\nexport class UserPreferencesRenderModalComponent {\r\n  public buttons = [];\r\n  public currentUserPreferences: IUserPreferences;\r\n  public formatOptions: ICultureFormatOptions;\r\n  public currentLanguage: IBasicLanguageResource;\r\n  public resources: ISiteResource[];\r\n  @Output() onUserUpdate = new EventEmitter();\r\n  @ViewChild('userPreferences', { static: false }) private _userPreferencesComponent: UserPreferencesComponent;\r\n\r\n  constructor(\r\n    @Inject(BZG_MODAL_DATA) public data: { currentLanguage, currentUserPreferences, resources },\r\n    private modalRef: BzgModalRef\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.currentLanguage = this.data.currentLanguage;\r\n    this.currentUserPreferences = this.data.currentUserPreferences;\r\n    this.resources = this.data.resources;\r\n  }\r\n\r\n  public async onModalButtonClicked(button: string) {\r\n    if (button === 'save') {\r\n      this.modalRef.close({\r\n        type: 'save', userPreferences: await this._userPreferencesComponent.getUserPreferences(),\r\n        currentUserPreferences: this.currentUserPreferences,\r\n    });\r\n    } else {\r\n      this.modalRef.close();\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\r\nimport { ModalWebPartsComponent } from 'app/common/components/modal-webparts/modal-webparts.component';\r\nimport { CultureSettingsService } from 'app/common/services/sites/culture-settings.service';\r\nimport { UserPreferencesComponent } from 'app/common/components/user-preferences/user-preferences.component';\r\nimport { UserService } from 'app/common/services/sites/user.service';\r\nimport { PublishedSiteService } from 'app/render/services/published-site.service';\r\nimport { BzgModalRef, BzgModalService } from 'bz-genome-angular';\r\nimport { UserPreferencesRenderModalComponent } from './user-preferences-render-modal/user-preferences-render-modal.component';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { getSiteLanguage, getSiteResources } from '../store/multilanguage/multilanguage.selector';\r\nimport { Subscription } from 'rxjs';\r\nimport { getSiteUser } from '../store/user/user.selector';\r\nimport { LoadUserSuccess, UpdateUser } from '../store/user/user.actions';\r\n\r\n@Component({\r\n  selector: 'bs-user-preferences-render',\r\n  templateUrl: './user-preferences-render.component.html',\r\n  styleUrls: ['./user-preferences-render.component.scss'],\r\n})\r\nexport class UserPreferencesRenderComponent {\r\n  public buttons = [];\r\n  public currentUserPreferences: IUserPreferences;\r\n  public formatOptions: ICultureFormatOptions;\r\n  private modalRef: BzgModalRef;\r\n\r\n  @Input() currentLanguage: IBasicLanguageResource;\r\n  public user: IUserSiteProfile;\r\n\r\n  private _userSubscription: Subscription;\r\n  private _resourcesSubscription: Subscription;\r\n  private _resources: ISiteResource[];\r\n  @Output() onUserUpdate = new EventEmitter();\r\n\r\n  constructor(\r\n    private _cultureSettingsService: CultureSettingsService,\r\n    private _userService: UserService,\r\n    private _store: Store<IRenderState>,\r\n    private _modalService: BzgModalService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this._initialize();\r\n    this._userSubscription = this._store.pipe(select(getSiteUser)).subscribe((siteUser: IUserSiteProfile) => {\r\n      if (siteUser) {\r\n        this.user = siteUser;\r\n        this.currentUserPreferences = _.cloneDeep(this.user.preferences);\r\n      }\r\n    });\r\n    this._resourcesSubscription = this._store.pipe(select(getSiteResources)).subscribe((resources) => {\r\n      this._resources = resources;\r\n    })\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._cultureSettingsService.userPreferencesStatus.unsubscribe();\r\n    this._userSubscription.unsubscribe();\r\n  }\r\n\r\n  private async _initialize() {\r\n    const maxWidth = $(window).width() > 769 ? '750px' : '100%';\r\n    const maxHeight = $(window).width() > 769 ? '680px' : '100%';\r\n    this._cultureSettingsService.userPreferencesStatus.subscribe((state: any) => {\r\n      if (state.isOpen) {\r\n        this.modalRef = this._modalService.open(UserPreferencesRenderModalComponent, {\r\n          backdropClass: 'cdk-overlay-dark-backdrop-custom',\r\n          closeOnBackdropClick: false,\r\n          maxWidth,\r\n          maxHeight,\r\n          data: {\r\n            currentLanguage: this.currentLanguage,\r\n            currentUserPreferences: this.currentUserPreferences,\r\n            resources: this._resources\r\n          }\r\n        });\r\n        this.modalRef.afterClosed().subscribe(async result => {\r\n          if (result && result.type === 'save') {\r\n            this.user.preferences = result.userPreferences;\r\n            this._store.dispatch(new UpdateUser(this.user));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"bs-body bs-page-body\" *ngIf=\"(page && !page.isPrivate) || (site && site.header && page && user && user.contexts)\">\r\n  <div class=\"bs-header-wrapper\" [attr.id]=\"site.header.id\">\r\n    <bs-header-control #headerControl [renderMode]=\"true\" [user]=\"user\" class=\"bs-page-editor-header\" [control]=\"site.header\" [site]=\"site\" [page]=\"page\"\r\n      [currentLanguage]=\"currentLanguage\" [stakeholderContexts]=\"user?.contexts\" [pages]=\"pagesList\">\r\n      <bs-languages-menu-render [styles]=\"headerControl?.styles\" [currentLanguage]=\"currentLanguage\"></bs-languages-menu-render>\r\n    </bs-header-control>\r\n  </div>\r\n  <bs-breadcrumb-render *ngIf=\"page.isContextualized\" [currentLanguage]=\"currentLanguage\" [header]=\"site.header\"\r\n  [hero]=\"page.hero\" [navigationContexts]=\"navigationContexts\">\r\n</bs-breadcrumb-render>\r\n  <div class=\"bs-ctrl bs-ctrl--hero bs-hero-wrapper\" [attr.id]=\"page.hero?.id\">\r\n    <bs-hero-control [control]=\"page.hero\" [isRenderMode]=\"true\"></bs-hero-control>\r\n  </div>\r\n  <bs-grid-render\r\n    *ngIf=\"(controls && controls.length) && !isLoadingPreferences && (page.isContextualized ? page.context.entity?.value : true)\"\r\n    [controls]=\"controls\">\r\n  </bs-grid-render>\r\n  <bs-footer-control [currentLanguage]=\"currentLanguage\" class=\"bs-page-editor-footer bs-ctrl bs-ctrl--no-border\" [control]=\"site.footer\"></bs-footer-control>\r\n  <!-- SHARED POPUPS -->\r\n  <bs-bizagi-forms #form [connection]=\"formParameters.connection\" [modalTitle]=\"formParameters.title\" [currentPage]=\"page\"\r\n    [type]=\"formParameters.type\" [parameters]=\"formParameters.parameters\" [site]=\"site\" [currentLanguage]=\"currentLanguage\">\r\n  </bs-bizagi-forms>\r\n</div>\r\n<bs-user-preferences-render (onUserUpdate)=\"updateUserPreferences($event)\"\r\n  [currentLanguage]=\"currentLanguage\" *ngIf=\"currentLanguage && userSite\"></bs-user-preferences-render>\r\n","import { first } from 'rxjs/operators';\r\nimport { ChangeDetectorRef, Component, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { PageRenderingService } from 'app/common/services/sites/page-rendering.service';\r\nimport { PublishedSiteService } from 'app/render/services/published-site.service';\r\nimport { BizagiDataService } from 'app/render/services/bizagi-data.service';\r\nimport { ThemeService } from 'app/common/services/sites/theme.service';\r\nimport { BizagiFormsComponent, FormType } from 'app/render/bizagi-forms/bizagi-forms.component';\r\nimport { UserService } from 'app/common/services/sites/user.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FontsServiceCommon } from 'app/common/services/sites/fonts.service';\r\nimport { UpdateGridSize } from '../store/grid/grid.actions';\r\nimport { ClearNavigationContexts } from '../store/navigation-contexts/navigation-contexts.actions';\r\nimport { LoadCurrentLanguage } from '../store/multilanguage/multilanguage.actions';\r\nimport { UpdatePageContext } from '../store/page-context/page-context.actions';\r\nimport { LoadSite } from '../store/site/site.actions';\r\nimport { getCurrentSite } from '../store/site/site.selector';\r\nimport { getCurrentPage } from '../store/page/page.selector';\r\nimport { getPages } from '../store/pages/pages.selector';\r\nimport { LoadPages } from '../store/pages/pages.actions';\r\nimport { LoadPage } from '../store/page/page.actions';\r\nimport { SetPageData } from '../store/page-data/page-data.actions';\r\nimport { getSiteLanguage } from '../store/multilanguage/multilanguage.selector';\r\nimport { StateSnapshotService } from 'app/common/services/sites/state-snapshots.service';\r\nimport { OAuthClientHelper } from '../../common/services/oauth/oauth-client.helper';\r\nimport { getSiteUser } from '../store/user/user.selector';\r\nimport { UpdateUser } from '../store/user/user.actions';\r\n\r\nconst objectFitImages = require('object-fit-images');\r\n@Component({\r\n  selector: 'bs-page-render',\r\n  templateUrl: './page-render.component.html',\r\n  styleUrls: ['./page-render.component.scss'],\r\n})\r\nexport class PageRenderComponent {\r\n  public controls: Array<IControl>;\r\n  public page: IPage;\r\n  public pagesList: Array<IBasicPage>;\r\n  public site: ISite;\r\n  public user: IUserProfile;\r\n  public userSite: IUserSiteProfile;\r\n  public isLoadingPreferences = false;\r\n  public navigationContexts: Array<INavigationContext>;\r\n  public pageName: string;\r\n  public siteName: string;\r\n  public currentLanguage: ILanguageResource;\r\n  private _currentLanguageSubscription: Subscription;\r\n  private _currentSiteSubscription: Subscription;\r\n  private _currentPageSubscription: Subscription;\r\n  private _pagesSubscription: Subscription;\r\n  private _userSubscription: Subscription;\r\n  @ViewChild('headerControl') headerControl: any;\r\n\r\n\r\n  // Form settings\r\n  @ViewChild('form', { static: false })\r\n  private form: BizagiFormsComponent;\r\n  private formParameters: IFormRenderingParams = {\r\n    connection: '',\r\n    title: '',\r\n    type: FormType.New,\r\n    parameters: {},\r\n    refresh: null,\r\n  };\r\n  _fonts: Blob[];\r\n\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _publishedSiteServices: PublishedSiteService,\r\n    private _pageRenderingService: PageRenderingService,\r\n    private _bizagiDataServices: BizagiDataService,\r\n    private _cdr: ChangeDetectorRef,\r\n    private _themeServices: ThemeService,\r\n    private _userService: UserService,\r\n    private _store: Store<IRenderState>,\r\n    private _translateService: TranslateService,\r\n    private _fontsServiceCommon: FontsServiceCommon,\r\n    private _oAuthClientHelper: OAuthClientHelper,\r\n    private _stateSnapshots: StateSnapshotService,\r\n    private _router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this._route.params.subscribe(async (params) => {\r\n      this.page = null;\r\n      this.controls = [];\r\n      this._cdr.detectChanges();\r\n\r\n      this.siteName = params['siteName'];\r\n      this.pageName = params['pageName'];\r\n      if (_.isEmpty(this.site)) {\r\n        this._store.dispatch(new LoadSite(this.siteName));\r\n      } else {\r\n        this._store.dispatch(new LoadPage({ siteName: this.siteName, pageName: this.pageName }));\r\n      }\r\n      if (!this.pagesList || !this.pagesList.length) {\r\n        this._store.dispatch(new LoadPages(this.siteName));\r\n      }\r\n    });\r\n\r\n    this._currentLanguageSubscription = this._store.pipe(select(getSiteLanguage))\r\n      .subscribe((currentLanguage: ILanguageResource) => {\r\n        if (currentLanguage) {\r\n          this.currentLanguage = currentLanguage;\r\n          if (!this.page) {\r\n            this._store.dispatch(new LoadPage({ siteName: this.siteName, pageName: this.pageName }));\r\n          }\r\n        }\r\n      });\r\n    this._currentSiteSubscription = this._store.pipe(select(getCurrentSite)).subscribe(async (site: ISite) => {\r\n      if (!_.isEmpty(site)) {\r\n        this.site = site;\r\n        this._oAuthClientHelper.setRedirectHeader(this.site?.header?.parameters?.logout?.fromPrivate, \r\n          this.site?.header?.parameters?.logout?.fromPublic);\r\n        this._stateSnapshots.setSite(site);\r\n        this._loadSiteResources(site);\r\n        if (!this.page) {\r\n          this._store.dispatch(new LoadPage({ siteName: this.siteName, pageName: this.pageName }));\r\n        }\r\n      }\r\n    });\r\n    this._currentPageSubscription = this._store.pipe(select(getCurrentPage)).subscribe((currentPage: IPageState) => {\r\n      if (!_.isEmpty(currentPage)) {\r\n        if (this.site && currentPage && this.currentLanguage) {\r\n          this.page = currentPage;\r\n          this._stateSnapshots.setPage(currentPage);\r\n          this._loadPageResources();\r\n        }\r\n      }\r\n    });\r\n    this._pagesSubscription = this._store.pipe(select(getPages)).subscribe((pages: Array<IBasicPage>) => {\r\n      if (pages) {\r\n        this._stateSnapshots.setPages(pages);\r\n        _.forEach(pages, (page: IBasicPage) => {\r\n          if (!page.originalId) {\r\n            page.originalId = page.id;\r\n          }\r\n        });\r\n        this.pagesList = pages;\r\n      }\r\n    });\r\n\r\n    this._userSubscription = this._store.pipe(select(getSiteUser)).subscribe((userSite: IUserSiteProfile) => {\r\n      if (!_.isEmpty(userSite)) {\r\n        this.userSite = userSite;\r\n      }\r\n    });\r\n\r\n    // Attach to rendering service events\r\n    // if (this._oAuthClientHelper.isLoggedOn()) {\r\n    this._pageRenderingService.on('showForm', parameters => this.showForm(parameters));\r\n    // }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    objectFitImages();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._pagesSubscription.unsubscribe();\r\n    this._currentPageSubscription.unsubscribe();\r\n    this._currentSiteSubscription.unsubscribe();\r\n    this._currentLanguageSubscription.unsubscribe();\r\n  }\r\n\r\n  public updateUserPreferences(user: IUserSiteProfile) {\r\n    this.isLoadingPreferences = true;\r\n    setTimeout(() => {\r\n      this.isLoadingPreferences = false;\r\n    }, 500);\r\n  }\r\n\r\n  private async loadPageContext(page: IPage) {\r\n    try {\r\n      const url = (_.values(this.site.environments[this.site.defaultEnvironment].projects) as Array<IBizagiProject>)[0].url;\r\n      const stakeholders = await this._bizagiDataServices.getStakeholders(url);\r\n      _.each(stakeholders, (stakeholder: IStakeholder) => {\r\n        _.each(stakeholder.contexts, (context: IStakeholderContext) => {\r\n          this.user.contexts = [context.id, ...this.user.contexts];\r\n        });\r\n      });\r\n      if ((Global.isVisibleTo(page.visibleTo, this.user.contexts) && stakeholders.length > 0) || !page.isPrivate) {\r\n        this.controls = page.isPrivate ?\r\n          Global.getControlsByStakeholderContext(this.user.contexts, this.page.controls) : this.page.controls;\r\n        this._route.queryParams.pipe(first()).subscribe(queryParams => {\r\n          const project = queryParams['project'] || _.first(_.keys(this.site.environments[this.site.defaultEnvironment].projects));\r\n          const contextStr = queryParams['context'];\r\n          if (project && contextStr) {\r\n            this.processNavigationContext(project, contextStr);\r\n          } else {\r\n            this._store.dispatch(new ClearNavigationContexts());\r\n          }\r\n        });\r\n      } else {\r\n        let navigateTo;\r\n        for (let index = 0; index < this.site.header.navigation.length; index++) {\r\n          if(this.site.header.navigation[index].type !== 'Page'){\r\n            continue;\r\n          }\r\n          navigateTo = await this._getNavigateToNextPage(this.site.header.navigation[index], stakeholders);\r\n\r\n          if (!navigateTo && this.site.header.navigation[index].references?.length) {\r\n            for (let idx = 0; idx < this.site.header.navigation[index].references.length; idx++) {\r\n              if(this.site.header.navigation[index].references[idx].type !== 'Page'){\r\n                continue;\r\n              }\r\n              navigateTo = await this._getNavigateToNextPage(this.site.header.navigation[index].references[idx], stakeholders);\r\n              if(navigateTo) {\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          if (navigateTo) {\r\n            break;\r\n          }\r\n\r\n        }\r\n        if (navigateTo) {\r\n          this._router.navigate([this.siteName, navigateTo]);\r\n        } else {\r\n          this._router.navigate(['unauthorized'], { queryParams: { mode: 'render', url: location.href } });\r\n        }\r\n\r\n      }\r\n    } catch (err) { }\r\n  }\r\n\r\n  private async _getNavigateToNextPage(navigation: IPageReference, stakeholders) {\r\n    const pageNav = await this._publishedSiteServices.getPage(this.siteName, navigation['pageName']);\r\n    if (!pageNav.isPrivate) {\r\n      return pageNav.name;\r\n    }\r\n    if (Global.isVisibleTo(navigation.visibleTo, this.user.contexts) && stakeholders.length > 0) {\r\n      return pageNav.name;\r\n    }\r\n  }\r\n\r\n  private _loadPageResources() {\r\n    if (this.page.grid) {\r\n      this._store.dispatch(new UpdateGridSize(this.page.grid.size));\r\n    }\r\n    this._loadPageContext();\r\n  }\r\n\r\n  private async _loadSiteResources(site: ISite) {\r\n    this._store.dispatch(new LoadCurrentLanguage(site.globalSettings.defaultResource));\r\n    this._themeServices.loadSiteTheme(site.theme);\r\n    this._fontsServiceCommon.loadAllFonts(site.globalSettings.defaultFontFamily);\r\n    this._fonts = await this._fontsServiceCommon.loadFontsFilesByFamilyName(site.globalSettings.defaultFontFamily);\r\n  }\r\n\r\n  private async _loadPageContext() {\r\n    if (!this.userSite && await this._oAuthClientHelper.isLoggedOn()) {\r\n      try {\r\n        this.user = await this._bizagiDataServices.getUserProfile(this.site.identityServer);\r\n        const userFromSites = await this._userService.getUserByUsername(this.user.userName);\r\n        if (userFromSites) {\r\n          const notPreferencesCustom = !userFromSites.preferences;\r\n          const defaultPreferences = _.cloneDeep(this.currentLanguage.culture);\r\n          const preferences = notPreferencesCustom\r\n            ? _.cloneDeep(this.currentLanguage.culture)\r\n            : userFromSites.preferences.isCustom\r\n              ? userFromSites.preferences\r\n              : defaultPreferences;\r\n          preferences.isCustom = !notPreferencesCustom ? userFromSites.preferences.isCustom : false;\r\n          userFromSites.preferences = preferences;\r\n          this.userSite = (userFromSites as IUserSiteProfile);\r\n        } else {\r\n          const newUserSites = { ...this.user, preferences: this.currentLanguage.culture };\r\n          this.userSite = (await this._userService.createOrUpdateUserPreferences(newUserSites) as IUserSiteProfile);\r\n        }\r\n        this._store.dispatch(new UpdateUser(this.userSite));\r\n      } catch (error) {\r\n      }\r\n    }\r\n    if (!this.page.isPrivate) {\r\n      this.controls = this.page.controls;\r\n    }\r\n    if (this.page.isPrivate || this.userSite) {\r\n      this.user = await this._bizagiDataServices.getUserProfile(this.site.identityServer);\r\n      if (Global.isBizagiImage(this.user.picture)) {\r\n        this.user.picture = Global.getBizagiImageUrl(this.user.picture);\r\n      }\r\n      this.user.contexts = [];\r\n      await this.loadPageContext(this.page);\r\n    }\r\n\r\n  }\r\n\r\n  // Form management\r\n  private showForm(parameters: IFormRenderingParams) {\r\n    this.formParameters = parameters;\r\n\r\n    // This is to allow angular to redraw the view and add the parameters to the form EditTemplateComponent\r\n    // Sound weird isn\"t it?\r\n    setTimeout(() => {\r\n      this.form.show(this._fonts);\r\n      this.form.registerCloseFunction(this.formParameters.refresh);\r\n    });\r\n  }\r\n\r\n  private async processNavigationContext(project: string, contextStr: string) {\r\n    if (!project || !contextStr) {\r\n      return;\r\n    }\r\n\r\n    // Get all context parts\r\n    this.navigationContexts = (Global.base64ToJson(contextStr) as Array<INavigationContext>);\r\n    this._stateSnapshots.setNavigationContext(this.navigationContexts);\r\n    const lastNavigation = _.last(this.navigationContexts);\r\n    const newNavigation: any = lastNavigation.connectionType === 'context' ? this.navigationContexts : [lastNavigation];\r\n    const url = Global.getBizagiProjectUrl(this.site, project);\r\n    const data = await this._bizagiDataServices.getNavigationData(url, newNavigation);\r\n\r\n    if (data) {\r\n      this.page.context.entity.value = data.id;\r\n      const pageData = _.mapValues(_.keyBy(data['fields'], 'xpath'), 'value');\r\n      this._store.dispatch(new UpdatePageContext(this.page.context));\r\n      this._store.dispatch(new SetPageData(pageData));\r\n      this._store.dispatch(new LoadPages(this.siteName));\r\n    }\r\n\r\n    this.page.isContextualized = true;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRoute, ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { PublishedSiteService } from 'app/render/services/published-site.service';\r\nimport { OAuthClientHelper } from 'app/common/services/oauth/oauth-client.helper';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Global } from 'app/common/misc/global';\r\nimport {Cookie} from 'ng2-cookies/ng2-cookies';\r\n\r\n@Injectable()\r\nexport class RouteActivatorRender implements CanActivate {\r\n    public _environment: any;\r\n    constructor(private _oAuthClient: OAuthClientHelper,\r\n                private _router: Router,\r\n                private _route: ActivatedRoute,\r\n                private _publishedSiteServices: PublishedSiteService, private _http: HttpClient) {\r\n    }\r\n\r\n    async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> {\r\n        if (!this._environment) {\r\n            this._environment = await this.getExecutionEnvironment();\r\n            Global.bizagiEnvironment = this._environment;\r\n        }\r\n\r\n        // Go to site\r\n        if (route.params.siteName) {\r\n            const siteName = route.params.siteName;\r\n            const redirectRoute = _.map(route.url, function(part) { return part.path; }).join('/');\r\n            const queryParams = route.queryParams;\r\n            const site = await this.loadSite(siteName);\r\n            let pageName = null;\r\n\r\n            try {\r\n              pageName = decodeURIComponent(escape(route.params.pageName? route.params.pageName : site.homePageName));\r\n            }\r\n            catch(e) {\r\n              pageName = route.params.pageName? route.params.pageName : site.homePageName;\r\n            }\r\n            const isPrivate = await this._publishedSiteServices.getIsPrivatePage(route.params.siteName, pageName);\r\n            const userLoggedOn = await sessionStorage.getItem('userLoggedOn');\r\n            const userLoggedOnCookie = Cookie.get('USERLOGGEDON');\r\n\r\n            if(Global.isInternetExplorer() && userLoggedOnCookie && !userLoggedOn) {\r\n                /* After redirect to external site in explorer, go to login to get user loggedOn   */\r\n                const identityServer = site.identityServer;\r\n                this.goToLogin(identityServer, redirectRoute, queryParams);\r\n                return;\r\n            }\r\n            // If authenticated, and route contains siteName and pageName, go ahead\r\n            if (((!isPrivate && !route.queryParams.code && !userLoggedOn) || await this._oAuthClient.isLoggedOn()) &&\r\n                route.params.pageName != null) {\r\n                if (route.params.pageName && route.params.pageName !== pageName) {\r\n                  this._router.navigate([site.url, pageName]);\r\n                }\r\n                return true;\r\n            }\r\n\r\n            if (!isPrivate && !route.queryParams.code && !userLoggedOn || (!isPrivate && !route.params.pageName)) {\r\n                this._router.navigate([site.url, pageName]);\r\n                return true;\r\n            }\r\n            // Validate if is logged on\r\n            if (!(await this._oAuthClient.isLoggedOn())) {\r\n                const identityServer = site.identityServer;\r\n                this.goToLogin(identityServer, redirectRoute, queryParams);\r\n                return;\r\n            }\r\n\r\n            // If we have don't a page name, we can redirect to site root\r\n            if (!route.params.pageName) {\r\n                this.redirectToSite(site);\r\n                return;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    async getExecutionEnvironment(): Promise<any> {\r\n        const response = await this._http.get('api/sites/executionEnvironment').toPromise();\r\n        return response;\r\n    }\r\n\r\n    async loadSite(siteName: string) {\r\n        try {\r\n            return await this._publishedSiteServices.getSite(siteName);\r\n        } catch (err) {\r\n            this._router.navigate(['404']);\r\n        }\r\n    }\r\n\r\n    redirectToSite(site: ISite) {\r\n        this._router.navigate([site.url, site.homePageName]);\r\n    }\r\n\r\n    goToLogin(identityServer: string, redirectRoute: string, queryParams: any) {\r\n        // Get url parameters\r\n        let queryString :any = Global.getQueryString();\r\n        if (Object.keys(queryParams).length > 0) {\r\n            queryString = JSON.parse(JSON.stringify(queryParams));\r\n        }\r\n        queryString.identityServer = identityServer;\r\n        queryString.redirectRoute = redirectRoute;\r\n\r\n        // First step call the login page\r\n        this._router.navigate(['login'], {\r\n            queryParams: queryString,\r\n            skipLocationChange: true\r\n        });\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRoute, ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { OAuthClientHelper } from 'app/common/services/oauth/oauth-client.helper';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Global } from '../../misc/global';\r\n\r\n@Injectable()\r\nexport class ProtectedRouteActivator implements CanActivate {\r\n    public _environment: any;\r\n\r\n    constructor(private _oAuthClient: OAuthClientHelper, private _router: Router,\r\n        private _route: ActivatedRoute, private _http: HttpClient) {\r\n    }\r\n\r\n    async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> {\r\n        if (!this._environment || !Global.bizagiEnvironment) {\r\n            this._environment = await this.getExecutionEnvironment();\r\n            Global.bizagiEnvironment = this._environment;\r\n            console.log('Environment from canActivate login.service: ', this._environment);\r\n        }\r\n\r\n        // Get url parameters\r\n        const queryString = Global.getQueryString() || {};\r\n        if (await this._oAuthClient.isLoggedOn()) {\r\n            if (!this._oAuthClient.getProfile()) {\r\n                await this._oAuthClient.refreshToken();\r\n            }\r\n            if (this._environment.executionEnvironment === 'ONPREMISES' && route.data.disabledOnPremises) {\r\n                this._router.navigate(['dashboard']);\r\n            }\r\n            if (this._environment.executionEnvironment === 'ONPREMISES' && !this._oAuthClient.hasEditorRole()) {\r\n                this._router.navigate(['unauthorized']);\r\n            }\r\n            return true;\r\n        } else {\r\n            const redirectRoute = _.map(route.url, function (part) { return part.path; }).join('/');\r\n            queryString['redirectRoute'] = redirectRoute;\r\n            const queryParams = route.queryParams;\r\n            this.goToLogin(redirectRoute, queryParams);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    async getExecutionEnvironment(): Promise<any> {\r\n        const response = await this._http.get('api/sites/executionEnvironment').toPromise();\r\n        return response;\r\n    }\r\n\r\n    goToLogin(redirectRoute: string, queryParams: any) {\r\n        // Get url parameters\r\n        let queryString = Global.getQueryString();\r\n        if (Object.keys(queryParams).length > 0) {\r\n            queryString = JSON.parse(JSON.stringify(queryParams));\r\n        }\r\n        queryString['redirectRoute'] = redirectRoute;\r\n\r\n        if (this._environment.executionEnvironment === 'ONPREMISES') {\r\n            queryString['identityServer'] = this._environment.projectUrl;\r\n        }\r\n\r\n        // First step call the login page\r\n        this._router.navigate(['login'], {\r\n            queryParams: queryString,\r\n            skipLocationChange: true\r\n        });\r\n    }\r\n}\r\n\r\n@Injectable()\r\nexport class PublicRouteActivator implements CanActivate {\r\n\r\n    constructor(private _oAuthClient: OAuthClientHelper, private _router: Router, private _route: ActivatedRoute) {\r\n    }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\r\n        // Redirect to route if found in state\r\n        const redirectRoute = Global.getRedirectRoute();\r\n        if (redirectRoute) {\r\n            this._router.navigateByUrl(redirectRoute + window.location.search, { preserveQueryParams: true });\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NotFoundComponent } from 'app/common/components/not-found/not-found.component';\r\nimport { LoginComponent } from 'app/common/components/login/login.component';\r\nimport { SiteRenderComponent } from 'app/render/site-render.component';\r\nimport { PageRenderComponent } from 'app/render/page-render/page-render.component';\r\nimport { RouteActivatorRender } from 'app/common/services/oauth/route-activator-render';\r\nimport { PublicRouteActivator } from 'app/common/services/oauth/login.service';\r\nimport { SiteListRenderComponent } from 'app/render/site-list-render/site-list-render.component';\r\nimport { UnauthorizedComponent } from 'app/common/components/unauthorized/unauthorized.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'login', component: LoginComponent },\r\n  { path: '', component: SiteListRenderComponent, canActivate: [PublicRouteActivator] },\r\n  { path: '404', component: NotFoundComponent },\r\n  { path: 'unauthorized', component: UnauthorizedComponent },\r\n  { path: ':siteName/404', component: NotFoundComponent },\r\n  { path: ':siteName', component: SiteRenderComponent, canActivate: [RouteActivatorRender] },\r\n  { path: ':siteName/:pageName', component: PageRenderComponent, canActivate: [RouteActivatorRender] },\r\n  { path: '*', redirectTo: '/404' },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RenderRoutingModule {}\r\n","import { Component } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { getCurrentSite } from '../store/site/site.selector';\r\nimport { Subscription } from 'rxjs';\r\n@Component({\r\n  selector: 'bs-site-list-render',\r\n  templateUrl: './site-list-render.component.html',\r\n  styleUrls: ['./site-list-render.component.scss'],\r\n})\r\nexport class SiteListRenderComponent {\r\n  private _currentSiteSubscription:Subscription;\r\n  private _site;\r\n\r\n  constructor(private _router: Router, private _store: Store<IRenderState>) {\r\n    this._currentSiteSubscription = this._store.pipe(select(getCurrentSite)).subscribe((site) => {\r\n      this._site = site;\r\n    })\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this._router.navigate([this._site && this._site.url ? this._site.url : '404']);\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    this._currentSiteSubscription?.unsubscribe();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { OAuthClientHelper } from '../../services/oauth/oauth-client.helper';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'bs-unauthorized',\r\n  templateUrl: './unauthorized.component.html',\r\n  styleUrls: ['./unauthorized.component.scss']\r\n})\r\nexport class UnauthorizedComponent {\r\n\r\n  public mode = 'editor';\r\n  public url;\r\n\r\n  constructor(private _oAuthClient: OAuthClientHelper, private route: ActivatedRoute) { \r\n    const routeSnapshot = this.route.snapshot;\r\n    const queryParams = routeSnapshot.queryParams;\r\n    console.log(queryParams);\r\n    if(queryParams.mode){\r\n      this.mode = queryParams.mode;\r\n      this.url = queryParams.url;\r\n    }\r\n  }\r\n\r\n  public goBack() {\r\n    if(this.mode === 'render'){\r\n      this._oAuthClient.logoutOtherUrl(`${encodeURIComponent(this.url)}`);\r\n    } else{\r\n      this._oAuthClient.logoutOtherUrl(`${encodeURIComponent(location.origin + location.pathname + '#')}`);\r\n    }\r\n  }\r\n}\r\n","<div class=\"bs-unauthorized\">\r\n  <h1 class=\"bs-unauthorized__title\">\r\n    {{\"messages.warning.UNAUTHORIZED_TITLE\" | translate }}\r\n  </h1>\r\n  <small class=\"bs-unauthorized__description\">{{(mode === 'render' ? \"messages.warning.NO_ACCESS_TO_RENDER\" : \"messages.warning.NO_ACCESS_TO_EDITOR\") | translate }}</small>\r\n  <p class=\"bs-unauthorized__subtitle\">{{\"messages.warning.CONTACT_SITE_ADMINISTRATOR\" | translate}}</p>\r\n  <button class=\"bs-unauthorized__button\" (click)=\"goBack()\">{{\"messages.buttons.GO_BACK\" | translate}}</button>\r\n</div>\r\n","const INITIAL_STATE: IRenderState = {\r\n  multilanguage: {currentLanguage: null, resources: [], resourcesByName: {}},\r\n  currentPage: null,\r\n  currentSite: null,\r\n  grid: null,\r\n  navigationContexts: [],\r\n  pageContext: null,\r\n  pages: [],\r\n  pageData: null,\r\n  user: null,\r\n  session: null\r\n};\r\n\r\nexport { INITIAL_STATE };\r\n","import { INITIAL_STATE } from './initial-state';\r\nimport { ActionReducerMap } from '@ngrx/store';\r\nimport {multilanguageReducer} from './multilanguage/multilanguage.reducer';\r\nimport {gridReducer} from './grid/grid.reducer';\r\nimport {navigationContextsReducer} from './navigation-contexts/navigation-contexts.reducer';\r\nimport {pageContextReducer} from './page-context/page-context.reducer';\r\nimport {pageReducer} from './page/page.reducer';\r\nimport {siteReducer} from './site/site.reducer';\r\nimport {pagesReducer} from './pages/pages.reducer';\r\nimport {pageDataReducer} from './page-data/page-data.reducer';\r\nimport {userReducer} from './user/user.reducer';\r\nimport {loadingReducer} from './loading/loading.reducer';\r\nimport {sessionReducer} from './session/session.reducer';\r\n\r\nexport const INITIAL_STATE_STORE: IRenderState = INITIAL_STATE;\r\n\r\nexport const ROOT_REDUCER: ActionReducerMap<IRenderState> = {\r\n  multilanguage: multilanguageReducer,\r\n  grid: gridReducer,\r\n  navigationContexts: navigationContextsReducer,\r\n  pageContext: pageContextReducer,\r\n  currentPage: pageReducer,\r\n  currentSite: siteReducer,\r\n  pages: pagesReducer,\r\n  pageData: pageDataReducer,\r\n  user: userReducer,\r\n  loading: loadingReducer,\r\n  session: sessionReducer\r\n};\r\n","import {\r\n  LoadCurrentLanguageSuccess,\r\n  LoadSiteResourcesByName,\r\n  LoadSiteResourcesSuccess,\r\n  multilanguageActions,\r\n  MultilanguageActions,\r\n  UpdateCurrentLanguage, UpdateCurrentLanguageSuccess, UpdateLastBPMLanguage\r\n} from './multilanguage.actions';\r\n\r\nexport function multilanguageReducer(state: {currentLanguage: ILanguageResource, resources: Array<ISiteResource>, \r\n  resourcesByName: {[key: string]: ISiteResource}}\r\n= null, action: MultilanguageActions) {\r\n  switch (action.type) {\r\n    case multilanguageActions.UPDATE_CURRENT_LANGUAGE_SUCCESS: {\r\n      const currentSiteLanguage = _.cloneDeep((action as UpdateCurrentLanguageSuccess).payload);\r\n      state.currentLanguage = currentSiteLanguage;\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case multilanguageActions.LOAD_CURRENT_LANGUAGE_SUCCESS: {\r\n      const currentSiteLanguage = _.cloneDeep((action as LoadCurrentLanguageSuccess).payload);\r\n      state.currentLanguage = currentSiteLanguage;\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case multilanguageActions.LOAD_SITE_RESOURCES_SUCCESS: {\r\n      const resources = _.cloneDeep((action as LoadSiteResourcesSuccess).payload);\r\n      state.resources = resources;\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case multilanguageActions.LOAD_SITE_RESOURCES_BY_NAME: {\r\n      const resources = _.cloneDeep((action as LoadSiteResourcesByName).payload);\r\n      state.resourcesByName = resources;\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case multilanguageActions.UPDATE_LAST_BPM_LANGUAGE_SUCCESS: {\r\n      state.currentLanguage.lastBPMLanguage = (action as UpdateLastBPMLanguage).payload.toString();\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import * as GridActions from './grid.actions';\r\n\r\nexport function gridReducer(state = null, action: GridActions.UpdateGridSize) {\r\n  switch (action.type) {\r\n    case GridActions.UPDATE_GRID_SIZE: {\r\n      const screenSize = action.payload;\r\n      const grid: IGrid = {\r\n        size: screenSize,\r\n        boundaries: {\r\n          left: 0,\r\n          right: 0,\r\n          width: 0,\r\n        },\r\n        layoutSize: 960,\r\n      };\r\n      let boundariesSize = 0;\r\n      if (screenSize > 1200) {\r\n        boundariesSize = screenSize - 1200;\r\n        grid.layoutSize = 1200;\r\n      } else if (screenSize > 960) {\r\n        boundariesSize = screenSize - 960;\r\n      }\r\n\r\n      grid.boundaries.width = boundariesSize / 2;\r\n      grid.boundaries.left = boundariesSize / 2;\r\n      grid.boundaries.right = screenSize - boundariesSize / 2;\r\n      grid.prev = { ...state };\r\n      delete grid.prev.prev;\r\n      return {\r\n        ...state,\r\n        ...grid\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {NavigationContextsActions, updateNavigationContexts} from './navigation-contexts.actions';\r\n\r\nexport function navigationContextsReducer(state = [], action: NavigationContextsActions) {\r\n  switch (action.type) {\r\n    case updateNavigationContexts.UPDATE_NAVIGATION_CONTEXTS: {\r\n      const navigationContexts: Array<INavigationContext> = action.payload;\r\n      return [...state, ...navigationContexts];\r\n    }\r\n    case updateNavigationContexts.CLEAR_NAVIGATION_CONTEXTS: {\r\n      const navigationContexts: Array<INavigationContext> = [];\r\n      return [...state, ...navigationContexts];\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import * as PageContextActions from './page-context.actions';\r\n\r\nexport function pageContextReducer(state = null, action: PageContextActions.UpdatePageContext) {\r\n  switch (action.type) {\r\n    case PageContextActions.UPDATE_PAGE_CONTEXT: {\r\n      const pageContext = _.cloneDeep(action.payload);\r\n      return {\r\n        ...state,\r\n        ...pageContext,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {LoadPageSuccess, pageActions, PageActions} from './page.actions';\r\n\r\n\r\nexport function pageReducer(\r\n  state: IPage = null,\r\n  action: PageActions\r\n): IPage {\r\n  switch (action.type) {\r\n    case pageActions.LOAD_PAGE: {\r\n      return  state;\r\n    }\r\n    case pageActions.LOAD_PAGE_SUCCESS: {\r\n      return {\r\n        ...state,\r\n       ...(action as LoadPageSuccess).payload\r\n      };\r\n    }\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  LoadSiteSuccess,\r\n  SiteActions,\r\n  siteActions,\r\n} from './site.actions';\r\nimport {INITIAL_STATE} from '../initial-state';\r\n\r\nexport function siteReducer(\r\n  state: ISite = INITIAL_STATE.currentSite,\r\n  action: SiteActions\r\n): ISite {\r\n  switch (action.type) {\r\n    case siteActions.LOAD_SITE: {\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case siteActions.LOAD_SITE_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        ... (action as LoadSiteSuccess).payload,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {LoadPagesSuccess, PagesActions, pagesActions} from './pages.actions';\r\n\r\n\r\nexport function pagesReducer(\r\n  state: Array<IBasicPage> = [],\r\n  action: PagesActions\r\n): Array<IBasicPage> {\r\n  switch (action.type) {\r\n    case pagesActions.LOAD_PAGES: {\r\n      return  state;\r\n    }\r\n    case pagesActions.LOAD_PAGE_SUCCESS: {\r\n      return {\r\n        ...state,\r\n       ...(action as LoadPagesSuccess).payload\r\n      };\r\n    }\r\n   default:\r\n      return state;\r\n  }\r\n}\r\n","import {PageDataActions, pageDataActions, SetPageData} from './page-data.actions';\r\n\r\nexport function pageDataReducer(\r\n  state: IPage = null,\r\n  action: PageDataActions\r\n): IPage {\r\n  switch (action.type) {\r\n   case pageDataActions.SET_PAGE_DATA: {\r\n      return {\r\n        ...state,\r\n       ...(action as SetPageData).payload\r\n      };\r\n    }\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { LoadUserSuccess, UserActions, userActions } from './user.actions';\r\n\r\n\r\nexport function userReducer(\r\n  state: IUserSiteProfile = null,\r\n  action: UserActions\r\n): IUserSiteProfile {\r\n  switch (action.type) {\r\n    case userActions.LOAD_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n       ...(action as LoadUserSuccess).payload\r\n      };\r\n    }\r\n    case userActions.UPDATE_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n       ...(action as LoadUserSuccess).payload\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { LoadingActions, loadingActions, UpdateLoading } from './loading.actions';\r\n\r\nexport function loadingReducer(state: {[key: string]: boolean} = null, action: LoadingActions) {\r\n  switch (action.type) {\r\n    case loadingActions.UPDATE_LOADING: {\r\n      const loading = (action as UpdateLoading).payload;\r\n      return {\r\n        ...state,\r\n        ...loading\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { sessionActions, SessionActions, SetSession } from './session.actions';\r\n\r\n\r\nexport function sessionReducer(\r\n  state: ISession = null,\r\n  action: SessionActions\r\n): ISession {\r\n  switch (action.type) {\r\n    case sessionActions.SET_SESSION: {\r\n      return {\r\n        ...state,\r\n       ...(action as SetSession).payload\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {Action} from '@ngrx/store';\r\n\r\nexport const sessionActions = {\r\n  SET_SESSION: '[Session Actions] Set session'\r\n};\r\n\r\nexport class SetSession implements Action {\r\n  readonly type = sessionActions.SET_SESSION;\r\n  constructor(public payload: any) {}\r\n}\r\n\r\nexport type SessionActions = SetSession;\r\n\r\n","import {Injectable} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\n\r\n@Injectable()\r\nexport class NotificationService {\r\nprivate _notificationEvent = new Subject<INotificationEvent>();\r\n  constructor() { }\r\n\r\n  public subscribe(callback: Function) {\r\n    this._notificationEvent.subscribe((notificationEvent: INotificationEvent) => {\r\n      callback(notificationEvent);\r\n    });\r\n  }\r\n\r\n  public notify(notificationEvent: INotificationEvent) {\r\n    this._notificationEvent.next(notificationEvent);\r\n  }\r\n\r\n}\r\n","import { from as observableFrom, throwError as observableThrowError } from 'rxjs';\r\n\r\nimport { catchError, filter, finalize, switchMap, take } from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpXsrfTokenExtractor } from '@angular/common/http';\r\nimport { OAuthClientHelper } from 'app/common/services/oauth/oauth-client.helper';\r\nimport { NotificationService } from 'app/common/services/bizagi/notification.service';\r\nimport { RestApiSevice } from '../../common/services/oauth/rest-api.service';\r\nimport { BehaviorSubject, Observable } from 'rxjs/Rx';\r\nimport { SessionHandlerService } from 'app/common/services/oauth/session-handler.service';\r\n\r\n@Injectable()\r\nexport class RestApiRenderInterceptorService implements HttpInterceptor {\r\n  isRefreshingToken = false;\r\n  tokenSubject: BehaviorSubject<string> = new BehaviorSubject<string>(null);\r\n  constructor(\r\n    private _oauthClient: OAuthClientHelper,\r\n    private _notificationService: NotificationService,\r\n    private _sessionHandler: SessionHandlerService, private _http: HttpClient,\r\n    private tokenExtractor: HttpXsrfTokenExtractor\r\n  ) {}\r\n\r\n  public intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    const ignoreRefreshArray = ['refreshtoken', 'assets', 'publishedSites', 'fonts', 'executionEnvironment'];\r\n    const fnIgnoreUrl = _.find(ignoreRefreshArray, (ign) => {\r\n      return request.url?.toLowerCase().indexOf(ign.toLowerCase()) >= 0;\r\n    });\r\n    if (!fnIgnoreUrl) {\r\n      this._sessionHandler.restartSessionSubject.next();\r\n    }\r\n    const headerName = 'X-XSRF-TOKEN';\r\n    const token = this.tokenExtractor.getToken() as string;\r\n    if (token !== null && !request.headers.has(headerName)) {\r\n      request = request.clone({ headers: request.headers.set(headerName, token) });\r\n    }\r\n    return next.handle(request).pipe(\r\n      catchError(error => {\r\n        if (error instanceof HttpErrorResponse) {\r\n          switch ((error as HttpErrorResponse).status) {\r\n            case 401:\r\n              return this.handle401Error(request, next);\r\n            case 403:\r\n              return this._handleError(error);\r\n            default:\r\n              return this._handleError(error);\r\n          }\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private _handleError(error: Response | any) {\r\n    const errMsg: string = error.message ? error.message : error.toString();\r\n    this._notificationService.notify({ message: 'messages.error.SERVER_ERROR', type: 'error' });\r\n    return observableThrowError(errMsg);\r\n  }\r\n\r\n  handle401Error(req: HttpRequest<any>, next: HttpHandler) {\r\n    if (!this.isRefreshingToken) {\r\n      this.isRefreshingToken = true;\r\n      this.tokenSubject.next(null);\r\n      return this._http.post('api/oauth/bizagi/refreshToken', {}).pipe(switchMap((newToken: any) => {\r\n        if (newToken) {\r\n          return next.handle(req);\r\n        }\r\n      }), catchError(error => {\r\n        this._oauthClient.logout();\r\n        return observableThrowError(error);\r\n      }), finalize(() => {\r\n        this.isRefreshingToken = false;\r\n      }));\r\n    } else {\r\n      return this.tokenSubject.pipe(\r\n        filter(token => token != null),\r\n        take(1),\r\n        switchMap(token => {\r\n          return next.handle(req);\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  private _addToken(req: HttpRequest<any>, token: string): HttpRequest<any> {\r\n    return req.clone({ setHeaders: { Authorization: 'Bearer ' + token } });\r\n  }\r\n}\r\n","\r\nimport { map } from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { RestApiSevice } from 'app/common/services/oauth/rest-api.service';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { BzgModalRef, BzgModalService } from 'bz-genome-angular';\r\nimport { ConfirmDialogModalComponent } from 'app/common/components/confirm-dialog-modal/confirm-dialog-modal.component';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\n@Injectable()\r\nexport class ImagesService {\r\n\r\n  private endpoints: any = {\r\n    saveImages: 'api/{projectId}/images/{resourceId}/{id}/{isPreview}',\r\n    getImages: 'api/{projectId}/sites/{siteId}/images/{imageName}',\r\n    getImagesBlob: 'api/sites/imagesblob',\r\n    deleteImages: 'api/{projectId}/images/{id}',\r\n    duplicateImage: 'api/{projectId}/images/{resourceId}/{imageIdOrigin}/duplicate/{imageIdDestination}',\r\n    duplicateImages: 'api/{projectId}/images/{resourceId}/duplicateMultiple/'\r\n  };\r\n\r\n  private pageCache: { [key: string]: IPage };\r\n  private _modalRef: BzgModalRef;\r\n\r\n  constructor(protected _restApiService: RestApiSevice,\r\n    private _sanitizer: DomSanitizer,\r\n    private _modalService: BzgModalService) {\r\n    this.pageCache = {};\r\n  }\r\n\r\n  public deleteImage(projectId: string, imageId: string): Observable<any> {\r\n    return this._restApiService.delete({\r\n      url: this.endpoints.deleteImages,\r\n      parameters: {\r\n        projectId,\r\n        id: imageId\r\n      }\r\n    });\r\n  }\r\n\r\n  public uploadImage(projectId: string, resourceId: string, imageId: string, imageBlob: any, \r\n    type: string, fileExtension = 'png', isPreview = false):\r\n    Observable<string> {\r\n    return this._restApiService.postFile({\r\n      url: this.endpoints.saveImages,\r\n      parameters: {\r\n        resourceId,\r\n        projectId,\r\n        id: imageId,\r\n        isPreview\r\n      }\r\n    }, imageBlob, type).pipe(map((response: any) => {\r\n      const imageURL = `api/${projectId}/resources/${resourceId}/images/img_${imageId}.${response.extension}`;\r\n      return imageURL;\r\n    }));\r\n  }\r\n\r\n  public async duplicateImage(projectId: string, resourceId: string, imageIdOrigin: string, imageIdDestination: string) {\r\n    const promise = await this._restApiService.post({\r\n      url: this.endpoints.duplicateImage,\r\n      parameters: {\r\n        resourceId,\r\n        projectId,\r\n        imageIdOrigin,\r\n        imageIdDestination\r\n      }\r\n    }).toPromise();\r\n\r\n    return promise;\r\n  }\r\n\r\n  public  duplicateImages(projectId: string, resourceId: string, images: { [key: string]: string }) {\r\n    return this._restApiService.post({\r\n      url: this.endpoints.duplicateImages,\r\n      parameters: {\r\n        resourceId,\r\n        projectId\r\n      },\r\n      body: images\r\n    }).toPromise();\r\n  }\r\n\r\n\r\n  public fileConfirmationAlert() {\r\n    this._modalRef = this._modalService.open(ConfirmDialogModalComponent, {\r\n      backdropClass: 'cdk-overlay-dark-backdrop-custom',\r\n      maxWidth: '500px',\r\n      closeOnBackdropClick: false,\r\n      data: {\r\n         message: 'messages.error.IMAGE_EXTENSION_NOT_SUPPORTED',\r\n         title: 'messages.error.FILE_EXTENSION_ERROR',\r\n         confirmButtonText: 'siteeditor.global.OK',\r\n         buttonColor: 'error',\r\n         cancelButton: false,\r\n        }\r\n    });\r\n\r\n    this._modalRef.afterClosed().subscribe(async result => {\r\n      if (result && result.type === 'confirm') {\r\n        this._modalRef.close();\r\n      } else {\r\n        this._modalRef.close();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {Subject, Subscription} from 'rxjs';\r\nimport {Global} from '../../misc/global';\r\nimport {ImagesService} from '../../../editor/services/images.service';\r\nimport {select, Store} from '@ngrx/store';\r\nimport {getCurrentSiteLanguage} from '../../../editor/site-editor/store/multilanguage/multilanguage.selector';\r\n\r\ndeclare let ImageCompressor;\r\nconst maxLenght = 300000;\r\n\r\n@Injectable()\r\nexport class FileService {\r\n\r\n      private _currentLanguageSubscription: Subscription;\r\n  private _currentLanguage: ILanguageResource;\r\n\r\n  constructor(private _imagesService: ImagesService,  private _store: Store<IEditorState>) {\r\n    this._currentLanguageSubscription = this._store.pipe(select(getCurrentSiteLanguage)).subscribe((currentLanguage: ILanguageResource) => {\r\n      this._currentLanguage = currentLanguage;\r\n    });\r\n\r\n\r\n  }\r\n\r\n  public readImage(input): Subject<IImageFile> {\r\n    const subject = new Subject<IImageFile>();\r\n    const reader = new FileReader();\r\n\r\n    reader.addEventListener('loadend', (readerEvent) => {\r\n      const originalImage:any = {};\r\n      const maxSize = 1800;\r\n      originalImage.onload = () => {\r\n        originalImage.alt = input.target.files[0] ? input.target.files[0].type : '';\r\n        if (originalImage.alt === 'image/png') {\r\n          originalImage.width = originalImage.width * 0.6;\r\n          originalImage.height = originalImage.height * 0.6;\r\n        }\r\n        originalImage.width = originalImage.width > maxSize ? originalImage.width *\r\n          (0.8 - (originalImage.width / 10000)) : originalImage.width;\r\n        originalImage.height = originalImage.height > maxSize ? originalImage.height *\r\n          (0.8 - (originalImage.height / 10000)) : originalImage.height;\r\n        this.compressImage(originalImage.src, subject, originalImage);\r\n      };\r\n      originalImage.src = readerEvent.target['result'];\r\n      originalImage.onload();\r\n    });\r\n    if (input.target.files[0]) {\r\n      reader.readAsDataURL(input.target.files[0]);\r\n    }\r\n\r\n    return subject;\r\n  }\r\n\r\n  public uploadImage(projectId: string, imageData, name?: string): Subject<string> {\r\n    const subject = new Subject<string>();\r\n    const fileId = name || Global.newGuid();\r\n    this._imagesService.uploadImage(projectId, this._currentLanguage.id , fileId, imageData, imageData.type)\r\n      .subscribe((imageUrl: string) => {\r\n      subject.next(imageUrl);\r\n    });\r\n    return subject;\r\n  }\r\n\r\n\r\n  private compressImage(imageRead, subject, originalImage) {\r\n    const imageCompressor = new ImageCompressor;\r\n    const compressorSettings = {\r\n      mode: 'strict',\r\n      mimeType: originalImage.alt,\r\n      quality: 0.3,\r\n      toWidth: originalImage.width * 0.6,\r\n      toHeight: originalImage.height * 0.6,\r\n      speed: 'high'\r\n    };\r\n    let blob = null;\r\n    if (imageRead.length > maxLenght) {\r\n      imageCompressor.run(imageRead, compressorSettings, (src) => {\r\n        blob = this.b64toBlob(src.replace('data:' + originalImage.alt + ';base64,', ''), compressorSettings.mimeType, 512);\r\n        subject.next({\r\n          type: 'imageResized',\r\n          blob,\r\n          url: URL.createObjectURL(blob)\r\n        });\r\n      });\r\n    } else {\r\n      blob = this.b64toBlob(imageRead.replace('data:' + originalImage.alt + ';base64,', ''), compressorSettings.mimeType, 512);\r\n      subject.next({\r\n        type: 'imageResized',\r\n        blob,\r\n        url: URL.createObjectURL(blob)\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  private b64toBlob(b64Data, contentType, sliceSize) {\r\n    contentType = contentType || '';\r\n    sliceSize = sliceSize || 512;\r\n\r\n    const byteCharacters = atob(b64Data);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n\r\n      const byteNumbers = new Array(slice.length);\r\n      for (let i = 0; i < slice.length; i++) {\r\n        byteNumbers[i] = slice.charCodeAt(i);\r\n      }\r\n\r\n      const byteArray = new Uint8Array(byteNumbers);\r\n\r\n      byteArrays.push(byteArray);\r\n    }\r\n    const blob = new Blob(byteArrays, {type: contentType});\r\n    return blob;\r\n  }\r\n}\r\n\r\n","<div *ngIf=\"data.data\" class=\"bs-my-cases-body__cards bs-my-cases-body__cards--four-columns\" >\r\n  <div *ngFor=\"let element of data.data; let i=index\" class=\"bs-my-cases__card\" (click)=\"selectCard(element)\">\r\n    <div class=\"bs-my-cases__card__title\" [ngStyle]=\"{'font-size': getTitleFontSize()}\">\r\n      <span [ngStyle]=\"{ 'font-size': stylesComponent['headerFontSize'],\r\n      'font-family': stylesComponent['headerFontFamily'],\r\n      'color': stylesComponent['headerFontColor']}\" >{{element['@CaseNumber']}}</span>\r\n      <div class=\"bs-my-cases__icon-state\">\r\n        <bzg-icon [size]=\"stylesComponent['headerFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'info' : ''\" *ngIf=\"element['@CaseState'] === 'Running'\" nameIcon=\"bzg-open\"\r\n                        [bzgTooltip]=\"'controls.my-cases.STATE_PENDING' | translate\" [bzgTooltipPosition]=\"'above'\">\r\n                    </bzg-icon>\r\n        <bzg-icon  [size]=\"stylesComponent['headerFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'success' : ''\" *ngIf=\"element['@CaseState'] === 'Completed'\"\r\n          nameIcon=\"bzg-check-sites\" [bzgTooltip]=\"'controls.my-cases.STATE_COMPLETED' | translate\" [bzgTooltipPosition]=\"'above'\"></bzg-icon>\r\n        <bzg-icon [size]=\"stylesComponent['headerFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'error' : ''\" *ngIf=\"element['@CaseState'] === 'Aborted'\"\r\n          nameIcon=\"bzg-circle-error\" [bzgTooltip]=\"'controls.my-cases.STATE_ABORTED' | translate\" [bzgTooltipPosition]=\"'above'\"></bzg-icon>\r\n      </div>\r\n    </div>\r\n    <ng-container *ngFor=\"let header of data.headers\">\r\n      <div *ngIf=\"header.key !== '@CaseNumber'\" class=\"bs-my-cases__item\">\r\n        <div class=\"bs-my-cases__item__label\" [ngStyle]=\"{'font-size': stylesComponent['contentFontSize'],\r\n        'font-family': stylesComponent['contentFontFamily'],\r\n        'color': stylesComponent['contentFontColor']}\">\r\n          {{header.displayName}}\r\n        </div>\r\n        <div class=\"bs-my-cases__item__content\" [ngStyle]=\"{'font-size': stylesComponent['contentFontSize'],\r\n        'font-family': stylesComponent['contentFontFamily'],\r\n        'color': stylesComponent['contentFontColor']}\">\r\n          {{element[header.key]}}\r\n         </div>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n","import {Component, Input, Output, EventEmitter, ElementRef} from '@angular/core';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\n@Component({\r\n  selector: 'bs-my-cases-control-card',\r\n  templateUrl: './my-cases-control-card.component.html',\r\n  styleUrls: ['./my-cases-control-card.component.scss']\r\n})\r\nexport class MyCasesControlCardComponent {\r\n  @Output() showCaseEvent: EventEmitter<any> = new EventEmitter();\r\n  @Input() data;\r\n  @Input() dataNoShow;\r\n  @Input() stylesComponent;\r\n  public isRenderMode = Global.isOnRenderMode();\r\n\r\n  constructor(private _element: ElementRef) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (Global.isFirefox()) {\r\n      $(this._element.nativeElement).\r\n        parents('.bs-my-cases-body').css('max-height', 'calc(100% - 100px)');\r\n    }\r\n  }\r\n\r\n  public getTitleFontSize() {\r\n    const fontSize: string = this.stylesComponent['contentFontSize'];\r\n    const size = +fontSize.substring(0, fontSize.indexOf('px'))\r\n    return (size + 2) + 'px';\r\n  }\r\n\r\n  public getKey(values, index) {\r\n    return Object.keys(values)[index];\r\n  }\r\n\r\n  public getEntries(data) {\r\n    const result = Object.entries(data);\r\n    return result;\r\n  }\r\n\r\n  public isAllowValue(text) {\r\n    return text !== 'processName' || text !== 'caseNumber';\r\n  }\r\n\r\n  public getDisplayName(headers: any[], key: string) {\r\n    return headers.find(header => header.key === key).displayName;\r\n  }\r\n\r\n  public selectCard(process) {\r\n    this.showCaseEvent.emit(process);\r\n  }\r\n\r\n}\r\n","<div #table class=\"bs-my-cases-body__table\">\r\n  <div class=\"bs-my-cases-body__table__wrapper\" *ngIf=\"data.data\"\r\n      [ngStyle]=\"{ 'font-size': stylesComponent['headerFontSize'],\r\n      'font-family': stylesComponent['headerFontFamily'],\r\n      'color': stylesComponent['headerFontColor']}\">\r\n\r\n    <bzg-table [orderDirection]=\"'desc'\" [cellSpacingMode]=\"cellSpacingMode\" [(model)]=\"data.data\" [showPaginator]=\"false\" (resize)=\"changeResize($event)\"\r\n      [allowOrderColumn]=\"false\" (changeOrderColumn)=\"orderColumn($event)\" [tableHeight]=\"heightTable\" [allowHorizontalScroll]=\"true\">\r\n      <ng-template bzgTableColumn [width]=\"'50px'\" [flex]=\"'0 1 auto'\" [allowOrder]=\"false\" let-dataItem=\"dataItem\">\r\n        <div class=\"bs-my-cases-body__cell\">\r\n          <bzg-icon [size]=\"stylesComponent['contentFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'info' : ''\" *ngIf=\"dataItem['@CaseState'] === 'Running'\" nameIcon=\"bzg-open\"\r\n            [bzgTooltip]=\"'controls.my-cases.STATE_PENDING' | translate\" [bzgTooltipPosition]=\"'above'\">\r\n          </bzg-icon>\r\n          <bzg-icon [size]=\"stylesComponent['contentFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'success' : ''\" *ngIf=\"dataItem['@CaseState'] === 'Completed'\" nameIcon=\"bzg-check-sites\"\r\n            [bzgTooltip]=\"'controls.my-cases.STATE_COMPLETED' | translate\" [bzgTooltipPosition]=\"'above'\">\r\n          </bzg-icon>\r\n          <bzg-icon [size]=\"stylesComponent['contentFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'error' : ''\" *ngIf=\"dataItem['@CaseState'] === 'Aborted'\" nameIcon=\"bzg-circle-error\"\r\n            [bzgTooltip]=\"'controls.my-cases.STATE_ABORTED' | translate\" [bzgTooltipPosition]=\"'above'\">\r\n          </bzg-icon>\r\n        </div>\r\n      </ng-template>\r\n      <ng-container *ngFor=\"let header of data.headers; index as i\">\r\n        <ng-template *ngIf=\"header.key  !== '@CaseState'\" bzgTableColumn [width]=\"widthColumn.length ? widthColumn[i] : '1px'\"\r\n        title=\"{{header.displayName}}\" [flex]=\"'0 1 auto'\" [resizable]=\"true\" [bzgTooltip]=\"header.displayName\"\r\n        id=\"{{header.key}}\" let-dataItem=\"dataItem\">\r\n          <div #cellContent class=\"bs-my-cases-body__cell\" (click)=\"selectRow(dataItem)\" [ngStyle]=\"{'font-size': stylesComponent['contentFontSize'],\r\n              'font-family': stylesComponent['contentFontFamily'],\r\n              'color': stylesComponent['contentFontColor']}\" [bzgTooltip]=\"dataItem[header.key]\"\r\n              [bzgTooltipDisabled]=\"(cellContent.offsetWidth == cellContent.scrollWidth && cellContent.offsetHeight == cellContent.scrollHeight)\">\r\n            {{ dataItem[header.key] }}\r\n          </div>\r\n        </ng-template>\r\n      </ng-container>\r\n    </bzg-table>\r\n  </div>\r\n</div>\r\n","import { Component, Input, Output, EventEmitter, SimpleChanges, ViewChild, ElementRef } from '@angular/core';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { TranslateMultiLangPipe } from 'app/common/pipes/translate-multilang.pipe';\r\n\r\ninterface CollectionWidthColumn {\r\n  [key: string]: {[key: string]: number[]}\r\n}\r\n@Component({\r\n  selector: 'bs-my-cases-control-grid',\r\n  templateUrl: './my-cases-control-grid.component.html',\r\n  styleUrls: ['./my-cases-control-grid.component.scss']\r\n})\r\nexport class MyCasesControlGridComponent {\r\n  @Output() showCaseEvent: EventEmitter<any> = new EventEmitter();\r\n  @Output() changeOrderColumn: EventEmitter<any> = new EventEmitter();\r\n  @Input() data;\r\n  @Input() cellSpacingMode;\r\n  @Input() dataNoShow;\r\n  @Input() stylesComponent;\r\n  @Input() controlId;\r\n  @Input() selectedProcess;\r\n  @ViewChild('table') table: ElementRef;\r\n  public elementActual: JQuery<any>;\r\n  public widthColumn = [];\r\n  public widthTable = 0;\r\n  public heightTable = '0px';\r\n  public isRenderMode = Global.isOnRenderMode();\r\n\r\n  constructor() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this.data?.headers) {\r\n      setTimeout(() => {\r\n          this.elementActual = $(this.table.nativeElement);\r\n          this.verifyWidthProcess(this.selectedProcess);\r\n          this.updateHeightTable();\r\n        }, 0);\r\n    }\r\n  }\r\n\r\n  public selectRow(process) {\r\n    this.showCaseEvent.emit(process);\r\n  }\r\n\r\n  public orderColumn(event) {\r\n    this.changeOrderColumn.emit(event);\r\n  }\r\n\r\n  public calculeWidth(text: string) {\r\n    return text.length + '%';\r\n  }\r\n\r\n  public changeResize(event) {\r\n    this.widthColumn[event.columnIndex-1] = event.sizeInPx + 'px';\r\n    let values = JSON.parse(localStorage.getItem('myCasesColumnsWidth')) as CollectionWidthColumn;\r\n    const control: CollectionWidthColumn = {};\r\n    control[this.controlId] = {\r\n      [this.selectedProcess ? this.selectedProcess : 'all']: this.widthColumn\r\n    }\r\n    values = _.merge(values, control);\r\n    localStorage.setItem('myCasesColumnsWidth', JSON.stringify(values));\r\n  }\r\n\r\n  private calculateWidthColumn() {\r\n    for (let index = 0; index < this.data.headers.length; index++) {\r\n      const cells = this.elementActual.find('.bz-table-adv__body .bz-table-adv__row .bz-table-adv__cell:nth-child(' + (index + 2) + ') > div').toArray();\r\n      if (cells.length > 0) {\r\n        const max = cells.reduce((prev, current) => (prev.innerText.length > current.innerText.length) ? prev : current);\r\n        this.widthColumn[index] = max.innerText;\r\n      }\r\n    }\r\n    this.widthColumn = this.widthColumn.map((value,index) => {\r\n      const widthHeader = Global.getHtmlTextWidth(this.data.headers[index] ? this.data.headers[index].displayName : '',\r\n      this.stylesComponent['headerFontSize'], this.stylesComponent['headerFontFamily']);\r\n      const widthCell = Global.getHtmlTextWidth(value,\r\n        this.stylesComponent['contentFontSize'], this.stylesComponent['contentFontFamily'])\r\n      return (widthHeader > widthCell ? widthHeader : widthCell) + 62;\r\n    });\r\n    const widthColumns = this.widthColumn.reduce((acumulated, actual) => acumulated + actual, 0) + 50;\r\n    const widthTable = this.elementActual.width();\r\n    const extraWidth = widthColumns < widthTable ? (widthTable - widthColumns) / this.widthColumn.length : 0;\r\n    this.widthColumn.forEach((value, index) => this.widthColumn[index] = value + extraWidth + 'px');\r\n  }\r\n\r\n  private updateHeightTable() {\r\n    let heightTable;\r\n    let heightHeader;\r\n    if (Global.isFirefox()) {\r\n      const parentComponent = this.elementActual.parents('.bs-my-cases');\r\n      heightTable = parentComponent.height() -\r\n        parentComponent.find('.bs-my-cases-header').height() -\r\n        parentComponent.find('.bs-my-cases-body__options').height() -\r\n        parentComponent.find('.bs-my-cases-body__paginator').height();\r\n    } else {\r\n      heightHeader = this.elementActual.find('.bz-table-adv__header').height();\r\n      heightTable = this.elementActual.parent().parent().height() - heightHeader;\r\n    }\r\n\r\n    const widthTable = this.elementActual.find('> div').width();\r\n    const rows = this.elementActual.find('.bz-table-adv__row');\r\n    const totalHeightRows = rows.length * rows.height();\r\n\r\n    if (Global.isFirefox()) {\r\n      this.heightTable = (heightTable - 80) + 'px';\r\n    } else {\r\n      if (totalHeightRows > heightTable) {\r\n        heightTable = heightHeader + heightTable;\r\n        this.heightTable = this.widthTable >= widthTable ? (heightTable + 21 - 10) + 'px' : (heightTable + 21) + 'px';\r\n      } else {\r\n        this.heightTable = 'auto';\r\n      }\r\n    }\r\n  }\r\n\r\n  private verifyWidthProcess(process: string) {\r\n    const values = JSON.parse(localStorage.getItem('myCasesColumnsWidth')) as CollectionWidthColumn;\r\n\r\n    if (values) {\r\n      this.widthColumn = values[this.controlId] && values[this.controlId][process || 'all'] ? values[this.controlId][process || 'all'] : [];\r\n\r\n      if (!this.widthColumn.length) {\r\n        this.calculateWidthColumn();\r\n      }\r\n    } else {\r\n      this.calculateWidthColumn();\r\n    }\r\n  }\r\n}\r\n","<div class=\"bs-control-button\"\r\n   [ngClass]=\"{'bs-control-button--center' : isProcessLoading}\"\r\n     [style.text-align]=\"styles['align']\">\r\n  <a (click)=\"link && link.type === 'processes' ? startProcess() : goToPage()\"\r\n     class=\"bs-btn bs-element\"\r\n     [ngClass]=\"{\r\n      'bs-btn--icon': hasIcon('showLeftIcon') && parameters['iconSelector'] !== null,\r\n     '--no-event': link?.url === '#'}\"\r\n     [style.font-family]=\"styles['fontFamily']\"\r\n     [style.color]=\"styles['fontColor']\"\r\n     [style.width]=\"styles['fullWidth'] ? '100%' : 'auto'\"\r\n     [ngStyle]=\"{'border' : styles.border, 'font-size': styles.fontSize}\"\r\n     [style.background-color]=\"styles['backColor']\"\r\n     [style.border]=\"styles['border']\"\r\n     [style.border-radius]=\"(styles['borderRadius'] || 1) + 'px'\">\r\n     <i class=\"bz-icon bs-btn--icon__icon bz-icon-{{parameters['iconSelector']}}\" *ngIf=\"hasIcon('showLeftIcon') && parameters['iconSelector'] !== null\"></i>\r\n     {{parameters['text']}}\r\n     <i class=\"bz-icon bs-btn--icon__icon bs-btn__icon bz-icon-{{parameters['iconSelector']}}\" *ngIf=\"hasIcon('showRightIcon') && parameters['iconSelector'] !== null\"></i></a>\r\n     <bzg-loading *ngIf=\"isProcessLoading\" size=\"l\" class=\"bs-loader-bars-centered\"></bzg-loading>\r\n</div>\r\n","import { BaseProcessControlComponent } from 'app/common/controls/base-process.component';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport { Component } from '@angular/core';\r\nimport {\r\n  CATEGORY,\r\n  SUBCATEGORY_BUTTON_REGULAR,\r\n  BUTTON_REGULAR_CONTROLS,\r\n  PROPERTY_SECTIONS,\r\n} from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-button-control',\r\n  templateUrl: './button-control.component.html',\r\n  styleUrls: ['./button-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: BUTTON_REGULAR_CONTROLS.button.type,\r\n    category: CATEGORY.BUTTONS.displayName,\r\n    subcategory: SUBCATEGORY_BUTTON_REGULAR.displayName,\r\n    displayName: BUTTON_REGULAR_CONTROLS.button.displayName,\r\n    icon: BUTTON_REGULAR_CONTROLS.button.icon,\r\n    styles: {\r\n      fontFamily: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-family',\r\n        defaultValue: 'inherit'\r\n      },\r\n      fontSize: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-size',\r\n        defaultValue: '14px',\r\n        max: 72\r\n      },\r\n      fontColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n      },\r\n      align: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'text-align',\r\n        defaultValue: 'center'\r\n      },\r\n      fullWidth: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n      },\r\n      borderRadius: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'range',\r\n        defaultValue: 5,\r\n        min: 0,\r\n        max: 25\r\n      }\r\n    },\r\n    parameters: {\r\n      text: {\r\n        type: 'title',\r\n        defaultValue: BUTTON_REGULAR_CONTROLS.button.displayName\r\n      },\r\n      iconSelector: {\r\n        type: 'icon-selector'\r\n      },\r\n      showLeftIcon: {\r\n        type: 'boolean',\r\n        defaultValue: true\r\n      },\r\n      showRightIcon: {\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      }\r\n    },\r\n    defaultSize: {\r\n      width: 170,\r\n      height: 59\r\n    },\r\n    links: {\r\n      staticPages: true,\r\n      internalPages: true,\r\n      processes: true\r\n    }\r\n  }\r\n)\r\nexport class ButtonControlComponent extends BaseProcessControlComponent {\r\n  public fontColor: string;\r\n  public backColor: string;\r\n\r\n  public hasIcon(paramName) {\r\n    return (this.parameters[paramName] && (this.parameters[paramName] === true || \r\n      (typeof (this.parameters[paramName]) === 'string' && this.parameters[paramName].toLowerCase() === 'true')));\r\n  }\r\n}\r\n","<div class=\"bs-control-button\"\r\n     [style.text-align]=\"styles['align']\">\r\n  <a  (click)=\"link && link.type === 'processes'?startProcess(): goToPage()\"\r\n      class=\"bs-btn-round bs-element bs-btn-round--{{styles['buttonSize']}}\"\r\n      [ngStyle]=\"{'border' : styles['border']}\"\r\n      [style.border]=\"styles['border']\"\r\n      [style.background-color]=\"styles['backColor']\">\r\n    <i [style.color]=\"styles['iconColor']\" *ngIf=\"(parameters['showIcon'] !== false && parameters['showIcon'] !== 'False')\"\r\n       class=\"bz-icon bz-icon-{{parameters['iconSelector']}}\"></i>\r\n  </a>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { BaseProcessControlComponent } from 'app/common/controls/base-process.component';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport {\r\n  CATEGORY,\r\n  SUBCATEGORY_BUTTON_ROUND,\r\n  BUTTON_ROUND_CONTROLS,\r\n  PROPERTY_SECTIONS,\r\n} from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-button-round-control',\r\n  templateUrl: './button-round-control.component.html',\r\n  styleUrls: ['./button-round-control.component.scss']\r\n})\r\n\r\n@ControlDefinition(\r\n  {\r\n    type: BUTTON_ROUND_CONTROLS.button_round.type,\r\n    category: CATEGORY.BUTTONS.displayName,\r\n    subcategory: SUBCATEGORY_BUTTON_ROUND.displayName,\r\n    displayName: BUTTON_ROUND_CONTROLS.button_round.displayName,\r\n    icon: BUTTON_ROUND_CONTROLS.button_round.icon,\r\n    styles: {\r\n      iconColor: {\r\n        section: PROPERTY_SECTIONS.icon.key,\r\n        type: 'color',\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n      },\r\n      buttonSize: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'size',\r\n        defaultValue: 'md'\r\n      },\r\n      align: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'text-align',\r\n        defaultValue: 'center'\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n      }\r\n    },\r\n    parameters: {\r\n      iconSelector: {\r\n        type: 'icon-selector',\r\n        defaultValue: 'plus'\r\n      },\r\n      showIcon: {\r\n        type: 'boolean',\r\n        defaultValue: true\r\n      }\r\n    },\r\n    defaultSize: {\r\n      width: 42,\r\n      height: 42\r\n    },\r\n    links: {\r\n      staticPages: true,\r\n      internalPages: true,\r\n      processes: true\r\n    }\r\n  }\r\n)\r\nexport class ButtonRoundControlComponent extends BaseProcessControlComponent {\r\n}\r\n\r\n\r\n\r\n","<div class=\"bs-collection-field__container\">\r\n    <label #collectionFieldLabel class=\"sites-custom-font bs-collection-field__text-ellipsis {{ className }}__label {{ ( labelClasses ? labelClasses : '' ) }}\"\r\n        *ngIf=\"field.styles['fieldLabel'].isActive\"\r\n        [style.color]=\"field.styles['fontSyle']? '' : field.styles['fontColor']\"\r\n        [style.font-family]=\"field.styles['fontFamily']\" [style.font-size]=\"field.styles['fontSize']\"\r\n        [style.text-align]=\"field.styles['align']\" [style.font-weight]=\"field.styles['fontWeight']\"\r\n        [style.letter-spacing]=\"field.styles['letterSpacing'] + 'px'\"\r\n        [style.background-color]=\"field.styles['backColor']\"\r\n        [bzgTooltip]=\"field.styles['fieldLabel'].text\"\r\n        [bzgTooltipDisabled]=\"(collectionFieldLabel.offsetWidth == collectionFieldLabel.scrollWidth && collectionFieldLabel.offsetHeight == collectionFieldLabel.scrollHeight)\"\r\n        [bzgTooltipPosition]=\"'right'\"\r\n        [ngClass]=\"{'bs-collection-field__container__label': !labelClasses }\">\r\n        {{field.styles['fieldLabel'].text}}\r\n    </label>\r\n    <div #collectionField *ngIf=\"type !== 'Boolean' && type !== 'Upload'\" [isOnRenderMode]=\"isOnRenderMode\"\r\n        class=\"sites-custom-font {{ ( textClasses ? textClasses : '' ) }} bs-collection-field__text-ellipsis bs-dynamic-text-value {{ className }}__text\"\r\n        [style.color]=\"field.styles['fontColor']\" [style.font-family]=\"field.styles['fontFamily']\"\r\n        [style.font-size]=\"field.styles['fontSize']\" [style.text-align]=\"field.styles['align']\"\r\n        [style.font-weight]=\"field.styles['fontWeight']\" [style.letter-spacing]=\"field.styles['letterSpacing'] + 'px'\"\r\n        [style.background-color]=\"field.styles['backColor']\"\r\n        [bzgTooltip]=\"data\"\r\n        [bzgTooltipDisabled]=\"collectionField.textContent.endsWith('...') ? false :\r\n        (!(collectionField.offsetWidth == collectionField.scrollWidth && collectionField.offsetHeight == collectionField.scrollHeight) ? false : true)\"\r\n        [bzgTooltipPosition]=\"'right'\"\r\n        [ngClass]='{\"bs-collection-field__container__field-data\": !textClasses}'>\r\n        {{data}}\r\n    </div>\r\n    <div class=\"sites-custom-font bs-collection-field__container__field-data\" *ngIf=\"type === 'Upload'\"\r\n        [style.color]=\"field.styles['fontColor']\" [style.font-family]=\"field.styles['fontFamily']\"\r\n        [style.font-size]=\"field.styles['fontSize']\" [style.text-align]=\"field.styles['align']\"\r\n        [style.font-weight]=\"field.styles['fontWeight']\" [style.letter-spacing]=\"field.styles['letterSpacing'] + 'px'\"\r\n        [style.background-color]=\"field.styles['backColor']\">\r\n        <a class=\"bs-collection-field__container__field-data__link\" *ngIf=\"data && data.length === 1\"\r\n            (click)=\"downloadFile(data[0].url, data[0].fileName)\">{{data[0].fileName}}</a>\r\n        <a *ngIf=\"data && data.length > 1\" (click)=\"openedTooltipFiles = true\"\r\n            class=\"bs-collection-field__container__field-data__link\">\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n                <use href=\"#icon-file\"></use>\r\n            </svg>\r\n        </a>\r\n\r\n        <div *ngIf=\"data && data.length > 1 && openedTooltipFiles\" class=\"bs-tooltip-view-more\">\r\n            <div class=\"bs-collection-files-container__header\">\r\n                <svg class=\"bz-icon-svg bz-icon-svg--16\" (click)=\"openedTooltipFiles = false\">\r\n                    <use href=\"#icon-close\"></use>\r\n                </svg>\r\n            </div>\r\n            <ul class=\"bs-collection-files-container\">\r\n                <li *ngFor=\"let file of data\" class=\"bs-collection-files-container__ellipsis\">\r\n                    <a (click)=\"downloadFile(file.url, file.fileName)\" title=\"{{file.fileName}}\">{{file.fileName}}</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <div class=\"bs-collection-field__container__field-data bs-collection-field-boolean\" *ngIf=\"type === 'Boolean'\"\r\n        [style.color]=\"field.styles['fontColor']\" [style.font-family]=\"field.styles['fontFamily']\"\r\n        [style.font-size]=\"field.styles['fontSize']\" [style.text-align]=\"field.styles['align']\"\r\n        [style.font-weight]=\"field.styles['fontWeight']\" [style.letter-spacing]=\"field.styles['letterSpacing'] + 'px'\"\r\n        [style.background-color]=\"field.styles['backColor']\">\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-collection-field-boolean__icon\" [ngSwitch]=\"getBoolean(data)\">\r\n            <use href=\"#icon-yes\" *ngSwitchCase=\"true\"></use>\r\n            <use href=\"#icon-no\" *ngSwitchCase=\"false\"></use>\r\n        </svg>\r\n        <div class=\"bs-collection-field-boolean__text-value\" [ngSwitch]=\"getBoolean(data)\">\r\n            <label\r\n                *ngSwitchCase=\"true\">{{'siteeditor.properties.BOOLEAN_YES' | translate }}</label>\r\n            <label\r\n                *ngSwitchCase=\"false\">{{'siteeditor.properties.BOOLEAN_NO' | translate }}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<a (click)=\"openedTooltipViewMore = true\" *ngIf=\"false\">{{\"siteeditor.global.VIEW_MORE\" | translate}}</a>\r\n<div class=\"bs-tooltip-view-more\" *ngIf=\"openedTooltipViewMore && isOnRenderMode\">\r\n    <svg class=\"bz-icon-svg bz-icon-svg--16 bs-view-more-tooltip__close\" (click)=\"openedTooltipViewMore = false\">\r\n        <use href=\"#icon-close\"></use>\r\n    </svg>\r\n    <div class=\"bs-view-more-tooltip\">\r\n        {{data}}\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport {Global} from '../../misc/global';\r\n\r\n@Component({\r\n  selector: 'bs-collection-field-control',\r\n  templateUrl: './collection-field-control.component.html',\r\n  styleUrls: ['./collection-field-control.component.scss']\r\n})\r\n\r\nexport class CollectionFieldControlComponent {\r\n  @Input() field: IControlField;\r\n  @Input() data: any;\r\n  @Input() className: string;\r\n  @Input() labelClasses: string;\r\n  @Input() textClasses: string;\r\n  @Input() type: string;\r\n  @Input() isOnRenderMode = false;\r\n  public openedTooltipViewMore = false;\r\n  public openedTooltipFiles = false;\r\n\r\n\r\n  public downloadFile(url, fileName:string) {\r\n    window.open(Global.getBizagiFileUrl(url, fileName));\r\n  }\r\n\r\n  public getBoolean(value: boolean | string): boolean {\r\n    return Global.getBooleanValue(value);\r\n  }\r\n\r\n}\r\n","<div class=\"bs-actions-list\">\r\n  <div class=\"bs-list-view__footer__actions bs-actions-list__btn\" (click)=\"$event.stopPropagation();\">\r\n    <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n      <use href=\"#icon-menu-3dots\"></use>\r\n    </svg>\r\n  </div>\r\n  <ul class=\"bs-list-view__footer__actions bs-actions-list__list\"\r\n      [ngClass]=\"{'bs-actions-list__list--bottom': position === 'bottom', 'bs-actions-list__list--show-right': showList === 'right', 'bs-actions-list__list--show-bottom': showList === 'bottom'}\">\r\n    <li *ngFor=\"let action of itemActions\" class=\"bs-list-view__footer__actions__action bs-actions-list__list__item\">\r\n      <a (click)=\"createCase({actionId: action.id, processId: action.processId, displayName: action.displayName, itemId: item.id})\"\r\n         class=\"bs-list-view__footer__actions__action__btn bs-actions-list__list__item__btn bs-element\">{{action.displayName}}</a>\r\n    </li>\r\n    <li *ngIf=\"canShowCaseLink\" class=\"bs-list-view__footer__actions__action bs-actions-list__list__item\">\r\n      <a  (click)=\"showCase(item.idCase || item.caseNumber, item.processName)\"\r\n          class=\"bs-list-view__footer__actions__action__btn bs-actions-list__list__item__btn bs-element\">{{\"sitemanager.global.VIEW_CASE\" | translate}}</a>\r\n    </li>\r\n  </ul>\r\n</div>\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-actions-control-element',\r\n  templateUrl: './actions-control-element.component.html',\r\n  styleUrls: ['./actions-control-element.component.scss']\r\n})\r\nexport class ActionsControlElementComponent {\r\n  @Input() showList = 'left';\r\n  @Input() item: any;\r\n  @Input() canShowCaseLink: boolean;\r\n  @Input() position: string;\r\n  @Input() isRender = true;\r\n  @Output() onShowCase = new EventEmitter<any>();\r\n  @Output() onCreateCase = new EventEmitter<any>();\r\n\r\n  public itemActions: any;\r\n\r\n  ngOnInit() {\r\n    // *ngIf=\"item.actions?.length || canShowCaseLink\"\r\n    this.itemActions = !_.isUndefined(this.item.actions) ? this.item.actions : [];\r\n    if (!this.isRender) {\r\n      this.itemActions = [\r\n        {\r\n          id: 1,\r\n          processId: 2,\r\n          displayName: 'action 1'\r\n        },\r\n        {\r\n          id: 2,\r\n          processId: 3,\r\n          displayName: 'action 2'\r\n        }\r\n      ];\r\n    }\r\n  }\r\n\r\n  public createCase(caseObj: object) {\r\n    this.onCreateCase.emit(caseObj);\r\n  }\r\n\r\n  public showCase(idCase: number, processName: string) {\r\n    this.onShowCase.emit({idCase, processName});\r\n  }\r\n\r\n}\r\n","import {Component} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-empty-list-control-element',\r\n  templateUrl: './empty-list-control-element.component.html',\r\n  styleUrls: ['./empty-list-control-element.component.scss']\r\n})\r\nexport class EmptyListControlElementComponent {\r\n\r\n}\r\n","  <div class=\"bs-empty-list\">\r\n      <bzg-icon [color]=\"'warning'\" [nameIcon]=\"'icon-warning'\" [size]=\"24\" class=\"bz-space--stack-s\">\r\n      </bzg-icon>\r\n    <div>\r\n      {{\"messages.info.LIST_NO_RECORDS\" | translate}} \r\n    </div>\r\n  </div>\r\n","<div class=\"bs-list-cards\" *ngIf=\"isDataReady\" #targetElement>\r\n  <div bs-dynamic-size-item=\"true\" class=\"bs-card-link\" [style.margin-bottom]=\"styles['verticalItemSpacing'] + 'px'\" *ngFor=\"let item of data['data']\" (click)=\"goToLink(item);\" [ngClass]=\"{'bs-card-link--link': hasLink(item)}\">\r\n    <div class=\"bs-card-link__item\"\r\n      [ngClass]=\"{'bs-card-link__item--reverse': styles.designDisplay === 'basic-right' || styles.designDisplay === 'title-top-right',\r\n                  'bs-card-link__item--title-top': styles.designDisplay === 'title-top-left' || styles.designDisplay === 'title-top-right'}\"\r\n         [style.box-shadow]=\"styles['boxShadow']\"\r\n         [style.background-color]=\"styles['backColor']\"\r\n         [ngStyle]=\"{'border' : styles.border,\r\n     'border-radius': styles['cornerRadius'] + 'px'\r\n     }\"\r\n    >\r\n      <div class=\"bs-card-link__item__content__header bs-card-link__item__content__header--title-top\"\r\n        [ngClass]=\"{'bs-card-link__item__content__header--without-title': !fields.title.active}\"\r\n        *ngIf=\"styles.designDisplay === 'title-top-left' || styles.designDisplay === 'title-top-right'\">\r\n        <bs-collection-field-control class=\"bs-card-link__item__content__title\" *ngIf=\"fields.title.active\" (click)=\"navigate(item, 'title');\"\r\n          [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-card-link__item__content__title'\" [field]=\"fields.title\" [type]=\"getTypeMappedField('title')\" [data]=\"item.title\"\r\n          [ngClass]=\"{'bs-list-view__item--link': hasLink(item), '--cursor-pointer': parameters['data'].bizagi && parameters['data'].bizagi.active && parameters['data'].bizagi.navigation['title'].rootId}\">\r\n        </bs-collection-field-control>\r\n        <bs-actions-control-element [item]=\"item\" class=\"bs-actions-list-custom bs-actions-list--card-link bs-actions-title-top\"\r\n          *ngIf=\"(styles['showActions'] == 'true' || styles['showActions'] == true) && (isOnRenderMode && (item.actions?.length || canShowCaseLink) || !isOnRenderMode)\"\r\n          [canShowCaseLink]=\"canShowCaseLink\" [position]=\"'bottom'\" (onShowCase)=\"showCase($event.idCase, null, $event.processName)\"\r\n          (onCreateCase)=\"createCase($event.actionId, $event.processId, $event.displayName, $event.itemId)\" [isRender]=\"isOnRenderMode\">\r\n        </bs-actions-control-element>\r\n      </div>\r\n      <div class=\"bs-card-link__item__img\"\r\n        [ngClass]=\"{'bs-card-link__item__img--default': !item.image,\r\n                    'bs-card-link__item__img--title-top': styles.designDisplay === 'title-top-left' || styles.designDisplay === 'title-top-right'}\"\r\n        *ngIf=\"fields.image.active\" [ngStyle]=\"{'background' : fields.image.styles['background']}\"\r\n      >\r\n        <img [src]=\"item.image\"\r\n            (error)=\"item.image = defaultPicture\"\r\n            (load)=\"resize($event)\"\r\n            [ngClass]=\"{'--cursor-pointer': parameters['data'].bizagi && parameters['data'].bizagi.active &&\r\n             parameters['data'].bizagi.navigation['image'].rootId,\r\n             'image-original': fields.image.styles['imagesSize'] === 'original',\r\n             'image-scale': fields.image.styles['imagesSize'] === 'scale'}\"\r\n             [style.opacity]=\"fields.image.styles['opacity']?fields.image.styles['opacity']/100:fields.image.styles['opacity']\"\r\n             [ngStyle]=\"{'border' : fields.image.styles['border']}\"\r\n             (click)=\"navigate(item, 'image')\" />\r\n      </div>\r\n      <div class=\"bs-card-link__item__content\"\r\n        [ngClass]=\"{'bs-card-link__item__content--full-width': !fields.image.active,\r\n                    'bs-card-link__item__content--title-top': styles.designDisplay === 'title-top-left' || styles.designDisplay === 'title-top-right'}\">\r\n        <div class=\"bs-card-link__item__content__header\"\r\n          [ngClass]=\"{'bs-card-link__item__content__header--without-title': !fields.title.active, 'bs-card-link__item__content__header--reverse': styles.designDisplay === 'basic-right'}\"\r\n          *ngIf=\"styles.designDisplay === 'basic-right' || styles.designDisplay === 'basic-left'\">\r\n          <bs-collection-field-control class=\"bs-card-link__item__content__title\"\r\n            *ngIf=\"fields.title.active\"\r\n            (click)=\"navigate(item, 'title');\"\r\n            [isOnRenderMode]=\"isOnRenderMode\"\r\n            [className]=\"'bs-card-link__item__content__title'\"\r\n            [field]=\"fields.title\"\r\n            [textClasses]=\"'bs-card-link__item__content__title__text'\"\r\n            [labelClasses]=\"'bs-card-link__item__content__title__label'\"\r\n            [type]=\"getTypeMappedField('title')\"\r\n            [data]=\"item.title\"\r\n            [ngClass]=\"{'bs-list-view__item--link': hasLink(item), 'bs-card-link__item__content__title--reverse': styles.designDisplay === 'basic-right',\r\n                        '--cursor-pointer': parameters['data'].bizagi && parameters['data'].bizagi.active && parameters['data'].bizagi.navigation['title'].rootId}\">\r\n          </bs-collection-field-control>\r\n          <bs-actions-control-element [showList]=\"styles.designDisplay === 'basic-right' ? 'right' : 'left'\"\r\n            [item]=\"item\"\r\n            class=\"bs-actions-list-custom bs-actions-list--card-link\"\r\n            *ngIf=\"(styles['showActions'] == 'true' || styles['showActions'] == true) && (isOnRenderMode && (item.actions?.length || canShowCaseLink) || !isOnRenderMode)\"\r\n            [canShowCaseLink]=\"canShowCaseLink\"\r\n            [position]=\"'bottom'\"\r\n            (onShowCase)=\"showCase($event.idCase, null, $event.processName)\"\r\n            [ngClass]=\"{'bs-actions-list-custom--reverse': styles.designDisplay === 'basic-right'}\"\r\n            (onCreateCase)=\"createCase($event.actionId, $event.processId, $event.displayName, $event.itemId)\"\r\n            [isRender]=\"isOnRenderMode\">\r\n          </bs-actions-control-element>\r\n        </div>\r\n        <bs-collection-field-control class=\"bs-card-link__item__content__subtitle\"\r\n          *ngIf=\"fields.text.active\"\r\n          (click)=\"navigate(item, 'text');\"\r\n          [isOnRenderMode]=\"isOnRenderMode\"\r\n          [className]=\"'bs-card-link__item__content__subtitle'\"\r\n          [labelClasses]=\"'bs-card-link__item__content__subtitle__label'\"\r\n          [textClasses]=\"'bs-card-link__item__content__subtitle__text'\"\r\n          [field]=\"fields.text\" [type]=\"getTypeMappedField('text')\"\r\n          [data]=\"item.text\"\r\n          [ngClass]=\"{'bs-list-view__item--link': hasLink(item), '--cursor-pointer': parameters['data'].bizagi && parameters['data'].bizagi.active && parameters['data'].bizagi.navigation['text'].rootId}\">\r\n        </bs-collection-field-control>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"bs-list-cards__pagination\">\r\n    <bzg-paginator *ngIf=\"styles['multipageItemView'] === 'Pagination' && data['data']?.length\"\r\n      [pageIndex]=\"pagination.currentPage\"\r\n      [pageSize]=\"styles['displayedItems']\"\r\n      [totalItems]=\"data['dataCount'] ? data['dataCount'] : 0\"\r\n      [hidePageSizeSelector]=\"true\"\r\n      [showFirstLastButtons]=\"true\"\r\n      (paginationChanged)=\"onPaginationEvent($event)\">\r\n    </bzg-paginator>\r\n  </div>\r\n\r\n</div>\r\n<bs-empty-list-control-element *ngIf=\"(isDataReady && !data['data']?.length) || isDataError\"></bs-empty-list-control-element>\r\n\r\n<div *ngIf=\"(!isDataReady && !isDataError) || isProcessLoading\" style=\"width: 100%; text-align: center\">\r\n  <div class=\"bs-loader bs-loader--centered\">\r\n    <div class=\"bs-loader__spinner\">\r\n      <div class=\"bs-loader__double-bounce1\"></div>\r\n      <div class=\"bs-loader__double-bounce2\"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport {BaseDataControlComponent} from 'app/common/controls/base-data.component';\r\nimport { CATEGORY, SUBCATEGORY_LIST, LIST_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\nimport { DefaultValues } from '../../misc/default-values';\r\n\r\n@Component({\r\n  selector: 'bs-card-link-control',\r\n  templateUrl: './card-link-control.component.html',\r\n  styleUrls: ['./card-link-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: LIST_CONTROLS.cardLink.type,\r\n    category: CATEGORY.BUNDLES.displayName,\r\n    subcategory: SUBCATEGORY_LIST.displayName,\r\n    displayName: LIST_CONTROLS.cardLink.displayName,\r\n    icon: LIST_CONTROLS.cardLink.icon,\r\n    styles: {\r\n      designDisplay: {\r\n        type: 'design',\r\n        defaultValue: 'basic-right',\r\n        category: 'hidden',\r\n        displays: {\r\n          'basic-right': {\r\n            icon: 'card-link-basic-right',\r\n            text: 'siteeditor.layouts.DESIGN_DISPLAY_RIGHT',\r\n          },\r\n          'basic-left': {\r\n            icon: 'card-link-basic-left',\r\n            text: 'siteeditor.layouts.DESIGN_DISPLAY_LEFT',\r\n          },\r\n          'title-top-left': {\r\n            icon: 'card-link-title-top-left',\r\n            text: 'siteeditor.layouts.DESIGN_TITLE_TOP_LEFT',\r\n          },\r\n          'title-top-right': {\r\n            icon: 'card-link-title-top-right',\r\n            text: 'siteeditor.layouts.DESIGN_TITLE_TOP_RIGHT',\r\n          }\r\n        }\r\n      },\r\n      layout: {\r\n        type: 'layout',\r\n        defaultValue: 'three',\r\n        category: 'hidden',\r\n       layouts: {\r\n            one: {\r\n              icon: 'one-column-thin',\r\n              text: 'ONE_COLUMN',\r\n              columns: 1\r\n            },\r\n            two: {\r\n              icon: 'two-columns-thin',\r\n              text: 'TWO_COLUMNS',\r\n              min: 50,\r\n              columns: 2\r\n            },\r\n            three: {\r\n              icon: 'three-columns-thin',\r\n              text: 'THREE_COLUMNS',\r\n              min: 75,\r\n              columns: 3\r\n            }\r\n          }\r\n      },\r\n      multipageItemView: {\r\n        type: 'radio',\r\n        defaultValue: 'Pagination',\r\n        category: 'layout',\r\n        values: ['Pagination']\r\n      },\r\n      verticalItemSpacing: {\r\n        type: 'range',\r\n        defaultValue: 12,\r\n        category: 'layout',\r\n        step: 4,\r\n        min: 4,\r\n        max: 40,\r\n        unitValue: 'px',\r\n        headerName: 'Rows'\r\n      },\r\n      displayedItems: {\r\n        type: 'range',\r\n        defaultValue: 3,\r\n        category: 'layout',\r\n        min: 1,\r\n        max: 10\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: '#FFF'\r\n      },\r\n      boxShadow: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'text',\r\n        defaultValue: '0 1px 1px 0 rgba(0,0,0,.5), 0 1px 6px 0 rgba(0,0,0,.02)'\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '1px solid #e4e8ea'\r\n      },\r\n      cornerRadius: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 6,\r\n        max: 50\r\n      },\r\n      showActions: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: 'true'\r\n      }\r\n    },\r\n    parameters: {\r\n      data: {\r\n        type: 'data',\r\n        size: 10\r\n      },\r\n      filter: {\r\n        type: 'text',\r\n        defaultValue: '',\r\n        isFilter: true\r\n      }\r\n    },\r\n    inputs: ['parameters.filter'],\r\n    defaultSize: {\r\n      width: 900,\r\n      height: 182,\r\n      minWidth: 300,\r\n      minHeight: 124,\r\n    dynamic: true\r\n    },\r\n    bizagiConnections: {\r\n      cases: true,\r\n      collections: true,\r\n      searches: true,\r\n      config: {\r\n        image: 'card-link-config.png',\r\n        coords: {\r\n          image: {\r\n            w: 77,\r\n            h: 82,\r\n            x: 6,\r\n            y: 6\r\n          },\r\n          title: {\r\n            w: 166,\r\n            h: 21,\r\n            x: 97,\r\n            y: 17\r\n          },\r\n          text: {\r\n            w: 103,\r\n            h: 21,\r\n            x: 97,\r\n            y: 43\r\n          }\r\n        }\r\n      }\r\n    },\r\n    fields: {\r\n      image: {\r\n        type: 'image',\r\n        displayName: 'siteeditor.properties.IMAGE',\r\n        styles: {\r\n          imagesSize: {\r\n            type: 'image-size',\r\n            defaultValue: 'scale'\r\n          }, opacity: {\r\n            type: 'range',\r\n            defaultValue: 100,\r\n            min: 0,\r\n            max: 100\r\n          },\r\n          background: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          border: {\r\n            type: 'border',\r\n            defaultValue: 'border-none'\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        type: 'title',\r\n        displayName: 'siteeditor.properties.TITLE',\r\n        styles: {\r\n          fieldLabel: {\r\n            type: 'label-field',\r\n            defaultValue: {\r\n              isActive: false,\r\n              text: 'Label:'\r\n            }\r\n          },\r\n          fontFamily: {\r\n            type: 'font-family',\r\n            defaultValue: 'inherit'\r\n          },\r\n          fontSize: {\r\n            type: 'font-size',\r\n            defaultValue: '16px',\r\n            max: 48\r\n          },\r\n          letterSpacing: {\r\n            type: 'range',\r\n            defaultValue: 0,\r\n            min: 0,\r\n            max: 60\r\n          },\r\n          align: {\r\n            type: 'text-align',\r\n            defaultValue: 'left'\r\n          },\r\n          fontColor: {\r\n            type: 'color',\r\n            defaultValue: 'color-first'\r\n          },\r\n          backColor: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          fontWeight: {\r\n            type: 'font-weight',\r\n            defaultValue: 'normal'\r\n          }\r\n        }\r\n      },\r\n      text: {\r\n        type: 'text',\r\n        displayName: 'siteeditor.properties.TEXT',\r\n        styles: {\r\n          fieldLabel: {\r\n            type: 'label-field',\r\n            defaultValue: {\r\n              isActive: false,\r\n              text: 'Label:'\r\n            }\r\n          },\r\n          fontFamily: {\r\n            type: 'font-family',\r\n            defaultValue: 'inherit'\r\n          },\r\n          fontSize: {\r\n            type: 'font-size',\r\n            defaultValue: '12px',\r\n            max: 48\r\n          },\r\n          letterSpacing: {\r\n            type: 'range',\r\n            defaultValue: 0,\r\n            min: 0,\r\n            max: 60\r\n          },\r\n          align: {\r\n            type: 'text-align',\r\n            defaultValue: 'left'\r\n          },\r\n          fontColor: {\r\n            type: 'color',\r\n            defaultValue: 'color-sixth'\r\n          },\r\n          backColor: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          fontWeight: {\r\n            type: 'font-weight',\r\n            defaultValue: 'normal'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    hiddenOptions: {\r\n      modifyFields: true,\r\n      designOption: false\r\n    }\r\n  }\r\n)\r\n\r\nexport class CardLinkControlComponent extends BaseDataControlComponent {\r\n  public defaultPicture = DefaultValues.getDefaultPicture();\r\n  public isOnRenderMode: boolean;\r\n}\r\n","<div *ngIf=\"isDataReady\">\r\n  <div class=\"bs-gallery-link\" #targetElement>\r\n    <ul class=\"bs-gallery-link__items\" *ngIf=\"data['data']?.length\">\r\n      <li bs-dynamic-size-item=\"true\"\r\n          class=\"bs-gallery-link__item\"\r\n          *ngFor=\"let item of data['data']; let i = index;\"\r\n          [style.margin-bottom]=\"styles['verticalItemSpacing'] + 'px'\"\r\n          [style.box-shadow]=\"styles['boxShadow']\"\r\n          [style.background-color]=\"styles['backColor']\"\r\n          [ngStyle]=\"{'border' : styles.border,\r\n          'border-radius': styles['cornerRadius'] + 'px'\r\n          }\"\r\n          (click)=\"goToLink(item);\"\r\n          [ngClass]=\"{'bs-gallery-link__item--link': hasLink(item)}\">\r\n        <div class=\"bs-gallery-link__item__link\">\r\n          <div *ngIf=\"fields.image.active\"\r\n               class=\"bs-gallery-link__item__img-container\"\r\n               [ngStyle]=\"{'border' : fields.image.styles['border'], 'background' : fields.image.styles['background']}\"\r\n               (click)=\"navigate(item, 'image')\">\r\n            <img *ngIf=\"item['image'] != ''\"\r\n              class=\"bs-gallery-link__item__link__img\"\r\n              [src]=\"item['image']\"\r\n              [ngClass]=\"{'bs-default-image': item['image'] === '',\r\n                'image-original': fields.image.styles['imagesSize'] === 'original',\r\n              'image-scale': fields.image.styles['imagesSize'] === 'scale'}\"\r\n              [style.opacity]=\"fields.image.styles['opacity']?fields.image.styles['opacity']/100:fields.image.styles['opacity']\"\r\n              (error)=\"item['image'] = defaultPicture\"\r\n              (load)=\"resize($event)\"\r\n             />\r\n          </div>\r\n          <div class=\"bs-gallery-link__item__text\" [style.background-color]=\"styles['backColor']\" *ngIf=\"fields.title.active\" [ngClass]=\"{'bs-gallery-link__item__text--top': styles.designDisplay === 'title-top'}\">\r\n            <bs-collection-field-control class=\"bs-gallery-link__item__text__title\" (click)=\"navigate(item, 'title');\"\r\n              [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-gallery-link__item__text__title'\" [field]=\"fields.title\" [type]=\"getTypeMappedField('title')\"\r\n              [data]=\"item.title\">\r\n            </bs-collection-field-control>\r\n            <bs-actions-control-element\r\n              [item]=\"item\" class=\"bs-actions-list\"\r\n              [canShowCaseLink]=\"canShowCaseLink\"\r\n              *ngIf=\"(styles['showActions'] == 'true' || styles['showActions'] == true) && (isOnRenderMode && (item.actions?.length || canShowCaseLink) || !isOnRenderMode)\"\r\n              (onShowCase)=\"showCase($event.idCase, null, $event.processName)\"\r\n              (onCreateCase)=\"createCase($event.actionId, $event.processId, $event.displayName, $event.itemId)\"\r\n              [isRender]=\"isOnRenderMode\"\r\n              [showList]=\"styles.designDisplay === 'title-top' ? 'bottom' : 'left'\"\r\n              [position]=\"control.styles.designActions === 'top' ? 'bottom' : 'top'\">\r\n            </bs-actions-control-element>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"bs-gallery-link__pagination\">\r\n      <bzg-paginator *ngIf=\"styles['multipageItemView'] === 'Pagination' && data['data']?.length\"\r\n        [pageIndex]=\"pagination.currentPage\"\r\n        [pageSize]=\"styles['displayedItems']\"\r\n        [totalItems]=\"data['dataCount'] ? data['dataCount'] : 0\"\r\n        [hidePageSizeSelector]=\"true\"\r\n        [showFirstLastButtons]=\"true\"\r\n        (paginationChanged)=\"onPaginationEvent($event)\">\r\n      </bzg-paginator>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n<bs-empty-list-control-element *ngIf=\"(isDataReady && !data['data']?.length) || isDataError\"></bs-empty-list-control-element>\r\n<div *ngIf=\"(!isDataReady && !isDataError) || isProcessLoading\" style=\"width: 100%; text-align: center\" >\r\n  <div class=\"bs-loader bs-loader--centered\">\r\n    <div class=\"bs-loader__spinner\">\r\n      <div class=\"bs-loader__double-bounce1\"></div>\r\n      <div class=\"bs-loader__double-bounce2\"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {BaseDataControlComponent} from 'app/common/controls/base-data.component';\r\nimport {Global} from 'app/common/misc/global';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport {\r\n  CATEGORY,\r\n  SUBCATEGORY_GALLERY_LINK,\r\n  GALERRY_LINK_CONTROLS,\r\n  PROPERTY_SECTIONS,\r\n} from './../controls-name-definition';\r\nimport { DefaultValues } from '../../misc/default-values';\r\n\r\n@Component({\r\n  selector: 'bs-gallery-link-control',\r\n  templateUrl: './gallery-link-control.component.html',\r\n  styleUrls: ['./gallery-link-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: GALERRY_LINK_CONTROLS.galleryLink.type,\r\n    category: CATEGORY.BUNDLES.displayName,\r\n    subcategory: SUBCATEGORY_GALLERY_LINK.displayName,\r\n    displayName: GALERRY_LINK_CONTROLS.galleryLink.displayName,\r\n    icon: GALERRY_LINK_CONTROLS.galleryLink.icon,\r\n    styles: {\r\n      designDisplay: {\r\n        type: 'design',\r\n        defaultValue: 'title-bottom',\r\n        category: 'hidden',\r\n        displays: {\r\n          'title-bottom': {\r\n            icon: 'image-gallery-display-bottom',\r\n            text: 'siteeditor.layouts.DESIGN_TITLE_BOTTOM',\r\n          },\r\n          'title-top': {\r\n            icon: 'image-gallery-display-top',\r\n            text: 'siteeditor.layouts.DESIGN_TITLE_TOP',\r\n          }\r\n        }\r\n      },\r\n      showActions: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: 'true'\r\n      },\r\n      layout: {\r\n        type: 'layout',\r\n        defaultValue: 'three',\r\n        category: 'hidden',\r\n        layouts: {\r\n            two: {\r\n              icon: 'two-columns-thin',\r\n              text: 'TWO_COLUMNS',\r\n              columns: 2\r\n            },\r\n            three: {\r\n              icon: 'three-columns-thin',\r\n              text: 'THREE_COLUMNS',\r\n              min: 50,\r\n              columns: 3\r\n            },\r\n            four: {\r\n              icon: 'four-columns-thin',\r\n              text: 'FOUR_COLUMNS',\r\n              min: 66,\r\n              columns: 4\r\n            }\r\n          }\r\n      },\r\n      multipageItemView: {\r\n        type: 'radio',\r\n        defaultValue: 'Pagination',\r\n        category: 'layout',\r\n        values: ['Pagination']\r\n      },\r\n      verticalItemSpacing: {\r\n        type: 'range',\r\n        defaultValue: 12,\r\n        category: 'layout',\r\n        step: 4,\r\n        min: 4,\r\n        max: 40,\r\n        unitValue: 'px',\r\n        headerName: 'Rows'\r\n      },\r\n      displayedItems: {\r\n        type: 'range',\r\n        defaultValue: 4,\r\n        category: 'layout',\r\n        min: 1,\r\n        max: 10\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: '#FFF'\r\n      },\r\n      boxShadow: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'text',\r\n        defaultValue: '0 1px 1px 0 rgba(0,0,0,.5), 0 1px 6px 0 rgba(0,0,0,.02)'\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '1px solid #e4e8ea'\r\n      },\r\n      cornerRadius: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 6,\r\n        max: 50\r\n      }\r\n      },\r\n    parameters: {\r\n      data: {\r\n        type: 'data',\r\n        size: 10\r\n      }\r\n    },\r\n    inputs: ['parameters.filter'],\r\n    defaultSize: {\r\n      width: 963,\r\n      height: 276,\r\n      minWidth: 300,\r\n      minHeight: 124,\r\n      dynamic: true\r\n    },\r\n    bizagiConnections: {\r\n      cases: true,\r\n      collections: true,\r\n      searches: true,\r\n      config: {\r\n        image: 'image-gallery-config.png',\r\n        coords: {\r\n          image: {\r\n            w: 56,\r\n            h: 61,\r\n            x: 10,\r\n            y: 6\r\n          },\r\n          title: {\r\n            w: 56,\r\n            h: 9,\r\n            x: 10,\r\n            y: 73\r\n          }\r\n        }\r\n      }\r\n    },\r\n    fields: {\r\n      image: {\r\n        type: 'image',\r\n        displayName: 'siteeditor.properties.IMAGE',\r\n        styles: {\r\n          imagesSize: {\r\n            type: 'image-size',\r\n            defaultValue: 'scale'\r\n          }, opacity: {\r\n            type: 'range',\r\n            defaultValue: 100,\r\n            min: 0,\r\n            max: 100\r\n          },\r\n          background: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          border: {\r\n            type: 'border',\r\n            defaultValue: 'border-none'\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        type: 'title',\r\n        displayName: 'siteeditor.properties.TITLE',\r\n        styles: {\r\n          fieldLabel: {\r\n            type: 'label-field',\r\n            defaultValue: {\r\n              isActive: false,\r\n              text: 'Label:'\r\n            }\r\n          },\r\n          fontFamily: {\r\n            type: 'font-family',\r\n            defaultValue: 'inherit'\r\n          },\r\n          fontSize: {\r\n            type: 'font-size',\r\n            defaultValue: '16px',\r\n            max: 48\r\n          },\r\n          letterSpacing: {\r\n            type: 'range',\r\n            defaultValue: 0,\r\n            min: 0,\r\n            max: 60\r\n          },\r\n          align: {\r\n            type: 'text-align',\r\n            defaultValue: 'left'\r\n          },\r\n          fontColor: {\r\n            type: 'color',\r\n            defaultValue: 'color-first'\r\n          },\r\n          backColor: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          fontWeight: {\r\n            type: 'font-weight',\r\n            defaultValue: 'normal'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    hiddenOptions: {\r\n      modifyFields: true,\r\n      designOption: false\r\n    }\r\n  }\r\n)\r\n\r\nexport class GalleryLinkControlComponent extends BaseDataControlComponent {\r\n\r\n  public isDesktop = false;\r\n  public isResponsive = false;\r\n  public defaultPicture = DefaultValues.getDefaultPicture();\r\n  public isOnRenderMode: boolean;\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {BaseProcessControlComponent} from 'app/common/controls/base-process.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, SUBCATEGORY_IMAGE, IMAGE_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\nimport { DefaultValues } from '../../misc/default-values';\r\n\r\n@Component({\r\n  selector: 'bs-image-control',\r\n  templateUrl: './image-control.component.html',\r\n  styleUrls: ['./image-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: IMAGE_CONTROLS.image.type,\r\n    category: CATEGORY.MEDIA.displayName,\r\n    subcategory: SUBCATEGORY_IMAGE.displayName,\r\n    displayName: IMAGE_CONTROLS.image.displayName,\r\n    icon: IMAGE_CONTROLS.image.icon,\r\n    styles: {\r\n      imagesSize: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'image-size',\r\n        defaultValue: 'scale'\r\n      },\r\n      opacity: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'range',\r\n        defaultValue: 100,\r\n        min: 0,\r\n        max: 100\r\n      },\r\n      background: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'rgba(0, 0, 0, 0)'\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '0px solid #fff'\r\n      }\r\n    },\r\n    parameters: {\r\n      image: {\r\n        type: 'image',\r\n        defaultValue: DefaultValues.getDefaultPicture()\r\n      }\r\n    },\r\n    links: {\r\n      staticPages: true,\r\n      internalPages: true,\r\n      processes: true\r\n    },\r\n    defaultSize: {\r\n      width: 120,\r\n      height: 120\r\n    }\r\n  }\r\n)\r\n\r\nexport class ImageControlComponent extends BaseProcessControlComponent {\r\n\r\n  public defaultPicture = DefaultValues.getDefaultPicture();\r\n\r\n}\r\n","<div class=\"bs-control-image\" [style.background]=\"styles['background']\">\r\n  <a class=\"bs-control-image__wrapper\"\r\n     [ngClass]=\"{'--no-event': link.url === '#'}\">\r\n    <img class=\"bs-control-image__img\"\r\n         [src]=\"parameters['image'] !== null && parameters['image'] !== undefined ? parameters['image'] : defaultPicture\"\r\n         (error)=\"parameters['image'] = defaultPicture\"\r\n         [style.opacity]=\"styles['opacity'] ? styles['opacity'] / 100  : styles['opacity']\"\r\n         [ngStyle]=\"{'border' : styles.border}\"\r\n         (click)=\"link && link.type === 'processes'?startProcess(): goToPage()\"\r\n         [ngClass]=\"{'--cursor-pointer': link && link.type === 'processes',\r\n         'image-original': styles['imagesSize'] === 'original',\r\n             'image-scale': styles['imagesSize'] === 'scale'}\"/>\r\n  </a>\r\n</div>\r\n","<div class=\"bs-control-image-carousel\" [ngStyle]=\"{'border' : styles['border'], 'border-radius': styles['cornerRadius'] + 'px'}\"\r\n  *ngIf=\"data && isDataReady\"\r\n  bs-dynamic-size-item=\"true\" #targetElement>\r\n    <div *ngIf=\"data['data'].length\" class=\"bs-control-image-carousel--full-height\">\r\n\r\n      <div class=\"bs-control-image-carousel__actions\" *ngIf=\"(styles['showActions'] == 'true' || styles['showActions'] == true) && data['data'][selectedItem] && data['data'][selectedItem].actions?.length\" >\r\n        <div class=\"bs-control-image-carousel__actions__txt\" (click)=\" toggleActive = (toggleActive === true) ? false : true\">\r\n          {{'siteeditor.global.ACTIONS' | translate}}\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n            <use href=\"#icon-arrow-down\"></use>\r\n          </svg>\r\n        </div>\r\n        <ul *ngIf=\"data['data'][selectedItem].actions?.length || canShowCaseLink\" class=\"bs-control-image-carousel__actions__list\" [ngClass]=\"{'bs-control-image-carousel__actions__list--active': toggleActive === true }\"  >\r\n          <li *ngFor=\"let action of data['data'][selectedItem].actions\"\r\n              (click)=\"createCase(action.id, action.processId, action.displayName, data['data'][selectedItem].id); toggleActive = false\"\r\n              class=\"bs-control-image-carousel__actions__list__action\">\r\n            <span>{{action.displayName}}</span>\r\n          </li>\r\n          <li *ngIf=\"canShowCaseLink\"\r\n              (click)=\"showCase(data['data'][selectedItem].idCase, null, data['data'][selectedItem].processName); toggleActive = false\"\r\n              class=\"bs-control-image-carousel__actions__list__action\">\r\n            <span>{{\"sitemanager.global.VIEW_CASE\" | translate}}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div *ngIf=\"data['data'][selectedItem] && fields.image.active\" class=\"bs-control-image-carousel__image\"\r\n          [ngStyle]=\"{'border' : fields.image.styles['border'], 'background' : fields.image.styles['background']}\">\r\n        <img class=\"bs-selected-image\"\r\n            [src]=\"data['data'][selectedItem].image\"\r\n            (load)=\"resize($event)\"\r\n            (click)=\"navigate(data['data'][selectedItem], 'image'); goToLink(data['data'][selectedItem])\"\r\n            [ngClass]=\"{\r\n              'bs-selected-image--link': hasLink(data['data'][selectedItem]),\r\n              'bs-default-image': data['data'][selectedItem].image === '',\r\n              'image-original': fields.image.styles['imagesSize'] === 'original',\r\n              'image-scale': fields.image.styles['imagesSize'] === 'scale'\r\n            }\"\r\n              [style.opacity]=\"fields.image.styles['opacity']?fields.image.styles['opacity']/100:fields.image.styles['opacity']\">\r\n      </div>\r\n\r\n      <a class=\"bs-buttons bs-next bz-icon bz-icon-right-outline\" (click)=\"nextItem()\" ></a>\r\n      <a class=\"bs-buttons bs-prev bz-icon bz-icon-left-outline\" (click)=\"prevItem()\"></a>\r\n      <div class=\"bs-carousel-thumbnails\" [ngClass]=\"{'bs-carousel-thumbnails--is-pagination': styles['showPagination'] && pagination.totalPages > 0 }\">\r\n        <ul>\r\n          <li class=\"bs-carousel-item\"\r\n            *ngFor=\"let item of data['data']; let i = index;\"\r\n              (mouseenter)=\"selectedItem=i\"\r\n              (mouseover)=\"selectedItem=i\"\r\n\r\n              [ngClass]=\"{'--cursor-pointer': item._link && item._link.type !== 'none'}\">\r\n            <img class=\"bs-carousel-item__image\"\r\n                 [src]=\"item.image\"\r\n                 [ngClass]=\"{'image-original': styles['imagesSize'] === 'original', 'image-scale': styles['imagesSize'] === 'scale'}\"\r\n                 *ngIf=\"fields.image.active\"\r\n                 (error)=\"item.image = defaultPicture\"\r\n                 alt=\"\"\r\n            >\r\n            <div [style.background-color]=\"styles['backColor']\"\r\n              *ngIf=\"fields.title.active\"\r\n              [ngClass]=\"{'bs-gallery-link__item__text--top': styles.designDisplay === 'title-top'}\">\r\n                <bs-collection-field-control class=\"bs-carousel-item__title\" (click)=\"navigate(item, 'title');\"\r\n                  [isOnRenderMode]=\"isOnRenderMode\"\r\n                  [className]=\"'bs-carousel-item__title'\" [field]=\"fields.title\" [type]=\"getTypeMappedField('title')\"\r\n                  [data]=\"item.title\">\r\n                </bs-collection-field-control>\r\n            </div>\r\n            <div class=\"bs-carousel-item__selected\" [ngClass]=\"{selected: selectedItem === i}\" [style.background-color]=\"styles['selectedImageColor']\"></div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"bs-control-image-carousel__pagination\">\r\n      <bzg-paginator *ngIf=\"styles['multipageItemView'] === 'Pagination' && data['data']?.length\"\r\n        [pageIndex]=\"pagination.currentPage\"\r\n        [pageSize]=\"styles['displayedItems']\"\r\n        [totalItems]=\"data['dataCount'] ? data['dataCount'] : 0\"\r\n        [hidePageSizeSelector]=\"true\"\r\n        [showFirstLastButtons]=\"true\"\r\n        (paginationChanged)=\"onPaginationEvent($event); selectedItem = 0;\">\r\n      </bzg-paginator>\r\n    </div>\r\n  </div>\r\n  <bs-empty-list-control-element *ngIf=\"(isDataReady && !data['data']?.length) || isDataError\"></bs-empty-list-control-element>\r\n  <div *ngIf=\"(!isDataReady && !isDataError) || isProcessLoading\" style=\"width: 100%; text-align: center\" >\r\n    <div class=\"bs-loader bs-loader--centered\">\r\n      <div class=\"bs-loader__spinner\">\r\n        <div class=\"bs-loader__double-bounce1\"></div>\r\n        <div class=\"bs-loader__double-bounce2\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n","import { Component } from '@angular/core';\r\nimport { BaseDataControlComponent } from 'app/common/controls/base-data.component';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport { Global } from 'app/common/misc/global';\r\nimport {\r\n  CATEGORY,\r\n  SUBCATEGORY_IMAGE_CAROUSEL,\r\n  IMAGE_CAROUSEL_CONTROLS,\r\n  PROPERTY_SECTIONS,\r\n} from './../controls-name-definition';\r\nimport { DefaultValues } from '../../misc/default-values';\r\n\r\n@Component({\r\n  selector: 'bs-image-carousel-control',\r\n  templateUrl: './image-carousel-control.component.html',\r\n  styleUrls: ['./image-carousel-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: IMAGE_CAROUSEL_CONTROLS.imageCarousel.type,\r\n    category: CATEGORY.BUNDLES.displayName,\r\n    subcategory: SUBCATEGORY_IMAGE_CAROUSEL.displayName,\r\n    displayName: IMAGE_CAROUSEL_CONTROLS.imageCarousel.displayName,\r\n    icon: IMAGE_CAROUSEL_CONTROLS.imageCarousel.icon,\r\n    styles: {\r\n      layout: {\r\n        type: 'layout',\r\n        defaultValue: 'three',\r\n        category: 'hidden'\r\n      },\r\n      multipageItemView: {\r\n        type: 'radio',\r\n        defaultValue: 'Pagination',\r\n        category: 'layout',\r\n        values: ['Pagination']\r\n      },\r\n      displayedItems: {\r\n        type: 'range',\r\n        defaultValue: 4,\r\n        category: 'layout',\r\n        min: 1,\r\n        max: 10\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: '#FFF'\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '0px solid #e4e8ea'\r\n      },\r\n      cornerRadius: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 6,\r\n        max: 50\r\n      },\r\n      showActions: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: 'true'\r\n      }\r\n      },\r\n    parameters: {\r\n      data: {\r\n        type: 'data',\r\n        size: 10\r\n      }\r\n    },\r\n    inputs: ['parameters.filter'],\r\n    defaultSize: {\r\n      width: 747,\r\n      height: 492,\r\n      minWidth: 495,\r\n      minHeight: 246,\r\n      maxHeight: 492,\r\n      dynamic: true\r\n    },\r\n    bizagiConnections: {\r\n      cases: true,\r\n      collections: true,\r\n      searches: true,\r\n      config: {\r\n        image: 'image-gallery-config.png',\r\n        coords: {\r\n          image: {\r\n            w: 56,\r\n            h: 61,\r\n            x: 10,\r\n            y: 6\r\n          },\r\n          title: {\r\n            w: 56,\r\n            h: 9,\r\n            x: 10,\r\n            y: 73\r\n          }\r\n        }\r\n      }\r\n    },\r\n    fields: {\r\n      image: {\r\n        type: 'image',\r\n        displayName: 'siteeditor.properties.IMAGE',\r\n        styles: {\r\n          imagesSize: {\r\n            type: 'image-size',\r\n            defaultValue: 'scale'\r\n          }, opacity: {\r\n            type: 'range',\r\n            defaultValue: 100,\r\n            min: 0,\r\n            max: 100\r\n          },\r\n          background: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          border: {\r\n            type: 'border',\r\n            defaultValue: 'border-none'\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        type: 'title',\r\n        displayName: 'siteeditor.properties.TITLE',\r\n        styles: {\r\n          fieldLabel: {\r\n            type: 'label-field',\r\n            defaultValue: {\r\n              isActive: false,\r\n              text: 'Label:'\r\n            }\r\n          },\r\n          fontFamily: {\r\n            type: 'font-family',\r\n            defaultValue: 'inherit'\r\n          },\r\n          fontSize: {\r\n            type: 'font-size',\r\n            defaultValue: '16px',\r\n            max: 72\r\n          },\r\n          letterSpacing: {\r\n            type: 'range',\r\n            defaultValue: 0,\r\n            min: 0,\r\n            max: 60\r\n          },\r\n          align: {\r\n            type: 'text-align',\r\n            defaultValue: 'left'\r\n          },\r\n          fontColor: {\r\n            type: 'color',\r\n            defaultValue: 'color-first'\r\n          },\r\n          backColor: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          fontWeight: {\r\n            type: 'font-weight',\r\n            defaultValue: 'normal'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    hiddenOptions: {\r\n      modifyFields: true,\r\n      designOption: false\r\n    }\r\n  }\r\n)\r\n\r\nexport class ImageCarouselControlComponent extends BaseDataControlComponent {\r\n  public selectedItem = 0;\r\n  public defaultPicture = DefaultValues.getDefaultPicture();\r\n\r\n  public nextItem() {\r\n    this.selectedItem = this.selectedItem < this.data['data'].length - 1 ? this.selectedItem + 1 : 0;\r\n  }\r\n  public prevItem() {\r\n    this.selectedItem = this.selectedItem > 0 ? this.selectedItem - 1 : this.data['data'].length - 1;\r\n  }\r\n\r\n  protected resize(event: any) {\r\n    if (\r\n      event.target.height > this.maxElementHeight &&\r\n      this.controlDefinition.defaultSize.dynamic &&\r\n      this.styles.multipageItemView === 'Pagination') {\r\n      this.maxElementHeight = event.target.height;\r\n      const paginationsHeight = 40;\r\n      const dynamicSizeItem = $('[data-control-id=' + this.control.id + '] .bs-selected-image');\r\n      const itemHeight = dynamicSizeItem.outerHeight(true);\r\n      const thumbnailHeight = $('[data-control-id=' + this.control.id + '] .bs-carousel-thumbnails').outerHeight(true);\r\n      const heightElement = itemHeight + (thumbnailHeight * .6) + paginationsHeight;\r\n\r\n      if (dynamicSizeItem && heightElement) {\r\n        this.onResize.next({\r\n          width: dynamicSizeItem.width(),\r\n          height: heightElement\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div class=\"bs-loader-container bs-loader-container--center-abs bs-loader-container--overlay\" *ngIf=\"(!isDataReady && !isDataError) || isProcessLoading\">\r\n  <bs-loader-bars-render class=\"bs-loader-bars--centered\"></bs-loader-bars-render>\r\n</div>\r\n<section class=\"bs-inbox\" [ngStyle]=\"{'font-family': styles['fontFamily']}\">\r\n  <div class=\"bs-inbox__head\">\r\n    <div class=\"bs-inbox__head__nav\">\r\n      <div class=\"bs-nav-title\">\r\n        <h1 class=\"bs-nav-title__title\">{{'controls.inbox.TITLE' | translate}}</h1>\r\n      </div>\r\n      <div class=\"bs-options-inbox\">\r\n        <div class=\"bs-nav-search\">\r\n          <input class=\"bs-nav-search__box\" #caseNumberInput placeholder=\"{{'controls.inbox.SEARCH_INPUT_PLACEHOLDER' | translate}}\"\r\n            type=\"text\" (keyup.enter)=\"filterByCaseNumber(caseNumberInput.value)\">\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16\" *ngIf=\"dataSearchMode !== 'filter'\">\r\n            <use href=\"#icon-magnifying-glass\"></use>\r\n          </svg>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16\" *ngIf=\"dataSearchMode === 'filter'\" (click)=\"clearSearch(caseNumberInput)\">\r\n            <use href=\"#icon-close\"></use>\r\n          </svg>\r\n        </div>\r\n        <nav class=\"bs-nav-views\">\r\n          <ul class=\"bs-nav-views__menu\">\r\n            <li class=\"bs-nav-views__menu__option\" *ngIf=\"isDesktopMode() && !viewOptions.datatable.blocked\" [ngClass]=\"{\r\n                            'bs-nav-views__menu__option--active': viewOptions.datatable.active\r\n                          }\" (click)=\"changeView('datatable')\">\r\n              <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n                <use href=\"#icon-list\"></use>\r\n              </svg>\r\n            </li>\r\n            <li class=\"bs-nav-views__menu__option\" [ngClass]=\"{\r\n                        'bs-nav-views__menu__option--active': viewOptions.cards.active\r\n                      }\" (click)=\"changeView('cards')\">\r\n              <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n                <use href=\"#icon-grid-outline\"></use>\r\n              </svg>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"bs-inbox__head__filters\" *ngIf=\"dataSearchMode !== 'filter'\">\r\n      <div class=\"bs-inbox-filters\">\r\n        <div class=\"bs-inbox-filters__all\" [ngClass]=\"{'bs-inbox-filters--selected': !parameters.state}\" (click)=\"filterByStatus('')\">\r\n          <a class=\"bs-inbox-filters\">{{'controls.inbox.ALL' | translate}}</a>\r\n        </div>\r\n        <ul class=\"bs-inbox-filters-ls\">\r\n          <li class=\"bs-inbox-filters-ls__opt\" [ngClass]=\"{'bs-inbox-filters--selected': parameters.state === 'green'}\" (click)=\"filterByStatus('green')\">\r\n            <span class=\"bs-status-circle bs-status-circle--ontime\"></span>\r\n            <a class=\"bs-inbox-filters-ls__opt__text\">{{'controls.inbox.ON_TIME' | translate}}</a>\r\n          </li>\r\n          <li class=\"bs-inbox-filters-ls__opt\" [ngClass]=\"{'bs-inbox-filters--selected': parameters.state === 'yellow'}\" (click)=\"filterByStatus('yellow')\">\r\n            <span class=\"bs-status-circle bs-status-circle--atrisk\"></span>\r\n            <a class=\"bs-inbox-filters-ls__opt__text\">{{'controls.inbox.AT_RISK' | translate}}</a>\r\n          </li>\r\n          <li class=\"bs-inbox-filters-ls__opt\" [ngClass]=\"{'bs-inbox-filters--selected': parameters.state === 'red'}\" (click)=\"filterByStatus('red')\">\r\n            <span class=\"bs-status-circle bs-status-circle--overdue\"></span>\r\n            <a class=\"bs-inbox-filters-ls__opt__text\">{{'controls.inbox.OVERDUE' | translate}}</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"bs-inbox-search__container\" *ngIf=\"isDataReady && dataSearchMode === 'filter' && data['data']?.length > 0 && caseNumberInput.value !== ''\">\r\n    <span class=\"bs-inbox-search__results\">{{data['data']?.length}} {{\"controls.inbox.RESULT\" | translate }}</span>\r\n    <span class=\"bs-inbox-search__result-text\"> \"{{caseNumberInput.value}}\"</span>\r\n    <a class=\"bs-inbox-empty-search__clear bs-inbox-empty-search__clear--results\" (click)=\"clearSearch(caseNumberInput)\">{{\"controls.inbox.CLEAR\" | translate }}</a>\r\n  </div>\r\n  <div class=\"bs-inbox__content\" *ngIf=\"isDataReady && data['data']?.length > 0\">\r\n    <bs-inbox-control-grid-view #inboxGridView *ngIf=\"viewOptions.datatable.active\" (orderByColumn)=\"orderByColumnName($event)\"\r\n      (showCaseEvent)=\"showCaseEvent($event)\" [data]=\"data['data']\" [pagination]=\"pagination\" [styles]=\"styles\"></bs-inbox-control-grid-view>\r\n    <bs-inbox-control-card-view *ngIf=\"viewOptions.cards.active\" [data]=\"data['data']\" [styles]=\"styles\" [pagination]=\"pagination\" (showCaseEvent)=\"showCaseEvent($event)\"\r\n      [isRenderingMode]=\"isRenderingMode()\" [dataSearchMode]=\"dataSearchMode\" [control]=\"control\"></bs-inbox-control-card-view>\r\n  </div>\r\n  <div class=\"bs-inbox-empty__container\" *ngIf=\"isDataReady && dataSearchMode === 'state' && data['data']?.length === 0\">\r\n    <div>\r\n      <svg class=\"bz-icon-svg bz-icon-svg--32\">\r\n        <use href=\"#icon-inbox-32\"></use>\r\n      </svg>\r\n      <span class=\"bs-inbox-empty__message\">{{\"controls.inbox.EMPTY\" | translate:{state: stateFilterLocalization} }}</span>\r\n    </div>\r\n  </div>\r\n  <div class=\"bs-inbox-empty-search__container\" *ngIf=\"isDataReady && dataSearchMode === 'filter' && data['data']?.length === 0\">\r\n    <div>\r\n      <span class=\"bs-inbox-empty-search__title\">{{\"controls.inbox.SEARCH_EMPTY\" | translate }}</span>\r\n      <span class=\"bs-inbox-empty-search__text\">\"{{caseNumberInput.value}}\"</span>\r\n      <span class=\"bs-inbox-empty-search__text-advice\">{{\"controls.inbox.ADVICE\" | translate }}</span>\r\n      <a class=\"bs-inbox-empty-search__clear\" (click)=\"clearSearch(caseNumberInput)\">{{\"controls.inbox.CLEAR\" | translate }}</a>\r\n    </div>\r\n  </div>\r\n  <div class=\"bs-inbox__footer\">\r\n    <bzg-paginator *ngIf=\"dataSearchMode !== 'filter'\"\r\n        [pageIndex]=\"pagination.currentPage\"\r\n        [pageSize]=\"styles['displayedItems']\"\r\n        [totalItems]=\"data['dataCount'] ? data['dataCount'] : 0\"\r\n        [hidePageSizeSelector]=\"true\"\r\n        [showFirstLastButtons]=\"true\"\r\n        (paginationChanged)=\"onPaginationEvent($event)\">\r\n    </bzg-paginator>\r\n\r\n  </div>\r\n</section>","import {Component, ElementRef, ViewChild, HostBinding} from '@angular/core';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport {CATEGORY, SUBCATEGORY_INBOX, PROPERTY_SECTIONS} from './../controls-name-definition';\r\nimport {EDeviceMode} from 'app/editor/models/EDeviceMode';\r\nimport {InboxControlGridViewComponent} from 'app/common/controls/inbox-control/grid-view/inbox-grid-view.component';\r\nimport {BaseInboxControlComponent, EDataType} from '../base-inbox.component';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\n@Component({\r\n  selector: 'bs-inbox-control',\r\n  templateUrl: './inbox-control.component.html',\r\n  styleUrls: ['./inbox-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n  type: 'inbox',\r\n  displayName: 'INBOX_CONTROL',\r\n  category: CATEGORY.EXPERIENCE_ELEMENTS.displayName,\r\n  subcategory: SUBCATEGORY_INBOX.displayName,\r\n  icon: SUBCATEGORY_INBOX.controls.Inbox.icon,\r\n  styles: {\r\n    displayedItems: {\r\n      type: 'range',\r\n      defaultValue: 10,\r\n      category: 'hidden',\r\n      min: 1,\r\n      max: 10\r\n    },\r\n    fontFamily: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-family',\r\n      defaultValue: 'inherit',\r\n    },\r\n    layout: {\r\n      type: 'layout',\r\n      defaultValue: 'three',\r\n      category: 'hidden',\r\n      layouts: {\r\n        one: {\r\n          icon: 'one-column-thin',\r\n          text: 'ONE_COLUMN',\r\n          columns: 1\r\n        },\r\n        two: {\r\n          icon: 'two-columns-thin',\r\n          text: 'TWO_COLUMNS',\r\n          min: 50,\r\n          columns: 2\r\n        },\r\n        three: {\r\n          icon: 'three-columns-thin',\r\n          text: 'THREE_COLUMNS',\r\n          min: 75,\r\n          columns: 3\r\n        }\r\n      }\r\n    }\r\n  },\r\n  parameters: {\r\n    data: {\r\n      type: 'data',\r\n      size: 3,\r\n      defaultValue: {\r\n       },\r\n      mappings: {\r\n        processName: { type: 'title', label: 'DATA_PROPERTY_IMAGE' },\r\n        caseNumber: { type: 'bizagi-number', label: 'DATA_PROPERTY_TITLE' },\r\n        workitems: { type: 'workitem', label: 'DATA_PROPERTY_TEXT' },\r\n        creationDate: { type: 'date', label: 'DATA_PROPERTY_TEXT' },\r\n        solutionDate: { type: 'date', label: 'DATA_PROPERTY_TEXT' }\r\n      }\r\n    }\r\n  },\r\n  defaultSize: {\r\n    width: 1100,\r\n    height: 995,\r\n    minWidth: 320,\r\n    minHeight: 995,\r\n    maxHeight: 995\r\n  },\r\n  navigation: [],\r\n  bizagiConnections: {\r\n    inbox: true\r\n  },\r\n  hiddenOptions: {\r\n    dataManager: true,\r\n    copy: true\r\n  }\r\n})\r\n\r\n\r\n\r\nexport class InboxControlComponent extends BaseInboxControlComponent {\r\n\r\n  public viewOptions = {\r\n    datatable: {\r\n      active: false,\r\n      blocked: false\r\n    },\r\n    cards: {\r\n      active: true,\r\n      blocked: false\r\n    }\r\n  };\r\n\r\n  public dataSearchMode = 'state';\r\n  public stateFilterLocalization = '';\r\n  public orderedBy = 'asc';\r\n\r\n  @ViewChild('caseNumberInput', { static: true })\r\n  public caseNumberInput;\r\n\r\n  @ViewChild('inboxGridView') inboxGridView: InboxControlGridViewComponent;\r\n\r\n  @HostBinding('style.pointer-events') pointerEvent = Global.isOnRenderMode() ? 'all': 'none';\r\n\r\n  constructor(private _eref: ElementRef) {\r\n    super();\r\n    this.dataType = EDataType.Inbox;\r\n  }\r\n\r\n  ngOnInit() {\r\n   this.onChanged();\r\n    this.changeView('cards');\r\n  }\r\n\r\n  public changeView(option: String) {\r\n    switch (option) {\r\n      case 'datatable':\r\n        this.viewOptions.datatable.active = true;\r\n        this.viewOptions.cards.active = false;\r\n        this.styles.displayedItems = 16;\r\n        break;\r\n      case 'cards':\r\n        this.viewOptions.datatable.active = false;\r\n        this.viewOptions.cards.active = true;\r\n        this._setCardPaginationSize();\r\n        break;\r\n    }\r\n    setTimeout(() => {\r\n      this.refresh();\r\n    }, 600);\r\n    this.pagination.currentPage = _.ceil(this.pagination.from / this.pagination.rows);\r\n  }\r\n\r\n  public async filterByStatus(status: string) {\r\n    if (this.isRenderingMode()) {\r\n      this.stateFilterLocalization = (await this._getLocalizationState(status)).toLowerCase();\r\n      this.dataSearchMode = 'state';\r\n      this.parameters.filter = '';\r\n      this.parameters.state = status;\r\n      this.caseNumberInput.nativeElement.value = '';\r\n      this.pagination.from = 0;\r\n      this.pagination.currentPage = 0;\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  public filterByCaseNumber(filter: string) {\r\n    if (this.isRenderingMode()) {\r\n      if (!filter) {\r\n        this.filterByStatus('');\r\n        return;\r\n      }\r\n      this.dataSearchMode = 'filter';\r\n      this.parameters.filter = filter;\r\n      this.parameters.state = '';\r\n      this.pagination.from = 0;\r\n      this.pagination.currentPage = 0;\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  public orderByColumnName(columnName: string) {\r\n    this.orderedBy = this.orderedBy === 'asc' ? 'desc' : 'asc';\r\n    this.parameters.orderby = `${columnName} ${this.orderedBy}`;\r\n    this.refresh();\r\n  }\r\n\r\n\r\n  public clearSearch(input: any) {\r\n    input.value = '';\r\n    this.filterByStatus('');\r\n  }\r\n\r\n  protected onChanged() {\r\n    const width = this.control.location.width;\r\n    if (width < 700 && !this.viewOptions.datatable.blocked) {\r\n      this.viewOptions.datatable.blocked = true;\r\n      this.changeView('cards');\r\n    } else if (width >= 700 && this.viewOptions.datatable.blocked) {\r\n      this.viewOptions.datatable.blocked = false;\r\n    }\r\n  }\r\n\r\n  public isDesktopMode() {\r\n    return this.deviceMode === EDeviceMode.Desktop;\r\n  }\r\n\r\n  public showCaseEvent(caseParams: string[]) {\r\n    this.showCase(caseParams[0], caseParams[1], caseParams[2], null, caseParams[3]);\r\n  }\r\n\r\n  private async _getLocalizationState(state: string) {\r\n    switch (state) {\r\n      case 'red':\r\n        return this.translateService.get('controls.inbox.OVERDUE').toPromise();\r\n      case 'green':\r\n        return this.translateService.get('controls.inbox.ON_TIME').toPromise();\r\n      case 'yellow':\r\n        return this.translateService.get('controls.inbox.AT_RISK').toPromise();\r\n      default:\r\n        return '';\r\n    }\r\n  }\r\n\r\n  private _setCardPaginationSize() {\r\n    switch (this.styles.layout) {\r\n      case 'one': {\r\n        this.styles.displayedItems = 3;\r\n        break;\r\n      }\r\n      case 'two': {\r\n        this.styles.displayedItems = 6;\r\n        break;\r\n      }\r\n      case 'three': {\r\n        this.styles.displayedItems = 9;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div [style.text-align]=\"styles['align']\">\r\n\r\n  <a  class=\"bs-link\"\r\n      *ngIf=\"!styles['buttonStyle']\"\r\n      (click)=\"link && link.type === 'processes'?startProcess(): goToPage()\"\r\n      [style.font-family]=\"styles['fontFamily']\"\r\n      [style.color]=\"styles['fontColor']\"\r\n      [style.font-size]=\"styles['fontSize']\"\r\n      [style.background-color]=\"styles['backColor']\">\r\n    {{parameters['text']}}</a>\r\n\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {BaseProcessControlComponent} from 'app/common/controls/base-process.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, SUBCATEGORY_LINK, LINK_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-link-control',\r\n  templateUrl: './link-control.component.html',\r\n  styleUrls: ['./link-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: LINK_CONTROLS.link.type,\r\n    category: CATEGORY.BUTTONS.displayName,\r\n    subcategory: SUBCATEGORY_LINK.displayName,\r\n    displayName: LINK_CONTROLS.link.displayName,\r\n    icon: LINK_CONTROLS.link.icon,\r\n    styles: {\r\n      fontFamily: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-family',\r\n        defaultValue: 'inherit'\r\n      },\r\n      fontSize: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-size',\r\n        defaultValue: '18px',\r\n        max: 72\r\n      },\r\n      fontColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'rgba(0, 0, 0, 0)'\r\n      },\r\n      align: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'text-align',\r\n        defaultValue:  'left'\r\n      }\r\n    },\r\n    parameters: {\r\n      text: {\r\n        type: 'title',\r\n        defaultValue: 'Enter your text'\r\n      }\r\n    },\r\n    defaultSize: {\r\n      width: 156,\r\n      height: 33\r\n    },\r\n    links: {\r\n      staticPages: true,\r\n      internalPages: true,\r\n      processes: true\r\n    }\r\n  }\r\n)\r\nexport class LinkControlComponent extends BaseProcessControlComponent {\r\n\r\n}\r\n","<div *ngIf=\"isDataReady\" class=\"bs-list-view\" id=\"bs-dynamic-size\" data-hj-masked #targetElement>\r\n\r\n  <ul class=\"bs-list__opts\" *ngIf=\"isOnRenderMode\">\r\n    <li class=\"bs-list__opts__opt\" *ngIf=\"parameters.data.dataSource === 1\" (click)=\"refresh();\">\r\n      <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n        <use href=\"#icon-reset\"></use>\r\n      </svg>\r\n    </li>\r\n  </ul>\r\n  <ul class=\"bs-list-view__list\" *ngIf=\"data['data']?.length\">\r\n\r\n    <li bs-dynamic-size-item=\"true\" class=\"bs-list-view__item\" *ngFor=\"let item of data['data']\" (click)=\"goToLink(item);\"\r\n      [style.margin-bottom]=\"styles['verticalItemSpacing'] + 'px'\" [style.box-shadow]=\"styles['boxShadow']\"\r\n      [style.background-color]=\"styles['backColor']\" [ngStyle]=\"{'border' : styles.border,\r\n     'border-radius': styles['cornerRadius'] + 'px'\r\n     }\" [style.border-radius]=\"styles['cornerRadius']\"\r\n      [ngClass]=\"{'bs-list-view__item--link': hasLink(item), 'bs-list-view__item--reverse': control.styles.designActions === 'top'}\">\r\n      <div class=\"bs-list-view__data-container\"\r\n        [ngClass]=\"{'bs-list-view__data-container--reverse': control.styles.designDisplay === 'basic-right'}\">\r\n        <div class=\"bs-list-view__img\" [ngClass]=\"{'bs-list-view__img--default':!item.image}\"\r\n          (click)=\"navigate(item, 'image');\"\r\n          [ngStyle]=\"{'border' : fields.image.styles['border'], 'background' : fields.image.styles['background']}\"\r\n          *ngIf=\"fields.image.active\">\r\n          <img [src]=\"item.image\" (error)=\"item.image = defaultPicture\" (load)=\"resize($event)\"\r\n            [ngClass]=\"'image-' + fields.image.styles['imagesSize']\"\r\n            [style.opacity]=\"fields.image.styles['opacity']?fields.image.styles['opacity']/100:fields.image.styles['opacity']\"\r\n            alt=\"\">\r\n        </div>\r\n\r\n        <div class=\"bs-list-view__content\"\r\n          [ngClass]=\"{'bs-list-view__content__body--without-image': !fields.image.active}\">\r\n          <div class=\"bs-list-view__content__head\">\r\n            <bs-collection-field-control class=\"bs-list-view__content__head__title\" *ngIf=\"fields.title.active\"\r\n              (click)=\"navigate(item, 'title');\" [isOnRenderMode]=\"isOnRenderMode\"\r\n              [className]=\"'bs-list-view__content__head__title'\" [field]=\"fields.title\"\r\n              [type]=\"getTypeMappedField('title')\" [data]=\"item.title\"\r\n              [textClasses]=\"'bs-list-view__content__head__title__text'\"\r\n              [labelClasses]=\"'bs-list-view__content__head__title__label'\"\r\n              [ngClass]=\"{'bs-list-view__item--link': hasLink(item)}\">\r\n            </bs-collection-field-control>\r\n          </div>\r\n          <div class=\"bs-list-view__content__body\"\r\n            [ngClass]=\"{'bs-list-view__content__body--without-border': !fields.title.active}\">\r\n            <bs-collection-field-control [ngStyle]=\"getCustomStyles()\" class=\"bs-list-view__content__body__content\" *ngIf=\"fields.text.active\"\r\n              (click)=\"navigate(item, 'text');\" [isOnRenderMode]=\"isOnRenderMode\"\r\n              [className]=\"'bs-list-view__content__body__content'\" [field]=\"fields.text\"\r\n              [type]=\"getTypeMappedField('text')\" [data]=\"item.text\"\r\n              [textClasses]=\"'bs-list-view__content__body__content__text'\"\r\n              [labelClasses]=\"'bs-list-view__content__body__content__label'\"\r\n              [ngClass]=\"{'bs-list-view__item--link': hasLink(item)}\">\r\n            </bs-collection-field-control>\r\n            <bs-collection-field-control [ngStyle]=\"getCustomStyles()\"  class=\"bs-list-view__content__body__caption\" *ngIf=\"fields.caption.active\"\r\n              (click)=\"navigate(item, 'caption');\" [isOnRenderMode]=\"isOnRenderMode\"\r\n              [className]=\"'bs-list-view__content__body__caption'\" [field]=\"fields.caption\"\r\n              [type]=\"getTypeMappedField('caption')\" [data]=\"item.caption\"\r\n              [textClasses]=\"'bs-list-view__content__body__caption__text'\"\r\n              [labelClasses]=\"'bs-list-view__content__body__caption__label'\"\r\n              [ngClass]=\"{'bs-list-view__item--link': hasLink(item)}\">\r\n            </bs-collection-field-control>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"bs-list-view__footer\"\r\n      [ngClass]=\"{'bs-list-view__footer--top': control.styles.designActions === 'top'}\">\r\n      <div class=\"bs-buttons-section\" *ngIf=\"(styles['showActions'] == 'true' || styles['showActions'] == true) &&\r\n      (isOnRenderMode && (item.actions?.length || canShowCaseLink) || !isOnRenderMode)\">\r\n        <div class=\"bs-buttons-section__buttons\" *ngIf=\"!canShowCaseLink ? (item.actions && item.actions.length <= 2) : (item.actions && item.actions.length <= 1)\">\r\n          <button *ngFor=\"let action of item.actions\" title=\"{{action.displayName}}\" class=\"bs-btn bs-buttons-section__button bs-buttons-section__ellipsis\" (click)=\"createCase(action.id, action.processId, action.displayName, item.id)\">\r\n            {{action.displayName}}\r\n          </button>\r\n          <button *ngIf=\"canShowCaseLink\" title=\"{{'sitemanager.global.VIEW_CASE' | translate}}\" (click)=\"showCase(item.idCase, null, item.processName)\" class=\"bs-btn bs-buttons-section__button bs-buttons-section__ellipsis\">\r\n            {{\"sitemanager.global.VIEW_CASE\" | translate}}\r\n          </button>\r\n        </div>\r\n        <bs-actions-control-element [item]=\"item\" *ngIf=\"canShowCaseLink ? (item.actions && item.actions.length > 1) : (item.actions && item.actions.length > 2)\"\r\n          [isRender]=\"isOnRenderMode\"\r\n          [canShowCaseLink]=\"canShowCaseLink\"\r\n          [position]=\"control.styles.designActions === 'top' ? 'bottom' : 'top'\"\r\n          class=\"bs-actions-list\"\r\n          (onShowCase)=\"showCase($event.idCase, null, $event.processName)\"\r\n          (onCreateCase)=\"createCase($event.actionId, $event.processId, $event.displayName, $event.itemId)\">\r\n      </bs-actions-control-element>\r\n      </div>\r\n    </div>\r\n    </li>\r\n  </ul>\r\n\r\n  <div class=\"bs-list-view__pagination\">\r\n    <bzg-paginator *ngIf=\"styles['multipageItemView'] === 'Pagination' && data['data']?.length\"\r\n        [pageIndex]=\"pagination.currentPage\"\r\n        [pageSize]=\"styles['displayedItems']\"\r\n        [totalItems]=\"data['dataCount'] ? data['dataCount'] : 0\"\r\n        [hidePageSizeSelector]=\"true\"\r\n        [showFirstLastButtons]=\"true\"\r\n        (paginationChanged)=\"onPaginationEvent($event)\">\r\n    </bzg-paginator>\r\n  </div>\r\n</div>\r\n\r\n<bs-empty-list-control-element *ngIf=\"(isDataReady && !data['data']?.length) || isDataError\"></bs-empty-list-control-element>\r\n\r\n<div *ngIf=\"(!isDataReady && !isDataError) || isProcessLoading\" style=\"width: 100%; text-align: center\">\r\n  <div class=\"bs-loader bs-loader--centered\">\r\n    <div class=\"bs-loader__spinner\">\r\n      <div class=\"bs-loader__double-bounce1\"></div>\r\n      <div class=\"bs-loader__double-bounce2\"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { BaseDataControlComponent } from 'app/common/controls/base-data.component';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, SUBCATEGORY_LIST_VIEW, LIST_VIEW_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\nimport { DefaultValues } from '../../misc/default-values';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\n@Component({\r\n  selector: 'bs-list-view-control',\r\n  templateUrl: './list-view-control.component.html',\r\n  styleUrls: ['./list-view-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: LIST_VIEW_CONTROLS.listView.type,\r\n    category: CATEGORY.BUNDLES.displayName,\r\n    subcategory: SUBCATEGORY_LIST_VIEW.displayName,\r\n    displayName: LIST_VIEW_CONTROLS.listView.displayName,\r\n    icon: LIST_VIEW_CONTROLS.listView.icon,\r\n    styles: {\r\n      designCompressed: {\r\n        type: 'design',\r\n        category: 'design',\r\n        defaultValue: 'false'\r\n      },\r\n      designDisplay: {\r\n        type: 'design',\r\n        defaultValue: 'basic-right',\r\n        category: 'hidden',\r\n        displays: {\r\n          'basic-right': {\r\n            icon: 'dynamic_basic_right',\r\n            text: 'siteeditor.layouts.DESIGN_DISPLAY_RIGHT',\r\n          },\r\n          'basic-left': {\r\n            icon: 'dynamic_basic_left',\r\n            text: 'siteeditor.layouts.DESIGN_DISPLAY_LEFT',\r\n          }\r\n        }\r\n      },\r\n      designActions: {\r\n        type: 'design',\r\n        defaultValue: 'bottom',\r\n        category: 'hidden',\r\n        actions: {\r\n          top: {\r\n            icon: 'dynamic_top',\r\n            text: 'siteeditor.layouts.DESIGN_ACTIONS_TOP',\r\n          },\r\n          bottom: {\r\n            icon: 'dynamic_botton',\r\n            text: 'siteeditor.layouts.DESIGN_ACTIONS_BOTTOM',\r\n          }\r\n        }\r\n      },\r\n      layout: {\r\n        type: 'layout',\r\n        defaultValue: 'two',\r\n        category: 'hidden',\r\n       layouts: {\r\n            one: {\r\n              icon: 'one-column-thin',\r\n              text: 'ONE_COLUMN',\r\n              columns: 1\r\n            },\r\n            two: {\r\n              icon: 'two-columns-thin',\r\n              text: 'TWO_COLUMNS',\r\n              min: 50,\r\n              columns: 2\r\n            },\r\n            three: {\r\n              icon: 'three-columns-thin',\r\n              text: 'THREE_COLUMNS',\r\n              min: 75,\r\n              columns: 3\r\n            }\r\n          }\r\n      },\r\n      multipageItemView: {\r\n        type: 'radio',\r\n        defaultValue: 'Pagination',\r\n        category: 'layout',\r\n        values: ['Pagination']\r\n      },\r\n      verticalItemSpacing: {\r\n        type: 'range',\r\n        defaultValue: 12,\r\n        category: 'layout',\r\n        step: 4,\r\n        min: 4,\r\n        max: 40,\r\n        unitValue: 'px',\r\n        headerName: 'Rows'\r\n      },\r\n      displayedItems: {\r\n        type: 'range',\r\n        defaultValue: 3,\r\n        category: 'layout',\r\n        min: 1,\r\n        max: 10\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: '#FFF'\r\n      },\r\n      boxShadow: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'text',\r\n        defaultValue: '0 1px 1px 0 rgba(0,0,0,.5), 0 1px 6px 0 rgba(0,0,0,.02)'\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '1px solid #e4e8ea'\r\n      },\r\n      cornerRadius: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 6,\r\n        max: 50\r\n      },\r\n      showActions: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: 'true'\r\n      }\r\n    },\r\n    parameters: {\r\n      data: {\r\n        type: 'data',\r\n        size: 10\r\n      },\r\n      filter: {\r\n        type: 'filter',\r\n        defaultValue: '',\r\n        isFilter: true\r\n      }\r\n    },\r\n    inputs: ['parameters.filter'],\r\n    defaultSize: {\r\n      width: 950,\r\n      height: 620,\r\n      minWidth: 260,\r\n      minHeight: 145,\r\n      dynamic: true\r\n    },\r\n    bizagiConnections: {\r\n      cases: true,\r\n      collections: true,\r\n      searches: true,\r\n      config: {\r\n        image: 'list-view-config.png',\r\n        coords: {\r\n          image: {\r\n            w: 75,\r\n            h: 75,\r\n            x: 7,\r\n            y: 7\r\n          },\r\n          title: {\r\n            w: 136,\r\n            h: 13,\r\n            x: 90,\r\n            y: 7\r\n          },\r\n          text: {\r\n            w: 180,\r\n            h: 10,\r\n            x: 90,\r\n            y: 30\r\n          },\r\n          info: {\r\n            w: 80,\r\n            h: 18,\r\n            x: 190,\r\n            y: 50\r\n          }\r\n        }\r\n      }\r\n    },\r\n    fields: {\r\n      image: {\r\n        type: 'image',\r\n        displayName: 'siteeditor.properties.IMAGE',\r\n        styles: {\r\n          imagesSize: {\r\n            section: PROPERTY_SECTIONS.style.key,\r\n            type: 'image-size',\r\n            defaultValue: 'scale'\r\n          },\r\n          opacity: {\r\n            section: PROPERTY_SECTIONS.background.key,\r\n            type: 'range',\r\n            defaultValue: 100,\r\n            min: 0,\r\n            max: 100\r\n          },\r\n          background: {\r\n            section: PROPERTY_SECTIONS.background.key,\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          border: {\r\n            section: PROPERTY_SECTIONS.border.key,\r\n            type: 'border',\r\n            defaultValue: 'border-none'\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        type: 'title',\r\n        displayName: 'siteeditor.properties.TITLE',\r\n        styles: {\r\n          fieldLabel: {\r\n            type: 'label-field',\r\n            defaultValue: {\r\n              isActive: false,\r\n              text: 'Label: '\r\n            }\r\n          },\r\n          fontFamily: {\r\n            section: PROPERTY_SECTIONS.fonts.key,\r\n            type: 'font-family',\r\n            defaultValue: 'inherit'\r\n          },\r\n          fontSize: {\r\n            section: PROPERTY_SECTIONS.fonts.key,\r\n            type: 'font-size',\r\n            defaultValue: '28px',\r\n            max: 48\r\n          },\r\n          letterSpacing: {\r\n            section: PROPERTY_SECTIONS.fonts.key,\r\n            type: 'range',\r\n            defaultValue: 0,\r\n            min: 0,\r\n            max: 60\r\n          },\r\n          align: {\r\n            section: PROPERTY_SECTIONS.fonts.key,\r\n            type: 'text-align',\r\n            defaultValue: 'left'\r\n          },\r\n          fontColor: {\r\n            section: PROPERTY_SECTIONS.fonts.key,\r\n            type: 'color',\r\n            defaultValue: 'color-first'\r\n          },\r\n          backColor: {\r\n            section: PROPERTY_SECTIONS.background.key,\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          fontWeight: {\r\n            section: PROPERTY_SECTIONS.fonts.key,\r\n            type: 'font-weight',\r\n            defaultValue: 'normal'\r\n          }\r\n        }\r\n      },\r\n      text: {\r\n        type: 'text',\r\n        displayName: 'siteeditor.properties.TEXT',\r\n        styles: {\r\n          fieldLabel: {\r\n            type: 'label-field',\r\n            defaultValue: {\r\n              isActive: false,\r\n              text: 'Label: '\r\n            }\r\n          },\r\n          fontFamily: {\r\n            type: 'font-family',\r\n            defaultValue: 'inherit'\r\n          },\r\n          fontSize: {\r\n            type: 'font-size',\r\n            defaultValue: '12px',\r\n            max: 48\r\n          },\r\n          letterSpacing: {\r\n            type: 'range',\r\n            defaultValue: 0,\r\n            min: 0,\r\n            max: 60\r\n          },\r\n          align: {\r\n            type: 'text-align',\r\n            defaultValue: 'left'\r\n          },\r\n          fontColor: {\r\n            type: 'color',\r\n            defaultValue: 'color-sixth'\r\n          },\r\n          backColor: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          fontWeight: {\r\n            type: 'font-weight',\r\n            defaultValue: 'normal'\r\n          }\r\n        }\r\n      },\r\n      caption: {\r\n        type: 'title',\r\n        displayName: 'siteeditor.properties.CAPTION',\r\n        styles: {\r\n          fieldLabel: {\r\n            type: 'label-field',\r\n            defaultValue: {\r\n              isActive: false,\r\n              text: 'Label: '\r\n            }\r\n          },\r\n          fontFamily: {\r\n            type: 'font-family',\r\n            defaultValue: 'inherit'\r\n          },\r\n          fontSize: {\r\n            type: 'font-size',\r\n            defaultValue: '28px',\r\n            max: 48\r\n          },\r\n          letterSpacing: {\r\n            type: 'range',\r\n            defaultValue: 0,\r\n            min: 0,\r\n            max: 60\r\n          },\r\n          align: {\r\n            type: 'text-align',\r\n            defaultValue: 'left'\r\n          },\r\n          fontColor: {\r\n            type: 'color',\r\n            defaultValue: 'color-first'\r\n          },\r\n          backColor: {\r\n            type: 'color',\r\n            defaultValue: 'rgba(0, 0, 0, 0)'\r\n          },\r\n          fontWeight: {\r\n            type: 'font-weight',\r\n            defaultValue: 'normal'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    hiddenOptions: {\r\n      modifyFields: true,\r\n      designOption: false\r\n    }\r\n  }\r\n)\r\nexport class ListViewControlComponent extends BaseDataControlComponent {\r\n  public isOnRenderMode = Global.isOnRenderMode();\r\n  public defaultPicture = DefaultValues.getDefaultPicture();\r\n\r\n  public getCustomStyles() {\r\n    const element = document.getElementById(this.control.id);\r\n    if(this.control.fields.text.active && !this.control.fields.caption.active) {\r\n      const height =  140;\r\n      const lineHeight = this._getLineHeight(element, this.control.fields.text.styles.fontFamily,\r\n        this.control.fields.text.styles.fontSize);\r\n      const calc = _.floor(height/lineHeight);\r\n      $('#' + this.control.id + ' .bs-list-view__content__body__content__text').css({'-webkit-line-clamp': '' + calc + ''});\r\n      $('#' + this.control.id + ' .bs-list-view__content__body__content__text').css({'max-height': '' + height + 'px'});\r\n    }\r\n    if(!this.control.fields.text.active && this.control.fields.caption.active) {\r\n      const lineHeight = this._getLineHeight(element, this.control.fields.caption.styles.fontFamily,\r\n        this.control.fields.caption.styles.fontSize);\r\n      const height =  140;\r\n      const calc = _.floor(height/lineHeight);\r\n      $('#' + this.control.id +' .bs-list-view__content__body__caption__text').css({'-webkit-line-clamp': '' + calc + ''});\r\n      $('#' + this.control.id +' .bs-list-view__content__body__caption__text').css({'max-height': '' + height + 'px'});\r\n    }\r\n    if (this.control.fields.text.active && this.control.fields.caption.active) {\r\n      const parentHeight = 140;\r\n      const textHeight = parentHeight * 0.6;\r\n      const captionHeight =  parentHeight * 0.4;\r\n      const lineTexHeight = this._getLineHeight(element, this.control.fields.text.styles.fontFamily,\r\n        this.control.fields.text.styles.fontSize);\r\n      const lineCaptionHeight = this._getLineHeight(element, this.control.fields.caption.styles.fontFamily,\r\n          this.control.fields.caption.styles.fontSize);\r\n      const linesText = _.floor(textHeight/lineTexHeight);\r\n      const linesCaption = _.floor(captionHeight/lineCaptionHeight);\r\n      $('#' + this.control.id +' .bs-list-view__content__body__content__text').css({'-webkit-line-clamp': '' + linesText + ''});\r\n      $('#' + this.control.id +' .bs-list-view__content__body__content__text').css({'max-height': '' + textHeight + 'px'});\r\n      $('#' + this.control.id +' .bs-list-view__content__body__caption__text').css({'-webkit-line-clamp': '' + linesCaption + ''});\r\n      $('#' + this.control.id +' .bs-list-view__content__body__caption__text').css({'max-height': '' + captionHeight + 'px'});\r\n    }\r\n    return {\r\n      'max-height': '140px'\r\n    }\r\n  }\r\n\r\n  private _getLineHeight(element, fontFamily, fontSize){\r\n    let temp = document.createElement('span');\r\n    temp.setAttribute('style','margin:0px;padding:0px;opacity:0;font-family:'+ fontFamily+';font-size:'+ fontSize);\r\n    temp.innerHTML = 'test';\r\n    temp = element.parentNode.appendChild(temp);\r\n    const ret = temp.offsetHeight;\r\n    temp.parentNode.removeChild(temp);\r\n    return ret;\r\n  }\r\n\r\n}\r\n","<div class=\"bs-search-basic\" [ngStyle]=\"{'background-color': getBackgroundColor() }\"\r\n  [style.color]=\"styles['fontColor']\">\r\n  <div *ngIf=\"styles.showCategories\" class=\"bs-search-category\" [style.background-color]=\"styles['buttonBackColor']\"\r\n    [style.color]=\"styles['buttonFontColor']\">\r\n\r\n    <div class=\"selectdiv\">\r\n      <bzg-select #selectCategories [disabled]=\"!isRenderingMode()\" [placeholder]=\"parameters['searchCategoryPlaceholder']\" id=\"selectCategories\"\r\n       (valueChange)=\"setCategoryData($event)\" [style.background-color]=\"styles['buttonBackColor']\" [style.color]=\"styles['buttonFontColor']\"\r\n       [style.color]=\"styles['buttonFontColor']\" [style.fill]=\"styles['buttonFontColor']\" class=\"bs-search-basic__button bs-search-category__button\"\r\n       [bzgTooltip]=\"searchData.category\" [bzgTooltipDisabled]=\"isTooltipDisabled\">\r\n        <bzg-option [style.color]=\"styles['buttonFontColor']\" selected value=\"\" selected>{{parameters[\"searchCategoryPlaceholder\"]}}</bzg-option>\r\n        <bzg-option *ngFor=\"let category of categories\" [value]=\"category\">{{category}}</bzg-option>\r\n    </bzg-select>\r\n    </div>\r\n\r\n  </div>\r\n  <div [ngSwitch]=\"styles['displaySearch']\" class=\"bs-search-basic__container\">\r\n    <div *ngSwitchCase=\"'minimal'\" class=\"bs-search-basic__label\">\r\n      <svg class=\"bz-icon-svg bz-icon-svg--16 bs-search-basic__search-icon\">\r\n        <use href=\"#icon-magnifying-glass\"></use>\r\n      </svg>\r\n      <input #TextSearch [ngStyle]=\"{'border' : styles.border}\"\r\n        class=\"bs-search-basic__input bs-search-basic__input--minimal\" type=\"text\"\r\n             [readonly]=\"!isRenderingMode()\"\r\n             [ngClass]=\"{'bs-search-basic__input--basic': styles['displaySearch'] == 'basic'}\"\r\n             placeholder=\"{{parameters['searchPlaceholder']}}\" [(ngModel)]=\"searchValue\" (ngModelChange)=\"onSearchHandler(true)\"\r\n             (keydown.enter)=\"onSearchHandler()\"/>\r\n    </div>\r\n    <input #TextSearch *ngSwitchDefault class=\"bs-search-basic__input\" type=\"text\"\r\n           [readonly]=\"!isRenderingMode()\"\r\n           [ngStyle]=\"{'border' : styles['displaySearch'] == 'basic' ? styles.border : 'none'}\"\r\n           [ngStyle]=\"{'border' : styles.border}\"\r\n           [ngClass]=\"{'bs-search-basic__input--basic': styles['displaySearch'] == 'basic'}\"\r\n           placeholder=\"{{parameters['searchPlaceholder']}}\" [(ngModel)]=\"searchValue\" (ngModelChange)=\"onSearchHandler(true)\"\r\n           (keydown.enter)=\"onSearchHandler()\"/>\r\n\r\n    <bzg-icon [nameIcon]=\"'icon-close'\" class=\"bs-search-basic__icon-close\" *ngIf=\"searchValue\" (click)=\"clearSearch()\"></bzg-icon>\r\n  </div>\r\n  <button class=\"bs-search-basic__button\"\r\n    [ngClass]=\"{'bs-search-basic__button--basic': styles['displaySearch'] == 'basic'}\"\r\n    [style.color]=\"styles['buttonFontColor']\" *ngIf=\"styles['displaySearch'] !== 'minimal'\" type=\"button\"\r\n    [style.background]=\"styles['buttonBackColor']\" (click)=\"onSearchHandler();\">\r\n    {{parameters['searchButtonName']}}\r\n    <i class=\"bz-icon bz-icon-{{parameters['searchIcon']}}\" [attr.style]=\"getIconColorStyle()\"></i>\r\n  </button>\r\n</div>\r\n","import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, SUBCATEGORY_SEARCH, SEARCH_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\nimport { ThemeService } from 'app/common/services/sites/theme.service';\r\nimport { BaseSearchComponent } from '../base-search.component';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { select } from '@ngrx/store';\r\nimport { getSiteLanguage } from '../../../render/store/multilanguage/multilanguage.selector';\r\nimport { BzgSelectComponent } from 'bz-genome-angular/select/select/select.component';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { getDefaultFontSite } from 'app/render/store/site/site.selector';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'bs-search-control',\r\n  templateUrl: './search-control.component.html',\r\n  styleUrls: ['./search-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: SEARCH_CONTROLS.search.type,\r\n    category: CATEGORY.BUNDLES.displayName,\r\n    subcategory: SUBCATEGORY_SEARCH.displayName,\r\n    displayName: SEARCH_CONTROLS.search.displayName,\r\n    icon: SEARCH_CONTROLS.search.icon,\r\n    styles: {\r\n      displaySearch: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'display-search',\r\n        defaultValue: 'boxed'\r\n      },\r\n      showCategories: {\r\n        type: 'boolean',\r\n        defaultValue: false,\r\n        category: 'hidden'\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n      },\r\n      buttonBackColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n      },\r\n      buttonFontColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n      },\r\n      iconColor: {\r\n        section: PROPERTY_SECTIONS.icon.key,\r\n        type: 'color',\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '1px solid #000'\r\n      }\r\n    },\r\n    parameters: {\r\n      searchButtonName: {\r\n        type: 'title',\r\n        defaultValue: 'Search'\r\n      },\r\n      searchPlaceholder: {\r\n        type: 'title',\r\n        defaultValue: 'Type something'\r\n      },\r\n      searchIcon: {\r\n        type: 'icon-selector',\r\n        defaultValue: 'search'\r\n      },\r\n      searchCategoryPlaceholder: {\r\n        type: 'title',\r\n        defaultValue: 'Category'\r\n      },\r\n    },\r\n    defaultSize: {\r\n      width: 800,\r\n      height: 125,\r\n      minWidth: 492\r\n    },\r\n    actions: {\r\n      onSearch: {\r\n        outputs: [\r\n          {\r\n            type: 'text',\r\n            name: 'filter'\r\n          },\r\n          {\r\n            type: 'text-list',\r\n            name: 'category'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    hiddenOptions: {\r\n      dataManager: true\r\n    }\r\n\r\n  }\r\n)\r\nexport class SearchControlComponent extends BaseSearchComponent {\r\n\r\n  private _searchValueSubject = new Subject<string>();\r\n  public searchValue: string;\r\n  public searchData: ISearchData = {} as ISearchData;\r\n  @ViewChild('TextSearch') searchInput: ElementRef;\r\n  public expandedCategory = false;\r\n  public expandedCategories = false;\r\n  @ViewChild('selectCategories', { static: false }) selectCategories: BzgSelectComponent;\r\n  public themeVariables: Object;\r\n  public isTooltipDisabled = true;\r\n  public globalFont: string;\r\n  public select: JQuery<HTMLElement>;\r\n  private currentLanguage: ILanguageResource;\r\n  private refreshTime = 300;\r\n  private _searchValueSubscription: Subscription;\r\n  private _languageSubscription: Subscription;\r\n  private _defaultFontSubscription: Subscription;\r\n\r\n  constructor(private _themeServices: ThemeService,\r\n    private _domSanitizer: DomSanitizer) {\r\n    super();\r\n    this._searchValueSubscription = this._searchValueSubject.pipe(\r\n      debounceTime(this.refreshTime)).subscribe((value) => {\r\n        this.notifyChange({\r\n          action: 'onSearch',\r\n          value: {\r\n            filter: value,\r\n            category: this.searchData.category || ''\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  public onSearchHandler(checkNavigate = false) {\r\n    if (!checkNavigate || this.actions['onSearch'].type !== 'navigate')  {\r\n      this._searchValueSubject.next(this.searchValue);\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.select = Global.modifyWidhSelect(\r\n      'bzg-select',\r\n      'click',\r\n      '.cdk-overlay-container .bz-select-options', null);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._searchValueSubscription?.unsubscribe();\r\n    this._languageSubscription?.unsubscribe();\r\n    this.select?.unbind('click');\r\n  }\r\n\r\n  public getIconColorStyle() {\r\n    return this._domSanitizer.bypassSecurityTrustStyle(this.styles['iconColor'] ? 'color: '\r\n    + this.styles['iconColor'] + ' !important' : '');\r\n  }\r\n\r\n  ngOnInit() {\r\n    const isActiveCategories = this.styles['showCategories'];\r\n    this._themeServices.refreshThemeVariables();\r\n    this.themeVariables = this._themeServices.getThemeVariables();\r\n    this.actions = this.control.actions;\r\n    if (this.isRenderingMode()) {\r\n      if (isActiveCategories) {\r\n        this.loadCategories();\r\n      }\r\n      this._languageSubscription = this.baseStore.pipe(select(getSiteLanguage)).subscribe((language) => {\r\n        if (this.currentLanguage && this.currentLanguage.language.name !== language.language.name) {\r\n          if (this.actions['onSearch'].type !== 'navigate') {\r\n            if (this.selectCategories?.value) {\r\n              this.selectCategories.value = '';\r\n            }\r\n            this.searchData.category = '';\r\n            this.clearSearch(0);\r\n          }\r\n          if (isActiveCategories) {\r\n            this.loadCategories();\r\n          }\r\n        }\r\n\r\n        this.currentLanguage = language;\r\n      })\r\n      this._defaultFontSubscription = this.baseStore.pipe(select(getDefaultFontSite)).subscribe((fontFamily: any) => {\r\n        this.globalFont = fontFamily;\r\n      });\r\n    }\r\n  }\r\n\r\n  public getBackgroundColor() {\r\n    if (this.styles['displaySearch'] === 'boxed') {\r\n      return this.themeVariables && this.themeVariables[this.styles['backColor']]\r\n        ? this.themeVariables[this.styles['backColor']] : this.styles['backColor'];\r\n    } else {\r\n      return 'transparent';\r\n    }\r\n  }\r\n\r\n  public clearSearch(time = 300) {\r\n    this.refreshTime = time;\r\n    this.searchValue = '';\r\n    if (this.actions['onSearch'].type !== 'navigate') {\r\n      this._searchValueSubject.next(this.searchValue);\r\n    }\r\n  }\r\n\r\n  public expandCategories(event) {\r\n    this.expandedCategory = !this.expandedCategory;\r\n  }\r\n\r\n  public setCategoryData(value) {\r\n    this.searchData.category = value;\r\n    if (this.actions['onSearch'].type !== 'navigate') {\r\n      this.onSearchHandler();\r\n    }\r\n    const textWidth = Global.getHtmlTextWidth(value,\r\n      '14px',\r\n      this.globalFont);\r\n    this.isTooltipDisabled = textWidth <= 229;\r\n  }\r\n}\r\n","import { CATEGORY, SUBCATEGORY_HEADER, HEADER_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\nimport {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\n\r\n@Component({\r\n  selector: 'bs-title-bold-control',\r\n  templateUrl: './title-bold-control.component.html',\r\n  styleUrls: ['./title-bold-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: HEADER_CONTROLS.titleBold.type,\r\n    category: CATEGORY.TEXT.displayName,\r\n    subcategory: SUBCATEGORY_HEADER.displayName,\r\n    displayName: HEADER_CONTROLS.titleBold.displayName,\r\n    icon: HEADER_CONTROLS.titleBold.icon,\r\n      styles: {\r\n        fontFamily: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-size',\r\n          defaultValue: '24px',\r\n          max: 72\r\n        },\r\n        letterSpacing: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          section: PROPERTY_SECTIONS.style.key,\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'color'\r\n        },\r\n        backColor: {\r\n          section: PROPERTY_SECTIONS.background.key,\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        bold: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'boolean',\r\n          defaultValue: true\r\n        }\r\n      },\r\n      parameters: {\r\n        text: {\r\n          type: 'title',\r\n          defaultValue: HEADER_CONTROLS.titleBold.displayName\r\n        }\r\n      },\r\n      defaultSize: {\r\n        width: 280,\r\n        height: 45\r\n      }\r\n  }\r\n)\r\n\r\nexport class TitleBoldControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n  }\r\n}\r\n","<div class=\"bs-control-text bs-control-text--title\">\r\n  <h1\r\n     [ngClass]=\"{'bs-txt-mobile': styles['fontSize'] > 48, 'bs-control-text--title': styles['textType'] === 'title' }\"\r\n     [style.color]=\"styles['fontColor']\"\r\n     [style.background-color]=\"styles['backColor']\"\r\n     [style.font-weight]=\"fontWeight()\"\r\n     [style.text-align]=\"styles['align']\"\r\n     [style.font-family]=\"styles['fontFamily']\"\r\n     [style.font-size]=\"styles['fontSize']\"\r\n     [style.letter-spacing]=\"styles['letterSpacing'] + 'px'\">\r\n    {{parameters['text']}}\r\n  </h1>\r\n</div>\r\n","import { CATEGORY, SUBCATEGORY_HEADER, HEADER_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\nimport {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport {Global} from '../../misc/global';\r\n\r\n@Component({\r\n  selector: 'bs-title-light-control',\r\n  templateUrl: './title-light-control.component.html',\r\n  styleUrls: ['./title-light-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: HEADER_CONTROLS.titleLight.type,\r\n    category: CATEGORY.TEXT.displayName,\r\n    subcategory: SUBCATEGORY_HEADER.displayName,\r\n    displayName: HEADER_CONTROLS.titleLight.displayName,\r\n    icon: HEADER_CONTROLS.titleLight.icon,\r\n    styles: {\r\n      fontFamily: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-family',\r\n        defaultValue: 'inherit'\r\n      },\r\n      fontSize: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-size',\r\n        defaultValue: '24px',\r\n        max: 72\r\n      },\r\n      letterSpacing: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 0,\r\n        max: 60\r\n      },\r\n      align: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'text-align',\r\n        defaultValue: 'left'\r\n      },\r\n      fontColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color'\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'rgba(0, 0, 0, 0)'\r\n      },\r\n      bold: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      }\r\n\r\n    },\r\n    parameters: {\r\n      text: {\r\n        type: 'title',\r\n        defaultValue: HEADER_CONTROLS.titleLight.displayName\r\n      }\r\n    },\r\n    defaultSize: {\r\n      width: 280,\r\n      height: 45\r\n    }\r\n  }\r\n)\r\n\r\nexport class TitleLightControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n  }\r\n}\r\n","<div class=\"bs-control-text bs-control-text--title\">\r\n  <h1\r\n     [ngClass]=\"{'bs-txt-mobile': styles['fontSize'] > 48, 'bs-control-text--title': styles['textType'] === 'title' }\"\r\n     [style.color]=\"styles['fontColor']\"\r\n     [style.background-color]=\"styles['backColor']\"\r\n     [style.font-weight]=\"fontWeight()\"\r\n     [style.text-align]=\"styles['align']\"\r\n     [style.font-family]=\"styles['fontFamily']\"\r\n     [style.font-size]=\"styles['fontSize']\"\r\n     [style.letter-spacing]=\"styles['letterSpacing'] + 'px'\">\r\n    {{parameters['text']}}\r\n  </h1>\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport { CATEGORY, SUBCATEGORY_HEADER, HEADER_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-subtitle-regular-control',\r\n  templateUrl: './subtitle-regular-control.component.html',\r\n  styleUrls: ['./subtitle-regular-control.component.scss']\r\n})\r\n\r\n@ControlDefinition(\r\n  {\r\n    type: HEADER_CONTROLS.subtitleRegular.type,\r\n    category: CATEGORY.TEXT.displayName,\r\n    subcategory: SUBCATEGORY_HEADER.displayName,\r\n    displayName: HEADER_CONTROLS.subtitleRegular.displayName,\r\n    icon: HEADER_CONTROLS.subtitleRegular.icon,\r\n      styles: {\r\n        fontFamily: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-size',\r\n          defaultValue: '20px',\r\n          max: 72\r\n        },\r\n        letterSpacing: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          section: PROPERTY_SECTIONS.style.key,\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'color'\r\n        },\r\n        backColor: {\r\n          section: PROPERTY_SECTIONS.background.key,\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        bold: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'boolean',\r\n          defaultValue: false\r\n        }\r\n\r\n      },\r\n      parameters: {\r\n        text: {\r\n          type: 'title',\r\n          defaultValue: HEADER_CONTROLS.subtitleRegular.displayName\r\n        }\r\n      },\r\n      defaultSize: {\r\n        width: 370,\r\n        height: 53\r\n      }\r\n  }\r\n)\r\nexport class SubtitleRegularControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n  }\r\n\r\n}\r\n\r\n","<div class=\"bs-control-text bs-control-text--title\">\r\n  <h2 class=\"bs-text bs-text--semi-bold\"\r\n      [ngClass]=\"{'bs-txt-mobile': styles['fontSize'] > 48, 'bs-control-text--title': styles['textType'] === 'title' }\"\r\n      [style.color]=\"styles['fontColor']\"\r\n      [style.background-color]=\"styles['backColor']\"\r\n      [style.font-weight]=\"fontWeight()\"\r\n      [style.text-align]=\"styles['align']\"\r\n      [style.font-family]=\"styles['fontFamily']\"\r\n      [style.font-size]=\"styles['fontSize']\"\r\n      [style.letter-spacing]=\"styles['letterSpacing'] + 'px'\">\r\n    {{parameters['text']}}\r\n  </h2>\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport { CATEGORY, SUBCATEGORY_HEADER, HEADER_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-subtitle-bold-control',\r\n  templateUrl: './subtitle-bold-control.component.html',\r\n  styleUrls: ['./subtitle-bold-control.component.scss']\r\n})\r\n\r\n@ControlDefinition(\r\n  {\r\n    type: HEADER_CONTROLS.subtitleBold.type,\r\n    category: CATEGORY.TEXT.displayName,\r\n    subcategory: SUBCATEGORY_HEADER.displayName,\r\n    displayName: HEADER_CONTROLS.subtitleBold.displayName,\r\n    icon: HEADER_CONTROLS.subtitleBold.icon,\r\n      styles: {\r\n        fontFamily: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-size',\r\n          defaultValue: '20px',\r\n          max: 72\r\n        },\r\n        letterSpacing: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          section: PROPERTY_SECTIONS.style.key,\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'color'\r\n        },\r\n        backColor: {\r\n          section: PROPERTY_SECTIONS.background.key,\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        bold: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'boolean',\r\n          defaultValue: true\r\n        }\r\n\r\n      },\r\n      parameters: {\r\n        text: {\r\n          type: 'title',\r\n          defaultValue: HEADER_CONTROLS.subtitleBold.displayName\r\n        }\r\n      },\r\n      defaultSize: {\r\n        width: 370,\r\n        height: 53\r\n      }\r\n  }\r\n)\r\nexport class SubtitleBoldControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n  }\r\n\r\n}\r\n\r\n","<div class=\"bs-control-text bs-control-text--title\">\r\n  <h2 class=\"bs-text bs-text--semi-bold\"\r\n      [ngClass]=\"{'bs-txt-mobile': styles['fontSize'] > 48, 'bs-control-text--title': styles['textType'] === 'title' }\"\r\n      [style.color]=\"styles['fontColor']\"\r\n      [style.background-color]=\"styles['backColor']\"\r\n      [style.font-weight]=\"fontWeight()\"\r\n      [style.text-align]=\"styles['align']\"\r\n      [style.font-family]=\"styles['fontFamily']\"\r\n      [style.font-size]=\"styles['fontSize']\"\r\n      [style.letter-spacing]=\"styles['letterSpacing'] + 'px'\">\r\n    {{parameters['text']}}\r\n  </h2>\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, PARAGRAPH_CONTROLS, PROPERTY_SECTIONS, SUBCATEGORY_PARAGRAPH } from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-paragraph12-control',\r\n  templateUrl: './paragraph12-control.component.html',\r\n  styleUrls: ['./paragraph12-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: PARAGRAPH_CONTROLS.paragraph12.type,\r\n    category: CATEGORY.TEXT.displayName,\r\n    subcategory: SUBCATEGORY_PARAGRAPH.displayName,\r\n    displayName: PARAGRAPH_CONTROLS.paragraph12.displayName,\r\n    icon: PARAGRAPH_CONTROLS.paragraph12.icon,\r\n    styles: {\r\n      fontFamily: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-family',\r\n        defaultValue: 'inherit'\r\n      },\r\n      fontSize: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-size',\r\n        defaultValue: '12px',\r\n        max: 72\r\n      },\r\n      letterSpacing: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 0,\r\n        max: 60\r\n      },\r\n      align: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'text-align',\r\n        defaultValue: 'left'\r\n      },\r\n      fontColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'rgba(0, 0, 0, 0)'\r\n      },\r\n      bold: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      }\r\n\r\n    },\r\n    parameters: {\r\n      text: {\r\n        type: 'text',\r\n        defaultValue: PARAGRAPH_CONTROLS.paragraph12.displayName\r\n      }\r\n    },\r\n    defaultSize: {\r\n      width: 270,\r\n      height: 81\r\n    }\r\n  }\r\n)\r\nexport class Paragraph12ControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n  }\r\n\r\n}\r\n","<div class=\"bs-control-text\">\r\n  <p class=\"bs-paragraph --dim-full-width\"\r\n     [ngClass]=\"{'bs-txt-mobile': styles['fontSize'] > 48, 'bs-control-text--title': styles['textType'] === 'title' }\"\r\n     [style.color]=\"styles['fontColor']\"\r\n     [style.background-color]=\"styles['backColor']\"\r\n     [style.font-weight]=\"fontWeight()\"\r\n     [style.text-align]=\"styles['align']\"\r\n     [style.font-family]=\"styles['fontFamily']\"\r\n     [style.font-size]=\"styles['fontSize']\"\r\n     [style.letter-spacing]=\"styles['letterSpacing'] + 'px'\">\r\n    {{parameters['text']}}\r\n  </p>\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, SUBCATEGORY_PARAGRAPH, PARAGRAPH_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-paragraph16-control',\r\n  templateUrl: './paragraph16-control.component.html',\r\n  styleUrls: ['./paragraph16-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: PARAGRAPH_CONTROLS.paragraph16.type,\r\n    category: CATEGORY.TEXT.displayName,\r\n    subcategory: SUBCATEGORY_PARAGRAPH.displayName,\r\n    displayName: PARAGRAPH_CONTROLS.paragraph16.displayName,\r\n    icon: PARAGRAPH_CONTROLS.paragraph16.icon,\r\n      styles: {\r\n        fontFamily: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-size',\r\n          defaultValue: '16px',\r\n          max: 72\r\n        },\r\n        letterSpacing: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          section: PROPERTY_SECTIONS.style.key,\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'color',\r\n        },\r\n        backColor: {\r\n          section: PROPERTY_SECTIONS.background.key,\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        bold: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'boolean',\r\n          defaultValue: false\r\n        }\r\n\r\n      },\r\n      parameters: {\r\n        text: {\r\n          type: 'text',\r\n          defaultValue: PARAGRAPH_CONTROLS.paragraph16.displayName\r\n        }\r\n      },\r\n      defaultSize: {\r\n        width: 300,\r\n        height: 200\r\n      }\r\n  }\r\n)\r\nexport class Paragraph16ControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n  }\r\n\r\n}\r\n","<div class=\"bs-control-text\">\r\n  <p class=\"bs-paragraph --dim-full-width\"\r\n     [ngClass]=\"{'bs-txt-mobile': styles['fontSize'] > 48, 'bs-control-text--title': styles['textType'] === 'title' }\"\r\n     [style.color]=\"styles['fontColor']\"\r\n     [style.background-color]=\"styles['backColor']\"\r\n     [style.font-weight]=\"fontWeight()\"\r\n     [style.text-align]=\"styles['align']\"\r\n     [style.font-family]=\"styles['fontFamily']\"\r\n     [style.font-size]=\"styles['fontSize']\"\r\n     [style.letter-spacing]=\"styles['letterSpacing'] + 'px'\">\r\n    {{parameters['text']}}\r\n  </p>\r\n</div>\r\n","import {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, SUBCATEGORY_PARAGRAPH, PARAGRAPH_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-paragraph14-control',\r\n  templateUrl: './paragraph14-control.component.html',\r\n  styleUrls: ['./paragraph14-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: PARAGRAPH_CONTROLS.paragraph14.type,\r\n    category: CATEGORY.TEXT.displayName,\r\n    subcategory: SUBCATEGORY_PARAGRAPH.displayName,\r\n    displayName: PARAGRAPH_CONTROLS.paragraph14.displayName,\r\n    icon: PARAGRAPH_CONTROLS.paragraph14.icon,\r\n    styles: {\r\n      fontFamily: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-family',\r\n        defaultValue: 'inherit'\r\n      },\r\n      fontSize: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-size',\r\n        defaultValue: '14px',\r\n        max: 72\r\n      },\r\n      letterSpacing: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 0,\r\n        max: 60\r\n      },\r\n      align: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'text-align',\r\n        defaultValue: 'left'\r\n      },\r\n      fontColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n      },\r\n      backColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'rgba(0, 0, 0, 0)'\r\n      },\r\n      bold: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      }\r\n\r\n    },\r\n    parameters: {\r\n      text: {\r\n        type: 'text',\r\n        defaultValue: PARAGRAPH_CONTROLS.paragraph14.displayName\r\n      }\r\n    },\r\n    defaultSize: {\r\n      width: 300,\r\n      height: 117\r\n    }\r\n  }\r\n)\r\nexport class Paragraph14ControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n  }\r\n\r\n}\r\n","<div class=\"bs-control-text\">\r\n  <p class=\"bs-paragraph --dim-full-width\"\r\n     [ngClass]=\"{'bs-txt-mobile': styles['fontSize'] > 48, 'bs-control-text--title': styles['textType'] === 'title' }\"\r\n     [style.color]=\"styles['fontColor']\"\r\n     [style.background-color]=\"styles['backColor']\"\r\n     [style.font-weight]=\"fontWeight()\"\r\n     [style.text-align]=\"styles['align']\"\r\n     [style.font-family]=\"styles['fontFamily']\"\r\n     [style.font-size]=\"styles['fontSize']\"\r\n     [style.letter-spacing]=\"styles['letterSpacing'] + 'px'\">\r\n    {{parameters['text']}}\r\n  </p>\r\n</div>\r\n","<div class=\"bs-map\"\r\n  [ngStyle]=\"{'border' : styles.border}\">\r\n  <div class=\"bs-map__header\"\r\n       [style.background-color]=\"styles['backgroundColor']\">\r\n    <div class=\"bs-map__header__wrapper\">\r\n      <svg id=\"Layer_1\" class=\"bs-map__header__icon\"\r\n           *ngIf=\"styles['marker']\"\r\n           height=\"30\"\r\n           data-name=\"Layer 1\"\r\n           xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 40\"\r\n           [style.fill]=\"styles['marker']\">\r\n        <path class=\"bs-map__header__icon\" d=\"M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z\" transform=\"translate(12,40)\"/></svg>\r\n      <h2 class=\"bs-map__header__title\"\r\n          [style.color]=\"styles['textColor']\">{{parameters[\"title\"]}}</h2>\r\n    </div>\r\n    <p class=\"bs-map__header__text\" [style.color]=\"styles['contentFontColor']\"\r\n    >{{parameters[\"text\"]}}</p>\r\n  </div>\r\n  <agm-map class=\"bs-map__content\"\r\n           [zoom]=\"styles['zoom']\"\r\n           [latitude]=\"parameters['coords'] ? parameters['coords'].latitude : null\"\r\n           [longitude]=\"parameters['coords'] ? parameters['coords'].longitude : null\"\r\n           (drag)=\"$event.stopPropagation()\"\r\n           (dblclick)=\"$event.stopPropagation()\">\r\n    <agm-marker *ngIf=\"styles['marker']\"\r\n                [latitude]=\"parameters['coords'].latitude\"\r\n                [longitude]=\"parameters['coords'].longitude\"\r\n                [iconUrl]=\"{\r\n    path: 'M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z',\r\n    fillColor: styles['marker'],\r\n    fillOpacity: 1,\r\n    strokeWeight: 0,\r\n    scale: 1.5,\r\n    height: '50'\r\n    }\"\r\n                [draggable]=\"true\">\r\n    </agm-marker>\r\n  </agm-map>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { BaseControlComponent } from 'app/common/controls/base.component';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, SUBCATEGORY_MAP, MAP_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\n\r\n@Component({\r\n  selector: 'bs-map-control',\r\n  templateUrl: './map-control.component.html',\r\n  styleUrls: ['./map-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: MAP_CONTROLS.map.type,\r\n    category: CATEGORY.MEDIA.displayName,\r\n    subcategory: SUBCATEGORY_MAP.displayName,\r\n    displayName: MAP_CONTROLS.map.displayName,\r\n    icon: MAP_CONTROLS.map.icon,\r\n    isDisabled: true,\r\n    styles: {\r\n      marker: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'pin-marker'\r\n      },\r\n      zoom: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'range',\r\n        defaultValue: 24,\r\n        min: 12,\r\n        max: 20\r\n      },\r\n      textColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n        defaultValue: 'color-third'\r\n      },\r\n      backgroundColor: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'color-first'\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '1px solid #000'\r\n      },\r\n      contentFontColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n        defaultValue: 'color-third'\r\n      },\r\n    },\r\n    parameters: {\r\n      title: {\r\n        type: 'title'\r\n      },\r\n      coords: {\r\n        type: 'coords'\r\n      },\r\n      text: {\r\n        type: 'text'\r\n      }\r\n    },\r\n    defaultSize: {\r\n      width: 561,\r\n      height: 226,\r\n      minWidth: 267,\r\n      minHeight: 126,\r\n      dynamic: true\r\n    }\r\n  }\r\n)\r\n\r\nexport class MapControlComponent extends BaseControlComponent {\r\n\r\n  ngAfterViewInit(): void {\r\n    this.setCurrentPosition();\r\n  }\r\n\r\n  private setCurrentPosition() {\r\n    if (navigator.geolocation  && this.parameters && typeof(this.parameters.coords) === 'object') {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        this.parameters.coords.latitude = this.parameters.coords.latitude || position.coords.latitude;\r\n        this.parameters.coords.longitude = this.parameters.coords.longitude || position.coords.longitude;\r\n      });\r\n    }\r\n  }\r\n}\r\n","<div class=\"bz-pagination\">\r\n  <span *ngIf=\"showTotalCases\" class=\"bz-pagination__total-pages\">{{pagination.totalItems}} {{\"controls.inbox.CASES\" | translate }}</span>\r\n  <ul class=\"bz-pagination__pages\">\r\n    <li class=\"bz-pagination-page-item bz-pagination-page-item--row\" [ngClass]=\"{'bz-pagination-page-item--disabled': pagination.currentPage <= 0}\">\r\n      <a (click)=\"prev()\" class=\"bz-pagination-page-item__link\">\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n          <use href=\"#icon-arrow-left\"></use>\r\n        </svg>\r\n      </a>\r\n    </li>\r\n\r\n    <li class=\"bz-pagination-page-item\"\r\n        [ngClass]=\"{\r\n        'bz-pagination-page-item--active': pagination.currentPage === 0,\r\n        'bz-pagination-page-item--inactive': pagination.totalPages === 1\r\n        }\" >\r\n      <a class=\"bz-pagination-page-item__link\"\r\n         (click)=\"goToPage(0)\" >\r\n        1\r\n      </a>\r\n    </li>\r\n    <li class=\"bz-pagination-page-item\"\r\n        *ngIf=\"pagination.totalPages > 1 && (pagination.currentPage < 2 || pagination.currentPage >= pagination.totalPages - 2)\"\r\n        [ngClass]=\"{'bz-pagination-page-item--active': pagination.currentPage === 1}\" >\r\n      <a class=\"bz-pagination-page-item__link\"\r\n         (click)=\"goToPage(1)\" >\r\n        2\r\n      </a>\r\n    </li>\r\n    <li class=\"bz-pagination-page-item bz-pagination-page-item--dots\" *ngIf=\"pagination.totalPages > 2\">\r\n      &hellip;\r\n    </li>\r\n    <li class=\"bz-pagination-page-item\"\r\n        *ngFor=\"let page of filterPages()\"\r\n        [ngClass]=\"{'bz-pagination-page-item--active': pagination.currentPage === page}\">\r\n      <a class=\"bz-pagination-page-item__link\"\r\n         (click)=\"goToPage(page)\">\r\n        {{page + 1}}\r\n      </a>\r\n    </li>\r\n    <li *ngIf=\"pagination.totalPages > 3 &&\r\n    (pagination.currentPage < pagination.totalPages - 2) && (pagination.currentPage > 1)\"\r\n        class=\"bz-pagination-page-item  bz-pagination-page-item--dots\">\r\n      &hellip;\r\n    </li>\r\n\r\n    <li class=\"bz-pagination-page-item\"\r\n        *ngIf=\"pagination.totalPages > 3 && (pagination.currentPage < 2 || pagination.currentPage >= pagination.totalPages - 2)\"\r\n        [ngClass]=\"{'bz-pagination-page-item--active': pagination.currentPage === pagination.totalPages - 2 }\" >\r\n      <a class=\"bz-pagination-page-item__link\"\r\n         (click)=\"goToPage(pagination.totalPages - 2)\" >\r\n        {{pagination.totalPages - 1 }}\r\n      </a>\r\n    </li>\r\n    <li class=\"bz-pagination-page-item\"\r\n        *ngIf=\"pagination.totalPages > 2\" >\r\n      <a class=\"bz-pagination-page-item__link\" [ngClass]=\"{'bz-pagination-page-item--active': pagination.currentPage === pagination.totalPages - 1}\"\r\n         (click)=\"goToPage(pagination.totalPages - 1)\">\r\n        {{pagination.totalPages }}\r\n      </a>\r\n    </li>\r\n    <li class=\"bz-pagination-page-item bz-pagination-page-item--row\"\r\n        [ngClass]=\"{'bz-pagination-page-item--disabled': pagination.currentPage > pagination.totalPages - 2}\">\r\n      <a (click)=\"next()\" class=\"bz-pagination-page-item__link\">\r\n       <svg class=\"bz-icon-svg bz-icon-svg--16 bz-icon-svg--r180\">\r\n         <use href=\"#icon-arrow-left\"></use>\r\n       </svg>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n\r\n</div>\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-pagination-control-element',\r\n  templateUrl: './pagination-control-element.component.html',\r\n  styleUrls: ['./pagination-control-element.component.scss']\r\n})\r\nexport class PaginationControlElementComponent {\r\n\r\n  @Input() isOnRenderMode = false;\r\n  @Input() pagination: IPagination;\r\n  @Input() showTotalCases = false;\r\n  @Output() onChangePage = new EventEmitter<IPagination>();\r\n\r\n  public prev() {\r\n    if (this.pagination.currentPage > 0) {\r\n      this.pagination.currentPage --;\r\n      this.loadCurrentPage();\r\n    }\r\n  }\r\n\r\n  public next() {\r\n    if (this.pagination.currentPage < this.pagination.totalPages - 1) {\r\n      this.pagination.currentPage ++;\r\n    }\r\n    this.loadCurrentPage();\r\n  }\r\n\r\n  public goToPage(page: number) {\r\n    this.pagination.currentPage = page;\r\n    this.loadCurrentPage();\r\n  }\r\n\r\n  public filterPages() {\r\n    if (this.pagination.currentPage < 2 || this.pagination.currentPage > this.pagination.totalPages - 3) {\r\n      return [];\r\n    } else {\r\n      return [this.pagination.currentPage - 1, this.pagination.currentPage, this.pagination.currentPage + 1];\r\n    }\r\n  }\r\n\r\n  private loadCurrentPage() {\r\n    this.pagination.from = this.pagination.currentPage * this.pagination.rows;\r\n    this.pagination.currentPaginationSet = _.floor(this.pagination.currentPage / this.pagination.intervalSize);\r\n    this.onChangePage.emit(this.pagination);\r\n  }\r\n}\r\n","<div class=\"container\" *ngIf=\"selectedField\">\r\n  <div class=\"bs-tmpl-lv\">\r\n    <div class=\"bs-tmpl-lv__img --cursor-pointer\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['image'].focus || selectedField['image'].completed, \r\n    'bs-tmpl-lv--focused': selectedField['image'].focus, 'bs-tmpl-lv--completed': !selectedField['image'].disabled,\r\n    'bs-tmpl-lv--disabled': selectedField['image'].disabled }\"\r\n      (click)=\"setFocus.emit('image')\">\r\n      <div class=\"bs-tmpl__info-container\">\r\n        <bzg-checkbox [checked]=\"selectedField['image'].completed\" [compact]=\"true\"\r\n        (click)=\"changeField('image');$event.preventDefault();\">\r\n        {{ 'siteeditor.datamanager.IMAGE' | translate }}\r\n        </bzg-checkbox>\r\n      </div>\r\n      <svg class=\"bz-icon-svg bz-icon-svg--32 bs-tmpl-lv__img--icon\">\r\n        <use href=\"#icon-image-thin\"></use>\r\n      </svg>\r\n      <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked__image\" *ngIf=\"selectedField['image'].linked\">\r\n        <use href=\"#icon-link\"></use>\r\n      </svg>\r\n    </div>\r\n    <div class=\"bs-tmpl-lv__content\">\r\n      <div class=\"bs-tmpl-lv__field-container\">\r\n        <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField['title'].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField['title'].focus,\r\n        'bs-tmpl-lv__label--fill': selectedField['title'].labelText}\">\r\n        </div>\r\n        <div class=\"bs-tmpl-lv__title --cursor-pointer\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['title'].focus || selectedField['title'].completed, \r\n      'bs-tmpl-lv--focused': selectedField['title'].focus, 'bs-tmpl-lv--completed': !selectedField['title'].disabled,\r\n      'bs-tmpl-lv--disabled': selectedField['title'].disabled }\"\r\n          (click)=\"setFocus.emit('title')\">\r\n          <bzg-checkbox [checked]=\"selectedField['title'].completed\" [compact]=\"true\"\r\n          (click)=\"changeField('title');$event.preventDefault();\">\r\n          {{ 'siteeditor.datamanager.TITLE' | translate }}\r\n          </bzg-checkbox>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['title'].linked\">\r\n            <use href=\"#icon-link\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      <hr class=\"bs-tmpl__spacer\">\r\n      <div class=\"bs-tmpl-lv__field-container\">\r\n        <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField['text'].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField['text'].focus,\r\n        'bs-tmpl-lv__label--fill': selectedField['text'].labelText}\">\r\n        </div>\r\n        <div class=\"bs-tmpl-lv__desc --cursor-pointer\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['text'].focus || selectedField['text'].completed, \r\n      'bs-tmpl-lv--focused': selectedField['text'].focus, 'bs-tmpl-lv--completed': !selectedField['text'].disabled,\r\n      'bs-tmpl-lv--disabled': selectedField['text'].disabled }\"\r\n          (click)=\"setFocus.emit('text')\">\r\n          <bzg-checkbox [checked]=\"selectedField['text'].completed\" [compact]=\"true\"\r\n          (click)=\"changeField('text');$event.preventDefault();\">\r\n          {{ 'siteeditor.properties.TEXT' | translate }}\r\n          </bzg-checkbox>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['text'].linked\">\r\n            <use href=\"#icon-link\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div class=\"bs-tmpl-lv__field-container  bs-tmpl-lv__field-container__right\">\r\n        <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField['caption'].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField['caption'].focus,\r\n        'bs-tmpl-lv__label--fill': selectedField['caption'].labelText}\">\r\n        </div>\r\n        <div class=\"bs-tmpl-lv__relevant --cursor-pointer\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['caption'].focus || selectedField['caption'].completed, \r\n        'bs-tmpl-lv--focused': selectedField['caption'].focus, 'bs-tmpl-lv--completed': !selectedField['caption'].disabled,\r\n        'bs-tmpl-lv--disabled': selectedField['caption'].disabled}\"\r\n          (click)=\"setFocus.emit('caption')\">\r\n          <bzg-checkbox [checked]=\"selectedField['caption'].completed\" [compact]=\"true\"\r\n          (click)=\"changeField('caption');$event.preventDefault();\">\r\n          {{ 'siteeditor.properties.CAPTION' | translate }}\r\n          </bzg-checkbox>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['caption'].linked\">\r\n            <use href=\"#icon-link\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'bs-dm-template-list-view',\r\n  templateUrl: './dm-template-list-view.component.html',\r\n  styleUrls: ['./dm-template-list-view.component.scss']\r\n})\r\nexport class DmTemplateListViewComponent {\r\n\r\n  @Input() selectedField;\r\n  @Output() setFocus = new EventEmitter();\r\n  @Output() changeDisableField = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  changeField(field: string) {\r\n    this.changeDisableField.emit(field);\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"bs-tmpl-lv\">\r\n    <div class=\"bs-tmpl-lv__img\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['image'].focus || selectedField['image'].completed, \r\n    'bs-tmpl-lv--focused': selectedField['image'].focus, 'bs-tmpl-lv--completed': !selectedField['image'].disabled,\r\n    'bs-tmpl-lv--disabled': !selectedField['image'].disabled }\"\r\n      (click)=\"setFocus.emit('image')\">\r\n      <div class=\"bs-tmpl__info-container\">\r\n        <bzg-checkbox [checked]=\"selectedField['image'].completed\" (click)=\"changeField('image');$event.preventDefault();\" [compact]=\"true\">\r\n          {{ 'siteeditor.datamanager.IMAGE' | translate }}\r\n        </bzg-checkbox>\r\n      </div>\r\n      <svg class=\"bz-icon-svg bz-icon-svg--32 bs-tmpl-lv__img--icon\">\r\n        <use href=\"#icon-image-thin\"></use>\r\n      </svg>\r\n      <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked__image\" *ngIf=\"selectedField['image'].linked\">\r\n        <use href=\"#icon-link\"></use>\r\n      </svg>\r\n    </div>\r\n    <div class=\"bs-tmpl-lv__content\">\r\n      <div class=\"bs-tmpl-lv__field-container\">\r\n        <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField['title'].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField['title'].focus,\r\n        'bs-tmpl-lv__label--fill': selectedField['title'].labelText}\">\r\n        </div>\r\n        <div class=\"bs-tmpl-lv__title\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['title'].focus || selectedField['title'].completed, \r\n        'bs-tmpl-lv--focused': selectedField['title'].focus, 'bs-tmpl-lv--completed': !selectedField['title'].disabled,\r\n        'bs-tmpl-lv--disabled': selectedField['title'].disabled }\"\r\n          (click)=\"setFocus.emit('title')\">\r\n          <bzg-checkbox [checked]=\"selectedField['title'].completed\" (click)=\"changeField('title');$event.preventDefault();\" [compact]=\"true\">\r\n            {{ 'siteeditor.datamanager.TITLE' | translate }}\r\n          </bzg-checkbox>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['title'].linked\">\r\n            <use href=\"#icon-link\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bs-tmpl-lv__field-container\">\r\n        <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField['text'].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField['text'].focus,\r\n        'bs-tmpl-lv__label--fill': selectedField['text'].labelText}\">\r\n        </div>\r\n        <div class=\"bs-tmpl-lv__desc\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['text'].focus || selectedField['text'].completed, \r\n        'bs-tmpl-lv--focused': selectedField['text'].focus, 'bs-tmpl-lv--completed': !selectedField['text'].disabled,\r\n        'bs-tmpl-lv--disabled': selectedField['text'].disabled }\"\r\n          (click)=\"setFocus.emit('text')\">\r\n          <bzg-checkbox [checked]=\"false\" [checked]=\"selectedField['text'].completed\" (click)=\"changeField('text');$event.preventDefault();\" [compact]=\"true\">\r\n            {{ 'siteeditor.properties.TEXT' | translate }}\r\n          </bzg-checkbox>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['text'].linked\">\r\n            <use href=\"#icon-link\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-dm-template-card-link',\r\n  templateUrl: './dm-template-card-link.component.html',\r\n  styleUrls: ['./dm-template-card-link.component.scss']\r\n})\r\nexport class DmTemplateCardLinkComponent {\r\n\r\n  @Input() selectedField;\r\n  @Output() setFocus = new EventEmitter();\r\n  @Output() changeDisableField = new EventEmitter();\r\n  constructor() { }\r\n\r\n  changeField(field: string) {\r\n    this.changeDisableField.emit(field);\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"bs-tmpl-lv\">\r\n\r\n    <div class=\"bs-tmpl-lv__img\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['image'].focus \r\n       || selectedField['image'].completed,'bs-tmpl-lv--focused': selectedField['image'].focus, 'bs-tmpl-lv--completed': !selectedField['image'].disabled,\r\n       'bs-tmpl-lv--disabled': selectedField['image'].disabled }\"\r\n      (click)=\"setFocus.emit('image')\">\r\n      <div class=\"bs-tmpl__info-container\">\r\n        <span class=\"bs-tmpl__info\" [ngClass]=\"{'bs-tmpl--focused': selectedField['image'].focus}\" *ngIf=\"selectedField['image']\">\r\n          {{ 'siteeditor.datamanager.IMAGE' | translate }}\r\n        </span>\r\n      </div>\r\n      <svg class=\"bz-icon-svg bz-icon-svg--32 bs-tmpl-lv__img--icon\">\r\n        <use href=\"#icon-image-thin\"></use>\r\n      </svg>\r\n      <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['image'].linked\">\r\n        <use href=\"#icon-link\"></use>\r\n      </svg>\r\n    </div>\r\n\r\n    <div class=\"bs-tmpl-lv__field-container\">\r\n      <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField['title'].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField['title'].focus,\r\n      'bs-tmpl-lv__label--fill': selectedField['title'].labelText}\">\r\n      </div>\r\n      <div class=\"bs-tmpl-lv__title\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['title'].focus || selectedField['title'].completed,\r\n      'bs-tmpl-lv--focused': selectedField['title'].focus, 'bs-tmpl-lv--completed': !selectedField['title'].disabled,\r\n      'bs-tmpl-lv--disabled': selectedField['title'].disabled  }\"\r\n        (click)=\"setFocus.emit('title')\">\r\n        <bzg-checkbox [checked]=\"selectedField['title'].completed\" [compact]=\"true\"\r\n        (click)=\"changeField('image');$event.preventDefault();\">\r\n        {{ 'siteeditor.datamanager.TITLE' | translate }}\r\n        </bzg-checkbox>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['title'].linked\">\r\n          <use href=\"#icon-link\"></use>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</div>","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-dm-template-gallery-link',\r\n  templateUrl: './dm-template-gallery-link.component.html',\r\n  styleUrls: ['./dm-template-gallery-link.component.scss']\r\n})\r\nexport class DmTemplateGalleryLinkComponent {\r\n\r\n  @Input() selectedField;\r\n  @Output() setFocus = new EventEmitter();\r\n  @Output() changeDisableField = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  changeField(field: string) {\r\n    this.changeDisableField.emit(field);\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"bs-tmpl-ic\">\r\n    <div class=\"bs-tmpl-ic__img\">\r\n      <svg class=\"bz-icon-svg bz-icon-svg--32 bs-tmpl-ic__img-block__img__icon\">\r\n        <use href=\"#icon-image\"></use>\r\n      </svg>\r\n    </div>\r\n    <div class=\"bs-tmpl-ic__images\">\r\n      <div class=\"bs-tmpl-ic__img-block\">\r\n        <div\r\n          class=\"bs-tmpl-ic__img-block__img --cursor-pointer\"\r\n          [ngClass]=\"{'bs-tmpl-elm-0': selectedField['image'].focus || selectedField['image'].completed, 'bs-tmpl-ic--focused': selectedField['image'].focus, 'bs-tmpl-ic--completed': selectedField['image'].completed}\"\r\n          (click)=\"setFocus.emit('image')\">\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl-ic__img-block__img__icon\">\r\n            <use href=\"#icon-image\"></use>\r\n          </svg>\r\n          <span\r\n            class=\"bs-tmpl__info\"\r\n            *ngIf=\"selectedField['image']\">\r\n            {{ 'siteeditor.datamanager.IMAGE' | translate }}\r\n          </span>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['image'].linked\">\r\n            <use href=\"#icon-link\"></use>\r\n          </svg>\r\n        </div>\r\n        <div class=\"bs-tmpl-ic__img-block__title\">\r\n          <span [ngClass]=\"{'bs-tmpl-elm-0': selectedField['title'].focus || selectedField['title'].completed, 'bs-tmpl-ic--focused': selectedField['title'].focus, 'bs-tmpl-ic--completed': selectedField['title'].completed}\"\r\n            class=\"--cursor-pointer\"\r\n            (click)=\"setFocus.emit('title')\">\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"bs-tmpl-ic__img-block\">\r\n        <div\r\n          class=\"bs-tmpl-ic__img-block__img --cursor-pointer\"\r\n          [ngClass]=\"{'bs-tmpl-elm-0': selectedField['image'].focus || selectedField['image'].completed, 'bs-tmpl-ic--focused': selectedField['image'].focus, 'bs-tmpl-ic--completed': selectedField['image'].completed }\"\r\n          (click)=\"setFocus.emit('image')\">\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl-ic__img-block__img__icon\">\r\n            <use href=\"#icon-image\"></use>\r\n          </svg>\r\n          <span\r\n            class=\"bs-tmpl__info\"\r\n            *ngIf=\"selectedField['image']\">\r\n            {{ 'siteeditor.datamanager.IMAGE' | translate }}\r\n          </span>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['image'].linked\">\r\n            <use href=\"#icon-link\"></use>\r\n          </svg>\r\n        </div>\r\n        <div class=\"bs-tmpl-ic__img-block__title\">\r\n          <span\r\n            class=\"--cursor-pointer\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField['title'].focus || selectedField['title'].completed, 'bs-tmpl-ic--focused': selectedField['title'].focus, 'bs-tmpl-ic--completed': selectedField['title'].completed}\"\r\n            (click)=\"setFocus.emit('title')\">\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"bs-tmpl-ic__img-block\">\r\n        <div\r\n          class=\"bs-tmpl-ic__img-block__img --cursor-pointer\"\r\n          [ngClass]=\"{'bs-tmpl-elm-0': selectedField['image'].focus || selectedField['image'].completed, 'bs-tmpl-ic--focused': selectedField['image'].focus, 'bs-tmpl-ic--completed': selectedField['image'].completed }\"\r\n          (click)=\"setFocus.emit('image')\">\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl-ic__img-block__img__icon\">\r\n            <use href=\"#icon-image\"></use>\r\n          </svg>\r\n          <span\r\n            class=\"bs-tmpl__info\"\r\n            *ngIf=\"selectedField['image']\">\r\n            {{ 'siteeditor.datamanager.IMAGE' | translate }}\r\n          </span>\r\n          <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField['image'].linked\">\r\n            <use href=\"#icon-link\"></use>\r\n          </svg>\r\n        </div>\r\n        <div class=\"bs-tmpl-ic__img-block__title\">\r\n          <span [ngClass]=\"{'bs-tmpl-elm-0': selectedField['title'].focus || selectedField['title'].completed, 'bs-tmpl-ic--focused': selectedField['title'].focus, 'bs-tmpl-ic--completed': selectedField['title'].completed}\"\r\n            class=\"--cursor-pointer\"\r\n            (click)=\"setFocus.emit('title')\">\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-dm-template-image-carousel',\r\n  templateUrl: './dm-template-image-carousel.component.html',\r\n  styleUrls: ['./dm-template-image-carousel.component.scss']\r\n})\r\nexport class DmTemplateImageCarouselComponent {\r\n\r\n  @Input() selectedField;\r\n  @Output() setFocus = new EventEmitter();\r\n  constructor() { }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-loader-bars-render',\r\n  templateUrl: './loader-bars.component.html',\r\n  styleUrls: ['./loader-bars.component.scss']\r\n})\r\nexport class LoaderBarsComponent {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"bs-loader-bars\">\r\n  <div class=\"rect1\"></div>\r\n  <div class=\"rect2\"></div>\r\n  <div class=\"rect3\"></div>\r\n  <div class=\"rect4\"></div>\r\n  <div class=\"rect5\"></div>\r\n</div>\r\n","<div class=\"bs-inbox__content__datatable\">\r\n  <table class=\"bs-datatable\">\r\n    <thead class=\"bs-datatable__head\">\r\n    <tr class=\"bs-datatable-row bs-datatable-row--head\">\r\n      <th class=\"bs-datatable-title\" (click)=\"orderByColumnName('processName')\" >\r\n        <span>{{'controls.inbox.PROCESS' | translate}}</span>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-datatable-title__icon-row\" >\r\n          <use href=\"#icon-elevator\"></use>\r\n      </svg>\r\n      </th>\r\n      <th class=\"bs-datatable-title bs-datatable-title--small\" (click)=\"orderByColumnName('caseNumber')\">\r\n        <span> {{'controls.inbox.CASE_NUMBER' | translate}}</span>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-datatable-title__icon-row\" >\r\n        <use href=\"#icon-elevator\"></use>\r\n      </svg>\r\n      </th>\r\n      <th class=\"bs-datatable-title bs-datatable-title\" (click)=\"orderByColumnName('workitems/taskName')\">\r\n        <span>{{'controls.inbox.ACTIVITY' | translate}}</span>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-datatable-title__icon-row\" >\r\n          <use href=\"#icon-elevator\"></use>\r\n        </svg>\r\n      </th>\r\n      <th class=\"bs-datatable-title\" (click)=\"orderByColumnName('creationDate')\">\r\n        <span>{{'controls.inbox.CASE_CREATION_DATE' | translate}}</span>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-datatable-title__icon-row\" >\r\n        <use href=\"#icon-elevator\"></use>\r\n      </svg>\r\n      </th>\r\n      <th class=\"bs-datatable-title\" (click)=\"orderByColumnName('estimatedSolutionDate')\">\r\n        <span>{{'controls.inbox.ACTIVITY_DUE_DATE' | translate}}</span>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-datatable-title__icon-row\" >\r\n          <use href=\"#icon-elevator\"></use>\r\n        </svg>\r\n      </th>\r\n      <th class=\"bs-datatable-title\" (click)=\"orderByColumnName('estimatedSolutionDate')\">\r\n        <span>{{'controls.inbox.CASE_DUE_DATE' | translate}}</span>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-datatable-title__icon-row\" >\r\n          <use href=\"#icon-elevator\"></use>\r\n        </svg>\r\n      </th>\r\n    </tr>\r\n    </thead>\r\n    <tbody class=\"bs-datatable__content\">\r\n    <tr class=\"bs-datatable-row\" *ngFor=\"let row of data\">\r\n      <td class=\"bs-datatable-column bs-datatable-column\">\r\n        {{ row.processName }}\r\n      </td>\r\n      <td class=\"bs-datatable-column bs-datatable-column--small\">\r\n        <a (click)=\"showCase(row.id, null, row.processName, row.caseNumber)\" class=\"bs-datatable-column__casenumber\">\r\n          {{ row.caseNumber }}\r\n        </a>\r\n      </td>\r\n      <td class=\"bs-datatable-column bs-datatable-column--overflow-auto\">\r\n        <div class=\"bs-datatable-column__activities\">\r\n          <div class=\"bs-datatable-column__activity\" *ngIf=\"row.workitems.length === 0\">\r\n            <span class=\"bs-status-circle bs-status-circle--overdue\"></span>\r\n          </div>\r\n          <div class=\"bs-datatable-column__activity\" *ngFor=\"let workItem of row.workitems\">\r\n            <span class=\"bs-status-circle\" (mouseenter)=\"showTooltipActivities(true, row)\" [ngClass]=\"{'bs-status-circle--overdue': workItem.state === 'red', 'bs-status-circle--atrisk': workItem.state === 'yellow', 'bs-status-circle--ontime': workItem.state === 'green', 'bs-status-circle--tooltip': row.workitems.length > 1}\"></span>\r\n            <a class=\"bs-datatable-column__activities__link\" (click)=\"showTooltipActivities(false, null); showCase(row.id, workItem.id, row.processName, row.caseNumber)\">\r\n              {{workItem.taskDisplayName}}\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </td>\r\n      <td class=\"bs-datatable-column\">\r\n        {{ row.creationDate }}\r\n      </td>\r\n      <td class=\"bs-datatable-column\">\r\n        <div class=\"bs-datatable-column__expired-dates\">\r\n          <span *ngIf=\"row.workitems.length === 0\">\r\n            {{ row.estimatedSolutionDate }}\r\n          </span>\r\n          <span *ngFor=\"let workItem of row.workitems\">\r\n            {{workItem.estimatedSolutionDate}}\r\n          </span>\r\n        </div>\r\n      </td>\r\n      <td class=\"bs-datatable-column\">\r\n        {{ row.estimatedSolutionDate}}\r\n      </td>\r\n    </tr>\r\n    <tr class=\"bs-datatable-row\" *ngFor=\"let row of getGridPlaceholderItems()\">\r\n    </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, OnInit, Input, EventEmitter, Output, HostListener } from '@angular/core';\r\nimport { InboxControlComponent } from 'app/common/controls/inbox-control/inbox-control.component';\r\n\r\n@Component({\r\n    selector: 'bs-inbox-control-grid-view',\r\n    templateUrl: './inbox-grid-view.component.html',\r\n    styleUrls: ['./inbox-grid-view.component.scss']\r\n})\r\n\r\nexport class InboxControlGridViewComponent {\r\n    public currentTooltipActivities = { caseId: '', open: false };\r\n    public placeholderItems = [];\r\n\r\n    @Input() pagination: IPagination;\r\n    @Input() data: any;\r\n    @Input() styles: any;\r\n    @Output() orderByColumn: EventEmitter<string> = new EventEmitter();\r\n    @Output() showCaseEvent: EventEmitter<string[]> = new EventEmitter();\r\n\r\n    public orderByColumnName(columnName: string) {\r\n        this.orderByColumn.emit(columnName);\r\n    }\r\n\r\n    public showTooltipActivities(open, row?) {\r\n        if (row && row.workitems.length > 1) {\r\n            this.currentTooltipActivities.caseId = row.caseNumber;\r\n            this.currentTooltipActivities.open = open;\r\n        } else {\r\n            this.currentTooltipActivities.caseId = '';\r\n            this.currentTooltipActivities.open = false;\r\n        }\r\n    }\r\n\r\n    public showCase(caseId: string, taskId?: string, processName?: string, caseNumber?:string) {\r\n        this.showCaseEvent.emit([caseId, taskId, processName, caseNumber]);\r\n    }\r\n\r\n    public getGridPlaceholderItems() {\r\n        if ((this.pagination.currentPage + 1) === this.pagination.totalPages) {\r\n            const placeholderSize = this.styles.displayedItems - this.data.length;\r\n            if (placeholderSize && this.placeholderItems.length < placeholderSize) {\r\n                this.placeholderItems = new Array(placeholderSize).fill({\r\n                    processName: { type: 'title', label: 'DATA_PROPERTY_IMAGE' },\r\n                    caseNumber: { type: 'bizagi-number', label: 'DATA_PROPERTY_TITLE' },\r\n                    workitems: { type: 'workitem', label: 'DATA_PROPERTY_TEXT' },\r\n                    creationDate: { type: 'date', label: 'DATA_PROPERTY_TEXT' },\r\n                    solutionDate: { type: 'date', label: 'DATA_PROPERTY_TEXT' }\r\n                });\r\n            }\r\n            return this.placeholderItems;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    @HostListener('document:click', ['$event'])\r\n    public onClickDocument(event) {\r\n        this.showTooltipActivities(false);\r\n    }\r\n\r\n}\r\n","<div class=\"bs-inbox__content__cards\">\r\n  <div class=\"bs-card\" *ngFor=\"let card of data\">\r\n    <div\r\n      class=\"bs-card-container\"\r\n      [ngClass]=\"{\r\n        'bs-card-container--expand': activityExpandMode.caseId === card.caseNumber\r\n      }\"\r\n    >\r\n      <div class=\"bs-card__head\" [ngClass]=\"{ 'bs-card__head--expanded': activityExpandMode.caseId === card.caseNumber }\">\r\n        <div class=\"bs-card__head__main\">\r\n          <h1 class=\"bs-card-title\">{{ card.caseNumber }}</h1>\r\n          <p class=\"bs-card-subtitle\">{{ card.processName }}</p>\r\n        </div>\r\n        <div class=\"bs-card__head__action\" *ngIf=\"card.workitems.length === 1\">\r\n          <a class=\"bs-card-workit-button\" (click)=\"showCase(card.id, card.workitems[0].id, card.processName, card.caseNumber)\">\r\n            <span class=\"bs-card-workit-button__text\">{{ 'controls.inbox.WORK_ON_IT' | translate }} &rsaquo;</span>\r\n          </a>\r\n        </div>\r\n        <div class=\"bs-card__head__activities\" *ngIf=\"card.workitems.length > 1\">\r\n          <div class=\"bs-card__close-act\">\r\n            <span class=\"bs-card-close-act__icon\" (click)=\"activityShowAll()\" *ngIf=\"activityExpandMode.caseId === card.caseNumber\">\r\n              <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n                <use href=\"#icon-close\"></use>\r\n              </svg>\r\n            </span>\r\n          </div>\r\n          <a class=\"bs-card__number-act\"> {{ card.workitems.length }} {{ 'controls.inbox.ACTIVITIES' | translate }} </a>\r\n        </div>\r\n      </div>\r\n      <div class=\"bs-card-separator\">\r\n        <span class=\"bs-card-separator__line\"></span>\r\n      </div>\r\n      <div class=\"bs-card__content\" [ngClass]=\"{ 'bs-card__content--expand': activityExpandMode.caseId === card.caseNumber }\">\r\n        <div class=\"bs-card-data__value\" *ngIf=\"card.workitems.length === 0\">\r\n          <span class=\"bs-status-circle bs-status-circle--overdue\"></span>\r\n        </div>\r\n        <div\r\n          class=\"bs-card-data__value\"\r\n          *ngIf=\"card.workitems.length === 1\"\r\n          [ngClass]=\"{ 'bs-card-data__value--multiple': card.workitems.length > 1 }\"\r\n        >\r\n          <span\r\n            class=\"bs-status-circle\"\r\n            [ngClass]=\"{\r\n              'bs-status-circle--overdue': card.workitems[0].state === 'red',\r\n              'bs-status-circle--atrisk': card.workitems[0].state === 'yellow',\r\n              'bs-status-circle--ontime': card.workitems[0].state === 'green'\r\n            }\"\r\n          ></span>\r\n          <a\r\n            class=\"bs-card-data__value__text bs-card-data__value__text--link\"\r\n            (click)=\"showCase(card.id, card.workitems[0].id, card.processName, card.caseNumber)\"\r\n          >\r\n            {{ card.workitems[0].taskDisplayName }}</a\r\n          >\r\n        </div>\r\n        <ul class=\"bs-card-data\" *ngIf=\"card.workitems.length === 0\">\r\n          <li class=\"bs-card-data__row\">\r\n            <span class=\"bs-card-data__label\" title=\"{{ 'controls.inbox.CASE_DUE_DATE' | translate }}\">\r\n              {{ 'controls.inbox.CASE_DUE_DATE' | translate }}:\r\n            </span>\r\n            <div class=\"bs-card-data__value\">\r\n              <span class=\"bs-card-data__value__text\">{{ card.estimatedSolutionDate }}</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"bs-card-data__row\">\r\n            <span class=\"bs-card-data__label\" title=\"{{ 'controls.inbox.ACTIVITY_DUE_DATE' | translate }}\">\r\n              {{ 'controls.inbox.ACTIVITY_DUE_DATE' | translate }}:\r\n            </span>\r\n            <div class=\"bs-card-data__value\">\r\n              <span class=\"bs-card-data__value__text\">{{ card.estimatedSolutionDate }}</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"bs-card-data__row\">\r\n            <span class=\"bs-card-data__label\" title=\"{{ 'controls.inbox.PROCESS_CREATION_DATE' | translate }}\">\r\n              {{ 'controls.inbox.PROCESS_CREATION_DATE' | translate }}:\r\n            </span>\r\n            <div class=\"bs-card-data__value\">\r\n              <span class=\"bs-card-data__value__text\">{{ card.creationDate }}</span>\r\n            </div>\r\n          </li>\r\n          <div class=\"bs-card-activity__separator-section bs-card-activity__separator-section--one-act\">\r\n            <div class=\"bs-card-activity__separator-section__background\"></div>\r\n          </div>\r\n        </ul>\r\n        <ul class=\"bs-card-data\" *ngIf=\"card.workitems.length === 1\">\r\n          <li class=\"bs-card-data__row\">\r\n            <span class=\"bs-card-data__label\" title=\"{{ 'controls.inbox.CASE_DUE_DATE' | translate }}\">\r\n              {{ 'controls.inbox.CASE_DUE_DATE' | translate }}:\r\n            </span>\r\n            <div class=\"bs-card-data__value\">\r\n              <span class=\"bs-card-data__value__text\">{{ card.estimatedSolutionDate }}</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"bs-card-data__row\">\r\n            <span class=\"bs-card-data__label\" title=\"{{ 'controls.inbox.ACTIVITY_DUE_DATE' | translate }}\">\r\n              {{ 'controls.inbox.ACTIVITY_DUE_DATE' | translate }}:\r\n            </span>\r\n            <div class=\"bs-card-data__value\">\r\n              <span class=\"bs-card-data__value__text\">{{ card.workitems[0].estimatedSolutionDate }}</span>\r\n            </div>\r\n          </li>\r\n          <li class=\"bs-card-data__row\">\r\n            <span class=\"bs-card-data__label\" title=\"{{ 'controls.inbox.PROCESS_CREATION_DATE' | translate }}\">\r\n              {{ 'controls.inbox.PROCESS_CREATION_DATE' | translate }}:\r\n            </span>\r\n            <div class=\"bs-card-data__value\">\r\n              <span class=\"bs-card-data__value__text\">{{ card.creationDate }}</span>\r\n            </div>\r\n          </li>\r\n          <div class=\"bs-card-activity__separator-section bs-card-activity__separator-section--one-act\">\r\n            <div class=\"bs-card-activity__separator-section__background\"></div>\r\n          </div>\r\n        </ul>\r\n        <ul class=\"bs-card-data bs-card-data--multiple\" *ngIf=\"card.workitems.length > 1\">\r\n          <li class=\"bs-card-data__activities\" *ngIf=\"activityExpandMode.caseId !== card.caseNumber\">\r\n            <ul class=\"bs-card-data__activities__lst\">\r\n              <li class=\"bs-card-activity\">\r\n                <div class=\"bs-card-activity__field\">\r\n                  <div class=\"bs-card-activity__status\">\r\n                    <span\r\n                      class=\"bs-status-circle\"\r\n                      [ngClass]=\"{\r\n                        'bs-status-circle--overdue': card.workitems[0].state === 'red',\r\n                        'bs-status-circle--atrisk': card.workitems[0].state === 'yellow',\r\n                        'bs-status-circle--ontime': card.workitems[0].state === 'green'\r\n                      }\"\r\n                    ></span>\r\n                    <a\r\n                      class=\"bs-card-activity__field__taskname\"\r\n                      (click)=\"showCase(card.id, card.workitems[0].id, card.processName, card.caseNumber)\"\r\n                      >{{ card.workitems[0].taskDisplayName }}</a\r\n                    >\r\n                  </div>\r\n                  <span class=\"bs-card-activity__field__taskdate\">{{ card.workitems[0].estimatedSolutionDate }}</span>\r\n                </div>\r\n                <a class=\"bs-card-workit-button\" (click)=\"showCase(card.id, card.workitems[0].id, card.processName, card.caseNumber)\">\r\n                  <span class=\"bs-card-workit-button__text\">{{ 'controls.inbox.WORK_ON_IT' | translate }} &rsaquo;</span>\r\n                </a>\r\n              </li>\r\n              <div class=\"bs-card-activity__separator-section\">\r\n                <div class=\"bs-card-activity__separator-section__background\"></div>\r\n              </div>\r\n              <li class=\"bs-card-activity\">\r\n                <div class=\"bs-card-activity__field\">\r\n                  <div class=\"bs-card-activity__status\">\r\n                    <span\r\n                      class=\"bs-status-circle\"\r\n                      [ngClass]=\"{\r\n                        'bs-status-circle--overdue': card.workitems[1].state === 'red',\r\n                        'bs-status-circle--atrisk': card.workitems[1].state === 'yellow',\r\n                        'bs-status-circle--ontime': card.workitems[1].state === 'green'\r\n                      }\"\r\n                    ></span>\r\n                    <a\r\n                      class=\"bs-card-activity__field__taskname\"\r\n                      (click)=\"showCase(card.id, card.workitems[1].id, card.processName, card.caseNumber)\"\r\n                      >{{ card.workitems[1].taskDisplayName }}</a\r\n                    >\r\n                  </div>\r\n                  <span class=\"bs-card-activity__field__taskdate\">{{ card.workitems[1].estimatedSolutionDate }}</span>\r\n                </div>\r\n                <a class=\"bs-card-workit-button\" (click)=\"showCase(card.id, card.workitems[1].id, card.processName, card.caseNumber)\">\r\n                  <span class=\"bs-card-workit-button__text\">{{ 'controls.inbox.WORK_ON_IT' | translate }} &rsaquo;</span>\r\n                </a>\r\n              </li>\r\n              <div class=\"bs-card-activity__separator-section\">\r\n                <div class=\"bs-card-activity__separator-section__background\"></div>\r\n              </div>\r\n            </ul>\r\n            <a class=\"bs-card-data__activities__showall\" (click)=\"activityShowAll(card.caseNumber)\" *ngIf=\"card.workitems.length > 2\">\r\n              {{ 'controls.inbox.SHOW_ALL_ACTIVITIES' | translate }}\r\n            </a>\r\n          </li>\r\n          <li class=\"bs-card-data__activities\" *ngIf=\"activityExpandMode.caseId === card.caseNumber\">\r\n            <ul class=\"bs-card-data__activities__lst\">\r\n              <li *ngFor=\"let activity of card.workitems\" class=\"bs-card-activity bs-card-activity--showall\">\r\n                <div class=\"bs-card-activity__show-all-container\">\r\n                  <div class=\"bs-card-activity__field\">\r\n                    <div class=\"bs-card-activity__status\">\r\n                      <span\r\n                        class=\"bs-status-circle\"\r\n                        [ngClass]=\"{\r\n                          'bs-status-circle--overdue': activity.state === 'red',\r\n                          'bs-status-circle--atrisk': activity.state === 'yellow',\r\n                          'bs-status-circle--ontime': activity.state === 'green'\r\n                        }\"\r\n                      ></span>\r\n                      <span\r\n                        class=\"bs-card-activity__field__taskname\"\r\n                        (click)=\"showCase(card.id, activity.id, card.processName, card.caseNumber)\"\r\n                        >{{ activity.taskDisplayName }}</span\r\n                      >\r\n                    </div>\r\n                    <span class=\"bs-card-activity__field__taskdate\">{{ activity.estimatedSolutionDate }}</span>\r\n                  </div>\r\n                  <a (click)=\"showCase(card.id, activity.id, card.processName, card.caseNumber)\" class=\"bs-card-workit-button\">\r\n                    <span class=\"bs-card-workit-button__text\">{{ 'controls.inbox.WORK_ON_IT' | translate }} &rsaquo;</span>\r\n                  </a>\r\n                </div>\r\n                <div class=\"bs-card-activity__separator-section bs-card-activity__separator-section--show-all\">\r\n                  <div class=\"bs-card-activity__separator-section__background\"></div>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"bs-card bs-card--placeholder\" *ngFor=\"let card of getPlaceholderItems()\">\r\n    <svg>\r\n      <use href=\"#inbox-placeholder-1\" *ngIf=\"control.styles.layout === 'one'\"></use>\r\n      <use href=\"#inbox-placeholder-2\" *ngIf=\"control.styles.layout === 'two'\"></use>\r\n      <use href=\"#inbox-placeholder-3\" *ngIf=\"control.styles.layout === 'three'\"></use>\r\n    </svg>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'bs-inbox-control-card-view',\r\n    templateUrl: './inbox-card-view.component.html',\r\n    styleUrls: ['./inbox-card-view.component.scss']\r\n})\r\n\r\nexport class InboxControlCardViewComponent {\r\n    public activityExpandMode = { caseId: '' };\r\n    @Input() pagination: IPagination;\r\n    @Input() data: any;\r\n    @Input() styles: any;\r\n    @Input() control: any;\r\n    @Input() isRenderingMode: boolean;\r\n    @Input() dataSearchMode: string;\r\n\r\n    public placeholderItems = [];\r\n    @Output() showCaseEvent: EventEmitter<string[]> = new EventEmitter();\r\n\r\n    constructor() { }\r\n\r\n    public activityShowAll(caseNumber?: string) {\r\n        if (this.activityExpandMode.caseId !== caseNumber) {\r\n            this.activityExpandMode.caseId = caseNumber;\r\n        }\r\n    }\r\n\r\n    public showCase(caseId: string, taskId?: string, processName?: string, caseNumber?:string) {\r\n        this.showCaseEvent.emit([caseId, taskId, processName, caseNumber]);\r\n    }\r\n\r\n    public getPlaceholderItems() {\r\n        if (this.isRenderingMode && this.dataSearchMode !== 'filter') {\r\n          const placeholderSize = this.styles.displayedItems - this.data.length;\r\n          if (placeholderSize > 0 && this.placeholderItems.length !== placeholderSize) {\r\n            this.placeholderItems = new Array(placeholderSize).fill({\r\n              processName: { type: 'title', label: 'DATA_PROPERTY_IMAGE' },\r\n              caseNumber: { type: 'bizagi-number', label: 'DATA_PROPERTY_TITLE' },\r\n              workitems: { type: 'workitem', label: 'DATA_PROPERTY_TEXT' },\r\n              creationDate: { type: 'date', label: 'DATA_PROPERTY_TEXT' },\r\n              solutionDate: { type: 'date', label: 'DATA_PROPERTY_TEXT' }\r\n            });\r\n          } else if (placeholderSize === 0) {\r\n            this.placeholderItems = [];\r\n          }\r\n        } else {\r\n          this.placeholderItems = [];\r\n        }\r\n        return this.placeholderItems;\r\n      }\r\n}\r\n","<div class=\"bs-dynamic-control-container\" *ngIf=\"isDataReady && data['data']?.length\" #targetElement>\r\n  <div class=\"bs-dynamic-control\" *ngFor=\"let item of data['data']\"\r\n       [ngStyle]=\"{'border' : styles.border,\r\n     'border-radius': styles['cornerRadius'] + 'px',\r\n     'box-shadow': styles['boxShadow']\r\n     }\"\r\n       [style.margin-bottom]=\"styles['verticalItemSpacing'] + 'px'\"\r\n       [style.background-color]=\"styles['backColor']\"\r\n  >\r\n    <div class=\"bs-dynamic-control-body\" (click)=\"goToLink(item);\" [ngClass]=\"{'bs-dynamic-control-container--link': hasLink(item)}\">\r\n      <div>\r\n        <div class=\"bs-image-section\" *ngIf=\"fields.image.active\" (click)=\"navigate(item, 'image');\" [style.background]=\"fields.image.styles['background']\">\r\n          <img [src]=\"item.image\"\r\n               (error)=\"item.image = defaultPicture\" alt=\"\"\r\n               [ngClass]=\"'image-' + fields.image.styles['imagesSize']\"\r\n               [style.opacity]=\"fields.image.styles['opacity']?fields.image.styles['opacity']/100:fields.image.styles['opacity']\"\r\n               [ngStyle]=\"{'border' : fields.image.styles['border']}\"\r\n          >\r\n        </div>\r\n        <div class=\"bs-header-title-box\">\r\n          <bs-collection-field-control class=\"bs-header-footer-section\"\r\n                                       *ngIf=\"fields.header_footer.active\"\r\n                                       (click)=\"navigate(item, 'header_footer');\"\r\n                                       [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-header-footer-section'\" [field]=\"fields.header_footer\" [type]=\"getTypeMappedField('header_footer')\"\r\n                                       [data]=\"item.header_footer\"\r\n                                       [ngClass]=\"{'bs-list-view__item--link': hasLink(item)}\">\r\n          </bs-collection-field-control>\r\n\r\n          <bs-collection-field-control class=\"bs-title-section\"\r\n                                       *ngIf=\"fields.title.active\"\r\n                                       (click)=\"navigate(item, 'title');\"\r\n                                       [className]=\"'bs-title-section'\"\r\n                                       [isOnRenderMode]=\"isOnRenderMode\" [field]=\"fields.title\"\r\n                                       [data]=\"item.title\" [type]=\"getTypeMappedField('title')\"\r\n                                       [ngClass]=\"{'bs-list-view__item--link': hasLink(item)}\">\r\n          </bs-collection-field-control>\r\n        </div>\r\n        <div class=\"bs-dynamic-control__separator-section\">\r\n          <div class=\"bs-dynamic-control__separator-section__background\"></div>\r\n        </div>\r\n        <bs-collection-field-control class=\"bs-subtitle-section\" *ngIf=\"fields.subtitle.active\" (click)=\"navigate(item, 'subtitle');\" [type]=\"getTypeMappedField('subtitle')\"\r\n                                     [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-subtitle-section'\" [field]=\"fields.subtitle\" [data]=\"item.subtitle\">\r\n        </bs-collection-field-control>\r\n        <bs-collection-field-control class=\"bs-bodytext-section bs-bodytext1-section\" *ngIf=\"fields.body_1.active\" (click)=\"navigate(item, 'body_1');\" [type]=\"getTypeMappedField('body_1')\"\r\n                                     [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-bodytext-section'\" [field]=\"fields.body_1\" [data]=\"item.body_1\">\r\n        </bs-collection-field-control>\r\n        <bs-collection-field-control class=\"bs-bodytext-section bs-bodytext2-section\" *ngIf=\"fields.body_2.active\" (click)=\"navigate(item, 'body_2');\" [type]=\"getTypeMappedField('body_2')\"\r\n                                     [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-bodytext-section'\" [field]=\"fields.body_2\" [data]=\"item.body_2\">\r\n        </bs-collection-field-control>\r\n        <bs-collection-field-control class=\"bs-bodytext-section bs-bodytext3-section\" *ngIf=\"fields.body_3.active\" (click)=\"navigate(item, 'body_3');\" [type]=\"getTypeMappedField('body_3')\"\r\n                                     [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-bodytext-section'\" [field]=\"fields.body_3\" [data]=\"item.body_3\">\r\n        </bs-collection-field-control>\r\n        <div class=\"bs-heading-caption-block\">\r\n          <div class=\"bs-headings-block\">\r\n            <bs-collection-field-control class=\"bs-heading1-section\" *ngIf=\"fields.heading_1.active\" (click)=\"navigate(item, 'heading_1');\" [type]=\"getTypeMappedField('heading_1')\"\r\n                                         [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-heading1-section'\" [field]=\"fields.heading_1\"\r\n                                         [data]=\"item.heading_1\">\r\n            </bs-collection-field-control>\r\n            <bs-collection-field-control class=\"bs-heading2-section\" *ngIf=\"fields.heading_2.active\" (click)=\"navigate(item, 'heading_2');\" [type]=\"getTypeMappedField('heading_2')\"\r\n                                         [isOnRenderMode]=\"isOnRenderMode\" [className]=\"'bs-heading2-section'\" [field]=\"fields.heading_2\"\r\n                                         [data]=\"item.heading_2\">\r\n            </bs-collection-field-control>\r\n          </div>\r\n          <bs-collection-field-control class=\"bs-caption-section\" *ngIf=\"fields.caption.active\" (click)=\"navigate(item, 'caption');\" [className]=\"'bs-caption-section'\" [type]=\"getTypeMappedField('caption')\"\r\n                                       [isOnRenderMode]=\"isOnRenderMode\" [field]=\"fields.caption\" [data]=\"item.caption\">\r\n          </bs-collection-field-control>\r\n        </div>\r\n      </div>\r\n      <div class=\"bs-buttons-container\" *ngIf=\"styles['showActions'] == 'true' || styles['showActions'] == true\">\r\n        <div class=\"bs-dynamic-control__separator\" *ngIf=\"parameters.data.dataSource != 0 && !isOnRenderMode\"></div>\r\n        <div class=\"bs-list-view__footer\" *ngIf=\"isOnRenderMode && (item.actions?.length || canShowCaseLink) || !isOnRenderMode\">\r\n        </div>\r\n        <div class=\"bs-buttons-section\" *ngIf=\"parameters.data.dataSource != 0 && !isOnRenderMode\">\r\n          <button class=\"bs-btn bs-buttons-section__button bs-dynamic-control__ellipsis\">Button label</button>\r\n          <button class=\"bs-btn bs-buttons-section__button bs-dynamic-control__ellipsis\">Button label</button>\r\n          <button class=\"bs-btn bs-buttons-section__button bs-dynamic-control__ellipsis\">Button label</button>\r\n        </div>\r\n        <div class=\"bs-buttons-section\" *ngIf=\"parameters.data.dataSource != 0 && isOnRenderMode\">\r\n        <div *ngIf=\"item.actions && item.actions.length <= 3\" class=\"bs-buttons-section__buttons\">\r\n          <button *ngFor=\"let action of item.actions\" title=\"{{action.displayName}}\" class=\"bs-btn bs-buttons-section__button bs-dynamic-control__ellipsis\" (click)=\"createCase(action.id, action.processId, action.displayName, item.id)\">\r\n            {{action.displayName}}\r\n          </button>\r\n          <button *ngIf=\"canShowCaseLink\" title=\"{{'sitemanager.global.VIEW_CASE' | translate}}\" (click)=\"showCase(item.idCase, null, item.processName)\" class=\"bs-btn bs-buttons-section__button bs-dynamic-control__ellipsis\">\r\n            {{\"sitemanager.global.VIEW_CASE\" | translate}}\r\n          </button>\r\n        </div>\r\n          <bs-actions-control-element [item]=\"item\" *ngIf=\"item.actions && item.actions.length > 3\"\r\n              [isRender]=\"isOnRenderMode\"\r\n              [canShowCaseLink]=\"canShowCaseLink\"\r\n              [position]=\"control.styles.designActions === 'top' ? 'bottom' : 'top'\"\r\n              class=\"bs-actions-list\"\r\n              (onShowCase)=\"showCase($event.idCase, null, $event.processName)\"\r\n              (onCreateCase)=\"createCase($event.actionId, $event.processId, $event.displayName, $event.itemId)\">\r\n          </bs-actions-control-element>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"bs-dynamic-control__footer\">\r\n      <bzg-paginator *ngIf=\"styles['multipageItemView'] === 'Pagination' && data['data']?.length\"\r\n        [pageIndex]=\"pagination.currentPage\"\r\n        [pageSize]=\"styles['displayedItems']\"\r\n        [totalItems]=\"data['dataCount'] ? data['dataCount'] : 0\"\r\n        [hidePageSizeSelector]=\"true\"\r\n        [showFirstLastButtons]=\"true\"\r\n        (paginationChanged)=\"onPaginationEvent($event)\">\r\n      </bzg-paginator>\r\n  </div>\r\n</div>\r\n<bs-empty-list-control-element *ngIf=\"(isDataReady && !data['data']?.length) || isDataError\"></bs-empty-list-control-element>\r\n<div *ngIf=\"(!isDataReady && !isDataError) || isProcessLoading\" style=\"width: 100%; text-align: center\">\r\n  <div class=\"bs-loader bs-loader--centered\">\r\n    <div class=\"bs-loader__spinner\">\r\n      <div class=\"bs-loader__double-bounce1\"></div>\r\n      <div class=\"bs-loader__double-bounce2\"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { BaseDataControlComponent } from '../base-data.component';\r\nimport { ControlDefinition } from '../../decorators/control-definition';\r\nimport {\r\n  CATEGORY,\r\n  SUBCATEGORY_INBOX,\r\n  SUBCATEGORY_DYNAMIC,\r\n  DYNAMIC_CONTROLS,\r\n  PROPERTY_SECTIONS,\r\n} from '../controls-name-definition';\r\nimport { Global } from '../../misc/global';\r\nimport { DefaultValues } from '../../misc/default-values';\r\n\r\n@Component({\r\n  selector: 'bs-dynamic-control',\r\n  templateUrl: './dynamic-control.component.html',\r\n  styleUrls: ['./dynamic-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n  type: DYNAMIC_CONTROLS.dynamic.type,\r\n  displayName: 'DYNAMIC',\r\n  category: CATEGORY.BUNDLES.displayName,\r\n  subcategory: SUBCATEGORY_DYNAMIC.displayName,\r\n  icon: SUBCATEGORY_DYNAMIC.controls.dynamic.icon,\r\n  styles: {\r\n    designCompressed: {\r\n      type: 'design',\r\n      category: 'hidden',\r\n      defaultValue: 'false'\r\n    },\r\n    designDisplay: {\r\n      type: 'design',\r\n      defaultValue: 'basic-right',\r\n      category: 'hidden',\r\n      displays: {\r\n        'basic-right': {\r\n          icon: 'dynamic_basic_right',\r\n          text: 'siteeditor.layouts.DESIGN_DISPLAY_RIGHT',\r\n        },\r\n        'basic-left': {\r\n          icon: 'dynamic_basic_left',\r\n          text: 'siteeditor.layouts.DESIGN_DISPLAY_LEFT',\r\n        }\r\n      }\r\n    },\r\n    designActions: {\r\n      type: 'design',\r\n      defaultValue: 'bottom',\r\n      category: 'hidden',\r\n      actions: {\r\n        top: {\r\n          icon: 'dynamic_top',\r\n          text: 'siteeditor.layouts.DESIGN_ACTIONS_TOP',\r\n        },\r\n        bottom: {\r\n          icon: 'dynamic_botton',\r\n          text: 'siteeditor.layouts.DESIGN_ACTIONS_BOTTOM',\r\n        }\r\n      }\r\n    },\r\n    showActions: {\r\n      section: PROPERTY_SECTIONS.style.key,\r\n      type: 'boolean',\r\n      defaultValue: 'true'\r\n    },\r\n    layout: {\r\n      type: 'layout',\r\n      defaultValue: 'three',\r\n      category: 'hidden',\r\n      layouts: {\r\n          one: {\r\n            icon: 'one-column-thin',\r\n            text: 'ONE_COLUMN',\r\n            columns: 1\r\n          },\r\n          two: {\r\n            icon: 'two-columns-thin',\r\n            text: 'TWO_COLUMNS',\r\n            min: 50,\r\n            columns: 2\r\n          },\r\n          three: {\r\n            icon: 'three-columns-thin',\r\n            text: 'THREE_COLUMNS',\r\n            min: 75,\r\n            columns: 3\r\n          }\r\n        }\r\n    },\r\n    multipageItemView: {\r\n      type: 'radio',\r\n      defaultValue: 'Pagination',\r\n      category: 'layout',\r\n      values: ['Pagination']\r\n    },\r\n    verticalItemSpacing: {\r\n      type: 'range',\r\n      defaultValue: 12,\r\n      category: 'layout',\r\n      step: 4,\r\n      min: 4,\r\n      max: 40,\r\n      unitValue: 'px',\r\n      headerName: 'Rows'\r\n    },\r\n    displayedItems: {\r\n      type: 'range',\r\n      defaultValue: 3,\r\n      category: 'layout',\r\n      min: 1,\r\n      max: 10\r\n    },\r\n    backColor: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'color',\r\n      defaultValue: '#FFF'\r\n    },\r\n    boxShadow: {\r\n      section: PROPERTY_SECTIONS.border.key,\r\n      type: 'text',\r\n      defaultValue: '0 1px 1px 0 rgba(0,0,0,.5), 0 1px 6px 0 rgba(0,0,0,.02)'\r\n    },\r\n    border: {\r\n      section: PROPERTY_SECTIONS.border.key,\r\n      type: 'border',\r\n      defaultValue: '1px solid #e4e8ea'\r\n    },\r\n    cornerRadius: {\r\n      section: PROPERTY_SECTIONS.border.key,\r\n      type: 'range',\r\n      defaultValue: 0,\r\n      min: 6,\r\n      max: 50\r\n    }\r\n  },\r\n  parameters: {\r\n    data: {\r\n      type: 'data',\r\n      size: 10,\r\n    },\r\n    filter: {\r\n      type: 'text',\r\n      defaultValue: '',\r\n      isFilter: true\r\n    }\r\n  },\r\n  inputs: ['parameters.filter'],\r\n  defaultSize: {\r\n    minWidth: 320,\r\n    width: 1180,\r\n    height: 880,\r\n    maxWidth: 1180,\r\n    dynamic: true,\r\n    maxHeight: 4000\r\n  },\r\n  bizagiConnections: {\r\n    cases: true,\r\n    collections: true,\r\n    searches: true,\r\n    config: {\r\n      image: 'list-view-config.png',\r\n      coords: {\r\n        image: {\r\n          w: 75,\r\n          h: 75,\r\n          x: 7,\r\n          y: 7\r\n        },\r\n        title: {\r\n          w: 136,\r\n          h: 13,\r\n          x: 90,\r\n          y: 7\r\n        },\r\n        text: {\r\n          w: 180,\r\n          h: 10,\r\n          x: 90,\r\n          y: 30\r\n        },\r\n        info: {\r\n          w: 80,\r\n          h: 18,\r\n          x: 190,\r\n          y: 50\r\n        }\r\n      }\r\n    }\r\n  },\r\n  fields: {\r\n    image: {\r\n      type: 'image',\r\n      displayName: 'siteeditor.properties.IMAGE',\r\n      styles: {\r\n        imagesSize: {\r\n          section: PROPERTY_SECTIONS.style.key,\r\n          type: 'image-size',\r\n          defaultValue: 'scale'\r\n        },\r\n        opacity: {\r\n          section: PROPERTY_SECTIONS.background.key,\r\n          type: 'range',\r\n          defaultValue: 100,\r\n          min: 0,\r\n          max: 100\r\n        },\r\n        background: {\r\n          section: PROPERTY_SECTIONS.background.key,\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        border: {\r\n          section: PROPERTY_SECTIONS.border.key,\r\n          type: 'border',\r\n          defaultValue: 'border-none'\r\n        }\r\n      }\r\n    },\r\n    header_footer: {\r\n      type: 'title',\r\n      displayName: 'siteeditor.properties.HEADER_FOOTER',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: true,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-size',\r\n          defaultValue: '14px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'color',\r\n          defaultValue: 'color-sixth'\r\n        },\r\n        backColor: {\r\n          section: PROPERTY_SECTIONS.background.key,\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    },\r\n    title: {\r\n      type: 'title',\r\n      displayName: 'siteeditor.properties.TITLE',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: false,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-size',\r\n          defaultValue: '28px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'color',\r\n          defaultValue: 'color-first'\r\n        },\r\n        backColor: {\r\n          section: PROPERTY_SECTIONS.background.key,\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    },\r\n    subtitle: {\r\n      type: 'title',\r\n      displayName: 'siteeditor.properties.SUBTITLE',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: true,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          type: 'font-size',\r\n          defaultValue: '18px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          type: 'color',\r\n          defaultValue: 'color-second'\r\n        },\r\n        backColor: {\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    },\r\n    body_1: {\r\n      type: 'text',\r\n      displayName: 'siteeditor.properties.BODY_1',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: true,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          type: 'font-size',\r\n          defaultValue: '12px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          type: 'color',\r\n          defaultValue: 'color-sixth'\r\n        },\r\n        backColor: {\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    },\r\n    body_2: {\r\n      type: 'text',\r\n      displayName: 'siteeditor.properties.BODY_2',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: true,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          type: 'font-size',\r\n          defaultValue: '12px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          type: 'color',\r\n          defaultValue: 'color-sixth'\r\n        },\r\n        backColor: {\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    },\r\n    body_3: {\r\n      type: 'text',\r\n      displayName: 'siteeditor.properties.BODY_3',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: true,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          type: 'font-size',\r\n          defaultValue: '12px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          type: 'color',\r\n          defaultValue: 'color-sixth'\r\n        },\r\n        backColor: {\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    },\r\n    heading_1: {\r\n      type: 'title',\r\n      displayName: 'siteeditor.properties.HEADING_1',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: true,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          type: 'font-size',\r\n          defaultValue: '20px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          type: 'color',\r\n          defaultValue: 'color-sixth'\r\n        },\r\n        backColor: {\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    },\r\n    heading_2: {\r\n      type: 'title',\r\n      displayName: 'siteeditor.properties.HEADING_2',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: true,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          type: 'font-size',\r\n          defaultValue: '16px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          type: 'color',\r\n          defaultValue: 'color-sixth'\r\n        },\r\n        backColor: {\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    },\r\n    caption: {\r\n      type: 'title',\r\n      displayName: 'siteeditor.properties.CAPTION',\r\n      styles: {\r\n        fieldLabel: {\r\n          type: 'label-field',\r\n          defaultValue: {\r\n            isActive: false,\r\n            text: 'Label'\r\n          }\r\n        },\r\n        fontFamily: {\r\n          type: 'font-family',\r\n          defaultValue: 'inherit'\r\n        },\r\n        fontSize: {\r\n          type: 'font-size',\r\n          defaultValue: '28px',\r\n          max: 48\r\n        },\r\n        letterSpacing: {\r\n          type: 'range',\r\n          defaultValue: 0,\r\n          min: 0,\r\n          max: 60\r\n        },\r\n        align: {\r\n          type: 'text-align',\r\n          defaultValue: 'left'\r\n        },\r\n        fontColor: {\r\n          type: 'color',\r\n          defaultValue: 'color-first'\r\n        },\r\n        backColor: {\r\n          type: 'color',\r\n          defaultValue: 'rgba(0, 0, 0, 0)'\r\n        },\r\n        fontWeight: {\r\n          type: 'font-weight',\r\n          defaultValue: 'normal'\r\n        }\r\n      }\r\n    }\r\n  }\r\n  ,\r\n  hiddenOptions: {\r\n    modifyFields: false,\r\n    designOption: false\r\n  }\r\n})\r\n\r\nexport class DynamicControlComponent extends BaseDataControlComponent {\r\n  public defaultPicture = DefaultValues.getDefaultPicture();\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"bs-tmpl-lv\">\r\n    <div class=\"bs-tmpl-lv__section1\">\r\n      <div class=\"bs-tmpl-lv__img\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.image].focus || selectedField[fields.image].completed,\r\n             'bs-tmpl-lv--focused': selectedField[fields.image].focus, 'bs-tmpl-lv--completed': !selectedField[fields.image].disabled,\r\n             'bs-tmpl-lv--disabled': selectedField[fields.image].disabled }\"\r\n        (click)=\"setFocus.emit(fields.image)\">\r\n\r\n        <div class=\"bs-tmpl__info-container\">\r\n          <bzg-checkbox [checked]=\"false\" [checked]=\"selectedField[fields.image].completed\" [compact]=\"true\">\r\n            {{ 'siteeditor.datamanager.IMAGE' | translate }}\r\n          </bzg-checkbox>\r\n        </div>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--32 bs-tmpl-lv__img--icon\">\r\n          <use href=\"#icon-image-thin\"></use>\r\n        </svg>\r\n        <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked__image\" *ngIf=\"selectedField[fields.image].linked\">\r\n          <use href=\"#icon-link\"></use>\r\n        </svg>\r\n      </div>\r\n      <div class=\"bs-tmpl-lv__header-title-box\">\r\n\r\n        <div class=\"bs-tmpl-lv__field-container\">\r\n          <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.header_footer].showLabel\"  [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.header_footer].focus,\r\n          'bs-tmpl-lv__label--fill': selectedField[fields.header_footer].labelText}\">\r\n          </div>\r\n          <div class=\"bs-tmpl-lv__header-title-box__footer\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.header_footer].focus || selectedField[fields.header_footer].completed,\r\n              'bs-tmpl-lv--focused': selectedField[fields.header_footer].focus, 'bs-tmpl-lv--completed': !selectedField[fields.header_footer].disabled,\r\n              'bs-tmpl-lv--disabled': selectedField[fields.header_footer].disabled }\"\r\n            (click)=\"setFocus.emit(fields.header_footer)\">\r\n            <bzg-checkbox [checked]=\"selectedField[fields.header_footer].completed\" (click)=\"changeField(fields.header_footer);$event.preventDefault();\" [compact]=\"true\">\r\n              {{\"siteeditor.modifyfields.FIELD_HEADER_FOOTER\" | translate}}\r\n            </bzg-checkbox>\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.header_footer].linked\">\r\n              <use href=\"#icon-link\"></use>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"bs-tmpl-lv__field-container\">\r\n          <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.title].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.title].focus,\r\n          'bs-tmpl-lv__label--fill': selectedField[fields.title].labelText}\">\r\n          </div>\r\n          <div class=\"bs-tmpl-lv__header-title-box__title\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.title].focus || selectedField[fields.title].completed,\r\n              'bs-tmpl-lv--focused': selectedField[fields.title].focus, 'bs-tmpl-lv--completed': !selectedField[fields.title].disabled,\r\n              'bs-tmpl-lv--disabled': selectedField[fields.title].disabled}\"\r\n            (click)=\"setFocus.emit(fields.title)\">\r\n            <bzg-checkbox [checked]=\"selectedField[fields.title].completed\" (click)=\"changeField(fields.title);$event.preventDefault();\" [compact]=\"true\">\r\n              {{\"siteeditor.modifyfields.FIELD_TITLE\" | translate}}\r\n            </bzg-checkbox>\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.title].linked\">\r\n              <use href=\"#icon-link\"></use>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"bs-tmpl-lv__header-title-box__line\"></div>\r\n        <div class=\"bs-tmpl-lv__field-container\">\r\n          <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.subtitle].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.subtitle].focus,\r\n          'bs-tmpl-lv__label--fill': selectedField[fields.subtitle].labelText}\">\r\n          </div>\r\n          <div class=\"bs-tmpl-lv__header-title-box__subtitle\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.subtitle].focus || selectedField[fields.subtitle].completed,\r\n              'bs-tmpl-lv--focused': selectedField[fields.subtitle].focus, 'bs-tmpl-lv--completed': !selectedField[fields.subtitle].disabled,\r\n              'bs-tmpl-lv--disabled': selectedField[fields.subtitle].disabled}\"\r\n            (click)=\"setFocus.emit(fields.subtitle)\">\r\n            <bzg-checkbox [checked]=\"selectedField[fields.subtitle].completed\" (click)=\"changeField(fields.subtitle);$event.preventDefault();\" [compact]=\"true\">\r\n              {{\"siteeditor.modifyfields.FIELD_SUBTITLE\" | translate}}\r\n            </bzg-checkbox>\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.subtitle].linked\">\r\n              <use href=\"#icon-link\"></use>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"bs-tmpl-lv__field-container\">\r\n          <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.body_1].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.body_1].focus,\r\n          'bs-tmpl-lv__label--fill': selectedField[fields.body_1].labelText}\">\r\n          </div>\r\n          <div class=\"bs-tmpl-lv__header-title-box__bodytext1\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.body_1].focus || selectedField[fields.body_1].completed,\r\n          'bs-tmpl-lv--focused': selectedField[fields.body_1].focus, 'bs-tmpl-lv--completed': !selectedField[fields.body_1].disabled,\r\n          'bs-tmpl-lv--disabled': selectedField[fields.body_1].disabled}\"\r\n            (click)=\"setFocus.emit(fields.body_1)\">\r\n            <bzg-checkbox [checked]=\"selectedField[fields.body_1].completed\" (click)=\"changeField(fields.body_1);$event.preventDefault();\" [compact]=\"true\">\r\n              {{\"siteeditor.modifyfields.FIELD_BODY_TEXT_01\" | translate}}\r\n            </bzg-checkbox>\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.body_2].linked\">\r\n              <use href=\"#icon-link\"></use>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bs-tmpl-lv__section2\">\r\n      <div class=\"bs-tmpl-lv__text-box\">\r\n        <div class=\"bs-tmpl-lv__field-container\">\r\n          <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.body_2].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.body_2].focus,\r\n          'bs-tmpl-lv__label--fill': selectedField[fields.body_2].labelText}\">\r\n          </div>\r\n          <div class=\"bs-tmpl-lv__text-box__bodytext2\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.body_2].focus || selectedField[fields.body_2].completed,\r\n          'bs-tmpl-lv--focused': selectedField[fields.body_2].focus, 'bs-tmpl-lv--completed': !selectedField[fields.body_2].disabled,\r\n          'bs-tmpl-lv--disabled': selectedField[fields.body_2].disabled }\"\r\n            (click)=\"setFocus.emit(fields.body_2)\">\r\n            <bzg-checkbox [checked]=\"selectedField[fields.body_2].completed\" (click)=\"changeField(fields.body_2);$event.preventDefault();\" [compact]=\"true\">\r\n              {{\"siteeditor.modifyfields.FIELD_BODY_TEXT_02\" | translate}}\r\n            </bzg-checkbox>\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.body_2].linked\">\r\n              <use href=\"#icon-link\"></use>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"bs-tmpl-lv__field-container\">\r\n          <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.body_3].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.body_3].focus,\r\n          'bs-tmpl-lv__label--fill': selectedField[fields.body_3].labelText}\">\r\n          </div>\r\n          <div class=\"bs-tmpl-lv__text-box__bodytext3\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.body_3].focus || selectedField[fields.body_3].completed,\r\n            'bs-tmpl-lv--focused': selectedField[fields.body_3].focus, 'bs-tmpl-lv--completed': !selectedField[fields.body_3].disabled,\r\n            'bs-tmpl-lv--disabled': selectedField[fields.body_3].disabled}\"\r\n            (click)=\"setFocus.emit(fields.body_3)\">\r\n            <bzg-checkbox [checked]=\"false\" [checked]=\"selectedField[fields.body_3].completed\" (click)=\"changeField(fields.body_3);$event.preventDefault();\" [compact]=\"true\">\r\n              {{\"siteeditor.modifyfields.FIELD_BODY_TEXT_03\" | translate}}\r\n            </bzg-checkbox>\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.body_3].linked\">\r\n              <use href=\"#icon-link\"></use>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"bs-tmpl-lv__heading\">\r\n        <div class=\"bs-tmpl-lv__heading__left\">\r\n          <div class=\"bs-tmpl-lv__field-container\">\r\n            <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.heading_1].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.heading_1].focus,\r\n            'bs-tmpl-lv__label--fill': selectedField[fields.heading_1].labelText}\">\r\n            </div>\r\n            <div class=\"bs-tmpl-lv__heading__left__heading1\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.heading_1].focus || selectedField[fields.heading_1].completed,\r\n            'bs-tmpl-lv--focused': selectedField[fields.heading_1].focus, 'bs-tmpl-lv--completed': !selectedField[fields.heading_1].disabled,\r\n            'bs-tmpl-lv--disabled': selectedField[fields.heading_1].disabled}\"\r\n              (click)=\"setFocus.emit(fields.heading_1)\">\r\n              <bzg-checkbox [checked]=\"selectedField[fields.heading_1].completed\" (click)=\"changeField(fields.heading_1);$event.preventDefault();\" [compact]=\"true\">\r\n                {{\"siteeditor.modifyfields.FIELD_HEADING_01\" | translate}}\r\n              </bzg-checkbox>\r\n              <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.heading_1].linked\">\r\n                <use href=\"#icon-link\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"bs-tmpl-lv__field-container\">\r\n            <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.heading_1].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.heading_2].focus,\r\n            'bs-tmpl-lv__label--fill': selectedField[fields.heading_2].labelText}\">\r\n            </div>\r\n            <div class=\"bs-tmpl-lv__heading__left__heading2\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.heading_2].focus || selectedField[fields.heading_2].completed,\r\n                'bs-tmpl-lv--focused': selectedField[fields.heading_2].focus, 'bs-tmpl-lv--completed': !selectedField[fields.heading_2].disabled,\r\n                'bs-tmpl-lv--disabled': selectedField[fields.heading_2].disabled}\"\r\n              (click)=\"setFocus.emit(fields.heading_2)\">\r\n              <bzg-checkbox [checked]=\"selectedField[fields.heading_2].completed\" (click)=\"changeField(fields.heading_2);$event.preventDefault();\" [compact]=\"true\">\r\n                {{\"siteeditor.modifyfields.FIELD_HEADING_02\" | translate}}\r\n              </bzg-checkbox>\r\n              <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.heading_2].linked\">\r\n                <use href=\"#icon-link\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"bs-tmpl-lv__heading__right\">\r\n          <div class=\"bs-tmpl-lv__field-container bs-tmpl-lv__field-container__right\">\r\n            <div class=\"bs-tmpl-lv__label\" *ngIf=\"selectedField[fields.caption].showLabel\" [ngClass]=\"{'bs-tmpl-lv__label--focused': selectedField[fields.caption].focus,\r\n             'bs-tmpl-lv__label--fill': selectedField[fields.caption].labelText}\">\r\n            </div>\r\n            <div class=\"bs-tmpl-lv__heading__right__caption\" [ngClass]=\"{'bs-tmpl-elm-0': selectedField[fields.caption].focus || selectedField[fields.caption].completed,\r\n                'bs-tmpl-lv--focused': selectedField[fields.caption].focus, 'bs-tmpl-lv--completed': !selectedField[fields.caption].disabled,\r\n                'bs-tmpl-lv--disabled': selectedField[fields.caption].disabled}\"\r\n              (click)=\"setFocus.emit(fields.caption)\">\r\n              <bzg-checkbox [checked]=\"selectedField[fields.caption].completed\" (click)=\"changeField(fields.caption);$event.preventDefault();\" [compact]=\"true\">\r\n                {{\"siteeditor.modifyfields.FIELD_CAPTION\" | translate}}\r\n              </bzg-checkbox>\r\n              <svg class=\"bz-icon-svg bz-icon-svg--16 bs-tmpl__linked\" *ngIf=\"selectedField[fields.caption].linked\">\r\n                <use href=\"#icon-link\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bs-dm-template-dynamic',\r\n  templateUrl: './dm-template-dynamic.component.html',\r\n  styleUrls: ['./dm-template-dynamic.component.scss']\r\n})\r\nexport class DmTemplateDynamicComponent {\r\n\r\n  @Input() selectedField;\r\n  public fields: { [key: string]: string };\r\n  @Output() setFocus = new EventEmitter();\r\n  @Output() changeDisableField = new EventEmitter();\r\n  constructor() {\r\n    this.fields = {\r\n      image: 'image',\r\n      header_footer: 'header_footer',\r\n      title: 'title',\r\n      subtitle: 'subtitle',\r\n      body_1: 'body_1',\r\n      body_2: 'body_2',\r\n      body_3: 'body_3',\r\n      heading_1: 'heading_1',\r\n      heading_2: 'heading_2',\r\n      caption: 'caption'\r\n    };\r\n  }\r\n\r\n  changeField(field: string) {\r\n    this.changeDisableField.emit(field);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'bsObjectList'\r\n})\r\nexport class ObjectListPipe implements PipeTransform {\r\n\r\n  transform(value: any, args?: any[]): Object[] {\r\n    const returnArray = [];\r\n    const keys: Array<string> = Object.keys(value);\r\n\r\n    keys.forEach((key: string) => {\r\n      returnArray.push({\r\n        key,\r\n        val: value[key]\r\n      });\r\n    });\r\n    return returnArray;\r\n  }\r\n\r\n}\r\n","<div class=\"my-relevants\" *ngIf=\"data\"\r\n     [style.font-family]=\"styles['fontFamily']\">\r\n <div class=\"my-relevants__header\" [style.background-color]=\"styles['titleBackColor']\"\r\n      [style.border-color]=\"styles['titleBackColor']\">\r\n   <h1 class=\"my-relevants__header__title\" [style.color]=\"styles['titleTextColor']\">\r\n     {{parameters.menuName ? parameters.menuName : \"controls.relevants.TITLE\" | translate}}\r\n   </h1>\r\n </div>\r\n  <div class=\"my-relevants__body\">\r\n    <ul class=\"my-relevants-list\" *ngIf=\"data[''] && data[''].length\">\r\n      <li class=\"my-relevants-list__item my-relevants-list__item--{{styles['align']}}\" *ngFor=\"let relevantItem of data['']\"\r\n          [style.color]=\"styles['itemFillContent'] === 'filled' ? styles['itemFontColor'] : styles['itemBackColor']\"\r\n          [style.background-color]=\"styles['itemFillContent'] === 'filled' ? styles['itemBackColor'] : styles['itemFontColor']\">\r\n        <svg *ngIf=\"styles.showItemIcon\" class=\"bz-icon-svg bz-icon-svg--24 my-relevants-list__item__icon\">\r\n          <use href=\"#icon-relevant-to-me\"></use>\r\n        </svg>\r\n        <span class=\"my-relevants-list__item__text\" (click)=\"startProcessByProcessId(relevantItem.processId, relevantItem.displayName)\">{{relevantItem.displayName}}</span>\r\n      </li>\r\n    </ul>\r\n    <ul class=\"my-relevants-accordion\">\r\n      <li class=\"my-relevants-accordion__item\" *ngFor=\"let item of data | bsObjectList\">\r\n        <div *ngIf=\"item.key\">\r\n          <div class=\"my-relevants-accordion__header\" (click)=\"toggle(item.key)\"\r\n                [style.color]=\"styles['categoryFontColor']\"\r\n                [style.background-color]=\"styles['categoryFillContent'] === 'filled' ? styles['categoryBackColor'] : null\"\r\n                [style.border-color]=\"styles['categoryFillContent'] === 'filled' ? null : styles['categoryBackColor']\">\r\n            <h2 class=\"my-relevants-accordion__title\" *ngIf=\"item.key\"\r\n                [style.color]=\"styles['categoryFontColor']\">{{item.key}}</h2>\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16 my-relevants-accordion__icon\">\r\n              <use *ngIf=\"expanded[item.key]\" href=\"#icon-arrow-down\"></use>\r\n              <use *ngIf=\"!expanded[item.key]\" href=\"#icon-arrow-left\"></use>\r\n            </svg>\r\n          </div>\r\n         <ul class=\"my-relevants-list\" *ngIf=\"data[item.key]\" [ngClass]=\"{ 'my-relevants-list--collapsed': !expanded[item.key]}\">\r\n            <li class=\"my-relevants-list__item my-relevants-list__item--{{styles['align']}}\" *ngFor=\"let relevantItem of item.val\"\r\n                [style.color]=\"styles['itemFontColor']\"\r\n                [style.background-color]=\"styles['itemFillContent'] === 'filled' ? styles['itemBackColor'] : null\"\r\n                [style.border-color]=\"styles['itemFillContent'] === 'filled' ? null : styles['itemBackColor']\">\r\n              <svg *ngIf=\"styles.showItemIcon\" class=\"bz-icon-svg bz-icon-svg--24 my-relevants-list__item__icon\">\r\n                <use href=\"#icon-relevant-to-me\"></use>\r\n              </svg>\r\n              <span class=\"my-relevants-list__item__text\" (click)=\"startProcessByProcessId(relevantItem.processId, relevantItem.displayName)\">{{relevantItem.displayName}}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n","import {Component} from '@angular/core';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, PROPERTY_SECTIONS, SUBCATEGORY_MY_RELEVANTS } from './../controls-name-definition';\r\nimport {BaseProcessControlComponent} from 'app/common/controls/base-process.component';\r\nimport {DefaultValues} from 'app/common/misc/default-values';\r\nimport {TranslateService} from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'bs-my-relevants-control',\r\n  templateUrl: './my-relevants-control.component.html',\r\n  styleUrls: ['./my-relevants-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n  type: 'my-relevants',\r\n  displayName: 'MY_RELEVANTS_CONTROL',\r\n  category: CATEGORY.EXPERIENCE_ELEMENTS.displayName,\r\n  subcategory: SUBCATEGORY_MY_RELEVANTS.displayName,\r\n  icon: SUBCATEGORY_MY_RELEVANTS.controls.MyRelevants.icon,\r\n  styles: {\r\n    layout: {\r\n      type: 'layout',\r\n      defaultValue: 'free',\r\n      category: 'hidden',\r\n      layouts: {\r\n        free: {\r\n          icon: 'free-menu',\r\n          text: 'FREE_MENU',\r\n          columns: 3\r\n        },\r\n        small: {\r\n          icon: 'small-menu',\r\n          text: 'SMALL_MENU',\r\n          columns: 1\r\n        },\r\n        medium: {\r\n          icon: 'medium-menu',\r\n          text: 'MEDIUM_MENU',\r\n          min: 50,\r\n          columns: 2\r\n        },\r\n        large: {\r\n          icon: 'large-menu',\r\n          text: 'LARGE_MENU',\r\n          min: 80,\r\n          columns: 3\r\n        }\r\n      }\r\n    },\r\n    align: {\r\n      section: PROPERTY_SECTIONS.style.key,\r\n      type: 'text-align',\r\n      defaultValue: 'left'\r\n    },\r\n    fontFamily: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-family',\r\n      defaultValue: 'inherit'\r\n    },\r\n    titleTextColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color',\r\n      defaultValue: '#FFFFFF'\r\n    },\r\n    titleBackColor: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'color',\r\n      defaultValue: '#364855'\r\n    },\r\n    categoryFillContent: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'fill-content',\r\n      defaultValue: 'filled'\r\n    },\r\n    categoryFontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color',\r\n      defaultValue: '#FFFFFF'\r\n    },\r\n    categoryBackColor: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'color',\r\n      defaultValue: '#364855'\r\n    },\r\n    itemFillContent: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'fill-content',\r\n      defaultValue: 'filled'\r\n    },\r\n    itemFontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color',\r\n      defaultValue: '#FFFFFF'\r\n    },\r\n    itemBackColor: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'color',\r\n      defaultValue: '#364855'\r\n    },\r\n    showItemIcon: {\r\n      section: PROPERTY_SECTIONS.icon.key,\r\n      type: 'boolean',\r\n      defaultValue: true\r\n    }\r\n  },\r\n  parameters: {\r\n    menuName: {\r\n      type: 'title'\r\n    }\r\n  },\r\n  defaultSize: {\r\n    width: 300,\r\n    height: 530\r\n  },\r\n})\r\n\r\nexport class MyRelevantsControlComponent extends BaseProcessControlComponent {\r\n  public expanded = {};\r\n\r\n  constructor(private _translateParser: TranslateService) {\r\n    super();\r\n  }\r\n\r\n  async ngOnInit() {\r\n    if (this.isRenderingMode()) {\r\n      this.data =  await this.loadRelevants();\r\n    } else {\r\n      this.data = await DefaultValues.getDefaultProcesess(this._translateParser);\r\n    }\r\n  }\r\n\r\n  public toggle(relevantCategory: string) {\r\n    this.expanded[relevantCategory] = this.expanded[relevantCategory] ? false : true;\r\n  }\r\n}\r\n","import { CATEGORY, LINE_CONTROLS, PROPERTY_SECTIONS, SUBCATEGORY_LINE } from './../controls-name-definition';\r\nimport {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\n\r\n@Component({\r\n  selector: 'bs-line-control',\r\n  templateUrl: './line-control.component.html',\r\n  styleUrls: ['./line-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: LINE_CONTROLS.line.type,\r\n    category: CATEGORY.FIGURES.displayName,\r\n    subcategory: SUBCATEGORY_LINE.displayName,\r\n    displayName: LINE_CONTROLS.line.displayName,\r\n    icon: LINE_CONTROLS.line.icon,\r\n    styles: {\r\n      fullWidth: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      },\r\n      opacity: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'range',\r\n        defaultValue: 100,\r\n        min: 0,\r\n        max: 100\r\n      },\r\n      line: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '4px solid #000'\r\n      }\r\n    },\r\n    parameters: {\r\n    },\r\n    defaultSize: {\r\n      width: 280,\r\n      height: 45\r\n    },\r\n    hiddenOptions: {\r\n        dataManager: true\r\n      }\r\n  }\r\n)\r\n\r\nexport class LineControlComponent extends BaseControlComponent {\r\n\r\n  checkIfFullWidth() {\r\n    const parent = $('#' + this.control.id);\r\n    const fullWidthClass = '--full-width';\r\n    const hasFullWidthClass =  parent.hasClass(fullWidthClass);\r\n    if (this.styles.fullWidth && !hasFullWidthClass ) {\r\n      parent.addClass(fullWidthClass);\r\n      return true;\r\n    } else if (!this.styles.fullWidth && hasFullWidthClass) {\r\n     parent.removeClass(fullWidthClass);\r\n     return false;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","<div class=\"bs-control-line\"\r\n     [style.opacity]=\"styles['opacity']?styles['opacity']/100:styles['opacity']\"\r\n     [ngStyle]=\"{'border-top' : styles.line}\"\r\n     [ngClass]=\"{'--full-width': checkIfFullWidth()}\">\r\n</div>\r\n","import {\r\n  CATEGORY,\r\n  CIRCLE_CONTROLS, PROPERTY_SECTIONS,\r\n  SUBCATEGORY_CIRCLE,\r\n} from './../controls-name-definition';\r\nimport {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\n\r\n@Component({\r\n  selector: 'bs-circle-control',\r\n  templateUrl: './circle-control.component.html',\r\n  styleUrls: ['./circle-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: CIRCLE_CONTROLS.circle.type,\r\n    category: CATEGORY.FIGURES.displayName,\r\n    subcategory: SUBCATEGORY_CIRCLE.displayName,\r\n    displayName: CIRCLE_CONTROLS.circle.displayName,\r\n    icon: CIRCLE_CONTROLS.circle.icon,\r\n    styles: {\r\n      keepSize: {\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      },\r\n      opacity: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'range',\r\n        defaultValue: 100,\r\n        min: 0,\r\n        max: 100\r\n      },\r\n      color: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'none'\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '1px solid #000'\r\n      }\r\n    },\r\n    parameters: {\r\n    },\r\n    defaultSize: {\r\n      width: 200,\r\n      height: 204\r\n    },\r\n    hiddenOptions: {\r\n      dataManager: true\r\n    }\r\n  }\r\n)\r\n\r\nexport class CircleControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n\r\n  }\r\n}\r\n","<div class=\"bs-control-circle\"\r\n     [style.opacity]=\"styles['opacity']?styles['opacity']/100:styles['opacity']\"\r\n     [style.background]=\"styles['color']\"\r\n     [ngStyle]=\"{'border' : styles.border,\r\n     'height': styles['keepSize'] ? 'auto' : '100%',\r\n     'padding-top': styles['keepSize'] ? '100%' : '0'\r\n     }\">\r\n</div>\r\n","import {\r\n  CATEGORY,\r\n  SUBCATEGORY_SQUARE,\r\n  SQUARE_CONTROLS, PROPERTY_SECTIONS,\r\n} from './../controls-name-definition';\r\nimport {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\n\r\n@Component({\r\n  selector: 'bs-square-control',\r\n  templateUrl: './square-control.component.html',\r\n  styleUrls: ['./square-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: SQUARE_CONTROLS.square.type,\r\n    category: CATEGORY.FIGURES.displayName,\r\n    subcategory: SUBCATEGORY_SQUARE.displayName,\r\n    displayName: SQUARE_CONTROLS.square.displayName,\r\n    icon: SQUARE_CONTROLS.square.icon,\r\n    styles: {\r\n       keepSize: {\r\n         section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      },\r\n      color: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'none'\r\n      },\r\n      opacity: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'range',\r\n        defaultValue: 100,\r\n        min: 0,\r\n        max: 100\r\n      },\r\n      cornerRadius: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 0,\r\n        max: 50\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '1px solid #000'\r\n      },\r\n   },\r\n    parameters: {\r\n    },\r\n    defaultSize: {\r\n      width: 200,\r\n      height: 204\r\n    },\r\n    hiddenOptions: {\r\n      dataManager: true\r\n    }\r\n  }\r\n)\r\n\r\nexport class SquareControlComponent extends BaseControlComponent {\r\n\r\n  fontWeight() {\r\n    const bold = this.styles.bold;\r\n    return bold === true ? '600' : '100';\r\n\r\n  }\r\n}\r\n","<div class=\"bs-control-square\"\r\n     [style.opacity]=\"styles['opacity']?styles['opacity']/100:styles['opacity']\"\r\n     [style.background]=\"styles['color']\"\r\n     [ngStyle]=\"{'border' : styles.border,\r\n      'height': styles['keepSize'] ? 'auto' : '100%',\r\n     'padding-top': styles['keepSize'] ? '100%' : '0',\r\n     'border-radius': styles['cornerRadius'] + 'px'\r\n     }\">\r\n</div>\r\n","import {\r\n  CATEGORY, PROPERTY_SECTIONS,\r\n  RECTANGLE_CONTROLS,\r\n  SUBCATEGORY_RECTANGLE,\r\n} from './../controls-name-definition';\r\nimport {Component} from '@angular/core';\r\nimport {BaseControlComponent} from 'app/common/controls/base.component';\r\nimport {ControlDefinition} from 'app/common/decorators/control-definition';\r\n\r\n@Component({\r\n  selector: 'bs-rectangle-control',\r\n  templateUrl: './rectangle-control.component.html',\r\n  styleUrls: ['./rectangle-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: RECTANGLE_CONTROLS.rectangle.type,\r\n    category: CATEGORY.FIGURES.displayName,\r\n    subcategory: SUBCATEGORY_RECTANGLE.displayName,\r\n    displayName: RECTANGLE_CONTROLS.rectangle.displayName,\r\n    icon: RECTANGLE_CONTROLS.rectangle.icon,\r\n    styles: {\r\n      fullWidth: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: false\r\n      },\r\n      color: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'color',\r\n        defaultValue: 'none'\r\n      },\r\n      opacity: {\r\n        section: PROPERTY_SECTIONS.background.key,\r\n        type: 'range',\r\n        defaultValue: 100,\r\n        min: 0,\r\n        max: 100\r\n      },\r\n      cornerRadius: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'range',\r\n        defaultValue: 0,\r\n        min: 0,\r\n        max: 50\r\n      },\r\n      border: {\r\n        section: PROPERTY_SECTIONS.border.key,\r\n        type: 'border',\r\n        defaultValue: '1px solid #000'\r\n      }\r\n    },\r\n    parameters: {\r\n    },\r\n    defaultSize: {\r\n      width: 400,\r\n      height: 200\r\n    },\r\n    hiddenOptions: {\r\n      dataManager: true\r\n    }\r\n  }\r\n)\r\n\r\nexport class RectangleControlComponent extends BaseControlComponent {\r\n\r\n  checkIfFullWidth() {\r\n    const parent = $('#' + this.control.id);\r\n    const fullWidthClass = '--full-width';\r\n    const hasFullWidthClass =  parent.hasClass(fullWidthClass);\r\n    if (this.styles.fullWidth && !hasFullWidthClass ) {\r\n      parent.addClass(fullWidthClass);\r\n      return true;\r\n    } else if (!this.styles.fullWidth && hasFullWidthClass) {\r\n      parent.removeClass(fullWidthClass);\r\n      return false;\r\n    }\r\n    return false;\r\n  }}\r\n","<div class=\"bs-control-rectangle\"\r\n     [style.opacity]=\"styles['opacity']?styles['opacity']/100 : styles['opacity']\"\r\n     [style.background]=\"styles['color']\"\r\n      [ngClass]=\"{'--full-width': checkIfFullWidth()}\"\r\n     [ngStyle]=\"{'border' : styles.border,\r\n     'border-radius': (location.width > location.height ?\r\n     styles['cornerRadius'] * location.width / 100 :\r\n     styles['cornerRadius'] * location.height / 100 ) + 'px'\r\n     }\"\r\n    >\r\n</div>\r\n","import { PipeTransform, Pipe } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safeUrl' })\r\nexport class SafeUrlPipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n  transform(url) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n}\r\n","<div class=\"bs-iframe-url-container\">\r\n    <div *ngIf=\"styles['showTopBar'] || styles['showUpdateButton']\" class=\"bs-iframe-url-top-bar\" [ngClass]=\"{'bs-iframe-url-top-bar--end-content' : !styles['showTopBar']}\">\r\n        <label *ngIf=\"styles['showTopBar']\" class=\"bs-iframe-url-top-bar__title\">{{parameters['title']}}</label>\r\n        <button class=\"bs-btn bs-element bs-iframe-url-top-bar__update\" *ngIf=\"styles['showUpdateButton']\" (click)=\"refresh()\">{{\"sitemanager.global.UPDATE\" | translate}}</button>\r\n    </div>\r\n    <div class=\"bs-iframe-url\" [ngClass]=\"{'bs-iframe-url--empty': !parameters['iframeurl']}\">\r\n        <div class=\"bs-iframe-url__icon\" *ngIf=\"!parameters['iframeurl']\">\r\n            <bzg-icon [nameIcon]=\"'icon-www'\" *ngIf=\"!parameters['iframeurl']\" [size]=\"42\"></bzg-icon>\r\n        </div>\r\n        <iframe #iframeContent scrolling=\"auto\" [ngStyle]=\"{'border' : styles.border }\" *ngIf=\"parameters['iframeurl']\"\r\n            frameBorder=\"0\" [ngClass]=\"{'bs-iframe-url--edition': !isOnRenderMode}\" sandbox=\"allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock\"\r\n            [src]=\"encodeURL(parameters['iframeurl']) | safeUrl\">\r\n        </iframe>\r\n    </div>\r\n</div>","import { Component, ViewChild } from '@angular/core';\r\nimport { BaseControlComponent } from 'app/common/controls/base.component';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport {\r\n  HTML_IFRAME_CONTROLS,\r\n  CATEGORY,\r\n  SUBCATEGORY_HTML_IFRAME,\r\n  PROPERTY_SECTIONS,\r\n} from '../controls-name-definition';\r\n\r\n@Component({\r\n    selector: 'bs-iframe-url-control',\r\n    templateUrl: './iframe-url-control.component.html',\r\n    styleUrls: ['./iframe-url-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n    type: HTML_IFRAME_CONTROLS.HtmlIframe.type,\r\n    displayName: HTML_IFRAME_CONTROLS.HtmlIframe.displayName,\r\n    category: CATEGORY.EMBEDS.displayName,\r\n    subcategory: SUBCATEGORY_HTML_IFRAME.displayName,\r\n    icon: HTML_IFRAME_CONTROLS.HtmlIframe.icon,\r\n    styles: {\r\n        showTopBar: {\r\n          section: PROPERTY_SECTIONS.style.key,\r\n            type: 'boolean',\r\n            defaultValue: false\r\n        },\r\n        showUpdateButton: {\r\n          section: PROPERTY_SECTIONS.style.key,\r\n            type: 'boolean',\r\n            defaultValue: false\r\n        },\r\n        border: {\r\n          section: PROPERTY_SECTIONS.border.key,\r\n            type: 'border',\r\n            defaultValue: 'border-none'\r\n        }\r\n    },\r\n    parameters: {\r\n        iframeurl: {\r\n            type: 'url'\r\n        },\r\n        title: {\r\n            type: 'textShort'\r\n        },\r\n    },\r\n    navigation: [],\r\n    defaultSize: {\r\n        width: 600,\r\n        height: 404\r\n    }\r\n})\r\n\r\nexport class IframeUrlControlComponent extends BaseControlComponent {\r\n    @ViewChild('iframeContent')\r\n    private _iframeContent: any;\r\n\r\n    public refresh() {\r\n        if (this._iframeContent) {\r\n            this._iframeContent.nativeElement.src = this._iframeContent.nativeElement.src;\r\n        }\r\n    }\r\n    public encodeURL(url) {\r\n        return encodeURI(url);\r\n    }\r\n}\r\n","import { Directive, ElementRef, OnInit } from '@angular/core';\r\n\r\n@Directive({ selector: '[bsRunScripts]' })\r\nexport class RunScriptsDirective implements OnInit {\r\n    constructor(private elementRef: ElementRef) { }\r\n    ngOnInit(): void {\r\n        setTimeout(() => { // wait for DOM rendering\r\n            this.reinsertScripts();\r\n        });\r\n    }\r\n    reinsertScripts(): void {\r\n        const scripts = this.elementRef.nativeElement.getElementsByTagName('script') as HTMLScriptElement[];\r\n        const scriptsInitialLength = scripts.length;\r\n        for (let i = 0; i < scriptsInitialLength; i++) {\r\n            const script = scripts[i];\r\n            const scriptCopy = document.createElement('script') as HTMLScriptElement;\r\n            scriptCopy.type = script.type ? script.type : 'text/javascript';\r\n            if (script.innerHTML) {\r\n                scriptCopy.innerHTML = script.innerHTML;\r\n            } else if (script.src) {\r\n                scriptCopy.src = script.src;\r\n            }\r\n            scriptCopy.async = false;\r\n            script.parentNode.replaceChild(scriptCopy, script);\r\n        }\r\n    }\r\n}\r\n","import { PipeTransform, Pipe } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safeHtml' })\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n    constructor(private sanitizer: DomSanitizer) { }\r\n\r\n    transform(html) {\r\n        return this.sanitizer.bypassSecurityTrustHtml(html);\r\n    }\r\n}\r\n","<div class=\"bs-embedded-code-container\">\r\n    <div *ngIf=\"styles['showTopBar']\" class=\"bs-embedded-code-top-bar\">\r\n        <label class=\"bs-embedded-code-top-bar__title\" [ngStyle]=\"{ color: styles.titleTextColor }\">{{parameters['title']}}</label>\r\n    </div>\r\n    <div [ngClass]=\"{'bs-embedded-code--empty': !parameters['code']}\">\r\n        <bzg-icon [nameIcon]=\"'icon-tag'\" *ngIf=\"!parameters['code']\" [size]=\"32\"></bzg-icon>\r\n    </div>\r\n    <div [innerHTML]=\"parameters['code'] | safeHtml\" *ngIf=\"parameters['code']\" [ngClass]=\"{'bs-embedded-code--edition': !isOnRenderMode}\"\r\n        [ngStyle]=\"{'border' : styles.border }\" bsRunScripts></div>\r\n</div>\r\n","import { Component, Input } from '@angular/core';\r\nimport { BaseControlComponent } from 'app/common/controls/base.component';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport { DomSanitizer } from '../../../../../node_modules/@angular/platform-browser';\r\nimport {\r\n  EMBED_WEBSITE_CONTROLS,\r\n  CATEGORY,\r\n  SUBCATEGORY_EMBED_WEBSITE,\r\n  PROPERTY_SECTIONS,\r\n} from '../controls-name-definition';\r\n\r\n@Component({\r\n    selector: 'bs-embedded-code-control',\r\n    templateUrl: './embedded-code-control.component.html',\r\n    styleUrls: ['./embedded-code-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n    type: EMBED_WEBSITE_CONTROLS.EmbedWebsite.type,\r\n    displayName: EMBED_WEBSITE_CONTROLS.EmbedWebsite.displayName,\r\n    category: CATEGORY.EMBEDS.displayName,\r\n    subcategory: SUBCATEGORY_EMBED_WEBSITE.displayName,\r\n    icon: EMBED_WEBSITE_CONTROLS.EmbedWebsite.icon,\r\n    styles: {\r\n        showTopBar: {\r\n          section: PROPERTY_SECTIONS.style.key,\r\n            type: 'boolean',\r\n            defaultValue: false\r\n        },\r\n        border: {\r\n          section: PROPERTY_SECTIONS.border.key,\r\n            type: 'border',\r\n            defaultValue: 'border-none'\r\n        },\r\n        titleTextColor: {\r\n          section: PROPERTY_SECTIONS.fonts.key,\r\n            type: 'color',\r\n            defaultValue: 'color-sixth'\r\n      }\r\n    },\r\n    parameters: {\r\n      title: {\r\n        type: 'title'\r\n      },\r\n      code: {\r\n          type: 'text',\r\n      },\r\n    },\r\n    navigation: [],\r\n    defaultSize: {\r\n        width: 600,\r\n        height: 404\r\n    }\r\n})\r\n\r\nexport class EmbeddedCodeControlComponent extends BaseControlComponent {\r\n\r\n    constructor(private _domSanitizer: DomSanitizer) {\r\n        super();\r\n    }\r\n\r\n    public transformToSecure(url) {\r\n        return this._domSanitizer.bypassSecurityTrustResourceUrl(url);\r\n    }\r\n}\r\n","<div class=\"bs-boolean-control\">\r\n    <label class=\"bs-boolean-control__label-text\" [style.color]=\"styles['fontColor']\" [style.font-family]=\"styles['fontFamily']\"\r\n        [style.font-size]=\"styles['fontSize']\">{{parameters['booleanlabeltext']}}</label>\r\n    <div class=\"bs-boolean-control__values\">\r\n        <div *ngIf=\"styles['withBooleanIcon']\" class=\"bs-boolean-control__icon-container\">\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16\" [ngClass]=\"getBoolean(parameters['selectanattribute']) != true && getBoolean(parameters['selectanattribute']) != false ? 'bs-boolean-control__null-icon' : 'bs-boolean-control__icon'\"\r\n            [ngSwitch]=\"getBoolean(parameters['selectanattribute'])\">\r\n              <use href=\"#icon-yes\" *ngSwitchCase=\"true\"></use>\r\n              <use href=\"#icon-no\" *ngSwitchCase=\"false\"></use>\r\n            </svg>\r\n        </div>\r\n        <div *ngIf=\"styles['withBooleanIcon'] && !isOnRenderMode\" class=\"bs-boolean-control__icon-container\">\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16 bs-boolean-control__icon\">\r\n              <use href=\"#icon-yes\"></use>\r\n            </svg>\r\n        </div>\r\n        <div *ngIf=\"!isOnRenderMode\" class=\"bs-boolean-control__text-value\">\r\n          <label> {{parameters['selectanattribute']}} </label>\r\n        </div>\r\n        <div class=\"bs-boolean-control__text-value\" *ngIf=\"styles['withBooleanText']\" [ngSwitch]=\"getBoolean(parameters['selectanattribute'])\">\r\n            <label *ngSwitchCase=\"true\">{{'siteeditor.properties.BOOLEAN_YES' | translate }}</label>\r\n            <label *ngSwitchCase=\"false\">{{'siteeditor.properties.BOOLEAN_NO' | translate }}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { BaseProcessControlComponent } from '../base-process.component';\r\nimport { ControlDefinition } from '../../decorators/control-definition';\r\nimport { CATEGORY, BOOLEAN_CONTROLS, SUBCATEGORY_BOOLEAN, PROPERTY_SECTIONS } from '../controls-name-definition';\r\nimport {Global} from '../../misc/global';\r\n\r\n@Component({\r\n  selector: 'bs-boolean-control',\r\n  templateUrl: './boolean-control.component.html',\r\n  styleUrls: ['./boolean-control.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: BOOLEAN_CONTROLS.boolean.type,\r\n    category: CATEGORY.BUTTONS.displayName,\r\n    subcategory: SUBCATEGORY_BOOLEAN.displayName,\r\n    displayName: BOOLEAN_CONTROLS.boolean.displayName,\r\n    icon: BOOLEAN_CONTROLS.boolean.icon,\r\n    styles: {\r\n      withBooleanIcon: {\r\n        section: PROPERTY_SECTIONS.icon.key,\r\n        type: 'boolean',\r\n        defaultValue: 'true'\r\n      },\r\n      withBooleanText: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: 'true'\r\n      },\r\n      fontFamily: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'font-family',\r\n        defaultValue: 'inherit'\r\n      },\r\n      fontSize: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'font-size',\r\n        defaultValue: '18px',\r\n        max: 72\r\n      },\r\n      fontColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n        defaultValue: 'color-second'\r\n      }\r\n    },\r\n    parameters: {\r\n      booleanlabeltext: {\r\n        type: 'textShort',\r\n        defaultValue: 'Label text here'\r\n      },\r\n      selectanattribute: {\r\n        type: 'xpath',\r\n        category: 'boolean',\r\n        defaultValue: false\r\n      }\r\n    },\r\n    defaultSize: {\r\n      width: 270,\r\n      height: 64,\r\n      minHeight: 64\r\n    },\r\n    onlyContextualizedMode : true\r\n  }\r\n)\r\nexport class BooleanControlComponent extends BaseProcessControlComponent {\r\n\r\n  public isOnRenderMode = Global.isOnRenderMode();\r\n\r\n  getBoolean(value: boolean | string): boolean {\r\n   return Global.getBooleanValue(value);\r\n  }\r\n\r\n}\r\n","<div class=\"bs-map\">\r\n  <agm-map class=\"bs-map__content\"\r\n           [zoom]=\"styles['zoom']\"\r\n           [latitude]=\"parameters['coords'] ? parameters['coords'].latitude : null\"\r\n           [longitude]=\"parameters['coords'] ? parameters['coords'].longitude : null\"\r\n           (drag)=\"$event.stopPropagation()\"\r\n           (dblclick)=\"$event.stopPropagation()\">\r\n    <agm-marker *ngIf=\"(styles['marker'] || styles['markerLabel']) && parameters['coords'].latitude && parameters['coords'].longitude\"\r\n                [latitude]=\"parameters['coords'].latitude\"\r\n                [longitude]=\"parameters['coords'].longitude\"\r\n                [iconUrl]=\"styles['marker']? iconURL : transparentIconURL\"\r\n    [draggable]=\"true\">\r\n      <agm-snazzy-info-window  [latitude]=\"parameters['coords'].latitude\"\r\n      [longitude]=\"parameters['coords'].longitude\" [showCloseButton]=\"false\" [isOpen]=\"true\" [closeWhenOthersOpen]=\"false\" [closeOnMapClick]=\"false\" >\r\n        <ng-template>\r\n          <div class=\"bs-map__marker-content\">\r\n            <div *ngIf=\"styles.markerLabel && parameters.markerText\" [style.color]=\"styles['pinInfoTextColor']\"\r\n            [style.background-color]=\"styles['pinInfoColor']\" class=\"bs-map__marker\">\r\n            <svg class=\"bz-icon-svg bz-icon-svg--16\">\r\n              <use href=\"#icon-pin\"></use>\r\n            </svg>\r\n            <p style=\"margin:0;max-width: 500px;\">&nbsp;|&nbsp;{{ parameters['markerText'] }}</p>\r\n          </div>\r\n          <div *ngIf=\"styles.markerLabel && parameters.markerText\" [style.border-top-color]=\"styles['pinInfoColor']\" class=\"bs-map__marker--pin si-pointer-bg-top\"></div>\r\n          </div>\r\n        </ng-template>\r\n      </agm-snazzy-info-window>\r\n    </agm-marker>\r\n  </agm-map>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { BaseControlComponent } from 'app/common/controls/base.component';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, SUBCATEGORY_SIMPLEMAP, SIMPLEMAP_CONTROLS, PROPERTY_SECTIONS } from './../controls-name-definition';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\n@Component({\r\n  selector: 'bs-simple-map',\r\n  templateUrl: './simple-map.component.html',\r\n  styleUrls: ['./simple-map.component.scss']\r\n})\r\n@ControlDefinition(\r\n  {\r\n    type: SIMPLEMAP_CONTROLS.simplemap.type,\r\n    category: CATEGORY.MEDIA.displayName,\r\n    subcategory: SUBCATEGORY_SIMPLEMAP.displayName,\r\n    displayName: SIMPLEMAP_CONTROLS.simplemap.displayName,\r\n    icon: SIMPLEMAP_CONTROLS.simplemap.icon,\r\n    isDisabled: true,\r\n    styles: {\r\n      pinInfoColor: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'color',\r\n      },\r\n      pinInfoTextColor: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'color',\r\n      },\r\n      marker: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'boolean',\r\n        defaultValue: true\r\n      },\r\n      markerLabel: {\r\n        section: PROPERTY_SECTIONS.fonts.key,\r\n        type: 'boolean',\r\n        defaultValue: true\r\n      },\r\n      zoom: {\r\n        section: PROPERTY_SECTIONS.style.key,\r\n        type: 'range',\r\n        defaultValue: 24,\r\n        min: 12,\r\n        max: 20\r\n      },\r\n    },\r\n    parameters: {\r\n      coords: {\r\n        type: 'coords'\r\n      },\r\n      markerText: {\r\n        type: 'textShort'\r\n      },\r\n    },\r\n    defaultSize: {\r\n      width: 561,\r\n      height: 226,\r\n      minWidth: 267,\r\n      minHeight: 126,\r\n      dynamic: true\r\n    }\r\n  }\r\n)\r\n\r\nexport class SimpleMapComponent extends BaseControlComponent {\r\n  public iconURL: string;\r\n  public transparentIconURL: string;\r\n  private _pinIconRoute = 'assets/images/point_map.svg';\r\n  private _pinTransparentIconRoute = 'assets/images/point_map_transparent.svg';\r\n  infoVisible = true;\r\n\r\n  constructor() {\r\n    super();\r\n    this.iconURL = this._getURLIcon(this._pinIconRoute);\r\n    this.transparentIconURL = this._getURLIcon(this._pinTransparentIconRoute);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.infoVisible = this.isActiveLabel();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.setCurrentPosition();\r\n  }\r\n\r\n  private setCurrentPosition() {\r\n    if (navigator.geolocation && this.parameters && this.parameters.coords) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        this.parameters.coords.latitude = this.parameters.coords.latitude || position.coords.latitude;\r\n        this.parameters.coords.longitude = this.parameters.coords.longitude || position.coords.longitude;\r\n      });\r\n    }\r\n  }\r\n\r\n  onChanged(updCtr) {\r\n    super.onChanged(updCtr);\r\n    this.refreshInfoWindow();\r\n  }\r\n\r\n  private isActiveLabel(): boolean {\r\n    return this.control.styles.markerLabel as boolean;\r\n  }\r\n\r\n  private _getURLIcon(iconRoute): string {\r\n    if (Global.isOnRenderMode()) {\r\n      return location.origin + location.pathname + '/' + iconRoute;\r\n    } else {\r\n      const url = location.origin + location.pathname;\r\n      const exp = url.substr(url.lastIndexOf('/') + 1) + '$';\r\n      const preUrl = url.replace(new RegExp(exp), '/');\r\n      return preUrl + iconRoute;\r\n    }\r\n  }\r\n\r\n  private refreshInfoWindow() {\r\n    this.infoVisible = false;\r\n    this.infoVisible = this.isActiveLabel();\r\n  }\r\n}\r\n","<div class=\"bs-my-cases\" [ngStyle]=\"{'background-color': stylesComponent['backColor']}\">\r\n  <div class=\"bs-my-cases-header\" [ngStyle]=\"{ 'font-size': stylesComponent['filtersFontSize'],\r\n  'font-family': stylesComponent['filtersFontFamily'],\r\n  'color': stylesComponent['filtersFontColor']}\">\r\n    <div class=\"bs-my-cases-header__left-field\">\r\n      <bzg-autocomplete #autocomplete [placeholder]=\"'controls.my-cases.ALL_PROCESS' | translate\" [optionSize]=\"'small'\" [showOverlay]=\"true\"\r\n        [displayWith]=\"displayFn\" (optionSelected)=\"processSelected($event)\" (valueChange)=\"filterProcesses($event)\"\r\n        class=\"custom-styles\" [stylesOverlay]=\"{ 'font-size': stylesComponent['filtersFontSize'],\r\n        'font-family': stylesComponent['filtersFontFamily'],\r\n        'color': stylesComponent['filtersFontColor'],\r\n        'width': 'auto',\r\n        'min-width': '100%'}\">\r\n        <bzg-option *ngFor=\"let process of processes\" [value]=\"process\" class=\"bzg-option--without-limit\">\r\n          {{process.displayName}}\r\n        </bzg-option>\r\n      </bzg-autocomplete>\r\n    </div>\r\n    <div class=\"bs-my-cases-header__right-field\">\r\n      <bzg-search #search [placeholder]=\"'controls.my-cases.SEACH_BY_CASE' | translate\" [fieldText]=\"searchCaseField\"\r\n        (valueChange)=\"filterByCaseNumber($event)\" [bzgTooltip]=\"'controls.my-cases.SEACH_BY_CASE' | translate\"\r\n        [bzgTooltipDisabled]=\"isTooltipDisabled\">\r\n      </bzg-search>\r\n    </div>\r\n  </div>\r\n  <div class=\"bs-my-cases-body\">\r\n    <div class=\"bs-my-cases-body__options\">\r\n      <bzg-button-icon class=\"bs-my-cases-body__option bs-my-cases-body__option--allow-events\" [ngClass]=\"{'bs-my-cases-body--option-selected': view === ViewTypeEnum.card}\"\r\n        [bzgTooltip]=\"'controls.my-cases.VIEW_CARD' | translate\" [bzgTooltipPosition]=\"'above'\" (click)=\"changeView(ViewTypeEnum.card)\" icon=\"bzg-panel-detail\"></bzg-button-icon>\r\n      <bzg-button-icon class=\"bs-my-cases-body__option bs-my-cases-body__option--allow-events\" [ngClass]=\"{'bs-my-cases-body--option-selected': view === ViewTypeEnum.table}\" [bzgTooltipPosition]=\"'above'\" [bzgTooltip]=\"'controls.my-cases.VIEW_TABLE' | translate\"\r\n        (click)=\"changeView(ViewTypeEnum.table)\" icon=\"bzg-view-table\"></bzg-button-icon>\r\n      <bzg-button-icon class=\"bs-my-cases-body__option bs-my-cases-body__option--left-divider\" style=\"display: none;\" [bzgTooltipPosition]=\"'above'\"\r\n        [bzgTooltip]=\"'controls.my-cases.FILTER_BY_STATE' | translate\" icon=\"icn-filter\"\r\n        [bzgMenuTrigger]=\"filterByState\"></bzg-button-icon>\r\n      <bzg-button-icon class=\"bs-my-cases-body__option--left-divider bs-my-cases-body__option\" [bzgTooltipPosition]=\"'above'\" *ngIf=\"view === ViewTypeEnum.table\"\r\n        [bzgTooltip]=\"'controls.my-cases.DISPLAY_DENSITY' | translate\" icon=\"bzg-table-comfortable\"\r\n        [bzgMenuTrigger]=\"menuDisplay\"></bzg-button-icon>\r\n      <bzg-menu #filterByState [bzgMenuMinWidth]=\"170\">\r\n        <bzg-menu-item [ngStyle]=\"filterStyles\">\r\n          <strong>{{'controls.my-cases.FILTER_BY_STATE' | translate}}</strong>\r\n        </bzg-menu-item>\r\n\r\n        <bzg-menu-item (click)=\"filterByCaseState(caseStates.All)\" [ngStyle]=\"filterStyles\">\r\n          <bzg-icon [size]=\"stylesComponent['filtersFontSize'] >= '28px'? '24' : '16'\" class=\"bs-my-cases-body__icon-menu\"\r\n                    nameIcon=\"bzg-table-comfortable\">\r\n          </bzg-icon>\r\n          <span>{{'controls.my-cases.ALL_CASES' | translate}}</span>\r\n        </bzg-menu-item>\r\n        <bzg-menu-item (click)=\"filterByCaseState(caseStates.Completed)\" [ngStyle]=\"filterStyles\">\r\n          <bzg-icon [size]=\"stylesComponent['filtersFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'success' : ''\" class=\"bs-my-cases-body__icon-menu\"\r\n                    nameIcon=\"bzg-check-sites\">\r\n          </bzg-icon>\r\n          <span>{{'controls.my-cases.STATE_COMPLETED' | translate}}</span>\r\n        </bzg-menu-item>\r\n        <bzg-menu-item (click)=\"filterByCaseState(caseStates.Aborted)\" [ngStyle]=\"filterStyles\">\r\n          <bzg-icon [size]=\"stylesComponent['filtersFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'error' : ''\" class=\"bs-my-cases-body__icon-menu\"\r\n                    nameIcon=\"bzg-circle-error\">\r\n          </bzg-icon>\r\n          <span>{{'controls.my-cases.STATE_ABORTED' | translate}}</span>\r\n        </bzg-menu-item>\r\n        <bzg-menu-item (click)=\"filterByCaseState(caseStates.Running)\" [ngStyle]=\"filterStyles\">\r\n          <bzg-icon  [size]=\"stylesComponent['filtersFontSize'] >= '28px'? '24' : '16'\" [color]=\"stylesComponent['statusColor']? 'info' : ''\" class=\"bs-my-cases-body__icon-menu\"\r\n                    nameIcon=\"bzg-open\">\r\n          </bzg-icon>\r\n          <span>{{'controls.my-cases.STATE_PENDING' | translate}}</span>\r\n        </bzg-menu-item>\r\n       </bzg-menu>\r\n\r\n      <bzg-menu #menuDisplay [bzgMenuMinWidth]=\"170\">\r\n        <bzg-menu-item [ngStyle]=\"filterStyles\">\r\n          <strong>{{'controls.my-cases.DISPLAY_DENSITY' | translate}}</strong>\r\n        </bzg-menu-item>\r\n        <bzg-menu-item (click)=\"cellSpacingMode = 'comfortable'\" [ngStyle]=\"filterStyles\">\r\n          <bzg-icon class=\"bs-my-cases-body__icon-menu\"\r\n            nameIcon=\"bzg-table-comfortable\">\r\n          </bzg-icon>\r\n          <span>{{'controls.my-cases.DISPLAY_DENSITY_COMFORTABLE' | translate}}</span>\r\n        </bzg-menu-item>\r\n        <bzg-menu-item (click)=\"cellSpacingMode = 'normal'\" [ngStyle]=\"filterStyles\">\r\n          <bzg-icon class=\"bs-my-cases-body__icon-menu\"\r\n            nameIcon=\"bzg-table-normal\">\r\n          </bzg-icon>\r\n          <span>{{'controls.my-cases.DISPLAY_DENSITY_NORMAL' | translate}}</span>\r\n        </bzg-menu-item>\r\n        <bzg-menu-item (click)=\"cellSpacingMode = 'compact'\" [ngStyle]=\"filterStyles\">\r\n          <bzg-icon class=\"bs-my-cases-body__icon-menu\"\r\n            nameIcon=\"bzg-table-compact\">\r\n          </bzg-icon>\r\n          <span>{{'controls.my-cases.DISPLAY_DENSITY_COMPACT' | translate}}</span>\r\n        </bzg-menu-item>\r\n      </bzg-menu>\r\n    </div>\r\n    <div class=\"bs-my-cases-body__content\" [ngStyle]=\"{'background-color': view === ViewTypeEnum.card ? stylesComponent['backColor']: '#FFF',\r\n    'overflow-y': view === ViewTypeEnum.card ? 'auto' : 'hidden'}\">\r\n      <ng-container\r\n        *ngIf=\"isDataReady && isRenderMode && !data['data']?.length; else elseTemplate\">\r\n        <div class=\"bs-my-cases-body__image\">\r\n          <img src=\"assets/images/bz_neutral_not_found.png\">\r\n          <p>{{'controls.my-cases.CASES_NO_FOUND' | translate}}</p>\r\n        </div>\r\n      </ng-container>\r\n      <ng-template #elseTemplate>\r\n        <bs-my-cases-control-card (showCaseEvent)=\"showCaseEvent($event)\" *ngIf=\"view === ViewTypeEnum.card\"\r\n          [data]=\"data\" [stylesComponent]=\"stylesComponent\">\r\n        </bs-my-cases-control-card>\r\n        <bs-my-cases-control-grid [cellSpacingMode]=\"cellSpacingMode\" (showCaseEvent)=\"showCaseEvent($event)\"\r\n          *ngIf=\"view === ViewTypeEnum.table\" [data]=\"data\" [stylesComponent]=\"stylesComponent\"\r\n          (changeOrderColumn)=\"changeOrderColumnGrid($event)\" [controlId]=\"control.id\" [selectedProcess]=\"parameters.processId\">\r\n        </bs-my-cases-control-grid>\r\n      </ng-template>\r\n    </div>\r\n    <div class=\"bs-my-cases-body__paginator\">\r\n      <bzg-paginator\r\n        #myCasesPaginator [pageSize]=\"pageSize\"\r\n        [totalItems]=\"data['dataCount'] ? data['dataCount'] : 0\"\r\n        (paginationChanged)=\"onPaginationEvent($event)\"\r\n        [pageSizeOptions]=\"[10, 30, 50, 100, 200, 500]\"\r\n        [showFirstLastButtons]=\"true\"\r\n        [pageIndex]=\"pagination.currentPage\"\r\n        [ngStyle]=\"{'font-size': stylesComponent['paginationFontSize'],\r\n        'font-family': stylesComponent['paginationFontFamily'],\r\n        'color': stylesComponent['paginationFontColor']}\">\r\n      </bzg-paginator>\r\n    </div>\r\n  </div>\r\n  <div class=\"bs-loader-container bs-loader-container--center-abs bs-my-cases-body__overlay\"\r\n    *ngIf=\"((!isDataReady || isDataError) || isProcessLoading) && isRenderMode\">\r\n    <bzg-loading size=\"l\" class=\"bs-loader-bars--centered\"></bzg-loading>\r\n  </div>\r\n</div>\r\n","import { Component, ViewChild, HostBinding, SimpleChanges, ElementRef } from '@angular/core';\r\nimport { ControlDefinition } from 'app/common/decorators/control-definition';\r\nimport { CATEGORY, PROPERTY_SECTIONS, SUBCATEGORY_MY_CASES } from './../controls-name-definition';\r\nimport { BizagiDataService } from '../../../render/services/bizagi-data.service';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { BzgOptionComponent } from 'bz-genome-angular/core/option/option.component';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { BzgPaginatorComponent } from 'bz-genome-angular';\r\nimport { BaseInboxControlComponent, EDataType } from '../base-inbox.component';\r\nimport { BzgAutocompleteComponent } from 'bz-genome-angular/autocomplete/autocomplete/autocomplete.component';\r\nimport { select } from '@ngrx/store';\r\nimport { getSiteLanguage } from 'app/render/store/multilanguage/multilanguage.selector';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BzgSearchComponent } from 'bz-genome-angular/search/search/search.component';\r\n\r\nenum ViewTypeEnum {\r\n  card,\r\n  table\r\n};\r\nenum CaseStateEnum {\r\n  Completed,\r\n  Running,\r\n  Aborted,\r\n  All\r\n};\r\n\r\n@Component({\r\n  selector: 'bs-my-cases-control',\r\n  templateUrl: './my-cases-control.component.html',\r\n  styleUrls: ['./my-cases-control.component.scss']\r\n})\r\n@ControlDefinition({\r\n  type: 'my-cases',\r\n  displayName: 'MY_CASES_CONTROL',\r\n  category: CATEGORY.CASES.displayName,\r\n  subcategory: SUBCATEGORY_MY_CASES.displayName,\r\n  icon: SUBCATEGORY_MY_CASES.controls.Inbox.icon,\r\n  styles: {\r\n    cardDisplay: {\r\n      type: 'card',\r\n      defaultValue: 10,\r\n      category: 'hidden',\r\n      min: 1,\r\n      max: 100,\r\n      step: 1,\r\n      isFilter: false\r\n    },\r\n    tableDisplay: {\r\n      type: 'table',\r\n      defaultValue: 10,\r\n      category: 'hidden',\r\n      min: 1,\r\n      max: 100,\r\n      step: 1,\r\n      isFilter: false\r\n    },\r\n    layout: {\r\n      type: 'layout',\r\n      defaultValue: 'four',\r\n      category: 'hidden',\r\n      layouts: {\r\n        one: {\r\n          icon: 'one-column-thin',\r\n          text: 'ONE_COLUMN',\r\n          columns: 1\r\n        },\r\n        two: {\r\n          icon: 'two-columns-thin',\r\n          text: 'TWO_COLUMNS',\r\n          min: 40,\r\n          columns: 2\r\n        },\r\n        three: {\r\n          icon: 'three-columns-thin',\r\n          text: 'THREE_COLUMNS',\r\n          min: 75,\r\n          columns: 3\r\n        },\r\n        four: {\r\n          icon: 'four-columns-thin',\r\n          text: 'FOUR_COLUMNS',\r\n          min: 90,\r\n          columns: 4\r\n        }\r\n      }\r\n    },\r\n    statusColor: {\r\n      section: PROPERTY_SECTIONS.style.key,\r\n      type: 'boolean',\r\n      defaultValue: true\r\n    },\r\n    backColor: {\r\n      section: PROPERTY_SECTIONS.background.key,\r\n      type: 'color',\r\n    },\r\n    filtersFontSize: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-size',\r\n      defaultValue: '12px',\r\n      max: 32\r\n    },\r\n    filtersFontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color',\r\n      defaultValue: '#272727'\r\n    },\r\n    filtersFontFamily: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-family',\r\n      defaultValue: 'inherit',\r\n    },\r\n    headerFontSize: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-size',\r\n      defaultValue: '12px',\r\n      max: 36\r\n    },\r\n    headerFontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color',\r\n      defaultValue: '#272727'\r\n    },\r\n    headerFontFamily: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-family',\r\n      defaultValue: 'inherit',\r\n    },\r\n    contentFontSize: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-size',\r\n      defaultValue: '12px',\r\n      max: 36\r\n    },\r\n    contentFontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color',\r\n      defaultValue: '#272727'\r\n    },\r\n    contentFontFamily: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-family',\r\n      defaultValue: 'inherit',\r\n    },\r\n    paginationFontSize: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-size',\r\n      defaultValue: '12px',\r\n      max: 24\r\n    },\r\n    paginationFontColor: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'color',\r\n      defaultValue: '#272727'\r\n    },\r\n    paginationFontFamily: {\r\n      section: PROPERTY_SECTIONS.fonts.key,\r\n      type: 'font-family',\r\n      defaultValue: 'inherit',\r\n    }\r\n  },\r\n  parameters: {\r\n    data: {\r\n      type: 'data',\r\n      size: 3,\r\n      defaultValue: {\r\n      }\r\n    }\r\n  },\r\n  defaultSize: {\r\n    width: 1100,\r\n    height: 995,\r\n    minWidth: 326,\r\n    minHeight: 400,\r\n    maxHeight: 1200\r\n  },\r\n  navigation: [],\r\n  hiddenOptions: {\r\n    dataManager: false\r\n  }\r\n})\r\n\r\nexport class MyCasesControlComponent extends BaseInboxControlComponent {\r\n  public processes;\r\n  public ViewTypeEnum = ViewTypeEnum;\r\n  public initialProcesses;\r\n  public select: JQuery<HTMLElement>;\r\n  public view: ViewTypeEnum = ViewTypeEnum.table;\r\n  public caseNumberFilter: string;\r\n  private _searchByCaseNumberDebounce = new Subject();\r\n  private _updateDebounceSubscription: Subscription;\r\n  private _languageSubscription: Subscription;\r\n  private noOrderColumns = [\r\n    '@CurrentUserFullName',\r\n    '@CurrentUserLocation',\r\n    '@CurrentUserUsername',\r\n    '@IdCase',\r\n    '@GuidProcess',\r\n    '@ProcessType',\r\n    '@IdWorkFlow',\r\n    '@HasSummaryForm',\r\n    '@IdWorkItem',\r\n    '@IdTaskType',\r\n    '@Category',\r\n    '@CaseState'\r\n  ]\r\n  public isRenderMode = Global.isOnRenderMode();\r\n  public cellSpacingMode = 'normal';\r\n  public stylesComponent;\r\n  public caseStates = CaseStateEnum;\r\n  public pageSize = 10;\r\n  public selectedOrderColumn: any;\r\n  public filterStyles = {};\r\n  public isTooltipDisabled = false;\r\n  @ViewChild('myCasesPaginator') myCasesPaginator: BzgPaginatorComponent;\r\n  @ViewChild('search') searchInput: BzgSearchComponent;\r\n  public searchCaseField;\r\n  public previousValueSearch = '';\r\n  @HostBinding('style.pointer-events') pointerEvent = Global.isOnRenderMode() ? 'all' : 'none';\r\n\r\n  @ViewChild('autocomplete') autocomplete: BzgAutocompleteComponent;\r\n\r\n  constructor(private _bizagiDataService: BizagiDataService,\r\n    private _element: ElementRef,\r\n    private _translateService: TranslateService) {\r\n    super();\r\n    this.dataType = EDataType.MyCases;\r\n    this.unsupportedColumns = ['@ExpirationDate', '@TaskDisplayName', '@CurrentUserFullName',\r\n      '@CurrentUserLocation', '@CurrentUserUsername', '@GraphicQuery'];\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.isDataReady = false;\r\n    this.view = ViewTypeEnum.table;\r\n\r\n    this.filterStyles = {'font-size': this.styles['filtersFontSize'],\r\n    'font-family': this.styles['filtersFontFamily'],\r\n    'color': this.styles['filtersFontColor']};\r\n    this.stylesComponent = this.styles;\r\n    this.pagination.rows = this.pageSize;\r\n    this.setPagination(this.pagination);\r\n\r\n    this.parameters['orderby'] = '@CreationDate';\r\n    this.parameters['ordertype'] = 'desc';\r\n    this._updateDebounceSubscription = this._searchByCaseNumberDebounce.pipe(debounceTime(300)).subscribe((caseNumber: string) => {\r\n      this.parameters.filter = caseNumber;\r\n      this.pagination.from = 0;\r\n      this.setPagination(this.pagination);\r\n    });\r\n    if (Global.isOnRenderMode()) {\r\n      this._languageSubscription = this.baseStore.pipe(select(getSiteLanguage)).subscribe(() => {\r\n        setTimeout(async () => {\r\n          this.calculateSearchTooltip();\r\n          this.autocomplete.panelOpen = false;\r\n          this.autocomplete.closePanel();\r\n        }, 200);\r\n      })\r\n    }\r\n  }\r\n\r\n  async ngAfterViewInit() {\r\n    if (Global.isOnRenderMode()) {\r\n\r\n      setTimeout(async () => {\r\n        this.autocomplete.panelOpen = false;\r\n        this.autocomplete.closePanel();\r\n        this.processes = await this._bizagiDataService.getProcesses().toPromise();\r\n        const processes: Array<IBizagiProcess> = this.control.parameters['data'].processes;\r\n        if (!!processes) {\r\n          const processesIds: string[] = processes.map(p => p.id);\r\n          this.processes = _.filter(this.processes, (p) => _.includes(processesIds, p.id));\r\n        }\r\n        this.initialProcesses = _.cloneDeep(this.processes);\r\n        $(this._element.nativeElement)\r\n          .find('bzg-paginator .bz-dropdown__select')\r\n          .css('padding-right', 'calc(1.6rem + ' + this.stylesComponent['paginationFontSize'] + ')');\r\n        Global.modifyWidhSelect(\r\n          '.bz-autocomplete-searchbox__input',\r\n          'keydown',\r\n          '.cdk-overlay-container .bz-autocomplete-panel', 200);\r\n        this.select = Global.modifyWidhSelect(\r\n          '.bz-autocomplete-searchbox__input',\r\n          'focus',\r\n          '.cdk-overlay-container .bz-autocomplete-panel', 0);\r\n        this.autocomplete.panelOpen = false;\r\n        this.autocomplete.closePanel();\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._updateDebounceSubscription?.unsubscribe();\r\n    this._languageSubscription?.unsubscribe();\r\n    this.select?.unbind('keydown focus');\r\n  }\r\n\r\n  private async calculateSearchTooltip() {\r\n    const placeholderSearch = await this._translateService.get('controls.my-cases.SEACH_BY_CASE').toPromise();\r\n    const textWidth = Global.getHtmlTextWidth(placeholderSearch,\r\n      this.stylesComponent['filtersFontSize'],\r\n      this.stylesComponent['filtersFontFamily']);\r\n    this.isTooltipDisabled = textWidth < $(this._element.nativeElement).find('bzg-search .bz-search__input').width();\r\n  }\r\n\r\n  public changeView(view: ViewTypeEnum) {\r\n    this.view = view;\r\n  }\r\n\r\n  public filterProcesses(value) {\r\n    this.myCasesPaginator?.firstPage();\r\n    this.parameters['orderby'] = this.selectedOrderColumn ? this.selectedOrderColumn.id : '@CreationDate';\r\n    this.parameters['ordertype'] = this.selectedOrderColumn ? this.selectedOrderColumn.direction : 'desc';\r\n    if (!value) {\r\n      this.processes = _.cloneDeep(this.initialProcesses);\r\n      this.parameters.processId = '';\r\n      this.refresh();\r\n    } else {\r\n      this.processes = _.filter(this.initialProcesses, (process) => {\r\n        return process.displayName.toLowerCase().indexOf(value.toLowerCase()) !== -1;\r\n      });\r\n    }\r\n  }\r\n\r\n  public processSelected(selectedOption: BzgOptionComponent) {\r\n    this.parameters.filter = '';\r\n    this.parameters.processId = selectedOption.value.id;\r\n    this.parameters['orderby'] = this.selectedOrderColumn ? this.selectedOrderColumn.id : '@CreationDate';\r\n    this.parameters['ordertype'] = this.selectedOrderColumn ? this.selectedOrderColumn.direction : 'desc';\r\n    this.pagination.from = 0;\r\n    this.setPagination(this.pagination);\r\n  }\r\n\r\n  public filterByCaseNumber(caseNumber: string) {\r\n    if (this.containInvalidCharacter(caseNumber)) {\r\n      this.searchInput.queryField.setValue(this.previousValueSearch);\r\n    } else if (this.previousValueSearch !== caseNumber) {\r\n      if (!caseNumber.length) {\r\n        this.calculateSearchTooltip();\r\n      } else {\r\n        this.isTooltipDisabled = true;\r\n      }\r\n      this.previousValueSearch = caseNumber;\r\n      this._searchByCaseNumberDebounce.next(caseNumber);\r\n    }\r\n\r\n  }\r\n\r\n  private containInvalidCharacter(text: string) {\r\n    return _.some(['\"','\\'','#','&','=','\\\\'], (value) => {\r\n      return text.indexOf(value) > -1;\r\n    })\r\n  }\r\n\r\n  public displayFn(process?: any): string | undefined {\r\n    return process ? process.displayName : undefined;\r\n  }\r\n\r\n  public async showCaseEvent(process: any) {\r\n    const site = this.stateSnapshotService.getSite();\r\n    const url = (_.first(_.values(site.environments[site.defaultEnvironment].projects)) as any).url;\r\n    const data = await this.bizagiDataServices.getDataByCaseId(url, process.id)\r\n    this.showCase(process.id, null, process['@ProcessDisplayName'], process['@CaseState'],\r\n      process['@CaseNumber'], !!data?.instances[0]?.id);\r\n  }\r\n\r\n  public async changeOrderColumnGrid(event) {\r\n    if (!_.includes(this.noOrderColumns, event.id)) {\r\n      this.selectedOrderColumn = event;\r\n      this.parameters['orderby'] = event.id;\r\n      this.parameters['ordertype'] = event.direction;\r\n    }\r\n    this.refresh();\r\n  }\r\n\r\n  public onPaginationEvent(paginator) {\r\n    this.pagination.rows = paginator.pageSize;\r\n    this.pagination.from = paginator.pageIndex > 0 ? this.calculateFrom(paginator) : 0;\r\n    this.pagination.currentPage = paginator.pageIndex;\r\n    this.setPagination(this.pagination);\r\n  }\r\n\r\n  public filterByCaseState(state: CaseStateEnum) {\r\n    if (state === CaseStateEnum.All) {\r\n      this.parameters['state'] = '';\r\n    } else {\r\n      this.parameters['state'] = CaseStateEnum[state];\r\n    }\r\n    this.pagination.from = 0;\r\n    this.pagination.currentPage = 0;\r\n    this.refresh();\r\n  }\r\n\r\n}\r\n","import {MyCasesControlCardComponent} from './my-cases-control/my-cases-card/my-cases-control-card.component';\r\nimport {MyCasesControlGridComponent} from './my-cases-control/my-cases-grid/my-cases-control-grid.component';\r\nimport {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {ButtonControlComponent} from 'app/common/controls/button-control/button-control.component';\r\nimport {ButtonRoundControlComponent} from 'app/common/controls/button-round-control/button-round-control.component';\r\nimport {CardLinkControlComponent} from 'app/common/controls/card-link-control/card-link-control.component';\r\nimport {CollectionFieldControlComponent} from './collection-field-control/collection-field-control.component';\r\nimport {FooterControlComponent} from 'app/common/controls/footer-control/footer-control.component';\r\nimport {GalleryLinkControlComponent} from 'app/common/controls/gallery-link-control/gallery-link-control.component';\r\nimport {HeaderControlComponent} from 'app/common/controls/header-control/header-control.component';\r\nimport {HeroControlComponent} from 'app/common/controls/hero-control/hero-control.component';\r\nimport {ImageControlComponent} from 'app/common/controls/image-control/image-control.component';\r\nimport {ImageCarouselControlComponent} from 'app/common/controls/image-carousel-control/image-carousel-control.component';\r\nimport {InboxControlComponent} from 'app/common/controls/inbox-control/inbox-control.component';\r\nimport {LinkControlComponent} from 'app/common/controls/link-control/link-control.component';\r\nimport {ListViewControlComponent} from 'app/common/controls/list-view-control/list-view-control.component';\r\nimport {SearchControlComponent} from 'app/common/controls/search-control/search-control.component';\r\nimport {TitleBoldControlComponent} from 'app/common/controls/title-bold-control/title-bold-control.component';\r\nimport {TitleLightControlComponent} from 'app/common/controls/title-light-control/title-light-control.component';\r\nimport {SubtitleRegularControlComponent} from 'app/common/controls/subtitle-regular-control/subtitle-regular-control.component';\r\nimport {SubtitleBoldControlComponent} from 'app/common/controls/subtitle-bold-control/subtitle-bold-control.component';\r\nimport {Paragraph12ControlComponent} from 'app/common/controls/paragraph12-control/paragraph12-control.component';\r\nimport {Paragraph16ControlComponent} from 'app/common/controls/paragraph16-control/paragraph16-control.component';\r\nimport {Paragraph14ControlComponent} from 'app/common/controls/paragraph14-control/paragraph14-control.component';\r\nimport {MapControlComponent} from 'app/common/controls/map-control/map-control.component';\r\nimport {AgmCoreModule} from '@agm/core';\r\nimport {PaginationControlElementComponent} from './pagination-control-element/pagination-control-element.component';\r\nimport {ActionsControlElementComponent} from './actions-control-element/actions-control-element.component';\r\nimport {DmTemplateListViewComponent} from 'app/common/controls/list-view-control/dm-template-list-view/dm-template-list-view.component';\r\nimport {DmTemplateCardLinkComponent} from 'app/common/controls/card-link-control/dm-template-card-link/dm-template-card-link.component';\r\nimport {DmTemplateGalleryLinkComponent} from 'app/common/controls/gallery-link-control/dm-template-gallery-link/dm-template-gallery-link.component';\r\nimport {DmTemplateImageCarouselComponent} from 'app/common/controls/image-carousel-control/dm-template-image-carousel/dm-template-image-carousel.component';\r\nimport {Ng2HighchartsModule} from 'ng2-highcharts';\r\nimport {TranslateModule} from '@ngx-translate/core';\r\nimport {LoaderBarsComponent} from 'app/common/controls/loader-bars/loader-bars.component';\r\nimport {InboxControlGridViewComponent} from 'app/common/controls/inbox-control/grid-view/inbox-grid-view.component';\r\nimport {InboxControlCardViewComponent} from 'app/common/controls/inbox-control/card-view/inbox-card-view.component';\r\nimport {DynamicControlComponent} from './dynamic-control/dynamic-control.component';\r\nimport {DmTemplateDynamicComponent} from 'app/common/controls/dynamic-control/dm-template-dynamic/dm-template-dynamic.component';\r\nimport {MyRelevantsControlComponent} from 'app/common/controls/my-relevants-control/my-relevants-control.component';\r\nimport {MomentModule} from 'ngx-moment';\r\nimport {LineControlComponent} from 'app/common/controls/line-control/line-control.component';\r\nimport {CircleControlComponent} from 'app/common/controls/circle-control/circle-control.component';\r\nimport {SquareControlComponent} from 'app/common/controls/square-control/square-control.component';\r\nimport {RectangleControlComponent} from 'app/common/controls/rectangle-control/rectangle-control.component';\r\nimport {IframeUrlControlComponent} from './iframe-url-control/iframe-url-control.component';\r\nimport {ObjectListPipe} from 'app/common/controls/pipes/object-list.pipe';\r\nimport {SafeUrlPipe} from './pipes/safe-url.pipe';\r\nimport {EmbeddedCodeControlComponent} from 'app/common/controls/embedded-code-control/embedded-code-control.component';\r\nimport {SafeHtmlPipe} from './pipes/safe-html.pipe';\r\nimport {RunScriptsDirective} from './directives/run-scripts.directive';\r\nimport {BooleanControlComponent} from './boolean-control/boolean-control.component';\r\nimport {SimpleMapComponent} from 'app/common/controls/simple-map/simple-map.component';\r\nimport {AgmSnazzyInfoWindowModule} from '@agm/snazzy-info-window';\r\nimport {EmptyListControlElementComponent} from 'app/common/controls/empty-list-control-element/empty-list-control-element.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BzgCheckboxModule, BzgTableModule, BzgSearchModule, BzgFiltersModule, BzgSelectModule, BzgButtonModule, \r\n  BzgIconModule, BzgTooltipModule, BzgAutocompleteModule, BzgLoadingModule, BzgPaginatorModule, BzgCardListModule, BzgMenuModule }\r\nfrom 'bz-genome-angular';\r\nimport { MyCasesControlComponent } from './my-cases-control/my-cases-control.component';\r\nimport { BizagiDataService } from '../../render/services/bizagi-data.service';\r\n\r\nconst controlList = [\r\n  TitleLightControlComponent,\r\n  TitleBoldControlComponent,\r\n  SubtitleRegularControlComponent,\r\n  SubtitleBoldControlComponent,\r\n  Paragraph12ControlComponent,\r\n  Paragraph14ControlComponent,\r\n  Paragraph16ControlComponent,\r\n  // TextControlComponent,\r\n  SearchControlComponent,\r\n  ImageControlComponent,\r\n  InboxControlGridViewComponent,\r\n  InboxControlCardViewComponent,\r\n  InboxControlComponent,\r\n  MyRelevantsControlComponent,\r\n  MapControlComponent,\r\n  SimpleMapComponent,\r\n  ButtonControlComponent,\r\n  ButtonRoundControlComponent,\r\n  CardLinkControlComponent,\r\n  CollectionFieldControlComponent,\r\n  GalleryLinkControlComponent,\r\n  ImageCarouselControlComponent,\r\n  LinkControlComponent,\r\n  BooleanControlComponent,\r\n  ListViewControlComponent,\r\n  HeroControlComponent,\r\n  HeaderControlComponent,\r\n  FooterControlComponent,\r\n  PaginationControlElementComponent,\r\n  ActionsControlElementComponent,\r\n  DmTemplateListViewComponent,\r\n  DmTemplateCardLinkComponent,\r\n  LineControlComponent,\r\n  CircleControlComponent,\r\n  SquareControlComponent,\r\n  RectangleControlComponent,\r\n  DmTemplateGalleryLinkComponent,\r\n  DmTemplateImageCarouselComponent,\r\n  DmTemplateDynamicComponent,\r\n  LoaderBarsComponent,\r\n  DynamicControlComponent,\r\n  IframeUrlControlComponent,\r\n  EmbeddedCodeControlComponent,\r\n  EmptyListControlElementComponent,\r\n  MyCasesControlComponent,\r\n  MyCasesControlCardComponent,\r\n  MyCasesControlGridComponent\r\n];\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    AgmCoreModule.forRoot(\r\n      {\r\n        apiKey: 'AIzaSyCTWwdIHKlgV7WhfFzHRn9j3lbVowjExxU',\r\n        libraries: ['places']\r\n      }\r\n    ),\r\n    AgmSnazzyInfoWindowModule,\r\n    Ng2HighchartsModule,\r\n    MomentModule,\r\n    BzgCheckboxModule,\r\n    BzgTableModule,\r\n    BzgIconModule,\r\n    BzgButtonModule,\r\n    BzgSearchModule,\r\n    BzgSelectModule,\r\n    BzgTooltipModule,\r\n    BzgAutocompleteModule,\r\n    BzgLoadingModule,\r\n    BzgPaginatorModule,\r\n    BzgCardListModule,\r\n    BzgMenuModule\r\n  ],\r\n  declarations: [\r\n    controlList,\r\n    SafeUrlPipe,\r\n    SafeHtmlPipe,\r\n    RunScriptsDirective,\r\n    ObjectListPipe\r\n  ],\r\n  exports: controlList,\r\n  entryComponents: controlList,\r\n  providers: [\r\n    BizagiDataService\r\n  ]\r\n})\r\nexport class ControlsModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { RestApiSevice } from '../oauth/rest-api.service';\r\nimport { Observable } from 'rxjs';\r\nimport { TranslateLoader } from '@ngx-translate/core';\r\n\r\n@Injectable()\r\nexport class TranslationService implements TranslateLoader {\r\n  constructor(private _httpClient: RestApiSevice) {\r\n  }\r\n\r\n  getTranslation(lang: string): Observable<any> {\r\n    return this._httpClient.get('api/sites/getLanguageFile/' + lang + '.json')\r\n    .map((response: JSON) => {\r\n    return response;\r\n    });\r\n    }   \r\n}\r\n","import { QuotesStringFontPipe } from './pipes/quotes-string-font.pipe';\r\nimport {FocusDirective} from 'app/editor/directives/focus.directive';\r\nimport {CUSTOM_ELEMENTS_SCHEMA, NgModule, NO_ERRORS_SCHEMA} from '@angular/core';\r\nimport {LoaderBarsComponent} from './components/loader-bars/loader-bars.component';\r\nimport {MessageComponent} from './components/message/message.component';\r\nimport {ModalComponent} from './components/modal/modal.component';\r\nimport {NotFoundComponent} from './components/not-found/not-found.component';\r\nimport {ValidationComponent} from './components/validation/validation.component';\r\nimport {FilterListPipe} from './pipes/filter-list.pipe';\r\nimport {MapValuesPipe} from './pipes/map-values.pipe';\r\nimport {RestApiSevice} from 'app/common/services/oauth/rest-api.service';\r\nimport {BizagiOAuthManager} from 'app/common/services/oauth/bizagi-oauth-manager';\r\nimport {ControlsService} from 'app/common/services/sites/controls.service';\r\nimport {FileService} from 'app/common/services/sites/file.service';\r\nimport {ThemeService} from 'app/common/services/sites/theme.service';\r\nimport {CommonModule} from '@angular/common';\r\nimport {LoginComponent} from 'app/common/components/login/login.component';\r\nimport {ProtectedRouteActivator, PublicRouteActivator} from 'app/common/services/oauth/login.service';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\nimport {RouterModule} from '@angular/router';\r\nimport {ControlsModule} from 'app/common/controls/controls.module';\r\nimport {NotificationService} from 'app/common/services/bizagi/notification.service';\r\nimport {RouteActivatorRender} from 'app/common/services/oauth/route-activator-render';\r\nimport {BzFooterComponent} from 'app/common/components/footer/app.footer.component';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {FilterFieldTypePipe} from 'app/common/pipes/filter-field-type.pipe';\r\nimport {FlipperComponent} from './components/flipper/flipper.component';\r\nimport {PageRenderingService} from 'app/common/services/sites/page-rendering.service';\r\nimport {BrowserModule} from '@angular/platform-browser';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {TranslateLoader, TranslateModule, TranslateService} from '@ngx-translate/core';\r\nimport {TranslateHttpLoader} from '@ngx-translate/http-loader';\r\nimport {Icon16Component, Icon32Component} from 'app/common/components/icons/icons.component';\r\nimport {FilterContextName} from 'app/common/pipes/filter-context.pipe';\r\nimport {WizardStepWrapperComponent} from 'app/common/components/wizard/step-wizard/step-wizard-wrapper';\r\nimport {WizardComponent} from 'app/common/components/wizard/wizard.component';\r\nimport {UnauthorizedComponent} from 'app/common/components/unauthorized/unauthorized.component';\r\nimport {ModalWebPartsComponent} from './components/modal-webparts/modal-webparts.component';\r\nimport {UserService} from 'app/common/services/sites/user.service';\r\nimport {UserPreferencesComponent} from 'app/common/components/user-preferences/user-preferences.component';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport {GridService} from './services/sites/grid.service';\r\nimport {TranslateMultiLangPipe} from './pipes/translate-multilang.pipe';\r\nimport {\r\n  BzgButtonModule,\r\n  BzgCheckboxModule,\r\n  BzgIconModule,\r\n  BzgInputModule,\r\n  BzgModalModule,\r\n  BzgSelectModule,\r\n  BzgSwitchModule,\r\n  BzgTableModule,\r\n  BzgSearchModule,\r\n  BzgMenuModule,\r\n  BzgTooltipModule,\r\n  PaginatorLabelsService, BzgRadioModule\r\n} from 'bz-genome-angular';\r\nimport {StaticsComponent} from './components/statics/statics.component';\r\nimport {SessionDialogModalComponent} from './components/session-dialog-modal/session-dialog-modal.component';\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport { SelectOrganizationModalComponent } from 'app/render/bizagi-forms/select-organization-modal/select-organization-modal.component';\r\nimport { TranslationService } from './services/sites/translation.service';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    BrowserAnimationsModule,\r\n    AgmCoreModule.forRoot(\r\n      {\r\n        apiKey: 'AIzaSyCTWwdIHKlgV7WhfFzHRn9j3lbVowjExxU',\r\n        libraries: ['places']\r\n      }\r\n    ),\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useClass: TranslationService,\r\n        deps: [HttpClient]\r\n      }\r\n    }),    \r\n    BzgRadioModule,\r\n    RouterModule,\r\n    ControlsModule,\r\n    BrowserModule,\r\n    MatSelectModule,\r\n    BzgInputModule,\r\n    BzgIconModule,\r\n    BzgButtonModule,\r\n    BzgSelectModule,\r\n    BzgModalModule,\r\n    BzgCheckboxModule,\r\n    BzgSwitchModule,\r\n    BzgTableModule,\r\n    BzgSearchModule,\r\n    BzgIconModule,\r\n    BzgMenuModule,\r\n    BzgTooltipModule\r\n  ],\r\n  exports: [\r\n    AgmCoreModule,\r\n    CommonModule,\r\n    TranslateModule,\r\n    LoaderBarsComponent,\r\n    MessageComponent,\r\n    ModalComponent,\r\n    ModalWebPartsComponent,\r\n    NotFoundComponent,\r\n    UnauthorizedComponent,\r\n    MapValuesPipe,\r\n    TranslateMultiLangPipe,\r\n    LoginComponent,\r\n    FormsModule,\r\n    BrowserAnimationsModule,\r\n    RouterModule,\r\n    ReactiveFormsModule,\r\n    ControlsModule,\r\n    FocusDirective,\r\n    Icon16Component,\r\n    Icon32Component,\r\n    FilterContextName,\r\n    QuotesStringFontPipe,\r\n    FilterListPipe,\r\n    FilterFieldTypePipe,\r\n    WizardComponent,\r\n    WizardStepWrapperComponent,\r\n    UserPreferencesComponent,\r\n    DragDropModule,\r\n    MatSelectModule,\r\n    BzgInputModule,\r\n    StaticsComponent,\r\n    BzgButtonModule,\r\n    BzgSelectModule,\r\n    BzgModalModule,\r\n    BzgCheckboxModule,\r\n    BzgSwitchModule,\r\n    BzgTableModule,\r\n    BzgSearchModule,\r\n    BzgIconModule,\r\n    BzgMenuModule,\r\n    BzgTooltipModule,\r\n    SessionDialogModalComponent,\r\n    SelectOrganizationModalComponent,\r\n    BzgRadioModule\r\n  ],\r\n  declarations: [\r\n    LoaderBarsComponent,\r\n    MessageComponent,\r\n    ModalComponent,\r\n    ModalWebPartsComponent,\r\n    NotFoundComponent,\r\n    UnauthorizedComponent,\r\n    ValidationComponent,\r\n    FilterListPipe,\r\n    FilterFieldTypePipe,\r\n    FilterContextName,\r\n    QuotesStringFontPipe,\r\n    MapValuesPipe,\r\n    TranslateMultiLangPipe,\r\n    LoginComponent,\r\n    BzFooterComponent,\r\n    FlipperComponent,\r\n    FocusDirective,\r\n    Icon16Component,\r\n    Icon32Component,\r\n    WizardComponent,\r\n    WizardStepWrapperComponent,\r\n    UserPreferencesComponent,\r\n    StaticsComponent,\r\n    SessionDialogModalComponent,\r\n    SelectOrganizationModalComponent\r\n  ],\r\n  providers: [\r\n    NotificationService,\r\n    RestApiSevice,\r\n    ControlsService,\r\n    FileService,\r\n    ThemeService,\r\n    PublicRouteActivator,\r\n    ProtectedRouteActivator,\r\n    PageRenderingService,\r\n    RouteActivatorRender,\r\n    UserService,\r\n    GridService,\r\n    BizagiOAuthManager\r\n  ],\r\n  entryComponents: [SelectOrganizationModalComponent],\r\n  schemas: [NO_ERRORS_SCHEMA,\r\n    CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class BSRenderCommonModule { }\r\n","import {Actions, Effect, ofType} from '@ngrx/effects';\r\nimport {Injectable} from '@angular/core';\r\nimport {switchMap} from 'rxjs/operators';\r\nimport {LoadSite, LoadSiteSuccess, siteActions} from './site.actions';\r\nimport {Store} from '@ngrx/store';\r\nimport {PublishedSiteService} from '../../services/published-site.service';\r\nimport {Observable} from 'rxjs';\r\n\r\n@Injectable()\r\nexport class SiteEffects {\r\n  constructor(\r\n    private actions$: Actions,\r\n    private _publishedSiteServices: PublishedSiteService,\r\n    private _store: Store<IRenderState>,\r\n  ) {\r\n  }\r\n\r\n\r\n  @Effect()\r\n  loadSite$ = this.actions$.pipe(\r\n    ofType(siteActions.LOAD_SITE),\r\n    switchMap(async (action: LoadSite) => {\r\n      return new LoadSiteSuccess(await this._publishedSiteServices.getSite(action.payload));\r\n    }),\r\n\r\n  );\r\n\r\n}\r\n","import {Actions, Effect, ofType} from '@ngrx/effects';\r\nimport {Injectable} from '@angular/core';\r\nimport {switchMap} from 'rxjs/operators';\r\nimport {LoadPage, LoadPageSuccess, pageActions} from './page.actions';\r\nimport {Store} from '@ngrx/store';\r\nimport {Router} from '@angular/router';\r\nimport {PublishedSiteService} from '../../services/published-site.service';\r\nimport {Observable} from 'rxjs';\r\n\r\n@Injectable()\r\nexport class PageEffects {\r\n  constructor(private actions$: Actions,\r\n              private _publishedSiteServices: PublishedSiteService,\r\n              private _store: Store<IRenderState>, private _router: Router\r\n  ) {\r\n  }\r\n\r\n\r\n  @Effect()\r\n  loadPage = this.actions$.pipe(ofType(pageActions.LOAD_PAGE),\r\n    switchMap(async (action: LoadPage) => {\r\n      return new LoadPageSuccess(await this._publishedSiteServices.getPage(action.payload.siteName, action.payload.pageName));\r\n    }),\r\n  );\r\n\r\n}\r\n","import {Actions, Effect, ofType} from '@ngrx/effects';\r\nimport {Injectable} from '@angular/core';\r\nimport {switchMap} from 'rxjs/operators';\r\nimport {Store} from '@ngrx/store';\r\nimport {Router} from '@angular/router';\r\nimport {PublishedSiteService} from '../../services/published-site.service';\r\nimport {LoadPages, LoadPagesSuccess, pagesActions} from './pages.actions';\r\n\r\n@Injectable()\r\nexport class PagesEffects {\r\n  constructor(private actions$: Actions,\r\n              private _publishedSiteServices: PublishedSiteService,\r\n              private _store: Store<IRenderState>, private _router: Router\r\n  ) {\r\n  }\r\n\r\n\r\n  @Effect()\r\n  loadPages = this.actions$.pipe(ofType(pagesActions.LOAD_PAGES),\r\n    switchMap(async (action: LoadPages) => {\r\n      return new LoadPagesSuccess(await this._publishedSiteServices.getPages(action.payload));\r\n    }),\r\n  );\r\n\r\n}\r\n","import { UpdateLoading } from './../loading/loading.actions';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Injectable } from '@angular/core';\r\nimport { UserService } from '../../../common/services/sites/user.service';\r\nimport { LoadUser, LoadUserSuccess, UpdateUser, UpdateUserSuccess, userActions } from './user.actions';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { Store } from '@ngrx/store';\r\n\r\n@Injectable()\r\nexport class UserEffects {\r\n  constructor(private actions$: Actions,\r\n              private _store: Store<IRenderState>,\r\n              private _userService: UserService,\r\n  ) {\r\n  }\r\n\r\n  @Effect()\r\n  loadUser = this.actions$.pipe(ofType(userActions.LOAD_USER),\r\n    switchMap(async (action: LoadUser) => {\r\n      this._store.dispatch(new UpdateLoading({ loadingUser: true }));\r\n      const siteUser = await this._userService.getUserByUsername(action.payload);\r\n      return new LoadUserSuccess(siteUser);\r\n    }),\r\n  );\r\n\r\n  @Effect()\r\n  updateUser = this.actions$.pipe(ofType(userActions.UPDATE_USER),\r\n    switchMap(async (action: UpdateUser) => {\r\n      return new UpdateUserSuccess(await this._userService.createOrUpdateUserPreferences(action.payload));\r\n    }),\r\n  );\r\n}\r\n","import { from as observableFrom, Observable, of, Subject, Subscription } from 'rxjs';\r\n\r\nimport { map } from 'rxjs/operators';\r\nimport { Injectable } from '@angular/core';\r\nimport { RestApiSevice } from 'app/common/services/oauth/rest-api.service';\r\nimport * as moment from 'moment';\r\nimport { Global } from 'app/common/misc/global';\r\nimport { UserService } from 'app/common/services/sites/user.service';\r\nimport { OAuthClientHelper } from 'app/common/services/oauth/oauth-client.helper';\r\n\r\n@Injectable()\r\nexport class InternalResourcesService {\r\n\r\n    private _endpoints =\r\n        {\r\n            laguages: 'api/sites/availableLanguages',\r\n            internalResources: 'api/sites/availableLanguagesResources',\r\n            internalResourcesDescription: 'assets/mockups/render-resources.json',\r\n            languageResources: 'api/sites/languagesResources/'\r\n        };\r\n\r\n\r\n    constructor(protected _restApiService: RestApiSevice,\r\n        private _userService: UserService,\r\n        private _oAuthClientHelper: OAuthClientHelper) {\r\n       \r\n    }\r\n\r\n   \r\n    ngOnDestroy() {\r\n    }\r\n\r\n    \r\n    public getAvailableLanguages() {\r\n        return this._restApiService.get({ url: this._endpoints.laguages });\r\n    }\r\n\r\n    public getLanguageInternalResources() {\r\n        return this._restApiService.get({ url: this._endpoints.internalResources });\r\n    }\r\n\r\n    public getFormatOptionsResourcesDescription() {\r\n        return this._restApiService.get({ url: this._endpoints.internalResourcesDescription });\r\n    }\r\n\r\n   public setNewResources(data): Promise<any> {\r\n    return this._restApiService.post({\r\n      url: this._endpoints.languageResources,\r\n      body: data\r\n    }).toPromise();\r\n  }\r\n\r\n\r\n}\r\n","import { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Injectable } from '@angular/core';\r\nimport { map, switchMap, withLatestFrom } from 'rxjs/operators';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { PublishedSiteService } from '../../services/published-site.service';\r\nimport {\r\n  LoadCurrentLanguageSuccess,\r\n  LoadSiteResourcesByName,\r\n  LoadSiteResourcesSuccess,\r\n  multilanguageActions,\r\n  UpdateCurrentLanguage,\r\n  UpdateCurrentLanguageSuccess,\r\n  UpdateLastBPMLanguage,\r\n  UpdateLastBPMLanguageSuccess\r\n} from './multilanguage.actions';\r\nimport { getCurrentSite } from '../site/site.selector';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { getSiteUser } from '../user/user.selector';\r\nimport { LoadUserSuccess } from '../user/user.actions';\r\nimport { UserService } from '../../../common/services/sites/user.service';\r\nimport { OAuthClientHelper } from '../../../common/services/oauth/oauth-client.helper';\r\nimport { CultureSettingsService } from 'app/common/services/sites/culture-settings.service';\r\nimport * as moment from 'moment';\r\nimport { UpdateLoading } from '../loading/loading.actions';\r\nimport { getResourcesByName } from './multilanguage.selector';\r\nimport { InternalResourcesService } from 'app/common/services/sites/internal-resources.service';\r\nimport { BizagiDataService } from 'app/render/services/bizagi-data.service';\r\n\r\n@Injectable()\r\nexport class MultilanguageEffect {\r\n  constructor(\r\n    private actions$: Actions,\r\n    private _publishedSiteService: PublishedSiteService,\r\n    private _publishedSiteServices: PublishedSiteService,\r\n    private _userService: UserService,\r\n    private _oAuthClientHelper: OAuthClientHelper,\r\n    private _translateService: TranslateService,\r\n    private _store: Store<IRenderState>,\r\n    private _cultureSettingsService: CultureSettingsService,\r\n    private _internalLanguageResources: InternalResourcesService,\r\n    private _bizagiDataService: BizagiDataService\r\n  ) {\r\n  }\r\n\r\n  @Effect()\r\n  loadCurrentLanguage$ = this.actions$.pipe(\r\n    ofType(multilanguageActions.LOAD_CURRENT_LANGUAGE),\r\n    withLatestFrom(this._store.pipe(select(getCurrentSite))),\r\n    switchMap(async ([action, site]) => {\r\n      let language:ILanguageResource;\r\n      let siteUser;\r\n      try {\r\n        const username = await this._oAuthClientHelper.getUsername();\r\n        if (username) {\r\n          siteUser = await this._userService.getUserByUsername(username);\r\n          this._store.dispatch(new LoadUserSuccess(siteUser));\r\n        }\r\n      } catch (error) {\r\n      }\r\n      const resources = await this._publishedSiteServices.getResources(site.id);\r\n      this._store.dispatch(new LoadSiteResourcesSuccess(resources));\r\n      const availableLanguages = await  this.setResourcesByName();\r\n      this._store.dispatch(new LoadSiteResourcesByName(availableLanguages));\r\n      const browserLang = this._translateService.getBrowserLang();\r\n      let lang;\r\n      if (siteUser && siteUser.preferences && siteUser.preferences.defaultLanguage) {\r\n        const userLanguage = siteUser.preferences.defaultLanguage;\r\n        const userResource = resources.find(c => c.language.name === userLanguage.substring(0, 2));\r\n        if (userResource) {\r\n          if (resources.length >= 2) {\r\n            lang = userResource.language.name;\r\n          } else {\r\n            lang = browserLang.substring(0, 2);\r\n          }\r\n          language = await this._publishedSiteServices.getResource(userResource.id);\r\n          this.setMomentLang(lang);\r\n          if (_.has(availableLanguages, language.name.toLocaleLowerCase())) {\r\n            lang = language.name.toLocaleLowerCase();\r\n          }\r\n          this._translateService.use(lang);\r\n          this.setUserPreferences(siteUser, language);\r\n          return new LoadCurrentLanguageSuccess(language);\r\n        }\r\n      }\r\n      const browserResource = resources.find(c => c.language.name === browserLang.substring(0, 2));\r\n      const languageId = localStorage.getItem(site.id + 'languageId')? localStorage.getItem(site.id + 'languageId') :browserResource?.id;\r\n      language = languageId ? await this._publishedSiteServices.getResource(languageId) :\r\n        await this._publishedSiteServices.getResource(site.globalSettings.defaultResource);\r\n      if (resources.length >= 2) {\r\n        lang = language.language.name;\r\n      } else {\r\n        lang = browserLang.substring(0, 2)\r\n      }\r\n      this.setMomentLang(lang);\r\n      if (_.has(availableLanguages, language.name.toLocaleLowerCase())) {\r\n        lang = language.name.toLocaleLowerCase();\r\n      }\r\n      this._translateService.use(lang);\r\n      this.setUserPreferences(siteUser, language);\r\n      return new LoadCurrentLanguageSuccess(language);\r\n    }),\r\n\r\n  );\r\n\r\n  @Effect()\r\n  updateCurrentLanguage$ = this.actions$.pipe(\r\n    ofType(multilanguageActions.UPDATE_CURRENT_LANGUAGE),\r\n    withLatestFrom(this._store.pipe(select(getSiteUser))),\r\n    withLatestFrom(this._store.pipe(select(getResourcesByName))),\r\n    switchMap(async ([[action, siteUser], resourcesByName]) => {\r\n      const resourceId = (action as UpdateCurrentLanguage).payload;\r\n      const currentResource = await this._publishedSiteService.getResource(resourceId);\r\n      let lang;\r\n      if (siteUser) {\r\n        await this._userService.updateLanguagePreference(siteUser.username, currentResource.name);\r\n        const sitePreferences = { ...siteUser.preferences, defaultLanguage: currentResource.name };\r\n        siteUser.preferences = sitePreferences;\r\n        this._store.dispatch(new UpdateLoading({ loadingUser: false }));\r\n        this._store.dispatch(new LoadUserSuccess(siteUser));\r\n        await this._bizagiDataService.getBizagiUser()\r\n      }\r\n      lang = currentResource.language.name;\r\n      this.setMomentLang(lang);\r\n      if (_.has(resourcesByName, currentResource.name.toLocaleLowerCase())) {\r\n        lang = currentResource.name.toLocaleLowerCase();\r\n      }\r\n      this._translateService.use(lang);\r\n      return new UpdateCurrentLanguageSuccess(currentResource);\r\n    }),\r\n\r\n  );\r\n\r\n  @Effect()\r\n  updateLastBPMLanguage$ = this.actions$.pipe(\r\n    ofType(multilanguageActions.UPDATE_LAST_BPM_LANGUAGE),\r\n    map(action => {\r\n      this._store.dispatch(new UpdateLoading({ loadingChangeBPMLanguage: false }));\r\n      return new UpdateLastBPMLanguageSuccess((action as UpdateLastBPMLanguage).payload);\r\n    }),\r\n\r\n  );\r\n\r\n  private setMomentLang(lang){\r\n    switch (lang) {\r\n      case 'zh':\r\n        moment.locale('zh_cn');\r\n        break;\r\n\r\n      default:\r\n        moment.locale(lang);\r\n        break;\r\n    }\r\n  }\r\n\r\n  private async setUserPreferences(siteUser, language:ILanguageResource){\r\n    if (siteUser && language) {\r\n      siteUser.preferences = await this._cultureSettingsService.getFixedPreferences(siteUser.preferences, language);\r\n      await this._userService.createOrUpdateUserPreferences(siteUser);\r\n    }\r\n  }\r\n\r\n  private async setResourcesByName() {\r\n    const response = await this._internalLanguageResources.getAvailableLanguages().toPromise();\r\n    const dictionay = {};\r\n    _.forEach(response, resource => {\r\n      if (!_.has(dictionay, resource.DisplayName.toLocaleLowerCase())) {\r\n        dictionay[resource.DisplayName.toLocaleLowerCase()] = resource;\r\n      }\r\n    });\r\n    return dictionay;\r\n  }\r\n}\r\n","import { PaginatorLabelsService } from 'bz-genome-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { select } from '@ngrx/store';\r\nimport { getSiteLanguage } from 'app/render/store/multilanguage/multilanguage.selector';\r\nimport { getCurrentSiteLanguage } from 'app/editor/site-editor/store/multilanguage/multilanguage.selector';\r\nimport { Global } from 'app/common/misc/global';\r\n\r\nexport class CustomPaginatorLabels extends PaginatorLabelsService {\r\n    itemsPerPageOf = 'of';\r\n    constructor(private store, private _translateService: TranslateService) {\r\n        super();\r\n        if (Global.isOnRenderMode()) {\r\n            this.store?.pipe(select(getSiteLanguage)).subscribe((lang) => {\r\n                this.handleServiceTranslate();\r\n            });\r\n        } else {\r\n            this.store?.pipe(select(getCurrentSiteLanguage)).subscribe((lang) => {\r\n                this.handleServiceTranslate();\r\n            });\r\n        }\r\n    }\r\n\r\n    /** Label for the range of items */\r\n    getRangeLabel = (page: number, pageSize: number, length: number) => {\r\n        if (length === 0 || pageSize === 0) { return `0 ${this.itemsPerPageOf.toLowerCase()} ${length}`; }\r\n\r\n        const startIndex = page * pageSize;\r\n        const endIndex = startIndex < length ? Math.min(startIndex + pageSize, length) : startIndex + pageSize;\r\n\r\n        return `${startIndex + 1} - ${endIndex} ${this.itemsPerPageOf.toLowerCase()} ${length}`;\r\n    }\r\n\r\n    handleServiceTranslate() {\r\n        this._translateService.get('sitemanager.global.ITEMS_PER_PAGE').subscribe((msg) => {\r\n            this.pageSizeSelectorLabel = msg;\r\n        });\r\n        this._translateService.get('sitemanager.global.ITEMS_PER_PAGE_OF').subscribe((msg) => {\r\n            this.itemsPerPageOf = msg;\r\n        });\r\n    }\r\n}","import { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Injectable } from '@angular/core';\r\nimport { UserService } from '../../../common/services/sites/user.service';\r\nimport { Store } from '@ngrx/store';\r\n\r\n@Injectable()\r\nexport class SessionEffects {\r\n  constructor(private actions$: Actions,\r\n              private _store: Store<IRenderState>,\r\n              private _userService: UserService,\r\n  ) {\r\n  }\r\n\r\n  /* @Effect()\r\n  loadUser = this.actions$.pipe(ofType(userActions.LOAD_USER),\r\n    switchMap(async (action: LoadUser) => {\r\n      return new LoadUserSuccess(await this._userService.getUserByUsername(action.payload));\r\n    }),\r\n  ); */\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RenderComponent} from './render.component';\r\nimport {BizagiDataService} from 'app/render/services/bizagi-data.service';\r\nimport {PublishedSiteService} from 'app/render/services/published-site.service';\r\nimport {PageRenderComponent} from './page-render/page-render.component';\r\nimport {GridRenderComponent} from './page-render/grid-render/grid-render.component';\r\nimport {GridCellRenderComponent} from 'app/render/page-render/grid-render/grid-cell-render.component';\r\nimport {RenderRoutingModule} from 'app/render/render-routing.module';\r\nimport {BizagiFormsComponent} from './bizagi-forms/bizagi-forms.component';\r\nimport {SiteRenderComponent} from 'app/render/site-render.component';\r\nimport {OAuthClientHelper} from 'app/common/services/oauth/oauth-client.helper';\r\nimport {HashLocationStrategy, LocationStrategy} from '@angular/common';\r\nimport {SiteListRenderComponent} from './site-list-render/site-list-render.component';\r\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\r\nimport {CultureSettingsService} from '../common/services/sites/culture-settings.service';\r\nimport {NgProgressHttpModule} from '@ngx-progressbar/http';\r\nimport {NgProgressModule} from '@ngx-progressbar/core';\r\nimport {UserPreferencesRenderComponent} from './user-preferences-render/user-preferences-render.component';\r\nimport {UserPreferencesRenderModalComponent} from './user-preferences-render/user-preferences-render-modal/user-preferences-render-modal.component'\r\nimport {StoreModule, Store} from '@ngrx/store';\r\nimport {StoreDevtoolsModule} from '@ngrx/store-devtools';\r\nimport {BreadcrumbRenderComponent} from './breadcrumb-render/breadcrumb-render.component';\r\nimport {LanguagesMenuRenderComponent} from './languages-menu-render/languages-menu-render.component';\r\nimport {INITIAL_STATE_STORE, ROOT_REDUCER} from './store/reducer';\r\nimport {RestApiRenderInterceptorService} from './services/rest-api-render-interceptor.service';\r\nimport {BSRenderCommonModule} from '../common/render.common.module';\r\nimport {FontsServiceCommon} from 'app/common/services/sites/fonts.service';\r\nimport {TranslationService} from 'app/common/services/sites/translation.service';\r\nimport {EffectsModule} from '@ngrx/effects';\r\nimport {SiteEffects} from './store/site/site.effect';\r\nimport {PageEffects} from './store/page/page.effect';\r\nimport {PagesEffects} from './store/pages/pages.effect';\r\nimport {StateSnapshotService} from '../common/services/sites/state-snapshots.service';\r\nimport { BzgLoadingModule, BzgTabsModule, PaginatorLabelsService } from 'bz-genome-angular';\r\nimport {UserEffects} from './store/user/user.effect';\r\nimport {MultilanguageEffect} from './store/multilanguage/multilanguage.effect';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CustomPaginatorLabels } from 'app/common/services/genome/custom-paginator-labels';\r\nimport {SessionEffects} from './store/session/session.effect';\r\nimport { SessionHandlerService } from 'app/common/services/oauth/session-handler.service';\r\nimport {InternalResourcesService} from'../common/services/sites/internal-resources.service';\r\nimport { environment } from 'environments/environment';\r\n@NgModule({\r\n  imports: [\r\n    BSRenderCommonModule,\r\n    RenderRoutingModule,\r\n    HttpClientModule,\r\n    BzgTabsModule,\r\n    BzgLoadingModule,\r\n    EffectsModule.forRoot([SiteEffects, PageEffects, PagesEffects, UserEffects, MultilanguageEffect, SessionEffects]),\r\n    StoreModule.forRoot(ROOT_REDUCER, {\r\n      initialState: INITIAL_STATE_STORE,\r\n    }),\r\n    !environment.production ? StoreDevtoolsModule.instrument({\r\n      maxAge: 5\r\n    }) : [],\r\n    NgProgressModule,\r\n    NgProgressHttpModule\r\n  ],\r\n  declarations: [\r\n    RenderComponent,\r\n    PageRenderComponent,\r\n    GridRenderComponent,\r\n    GridCellRenderComponent,\r\n    SiteRenderComponent,\r\n    BizagiFormsComponent,\r\n    SiteListRenderComponent,\r\n    UserPreferencesRenderComponent,\r\n    UserPreferencesRenderModalComponent,\r\n    BreadcrumbRenderComponent,\r\n    LanguagesMenuRenderComponent,\r\n  ],\r\n  providers: [\r\n    BizagiDataService,\r\n    StateSnapshotService,\r\n    PublishedSiteService,\r\n    CultureSettingsService,\r\n    InternalResourcesService,\r\n    OAuthClientHelper,\r\n    { provide: LocationStrategy, useClass: HashLocationStrategy },\r\n    { provide: HTTP_INTERCEPTORS, useClass: RestApiRenderInterceptorService, multi: true },\r\n    FontsServiceCommon,\r\n    TranslationService,\r\n    {\r\n      provide: PaginatorLabelsService, useFactory: (translateService: TranslateService, store: Store<IRenderState>) => {\r\n        return new CustomPaginatorLabels(store, translateService)\r\n      }, deps: [TranslateService, Store]\r\n    },\r\n    SessionHandlerService\r\n  ],\r\n  bootstrap: [RenderComponent],\r\n})\r\nexport class RenderModule {\r\n  constructor() {}\r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { environment } from './environments/environment';\r\nimport {RenderModule} from 'app/render/render.module';\r\n\r\nimport '@angular/compiler'\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n  if(window){\r\n    window.console.log=function(){};\r\n  }\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(RenderModule).catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}